/* This file has been generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2015 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <math.h>
#include <defs.h>

#include <stdarg.h>


//-------------------------------------------------------------------------
// Function declarations

#define __thiscall __cdecl // Test compile in C mode

int __cdecl sub_10001000(double, double); // idb
int __cdecl sub_10001050(int a1);
char __cdecl sub_10001090(int a1);
char sub_10001130();
int __cdecl sub_10001150(char *, int); // idb
int (__cdecl *__cdecl sub_10001230(int a1, int a2, int a3, _BYTE *a4))(int, int, int, _BYTE *);
unsigned __int8 __cdecl sub_10001250(char *a1, int a2, int a3);
int __cdecl sub_10001370(char *); // idb
int __cdecl sub_100013D0(int, int, double, int, int, int); // idb
int __cdecl sub_10001510(char *, int, int, int); // idb
char __cdecl sub_10001610(char *a1, int a2, int a3);
char sub_10001660();
char sub_10001680();
char __cdecl sub_100016B0(int a1, int a2, double a3, int a4, int a5, int a6);
char sub_10001730();
char __cdecl sub_10001750(int a1, int a2, double a3, int a4, int a5, int a6);
char __thiscall sub_10001790(_WORD *this);
int __fastcall sub_100019E0(unsigned __int8 a1);
char __cdecl sub_10001A00(char a1, int a2, int a3, double a4, int a5, int a6);
signed int __cdecl sub_10001E10(unsigned __int8 a1, _BYTE *a2, int a3, int a4);
char sub_10001EB0();
int sub_10001EF0(); // weak
int sub_10001F00(); // weak
signed int sub_10001F20();
void sub_10002080();
char __cdecl sub_100027E0(int a1, unsigned __int8 a2);
int __cdecl sub_100028B0(int a1);
void sub_100028E0();
char __cdecl sub_10002AC0(void *a1);
int (__cdecl *__cdecl sub_10002B30(_WORD *a1, _DWORD *a2))(_DWORD, _DWORD);
char sub_10002B70();
char sub_10002B90();
bool sub_10002BC0();
int sub_10002BD0();
void *sub_10002C10();
int __cdecl sub_10002C20(const char *a1);
int __cdecl sub_10002C40(const char *a1);
char *__cdecl sub_10002C60(int a1, char *a2);
signed int __cdecl sub_10002D40(unsigned int a1);
int __cdecl sub_10002D80(int a1);
_DWORD __cdecl sub_10002DA0(_DWORD, void *, _DWORD); // weak
signed int __cdecl sub_10002DB0(unsigned int a1, void *a2, int a3, int a4);
signed int __cdecl sub_10002DD0(unsigned int a1, int a2, char a3);
int __cdecl sub_10002E10(int a1, int a2, int a3);
signed __int64 __thiscall sub_10002E80(void *this);
int sub_10002E90();
int __thiscall sub_10002EC0(void *this);
int sub_10002EF0(void); // weak
char __cdecl sub_10002F00(char a1);
char sub_10002F20();
int __cdecl sub_10002F30(unsigned int a1, unsigned int *a2);
int *__cdecl sub_10002F50(unsigned int a1, unsigned int *a2);
void *__cdecl sub_10002F70(void *a1, unsigned int a2, unsigned int *a3);
int sub_10002F90();
signed int __cdecl sub_10002FC0(int a1, int a2, int a3);
// int __usercall sub_10003000@<eax>(int a1@<eax>, const char *a2@<edi>, int a3@<esi>, _BYTE *a4);
int __cdecl sub_10003020(const char *a1, int a2, _BYTE *a3, void *a4);
signed int __cdecl sub_10003080(int a1);
signed int sub_100032B0();
_DWORD __cdecl sub_10003420(_DWORD); // weak
unsigned int __cdecl sub_10003430(int a1);
_DWORD __cdecl sub_10003450(_DWORD, _DWORD, _DWORD); // weak
_DWORD *__cdecl sub_10003460(_DWORD *a1, _DWORD *a2);
int __cdecl sub_10003480(int a1, unsigned int a2);
int sub_100034A0(); // weak
int sub_100034C0(); // weak
unsigned int __cdecl sub_100034E0(int a1, unsigned __int16 a2, size_t a3, int a4);
int __cdecl sub_10003500(int a1);
// int __usercall sub_10003510@<eax>(__int16 a1@<di>, int a2@<esi>);
// int __usercall sub_10003570@<eax>(int a1@<eax>, int a2@<esi>, float a3, int a4, int a5, int a6, int a7);
char *sub_10003690();
// char __usercall sub_100036D0@<al>(int *a1@<edx>, int *a2, char a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
int __thiscall sub_10003C20(int this);
// void *__usercall sub_10003C50@<eax>(int a1@<eax>);
// char __usercall sub_10003C80@<al>(int a1@<edi>);
// char __usercall sub_10003CD0@<al>(int a1@<esi>);
char __cdecl sub_10003D20(int a1);
char __cdecl sub_10003D40(void *a1, float a2, int a3);
char sub_10003DD0();
char __cdecl sub_10003E90(int a1);
char __cdecl sub_10003F20(int *a1, char a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
char __cdecl sub_10004030(int a1, char *a2, int a3, char a4, int a5);
// char __usercall sub_100042F0@<al>(char *a1@<edx>, char a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
char __cdecl sub_10004610(int a1, char *a2, float a3, int *a4, int a5);
int __cdecl sub_10004DC0(unsigned int a1, _BYTE *a2, unsigned int a3);
signed int __cdecl sub_10004EC0(int a1);
// signed int __usercall sub_10004EE0@<eax>(unsigned int *a1@<eax>, _DWORD *a2, unsigned int a3, int a4, int a5, int a6, int *a7, int a8, unsigned int *a9, unsigned int *a10);
// int (__cdecl *__usercall sub_10005380@<eax>(_DWORD *a1@<eax>, int a2@<esi>, int a3))(_DWORD, _DWORD, _DWORD);
// int __usercall sub_100053D0@<eax>(int result@<eax>, char a2, char a3, int a4, int a5);
signed int __cdecl sub_100053F0(int a1, int a2, int a3, int a4, int a5, int a6);
// int __usercall sub_100057A0@<eax>(int a1@<edi>, int a2@<esi>, int a3);
// signed int __usercall sub_100058E0@<eax>(int a1@<edx>, unsigned int *a2@<esi>, _DWORD *a3, int *a4);
// signed int __usercall sub_10005930@<eax>(unsigned int *a1@<eax>, int *a2@<ecx>, int a3@<ebx>, unsigned int a4@<esi>, unsigned int a5, _DWORD *a6, unsigned int *a7, unsigned int *a8, int *a9);
// int __usercall sub_100059D0@<eax>(_DWORD *a1@<eax>, _DWORD *a2@<edx>, _DWORD *a3@<ecx>, _DWORD *a4);
signed int __cdecl sub_100059F0(int a1, int a2, int a3, int a4);
signed int __cdecl sub_10005AE0(int a1);
// int __usercall sub_10005AF0@<eax>(int a1@<eax>, int a2@<ecx>, int a3);
// int __usercall sub_10006190@<eax>(int a1@<eax>, int a2, int a3);
// signed int __usercall sub_10006B70@<eax>(int a1@<edi>, int a2);
signed int __cdecl sub_10006EA0(int a1, int *a2, int a3, int a4, int a5, int a6, int a7);
signed int __cdecl sub_10006F20(int a1, int a2);
void __fastcall __noreturn sub_10006F40(int a1);
unsigned int __thiscall sub_10006F70(char *this);
// char __usercall sub_10007020@<al>(int a1@<eax>, int a2);
signed int __cdecl sub_10007070(int a1, int a2);
double __thiscall sub_10007290(int this);
char __cdecl sub_10007370(int a1, int a2, float a3, int a4, char a5);
char __cdecl sub_100073E0(int a1);
signed int __cdecl sub_10007450(int a1, char a2, int a3, int a4, int a5, int a6, int a7);
int __cdecl sub_10007590(char *, char, int, int); // idb
char __cdecl sub_10007BD0(char *a1, char a2, int a3);
char __cdecl sub_10008310(int a1);
char __cdecl sub_10008350(int a1, int a2, double a3, int a4, int a5, int a6);
signed int sub_10008450();
char __cdecl sub_10008460(int a1, int a2, double a3, int a4, int a5, int a6);
// int *__usercall sub_10008550@<eax>(int *result@<eax>, char **a2@<edi>);
char __cdecl sub_10008590(int a1, void *a2);
char __thiscall sub_10008780(void *this);
// char __usercall sub_10008810@<al>(int a1@<ecx>, int a2@<edi>, char a3, unsigned __int16 a4, int a5);
// int __usercall sub_100089A0@<eax>(int a1@<ebx>, double a2);
double __cdecl sub_10008AF0(int a1);
char sub_10008B40();
bool __cdecl sub_10008DB0(int a1, _BYTE *a2);
char sub_10008F20();
char sub_100093D0();
int __cdecl sub_10009610(char *, char, int); // idb
unsigned __int8 __cdecl sub_1000A2F0(char *a1, char a2, int a3, int a4);
char sub_1000B1D0();
int __cdecl sub_1000B5F0(char *, int); // idb
bool sub_1000C150();
int __cdecl sub_1000C300(_BYTE *a1, _BYTE *a2, char a3, unsigned __int8 a4, int a5, _BYTE *a6);
bool __thiscall sub_1000CC90(void *this);
// __int16 __usercall sub_1000D020@<ax>(int a1@<edi>, _WORD *a2, int a3);
int __cdecl sub_1000D260(int a1);
__int16 __cdecl sub_1000D2E0(_WORD *a1, int a2);
int __cdecl sub_1000D300(char *, char, int, int); // idb
int __cdecl sub_1000D380(_DWORD *a1);
char __thiscall sub_1000D3C0(void *this);
int __cdecl sub_1000D450(int a1, _DWORD *a2);
char sub_1000D460();
char sub_1000D470();
bool sub_1000D480();
// int __usercall sub_1000D4A0@<eax>(int a1@<eax>, int a2@<esi>, int a3);
// signed int __usercall sub_1000D4F0@<eax>(int a1@<edx>, char *a2@<ecx>, int a3@<ebx>, char a4, char *a5, signed int a6);
// signed int __usercall sub_1000D610@<eax>(char a1@<al>, int a2@<esi>, char *a3, char *a4, char *a5);
// int __usercall sub_1000D700@<eax>(_DWORD *a1@<eax>, _WORD *a2@<ecx>, _DWORD *a3@<esi>, int a4);
char *__thiscall sub_1000D750(char *this);
// signed int __usercall sub_1000D770@<eax>(unsigned int a1@<esi>, int *a2);
// signed int __usercall sub_1000D790@<eax>(const char **a1@<edi>, const char *a2@<esi>, const char **a3);
char sub_1000D7C0();
char *__cdecl sub_1000D880(int a1, char a2);
char *__cdecl sub_1000DBE0(int a1, int a2, int a3, int a4, char a5);
int __cdecl sub_1000DC00(int a1);
int __cdecl sub_1000DCA0(_WORD *a1, _DWORD *a2);
char __cdecl sub_1000DCD0(int a1, char a2, int a3, void *a4);
char sub_1000DD90();
char *__cdecl sub_1000DDF0(char *a1, int a2, int a3, int a4, int a5, float *a6, int a7);
int __cdecl sub_1000DE40(char *a1, char a2, int a3, _BYTE *a4);
bool __cdecl sub_1000DF30(char *a1, char a2, _BYTE *a3);
int __cdecl sub_1000DF90(_BYTE *a1, int a2, int a3, unsigned __int8 a4, int a5, _BYTE *a6);
// int __usercall sub_1000E170@<eax>(int result@<eax>, int a2@<ecx>, int a3, int a4);
// char __usercall sub_1000E1F0@<al>(char *a1@<ecx>, void *a2@<edx>, int a3);
char __cdecl sub_1000E330(int a1);
int __cdecl sub_1000E370(char *, int, int); // idb
char __cdecl sub_1000E420(int a1, char a2, int a3, _BYTE *a4);
char __cdecl sub_1000E4B0(char *a1, int a2, int a3, int a4, int a5, int a6, int a7);
char __cdecl sub_1000E6E0(char *a1, int a2, int a3, int a4, int a5, int a6, int a7);
signed int __cdecl sub_1000E850(_DWORD *a1);
char __thiscall sub_1000E960(void *this);
int sub_1000E9B0();
// int unknown_libname_1(void); weak
// void __cdecl unknown_libname_2(); idb
signed int __cdecl sub_1000E9F0(char *a1, char *a2, int a3);
signed int sub_1000EC80();
char *__cdecl sub_1000EDB0(char *a1, int a2, int a3, signed int *a4);
signed int __cdecl sub_1000EE60(int a1);
signed int sub_1000EF30();
int __cdecl sub_1000EFD0(int, int, float, float, int, int, char); // idb
signed int __cdecl sub_1000F240(int a1, int a2);
signed int __cdecl sub_1000F2F0(int a1, int a2, int *a3);
signed int __cdecl sub_1000F380(int a1, int a2, int a3);
signed int __thiscall sub_1000F630(int this, _DWORD *a2);
int __thiscall sub_1000F810(int this);
_DWORD *__stdcall sub_1000F830(_DWORD *a1, _DWORD *a2, _DWORD *a3);
int __thiscall sub_1000F860(int this, int a2);
double __cdecl sub_1000F900(int a1);
bool __cdecl sub_1000F970(int a1, int a2, int a3, int a4);
int __cdecl sub_1000FAD0(int a1);
int __cdecl sub_1000FBE0(int, double, double, int, int); // idb
int __cdecl sub_10010500(int, double, double, int, int); // idb
int __cdecl sub_10010B20(int a1, int a2, int a3, int a4, int a5);
int __cdecl sub_10011080(int a1, int *a2, double *a3, double *a4, int a5, double *a6, double *a7);
int __cdecl sub_10011180(int a1, signed int a2, int a3);
int __cdecl sub_10011620(int, char *, int, char, int, int, int); // idb
double __thiscall sub_100117A0(int this, float a2, float a3);
double __thiscall sub_10011830(int this, float a2, float a3);
int __cdecl sub_100118E0(char *, int, int); // idb
void __thiscall sub_10011F30(void *this);
void *__thiscall sub_10011F40(void *this, char a2);
int __cdecl sub_10011F80(char *, int); // idb
int sub_10012250();
// int unknown_libname_3(void); weak
// void __usercall sub_10012280(int a1@<eax>);
// signed int __userpurge sub_100122A0@<eax>(int a1@<ecx>, double a2@<st0>, int a3);
int __thiscall sub_10012AD0(void *this, float a2);
signed int __thiscall sub_10012BC0(void *this, int a2);
int __cdecl nullsub_4(_DWORD, _DWORD); // weak
signed int __thiscall sub_10013D70(_DWORD *this, int a2);
signed int __thiscall sub_10015230(_BYTE *this, int a2);
int __thiscall sub_10015340(double *this, int a2);
void __thiscall sub_100154D0(int this);
int __thiscall sub_10015520(int this, int a2, __int16 a3, int a4);
int __thiscall sub_10015540(int this);
_DWORD *__thiscall sub_10015560(int this, _DWORD *a2);
BOOL __thiscall sub_10015570(int this, int a2);
int __thiscall sub_100155A0(_DWORD *this, int a2, void *a3, int a4);
int __thiscall sub_10015600(int this, int a2);
int __thiscall sub_10015640(int this, int a2, int a3, char a4);
int __thiscall sub_10015660(int this);
int __thiscall sub_10015680(int this, int a2);
int __thiscall sub_100156C0(int this);
signed int __thiscall sub_100156E0(int this);
int __thiscall sub_10015710(int this);
signed int __thiscall sub_10015760(int this, int a2);
int __thiscall sub_10015780(int this);
int __thiscall sub_100157E0(int this, int a2);
BOOL __thiscall sub_10015800(int this, int a2);
int __thiscall sub_10015870(_DWORD *this, int a2, void *a3);
_DWORD *__thiscall sub_100158B0(int this, int a2);
int __thiscall sub_10015A40(int this, int a2);
int __thiscall sub_10015A60(int this, int a2);
void __thiscall sub_10015AB0(int this);
int __thiscall sub_10015AD0(int this, int a2);
_DWORD *__thiscall sub_10015B10(int this, int a2);
void *__thiscall sub_10015B60(void *this, char a2);
int __thiscall sub_10015B80(int this, int a2);
int __thiscall sub_10015BD0(int this, int a2);
_DWORD *__thiscall sub_10015C20(_DWORD *this, _DWORD *a2, int a3, int a4);
_DWORD *__cdecl sub_10015C80(_DWORD *a1, int a2, int a3, int a4);
_DWORD *__cdecl sub_10015CC0(_DWORD *a1, int a2, int a3, int a4);
int __cdecl sub_10015D30(int a1, int a2);
int __cdecl sub_10015D80(int a1, int a2);
signed int sub_10015DD0();
int __thiscall sub_10016100(int this, _DWORD *a2, int a3);
void __thiscall sub_10016130(int this, unsigned int a2);
int __thiscall sub_10016180(int this);
signed int __thiscall sub_10016270(int this);
signed int __thiscall sub_10016290(int this);
_DWORD *__thiscall sub_100162B0(_DWORD **this, _DWORD *a2, int a3);
void __cdecl sub_10016330(int a1, int a2, char a3, float a4);
int __cdecl sub_100164C0(int a1, int a2, _BYTE *a3);
int __cdecl sub_10016720(char *, int, int, int); // idb
_DWORD *__cdecl sub_10019980(char *a1);
_DWORD *__cdecl sub_10019B00(char *a1, int a2, int a3, int a4);
int __thiscall sub_1001A0A0(int this);
int __thiscall sub_1001A0D0(int this);
int __thiscall sub_1001A100(int this);
int __thiscall sub_1001A170(int this, int a2);
int __thiscall sub_1001A1B0(int this, const void *a2);
int __thiscall sub_1001A4A0(int this, int a2, _DWORD *a3);
_DWORD *__thiscall sub_1001A640(int this, _DWORD *a2, int *a3);
int __thiscall sub_1001A680(int this);
char __thiscall sub_1001A6B0(int this);
signed int __stdcall sub_1001A6D0(int a1, int a2);
int __thiscall sub_1001A6E0(int this, int a2, int a3);
int sub_1001A710();
char sub_1001A720();
int __stdcall sub_1001A730(int a1, int a2);
void *__thiscall sub_1001A740(void *this, char a2);
int __thiscall sub_1001A760(int this);
void __thiscall sub_1001A7A0(void *this);
int __thiscall sub_1001A7B0(int this);
_DWORD *__thiscall sub_1001A820(_BYTE *this);
signed int sub_1001A8C0();
signed int sub_1001A8D0();
int __thiscall sub_1001A8F0(void *this);
signed int sub_1001A950();
char sub_1001A960();
void *__thiscall sub_1001A970(void *this, char a2);
_DWORD __stdcall nullsub_1(_DWORD, _DWORD); // weak
_DWORD *__thiscall sub_1001A9A0(_BYTE *this);
signed int sub_1001AAB0();
signed int sub_1001AAC0();
int __thiscall sub_1001AAD0(int this);
void *__thiscall sub_1001AB00(void *this, char a2);
_DWORD *__thiscall sub_1001AB20(_BYTE *this);
signed int sub_1001ACA0();
int __thiscall sub_1001ACB0(int this);
int __thiscall sub_1001ACD0(void *this);
int __thiscall sub_1001AD30(int this);
signed int sub_1001AD40();
signed int __thiscall sub_1001AD50(int this);
void *__thiscall sub_1001AD70(void *this, char a2);
_DWORD *__thiscall sub_1001AD90(void *this);
signed int sub_1001ADF0();
_DWORD *__thiscall sub_1001AE00(int this, _DWORD *a2, unsigned int a3, _DWORD *a4);
char __thiscall sub_1001B010(int this);
void *__thiscall sub_1001B030(void *this, char a2);
int __thiscall sub_1001B050(void *this);
int __thiscall sub_1001B0B0(int this, int a2);
signed int sub_1001B0C0();
// int __usercall sub_1001B0D0@<eax>(int a1@<eax>, int a2@<ecx>);
void *__thiscall sub_1001B0E0(void *this, char a2);
char *__thiscall sub_1001B100(void *this);
signed int sub_1001B160();
char sub_1001B170();
void *__thiscall sub_1001B180(void *this, char a2);
void __thiscall sub_1001B1A0(int this);
int __thiscall sub_1001B2D0(void *this, unsigned int a2);
int __thiscall sub_1001B340(int this);
_DWORD *__stdcall sub_1001B350(_DWORD *a1, _DWORD *a2, _DWORD *a3);
int __thiscall sub_1001B380(int this, int a2, _DWORD *a3);
int __thiscall sub_1001B3B0(_DWORD *this, int a2, int a3);
int __thiscall sub_1001B3E0(_DWORD *this, int a2, int a3);
int __thiscall sub_1001B420(_DWORD *this, int a2, int a3);
signed int __thiscall sub_1001B460(_DWORD *this, int a2, int a3);
int __thiscall sub_1001B4B0(char *this, int a2, int a3);
int __thiscall sub_1001B4F0(_DWORD *this, int a2, int a3);
int __thiscall sub_1001B530(int this, int a2, int a3);
int __thiscall sub_1001B570(_DWORD *this, int a2, int a3);
int __thiscall sub_1001B5C0(void *this, int a2, int a3);
void *__thiscall sub_1001B600(void *this, int a2, int a3, int a4, int a5);
int __fastcall sub_1001B660(int a1, int a2, signed int a3, signed int a4, int a5, int a6);
int __fastcall sub_1001B7B0(int a1, int a2, signed int a3, signed int a4, int a5, int a6);
unsigned int __thiscall sub_1001B970(unsigned int this, signed int a2, signed int a3, int a4, int a5);
int __fastcall sub_1001BD00(int a1, int a2, signed int a3, signed int a4, int a5, int a6);
unsigned int __thiscall sub_1001BD90(void *this, signed int a2, signed int a3, int a4, int a5);
int __thiscall sub_1001BDF0(int this, signed int a2, signed int a3, int a4, int a5);
int __fastcall sub_1001BFE0(int a1, int a2, signed int a3, signed int a4, int a5, int a6);
int __thiscall sub_1001C0C0(_DWORD *this, int a2, int a3, int a4, int a5);
int __thiscall sub_1001C1C0(int this, signed int a2, signed int a3, int a4, int a5);
void __thiscall sub_1001C270(int this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9);
void __thiscall sub_1001C280(float *this, int a2, int a3, int a4, int a5, int a6, int a7, double a8);
signed __int64 __thiscall sub_1001C2F0(void *this, int a2, int a3, double a4, double a5, int a6, int a7);
int __thiscall sub_1001C350(float *this, int a2, int a3, double a4, double a5, double a6);
signed __int64 __thiscall sub_1001C410(float *this, int a2, int a3, double a4, double a5, double a6);
void __thiscall sub_1001C510(float *this, int a2, int a3, double a4, double a5, double a6);
signed __int64 __thiscall sub_1001C590(char *this, int a2, int a3, double a4, double a5, int a6, int a7);
int __thiscall sub_1001C600(_DWORD *this, int a2, int a3, double a4, double a5, double a6);
int __thiscall sub_1001C6C0(int this, int a2, int a3, double a4, double a5);
int __thiscall sub_1001C7C0(float *this, int a2, int a3, double a4, double a5, double a6);
int __thiscall sub_1001C840(void *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9);
void __thiscall sub_1001C8E0(int this, int a2, int a3);
char __thiscall sub_1001C8F0(signed int *this, int a2, int a3);
char __thiscall sub_1001C950(signed int *this, int a2, int a3);
signed __int64 __thiscall sub_1001C970(signed int *this, int a2, int a3);
signed __int64 __thiscall sub_1001C9F0(signed int *this, int a2, int a3);
signed __int64 __thiscall sub_1001CAF0(int this, int a2, int a3);
int __thiscall sub_1001CC20(signed int *this, int a2, int a3);
signed __int64 __thiscall sub_1001CD40(signed int *this, int a2, int a3);
int __thiscall sub_1001CE20(int this, float a2, float a3);
int __thiscall sub_1001D0C0(signed int *this, float a2, float a3);
int __thiscall sub_1001D110(void *this, int a2, int a3);
int __thiscall sub_1001D220(void *this, int a2, int a3);
int __thiscall sub_1001D280(int this, float a2, int a3);
signed int __thiscall sub_1001D2B0(int this, int a2);
signed int __thiscall sub_1001D2F0(_BYTE *this, int a2);
signed int __thiscall sub_1001D330(_BYTE *this, int a2);
signed int __thiscall sub_1001D390(_BYTE *this, int a2);
signed int __thiscall sub_1001D3C0(void *this, int a2);
signed int __thiscall sub_1001D3F0(_BYTE *this, int a2);
signed int __thiscall sub_1001D430(_BYTE *this, int a2);
signed int __thiscall sub_1001D470(_BYTE *this, int a2);
signed int __thiscall sub_1001D4D0(_DWORD *this, int a2);
signed int __thiscall sub_1001D540(int this, int a2);
signed int __thiscall sub_1001D580(_BYTE *this, int a2);
signed int __thiscall sub_1001D600(_DWORD *this, int a2);
signed int __thiscall sub_1001D750(_DWORD *this, int a2);
int __thiscall sub_1001D9E0(int this);
_DWORD *__cdecl sub_1001DA00(int *a1, int *a2, _DWORD *a3);
int __thiscall sub_1001DA30(int this);
int __thiscall sub_1001DA40(int this, unsigned __int8 a2, int a3);
int __thiscall sub_1001DA70(int this);
signed int __thiscall sub_1001DBA0(int this, const char *a2, unsigned __int16 a3);
int __thiscall sub_1001DC60(int this, _DWORD *a2, _BYTE *a3);
signed int __thiscall sub_1001DCC0(int this, int a2);
int __thiscall sub_1001DEA0(int this);
int __thiscall sub_1001DEE0(int this);
unsigned int __thiscall sub_1001DF10(int this);
int __thiscall sub_1001DF40(int this, int a2, int a3);
void __thiscall sub_1001DF80(void *this, char *a2);
signed int __thiscall sub_1001DFF0(int this, int a2);
signed int __thiscall sub_1001E1A0(int this, int a2, _DWORD *a3, _DWORD *a4);
int __thiscall sub_1001E220(int this, int a2);
int __thiscall sub_1001E230(void *this);
_DWORD *__thiscall sub_1001E240(int this, _BYTE *a2, _DWORD *a3, _DWORD *a4);
int __thiscall sub_1001E270(_DWORD *this, int a2, int a3, int a4);
int __thiscall sub_1001E2C0(int this, _BYTE *a2, _DWORD *a3, int a4);
int __thiscall sub_1001E310(_DWORD *this, int a2, int a3, int a4);
_DWORD *__thiscall sub_1001E360(int this, _BYTE *a2, _DWORD *a3, _DWORD *a4, _BYTE *a5, _BYTE *a6, _DWORD *a7);
int __thiscall sub_1001E3E0(_DWORD *this, int a2, int a3, int a4, int a5, int a6, int a7);
_DWORD *__cdecl sub_1001E440(_DWORD *a1, _DWORD *a2);
int __thiscall sub_1001E460(int this);
int __thiscall sub_1001E670(int this, int a2);
int __thiscall sub_1001E750(int this);
char __thiscall sub_1001E800(int this, int a2);
signed int __thiscall sub_1001E8B0(int this, int a2, int a3);
int __thiscall sub_1001E960(int this, int a2, int a3);
int __cdecl sub_1001EA90(const char *a1);
int __thiscall sub_1001EAC0(_DWORD *this, char *a2, int a3, char a4);
signed int __thiscall sub_1001EC60(int this, const char *a2, int a3, int a4, _DWORD *a5);
int __thiscall sub_1001EDE0(int this, int a2, int a3, int a4, int *a5);
signed int __thiscall sub_1001EE60(int this, int a2, const char *a3, int a4, int a5, _DWORD *a6);
int __thiscall sub_1001F080(int this, int a2, int a3, int a4, int a5, int *a6);
signed int __thiscall sub_1001F100(void *this, int a2, char a3, int a4);
signed int __thiscall sub_1001F410(int this, int a2, int a3, int a4);
signed int __thiscall sub_1001F4A0(int this, int a2, int a3, int a4);
int __thiscall sub_1001F4F0(_DWORD *this, unsigned int a2);
int __thiscall sub_1001F580(int this, int a2, int a3);
char __thiscall sub_1001F5B0(int this);
int __thiscall sub_1001F5E0(void *this, int a2);
char __thiscall sub_1001F720(int this, int a2);
char __thiscall sub_1001F740(_BYTE *this, int a2);
char __thiscall sub_1001F770(int this, int a2);
int __thiscall sub_1001F790(int this, int a2);
int __thiscall sub_1001F7E0(_DWORD *this, int a2);
int __thiscall sub_1001F850(int this, int a2);
int __thiscall sub_1001F8A0(int this, double a2, double a3, double a4, double a5, double a6, double a7);
int __thiscall sub_1001FAF0(void *this, double a2, double a3, int a4, int a5);
int __thiscall sub_1001FB50(int this, double a2, double a3, int a4, int a5);
double __thiscall sub_1001FC70(int this, double a2);
long double __thiscall sub_1001FCB0(int this, double a2);
long double __thiscall sub_1001FCE0(int this, double a2);
long double __thiscall sub_1001FD10(int this, double a2);
int __thiscall sub_1001FD60(int this, double a2, double a3, double a4);
int __thiscall sub_1001FEC0(int this, double a2, double a3, int a4, int a5);
int __thiscall sub_1001FF50(int this, double a2, double a3, int a4, int a5);
int __thiscall sub_1001FFF0(void *this, int a2);
_DWORD *__thiscall sub_10020130(_DWORD *this, int a2);
int __thiscall sub_10020160(int this, int a2);
int __thiscall sub_100202E0(int this, int a2);
char *__thiscall sub_100203B0(char *this, int a2);
int __thiscall sub_10020540(void *this, int a2);
int __thiscall sub_100208C0(int this, int a2);
_DWORD *__thiscall sub_100209B0(_DWORD *this, int a2);
void *__thiscall sub_10020BD0(void *this, char a2);
_DWORD *__thiscall sub_10020C80(_DWORD *this, int a2, _DWORD *a3, _BYTE *a4);
int __thiscall sub_10020CE0(int this);
unsigned int __thiscall sub_10020D10(int this, unsigned int a2);
int __thiscall sub_10020DB0(int this, int a2);
int __thiscall sub_10020DF0(int this, int a2);
int __thiscall sub_10020E40(void *this);
int __thiscall sub_10020EA0(int this);
signed int sub_10020EB0();
char sub_10020EC0();
void *__thiscall sub_10020ED0(void *this, char a2);
_DWORD *__thiscall sub_10020EF0(void *this);
signed int sub_10020F50();
char sub_10020F60();
int __cdecl sub_10020F70(int a1, _BYTE *a2, int a3);
int __thiscall sub_10020FC0(int this);
void __thiscall sub_10020FE0(int this);
int __thiscall sub_10020FF0(int this, int a2, int a3, size_t a4);
int __thiscall sub_100210D0(int this, int a2);
int sub_100211F0();
// int __usercall sub_100212D0@<eax>(double a1@<st0>, int a2, int a3, char a4, int a5, unsigned int a6, int a7);
// int __usercall sub_100216A0@<eax>(double a1@<st0>, int a2, int a3, signed int a4, signed int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12);
// void __usercall sub_10021A20(double a1@<st0>, int a2, int a3, char a4, int a5, unsigned int a6, int a7);
// void __usercall sub_10021CA0(double a1@<st0>, int a2, int *a3, char a4, int a5, unsigned int a6, int a7);
int __cdecl sub_10022210(int a1, int a2, int a3, unsigned int a4, int a5, int a6);
int __cdecl sub_10022AA0(int a1, int a2, signed int a3, signed int a4, int a5, int a6, int a7, int a8);
int __cdecl sub_10023710(int a1, int a2, int a3, int a4, int a5, int a6, signed int a7, signed int a8, signed int a9, signed int a10, int a11);
int __cdecl sub_10024340(int a1, int a2, int a3, int a4, int a5, int a6, signed int a7, int a8, int a9, int a10, int a11);
void __cdecl sub_10024490(int a1, int a2, signed int a3, signed int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12);
void __cdecl sub_10025410(int a1, int a2, signed int a3, signed int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12);
int __thiscall sub_10026250(int this, int a2);
int __thiscall sub_10026270(int this, int a2, int a3, int a4, int a5);
int __thiscall sub_10026290(int this, int a2);
int __thiscall sub_100262C0(int this, int a2, int a3);
int __thiscall sub_10026310(int this, int a2, int a3);
int __thiscall sub_10026390(int this);
signed int __thiscall sub_100263E0(int this, int a2);
bool __thiscall sub_10026400(int this, signed int a2);
_DWORD *__thiscall sub_10026450(int this, int a2);
int __thiscall sub_100265E0(int this, int a2);
_DWORD *__thiscall sub_10026620(_DWORD *this, _DWORD *a2, int a3, int a4);
int __cdecl sub_10026680(int a1, int a2);
// int __userpurge sub_100266F0@<eax>(int a1@<ecx>, double a2@<st0>, int a3, int a4, int a5);
int __thiscall sub_10026750(int this, int a2, int a3, int a4, int a5);
// signed int __usercall sub_100267A0@<eax>(double a1@<st0>, int a2, int a3, int a4, int a5, int a6, int a7, signed int a8, signed int a9, signed int a10, signed int a11, int a12);
int __cdecl sub_100268A0(double, double, int); // idb
void __cdecl sub_10026930(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
signed __int64 __cdecl sub_10026A20(int a1, int a2, int a3, double a4, double a5);
long double __cdecl sub_10026AC0(float a1, float a2, float a3, float a4, float a5, float a6);
int __cdecl sub_10026B20(int, int, double, double, double, int); // idb
double __cdecl sub_10026CA0(float a1, float a2, float a3, float a4, float a5, float a6);
bool __cdecl sub_10026D70(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, float a9, float a10);
double __cdecl sub_10026FF0(double a1);
int __cdecl sub_10027050(int a1, int a2);
int __cdecl sub_100270C0(int a1, int a2, int a3);
int __cdecl sub_100271F0(int, int, int, int, int, float, float); // idb
int __thiscall sub_10027560(int this, char a2, __int16 a3, _WORD *a4);
signed int __thiscall sub_10027670(int this, __int16 a2, _WORD *a3);
signed int __thiscall sub_10027730(void *this, __int16 a2, _WORD *a3);
int __thiscall sub_10027750(int this, float a2, float a3);
int __thiscall sub_10027800(int this, int a2, _WORD *a3, int a4, char a5, int a6);
int __thiscall sub_10027930(int this, int a2, int a3, char a4, int a5, char a6, int a7);
int __thiscall sub_100279D0(int this, char *a2, int a3);
_DWORD *__thiscall sub_10027BA0(_DWORD *this, char *a2, int a3);
int __thiscall sub_10027CD0(int this, int a2, int a3, int a4, long double *a5, const char *a6, int a7, int *a8, signed int a9);
int __thiscall sub_10027E80(int this, char *a2, int a3, int *a4, signed int a5);
int __thiscall sub_10027EE0(int this, signed int a2, unsigned int a3, int a4);
int __thiscall sub_100280A0(void *this, int a2, int a3, signed int a4, _DWORD *a5, char *a6, int a7, int a8, int a9);
int __stdcall sub_10028720(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11);
int __thiscall sub_10028820(int this, int a2, int a3, int a4, int a5, int a6, signed int a7, int a8, signed int a9, int a10, int a11);
int __thiscall sub_10028AA0(int this, int a2, int a3, int a4, int a5, int a6, signed int a7, int a8, signed int a9, int a10, int a11);
int __thiscall sub_10028D20(int this, int a2, int a3, int a4, int a5, int a6, signed int a7, int a8, signed int a9, int a10, int a11);
int __thiscall sub_10028FC0(int this, int a2, int a3, int a4, int a5, int a6, signed int a7, int a8, signed int a9, int a10, int a11);
signed int __thiscall sub_10029230(void **this);
void __thiscall sub_100292A0(void **this);
int __thiscall sub_100292C0(int this, int a2, int a3, char a4, int a5, float a6, float a7);
int __thiscall sub_10029410(int this, int a2, int a3, char a4, int a5, float a6, float a7);
// int __userpurge sub_100294F0@<eax>(int a1@<ecx>, int a2@<ebx>, int a3@<ebp>, double a4@<st0>, int a5, int a6, char a7, int a8, float a9, float a10);
// int __userpurge sub_10029A60@<eax>(int a1@<ecx>, int a2@<ebx>, int a3@<ebp>, int a4, int a5, char a6, int a7, float a8, float a9);
// int __userpurge sub_1002B000@<eax>(int a1@<ecx>, double a2@<st0>, int a3, int a4, char a5, int a6, float a7, float a8);
// int __userpurge sub_1002C030@<eax>(int a1@<ecx>, double a2@<st0>, int a3, int a4, char a5, int a6, float a7, float a8);
int __thiscall sub_1002C150(int this, int a2, int a3, char a4, int a5, float a6, float a7);
int __thiscall sub_1002C520(int this, int a2, int a3, char a4, int a5, float a6, float a7);
int __thiscall sub_1002CA00(int this, int a2, char a3, char a4, int a5, float a6, float a7);
int __thiscall sub_1002CDE0(int this, int a2, char a3, int a4, int a5, float a6, float a7);
int __thiscall sub_1002CE10(int this, float a2, float a3);
int __thiscall sub_1002CF20(int this, int a2, int a3);
BOOL __thiscall sub_1002CF90(int this);
int __thiscall sub_1002CFC0(int this);
int __thiscall sub_1002D040(int this, signed int a2);
signed int __thiscall sub_1002D080(void *this, int a2);
signed int __thiscall sub_1002D860(void *this, int a2);
signed int __thiscall sub_1002E100(void *this, int a2);
signed int __thiscall sub_1002F1E0(int this, int a2);
int __cdecl sub_1002F270(int a1, int a2, int a3, int a4, float a5, float a6);
signed int __thiscall sub_1002FCF0(void *this, int a2);
int __thiscall sub_10031420(int this, int a2);
int __thiscall sub_10031480(int this, int a2);
int __thiscall sub_100314D0(int this);
void __thiscall sub_10031530(void *this);
void __thiscall sub_10031540(int this);
void __thiscall sub_10031570(int this);
void __thiscall sub_10031580(int this);
void __thiscall sub_10031640(int this);
void __thiscall sub_10031670(int this);
void __thiscall sub_100317D0(int this);
void *__thiscall sub_100319D0(void *this, char a2);
int __thiscall sub_100319F0(int this);
signed int __thiscall sub_10031A30(_DWORD *this, int a2);
int __thiscall sub_10031AC0(int this, int a2);
int __thiscall sub_10031BB0(int this, int a2);
// signed int __userpurge sub_10031CA0@<eax>(int a1@<ecx>, double a2@<st0>, int a3, int a4, int a5, int a6, int a7);
void __thiscall sub_10031F80(int this, int a2);
signed __int64 __thiscall sub_10032220(int this, int a2);
signed int __cdecl sub_100323A0(signed int a1, signed int a2, int a3);
void __thiscall sub_10032950(int this, signed int a2, signed int a3, int a4, int a5);
void __thiscall sub_10032A90(int this, int a2, int a3, int a4);
signed int __cdecl sub_10032C90(signed int a1, signed int a2, int a3);
int __cdecl sub_10033460(__int64 a1, unsigned int a2, unsigned int a3, int a4, char a5);
int __cdecl sub_10033D30(signed int a1, signed int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9);
// signed int __userpurge sub_10034270@<eax>(int a1@<ecx>, double a2@<st0>, int a3, int a4, int a5);
// signed int __usercall sub_100343D0@<eax>(int a1@<ecx>, double a2@<st0>);
int __thiscall sub_10034470(int this, int a2, int a3);
int __thiscall sub_10034580(int this, int a2, int a3);
unsigned int __cdecl sub_100346C0(double a1, int a2);
unsigned int __cdecl sub_10034960(int a1, int a2, int a3);
char __cdecl sub_10034A30(int *a1, signed int a2, int a3, signed int a4, int a5);
void __cdecl sub_10034EB0(int a1, int a2, int a3, int a4, signed int a5, signed int a6, signed int a7, signed int a8, int a9);
signed int __thiscall sub_100359E0(int this, int a2, int a3, int a4, int a5);
int __thiscall sub_10035A70(int this, int a2, int a3, int a4);
char __cdecl sub_10035AF0(unsigned int a1, signed int a2, int a3);
char __cdecl sub_10035C60(unsigned int a1, signed int a2, int a3);
int __cdecl sub_10035D30(int, int, int, int, int, int, int, int, int, int, float); // idb
int __cdecl sub_10036230(int, int, int, int, int, int, int, int, int, int, float, int); // idb
// int __usercall sub_10036860@<eax>(double a1@<st0>, int a2, int a3, int a4, unsigned int a5, int a6, int a7, int a8, unsigned int a9, int a10, int a11, int a12);
// int __usercall sub_10037300@<eax>(double a1@<st0>, int a2, int a3, int a4, unsigned int a5, int a6, int a7, int a8, unsigned int a9, int a10, int a11, int a12, int a13);
// int __usercall sub_10037E60@<eax>(double a1@<st0>, int a2, double a3, unsigned int a4, int a5, double a6, unsigned int a7, int a8, int a9, int a10);
// int __usercall sub_100399F0@<eax>(double a1@<st0>, int a2, signed int a3, double a4, int a5, int a6, double a7, int a8, int a9, int a10, int a11);
signed int __cdecl sub_1003B6A0(int a1, int a2, int a3, int a4);
int __thiscall sub_1003BC40(int this, int a2);
int __thiscall sub_1003BC70(int this);
int __thiscall sub_1003BCA0(int this, int a2);
int __thiscall sub_1003BD00(int this);
int __cdecl sub_1003BD80(int, int, float, float, float, float, float, float, int); // idb
int __cdecl sub_1003BF40(signed __int16 a1);
int __cdecl sub_1003BF60(float, int, int); // idb
int __cdecl sub_1003BFF0(int, int, float, float, int); // idb
int __cdecl sub_1003C260(float, int, int); // idb
int __cdecl sub_1003C310(int, int, float, float, int); // idb
int __cdecl sub_1003C580(int a1);
int __cdecl sub_1003C590(float, int, int); // idb
int __cdecl sub_1003C650(int, int, float, float, int); // idb
int __cdecl sub_1003C870(int a1, int a2, int a3, int a4, int a5, void (__cdecl *a6)(int, int, int), int a7);
int __cdecl sub_1003C910(int a1, int a2, int a3, int a4, int a5, void (__cdecl *a6)(int, int, int), int a7);
int __cdecl sub_1003C9A0(int a1, int a2, int a3, int a4, int a5, void (__cdecl *a6)(int, int, int), int a7);
int __cdecl sub_1003CA30(int a1, int a2, int a3, int a4, int a5, void (__cdecl *a6)(int, int, int), int a7);
int __cdecl sub_1003CAC0(int a1, int a2, int a3, int a4, void (__cdecl *a5)(int, int, int), int a6);
void __cdecl sub_1003CB90(signed int a1, signed int a2, signed int a3, signed int a4, signed int a5, signed int a6, int a7);
signed int __cdecl sub_1003CD20(int a1, int a2);
signed int __cdecl sub_1003CD90(int a1, int a2);
BOOL __cdecl sub_1003CE00(int a1, int a2, int a3, int a4);
void __cdecl sub_1003CE40(signed int a1, signed int a2, signed int a3, signed int a4, void (__fastcall *a5)(int, _DWORD));
void __cdecl sub_1003D170(signed int a1, signed int a2, signed int a3, signed int a4, void (__fastcall *a5)(int, _DWORD));
void __cdecl sub_1003D4A0(signed int a1, signed int a2, signed int a3, signed int a4, void (__fastcall *a5)(int, _DWORD));
void __cdecl sub_1003D7D0(signed int a1, signed int a2, signed int a3, signed int a4, void (__fastcall *a5)(int, _DWORD));
void __cdecl sub_1003DB00(int a1, int a2, int a3, void (__fastcall *a4)(int, _DWORD));
void __cdecl sub_1003DC80(int a1, int a2, int a3, int a4, signed int a5, signed int a6, signed int a7, signed int a8, void (__cdecl *a9)(int, int, int), int a10);
signed int sub_1003DE50();
// int __cdecl unknown_libname_4(_DWORD); weak
signed int sub_1003DEC0();
int __cdecl sub_1003DEE0(int a1);
signed int __cdecl sub_1003DFA0(unsigned int a1);
int __cdecl sub_1003E070(int a1);
int __cdecl sub_1003E090(_DWORD *a1, int a2);
int __cdecl sub_1003E0B0(void *a1);
signed int sub_1003E110();
signed int sub_1003E140();
signed int sub_1003E180();
int __cdecl sub_1003E1D0(int a1, int a2);
int sub_1003E200();
BOOL sub_1003E220();
void *sub_1003E240();
int __cdecl sub_1003E250(int a1);
signed int __cdecl sub_1003E260(unsigned int *a1);
bool __cdecl sub_1003E2F0(unsigned int a1);
int __cdecl sub_1003E320(char *, int); // idb
signed int __cdecl sub_1003E390(unsigned int a1, signed int *a2);
int __cdecl sub_1003E460(char *, int); // idb
int __cdecl sub_1003E560(int, void *, size_t); // idb
int __cdecl sub_1003E690(unsigned int a1, int a2, char a3);
int __cdecl sub_1003E800(char a1, int a2, int *a3, _BYTE *a4);
int __cdecl sub_1003E870(int a1, int a2, int a3, _BYTE *a4);
int __cdecl sub_1003E8A0(char a1, int a2, int a3, int *a4, _BYTE *a5);
int __cdecl sub_1003E920(int a1, signed int a2, signed int a3, signed int a4, signed int a5, signed int a6, signed int a7, signed int a8, signed int a9);
signed int __cdecl sub_1003EC20(int a1, signed int a2, signed int a3, int a4, int a5, signed int a6, signed int a7, signed int a8, signed int a9);
signed int __cdecl sub_1003EEB0(int a1, signed int a2, signed int a3, signed int a4, signed int a5);
signed int __cdecl sub_1003EFE0(int a1, signed int a2, signed int a3, int a4, int a5, signed int a6, signed int a7, signed int a8, signed int a9);
signed int __cdecl sub_1003F320(int a1, int a2, signed int a3);
int sub_1003F840();
int __cdecl sub_1003F860(int a1, unsigned int a2, unsigned int a3);
unsigned int __cdecl sub_1003FB40(unsigned int a1, unsigned int a2);
unsigned int __cdecl sub_1003FB60(unsigned int a1, unsigned int a2);
int __cdecl sub_1003FB80(int a1, __int16 a2, __int16 a3);
signed int __cdecl sub_1003FBC0(int a1, int a2);
signed int __cdecl sub_1003FC80(int a1, unsigned int a2, int a3, int a4);
int __cdecl sub_1003FFC0(int a1, char a2);
int sub_10040000();
signed int __cdecl sub_10040020(int a1, int a2);
int __cdecl sub_10040110(int a1, unsigned __int8 a2);
int __cdecl sub_10040160(signed int a1, signed int a2, int a3, int a4, signed int a5, signed int a6, _WORD *a7, _WORD *a8);
// int __cdecl unknown_libname_5(_DWORD, _DWORD); weak
int __cdecl sub_10040280(signed int a1, signed int a2, signed int a3, char a4, char a5, char a6, int a7, int *a8, _BYTE *a9);
double __cdecl sub_100404A0(float a1);
int __cdecl sub_100404C0(int, __int16, __int16, char *, size_t); // idb
int __cdecl sub_100406D0(int, int, char *, size_t, int); // idb
int __cdecl sub_100407B0(int a1, int a2);
int __cdecl sub_100407F0(_DWORD *a1, int a2);
int __cdecl sub_10040830(int a1, char a2);
int __cdecl sub_10040870(int a1, unsigned int a2);
int __cdecl sub_100408C0(int, int, int, char, char, char, int, char *, size_t, int); // idb
int __cdecl sub_10040B80(unsigned int a1, unsigned int a2, unsigned int a3, char a4);
int __cdecl sub_10040C90(int a1, int a2, int a3, int a4, _DWORD *a5, _BYTE *a6);
_DWORD *__cdecl sub_10040D90(int a1, int *a2);
_DWORD *__cdecl sub_10040DB0(int a1, _DWORD *a2, int a3);
signed int __cdecl sub_10040DE0(int a1, signed int a2, char a3, _DWORD *a4, _BYTE *a5);
int __cdecl sub_10040FC0(int a1, int a2, int a3, int a4, _DWORD *a5, _BYTE *a6);
int __cdecl sub_10041130(unsigned int a1, int a2);
int __cdecl sub_100411B0(int a1, unsigned int a2);
int __cdecl sub_100412E0(unsigned int a1, signed int a2, signed int a3, char *a4);
char *__cdecl sub_10041330(void *a1);
int __cdecl sub_10041360(int a1);
int __cdecl sub_10041390(int a1);
int __cdecl sub_100413D0(int a1);
int __cdecl sub_10041400(char *, int, int, int, int); // idb
int __cdecl sub_10041B70(unsigned int *a1);
int __cdecl sub_10041BA0(int a1, __int16 a2, __int16 a3, int a4);
char __cdecl sub_10041C30(_BYTE *a1, _BYTE *a2);
signed int __cdecl sub_10041C80(int a1);
int __cdecl sub_10041CA0(unsigned int a1, _DWORD *a2, void *a3, int a4, int a5);
signed int __cdecl sub_10041CE0(unsigned int a1, void *a2, void *a3);
signed int __cdecl sub_10041D40(unsigned int a1, int a2, int a3);
signed int __cdecl sub_10042290(unsigned int a1, _DWORD *a2, int a3, signed int a4);
signed int __cdecl sub_10042390(unsigned int a1, int *a2, int a3, char a4);
bool __cdecl sub_10042440(signed int a1, signed int a2, _BYTE *a3);
char __cdecl sub_100424B0(int a1, int a2, int *a3);
void __cdecl sub_10042540(const char *a1, char a2, char a3);
int __cdecl sub_10042590(int a1, _BYTE *a2, int a3);
signed int __cdecl sub_100425E0(_BYTE *a1, _BYTE *a2, int a3);
int __cdecl sub_10042650(void *, size_t); // idb
int __cdecl sub_10042680(int, char *, int); // idb
int __cdecl sub_100426E0(char *, size_t, char *, va_list); // idb
int sub_10042720(char *arg0, size_t arg4, char *arg8, ...);
int __cdecl sub_10042750(const char *a1, _BYTE *a2, int a3);
int __cdecl sub_10042790(int a1, int a2);
char *__cdecl sub_100427B0(int a1, char *a2, int a3, char *a4, int a5);
char sub_100428E0();
char __cdecl sub_100428F0(char *a1, int a2, char a3, char *a4, int a5);
char __cdecl sub_100429F0(char *a1, int a2, char a3, char *a4);
int __cdecl sub_10042A60(int a1, unsigned int a2);
int __cdecl sub_10042B50(int *a1, unsigned int a2);
__int16 __cdecl sub_10042C40(int a1, unsigned int a2);
int __cdecl sub_10042C90(int *a1, unsigned int a2);
__int16 __cdecl sub_10042CC0(unsigned int *a1, _WORD *a2, _WORD *a3);
_DWORD *__cdecl sub_10042D40(unsigned int a1, unsigned int a2, _DWORD *a3);
char __cdecl sub_10042DF0(char *a1);
char __cdecl sub_10042E20(int a1);
char sub_10042E70();
char __thiscall sub_10042EA0(void *this);
int sub_10042ED0();
char __cdecl sub_10042F00(int a1);
int __cdecl sub_10042F20(int, char *); // idb
char __thiscall sub_10042F80(void *this);
char __thiscall sub_10042FA0(void *this);
char __thiscall sub_10042FC0(void *this);
unsigned int __cdecl sub_10042FE0(unsigned int a1);
int __cdecl sub_10043000(int a1);
bool __cdecl sub_10043010(int a1);
int __cdecl sub_100430E0(int a1);
int __cdecl sub_10043100(int a1, int a2);
bool __cdecl sub_10043140(int a1);
signed int __cdecl sub_100431A0(int a1, void *a2, unsigned __int16 a3, __int16 a4);
signed int __cdecl sub_10043260(int a1, int a2, int a3);
int __cdecl sub_10043310(int a1);
signed int __cdecl sub_10043330(_BYTE *a1, _BYTE *a2, int a3);
// int __usercall sub_10043390@<eax>(int a1@<esi>, int a2, char a3);
// int __usercall sub_100434A0@<eax>(int a1@<eax>, int a2@<esi>);
// signed int __usercall sub_10043550@<eax>(int a1@<eax>, int a2@<esi>);
// char __usercall sub_10043720@<al>(int a1@<eax>, char *a2@<edx>, unsigned int a3@<ecx>);
// int __usercall sub_10043730@<eax>(int result@<eax>);
// char __usercall sub_10043750@<al>(int a1@<eax>);
// int __usercall sub_10043770@<eax>(int a1@<esi>, unsigned __int8 a2);
int __cdecl sub_100437B0(unsigned int a1);
int __fastcall sub_10043960(int a1, int a2);
// int __usercall sub_10043980@<eax>(int result@<eax>, int a2@<ecx>);
// int __usercall sub_10043990@<eax>(int a1@<esi>);
// signed int __usercall sub_100439D0@<eax>(int a1@<ecx>, int a2@<edi>, int a3, int a4, int a5, int a6);
int __cdecl sub_10043BE0(void *); // idb
int __cdecl sub_10043C40(int, int, void *, int); // idb
signed int __cdecl sub_10043D40(int a1);
signed int __cdecl sub_10043D60(int a1, unsigned __int64 a2);
signed int __cdecl sub_10043F60(int a1, int a2);
int __cdecl sub_10043F80(int a1);
int __cdecl sub_100441F0(void *, int, char); // idb
signed int __cdecl sub_100442C0(unsigned int a1, int a2, int a3);
// int __usercall sub_10044360@<eax>(int a1@<eax>);
// int __usercall sub_10044380@<eax>(int a1@<edi>, int a2);
// signed int __usercall sub_100443B0@<eax>(int a1@<eax>, int a2@<ebx>);
int __cdecl sub_10044420(int, char *, int); // idb
// void __cdecl __noreturn exit(int);
signed int __cdecl sub_10044590(int a1);
// char __usercall sub_100445F0@<al>(char *a1@<edx>, size_t a2@<ecx>, int a3@<esi>);
// signed int __usercall sub_10044620@<eax>(int a1@<eax>);
// BOOL __usercall sub_10044650@<eax>(int a1@<ebx>, int a2);
signed int __cdecl sub_10044690(unsigned int a1);
signed int __cdecl sub_100446E0(int a1, int a2);
// bool __usercall sub_100448D0@<al>(int a1@<eax>);
int __cdecl sub_10044900(int, int, char, void *, int); // idb
signed int __cdecl sub_10044A10(unsigned int a1);
signed int __cdecl sub_10044A30(unsigned int a1, int a2, int a3);
signed int __cdecl sub_10044A90(unsigned int a1, int a2, int a3);
int __cdecl sub_10044C20(int a1, char *a2, int a3, void *a4, int a5);
bool __cdecl sub_10044E10(unsigned int a1, _DWORD *a2);
signed int __cdecl sub_10044E60(unsigned int a1);
bool __cdecl sub_10044E80(unsigned int a1, _DWORD *a2);
bool __cdecl sub_10044EC0(unsigned int a1, _DWORD *a2);
int __cdecl sub_10044EE0(int, void *); // idb
signed int __cdecl sub_10044FA0(unsigned int a1, int a2, int a3, int a4);
signed int __cdecl sub_10045000(unsigned int a1, int a2, int a3);
signed int __cdecl sub_10045020(int a1, unsigned int a2, unsigned int a3);
int __cdecl sub_10045190(int, char *, void *); // idb
unsigned int __cdecl sub_10045290(int a1, int a2, size_t a3, int a4, int a5);
int sub_100453F0(); // weak
unsigned int __cdecl sub_10045410(int a1, int a2, size_t a3, int a4);
char __cdecl sub_10045440(char a1, _DWORD *a2);
// __int16 __usercall sub_10045480@<ax>(int a1@<edi>, char a2);
// signed __int16 __usercall sub_10045620@<ax>(void *a1@<ecx>, signed __int16 a2@<bx>, const char *a3@<esi>);
char __cdecl sub_10045870(signed __int16 a1);
char __cdecl sub_10045900(char a1, int a2);
char __cdecl sub_10045920(unsigned __int16 a1);
char __cdecl sub_100459C0(signed __int16 a1, _BYTE *a2);
int __thiscall sub_10045A80(void *this);
int __cdecl sub_10045AA0(int a1, signed int a2, signed int a3);
int __cdecl sub_10045AC0(int, double, double); // idb
signed int sub_10045BB0();
int sub_10045BD0();
int __cdecl sub_10045BE0(_DWORD *a1, unsigned int a2, int a3, int a4, int a5, int a6);
int sub_10045D70();
int __cdecl sub_10045DA0(int a1);
unsigned int __cdecl sub_10045EA0(char *a1);
int __cdecl sub_10045EC0(_BYTE *a1);
int __cdecl sub_10045EE0(unsigned __int8 *a1);
unsigned int __cdecl sub_10045F00(int a1, int a2);
unsigned int __cdecl sub_10046230(int a1, int a2);
unsigned int __cdecl sub_10046670(_BYTE *a1);
int __cdecl sub_10046690(unsigned __int8 *a1);
int __cdecl sub_100466B0(unsigned __int8 *a1);
int __cdecl sub_100466D0(_BYTE *a1);
int __cdecl sub_100466F0(int a1);
// void __cdecl __noreturn exit_0(int);
int __cdecl sub_10046740(unsigned __int8 *a1);
int __cdecl sub_10046760(int a1);
unsigned int __cdecl sub_100467F0(int a1);
signed int __cdecl sub_10046810(int a1);
unsigned int __cdecl sub_10046860(int a1);
int __cdecl sub_100468C0(_BYTE *a1);
unsigned int __cdecl sub_100468E0(_BYTE *a1);
int __cdecl sub_10046900(unsigned __int8 *a1);
int __cdecl sub_10046920(_BYTE *a1);
signed int __cdecl sub_10046940(_BYTE *a1, int a2);
int __cdecl sub_10046970(_BYTE *a1, int a2);
int __cdecl sub_100469B0(int a1, int a2);
int __cdecl sub_10046A40(unsigned __int8 *a1);
int __cdecl sub_10046A60(int a1);
int __cdecl sub_10046A90(unsigned __int8 *a1);
unsigned int __cdecl sub_10046AB0(int a1);
int __cdecl sub_10046AE0(int a1);
int __cdecl sub_10046BD0(int a1);
signed int __cdecl sub_10046CE0(_BYTE *a1, int a2);
signed int __cdecl sub_10046D10(unsigned __int8 *a1, int a2);
int __cdecl sub_10046D40(unsigned __int8 *a1);
int __cdecl sub_10046DA0(int a1);
signed int __cdecl sub_10046DB0(_BYTE *a1, int a2);
int __cdecl sub_10046DE0(int a1, int a2);
unsigned int __cdecl sub_10046E60(int a1);
unsigned int __cdecl sub_10046EA0(int a1);
int __cdecl sub_10046EF0(int a1);
int __cdecl sub_10046F20(int a1);
unsigned int __cdecl sub_10046F50(int a1);
unsigned int __cdecl sub_10046F80(int a1);
unsigned int __cdecl sub_10046FA0(int a1);
void __cdecl __noreturn sub_10046FE0(int a1);
signed int __cdecl sub_10047150(int a1, int a2);
// time_t __cdecl static _mkgmtime(struct tm *Tm);
// signed int __usercall sub_100471B0@<eax>(int a1@<eax>, int a2@<edi>);
signed int __cdecl sub_10047280(int a1);
int __cdecl sub_10047290(char a1);
// signed int __usercall sub_100472B0@<eax>(char a1@<al>, int a2@<ecx>);
// int __usercall sub_10047350@<eax>(char a1@<al>);
// int __usercall sub_10047370@<eax>(char a1@<al>);
// signed __int16 __usercall sub_10047390@<ax>(char a1@<al>, unsigned __int16 a2@<si>);
char __cdecl sub_100475D0(char a1, unsigned __int16 a2, void *a3);
char __cdecl sub_10047750(char a1, unsigned __int16 a2, int a3);
char __cdecl sub_100478B0(int a1, int a2, void *a3, char a4, __int16 a5, char a6);
char __cdecl sub_100479F0(char a1, unsigned __int16 a2, int a3);
char __cdecl sub_10047AD0(char a1, int a2, __int16 a3, __int16 a4, void *a5, int a6);
char __cdecl sub_10047D50(char a1, int a2, __int16 a3, __int16 a4, void *a5);
char __cdecl sub_10047D80(char a1, int a2, void *a3);
char __cdecl sub_10047DB0(char a1, int a2, void *a3, int a4);
char __cdecl sub_10047DE0(char a1);
int __cdecl sub_10047E20(char *a1, char a2);
bool __cdecl sub_10047E90(int a1, void *a2);
char __cdecl sub_10047F50(int a1, bool *a2);
char __thiscall sub_10048010(void *this);
char __cdecl sub_100480A0(int a1, char a2);
char __cdecl sub_10048160(char a1);
char __cdecl sub_100481E0(char a1);
char __cdecl sub_10048220(char a1);
signed int __cdecl sub_10048290(char a1);
char __cdecl sub_10048310(char a1);
char __cdecl sub_10048380(char a1);
char __cdecl sub_10048430(int a1);
char __thiscall sub_10048530(void *this);
int __cdecl sub_10048540(int a1);
int __cdecl sub_10048580(int *a1, int a2);
char __thiscall sub_100485A0(void *this);
// char __usercall sub_10048610@<al>(__int16 a1@<bx>, __int16 a2@<di>, void *a3@<esi>, char a4);
// void *__usercall sub_10048650@<eax>(char a1@<bl>, __int16 a2, __int16 a3, void *a4);
char __cdecl sub_100486F0(char a1, unsigned __int8 a2, void *a3);
bool __cdecl sub_10048730(char a1, char a2, void *a3);
char __cdecl sub_10048790(char a1, unsigned __int8 a2, void *a3);
char __cdecl sub_100487D0(char a1, char a2, void *a3);
char __cdecl sub_10048800(char a1, unsigned __int8 a2, void *a3);
char __cdecl sub_10048840(char a1, char a2, void *a3);
char __cdecl sub_10048880(char a1, unsigned __int8 a2, void *a3);
bool __cdecl sub_100488C0(char a1, char a2, void *a3);
char __cdecl sub_10048910(char a1, unsigned __int8 a2, void *a3);
bool __cdecl sub_10048950(char a1, char a2, void *a3);
char __cdecl sub_10048990(char a1, unsigned __int8 a2, void *a3);
bool __cdecl sub_100489D0(char a1, char a2, void *a3);
char __cdecl sub_10048A10(char a1, void *a2);
char __cdecl sub_10048A40(char a1, void *a2);
char __cdecl sub_10048A70(char a1, void *a2);
char __cdecl sub_10048AA0(char a1, void *a2);
char __cdecl sub_10048AD0(char a1, void *a2);
char __cdecl sub_10048B00(char a1, void *a2);
char __cdecl sub_10048B30(char a1, unsigned __int8 a2, void *a3);
char __cdecl sub_10048B70(char a1, char a2, void *a3);
char __cdecl sub_10048BC0(char a1, unsigned __int8 a2, void *a3);
char __cdecl sub_10048C00(char a1, char a2, void *a3);
char __cdecl sub_10048C30(char a1, void *a2);
char __cdecl sub_10048C60(char a1, void *a2);
char __cdecl sub_10048C90(char a1, void *a2);
char __cdecl sub_10048CC0(int a1, char a2, char a3, int a4, void *a5);
bool __cdecl sub_10049060(char a1, unsigned __int8 a2, int a3);
bool __cdecl sub_100490D0(char a1, unsigned __int8 a2, int a3);
bool __cdecl sub_10049130(char a1, unsigned __int8 a2, int a3);
char __cdecl sub_100491A0(char a1, _BYTE *a2);
char __thiscall sub_100491E0(void *this);
char __cdecl sub_10049250(char a1, int a2);
char __cdecl sub_10049280(char a1, int a2);
char __cdecl sub_100492B0(char a1, int a2, char a3, unsigned __int8 *a4, _BYTE *a5, unsigned int a6);
char *__cdecl sub_10049480(char **a1);
int sub_100494D0();
int __cdecl sub_10049510(_BYTE *a1, int a2);
signed int __cdecl sub_10049580(_BYTE *a1, int a2);
// char *__usercall sub_10049620@<eax>(char *result@<eax>, const char *a2@<edi>, int a3@<esi>);
// const char *__usercall sub_10049680@<eax>(int a1@<eax>);
// int __usercall sub_100496A0@<eax>(unsigned int a1@<ebx>);
// int __usercall sub_100496E0@<eax>(_DWORD *a1@<eax>, void (__cdecl *a2)(signed int, void *)@<ebx>, int a3@<esi>);
// int __usercall sub_10049780@<eax>(int result@<eax>);
char *__cdecl sub_100497C0(int a1, char *a2, int a3, const char *a4);
// int __usercall sub_10049970@<eax>(int a1@<eax>);
// int __usercall sub_100499A0@<eax>(int a1@<esi>);
void __cdecl sub_100499D0(int (**a1)(void), char **a2, _DWORD *a3);
int sub_10049E40();
void *sub_10049E90();
char *sub_10049EF0();
char __cdecl sub_10049F10(int a1, int a2, unsigned int a3);
char **sub_10049F50();
int __cdecl sub_10049F60(int a1, int a2, int a3);
int __cdecl sub_1004A010(int a1, int a2, int a3, const char *a4, const char *a5);
// char *__usercall sub_1004A220@<eax>(const char *a1@<ecx>, const char *a2@<ebx>, int a3, char *a4, int a5, char a6);
char *__cdecl sub_1004A2E0(char a1);
int *__cdecl sub_1004A380(_BYTE *a1);
// int __usercall sub_1004A440@<eax>(int a1@<eax>);
// signed int __usercall sub_1004A5A0@<eax>(int a1@<esi>);
int __cdecl sub_1004A610(int, int); // weak
// signed int __usercall sub_1004A8F0@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>);
// int __usercall sub_1004B9A0@<eax>(int a1@<esi>, int a2, unsigned int a3);
// signed int __usercall sub_1004BA00@<eax>(int a1@<eax>, int a2, int a3);
// void *__usercall sub_1004C780@<eax>(void *a1@<eax>);
unsigned int __cdecl sub_1004C7A0(int a1, unsigned int a2);
// int __usercall sub_1004C800@<eax>(int result@<eax>);
// int __usercall sub_1004C840@<eax>(int result@<eax>);
// unsigned int __usercall sub_1004DF60@<eax>(int a1@<esi>, int a2);
// void *__usercall sub_1004E060@<eax>(size_t a1@<eax>, char *a2@<ecx>, _DWORD *a3);
// void *__usercall sub_1004E0E0@<eax>(int a1@<eax>, size_t a2@<ebx>, char *a3);
// int __usercall sub_1004E180@<eax>(int a1@<edi>, int a2, size_t a3);
// int __usercall sub_1004E240@<eax>(size_t a1@<edi>, int a2@<esi>, void *a3);
// int __usercall sub_1004E2A0@<eax>(char *a1@<edi>);
// int __usercall sub_1004E360@<eax>(int a1@<ebx>);
char __cdecl sub_1004E420(char *a1, size_t a2, int a3);
char __cdecl sub_1004E470(char *a1, unsigned int a2, int a3);
bool __cdecl sub_1004E4C0(int a1, int a2);
// int __usercall sub_1004E4F0@<eax>(char *a1@<edx>, void *a2@<ecx>, size_t a3, size_t a4, int a5, int a6, unsigned int a7);
// int __usercall sub_1004E700@<eax>(void *a1@<eax>, int a2);
char *__cdecl sub_1004E750(int a1, int a2);
signed int __cdecl sub_1004E7E0(char a1, void *a2, size_t a3, char *a4, _WORD *a5, int a6);
bool __cdecl sub_1004E910(void *a1, int a2);
// BOOL __usercall sub_1004E990@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>);
// int __usercall sub_1004EA30@<eax>(int result@<eax>);
unsigned int __fastcall sub_1004EAC0(unsigned int a1, int a2);
// int __usercall sub_1004EAE0@<eax>(int result@<eax>);
// int __usercall sub_1004EB70@<eax>(int result@<eax>, int a2, int a3);
// int __usercall sub_1004EFF0@<eax>(int a1@<eax>, _BYTE *a2@<edx>, int a3@<ecx>);
// void *__usercall sub_1004F0A0@<eax>(int a1@<edi>);
// int __usercall sub_1004F100@<eax>(int result@<eax>, int a2@<edx>);
// signed int __usercall sub_1004F2D0@<eax>(int a1@<edx>, int a2@<ebx>, int a3@<edi>);
_WORD *__fastcall sub_1004F350(int a1, int a2);
// signed int __usercall sub_1004F3C0@<eax>(int a1@<esi>);
// unsigned int __usercall sub_1004F480@<eax>(int a1@<esi>, unsigned int a2);
// unsigned int __usercall sub_1004F630@<eax>(int a1@<esi>, int a2);
// int __usercall sub_1004F700@<eax>(int result@<eax>, int a2@<edi>, int a3);
// int __usercall sub_1004F7B0@<eax>(int result@<eax>, __int16 a2@<cx>);
// unsigned int __usercall sub_1004F7F0@<eax>(unsigned int a1@<edx>, int a2@<esi>, void *a3);
// signed int __usercall sub_1004F850@<eax>(signed int result@<eax>, int a2@<ecx>, int a3);
// int __usercall sub_1004F930@<eax>(int result@<eax>, int a2@<edx>, int a3@<ecx>);
_WORD *__fastcall sub_1004FED0(int a1, int a2);
signed int __cdecl sub_1004FF30(int a1);
// int __usercall sub_1004FFC0@<eax>(int a1@<eax>);
// int __usercall sub_10050200@<eax>(int a1@<eax>, int a2@<ecx>, _BYTE *a3, int a4);
// signed int __usercall sub_100502A0@<eax>(int a1@<esi>, int a2);
// unsigned int __usercall sub_10050480@<eax>(int a1@<edi>);
// int __usercall sub_100505C0@<eax>(int a1@<eax>, int a2, int a3, int a4);
signed int __cdecl sub_10050870(int a1, int a2);
signed int __cdecl sub_10050B30(int a1, unsigned __int8 a2, int a3, int a4, int a5, unsigned __int8 a6, int a7, int a8);
// signed int __usercall sub_10050CE0@<eax>(int a1@<eax>);
// _WORD *__usercall sub_10050DB0@<eax>(int a1@<eax>, int a2@<ecx>, int a3);
signed int __cdecl sub_10050FD0(int a1, int a2);
signed int __cdecl sub_100512E0(int a1, int a2);
signed int __cdecl sub_100516F0(int a1, int a2);
char __cdecl sub_10051860(int a1, int a2);
char __cdecl sub_100518B0(int a1, int a2);
char __cdecl sub_10051960(int a1, int a2);
char __cdecl sub_100519C0(int a1, int a2);
signed int __cdecl sub_10051A90(_BYTE *a1, char a2, int a3);
int __cdecl sub_10051AE0(int, float, float, int, int); // idb
unsigned int __cdecl sub_10051BD0(char *a1, char a2, char a3, char a4, int a5);
unsigned int __cdecl sub_10051C20(_BYTE *a1, signed int a2, signed int a3, signed int a4, int a5);
unsigned int __cdecl sub_10051CE0(void *a1, size_t a2, int a3);
int __cdecl sub_10051D40(unsigned __int8 *a1, unsigned __int8 a2, unsigned __int8 a3, unsigned __int8 a4, int a5);
int __cdecl sub_10051D90(_BYTE *a1, unsigned __int16 a2, unsigned __int16 a3, __int16 a4, int a5);
int __cdecl sub_10051E30(_BYTE *a1, unsigned int a2, unsigned int a3, unsigned int a4, int a5);
char __cdecl sub_10051EE0(char a1, char a2, char a3, int a4, void *a5);
int __cdecl sub_10051FF0(char a1);
bool __cdecl sub_10052040(void *a1);
char __cdecl sub_10052080(char a1);
char __cdecl sub_100520B0(char a1, void *a2);
int __cdecl sub_10052130(char a1, _DWORD *a2);
int __cdecl sub_10052180(unsigned __int8 *a1);
unsigned int __cdecl sub_100521A0(void *a1);
unsigned int __cdecl sub_100521C0(void *a1);
unsigned int __cdecl sub_100521E0(void *a1);
unsigned int __cdecl sub_10052200(void *a1);
unsigned int __cdecl sub_10052220(void *a1);
unsigned int __cdecl sub_10052240(void *a1);
int __cdecl sub_100522A0(unsigned __int8 *a1, int a2);
char __cdecl sub_100522D0(int a1, int a2);
signed int __fastcall sub_100523F0(unsigned __int8 a1);
char __cdecl sub_10052400(unsigned __int8 a1);
__int16 __cdecl sub_10052420(unsigned __int8 a1);
signed int __cdecl sub_10052440(char a1, char a2);
int __cdecl sub_100524A0(char a1);
signed int __cdecl sub_100524E0(char a1, char a2, char a3);
int __cdecl sub_10052550(char a1);
int __cdecl sub_10052590(char a1);
char __cdecl sub_100525D0(char a1, int a2);
char __cdecl sub_100525F0(char a1, int a2);
char __cdecl sub_10052620(char a1, int a2);
char __cdecl sub_10052670(char a1, int a2);
char __cdecl sub_100526A0(char a1, int a2);
char __cdecl sub_100526C0(int a1);
char __cdecl sub_100526E0(char a1);
char sub_10052710();
BOOL __cdecl sub_100527B0(int a1, int a2);
char __cdecl sub_100527D0(int a1, char a2, int a3, int a4, int a5);
char sub_10052810();
int __cdecl sub_10052890(char a1);
int __cdecl sub_100528E0(int a1);
char __cdecl sub_100528F0(int a1, unsigned int a2);
int __cdecl sub_10052920(int a1, int a2, int a3);
// void __cdecl __noreturn exit_1(int);
int __cdecl sub_10052990(int a1, char a2);
int __cdecl sub_100529B0(int a1, int a2, int a3);
int __cdecl sub_100529E0(int a1, int a2, int a3, int a4, int a5);
int __cdecl sub_10052A20(int a1, int a2, int a3, int a4, int a5, int a6);
int __cdecl sub_10052A60(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
char __cdecl sub_10052AB0(int a1);
int __cdecl sub_10052AE0(int a1);
char *sub_10052B00(char *a1, ...);
int __cdecl sub_10052B40(int a1, int a2);
int __cdecl sub_10052BA0(int a1);
int __cdecl sub_10052BB0(int a1, int a2);
int __cdecl sub_10052C10(int a1);
int sub_10052C20();
int __cdecl sub_10052C50(char a1, char a2);
// bool __usercall sub_10052D00@<al>(unsigned __int8 a1@<al>, char a2, unsigned __int8 a3);
// char __usercall sub_10052D30@<al>(unsigned __int8 a1@<bl>, size_t a2@<edi>, int a3@<esi>, char a4, unsigned __int8 a5, void *a6);
char __cdecl sub_10052DD0(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5);
char __cdecl sub_10052E50(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5);
char __cdecl sub_10052ED0(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5);
char __cdecl sub_10052F50(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5);
char __cdecl sub_10052FD0(char a1);
BOOL __cdecl sub_10053070(unsigned __int8 a1);
// BOOL __usercall sub_10053080@<eax>(unsigned __int8 a1@<al>, char a2);
bool __cdecl sub_100530B0(char a1, char a2, unsigned __int8 a3, int a4);
bool __cdecl sub_10053260(unsigned __int8 a1, int a2);
bool __cdecl sub_100532A0(char a1, char a2, char a3, unsigned __int8 *a4, _DWORD *a5, int a6);
bool __cdecl sub_10053390(unsigned __int8 a1, char a2, unsigned int a3);
bool __cdecl sub_10053420(char a1, char a2, char a3, int a4, unsigned int a5, unsigned int a6);
char __cdecl sub_100534C0(char a1);
char __cdecl sub_10053540(char a1, int a2);
// int __usercall sub_100536B0@<eax>(char a1@<cl>, int *a2@<esi>, unsigned __int16 a3);
// int __usercall sub_100536F0@<eax>(unsigned __int8 a1@<bl>, int *a2@<esi>, int a3);
signed int sub_10053730();
char __cdecl sub_10053740(unsigned __int8 a1, unsigned __int16 a2, int a3);
char __cdecl sub_100537A0(char a1, void *a2);
char __cdecl sub_100538C0(unsigned __int8 a1, unsigned __int8 a2, int a3);
char __cdecl sub_10053940(int a1, char a2, char a3, unsigned __int8 *a4, int *a5, unsigned int a6);
int __cdecl sub_10053AF0(char a1);
int __cdecl sub_10053B10(int, void *); // idb
// int __usercall sub_10053B70@<eax>(char a1@<al>);
BOOL __cdecl sub_10053BA0(char a1, int a2);
int __cdecl sub_10053BD0(int, char, int, int, void *); // idb
char __cdecl sub_10053C00(void *a1);
BOOL __cdecl sub_10053C20(int a1);
char __cdecl sub_10053C40(int a1, char a2, int a3, int a4, void *a5);
bool __cdecl sub_10053C70(char a1, void *a2);
// signed int __usercall sub_10053CB0@<eax>(char a1@<al>);
bool __cdecl sub_10053CD0(char a1, void *a2);
bool __cdecl sub_10053DC0(char a1, char a2, int a3, int a4, void *a5);
char __cdecl sub_10053DF0(char a1, unsigned __int8 a2, int a3);
bool __cdecl sub_10053E90(char a1, unsigned __int8 a2, int a3);
char __cdecl sub_10053F10(char a1, unsigned __int8 a2, int a3);
char __cdecl sub_10053F80(char a1, void *a2);
char __cdecl sub_10054000(unsigned __int8 a1, unsigned __int8 a2, int a3);
char __cdecl sub_10054080(unsigned __int8 a1, unsigned __int8 a2, int a3);
char __cdecl sub_10054100(char a1, unsigned __int8 a2, int a3);
char __cdecl sub_10054170(char a1, char a2, char a3, unsigned __int8 *a4, int a5);
char __cdecl sub_10054280(char a1, void *a2);
bool __cdecl sub_100542A0(unsigned __int8 a1, char *a2);
char __cdecl sub_100542E0(int a1, char a2, int a3, int a4, void *a5);
BOOL sub_10054320();
char __cdecl sub_10054380(int a1, char *a2);
BOOL __cdecl sub_10054470(int a1, int a2);
char __cdecl sub_10054490(int a1, char a2, int a3, int a4, char *a5);
char __cdecl sub_100544D0(int a1, int a2);
BOOL __cdecl sub_10054580(int a1, int a2);
char __cdecl sub_100545A0(int a1, char a2, int a3, int a4, int a5);
char __cdecl sub_100545E0(void *a1);
char __cdecl sub_10054600(void *a1);
char __cdecl sub_10054750(int a1, char a2, char a3, int a4, void *a5, size_t a6);
char __cdecl sub_100548F0(char a1);
// __int16 __usercall sub_10054930@<ax>(unsigned __int8 a1@<al>);
char __cdecl sub_10054940(unsigned __int8 a1, char *a2);
char __cdecl sub_10054A10(char a1, char a2, char a3, int a4, char *a5, unsigned int a6);
char __cdecl sub_10054A90(unsigned __int16 a1, char *a2, char a3);
char __cdecl sub_10054BC0(char a1, int a2);
bool __cdecl sub_10054C40(void *a1);
char __cdecl sub_10054C90(char a1, int a2);
// __int16 __usercall sub_10054D70@<ax>(unsigned __int8 a1@<al>);
char __cdecl sub_10054D80(unsigned __int8 a1, int *a2, const void *a3);
char __cdecl sub_10054E10(unsigned __int8 a1, char a2);
bool __cdecl sub_10054ED0(__int16 a1, char a2, int a3, int a4, void *a5);
char __cdecl sub_10054FD0(char a1);
char __cdecl sub_10055010(char a1);
int sub_10055030();
int __cdecl sub_10055050(int a1, int a2, int a3);
int __cdecl sub_10055080(int a1, int a2);
int sub_100550B0();
int __cdecl sub_100550D0(int a1, int a2, int a3, int a4);
int sub_10055100();
int j_TSK_pvg_get_us_timer(void); // weak
int __cdecl sub_10055160(int a1, int a2, int a3, int a4);
int __cdecl sub_10055190(int a1);
signed int __cdecl sub_100551B0(int a1, int a2);
int __cdecl sub_100551F0(int a1, int a2);
int __cdecl sub_10055220(int a1, int a2);
int __cdecl sub_10055250(int a1, int a2, int a3, int a4);
int __cdecl sub_10055280(int a1, int a2);
int __cdecl sub_100552B0(int a1);
int __cdecl sub_100552D0(int a1);
int __cdecl sub_100552F0(_BYTE *a1);
int __cdecl sub_10055330(int a1, int a2);
int __cdecl sub_10055360(int a1, int a2);
unsigned int __cdecl sub_10055380(int a1, int a2, unsigned int a3);
int __cdecl j_HWM_pvg_get_color(_DWORD, _DWORD, _DWORD); // weak
int __cdecl j_HWM_pvg_get_rgb(_DWORD, _DWORD, _DWORD, _DWORD); // weak
int j_HWM_pvg_hsdb_get_lrus_online(void); // weak
int __cdecl j_HWM_pvg_log_err(_DWORD); // weak
int __cdecl j_HWM_pvg_read_reg(_DWORD); // weak
int __cdecl j_HWM_pvg_unmap_color(_DWORD); // weak
unsigned int __cdecl sub_10055470(int a1, unsigned int a2);
unsigned int __cdecl sub_100554B0(int a1, unsigned int a2);
int __cdecl sub_10055530(int a1, int a2);
signed int __cdecl sub_10055590(int a1);
// int __usercall sub_10055610@<eax>(const char **a1@<esi>);
// int __usercall sub_10055910@<eax>(int a1@<eax>, int a2@<ecx>);
signed int __cdecl sub_10055930(int a1);
int __cdecl sub_10055A00(LONG Value); // idb
int __cdecl j_FIL_vfs_clean_invalidate_cache(_DWORD); // weak
signed int __cdecl sub_10055AA0(unsigned int a1);
int __cdecl j_FIL_vfs_crc32(_DWORD, _DWORD, _DWORD, _DWORD); // weak
int j_FIL_vfs_dyn_linker(void); // weak
int __cdecl sub_10055B00(int a1, int a2, int a3, int a4, int a5);
int __cdecl j_FIL_vfs_mmap(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __cdecl j_FIL_vfs_open(_DWORD, _DWORD, _DWORD); // weak
signed int __cdecl sub_10055B70(unsigned int a1, void *a2, int a3);
signed int __cdecl sub_10055BB0(unsigned int a1, void *a2, int a3, int a4, int a5);
int __cdecl j_FIL_vfs_rename(_DWORD, _DWORD); // weak
signed int __cdecl sub_10055C40(unsigned int a1, int a2, int a3, int a4);
__int64 __cdecl sub_10055C90(int a1);
int __cdecl sub_10055CB0(int a1, int a2, int a3);
int __cdecl j_FIL_vfs_write(_DWORD, _DWORD, _DWORD); // weak
int __cdecl sub_10055CE0(int a1, int a2, int a3, char a4);
char __cdecl sub_10055D00(int a1);
char __cdecl sub_10055D30(int a1);
signed int __cdecl sub_10055D60(unsigned int a1, int a2, int a3);
int __cdecl sub_10055D80(int a1, int a2, int a3);
__int16 __cdecl sub_10055DA0(int a1, int a2, int a3, int a4);
int __cdecl j_HWM_pvg_rgn_get_info(_DWORD, _DWORD); // weak
__int16 __cdecl sub_10055DE0(int a1, _DWORD *a2, _BYTE *a3);
__int16 __cdecl sub_10055E40(int a1, _DWORD *a2);
void __cdecl sub_10055E60(int a1, _BYTE *a2);
signed __int64 __thiscall sub_10055E90(void *this);
int nullsub_2(void); // weak
int __cdecl sub_10055F80(int a1, int a2, int a3);
char __cdecl sub_10055FA0(int a1, int a2, int a3);
int __cdecl sub_10055FE0(int a1, int a2, int a3);
int __cdecl sub_10056010(int a1, int a2, int a3);
int __cdecl sub_10056030(int, void *, int, void *); // idb
int sub_10056080(void); // weak
int __cdecl sub_10056090(int a1);
int __cdecl sub_100560D0(int a1);
int __cdecl sub_10056110(int a1);
int __cdecl sub_10056150(int a1);
int __cdecl sub_10056190(int a1, int a2, int a3, int a4);
int __cdecl sub_10056200(int a1, int a2, int a3);
int __cdecl j_mem_unmap(_DWORD, _DWORD); // weak
unsigned int __cdecl sub_100562B0(int a1, int a2, unsigned int a3, char a4, unsigned __int16 a5, int a6);
// int __usercall sub_10056460@<eax>(int a1@<esi>);
int __cdecl sub_10056510(int a1, unsigned __int64 a2);
// int __usercall sub_100565C0@<eax>(int a1@<ebx>, unsigned __int64 a2);
unsigned int __cdecl sub_10056650(int a1, void *a2, int a3, int a4, int a5);
void __cdecl sub_100567A0(__int16 a1, _BYTE *a2);
int __cdecl sub_100567D0(int a1, int a2);
int __cdecl sub_10056850(int a1);
int __cdecl sub_10056880(int a1, int a2);
signed int __cdecl sub_10056970(int **a1);
int __cdecl sub_100569A0(int a1, int a2);
int __cdecl sub_10056A10(int a1, int a2);
int __cdecl sub_10056A40(int a1, int a2);
int __cdecl sub_10056AA0(int a1, _DWORD *a2);
int __cdecl sub_10056B60(int *a1, int a2, int *a3);
signed int __cdecl sub_10056BD0(int a1, _DWORD *a2);
int __cdecl sub_10056CA0(int a1, int *a2, int a3);
int __cdecl sub_10056D50(int *a1, int a2, int a3, char a4);
int __cdecl sub_10056EF0(int a1);
int __cdecl sub_10056F50(int, size_t, int); // idb
int __cdecl sub_10056FC0(int, int, size_t, int); // idb
int __cdecl sub_10057070(int a1, _DWORD *a2);
int __cdecl sub_100570B0(int *a1, int a2);
int __cdecl sub_100570F0(int a1, int a2);
int __cdecl sub_10057140(int a1, int a2);
int __cdecl sub_10057190(int a1, void (__cdecl *a2)(int, _DWORD, int), int a3, int a4);
int __cdecl sub_10057200(int a1);
signed int __cdecl sub_10057220(int a1, int a2);
signed int __cdecl sub_10057270(int a1, int a2);
int __cdecl sub_10057290(int a1);
signed int __cdecl sub_100572A0(int a1, int a2, unsigned int a3);
signed int __cdecl sub_100572C0(int a1, unsigned int a2, int a3, unsigned int a4);
int __cdecl sub_10057330(int, size_t, int); // idb
int __cdecl sub_10057380(int a1, _DWORD *a2);
int __cdecl sub_100573C0(int, size_t); // idb
int __cdecl sub_10057490(int a1);
char __cdecl sub_100574D0(int a1);
__int16 __cdecl sub_10057510(int a1);
int __cdecl sub_10057570(int a1);
char __cdecl sub_100575E0(int a1, _DWORD *a2);
int __cdecl sub_10057650(int a1, _DWORD *a2);
signed int __cdecl sub_10057710(int a1, int a2, int a3);
int __cdecl sub_10057980(int a1, signed int a2, int a3);
int __cdecl sub_10057AC0(unsigned int a1, unsigned int a2, int a3);
signed int __cdecl sub_10057B80(unsigned int a1, unsigned int a2, int a3);
int __cdecl sub_10057C00(int a1, int a2, int a3);
int __cdecl sub_10057C70(signed int a1, signed int a2);
int __cdecl sub_10057D70(int a1, int a2);
int __cdecl sub_10057E60(signed int a1);
signed int __cdecl sub_10057EA0(int a1, signed int a2);
int __cdecl sub_10058020(int a1, int a2);
int __cdecl sub_10058070(int a1);
int __cdecl sub_10058150(int a1);
int __cdecl sub_100582E0(int a1, signed int a2);
unsigned int __cdecl sub_100583C0(signed int a1);
int __cdecl sub_10058480(int a1, int a2, signed int a3);
int __cdecl sub_100584B0(int a1, int a2);
int __cdecl sub_10058500(int, size_t, int, int); // idb
int __cdecl sub_10058600(int, size_t, int, int); // idb
signed int __cdecl sub_10058630(int a1);
signed int __cdecl sub_100586E0(int a1, int a2);
signed int __cdecl sub_100587C0(int a1, int a2);
signed int __cdecl sub_10058850(int *a1, int a2);
int __cdecl sub_10058880(int a1, int a2);
int __cdecl sub_10058990(int a1, int a2, int a3);
void __cdecl sub_100589F0(int a1, int a2);
int __cdecl sub_10058A80(int a1, int a2);
int __cdecl sub_10058AD0(int a1, int *a2);
int __cdecl sub_10058B10(int a1);
int __cdecl sub_10058B60(int a1);
int __cdecl sub_10058C00(int *a1);
int __cdecl sub_10058C40(int a1);
int __cdecl sub_10058C90(int a1);
int __cdecl sub_10058D10(int a1, int a2, int a3);
int __cdecl sub_10058E80(int a1);
int __cdecl sub_10058ED0(int a1);
int __cdecl sub_10058F10(int a1);
int __cdecl sub_10058FD0(int a1, int a2);
int __cdecl sub_100590D0(int a1, int a2, int a3, int a4);
int __cdecl sub_10059100(int a1);
int __cdecl sub_10059170(int a1);
int __cdecl sub_100591B0(int a1);
signed int __cdecl sub_10059230(int a1, unsigned int a2, signed int a3);
int __cdecl sub_10059530(int a1);
signed int __cdecl sub_10059600(int a1, int a2, signed int a3);
signed int __cdecl sub_10059650(int a1, int a2, int a3, _DWORD *a4);
signed int __cdecl sub_100596A0(int a1, int a2, int a3, _DWORD *a4);
signed int __cdecl sub_10059920(int *a1, int a2, int *a3);
int __cdecl sub_100599E0(int a1, int a2);
signed int __cdecl sub_10059A20(int a1, int *a2);
int __cdecl sub_10059AE0(int a1);
int __cdecl sub_10059B60(int a1, int a2, int a3, int a4, int a5, int *a6);
signed int __cdecl sub_10059C80(int a1);
int __cdecl sub_10059D10(int a1);
int __cdecl sub_10059DA0(int a1, int a2, int a3);
int __cdecl sub_10059EE0(int a1, int a2, int a3);
signed int __cdecl sub_10059F30(int a1, int *a2);
signed int __cdecl sub_1005A060(int *a1);
signed int __cdecl sub_1005A150(int a1, signed int a2, signed int a3, signed int a4, signed int a5);
unsigned int __cdecl sub_1005A2F0(int a1, int a2);
signed int __cdecl sub_1005A380(int a1, int a2);
signed int __cdecl sub_1005A3B0(int a1, int a2);
int __cdecl sub_1005A420(int a1);
signed int __cdecl sub_1005A480(int a1, int a2, int a3, int *a4);
int __cdecl sub_1005A5B0(int a1, int a2);
int __cdecl sub_1005A600(int a1, int a2, int a3);
int __cdecl sub_1005A690(int a1);
int __cdecl sub_1005A6F0(int a1, int a2, int a3);
int __cdecl sub_1005A790(int a1, int a2);
signed int __cdecl sub_1005A7D0(int a1, int a2);
int __cdecl sub_1005A950(int a1);
int __cdecl sub_1005AA40(int a1);
int __cdecl sub_1005AA70(int, char *); // idb
int __cdecl sub_1005AAF0(int, char *); // idb
signed int __cdecl sub_1005AB30(int a1, int *a2);
int *__cdecl sub_1005ABD0(int a1);
signed int __cdecl sub_1005AC20(int *a1);
int __cdecl sub_1005ACA0(int a1);
int __cdecl sub_1005ACF0(int a1);
signed int __cdecl sub_1005AF50(int a1);
int __cdecl sub_1005B0C0(int a1, int a2);
signed int __cdecl sub_1005B1C0(int a1, int a2);
int __cdecl sub_1005B270(int a1);
int __cdecl sub_1005B2B0(int a1, int a2, void *a3, int a4);
int sub_1005B2F0();
int __cdecl sub_1005B340(int a1);
int __cdecl sub_1005B360(int a1, int a2, int a3, int a4);
signed int __cdecl sub_1005B430(int a1, int a2, int a3, int a4, int a5);
int __cdecl sub_1005B540(int a1, int a2, unsigned __int16 a3, int a4);
int __cdecl sub_1005B5C0(int a1, int a2, unsigned __int16 a3, int a4);
int __cdecl sub_1005B790(int a1, int a2, int a3, int a4);
int __cdecl sub_1005B800(int a1, unsigned int a2);
__int16 __cdecl sub_1005BB00(int a1, unsigned int a2, char a3, _WORD *a4, _WORD *a5);
__int16 __cdecl sub_1005BB50(int a1, unsigned int a2, _WORD *a3, _WORD *a4);
int __cdecl sub_1005BBE0(int a1);
int __cdecl sub_1005BD80(int a1, unsigned int a2);
signed int __cdecl sub_1005C010(int a1, int a2, int a3, int a4, int a5);
int __cdecl sub_1005C170(int a1, int a2);
int __cdecl sub_1005C360(int a1, int a2);
int __cdecl sub_1005C480(int a1, int a2);
int __cdecl sub_1005C5A0(int a1);
int __cdecl sub_1005C5F0(int, int, int, size_t); // idb
int __cdecl sub_1005C650(int a1);
signed int __cdecl sub_1005C670(int a1);
signed int __cdecl sub_1005C720(int a1);
int __cdecl sub_1005CBA0(int a1);
int __cdecl sub_1005CC70(int a1);
int __cdecl sub_1005CC90(int a1);
signed int __cdecl sub_1005CCA0(int a1);
signed int __cdecl sub_1005CD00(int a1);
int __cdecl sub_1005CE90(int a1);
signed int __cdecl sub_1005CEB0(int a1, int a2, int a3, _DWORD *a4);
unsigned int __cdecl sub_1005CF10(int a1, int a2);
int __cdecl sub_1005CF80(int a1, int a2, int a3, int a4);
signed int __cdecl sub_1005D030(int a1, int a2, int a3);
signed int __cdecl sub_1005D170(int a1, int a2);
signed int __cdecl sub_1005D190(int a1, int a2, int a3);
int __cdecl sub_1005D210(int a1, int a2);
signed int __cdecl sub_1005D530(int a1, int a2, char a3);
signed int __cdecl sub_1005D750(int a1, int a2, char a3);
signed int __cdecl sub_1005D9E0(int a1, int a2);
int __cdecl sub_1005DBE0(int a1);
int __cdecl sub_1005DC80(int a1, int a2);
int __cdecl sub_1005DD10(int a1, int a2);
signed int __cdecl sub_1005E2A0(int a1, int a2);
signed int __cdecl sub_1005E310(int a1, int a2);
int __cdecl sub_1005E390(int a1, int a2);
signed int __cdecl sub_1005E4F0(int a1, int a2);
signed int __cdecl sub_1005E7C0(int a1, int a2);
int __cdecl sub_1005E830(int a1, int a2);
int __cdecl sub_1005EA20(int a1);
int __cdecl sub_1005EAA0(int a1, int a2);
int __cdecl sub_1005EAB0(int a1, int a2);
int __cdecl sub_1005EB10(int a1, unsigned int a2);
unsigned int __cdecl sub_1005EB50(int a1, unsigned int a2);
int __cdecl sub_1005EDA0(int a1, unsigned int a2);
signed int __cdecl sub_1005EF40(int a1, int a2, int a3);
int __cdecl sub_1005F040(int a1, int a2);
signed int __cdecl sub_1005F470(int a1);
int __cdecl sub_1005F670(int a1, unsigned __int16 a2);
int __cdecl sub_1005F850(int a1, int a2);
int __cdecl sub_1005F900(int a1, int a2);
int __cdecl sub_1005F960(int a1);
int __cdecl sub_1005FB10(int a1, int *a2);
int __cdecl sub_1005FB70(int a1);
int __cdecl sub_1005FBF0(int a1);
int __cdecl sub_1005FC20(int a1, int a2, unsigned int a3);
signed int __cdecl sub_1005FC60(int a1, int a2);
signed int __cdecl sub_1005FD80(int a1);
int __cdecl sub_1005FF10(int a1, int a2);
int __cdecl sub_1005FFA0(int a1, _WORD *a2);
int __cdecl sub_10060000(int a1, __int16 a2, int a3, int a4);
char __cdecl sub_10060180(int a1, __int16 a2, int a3, int a4, int a5, int a6);
int __cdecl sub_10060310(int a1);
int __cdecl sub_10060340(int a1);
_BYTE *__cdecl sub_10060360(int a1, __int16 a2, int a3, int a4);
char __cdecl sub_10060430(int a1, __int16 a2, int a3, int a4, int a5, int a6);
int __cdecl sub_100605C0(int a1);
signed int __cdecl sub_100605D0(int a1, unsigned __int8 a2);
bool __cdecl sub_100607A0(int a1, int a2);
char __cdecl sub_10060950(int a1);
char __cdecl sub_10060A30(int a1);
char __cdecl sub_10060B60(int a1, int a2);
char __cdecl sub_10060C50(int a1, unsigned __int16 a2, unsigned __int16 a3, int a4);
char __cdecl sub_10061020(int a1, int a2, signed int a3);
char __cdecl sub_100611C0(int a1, int a2);
char __cdecl sub_100612E0(int a1, int a2, signed int a3, int a4, signed int a5, signed int a6, signed int a7);
char __cdecl sub_10061530(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
char __cdecl sub_100615A0(int a1, int a2, int a3, int a4, int a5);
int __cdecl sub_10061790(int a1);
char __cdecl sub_10061860(int a1, int a2, void (__cdecl *a3)(unsigned int), int a4, int a5);
char __cdecl sub_10061AE0(int a1, int a2, void (__cdecl *a3)(unsigned int), int a4, int a5);
char __cdecl sub_10061B90(int a1);
_DWORD *__cdecl sub_10062020(_DWORD *a1);
_DWORD *__cdecl sub_10062030(_DWORD *a1, int a2);
_DWORD *__cdecl sub_10062090(_DWORD *a1, int a2);
_DWORD *__cdecl sub_100620E0(_DWORD *a1);
int __cdecl sub_100621C0(int a1);
int __cdecl sub_10062200(int a1, int a2, int a3, int a4);
signed int __cdecl sub_10062250(int a1, int a2, int a3);
int __cdecl sub_10062440(int a1);
int __cdecl sub_10062470(int *a1, int *a2);
int __cdecl sub_10062540(int a1, int *a2);
int __cdecl sub_10062580(int a1);
int __cdecl sub_100625E0(int a1);
int __cdecl sub_10062660(int a1);
signed int __cdecl sub_10062680(int a1, int a2, int a3, unsigned int a4, signed int a5);
signed int __cdecl sub_100626B0(int a1, int a2, int a3, unsigned int a4, signed int a5);
int __cdecl sub_10062840(int a1, signed int a2, signed int a3);
signed int __cdecl sub_10062A40(int a1, int a2);
signed int __cdecl sub_10062AC0(int a1);
int __cdecl sub_10062AF0(int a1);
int __cdecl sub_100630E0(signed int a1, int a2);
signed int __cdecl sub_10063170(int a1);
int __cdecl sub_100633A0(int a1, signed int a2, signed int a3, int a4);
int __cdecl sub_100638E0(int a1);
int __cdecl sub_10063A10(int a1, int a2);
signed int __cdecl sub_10063AA0(int a1);
int __cdecl sub_10063C10(int a1, int a2);
int __cdecl sub_10063D10(int a1);
int __cdecl sub_10064060(int a1, int a2);
int __cdecl sub_100641B0(int a1);
int __cdecl sub_100643B0(int a1);
signed int __cdecl sub_100643E0(int a1, unsigned int a2, signed int a3);
int __cdecl sub_100647B0(int a1, int a2);
int __cdecl sub_10064840(int a1);
int __cdecl sub_10064880(int a1);
int __cdecl sub_10064AD0(int a1, int a2);
int __cdecl sub_10064B10(int a1);
int __cdecl sub_10064F80(int a1, int a2);
int __cdecl sub_100651E0(int a1, int a2);
int __cdecl sub_10065250(int a1);
int __cdecl sub_100657D0(int a1, int a2, int a3);
int __cdecl sub_10065990(int a1, int a2, int a3);
int __cdecl sub_10065A40(int a1, int a2, int a3, int a4);
int __cdecl sub_10065A80(int a1, int a2, int a3);
int __cdecl sub_10065AD0(int a1);
int __cdecl sub_10065AF0(int a1);
int __cdecl sub_10065BF0(int a1);
int __cdecl sub_10065C20(int a1);
int __cdecl sub_10065E90(int a1);
int __cdecl sub_10066090(unsigned int a1, unsigned int a2, unsigned int a3);
int __cdecl sub_10066100(unsigned int a1, unsigned int a2, int a3, int a4);
int __cdecl sub_100662B0(int a1, int a2, char a3);
int __cdecl sub_100663A0(int a1, __int16 a2, __int16 a3, __int16 a4, __int16 a5, char a6);
int __cdecl sub_10066600(int a1, __int16 a2, __int16 a3, __int16 a4, __int16 a5);
int __cdecl sub_100666F0(int a1, __int16 a2, __int16 a3, __int16 a4, __int16 a5);
void sub_10066800();
char __cdecl sub_10066810(char a1, char a2);
int __cdecl sub_10066830(int a1, signed int a2, int a3, int a4, int a5);
int __cdecl sub_10066F20(int a1, __int16 a2, __int16 a3, char a4);
unsigned int __cdecl sub_10067470(int a1, int a2, __int16 a3, __int16 a4, __int16 a5, __int16 a6, __int16 a7, __int16 a8);
int __cdecl sub_10067550(int a1, int a2, __int16 a3, __int16 a4, __int16 a5, __int16 a6, __int16 a7, __int16 a8);
int __cdecl sub_10067860(int a1);
int __cdecl sub_10067BB0(int a1);
unsigned int __cdecl sub_10067D90(int a1);
int __cdecl sub_100682C0(int a1, int a2, __int16 a3, __int16 a4, __int16 a5, __int16 a6, __int16 a7, __int16 a8);
signed int __cdecl sub_10068320(unsigned int a1, unsigned int a2, unsigned int *a3);
signed int __cdecl sub_10068450(unsigned int *a1);
int __cdecl sub_100684F0(unsigned int a1, unsigned int *a2);
signed int __cdecl sub_10068540(unsigned int a1, unsigned int a2, unsigned int a3, unsigned int *a4);
int __cdecl sub_10068630(int a1, unsigned int a2);
char __cdecl sub_100686E0(unsigned int a1, signed int a2, signed int a3);
signed int __cdecl sub_100687E0(unsigned int a1, unsigned int a2, unsigned int a3, unsigned int *a4);
signed int __cdecl sub_100688E0(int a1, unsigned int a2, unsigned int a3, unsigned int *a4);
signed int __cdecl sub_10068980(unsigned int a1, unsigned int a2, unsigned int a3, unsigned int *a4);
signed int __cdecl sub_10068C60(unsigned int a1, unsigned int a2, unsigned int a3, unsigned int *a4);
bool __cdecl sub_10068E40(int a1, int a2);
signed int __cdecl sub_10068EB0(int a1, int a2, int a3, int a4, int a5, __int16 a6, __int16 a7, unsigned int *a8);
signed int __cdecl sub_10069020(int a1, _DWORD *a2, void **a3, unsigned int *a4);
signed int __cdecl sub_100690B0(int a1, unsigned int a2, unsigned int a3, int (__cdecl *a4)(int, unsigned int, unsigned int, unsigned int, unsigned int, int, int, unsigned int *), int (__cdecl *a5)(int, unsigned int, unsigned int, int, signed int, unsigned int *), int (__cdecl *a6)(int, unsigned int, unsigned int, int, signed int, unsigned int *), unsigned int *a7);
int __cdecl sub_100699D0(int a1, int a2, int a3);
unsigned int __cdecl sub_10069BC0(unsigned int a1);
signed int __cdecl sub_10069CB0(int a1, int a2, int a3, int a4, int a5, __int16 a6, __int16 a7, unsigned int *a8);
signed int __cdecl sub_10069F70(int a1, int a2, int a3, __int16 a4, __int16 a5, unsigned int *a6);
signed int __cdecl sub_1006A020(int a1, _WORD *a2, _WORD *a3, _WORD *a4, _WORD *a5, __int16 a6, __int16 a7, unsigned int *a8);
signed int __cdecl sub_1006A170(int a1, int a2, __int16 a3, __int16 a4, _DWORD *a5, unsigned int *a6);
int __cdecl sub_1006A260(int a1, __int16 a2, __int16 a3, __int16 a4, __int16 a5, __int16 a6, __int16 a7, __int16 a8, __int16 a9);
_DWORD *__cdecl sub_1006AB40(_DWORD *a1, __int16 a2, __int16 a3, __int16 a4, __int16 a5);
char __cdecl sub_1006ACF0(__int16 a1, __int16 a2);
bool __cdecl sub_1006AD30(int a1, int a2, __int16 a3, __int16 a4, __int16 a5, __int16 a6);
signed int __cdecl sub_1006B190(__int16 a1, __int16 a2, __int16 a3, __int16 a4, unsigned int *a5);
signed int __cdecl sub_1006B660(int a1, int a2, __int16 a3, __int16 a4, __int16 a5, __int16 a6, char a7, unsigned int *a8);
double __cdecl sub_1006C200(int a1, int a2, int a3);
signed int __cdecl sub_1006C300(int a1, signed int a2, int a3, unsigned int *a4);
int __cdecl sub_1006CCC0(int a1, int a2, int a3);
_DWORD *__cdecl sub_1006CDF0(int a1, int a2, int a3, _DWORD *a4);
int __cdecl sub_1006CF30(int a1);
int __cdecl sub_1006CFD0(signed int a1, int a2, int a3, int a4, int a5, int a6, unsigned int *a7);
int __cdecl sub_1006D1B0(signed int a1, __int16 a2, __int16 a3, _DWORD *a4, int *a5, int *a6, _DWORD *a7, _DWORD *a8, _DWORD *a9);
int *__cdecl sub_1006D2A0(unsigned int a1, unsigned int *a2);
signed int __cdecl sub_1006D2E0(int a1, int a2, int a3, int a4, _DWORD *a5, unsigned int *a6);
signed int __cdecl sub_1006D430(int a1);
int __cdecl sub_1006D4F0(int a1, int a2);
signed int __cdecl sub_1006D580(int a1, signed int a2, int a3, int a4, unsigned int *a5);
int __cdecl sub_1006D810(int a1, __int16 a2, __int16 a3);
char __cdecl sub_1006D870(int a1);
char __cdecl sub_1006D920(int a1);
int __cdecl sub_1006DA90(int a1);
char *__cdecl sub_1006DAF0(int a1);
unsigned int __cdecl sub_1006DC40(int a1, signed int a2, int a3, int a4);
int __cdecl sub_1006DD00(int a1, int a2);
unsigned int __cdecl sub_1006DE20(int a1, int a2);
int __cdecl sub_1006DFC0(int a1, int a2, int a3);
int __cdecl sub_1006E040(int a1, int a2, int a3);
int __cdecl sub_1006E0B0(int a1, int a2, int a3);
char __cdecl sub_1006E130(int a1, signed int a2, int a3, int a4);
int __cdecl sub_1006E240(int a1, signed int a2, signed int a3);
int __cdecl sub_1006E330(int a1, signed int a2, int a3, int a4);
int __cdecl sub_1006E430(int a1, int a2);
char *__cdecl sub_1006E560(int a1, signed int a2, int a3, int *a4);
char *__cdecl sub_1006E6A0(int a1, signed int a2, int a3, int *a4);
int __cdecl sub_1006E8F0(int a1, signed int a2, int a3);
int __cdecl sub_1006EA30(int a1, signed int a2, int a3);
int __cdecl sub_1006EB70(int a1, signed int a2, signed int a3);
int __cdecl sub_1006F040(int a1);
int __cdecl sub_1006F210(unsigned int a1, unsigned int a2);
int *__cdecl sub_1006F2C0(unsigned int a1, unsigned int a2);
int __cdecl sub_1006F350(int, void *); // idb
void *__cdecl sub_1006F470(void *a1, unsigned int a2, unsigned int a3);
signed int __cdecl sub_1006F580(int a1);
__int16 *sub_1006F700();
int __cdecl sub_1006F780(unsigned int a1, unsigned int a2);
int *__cdecl sub_1006F940(unsigned int a1, unsigned int a2);
int __cdecl sub_1006FA10(int a1, unsigned int a2, unsigned int a3);
void *__cdecl sub_1006FB90(void *a1, unsigned int a2, unsigned int a3);
int __cdecl sub_1006FDD0(int a1, int a2, unsigned int a3);
int __cdecl sub_1006FE80(unsigned int a1, int a2, unsigned int a3);
// int __usercall sub_1006FFD0@<eax>(__int16 a1@<ax>);
// int __usercall sub_10070030@<eax>(__int16 a1@<ax>);
int __cdecl sub_100700B0(int a1);
int __cdecl sub_10070110(int a1);
double __cdecl sub_10070130(double a1, double a2);
int __cdecl sub_10070190(double); // idb
int __cdecl sub_100701B0(double); // idb
int __cdecl sub_100701E0(float); // idb
double __cdecl sub_10070210(float a1, float a2);
signed int __cdecl sub_10070280(unsigned int a1);
int __cdecl sub_10070300(unsigned __int8 a1, unsigned int a2);
unsigned int __cdecl sub_10070320(unsigned int *a1, signed int a2, unsigned int a3);
// int unknown_libname_6(void); weak
int __cdecl sub_10070460(void *, void *); // idb
signed int __cdecl sub_100704D0(_WORD *a1, int a2, int a3, int a4, int a5);
signed int __cdecl sub_100705B0(int a1);
signed int __cdecl sub_10070610(_DWORD *a1);
int __cdecl sub_10070640(void *); // idb
int __cdecl sub_10070680(void *); // idb
signed int __cdecl sub_100706C0(_BYTE *a1);
signed int sub_100706F0();
signed int sub_100707C0();
int __cdecl sub_100708B0(char *, void *); // idb
int __cdecl sub_100708F0(int, int, int, int, char *, char *, int); // idb
signed int __cdecl sub_10070A30(_DWORD *a1);
int __cdecl sub_10070A70(void *, int); // idb
int __cdecl sub_10070AD0(int, int, void *); // idb
int __cdecl sub_10070C80(int, void *); // idb
int __cdecl sub_10070CF0(int, void *); // idb
int __cdecl sub_10070D80(int a1, int a2, int a3, int *a4);
signed int __cdecl sub_10071040(int a1, int a2, int *a3, signed int a4);
int __cdecl sub_100710D0(int a1, int a2, int a3);
int __cdecl sub_10071120(char *, void *); // idb
int __cdecl sub_10071290(int a1);
int __cdecl sub_100712E0(int a1);
// int SYS_exit_krnl(void); weak
// int __cdecl SYS_pvg_is_booting(_DWORD); weak
// int SYS_enter_krnl(void); weak
// int __cdecl SYS_pvg_var_ctrl(_DWORD, _DWORD); weak
// int TSK_pvg_get_id(void); weak
// int __cdecl TSK_pvg_get_mon_data(_DWORD, _DWORD, _DWORD); weak
// int __cdecl TSK_pvg_get_msg(_DWORD, _DWORD); weak
// int TSK_pvg_get_timer(void); weak
// int __cdecl TSK_pvg_get_tsk_info(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl TSK_pvg_kill_process(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl TSK_pvg_release_smphr(_DWORD); weak
// int __cdecl TSK_pvg_reply_msg(_DWORD, _DWORD); weak
// int __cdecl TSK_pvg_reserve_smphr(_DWORD, _DWORD); weak
// int __cdecl TSK_pvg_send_evnt(_DWORD, _DWORD); weak
// int __cdecl TSK_pvg_send_msg(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl TSK_pvg_send_msg_ex(_DWORD, _DWORD); weak
// int __cdecl TSK_pvg_set_proc_status(_DWORD); weak
// int __cdecl TSK_pvg_suspend(_DWORD); weak
// int __cdecl TSK_pvg_wait_evnt(_DWORD); weak
// int FIL_vfs_close(void); weak
// int __cdecl FIL_vfs_memmove_swi(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int FIL_vfs_read(void); weak
// int __cdecl FIL_vfs_read_ofst(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl FIL_vfs_seek(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl FIL_vfs_size(_DWORD); weak
// int __cdecl FIL_vfs_truncate(_DWORD, _DWORD, _DWORD); weak
// int __cdecl FIL_vfs_write_ofst(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl HWM_pvg_read_rgn(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl SYS_pvg_ftr_get(_DWORD, _DWORD); weak
// int __cdecl reg_read(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl reg_write(_DWORD, _DWORD, _DWORD, _DWORD); weak
// void *__cdecl memset(void *, int, size_t);
// int __cdecl strncmp(const char *, const char *, size_t);
void __cdecl sub_100715D8(char a1);
// double __cdecl sqrt(double);
// _DWORD __thiscall _LocaleUpdate::_LocaleUpdate(_LocaleUpdate *this, struct localeinfo_struct *); idb
// int __cdecl tolower(int);
// char *__cdecl strstr(const char *, const char *);
// void *__cdecl memcpy(void *, const void *, size_t);
// double __cdecl floor(double);
__int32 __cdecl j__atol(const char *);
// char *__cdecl strncat(char *, const char *, size_t);
// double __cdecl atof(const char *);
// int __cdecl toupper(int);
// int __cdecl atexit(void (__cdecl *)());
void __thiscall sub_100725FA(int this);
void *__thiscall sub_10072605(void *this, char a2);
std::exception *__thiscall sub_10072627(std::exception *this, struct std::exception *a2);
// void *__cdecl operator new(size_t); idb
void __cdecl j__free(void *);
// _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *); weak
// char *__cdecl strncpy(char *, const char *, size_t);
// void *__cdecl memcpy_0(void *, const void *, size_t);
// size_t __cdecl strlen(const char *);
// char *__cdecl strrchr(const char *, int);
// int __cdecl strcmp(const char *, const char *);
// char *__cdecl strchr(const char *, int);
// void *__cdecl memchr(const void *, int, size_t);
// int __cdecl _vsnprintf(char *, size_t, const char *, va_list);
// int *__cdecl _errno();
// unsigned __int32 *__cdecl __doserrno();
// _DWORD __cdecl _dosmaperr(_DWORD); weak
// double __usercall sub_1007439A@<st0>(double@<st0>); weak
// int __cdecl memcmp(const void *, const void *, size_t);
// _DWORD __cdecl __report_gsfailure(char); weak
// _DWORD __cdecl _encode_pointer(_DWORD); weak
// int _encoded_null(void); weak
// _DWORD __cdecl _decode_pointer(_DWORD); weak
// int _getptd(void); weak
// int __cdecl isleadbyte(int);
int __cdecl sub_10078902(int a1);
// int __cdecl _invoke_watson(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// _DWORD __cdecl __strgtold12_l(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
signed int __cdecl sub_10079195(_DWORD *a1);
signed int __cdecl sub_100791CC(_DWORD *a1);
// void __cdecl free(void *);
// _DWORD __cdecl _calloc_crt(size_t, _DWORD); weak
void sub_1007979D();
int (*sub_10079C4A())(void);
void __cdecl sub_10079C6E(); // idb
// BOOL __stdcall DllMain(HINSTANCE hinstDLL, DWORD fdwReason, LPVOID lpvReserved);
// _DWORD __thiscall std::exception::exception(std::exception *this, const struct std::exception *); idb
void __thiscall sub_1007A32B(int this);
void *__thiscall sub_1007A34E(void *this, char a2);
void __thiscall sub_1007A36A(struct type_info *this);
void *__thiscall sub_1007A378(void *this, char a2);
int __cdecl sub_1007A4C1(int a1);
void __thiscall sub_1007A537(int this);
void *__thiscall sub_1007A542(void *this, char a2);
std::exception *__thiscall sub_1007B0C5(std::exception *this, struct std::exception *a2);
int __cdecl sub_1007B596(int a1);
int __cdecl sub_1007D3C0(int, FILE *); // idb
// int __fastcall _cintrindisp2(_DWORD, _DWORD); weak
int __cdecl sub_1007FF4B(int, int, struct localeinfo_struct *); // idb
int __cdecl sub_1007FFF1(int, int, struct localeinfo_struct *); // idb
// int _get_sse2_info(void); weak
int sub_10080512();
void sub_1008051F();
int sub_10080E1C();
signed int __cdecl sub_100817E5(int a1, int a2);
signed int __cdecl sub_10081D27(int a1, int a2);
int sub_100825C8();
int __cdecl sub_10082785(int a1);
int __cdecl sub_1008278F(int a1);
// void __cdecl type_info::_Type_info_dtor(struct type_info *); idb
int __cdecl sub_100837F2(int a1, int a2, int a3);
DWORD __cdecl sub_10083A89(int a1, int a2, int a3, DWORD dwMoveMethod);
// __int64 __cdecl _lseeki64(int, __int64, int);
_WORD *__cdecl sub_10083C25(int a1, int a2, DWORD nNumberOfBytesToWrite);
_WORD *__cdecl sub_10084247(int a1, int a2, DWORD nNumberOfBytesToWrite);
// _DWORD __cdecl _getbuf(_DWORD); weak
int __cdecl sub_10084367(signed int a1);
void **sub_100843C5();
signed int sub_100843CB();
// int __cdecl _fileno(FILE *);
// int __cdecl mbtowc(wchar_t *, const char *, size_t);
signed int __cdecl sub_10085544(signed int a1);
signed int __cdecl sub_100855C5(signed int a1);
// _DWORD __cdecl __lock_fhandle(_DWORD); weak
void __cdecl sub_100856D6(signed int a1);
// int __cdecl _putwch_nolock(__int16 Buffer); idb
// _DWORD __cdecl flsall(_DWORD); weak
int sub_100859D7();
signed int __cdecl sub_10085C5C(signed int a1);
// int __usercall sub_10085E00@<eax>(int a1@<ebp>);
// void __usercall sub_10085E20(int a1@<ebp>);
// int __usercall sub_10085E28@<eax>(int a1@<ebp>);
// int __usercall sub_10085E40@<eax>(int a1@<ebp>);
// int (__thiscall ***__usercall sub_10085E60@<eax>(int a1@<ebp>))(_DWORD, _DWORD);
int __cdecl SEH_1000F860(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// void __usercall sub_10085E80(int a1@<ebp>);
int __cdecl filebuf::~filebuf(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// void __usercall sub_10085EA0(int a1@<ebp>);
// void __usercall sub_10085EA8(int a1@<ebp>);
int __cdecl SEH_100118E0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// void __usercall sub_10085EC0(int a1@<ebp>);
int __cdecl SEH_10011F80(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// signed int __usercall sub_10085EE0@<eax>(int a1@<ebp>);
// signed int __usercall sub_10085EE8@<eax>(int a1@<ebp>);
// signed int __usercall sub_10085EF0@<eax>(int a1@<ebp>);
// int __usercall sub_10085EF8@<eax>(int a1@<ebp>);
// signed int __usercall sub_10085F0D@<eax>(int a1@<ebp>);
// signed int __usercall sub_10085F15@<eax>(int a1@<ebp>);
// int __usercall sub_10085F1D@<eax>(int a1@<ebp>);
int __cdecl SEH_10012BC0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// void __usercall sub_10085F40(int a1@<ebp>);
// signed int __usercall sub_10085F4B@<eax>(int a1@<ebp>);
// signed int __usercall sub_10085F56@<eax>(int a1@<ebp>);
// signed int __usercall sub_10085F61@<eax>(int a1@<ebp>);
int __cdecl SEH_10013D70(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// signed int __usercall sub_10085F80@<eax>(int a1@<ebp>);
// signed int __usercall sub_10085F88@<eax>(int a1@<ebp>);
int __cdecl SEH_10034A30(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// int __usercall sub_10085FA0@<eax>(int a1@<ebp>);
// void __usercall sub_10085FA8(int a1@<ebp>);
// void __usercall sub_10085FB3(int a1@<ebp>);
// void __usercall sub_10085FBE(int a1@<ebp>);
// void __usercall sub_10085FE0(int a1@<ebp>);
// void __usercall sub_10085FE8(int a1@<ebp>);
// void __usercall sub_10085FF3(int a1@<ebp>);
// void __usercall sub_10085FFE(int a1@<ebp>);
// void __usercall sub_10086009(int a1@<ebp>);
int sub_10086014(); // weak
// void __usercall sub_10086020(int a1@<ebp>);
int __cdecl SEH_100164C0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// int __usercall sub_10086040@<eax>(int a1@<ebp>);
// void __usercall sub_1008604B(int a1@<ebp>);
// int __usercall sub_10086059@<eax>(int a1@<ebp>);
// void __usercall sub_10086064(int a1@<ebp>);
// int __usercall sub_10086072@<eax>(int a1@<ebp>);
// void __usercall sub_1008607D(int a1@<ebp>);
// void __usercall sub_1008608B(int a1@<ebp>);
// void __usercall sub_10086099(int a1@<ebp>);
// void __usercall sub_100860A4(int a1@<ebp>);
// void __usercall sub_100860B2(int a1@<ebp>);
// void __usercall sub_100860BD(int a1@<ebp>);
// void __usercall sub_100860CB(int a1@<ebp>);
// void __usercall sub_100860D6(int a1@<ebp>);
// void __usercall sub_100860E4(int a1@<ebp>);
// void __usercall sub_100860EF(int a1@<ebp>);
// void __usercall sub_100860FD(int a1@<ebp>);
// void __usercall sub_1008610B(int a1@<ebp>);
// void __usercall sub_10086119(int a1@<ebp>);
// void __usercall sub_10086127(int a1@<ebp>);
// void __usercall sub_10086135(int a1@<ebp>);
// void __usercall sub_10086140(int a1@<ebp>);
// void __usercall sub_1008614E(int a1@<ebp>);
// void __usercall sub_10086159(int a1@<ebp>);
// void __usercall sub_10086164(int a1@<ebp>);
// void __usercall sub_10086172(int a1@<ebp>);
// void __usercall sub_1008617D(int a1@<ebp>);
// void __usercall sub_1008618B(int a1@<ebp>);
// int __usercall sub_10086196@<eax>(int a1@<ebp>);
// void __usercall sub_100861AB(int a1@<ebp>);
// void __usercall sub_100861B9(int a1@<ebp>);
// int __usercall sub_100861C4@<eax>(int a1@<ebp>);
// void __usercall sub_100861D9(int a1@<ebp>);
// void __usercall sub_100861E7(int a1@<ebp>);
// void __usercall sub_100861F2(int a1@<ebp>);
// void __usercall sub_100861FD(int a1@<ebp>);
// int __usercall sub_10086208@<eax>(int a1@<ebp>);
// void __usercall sub_10086213(int a1@<ebp>);
int __cdecl SEH_10016720(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// void __usercall sub_10086230(int a1@<ebp>);
int __cdecl SEH_10019980(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// void __usercall sub_10086250(int a1@<ebp>);
// void __usercall sub_10086258(int a1@<ebp>);
int __cdecl SEH_10019B00(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// void __usercall sub_10086270(int a1@<ebp>);
// void __usercall sub_1008627B(int a1@<ebp>);
int __cdecl SEH_1001AB20(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// void __usercall sub_10086290(int a1@<ebp>);
// int __usercall sub_10086298@<eax>(int a1@<ebp>);
int __cdecl SEH_1001B1A0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// int __usercall sub_100862B0@<eax>(int a1@<ebp>);
// int __usercall sub_100862B8@<eax>(int a1@<ebp>);
int __cdecl SEH_1001E460(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// int __usercall sub_100862D0@<eax>(int a1@<ebp>);
// void __usercall sub_100862D8(int a1@<ebp>);
int __cdecl SEH_1001E670(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// void __usercall sub_100862F0(int a1@<ebp>);
// void __usercall sub_100862F8(int a1@<ebp>);
// void __usercall sub_10086300(int a1@<ebp>);
int __cdecl SEH_1001FFF0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// void __usercall sub_10086320(int a1@<ebp>);
// void __usercall sub_10086328(int a1@<ebp>);
// void __usercall sub_10086330(int a1@<ebp>);
// int __usercall sub_10086338@<eax>(int a1@<ebp>);
// void __usercall sub_10086340(int a1@<ebp>);
// void __usercall sub_1008634B(int a1@<ebp>);
int __cdecl SEH_100203B0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// void __usercall sub_10086360(int a1@<ebp>);
// void __usercall sub_10086368(int a1@<ebp>);
// int __usercall sub_10086373@<eax>(int a1@<ebp>);
// void __usercall sub_1008637B(int a1@<ebp>);
// int __usercall sub_10086386@<eax>(int a1@<ebp>);
// void __usercall sub_1008638E(int a1@<ebp>);
// int __usercall sub_10086399@<eax>(int a1@<ebp>);
int __cdecl SEH_10020540(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// void __usercall sub_100863B0(int a1@<ebp>);
// void __usercall sub_100863B8(int a1@<ebp>);
// void __usercall sub_100863C6(int a1@<ebp>);
// int __usercall sub_100863D1@<eax>(int a1@<ebp>);
int __cdecl SEH_100209B0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
int __cdecl SEH_10020EF0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// signed int __usercall sub_10086410@<eax>(int a1@<ebp>);
// int __usercall sub_10086418@<eax>(int a1@<ebp>);
// signed int __usercall sub_1008642D@<eax>(int a1@<ebp>);
// int __usercall sub_10086435@<eax>(int a1@<ebp>);
int __cdecl SEH_100212D0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// signed int __usercall sub_10086460@<eax>(int a1@<ebp>);
// int __usercall sub_10086468@<eax>(int a1@<ebp>);
// signed int __usercall sub_1008647D@<eax>(int a1@<ebp>);
int __cdecl SEH_100216A0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// signed int __usercall sub_10086490@<eax>(int a1@<ebp>);
// int __usercall sub_10086498@<eax>(int a1@<ebp>);
// signed int __usercall sub_100864AA@<eax>(int a1@<ebp>);
// int __usercall sub_100864B2@<eax>(int a1@<ebp>);
int __cdecl SEH_10021CA0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// signed int __usercall sub_100864D0@<eax>(int a1@<ebp>);
// signed int __usercall sub_100864DB@<eax>(int a1@<ebp>);
// int __usercall sub_100864E6@<eax>(int a1@<ebp>);
// signed int __usercall sub_100864F8@<eax>(int a1@<ebp>);
// int __usercall sub_10086503@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086518@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086523@<eax>(int a1@<ebp>);
// int __usercall sub_1008652E@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086543@<eax>(int a1@<ebp>);
// int __usercall sub_1008654E@<eax>(int a1@<ebp>);
int __cdecl SEH_10022210(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// signed int __usercall sub_10086570@<eax>(int a1@<ebp>);
// signed int __usercall sub_1008657B@<eax>(int a1@<ebp>);
// int __usercall sub_10086586@<eax>(int a1@<ebp>);
// signed int __usercall sub_1008659B@<eax>(int a1@<ebp>);
// int __usercall sub_100865A6@<eax>(int a1@<ebp>);
// signed int __usercall sub_100865BB@<eax>(int a1@<ebp>);
// signed int __usercall sub_100865C6@<eax>(int a1@<ebp>);
// int __usercall sub_100865D1@<eax>(int a1@<ebp>);
// signed int __usercall sub_100865E6@<eax>(int a1@<ebp>);
// signed int __usercall sub_100865F1@<eax>(int a1@<ebp>);
// int __usercall sub_100865FC@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086611@<eax>(int a1@<ebp>);
// signed int __usercall sub_1008661C@<eax>(int a1@<ebp>);
// int __usercall sub_10086627@<eax>(int a1@<ebp>);
// signed int __usercall sub_1008663C@<eax>(int a1@<ebp>);
// int __usercall sub_10086647@<eax>(int a1@<ebp>);
int __cdecl SEH_10022AA0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// signed int __usercall sub_10086670@<eax>(int a1@<ebp>);
// signed int __usercall sub_1008667B@<eax>(int a1@<ebp>);
// int __usercall sub_10086686@<eax>(int a1@<ebp>);
// signed int __usercall sub_1008669B@<eax>(int a1@<ebp>);
// signed int __usercall sub_100866A6@<eax>(int a1@<ebp>);
// int __usercall sub_100866B1@<eax>(int a1@<ebp>);
// signed int __usercall sub_100866C6@<eax>(int a1@<ebp>);
// int __usercall sub_100866D1@<eax>(int a1@<ebp>);
// signed int __usercall sub_100866E6@<eax>(int a1@<ebp>);
// int __usercall sub_100866EE@<eax>(int a1@<ebp>);
// int __usercall sub_10086703@<eax>(int a1@<ebp>);
int __cdecl SEH_10023710(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// signed int __usercall sub_10086730@<eax>(int a1@<ebp>);
// signed int __usercall sub_1008673B@<eax>(int a1@<ebp>);
// int __usercall sub_10086746@<eax>(int a1@<ebp>);
// signed int __usercall sub_1008675B@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086766@<eax>(int a1@<ebp>);
// int __usercall sub_10086771@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086786@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086791@<eax>(int a1@<ebp>);
// signed int __usercall sub_1008679C@<eax>(int a1@<ebp>);
// signed int __usercall sub_100867A7@<eax>(int a1@<ebp>);
// int __usercall sub_100867B2@<eax>(int a1@<ebp>);
int __cdecl SEH_10024490(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// signed int __usercall sub_100867E0@<eax>(int a1@<ebp>);
// signed int __usercall sub_100867EB@<eax>(int a1@<ebp>);
// int __usercall sub_100867F6@<eax>(int a1@<ebp>);
// signed int __usercall sub_1008680B@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086816@<eax>(int a1@<ebp>);
// int __usercall sub_10086821@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086836@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086841@<eax>(int a1@<ebp>);
// int __usercall sub_1008684C@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086861@<eax>(int a1@<ebp>);
// signed int __usercall sub_1008686C@<eax>(int a1@<ebp>);
// int __usercall sub_10086877@<eax>(int a1@<ebp>);
int __cdecl SEH_10025410(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// signed int __usercall sub_100868A0@<eax>(int a1@<ebp>);
// signed int __usercall sub_100868A8@<eax>(int a1@<ebp>);
int __cdecl SEH_10026450(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// void __usercall sub_100868C0(int a1@<ebp>);
// void __usercall sub_100868C8(int a1@<ebp>);
// int __usercall sub_100868D3@<eax>(int a1@<ebp>);
int __cdecl SEH_100279D0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// void __usercall sub_100868F0(int a1@<ebp>);
// void __usercall sub_100868F8(int a1@<ebp>);
// void __usercall sub_10086906(int a1@<ebp>);
// int __usercall sub_10086911@<eax>(int a1@<ebp>);
int __cdecl SEH_10027BA0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// void __usercall sub_10086930(int a1@<ebp>);
int __cdecl SEH_10027CD0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// signed int __usercall sub_10086950@<eax>(int a1@<ebp>);
// signed int __usercall sub_1008695B@<eax>(int a1@<ebp>);
// int __usercall sub_10086966@<eax>(int a1@<ebp>);
// signed int __usercall sub_1008697B@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086986@<eax>(int a1@<ebp>);
// int __usercall sub_10086991@<eax>(int a1@<ebp>);
// signed int __usercall sub_100869A6@<eax>(int a1@<ebp>);
// signed int __usercall sub_100869B1@<eax>(int a1@<ebp>);
// int __usercall sub_100869BC@<eax>(int a1@<ebp>);
// signed int __usercall sub_100869D1@<eax>(int a1@<ebp>);
// signed int __usercall sub_100869DC@<eax>(int a1@<ebp>);
// int __usercall sub_100869E7@<eax>(int a1@<ebp>);
// void __usercall sub_100869FC(int a1@<ebp>);
// signed int __usercall sub_10086A07@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086A0F@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086A17@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086A22@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086A2A@<eax>(int a1@<ebp>);
// int __usercall sub_10086A32@<eax>(int a1@<ebp>);
int __cdecl SEH_1002FCF0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// void __usercall sub_10086A60(int a1@<ebp>);
int __cdecl SEH_10020160(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// void __usercall sub_10086A80(int a1@<ebp>);
// int __usercall sub_10086A88@<eax>(int a1@<ebp>);
// int __usercall sub_10086A90@<eax>(int a1@<ebp>);
int __cdecl SEH_10031670(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// void __usercall sub_10086AB0(int a1@<ebp>);
// void __usercall sub_10086AB8(int a1@<ebp>);
// void __usercall sub_10086AC6(int a1@<ebp>);
// int __usercall sub_10086ACE@<eax>(int a1@<ebp>);
int __cdecl SEH_100317D0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// signed int __usercall sub_10086AE0@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086AE8@<eax>(int a1@<ebp>);
// int __usercall sub_10086AF0@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086B05@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086B0D@<eax>(int a1@<ebp>);
int __cdecl SEH_10034EB0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// signed int __usercall sub_10086B20@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086B28@<eax>(int a1@<ebp>);
// int __usercall sub_10086B30@<eax>(int a1@<ebp>);
int __cdecl SEH_10035D30(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// signed int __usercall sub_10086B50@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086B58@<eax>(int a1@<ebp>);
// int __usercall sub_10086B60@<eax>(int a1@<ebp>);
int __cdecl SEH_10036230(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// signed int __usercall sub_10086B80@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086B8B@<eax>(int a1@<ebp>);
// int __usercall sub_10086B96@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086BAB@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086BB6@<eax>(int a1@<ebp>);
// int __usercall sub_10086BC1@<eax>(int a1@<ebp>);
int __cdecl SEH_10036860(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// signed int __usercall sub_10086BE0@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086BEB@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086BF6@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086C01@<eax>(int a1@<ebp>);
// int __usercall sub_10086C0C@<eax>(int a1@<ebp>);
int __cdecl SEH_10037300(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// signed int __usercall sub_10086C30@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086C3B@<eax>(int a1@<ebp>);
// int __usercall sub_10086C46@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086C5B@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086C66@<eax>(int a1@<ebp>);
// int __usercall sub_10086C71@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086C86@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086C91@<eax>(int a1@<ebp>);
// int __usercall sub_10086C9C@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086CB1@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086CBC@<eax>(int a1@<ebp>);
// int __usercall sub_10086CC7@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086CDC@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086CE7@<eax>(int a1@<ebp>);
// int __usercall sub_10086CF2@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086D07@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086D12@<eax>(int a1@<ebp>);
// int __usercall sub_10086D1D@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086D32@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086D3D@<eax>(int a1@<ebp>);
// int __usercall sub_10086D48@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086D5D@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086D68@<eax>(int a1@<ebp>);
// int __usercall sub_10086D73@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086D88@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086D93@<eax>(int a1@<ebp>);
// int __usercall sub_10086D9E@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086DB3@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086DBE@<eax>(int a1@<ebp>);
// int __usercall sub_10086DC9@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086DDE@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086DE9@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086DF4@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086DFF@<eax>(int a1@<ebp>);
int __cdecl SEH_10037E60(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
// signed int __usercall sub_10086E20@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086E2B@<eax>(int a1@<ebp>);
// int __usercall sub_10086E36@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086E4B@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086E56@<eax>(int a1@<ebp>);
// int __usercall sub_10086E61@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086E76@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086E81@<eax>(int a1@<ebp>);
// int __usercall sub_10086E8C@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086EA1@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086EAC@<eax>(int a1@<ebp>);
// int __usercall sub_10086EB7@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086ECC@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086ED7@<eax>(int a1@<ebp>);
// int __usercall sub_10086EE2@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086EF7@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086F02@<eax>(int a1@<ebp>);
// int __usercall sub_10086F0D@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086F22@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086F2D@<eax>(int a1@<ebp>);
// int __usercall sub_10086F38@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086F4D@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086F58@<eax>(int a1@<ebp>);
// int __usercall sub_10086F63@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086F78@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086F83@<eax>(int a1@<ebp>);
// int __usercall sub_10086F8E@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086FA3@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086FAE@<eax>(int a1@<ebp>);
// int __usercall sub_10086FB9@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086FCE@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086FD9@<eax>(int a1@<ebp>);
// int __usercall sub_10086FE4@<eax>(int a1@<ebp>);
// signed int __usercall sub_10086FF9@<eax>(int a1@<ebp>);
// signed int __usercall sub_10087004@<eax>(int a1@<ebp>);
int __cdecl SEH_100399F0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4);
void __cdecl sub_10087034(); // idb
// BOOL __stdcall CloseHandle(HANDLE hObject);
// BOOL __stdcall SetStdHandle(DWORD nStdHandle, HANDLE hHandle);
// BOOL __stdcall GetConsoleMode(HANDLE hConsoleHandle, LPDWORD lpMode);
// UINT __stdcall GetConsoleCP();
// DWORD __stdcall SetFilePointer(HANDLE hFile, LONG lDistanceToMove, PLONG lpDistanceToMoveHigh, DWORD dwMoveMethod);
// HMODULE __stdcall LoadLibraryA(LPCSTR lpLibFileName);
// void __stdcall LeaveCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// BOOL __stdcall WriteFile(HANDLE hFile, LPCVOID lpBuffer, DWORD nNumberOfBytesToWrite, LPDWORD lpNumberOfBytesWritten, LPOVERLAPPED lpOverlapped);
// void __stdcall DeleteCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// int __stdcall WideCharToMultiByte(UINT CodePage, DWORD dwFlags, LPCWSTR lpWideCharStr, int cchWideChar, LPSTR lpMultiByteStr, int cbMultiByte, LPCSTR lpDefaultChar, LPBOOL lpUsedDefaultChar);
// FARPROC __stdcall GetProcAddress(HMODULE hModule, LPCSTR lpProcName);
// DWORD __stdcall GetLastError();
// LONG __stdcall InterlockedExchange(volatile LONG *Target, LONG Value);

//-------------------------------------------------------------------------
// Data declarations

_UNKNOWN loc_100058A0; // weak
_UNKNOWN loc_10015F10; // weak
_UNKNOWN loc_100162C0; // weak
_UNKNOWN loc_1001E9D0; // weak
_UNKNOWN loc_1001EA20; // weak
char *off_10088CD4 = "/shr_mem/cht_intf.shr"; // weak
char *off_10088CE8 = "/shr_mem/cht_bm_intf.shr"; // weak
__int16 word_10089C6C = 47; // weak
char a_jtf[] = ".jtf"; // idb
char *off_1008B40C[3] =
{
  "/mnt/card1/fc_tpc//charts/",
  "/mnt/card0/fc_tpc//charts/",
  "/mnt/sim_dir0/fc_tpc//charts/"
}; // weak
_UNKNOWN unk_1008B418; // weak
int dword_1008BA28[] = { 0 }; // weak
int dword_1008BA70[] = { 16 }; // weak
_UNKNOWN unk_1008BAC0; // weak
_UNKNOWN unk_1008BB40; // weak
_UNKNOWN unk_1008BBC0; // weak
_UNKNOWN unk_1008BC38; // weak
_UNKNOWN unk_1008BCB0; // weak
_UNKNOWN unk_1008CCB0; // weak
__int16 word_1008D92C[] = { 26 }; // weak
char byte_1008D938[] = { '\0' }; // weak
char byte_1008D939[] = { '\0' }; // weak
char byte_1008D93A[] = { '\0' }; // weak
char byte_1008D93C[] = { '\xFF' }; // weak
char byte_1008D93D[] = { '\xFF' }; // weak
char byte_1008D93E[] = { '\xFF' }; // weak
char byte_1008D93F[] = { '\0' }; // weak
int dword_1008DA38[] = { 0 }; // weak
char *(*off_1008DEA4)[27] = &off_1008DE38; // weak
char *(*off_1008DEB4)[2] = &off_1008DE9C; // weak
int dword_1008DEEC[] = { 5 }; // weak
void *off_1008DF50 = &unk_1008DF00; // weak
char word_1008DF9C[] = { ' ', '\0' }; // idb
_UNKNOWN unk_1008DFE8; // weak
_UNKNOWN unk_1008E0CC; // weak
char byte_1008E8D8[] = { '' }; // weak
char byte_1008E8D9[] = { '' }; // weak
char byte_1008E8DA[] = { '' }; // weak
char byte_1008E8F0[] = { ',' }; // weak
char byte_1008E8F1[] = { ',' }; // weak
char byte_1008E8F2[] = { ',' }; // weak
int (**off_1008E958)() = &off_1008E908; // weak
void *tsk_app_hdr_ptr = &tsk_app_hdr; // weak
int (__thiscall *off_1008F5E8)(void *, char) = &std::locale::facet::'scalar deleting destructor'; // weak
int (__thiscall *off_1008F650)(void *, char) = &filebuf::'scalar deleting destructor'; // weak
int (__thiscall *off_1008F660)(void *, char) = &sub_10011F40; // weak
int (*off_1008F66C)() = &sub_10015710; // weak
int (*off_1008F680)() = &sub_10015780; // weak
int (*off_1008F688)() = &_purecall; // weak
int (__thiscall *off_1008F694)(void *, char) = &sub_1001A970; // weak
int (__thiscall *off_1008F6F4)(void *, char) = &sub_1001B180; // weak
int (__thiscall *off_1008F754)(void *, char) = &sub_1001AB00; // weak
int (__thiscall *off_1008F7B4)(void *, char) = &sub_1001B0E0; // weak
int (__thiscall *off_1008F814)(void *, char) = &sub_1001AB00; // weak
int (__thiscall *off_1008F874)(void *, char) = &sub_1001AB00; // weak
int (__thiscall *off_1008F8D4)(void *, char) = &sub_1001AB00; // weak
int (__thiscall *off_1008F934)(void *, char) = &sub_1001B030; // weak
int (__thiscall *off_1008F998)(void *, char) = &sub_1001AD70; // weak
int (__thiscall *off_1008F9FC)(void *, char) = &sub_1001AB00; // weak
int (__thiscall *off_1008FA5C)(void *, char) = &sub_1001A740; // weak
int (__stdcall *off_1008FB50[2])(double, double, int, int) = { &sub_1001FAF0, &sub_1001FB50 }; // weak
int (__stdcall *off_1008FB88[2])(double, double, int, int) = { &sub_1001FEC0, &sub_1001FF50 }; // weak
int (__thiscall *off_1008FB90)(void *, char) = &sub_10020ED0; // weak
int (__thiscall *off_1008FBF8)(void *, char) = &sub_10020BD0; // weak
int dword_1008FC60[] = { 0 }; // weak
int (__stdcall *off_10090060[2])(int, int) = { &sub_10034470, &sub_10034580 }; // weak
int (__stdcall *off_10090064)(int, int) = &sub_10034580; // weak
int (*off_10090068)() = &sub_10026390; // weak
_BYTE word_10094876[2666] =
{
  0,
  0,
  0,
  0,
  31,
  0,
  59,
  0,
  90,
  0,
  120,
  0,
  151,
  0,
  181,
  0,
  212,
  0,
  243,
  0,
  17,
  1,
  48,
  1,
  78,
  1,
  65,
  66,
  67,
  68,
  69,
  70,
  71,
  72,
  74,
  75,
  76,
  77,
  80,
  81,
  82,
  83,
  0,
  0,
  93,
  0,
  90,
  0,
  87,
  0,
  96,
  0,
  1,
  0,
  94,
  0,
  91,
  0,
  88,
  0,
  97,
  0,
  2,
  0,
  95,
  0,
  92,
  0,
  89,
  0,
  98,
  0,
  0,
  0,
  0,
  0,
  226,
  0,
  228,
  0,
  224,
  0,
  1,
  0,
  227,
  0,
  229,
  0,
  225,
  0,
  2,
  0,
  60,
  2,
  61,
  2,
  59,
  2,
  0,
  0,
  220,
  0,
  1,
  0,
  222,
  0,
  2,
  0,
  58,
  2,
  23,
  21,
  3,
  3,
  10,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  10,
  18,
  10,
  18,
  10,
  28,
  14,
  29,
  14,
  29,
  14,
  29,
  10,
  29,
  10,
  28,
  10,
  24,
  10,
  24,
  0,
  24,
  0,
  23,
  0,
  22,
  0,
  23,
  0,
  23,
  0,
  23,
  0,
  28,
  0,
  24,
  0,
  22,
  0,
  20,
  10,
  24,
  10,
  18,
  10,
  20,
  10,
  24,
  10,
  13,
  10,
  20,
  10,
  28,
  10,
  18,
  0,
  22,
  0,
  22,
  0,
  20,
  0,
  18,
  10,
  18,
  0,
  28,
  0,
  23,
  0,
  22,
  10,
  28,
  10,
  22,
  10,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  0,
  1,
  0,
  136,
  25,
  0,
  0,
  1,
  0,
  1,
  0,
  137,
  25,
  0,
  0,
  2,
  0,
  1,
  0,
  138,
  25,
  0,
  0,
  4,
  0,
  1,
  0,
  139,
  25,
  0,
  0,
  5,
  0,
  1,
  0,
  140,
  25,
  0,
  0,
  6,
  0,
  1,
  0,
  141,
  25,
  0,
  0,
  18,
  0,
  1,
  0,
  142,
  25,
  0,
  0,
  19,
  0,
  1,
  0,
  143,
  25,
  0,
  0,
  20,
  0,
  1,
  0,
  144,
  25,
  0,
  0,
  21,
  0,
  1,
  0,
  145,
  25,
  0,
  0,
  22,
  0,
  1,
  0,
  146,
  25,
  0,
  0,
  23,
  0,
  1,
  0,
  147,
  25,
  0,
  0,
  25,
  0,
  1,
  0,
  148,
  25,
  0,
  0,
  26,
  0,
  1,
  0,
  149,
  25,
  0,
  0,
  27,
  0,
  1,
  0,
  150,
  25,
  0,
  0,
  28,
  0,
  1,
  0,
  151,
  25,
  0,
  0,
  29,
  0,
  1,
  0,
  152,
  25,
  0,
  0,
  30,
  0,
  1,
  0,
  153,
  25,
  0,
  0,
  31,
  0,
  1,
  0,
  154,
  25,
  0,
  0,
  32,
  0,
  4,
  0,
  155,
  25,
  0,
  0,
  36,
  0,
  4,
  0,
  156,
  25,
  0,
  0,
  40,
  0,
  1,
  0,
  157,
  25,
  0,
  0,
  41,
  0,
  1,
  0,
  158,
  25,
  0,
  0,
  42,
  0,
  1,
  0,
  159,
  25,
  0,
  0,
  43,
  0,
  1,
  0,
  160,
  25,
  0,
  0,
  44,
  0,
  1,
  0,
  161,
  25,
  0,
  0,
  45,
  0,
  1,
  0,
  162,
  25,
  0,
  0,
  46,
  0,
  1,
  0,
  163,
  25,
  0,
  0,
  47,
  0,
  1,
  0,
  164,
  25,
  0,
  0,
  49,
  0,
  1,
  0,
  166,
  25,
  0,
  0,
  50,
  0,
  30,
  0,
  167,
  25,
  0,
  0,
  80,
  0,
  1,
  0,
  168,
  25,
  0,
  0,
  81,
  0,
  1,
  0,
  169,
  25,
  0,
  0,
  84,
  0,
  4,
  0,
  170,
  25,
  0,
  0,
  88,
  0,
  1,
  0,
  171,
  25,
  0,
  0,
  89,
  0,
  1,
  0,
  172,
  25,
  0,
  0,
  92,
  0,
  4,
  0,
  173,
  25,
  0,
  0,
  96,
  0,
  4,
  0,
  174,
  25,
  0,
  0,
  100,
  0,
  1,
  0,
  175,
  25,
  0,
  0,
  208,
  0,
  4,
  0,
  168,
  23,
  0,
  0,
  104,
  0,
  1,
  0,
  177,
  25,
  0,
  0,
  105,
  0,
  1,
  0,
  178,
  25,
  0,
  0,
  106,
  0,
  1,
  0,
  179,
  25,
  0,
  0,
  107,
  0,
  1,
  0,
  180,
  25,
  0,
  0,
  108,
  0,
  1,
  0,
  181,
  25,
  0,
  0,
  109,
  0,
  1,
  0,
  182,
  25,
  0,
  0,
  110,
  0,
  1,
  0,
  183,
  25,
  0,
  0,
  111,
  0,
  1,
  0,
  184,
  25,
  0,
  0,
  112,
  0,
  1,
  0,
  185,
  25,
  0,
  0,
  113,
  0,
  1,
  0,
  186,
  25,
  0,
  0,
  114,
  0,
  1,
  0,
  187,
  25,
  0,
  0,
  115,
  0,
  1,
  0,
  188,
  25,
  0,
  0,
  116,
  0,
  1,
  0,
  189,
  25,
  0,
  0,
  117,
  0,
  1,
  0,
  190,
  25,
  0,
  0,
  118,
  0,
  1,
  0,
  191,
  25,
  0,
  0,
  120,
  0,
  4,
  0,
  192,
  25,
  0,
  0,
  124,
  0,
  4,
  0,
  193,
  25,
  0,
  0,
  128,
  0,
  4,
  0,
  194,
  25,
  0,
  0,
  132,
  0,
  4,
  0,
  195,
  25,
  0,
  0,
  136,
  0,
  4,
  0,
  196,
  25,
  0,
  0,
  140,
  0,
  1,
  0,
  197,
  25,
  0,
  0,
  141,
  0,
  1,
  0,
  198,
  25,
  0,
  0,
  142,
  0,
  1,
  0,
  199,
  25,
  0,
  0,
  144,
  0,
  2,
  0,
  200,
  25,
  0,
  0,
  146,
  0,
  1,
  0,
  201,
  25,
  0,
  0,
  147,
  0,
  1,
  0,
  202,
  25,
  0,
  0,
  148,
  0,
  1,
  0,
  203,
  25,
  0,
  0,
  149,
  0,
  1,
  0,
  204,
  25,
  0,
  0,
  150,
  0,
  1,
  0,
  205,
  25,
  0,
  0,
  151,
  0,
  1,
  0,
  206,
  25,
  0,
  0,
  152,
  0,
  1,
  0,
  207,
  25,
  0,
  0,
  153,
  0,
  1,
  0,
  208,
  25,
  0,
  0,
  154,
  0,
  1,
  0,
  209,
  25,
  0,
  0,
  155,
  0,
  1,
  0,
  210,
  25,
  0,
  0,
  156,
  0,
  1,
  0,
  211,
  25,
  0,
  0,
  157,
  0,
  1,
  0,
  212,
  25,
  0,
  0,
  158,
  0,
  1,
  0,
  213,
  25,
  0,
  0,
  159,
  0,
  1,
  0,
  214,
  25,
  0,
  0,
  160,
  0,
  1,
  0,
  215,
  25,
  0,
  0,
  161,
  0,
  1,
  0,
  216,
  25,
  0,
  0,
  162,
  0,
  1,
  0,
  217,
  25,
  0,
  0,
  163,
  0,
  1,
  0,
  218,
  25,
  0,
  0,
  164,
  0,
  1,
  0,
  219,
  25,
  0,
  0,
  165,
  0,
  1,
  0,
  220,
  25,
  0,
  0,
  166,
  0,
  1,
  0,
  221,
  25,
  0,
  0,
  167,
  0,
  1,
  0,
  222,
  25,
  0,
  0,
  168,
  0,
  1,
  0,
  223,
  25,
  0,
  0,
  169,
  0,
  1,
  0,
  224,
  25,
  0,
  0,
  170,
  0,
  1,
  0,
  225,
  25,
  0,
  0,
  171,
  0,
  1,
  0,
  226,
  25,
  0,
  0,
  172,
  0,
  1,
  0,
  227,
  25,
  0,
  0,
  173,
  0,
  1,
  0,
  228,
  25,
  0,
  0,
  174,
  0,
  1,
  0,
  229,
  25,
  0,
  0,
  177,
  0,
  1,
  0,
  231,
  25,
  0,
  0,
  178,
  0,
  1,
  0,
  232,
  25,
  0,
  0,
  179,
  0,
  1,
  0,
  233,
  25,
  0,
  0,
  180,
  0,
  1,
  0,
  234,
  25,
  0,
  0,
  181,
  0,
  1,
  0,
  235,
  25,
  0,
  0,
  182,
  0,
  5,
  0,
  236,
  25,
  0,
  0,
  187,
  0,
  1,
  0,
  237,
  25,
  0,
  0,
  188,
  0,
  1,
  0,
  238,
  25,
  0,
  0,
  189,
  0,
  1,
  0,
  239,
  25,
  0,
  0,
  190,
  0,
  1,
  0,
  240,
  25,
  0,
  0,
  191,
  0,
  1,
  0,
  241,
  25,
  0,
  0,
  192,
  0,
  1,
  0,
  242,
  25,
  0,
  0,
  193,
  0,
  1,
  0,
  243,
  25,
  0,
  0,
  194,
  0,
  1,
  0,
  244,
  25,
  0,
  0,
  195,
  0,
  1,
  0,
  245,
  25,
  0,
  0,
  196,
  0,
  1,
  0,
  246,
  25,
  0,
  0,
  197,
  0,
  1,
  0,
  28,
  26,
  0,
  0,
  198,
  0,
  1,
  0,
  29,
  26,
  0,
  0,
  199,
  0,
  1,
  0,
  30,
  26,
  0,
  0,
  200,
  0,
  1,
  0,
  117,
  26,
  0,
  0,
  201,
  0,
  1,
  0,
  118,
  26,
  0,
  0,
  202,
  0,
  1,
  0,
  124,
  26,
  0,
  0,
  203,
  0,
  1,
  0,
  144,
  26,
  0,
  0,
  204,
  0,
  1,
  0,
  145,
  26,
  0,
  0,
  205,
  0,
  1,
  0,
  30,
  27,
  0,
  0,
  206,
  0,
  1,
  0,
  149,
  26,
  0,
  0,
  32,
  0,
  0,
  0,
  150,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  167,
  26,
  0,
  0,
  4,
  0,
  0,
  0,
  168,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  169,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  170,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  171,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  172,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  176,
  26,
  0,
  0,
  13,
  0,
  0,
  0,
  241,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  244,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  247,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  248,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  249,
  26,
  0,
  0,
  13,
  0,
  0,
  0,
  29,
  27,
  0,
  0,
  1,
  0,
  0,
  0,
  40,
  27,
  0,
  0,
  1,
  0,
  0,
  0,
  39,
  27,
  0,
  0,
  1,
  0,
  0,
  0,
  47,
  27,
  0,
  0,
  1,
  0,
  0,
  0,
  49,
  27,
  0,
  0,
  65,
  66,
  67,
  68,
  69,
  70,
  71,
  72,
  74,
  75,
  76,
  77,
  80,
  81,
  82,
  83,
  0,
  0,
  93,
  0,
  90,
  0,
  87,
  0,
  96,
  0,
  1,
  0,
  94,
  0,
  91,
  0,
  88,
  0,
  97,
  0,
  2,
  0,
  95,
  0,
  92,
  0,
  89,
  0,
  98,
  0,
  0,
  0,
  0,
  0,
  226,
  0,
  228,
  0,
  224,
  0,
  1,
  0,
  227,
  0,
  229,
  0,
  225,
  0,
  2,
  0,
  60,
  2,
  61,
  2,
  59,
  2,
  0,
  0,
  220,
  0,
  1,
  0,
  222,
  0,
  2,
  0,
  58,
  2,
  23,
  21,
  3,
  3,
  10,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  10,
  18,
  10,
  18,
  10,
  28,
  14,
  29,
  14,
  29,
  14,
  29,
  10,
  29,
  10,
  28,
  10,
  24,
  10,
  24,
  0,
  24,
  0,
  23,
  0,
  22,
  0,
  23,
  0,
  23,
  0,
  23,
  0,
  28,
  0,
  24,
  0,
  22,
  0,
  20,
  10,
  24,
  10,
  18,
  10,
  20,
  10,
  24,
  10,
  13,
  10,
  20,
  10,
  28,
  10,
  18,
  0,
  22,
  0,
  22,
  0,
  20,
  0,
  18,
  10,
  18,
  0,
  28,
  0,
  23,
  0,
  22,
  10,
  28,
  10,
  22,
  10,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  0,
  1,
  0,
  136,
  25,
  0,
  0,
  1,
  0,
  1,
  0,
  137,
  25,
  0,
  0,
  2,
  0,
  1,
  0,
  138,
  25,
  0,
  0,
  4,
  0,
  1,
  0,
  139,
  25,
  0,
  0,
  5,
  0,
  1,
  0,
  140,
  25,
  0,
  0,
  6,
  0,
  1,
  0,
  141,
  25,
  0,
  0,
  18,
  0,
  1,
  0,
  142,
  25,
  0,
  0,
  19,
  0,
  1,
  0,
  143,
  25,
  0,
  0,
  20,
  0,
  1,
  0,
  144,
  25,
  0,
  0,
  21,
  0,
  1,
  0,
  145,
  25,
  0,
  0,
  22,
  0,
  1,
  0,
  146,
  25,
  0,
  0,
  23,
  0,
  1,
  0,
  147,
  25,
  0,
  0,
  25,
  0,
  1,
  0,
  148,
  25,
  0,
  0,
  26,
  0,
  1,
  0,
  149,
  25,
  0,
  0,
  27,
  0,
  1,
  0,
  150,
  25,
  0,
  0,
  28,
  0,
  1,
  0,
  151,
  25,
  0,
  0,
  29,
  0,
  1,
  0,
  152,
  25,
  0,
  0,
  30,
  0,
  1,
  0,
  153,
  25,
  0,
  0,
  31,
  0,
  1,
  0,
  154,
  25,
  0,
  0,
  32,
  0,
  4,
  0,
  155,
  25,
  0,
  0,
  36,
  0,
  4,
  0,
  156,
  25,
  0,
  0,
  40,
  0,
  1,
  0,
  157,
  25,
  0,
  0,
  41,
  0,
  1,
  0,
  158,
  25,
  0,
  0,
  42,
  0,
  1,
  0,
  159,
  25,
  0,
  0,
  43,
  0,
  1,
  0,
  160,
  25,
  0,
  0,
  44,
  0,
  1,
  0,
  161,
  25,
  0,
  0,
  45,
  0,
  1,
  0,
  162,
  25,
  0,
  0,
  46,
  0,
  1,
  0,
  163,
  25,
  0,
  0,
  47,
  0,
  1,
  0,
  164,
  25,
  0,
  0,
  49,
  0,
  1,
  0,
  166,
  25,
  0,
  0,
  50,
  0,
  30,
  0,
  167,
  25,
  0,
  0,
  80,
  0,
  1,
  0,
  168,
  25,
  0,
  0,
  81,
  0,
  1,
  0,
  169,
  25,
  0,
  0,
  84,
  0,
  4,
  0,
  170,
  25,
  0,
  0,
  88,
  0,
  1,
  0,
  171,
  25,
  0,
  0,
  89,
  0,
  1,
  0,
  172,
  25,
  0,
  0,
  92,
  0,
  4,
  0,
  173,
  25,
  0,
  0,
  96,
  0,
  4,
  0,
  174,
  25,
  0,
  0,
  100,
  0,
  1,
  0,
  175,
  25,
  0,
  0,
  208,
  0,
  4,
  0,
  168,
  23,
  0,
  0,
  104,
  0,
  1,
  0,
  177,
  25,
  0,
  0,
  105,
  0,
  1,
  0,
  178,
  25,
  0,
  0,
  106,
  0,
  1,
  0,
  179,
  25,
  0,
  0,
  107,
  0,
  1,
  0,
  180,
  25,
  0,
  0,
  108,
  0,
  1,
  0,
  181,
  25,
  0,
  0,
  109,
  0,
  1,
  0,
  182,
  25,
  0,
  0,
  110,
  0,
  1,
  0,
  183,
  25,
  0,
  0,
  111,
  0,
  1,
  0,
  184,
  25,
  0,
  0,
  112,
  0,
  1,
  0,
  185,
  25,
  0,
  0,
  113,
  0,
  1,
  0,
  186,
  25,
  0,
  0,
  114,
  0,
  1,
  0,
  187,
  25,
  0,
  0,
  115,
  0,
  1,
  0,
  188,
  25,
  0,
  0,
  116,
  0,
  1,
  0,
  189,
  25,
  0,
  0,
  117,
  0,
  1,
  0,
  190,
  25,
  0,
  0,
  118,
  0,
  1,
  0,
  191,
  25,
  0,
  0,
  120,
  0,
  4,
  0,
  192,
  25,
  0,
  0,
  124,
  0,
  4,
  0,
  193,
  25,
  0,
  0,
  128,
  0,
  4,
  0,
  194,
  25,
  0,
  0,
  132,
  0,
  4,
  0,
  195,
  25,
  0,
  0,
  136,
  0,
  4,
  0,
  196,
  25,
  0,
  0,
  140,
  0,
  1,
  0,
  197,
  25,
  0,
  0,
  141,
  0,
  1,
  0,
  198,
  25,
  0,
  0,
  142,
  0,
  1,
  0,
  199,
  25,
  0,
  0,
  144,
  0,
  2,
  0,
  200,
  25,
  0,
  0,
  146,
  0,
  1,
  0,
  201,
  25,
  0,
  0,
  147,
  0,
  1,
  0,
  202,
  25,
  0,
  0,
  148,
  0,
  1,
  0,
  203,
  25,
  0,
  0,
  149,
  0,
  1,
  0,
  204,
  25,
  0,
  0,
  150,
  0,
  1,
  0,
  205,
  25,
  0,
  0,
  151,
  0,
  1,
  0,
  206,
  25,
  0,
  0,
  152,
  0,
  1,
  0,
  207,
  25,
  0,
  0,
  153,
  0,
  1,
  0,
  208,
  25,
  0,
  0,
  154,
  0,
  1,
  0,
  209,
  25,
  0,
  0,
  155,
  0,
  1,
  0,
  210,
  25,
  0,
  0,
  156,
  0,
  1,
  0,
  211,
  25,
  0,
  0,
  157,
  0,
  1,
  0,
  212,
  25,
  0,
  0,
  158,
  0,
  1,
  0,
  213,
  25,
  0,
  0,
  159,
  0,
  1,
  0,
  214,
  25,
  0,
  0,
  160,
  0,
  1,
  0,
  215,
  25,
  0,
  0,
  161,
  0,
  1,
  0,
  216,
  25,
  0,
  0,
  162,
  0,
  1,
  0,
  217,
  25,
  0,
  0,
  163,
  0,
  1,
  0,
  218,
  25,
  0,
  0,
  164,
  0,
  1,
  0,
  219,
  25,
  0,
  0,
  165,
  0,
  1,
  0,
  220,
  25,
  0,
  0,
  166,
  0,
  1,
  0,
  221,
  25,
  0,
  0,
  167,
  0,
  1,
  0,
  222,
  25,
  0,
  0,
  168,
  0,
  1,
  0,
  223,
  25,
  0,
  0,
  169,
  0,
  1,
  0,
  224,
  25,
  0,
  0,
  170,
  0,
  1,
  0,
  225,
  25,
  0,
  0,
  171,
  0,
  1,
  0,
  226,
  25,
  0,
  0,
  172,
  0,
  1,
  0,
  227,
  25,
  0,
  0,
  173,
  0,
  1,
  0,
  228,
  25,
  0,
  0,
  174,
  0,
  1,
  0,
  229,
  25,
  0,
  0,
  177,
  0,
  1,
  0,
  231,
  25,
  0,
  0,
  178,
  0,
  1,
  0,
  232,
  25,
  0,
  0,
  179,
  0,
  1,
  0,
  233,
  25,
  0,
  0,
  180,
  0,
  1,
  0,
  234,
  25,
  0,
  0,
  181,
  0,
  1,
  0,
  235,
  25,
  0,
  0,
  182,
  0,
  5,
  0,
  236,
  25,
  0,
  0,
  187,
  0,
  1,
  0,
  237,
  25,
  0,
  0,
  188,
  0,
  1,
  0,
  238,
  25,
  0,
  0,
  189,
  0,
  1,
  0,
  239,
  25,
  0,
  0,
  190,
  0,
  1,
  0,
  240,
  25,
  0,
  0,
  191,
  0,
  1,
  0,
  241,
  25,
  0,
  0,
  192,
  0,
  1,
  0,
  242,
  25,
  0,
  0,
  193,
  0,
  1,
  0,
  243,
  25,
  0,
  0,
  194,
  0,
  1,
  0,
  244,
  25,
  0,
  0,
  195,
  0,
  1,
  0,
  245,
  25,
  0,
  0,
  196,
  0,
  1,
  0,
  246,
  25,
  0,
  0,
  197,
  0,
  1,
  0,
  28,
  26,
  0,
  0,
  198,
  0,
  1,
  0,
  29,
  26,
  0,
  0,
  199,
  0,
  1,
  0,
  30,
  26,
  0,
  0,
  200,
  0,
  1,
  0,
  117,
  26,
  0,
  0,
  201,
  0,
  1,
  0,
  118,
  26,
  0,
  0,
  202,
  0,
  1,
  0,
  124,
  26,
  0,
  0,
  203,
  0,
  1,
  0,
  144,
  26,
  0,
  0,
  204,
  0,
  1,
  0,
  145,
  26,
  0,
  0,
  205,
  0,
  1,
  0,
  30,
  27,
  0,
  0,
  206,
  0,
  1,
  0,
  149,
  26,
  0,
  0,
  32,
  0,
  0,
  0,
  150,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  167,
  26,
  0,
  0,
  4,
  0,
  0,
  0,
  168,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  169,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  170,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  171,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  172,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  176,
  26,
  0,
  0,
  13,
  0,
  0,
  0,
  241,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  244,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  247,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  248,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  249,
  26,
  0,
  0,
  13,
  0,
  0,
  0,
  29,
  27,
  0,
  0,
  1,
  0,
  0,
  0,
  40,
  27,
  0,
  0,
  1,
  0,
  0,
  0,
  39,
  27,
  0,
  0,
  1,
  0,
  0,
  0,
  47,
  27,
  0,
  0,
  1,
  0,
  0,
  0,
  49,
  27,
  0,
  0
}; // idb
_UNKNOWN unk_10095A64; // weak
int dword_10095A68 = 1391376; // weak
int (*off_10096B48[4])() = { &sub_10045BC0, &sub_10045BB0, &sub_10045BA0, &sub_10045BB0 }; // weak
int dword_1009E88C[] = { 88 }; // weak
__int16 word_1009ED3C[] = { 836 }; // weak
char *off_1009ED5C = "/shr_mem/iop_a_pkt_intf.shr"; // weak
char *off_1009ED70 = "/shr_mem/iop_b_pkt_intf.shr"; // weak
char *off_1009ED84 = "/shr_mem/iop_c_pkt_intf.shr"; // weak
char *off_1009ED98 = "/shr_mem/iop_d_dbg_pkt_intf.shr"; // weak
char *off_1009EDAC = "/shr_mem/iop_d_pkt_intf.shr"; // weak
char *off_1009EDC0 = "/shr_mem/iop_m_pkt_intf.shr"; // weak
int (__cdecl *off_1009F550[3])(char) = { &sub_10048310, &sub_10048220, &sub_100481E0 }; // weak
_UNKNOWN unk_100B270A; // weak
int dword_100B270C = 9429; // idb
int dword_100B3404[] = { 9826 }; // weak
_UNKNOWN unk_100B3408; // weak
_UNKNOWN unk_100B3580; // weak
__int16 word_100B3582[] = { 301 }; // weak
__int16 word_100B3584[] = { 302 }; // weak
__int16 word_100B3586[] = { 303 }; // weak
__int16 word_100B3588[] = { 304 }; // weak
__int16 word_100B358A[] = { 305 }; // weak
__int16 word_100B358C[] = { 306 }; // weak
__int16 word_100B358E[] = { 307 }; // weak
_UNKNOWN unk_100B6498; // weak
char *off_100B6848 = "failure listener"; // weak
_WORD dword_100B6D30[512] =
{
  25542,
  42339,
  31992,
  33916,
  30702,
  39287,
  31734,
  36219,
  62207,
  3570,
  27606,
  48491,
  28638,
  45423,
  50577,
  21701,
  12384,
  20528,
  258,
  769,
  26574,
  43367,
  11094,
  32043,
  65255,
  6654,
  55221,
  25303,
  43853,
  59051,
  30444,
  39542,
  51855,
  17866,
  33311,
  40322,
  51593,
  16585,
  32250,
  34685,
  64239,
  5626,
  22962,
  60249,
  18318,
  51527,
  61691,
  3056,
  44353,
  60589,
  54451,
  26580,
  41567,
  64930,
  44869,
  60079,
  39971,
  49052,
  42067,
  63396,
  29412,
  38514,
  49307,
  23488,
  46965,
  49847,
  64993,
  7421,
  37693,
  44691,
  9804,
  27174,
  13932,
  23094,
  16254,
  16703,
  63477,
  759,
  52355,
  20428,
  13416,
  23604,
  42321,
  62629,
  58833,
  13541,
  61945,
  2289,
  29154,
  37745,
  55467,
  29656,
  12642,
  21297,
  5418,
  16149,
  1032,
  3076,
  51093,
  21191,
  9030,
  25891,
  50077,
  24259,
  6192,
  10264,
  38455,
  41366,
  1290,
  3845,
  39471,
  46490,
  1806,
  2311,
  4644,
  13842,
  32795,
  39808,
  58079,
  15842,
  60365,
  9963,
  10062,
  26919,
  45695,
  52658,
  30186,
  40821,
  2322,
  6921,
  33565,
  40579,
  11352,
  29740,
  6708,
  11802,
  6966,
  11547,
  28380,
  45678,
  23220,
  61018,
  41051,
  64416,
  21156,
  63058,
  15222,
  19771,
  54967,
  25046,
  45949,
  52915,
  10578,
  31529,
  58333,
  16099,
  12126,
  28975,
  33811,
  38788,
  21414,
  62803,
  53689,
  26833,
  0,
  0,
  60865,
  11501,
  8256,
  24608,
  64739,
  8188,
  45433,
  51377,
  23478,
  60763,
  27348,
  48746,
  52109,
  18123,
  48743,
  55742,
  14706,
  19257,
  19092,
  56906,
  19608,
  54348,
  22704,
  59480,
  53125,
  19151,
  53435,
  27600,
  61381,
  10991,
  43599,
  58794,
  64493,
  5883,
  17286,
  50499,
  19866,
  55117,
  13158,
  21811,
  34065,
  38021,
  17802,
  53061,
  63977,
  4345,
  516,
  1538,
  32766,
  33151,
  20640,
  61520,
  15480,
  17468,
  40741,
  47775,
  43083,
  58280,
  20898,
  62289,
  41821,
  65187,
  16512,
  49216,
  36613,
  35471,
  37439,
  44434,
  40225,
  48285,
  14448,
  18488,
  62961,
  1269,
  48227,
  57276,
  46711,
  49590,
  55983,
  30170,
  8514,
  25377,
  4128,
  12304,
  65509,
  6911,
  62461,
  3827,
  53951,
  28114,
  52609,
  19661,
  3096,
  5132,
  4902,
  13587,
  60611,
  12268,
  24510,
  57695,
  38709,
  41623,
  17544,
  52292,
  5934,
  14615,
  50323,
  22468,
  42837,
  62119,
  32508,
  33406,
  15738,
  18237,
  25800,
  44132,
  23994,
  59229,
  6450,
  11033,
  29670,
  38259,
  24768,
  41056,
  33049,
  39041,
  20382,
  53583,
  56483,
  32732,
  8772,
  26146,
  10836,
  32298,
  36923,
  43920,
  34827,
  33672,
  18060,
  51782,
  61127,
  10734,
  47211,
  54200,
  5160,
  15380,
  56999,
  31198,
  24252,
  57950,
  2838,
  7435,
  56237,
  30427,
  57563,
  15328,
  12900,
  22066,
  14964,
  20026,
  2580,
  7690,
  18834,
  56137,
  1548,
  2566,
  9288,
  27684,
  23736,
  58460,
  49823,
  24002,
  54205,
  28371,
  44099,
  61356,
  25284,
  42594,
  37177,
  43153,
  38193,
  42133,
  58579,
  14308,
  31218,
  35705,
  59349,
  13031,
  51339,
  17352,
  14190,
  22839,
  28122,
  46957,
  36097,
  35981,
  54705,
  25813,
  20124,
  53838,
  43337,
  57513,
  27864,
  46188,
  22188,
  64086,
  62707,
  2036,
  60111,
  9706,
  26058,
  44901,
  31476,
  36474,
  44615,
  59822,
  2064,
  6152,
  47727,
  54714,
  30960,
  34936,
  9546,
  28453,
  11868,
  29230,
  7224,
  9244,
  42583,
  61862,
  46195,
  51124,
  50839,
  20934,
  59595,
  9192,
  56737,
  31965,
  29928,
  40052,
  7998,
  8479,
  19350,
  56651,
  48481,
  56509,
  35597,
  34443,
  35343,
  34186,
  28896,
  36976,
  15996,
  16958,
  46449,
  50357,
  26316,
  43622,
  18576,
  55368,
  774,
  1283,
  63223,
  502,
  3612,
  4622,
  25026,
  41825,
  13674,
  24373,
  22446,
  63831,
  47465,
  53433,
  34327,
  37254,
  49561,
  22721,
  7482,
  10013,
  40487,
  47518,
  57817,
  14561,
  63723,
  5112,
  38955,
  45976,
  4386,
  13073,
  27090,
  47977,
  55721,
  28889,
  36359,
  35214,
  37939,
  42900,
  39725,
  46747,
  7740,
  8734,
  34581,
  37511,
  59849,
  8425,
  52871,
  18894,
  21930,
  65365,
  10320,
  30760,
  57253,
  31455,
  35843,
  36748,
  41305,
  63649,
  35081,
  32905,
  3354,
  5901,
  48997,
  55999,
  59095,
  12774,
  17028,
  50754,
  26832,
  47208,
  16770,
  49985,
  39209,
  45209,
  11610,
  30509,
  3870,
  4367,
  45179,
  52144,
  21672,
  64596,
  47981,
  54971,
  5676,
  14870
}; // idb
_WORD dword_100B7130[512] =
{
  50853,
  25443,
  63620,
  31868,
  61081,
  30583,
  63117,
  31611,
  65293,
  62194,
  54973,
  27499,
  57009,
  28527,
  37204,
  50629,
  24656,
  12336,
  515,
  257,
  52905,
  26471,
  22141,
  11051,
  59161,
  65278,
  46434,
  55255,
  19942,
  43947,
  60570,
  30326,
  36677,
  51914,
  8093,
  33410,
  35136,
  51657,
  64135,
  32125,
  61205,
  64250,
  45803,
  22873,
  36553,
  18247,
  64267,
  61680,
  16876,
  44461,
  45927,
  54484,
  24573,
  41634,
  17898,
  44975,
  9151,
  40092,
  21495,
  42148,
  58518,
  29298,
  39771,
  49344,
  30146,
  47031,
  57628,
  65021,
  15790,
  37779,
  19562,
  9766,
  27738,
  13878,
  32321,
  16191,
  62722,
  63479,
  33615,
  52428,
  26716,
  13364,
  20980,
  42405,
  53556,
  58853,
  63752,
  61937,
  58003,
  29041,
  43891,
  55512,
  25171,
  12593,
  10815,
  5397,
  2060,
  1028,
  38226,
  51143,
  18021,
  8995,
  40286,
  50115,
  12328,
  6168,
  14241,
  38550,
  2575,
  1285,
  12213,
  39578,
  3593,
  1799,
  9270,
  4626,
  7067,
  32896,
  57149,
  58082,
  52518,
  60395,
  20073,
  10023,
  32717,
  45746,
  60063,
  30069,
  4635,
  2313,
  7582,
  33667,
  22644,
  11308,
  13358,
  6682,
  13869,
  6939,
  56498,
  28270,
  46318,
  23130,
  23547,
  41120,
  42230,
  21074,
  30285,
  15163,
  46945,
  54998,
  32206,
  46003,
  21115,
  10537,
  56638,
  58339,
  24177,
  12079,
  5015,
  33924,
  42741,
  21331,
  47464,
  53713,
  0,
  0,
  49452,
  60909,
  16480,
  8224,
  58143,
  64764,
  31176,
  45489,
  46829,
  23387,
  54462,
  27242,
  36166,
  52171,
  26585,
  48830,
  29259,
  14649,
  38110,
  19018,
  39124,
  19532,
  45288,
  22616,
  34122,
  53199,
  47979,
  53456,
  50474,
  61423,
  20453,
  43690,
  60694,
  64507,
  34501,
  17219,
  39639,
  19789,
  26197,
  13107,
  4500,
  34181,
  35535,
  17733,
  59664,
  63993,
  1030,
  514,
  65153,
  32639,
  41200,
  20560,
  30788,
  15420,
  9658,
  40863,
  19427,
  43176,
  41715,
  20817,
  24062,
  41891,
  32960,
  16448,
  1418,
  36751,
  16301,
  37522,
  8636,
  40349,
  28744,
  14392,
  61700,
  62965,
  25567,
  48316,
  30657,
  46774,
  44917,
  56026,
  16995,
  8481,
  8240,
  4112,
  58650,
  65535,
  64782,
  62451,
  49005,
  53970,
  33100,
  52685,
  6164,
  3084,
  9781,
  4883,
  49967,
  60652,
  48865,
  24415,
  13730,
  38807,
  35020,
  17476,
  11833,
  5911,
  37719,
  50372,
  22002,
  42919,
  64642,
  32382,
  31303,
  15677,
  51372,
  25700,
  47847,
  23901,
  12843,
  6425,
  59029,
  29555,
  49312,
  24672,
  6552,
  33153,
  40657,
  20303,
  41855,
  56540,
  17510,
  8738,
  21630,
  10794,
  15275,
  37008,
  2947,
  34952,
  36042,
  17990,
  50985,
  61166,
  27603,
  47288,
  10300,
  5140,
  42873,
  57054,
  48354,
  24158,
  5661,
  2827,
  44406,
  56283,
  56123,
  57568,
  25686,
  12850,
  29774,
  14906,
  5150,
  2570,
  37595,
  18761,
  3082,
  1542,
  18540,
  9252,
  47332,
  23644,
  40797,
  49858,
  48494,
  54227,
  17391,
  44204,
  50342,
  25186,
  14760,
  37265,
  12708,
  38293,
  54071,
  58596,
  62091,
  31097,
  54578,
  59367,
  35651,
  51400,
  28249,
  14135,
  55991,
  28013,
  396,
  36237,
  45412,
  54741,
  40146,
  20046,
  18912,
  43433,
  55476,
  27756,
  44282,
  22102,
  62215,
  62708,
  53029,
  60138,
  51887,
  25957,
  62606,
  31354,
  18409,
  44718,
  4120,
  2056,
  28629,
  47802,
  61576,
  30840,
  19055,
  9509,
  23666,
  11822,
  14372,
  7196,
  22513,
  42662,
  29639,
  46260,
  38737,
  50886,
  52003,
  59624,
  41340,
  56797,
  59548,
  29812,
  15905,
  7967,
  38621,
  19275,
  25052,
  48573,
  3462,
  35723,
  3973,
  35466,
  57488,
  28784,
  31810,
  15934,
  29124,
  46517,
  52394,
  26214,
  37080,
  18504,
  1541,
  771,
  63233,
  63222,
  7186,
  3598,
  49827,
  24929,
  27231,
  13621,
  44793,
  22359,
  27088,
  47545,
  6033,
  34438,
  39256,
  49601,
  14887,
  7453,
  10169,
  40606,
  55608,
  57825,
  60179,
  63736,
  11187,
  39064,
  8755,
  4369,
  53947,
  26985,
  43376,
  55769,
  1929,
  36494,
  13223,
  38036,
  11702,
  39835,
  15394,
  7710,
  5522,
  34695,
  51488,
  59881,
  34633,
  52942,
  43775,
  21845,
  20600,
  10280,
  42362,
  57311,
  911,
  35980,
  23032,
  41377,
  2432,
  35209,
  6679,
  3341,
  26074,
  49087,
  55089,
  59110,
  33990,
  16962,
  53432,
  26728,
  33475,
  16705,
  10672,
  39321,
  23159,
  11565,
  7697,
  3855,
  31691,
  45232,
  43260,
  21588,
  28118,
  48059,
  11322,
  5654
}; // idb
_WORD dword_100B7530[512] =
{
  42339,
  25542,
  33916,
  31992,
  39287,
  30702,
  36219,
  31734,
  3570,
  62207,
  48491,
  27606,
  45423,
  28638,
  21701,
  50577,
  20528,
  12384,
  769,
  258,
  43367,
  26574,
  32043,
  11094,
  6654,
  65255,
  25303,
  55221,
  59051,
  43853,
  39542,
  30444,
  17866,
  51855,
  40322,
  33311,
  16585,
  51593,
  34685,
  32250,
  5626,
  64239,
  60249,
  22962,
  51527,
  18318,
  3056,
  61691,
  60589,
  44353,
  26580,
  54451,
  64930,
  41567,
  60079,
  44869,
  49052,
  39971,
  63396,
  42067,
  38514,
  29412,
  23488,
  49307,
  49847,
  46965,
  7421,
  64993,
  44691,
  37693,
  27174,
  9804,
  23094,
  13932,
  16703,
  16254,
  759,
  63477,
  20428,
  52355,
  23604,
  13416,
  62629,
  42321,
  13541,
  58833,
  2289,
  61945,
  37745,
  29154,
  29656,
  55467,
  21297,
  12642,
  16149,
  5418,
  3076,
  1032,
  21191,
  51093,
  25891,
  9030,
  24259,
  50077,
  10264,
  6192,
  41366,
  38455,
  3845,
  1290,
  46490,
  39471,
  2311,
  1806,
  13842,
  4644,
  39808,
  32795,
  15842,
  58079,
  9963,
  60365,
  26919,
  10062,
  52658,
  45695,
  40821,
  30186,
  6921,
  2322,
  40579,
  33565,
  29740,
  11352,
  11802,
  6708,
  11547,
  6966,
  45678,
  28380,
  61018,
  23220,
  64416,
  41051,
  63058,
  21156,
  19771,
  15222,
  25046,
  54967,
  52915,
  45949,
  31529,
  10578,
  16099,
  58333,
  28975,
  12126,
  38788,
  33811,
  62803,
  21414,
  26833,
  53689,
  0,
  0,
  11501,
  60865,
  24608,
  8256,
  8188,
  64739,
  51377,
  45433,
  60763,
  23478,
  48746,
  27348,
  18123,
  52109,
  55742,
  48743,
  19257,
  14706,
  56906,
  19092,
  54348,
  19608,
  59480,
  22704,
  19151,
  53125,
  27600,
  53435,
  10991,
  61381,
  58794,
  43599,
  5883,
  64493,
  50499,
  17286,
  55117,
  19866,
  21811,
  13158,
  38021,
  34065,
  53061,
  17802,
  4345,
  63977,
  1538,
  516,
  33151,
  32766,
  61520,
  20640,
  17468,
  15480,
  47775,
  40741,
  58280,
  43083,
  62289,
  20898,
  65187,
  41821,
  49216,
  16512,
  35471,
  36613,
  44434,
  37439,
  48285,
  40225,
  18488,
  14448,
  1269,
  62961,
  57276,
  48227,
  49590,
  46711,
  30170,
  55983,
  25377,
  8514,
  12304,
  4128,
  6911,
  65509,
  3827,
  62461,
  28114,
  53951,
  19661,
  52609,
  5132,
  3096,
  13587,
  4902,
  12268,
  60611,
  57695,
  24510,
  41623,
  38709,
  52292,
  17544,
  14615,
  5934,
  22468,
  50323,
  62119,
  42837,
  33406,
  32508,
  18237,
  15738,
  44132,
  25800,
  59229,
  23994,
  11033,
  6450,
  38259,
  29670,
  41056,
  24768,
  39041,
  33049,
  53583,
  20382,
  32732,
  56483,
  26146,
  8772,
  32298,
  10836,
  43920,
  36923,
  33672,
  34827,
  51782,
  18060,
  10734,
  61127,
  54200,
  47211,
  15380,
  5160,
  31198,
  56999,
  57950,
  24252,
  7435,
  2838,
  30427,
  56237,
  15328,
  57563,
  22066,
  12900,
  20026,
  14964,
  7690,
  2580,
  56137,
  18834,
  2566,
  1548,
  27684,
  9288,
  58460,
  23736,
  24002,
  49823,
  28371,
  54205,
  61356,
  44099,
  42594,
  25284,
  43153,
  37177,
  42133,
  38193,
  14308,
  58579,
  35705,
  31218,
  13031,
  59349,
  17352,
  51339,
  22839,
  14190,
  46957,
  28122,
  35981,
  36097,
  25813,
  54705,
  53838,
  20124,
  57513,
  43337,
  46188,
  27864,
  64086,
  22188,
  2036,
  62707,
  9706,
  60111,
  44901,
  26058,
  36474,
  31476,
  59822,
  44615,
  6152,
  2064,
  54714,
  47727,
  34936,
  30960,
  28453,
  9546,
  29230,
  11868,
  9244,
  7224,
  61862,
  42583,
  51124,
  46195,
  20934,
  50839,
  9192,
  59595,
  31965,
  56737,
  40052,
  29928,
  8479,
  7998,
  56651,
  19350,
  56509,
  48481,
  34443,
  35597,
  34186,
  35343,
  36976,
  28896,
  16958,
  15996,
  50357,
  46449,
  43622,
  26316,
  55368,
  18576,
  1283,
  774,
  502,
  63223,
  4622,
  3612,
  41825,
  25026,
  24373,
  13674,
  63831,
  22446,
  53433,
  47465,
  37254,
  34327,
  22721,
  49561,
  10013,
  7482,
  47518,
  40487,
  14561,
  57817,
  5112,
  63723,
  45976,
  38955,
  13073,
  4386,
  47977,
  27090,
  28889,
  55721,
  35214,
  36359,
  42900,
  37939,
  46747,
  39725,
  8734,
  7740,
  37511,
  34581,
  8425,
  59849,
  18894,
  52871,
  65365,
  21930,
  30760,
  10320,
  31455,
  57253,
  36748,
  35843,
  63649,
  41305,
  32905,
  35081,
  5901,
  3354,
  55999,
  48997,
  12774,
  59095,
  50754,
  17028,
  47208,
  26832,
  49985,
  16770,
  45209,
  39209,
  30509,
  11610,
  4367,
  3870,
  52144,
  45179,
  64596,
  21672,
  54971,
  47981,
  14870,
  5676
}; // idb
_WORD dword_100B7930[512] =
{
  25443,
  50853,
  31868,
  63620,
  30583,
  61081,
  31611,
  63117,
  62194,
  65293,
  27499,
  54973,
  28527,
  57009,
  50629,
  37204,
  12336,
  24656,
  257,
  515,
  26471,
  52905,
  11051,
  22141,
  65278,
  59161,
  55255,
  46434,
  43947,
  19942,
  30326,
  60570,
  51914,
  36677,
  33410,
  8093,
  51657,
  35136,
  32125,
  64135,
  64250,
  61205,
  22873,
  45803,
  18247,
  36553,
  61680,
  64267,
  44461,
  16876,
  54484,
  45927,
  41634,
  24573,
  44975,
  17898,
  40092,
  9151,
  42148,
  21495,
  29298,
  58518,
  49344,
  39771,
  47031,
  30146,
  65021,
  57628,
  37779,
  15790,
  9766,
  19562,
  13878,
  27738,
  16191,
  32321,
  63479,
  62722,
  52428,
  33615,
  13364,
  26716,
  42405,
  20980,
  58853,
  53556,
  61937,
  63752,
  29041,
  58003,
  55512,
  43891,
  12593,
  25171,
  5397,
  10815,
  1028,
  2060,
  51143,
  38226,
  8995,
  18021,
  50115,
  40286,
  6168,
  12328,
  38550,
  14241,
  1285,
  2575,
  39578,
  12213,
  1799,
  3593,
  4626,
  9270,
  32896,
  7067,
  58082,
  57149,
  60395,
  52518,
  10023,
  20073,
  45746,
  32717,
  30069,
  60063,
  2313,
  4635,
  33667,
  7582,
  11308,
  22644,
  6682,
  13358,
  6939,
  13869,
  28270,
  56498,
  23130,
  46318,
  41120,
  23547,
  21074,
  42230,
  15163,
  30285,
  54998,
  46945,
  46003,
  32206,
  10537,
  21115,
  58339,
  56638,
  12079,
  24177,
  33924,
  5015,
  21331,
  42741,
  53713,
  47464,
  0,
  0,
  60909,
  49452,
  8224,
  16480,
  64764,
  58143,
  45489,
  31176,
  23387,
  46829,
  27242,
  54462,
  52171,
  36166,
  48830,
  26585,
  14649,
  29259,
  19018,
  38110,
  19532,
  39124,
  22616,
  45288,
  53199,
  34122,
  53456,
  47979,
  61423,
  50474,
  43690,
  20453,
  64507,
  60694,
  17219,
  34501,
  19789,
  39639,
  13107,
  26197,
  34181,
  4500,
  17733,
  35535,
  63993,
  59664,
  514,
  1030,
  32639,
  65153,
  20560,
  41200,
  15420,
  30788,
  40863,
  9658,
  43176,
  19427,
  20817,
  41715,
  41891,
  24062,
  16448,
  32960,
  36751,
  1418,
  37522,
  16301,
  40349,
  8636,
  14392,
  28744,
  62965,
  61700,
  48316,
  25567,
  46774,
  30657,
  56026,
  44917,
  8481,
  16995,
  4112,
  8240,
  65535,
  58650,
  62451,
  64782,
  53970,
  49005,
  52685,
  33100,
  3084,
  6164,
  4883,
  9781,
  60652,
  49967,
  24415,
  48865,
  38807,
  13730,
  17476,
  35020,
  5911,
  11833,
  50372,
  37719,
  42919,
  22002,
  32382,
  64642,
  15677,
  31303,
  25700,
  51372,
  23901,
  47847,
  6425,
  12843,
  29555,
  59029,
  24672,
  49312,
  33153,
  6552,
  20303,
  40657,
  56540,
  41855,
  8738,
  17510,
  10794,
  21630,
  37008,
  15275,
  34952,
  2947,
  17990,
  36042,
  61166,
  50985,
  47288,
  27603,
  5140,
  10300,
  57054,
  42873,
  24158,
  48354,
  2827,
  5661,
  56283,
  44406,
  57568,
  56123,
  12850,
  25686,
  14906,
  29774,
  2570,
  5150,
  18761,
  37595,
  1542,
  3082,
  9252,
  18540,
  23644,
  47332,
  49858,
  40797,
  54227,
  48494,
  44204,
  17391,
  25186,
  50342,
  37265,
  14760,
  38293,
  12708,
  58596,
  54071,
  31097,
  62091,
  59367,
  54578,
  51400,
  35651,
  14135,
  28249,
  28013,
  55991,
  36237,
  396,
  54741,
  45412,
  20046,
  40146,
  43433,
  18912,
  27756,
  55476,
  22102,
  44282,
  62708,
  62215,
  60138,
  53029,
  25957,
  51887,
  31354,
  62606,
  44718,
  18409,
  2056,
  4120,
  47802,
  28629,
  30840,
  61576,
  9509,
  19055,
  11822,
  23666,
  7196,
  14372,
  42662,
  22513,
  46260,
  29639,
  50886,
  38737,
  59624,
  52003,
  56797,
  41340,
  29812,
  59548,
  7967,
  15905,
  19275,
  38621,
  48573,
  25052,
  35723,
  3462,
  35466,
  3973,
  28784,
  57488,
  15934,
  31810,
  46517,
  29124,
  26214,
  52394,
  18504,
  37080,
  771,
  1541,
  63222,
  63233,
  3598,
  7186,
  24929,
  49827,
  13621,
  27231,
  22359,
  44793,
  47545,
  27088,
  34438,
  6033,
  49601,
  39256,
  7453,
  14887,
  40606,
  10169,
  57825,
  55608,
  63736,
  60179,
  39064,
  11187,
  4369,
  8755,
  26985,
  53947,
  55769,
  43376,
  36494,
  1929,
  38036,
  13223,
  39835,
  11702,
  7710,
  15394,
  34695,
  5522,
  59881,
  51488,
  52942,
  34633,
  21845,
  43775,
  10280,
  20600,
  57311,
  42362,
  35980,
  911,
  41377,
  23032,
  35209,
  2432,
  3341,
  6679,
  49087,
  26074,
  59110,
  55089,
  16962,
  33990,
  26728,
  53432,
  16705,
  33475,
  39321,
  10672,
  11565,
  23159,
  3855,
  7697,
  45232,
  31691,
  21588,
  43260,
  48059,
  28118,
  5654,
  11322
}; // idb
int dword_100B7D30[] = { 99 }; // weak
int dword_100B8130[] = { 25344 }; // weak
int dword_100B8530[] = { 6488064 }; // weak
int dword_100B8930[] = { 1660944384 }; // weak
int dword_100B8D58[] = { 128 }; // weak
int dword_100B8D68[] = { 0 }; // weak
int dword_100B8D78[] = { 0 }; // weak
char byte_100B8DE9[] = { '\0' }; // weak
char byte_100B8DEA[] = { '\0' }; // weak
char byte_100B8DEB[] = { '\0' }; // weak
char byte_100B8DEC[] = { '\x10' }; // weak
int dword_100B8E00[] = { 0 }; // weak
_UNKNOWN unk_100B8E78; // weak
_UNKNOWN unk_100B92F8; // weak
char byte_100B9370[] = { '\0' }; // weak
char byte_100B9470[] = { '\0' }; // weak
char byte_100B9570[] = { '\0' }; // weak
int dword_100B9670[] = { 0 }; // weak
int dword_100B96E8[] = { 0 }; // weak
__int16 word_100B9760[] = { 0 }; // weak
__int16 word_100B9762[] = { 0 }; // weak
__int16 word_100B9764[] = { 0 }; // weak
__int16 word_100B9766[] = { 0 }; // weak
int (__cdecl *off_100B9768)(int, int) = &sub_100516F0; // weak
void *off_100B9914 = &unk_100B8E78; // weak
void *off_100B9928 = &unk_100B92F8; // weak
_UNKNOWN unk_100B993C; // weak
_UNKNOWN unk_100BB050; // weak
int dword_100BB054[] = { 6006 }; // weak
_UNKNOWN unk_100BD520; // weak
char byte_100BD521[] = { '\0' }; // weak
_UNKNOWN unk_100C00E8; // weak
int dword_100C00EC[] = { 1312 }; // weak
__int16 word_100C03A0[] = { 43 }; // weak
char byte_100C03A4[] = { '\x06' }; // weak
_UNKNOWN unk_100C08A8; // weak
_UNKNOWN unk_100C08C0; // weak
_UNKNOWN unk_100C0908; // weak
int dword_100C090C[] = { 6767 }; // weak
_UNKNOWN unk_100C0918; // weak
_UNKNOWN unk_100C0930; // weak
_UNKNOWN unk_100C0948; // weak
int dword_100C094C[] = { 6769 }; // weak
_UNKNOWN unk_100C0960; // weak
int dword_100C0964[] = { 6093 }; // weak
_UNKNOWN unk_100C4DC8; // weak
int dword_100C4DCC[] = { 0 }; // weak
_UNKNOWN unk_100C6500; // weak
int dword_100C6504[] = { 0 }; // weak
_UNKNOWN unk_100C6518; // weak
int dword_100C651C[] = { 0 }; // weak
_UNKNOWN unk_100C6540; // weak
int dword_100C6544[] = { 0 }; // weak
_UNKNOWN unk_100C6570; // weak
int dword_100C6574[] = { 0 }; // weak
__int16 word_100C7498[] = { 1565 }; // weak
__int16 word_100C749C[] = { 534 }; // weak
char byte_100C74A0[] = { '\x04' }; // weak
__int16 word_100C74A2[] = { 6512 }; // weak
int dword_100C74B8[] = { 118000 }; // weak
int dword_100CAEB0 = 64; // weak
__int16 word_100CAEB4[] = { 6782 }; // weak
__int16 word_100CAEB8[] = { 128 }; // weak
_UNKNOWN unk_100CAED4; // weak
_DWORD dword_100CAED8[10] = { 64, 24, 62, 18, 65, 27525120, 27394467, 27721729, 27591078, 0 }; // idb
char *off_100CCD78 = "/shr_mem/iop_gtx_intf.shr"; // weak
int dword_100CCDBC[] = { 6829 }; // weak
__int16 word_100CDDF2[] = { 233 }; // weak
int dword_100CDDF8[] = { 6201 }; // weak
__int16 word_100D09A8[] = { 114 }; // weak
__int16 word_100D0AB8[] = { 551 }; // weak
char byte_100D386A[] = { '\x04' }; // weak
char byte_100D386F[] = { '\a' }; // weak
_UNKNOWN unk_100DB3E0; // weak
int dword_100DB3E4[] = { 3535 }; // weak
_UNKNOWN unk_100DB418; // weak
int dword_100DB41C[] = { 6813 }; // weak
_UNKNOWN unk_100DB450; // weak
int dword_100DB454[] = { 9036 }; // weak
_UNKNOWN unk_100DB488; // weak
int dword_100DB48C[] = { 6763 }; // weak
_UNKNOWN unk_100DDCBC; // weak
_UNKNOWN unk_100DDCDC; // weak
_DWORD dword_100DDD08[24] =
{
  4157273,
  2949120,
  1740967,
  919879,
  466945,
  234379,
  117304,
  58666,
  29335,
  14668,
  7334,
  3667,
  1833,
  917,
  458,
  229,
  115,
  57,
  29,
  14,
  7,
  4,
  2,
  1
}; // idb
void *off_100DDD7C = &unk_100DE52C; // weak
_UNKNOWN unk_100DDE08; // weak
_UNKNOWN unk_100DDE20; // weak
_UNKNOWN unk_100DDE74; // weak
_UNKNOWN unk_100DDE88; // weak
_UNKNOWN unk_100DDEA4; // weak
_UNKNOWN unk_100DDED0; // weak
void *off_100DDF48 = &unk_100DDF10; // weak
char byte_100DDF78[136] =
{
  '\x02',
  '\0',
  '\0',
  '\0',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  'c',
  'i',
  'n',
  'u',
  '\0',
  '\0',
  '\0',
  '\0',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  'c',
  'i',
  'n',
  'u',
  '\x01',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  'n',
  'm',
  'r',
  'a',
  '\x03',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  'b',
  'm',
  'y',
  's',
  '\x03',
  '\0',
  '\0',
  '\0',
  '\n',
  '\0',
  '\0',
  '\0',
  'c',
  'i',
  'n',
  'u',
  '\x03',
  '\0',
  '\0',
  '\0',
  '\x01',
  '\0',
  '\0',
  '\0',
  'c',
  'i',
  'n',
  'u',
  '\x03',
  '\0',
  '\0',
  '\0',
  '\x02',
  '\0',
  '\0',
  '\0',
  's',
  'i',
  'j',
  's',
  '\x03',
  '\0',
  '\0',
  '\0',
  '\x03',
  '\0',
  '\0',
  '\0',
  ' ',
  ' ',
  'b',
  'g',
  '\x03',
  '\0',
  '\0',
  '\0',
  '\x04',
  '\0',
  '\0',
  '\0',
  '5',
  'g',
  'i',
  'b',
  '\x03',
  '\0',
  '\0',
  '\0',
  '\x05',
  '\0',
  '\0',
  '\0',
  's',
  'n',
  'a',
  'w',
  '\x03',
  '\0',
  '\0',
  '\0',
  '\x06',
  '\0',
  '\0',
  '\0',
  'a',
  'h',
  'o',
  'j',
  '\0',
  '\0',
  '\0',
  '\0'
}; // idb
int dword_100DE108[] = { 0 }; // weak
char *off_100DE508[5] = { "THEZOCQS", "HEZLOCUS", "xzroesc", "xzroesc", "pqgjy" }; // weak
char byte_100DE550[12] =
{
  '\0',
  '\0',
  '\0',
  '\x01',
  '\x01',
  '\0',
  '\x01',
  '\x01',
  '\xFF',
  '\0',
  '\x01',
  '\0'
}; // idb
char byte_100DE55C[] = { '\0' }; // weak
int dword_100DE568 = 0; // idb
int dword_100DEE68[] = { 0 }; // weak
char a006D0598[11] = "006-D0598-"; // weak
int (__thiscall *off_100DF7C8)(void *, char) = &sub_10072605; // weak
int (__thiscall *off_100DFA30)(void *, char) = &sub_1007A34E; // weak
int (__thiscall *off_100DFA50)(void *, char) = &sub_1007A378; // weak
int (__thiscall *off_100DFA7C)(void *, char) = &sub_1007A542; // weak
_UNKNOWN unk_100EDCEC; // weak
_UNKNOWN unk_100EDCF4; // weak
char aSolidold[9] = "solidold"; // weak
char aNull_1[5] = "null"; // weak
char aSolid[6] = "solid"; // weak
int dword_100F001C = 1634300481; // weak
__int16 word_100F0020 = 108; // weak
_UNKNOWN unk_100F0024; // weak
char aSlash[6] = "slash"; // weak
char aLgbldgw[8] = "lgbldgw"; // weak
char aLgbldgb[8] = "lgbldgb"; // weak
int dword_100F0050 = 3141592654; // weak
_UNKNOWN unk_100F0998; // weak
_UNKNOWN unk_100F0D00; // weak
int dword_100F1100 = 1024; // weak
int dword_100F1104 = 4294966273; // weak
int dword_100F1108 = 53; // weak
int dword_100F110C = 11; // weak
int dword_100F1110 = 64; // weak
int dword_100F1114 = 1023; // weak
int dword_100F1118 = 128; // weak
int dword_100F111C = 4294967169; // weak
int dword_100F1120 = 24; // weak
int dword_100F1124 = 8; // weak
int dword_100F1128 = 32; // weak
int dword_100F112C = 127; // weak
void *off_100F13F0 = &unk_10F8E1E0; // weak
_UNKNOWN unk_100F1400; // weak
_UNKNOWN unk_100F1460; // weak
_UNKNOWN unk_100F1670; // weak
char byte_100F18A0[16] =
{
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0'
}; // idb
int dword_100F18B0 = 0; // weak
__int16 word_100F18B4[] = { 0 }; // weak
__int16 word_100F18B6[] = { 0 }; // weak
char byte_100F18B8[] = { '\0' }; // weak
char byte_100F18B9[] = { '\0' }; // weak
__int16 word_100F18BA[] = { 0 }; // weak
_UNKNOWN unk_100F18C0; // weak
__int16 word_100F18E4 = 0; // weak
__int16 word_100F18E6 = 0; // weak
__int16 word_100F18E8 = 0; // weak
__int16 word_100F18EA = 0; // weak
int dword_100F1918 = 0; // weak
int dword_100F191C = 0; // weak
int dword_100F1920 = 0; // weak
int dword_100F1924 = 0; // weak
int dword_100F1928 = 0; // weak
_UNKNOWN unk_100F1930; // weak
_UNKNOWN unk_10325476; // weak
_UNKNOWN unk_10624DD3; // weak
int dword_108F1930; // weak
int dword_108F1934; // weak
int dword_108F1938; // weak
int dword_108F193C; // weak
_UNKNOWN unk_108F1940; // weak
char byte_108F194F; // weak
_UNKNOWN unk_108F1950; // weak
char byte_108F1968[]; // weak
char byte_108F1A68; // weak
char byte_108F1A69; // weak
char byte_108F1A6A; // weak
_UNKNOWN unk_108F1A70; // weak
int dword_108F1AE4; // weak
int dword_108F1AF0; // weak
int dword_108F1AF4; // weak
_UNKNOWN unk_108F1AF8; // weak
int dword_108F1FA8; // weak
char byte_108F1FAC; // weak
int dword_108F1FBC; // weak
int dword_108F1FC0; // weak
int dword_108F1FC4; // weak
_UNKNOWN unk_108F1FC8; // weak
int dword_109B1FC8; // weak
int dword_109B1FCC; // weak
int dword_109B1FD0; // weak
int dword_109B1FD4; // weak
int dword_109B1FD8; // weak
int dword_109B1FDC; // weak
_UNKNOWN unk_109B1FE0; // weak
char byte_109B1FE2[]; // weak
_UNKNOWN unk_109B20F4; // weak
int dword_109B41A0; // weak
char byte_109B41A4; // weak
char byte_109B41A5; // weak
int dword_109B41A8; // idb
int dword_109B41AC[]; // weak
int dword_109B41B0; // weak
int dword_109B41B4; // weak
int dword_109B41B8; // weak
int dword_109B41BC; // weak
char byte_109B41C0; // weak
char byte_109B41C1; // weak
char byte_109B41C5; // weak
char byte_109B41C6; // weak
char byte_109B41C7; // weak
__int16 word_109B41C8; // weak
__int16 word_109B41CA; // weak
char byte_109B41CC; // weak
char byte_109B41CD; // weak
char byte_109B41CE; // weak
char byte_109B41CF; // weak
char byte_109B41D0; // weak
char byte_109B41D3; // weak
__int16 word_109B41D4; // weak
__int16 word_109B41D6; // weak
__int16 word_109B41D8; // weak
__int16 word_109B41DA; // weak
__int16 word_109B41DC; // weak
__int16 word_109B41E0[]; // weak
__int16 word_109B41E2; // weak
__int16 word_109B41E4; // weak
__int16 word_109B41E6; // weak
__int16 word_109B41E8; // weak
__int16 word_109B41EC; // weak
__int16 word_109B41EE; // weak
__int16 word_109B41F0; // weak
__int16 word_109B41F2; // weak
__int16 word_109B41F4; // weak
__int16 word_109B41F6; // weak
__int16 word_109B41F8; // weak
char byte_109B41FC; // weak
char byte_109B41FD; // weak
char byte_109B41FF; // weak
char byte_109B4200; // weak
char *dword_109B4204; // idb
char *dword_109B4208; // idb
char *dword_109B420C; // idb
char *dword_109B4210; // idb
__int16 word_109B4214; // weak
__int16 word_109B4216; // weak
__int16 word_109B4218; // weak
__int16 word_109B421A; // weak
__int16 word_109B421C; // weak
__int16 word_109B4220; // weak
__int16 word_109B4222; // weak
__int16 word_109B4224; // weak
__int16 word_109B4226; // weak
__int16 word_109B4228; // weak
__int16 word_109B422A; // weak
__int16 word_109B422C; // weak
__int16 word_109B422E; // weak
char byte_109B4230; // weak
int dword_109B4234[]; // weak
int dword_109B4238; // weak
char *dword_109B423C; // idb
int dword_109B4240; // weak
int dword_109B4244[]; // weak
int dword_109B4248[]; // weak
int dword_109B424C; // weak
int dword_109B4250; // weak
int dword_109B4254; // weak
int dword_109B4258; // weak
char byte_109B425C; // weak
char byte_109B425D; // weak
char byte_109B425E; // weak
char byte_109B425F; // weak
char byte_109B4260; // weak
int dword_109B4264[]; // weak
__int16 word_109B4268[]; // weak
__int16 word_109B426A; // weak
__int16 word_109B426C; // weak
__int16 word_109B426E; // weak
__int16 word_109B4270; // weak
__int16 word_109B4278[]; // weak
__int16 word_109B427A; // weak
__int16 word_109B427C; // weak
__int16 word_109B427E; // weak
__int16 word_109B4280; // weak
__int16 word_109B4282; // weak
__int16 word_109B4284[]; // weak
__int16 word_109B4286; // weak
__int16 word_109B4288; // weak
__int16 word_109B428A; // weak
__int16 word_109B428C; // weak
__int16 word_109B428E; // weak
char byte_109B4290; // weak
char byte_109B4291; // weak
_UNKNOWN unk_109B4298; // weak
_UNKNOWN unk_109B4588; // weak
_UNKNOWN unk_109B4AF0; // weak
_UNKNOWN unk_109B4C5C; // weak
_UNKNOWN unk_109B4C76; // weak
char byte_109B4C7B; // weak
_UNKNOWN unk_109B4C80; // weak
_UNKNOWN unk_109B4C93; // weak
_UNKNOWN unk_109B4DE0; // weak
_UNKNOWN unk_109D16C7; // weak
_UNKNOWN unk_109D17B8; // weak
int dword_109D17BC; // weak
int dword_109D17C0; // weak
int dword_109D17C8; // weak
char byte_109D17DC; // weak
int dword_109D17E0; // weak
int dword_109D17E4; // weak
int dword_109D17E8; // weak
int dword_109D17F0; // weak
_UNKNOWN unk_109D17F4; // weak
int dword_109D17F8; // idb
int dword_109D17FC; // weak
char byte_109D1800; // weak
int dword_109D1804; // weak
_UNKNOWN unk_109D1808; // weak
int dword_109D180C; // idb
int dword_109D1810; // weak
char byte_109D1814; // weak
int dword_109D1818; // weak
_UNKNOWN unk_109D181C; // weak
int dword_109D1820; // idb
int dword_109D1824; // weak
char byte_109D1828; // weak
int dword_109D182C; // weak
int dword_109D1830; // weak
char byte_109D1834; // weak
int dword_109D1838; // weak
int dword_109D183C; // weak
_UNKNOWN unk_109D1840; // weak
int dword_109D1864; // weak
int dword_109D1868; // weak
char byte_109D186C; // weak
int dword_109D187C; // weak
int dword_109D1880; // weak
int dword_109D1884; // weak
int dword_109D1888; // weak
int dword_109D18A0; // weak
int dword_109D18A4; // weak
int dword_109D18A8; // weak
int dword_109D18B0; // weak
int dword_109D18B4; // weak
int dword_109D18B8; // weak
int dword_109D18C0; // weak
char byte_109D18C4; // weak
int dword_109D18C8; // weak
int dword_109D18CC; // weak
char byte_109D18D0; // weak
int dword_109D18D4; // weak
int dword_109D18D8; // weak
int dword_109D18DC; // weak
int dword_109D18E0; // weak
int dword_109D18E4; // weak
int dword_109D18E8; // weak
int dword_109D18EC; // weak
int dword_109D18F0; // weak
int dword_109D18F4; // weak
__int16 word_109D18F8; // weak
int dword_109D18FC; // weak
int dword_109D1900; // weak
int dword_109D1904; // weak
int dword_109D1908; // weak
int dword_109D190C; // weak
int dword_109D1910; // weak
char byte_109D1914; // weak
char byte_109D1915; // weak
_UNKNOWN unk_109D1918; // weak
char byte_109D1958; // weak
int dword_109D195C; // weak
_UNKNOWN unk_109D1960; // weak
int dword_109D1980; // weak
int dword_109D1984; // weak
int dword_109D1990; // weak
int dword_109D1994; // weak
int dword_109D1998; // weak
int dword_109D199C; // weak
int dword_109D19A0; // weak
int dword_109D19A4; // weak
int dword_109D19A8; // weak
int dword_109D19B0; // weak
int dword_109D19B4; // weak
int dword_109D19B8; // weak
int dword_109D19C0; // weak
int dword_109D19C4; // weak
int dword_109D19C8; // weak
int dword_109D19D0; // weak
int dword_109D19D4; // weak
int dword_109D19D8; // weak
int dword_109D19E0; // weak
int dword_109D19E4; // weak
int dword_109D19E8; // weak
int dword_109D19F0; // weak
int dword_109D19F4; // weak
int dword_109D19F8; // weak
int dword_109D1A00; // weak
int dword_109D1A04; // weak
int dword_109D1A08; // weak
int dword_109D1A10; // weak
int dword_109D1A14; // weak
float flt_109D1A18; // weak
float flt_109D1A1C; // weak
int dword_109D1A20; // weak
int dword_109D1A24; // weak
float flt_109D1A34; // weak
float flt_109D1A38; // weak
int dword_109D1A40; // weak
int dword_109D1A44; // weak
int dword_109D1A48; // weak
int dword_109D1A4C; // weak
int dword_109D1A50; // weak
_UNKNOWN unk_109D1A58; // weak
_UNKNOWN unk_109D1AD0; // weak
__int16 word_10DD1AD0; // weak
char byte_10DDC268; // weak
char byte_10DDC269; // weak
_UNKNOWN unk_10DDD270; // weak
_UNKNOWN unk_10DDE270; // weak
char byte_10DE99B8[124]; // idb
_UNKNOWN unk_10DE9A34; // weak
_UNKNOWN unk_10DE9A38; // weak
int dword_10DE9A3C; // weak
int dword_10DF341C; // weak
int dword_10DF3420; // weak
int dword_10DF3430; // weak
int dword_10DF3434; // weak
int dword_10DF3440; // weak
int dword_10DF3444; // weak
int dword_10DF3450; // weak
_UNKNOWN unk_10DF3458; // weak
char byte_10DF3730[]; // weak
char byte_10DF3731[]; // weak
_UNKNOWN unk_10DF4998; // weak
int dword_10DF6348; // weak
int dword_10DF634C; // weak
int dword_10DF6350; // weak
int dword_10DF6354; // weak
int dword_10DF6358; // weak
int dword_10DF635C; // weak
int dword_10DF6360; // weak
int dword_10DF6364; // weak
int dword_10DF6368; // weak
int dword_10DF636C; // weak
int dword_10DF6370; // weak
int dword_10DF6374; // weak
int dword_10DF6378; // weak
_UNKNOWN unk_10DF6380; // weak
int dword_10DF78C0; // weak
char byte_10DF78C8[]; // weak
char byte_10DF78CC[]; // weak
char byte_10DF78CD[]; // weak
int dword_10DF78D4[]; // weak
int dword_10DF78DC[]; // weak
int dword_10DF7910[]; // weak
int dword_10DF7914; // weak
int dword_10DF7918; // weak
int dword_10DF791C; // weak
int dword_10DF7920; // weak
int dword_10DF7924[]; // weak
int dword_10DF7928; // weak
int dword_10DF792C; // weak
int dword_10DF7930; // weak
int dword_10DF7934; // weak
_UNKNOWN unk_10DF7938; // weak
char byte_10E578A8[254]; // idb
char byte_10E579A6[]; // weak
char byte_10E579A7[]; // weak
int dword_10E5C498[]; // weak
int dword_10E5C4AC[]; // weak
int dword_10E5E590[]; // weak
int dword_10E5E5A4[]; // weak
int dword_10E5FB98[]; // weak
int dword_10E5FBAC[]; // weak
char byte_10E6A2F0[]; // weak
char byte_10E6A2F1[]; // weak
_UNKNOWN unk_10E6A390; // weak
int dword_10E6A660[]; // weak
int dword_10E6A664[]; // weak
_UNKNOWN unk_10E6AB80; // weak
_UNKNOWN unk_10E6DA88; // weak
_UNKNOWN unk_10E6DF88; // weak
_UNKNOWN unk_10E6E030; // weak
char byte_10E6E050; // weak
char byte_10E6E051; // weak
char byte_10E6E052; // weak
char byte_10E6E053; // weak
_UNKNOWN unk_10E6E058; // weak
_UNKNOWN unk_10E6E078; // weak
_DWORD dword_10E74A58[16]; // idb
int dword_10E74A98[]; // weak
int dword_10E74AD8; // weak
int dword_10E74AE0[]; // weak
char byte_10E81B1C; // weak
char byte_10E81B1D; // weak
__int16 word_10E81B20; // weak
__int16 word_10E81B22; // weak
int dword_10E81B24[]; // weak
int dword_10E81B28[]; // weak
int dword_10E81B30[]; // weak
int dword_10E81B34[]; // weak
_UNKNOWN unk_10E81B40; // weak
int dword_10E81CDC; // weak
_UNKNOWN dword_10E81CE0; // weak
int dword_10E8206C; // weak
int dword_10E82074; // weak
int dword_10E82080; // weak
int dword_10E821D0; // weak
int dword_10E824F4; // weak
int dword_10E8265C; // weak
int dword_10E82668; // weak
int dword_10E8266C; // weak
int dword_10E82680; // weak
int dword_10E82684; // weak
int dword_10E82688; // weak
int dword_10E8268C; // weak
int dword_10E82690; // weak
int dword_10E82988; // weak
int dword_10E8298C; // weak
_UNKNOWN unk_10E829A0; // weak
int dword_10E8E0E8; // weak
int dword_10E8E0EC; // weak
char byte_10E8E0F0; // weak
int dword_10E8E0F4; // weak
char byte_10E8E0F8; // weak
__int16 word_10E8E100; // weak
__int16 word_10E8E102; // weak
__int16 word_10E8E104; // weak
__int16 word_10E8E106; // weak
int dword_10E8E108; // weak
int dword_10E8E10C; // weak
_UNKNOWN unk_10E8E120; // weak
int dword_10F8E120; // weak
int dword_10F8E124; // weak
int dword_10F8E128; // weak
int dword_10F8E130; // weak
int dword_10F8E134; // weak
int dword_10F8E13C; // weak
int dword_10F8E160[]; // weak
int dword_10F8E164[]; // weak
int dword_10F8E168[]; // weak
int dword_10F8E16C; // weak
int dword_10F8E170; // weak
int dword_10F8E174; // weak
int dword_10F8E178; // weak
int dword_10F8E17C; // weak
int dword_10F8E180; // weak
int dword_10F8E188; // weak
int dword_10F8E194; // weak
int dword_10F8E1A0; // weak
int dword_10F8E1AC; // weak
char byte_10F8E1D8; // weak
void *dword_10F8E1DC; // idb
int dword_10F8F1E0; // weak
int dword_10F8F1FC; // weak
UINT uNumber; // idb
int dword_10F8F220[]; // weak
int dword_10F8F320; // weak
int dword_10F8F33C; // weak


//----- (10001000) --------------------------------------------------------
int __cdecl sub_10001000(double a1, double a2)
{
  double *v2; // ecx@0
  double v3; // ST00_8@1
  double v4; // st7@1
  int result; // eax@4

  v3 = *v2;
  v4 = a1;
  if ( (HIDWORD(v3) & 0x7FF00000) == 2146435072 || a1 < *v2 || (v4 = a2, a2 > *v2) )
  {
    *v2 = v4;
    result = 0;
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (10001050) --------------------------------------------------------
int __cdecl sub_10001050(int a1)
{
  void (__cdecl *v1)(int); // eax@2

  if ( dword_10E8E0F4 )
  {
    v1 = *(void (__cdecl **)(int))(*(_DWORD *)dword_10E8E0F4 + 68);
    if ( v1 )
      v1(a1);
  }
  return sub_10055160(25, (unsigned __int8)a1, 0, 0);
}
// 10E8E0F4: using guessed type int dword_10E8E0F4;

//----- (10001090) --------------------------------------------------------
char __cdecl sub_10001090(int a1)
{
  memset(byte_100F18A0, 0, 0x78u);
  dword_100F18B0 = dword_10E8E0EC;
  word_100F18B6[0] = *(_WORD *)(a1 + 4);
  word_100F18B4[0] = *(_WORD *)(a1 + 6);
  byte_100F18B8[0] = 8;
  byte_100F18B9[0] = 0;
  word_100F18BA[0] = 4 * ((8 * word_100F18B6[0] + 31) / 32);
  sub_100662B0((int)&unk_100F18C0, (int)&dword_100F18B0, 0);
  word_100F18EA = 0;
  word_100F18E8 = 0;
  word_100F18E6 = 0;
  word_100F18E4 = 16;
  return 0;
}
// 100F18B0: using guessed type int dword_100F18B0;
// 100F18B4: using guessed type __int16 word_100F18B4[];
// 100F18B6: using guessed type __int16 word_100F18B6[];
// 100F18BA: using guessed type __int16 word_100F18BA[];
// 100F18E4: using guessed type __int16 word_100F18E4;
// 100F18E6: using guessed type __int16 word_100F18E6;
// 100F18E8: using guessed type __int16 word_100F18E8;
// 100F18EA: using guessed type __int16 word_100F18EA;
// 10E8E0EC: using guessed type int dword_10E8E0EC;

//----- (10001130) --------------------------------------------------------
char sub_10001130()
{
  char result; // al@1
  int (*v1)(void); // ecx@2

  result = 0;
  if ( dword_10E8E0F4 )
  {
    v1 = *(int (**)(void))(*(_DWORD *)dword_10E8E0F4 + 8);
    if ( v1 )
      result = v1();
  }
  return result;
}
// 10E8E0F4: using guessed type int dword_10E8E0F4;

//----- (10001150) --------------------------------------------------------
int __cdecl sub_10001150(char *a1, int a2)
{
  int v2; // ebx@1
  int result; // eax@2
  int (__cdecl *v4)(char *, int, char *); // eax@5
  int v5; // eax@7
  int v6; // edx@7
  int v7; // edi@8
  char *v8; // esi@8
  char v9[36212]; // [sp+Ch] [bp-8D78h]@6

  v2 = -1;
  if ( !strncmp(a1, "______", 4u) )
  {
    result = -1;
  }
  else
  {
    sub_10002B90();
    if ( sub_10002BC0() )
    {
      if ( dword_10E8E0F4 )
      {
        v4 = *(int (__cdecl **)(char *, int, char *))(*(_DWORD *)dword_10E8E0F4 + 12);
        if ( v4 )
        {
          v2 = v4(a1, a2, v9);
          if ( v2 > 0 )
          {
            v5 = 0;
            v6 = v2;
            do
            {
              v7 = v5 + dword_10E8E0E8;
              qmemcpy((void *)(v5 + dword_10E8E0E8), &v9[v5], 0x8Cu);
              v8 = &v9[v5 + 140];
              v5 += 142;
              --v6;
              *(_WORD *)(v7 + 140) = *(_WORD *)v8;
            }
            while ( v6 );
          }
        }
      }
    }
    result = v2;
  }
  return result;
}
// 10E8E0E8: using guessed type int dword_10E8E0E8;
// 10E8E0F4: using guessed type int dword_10E8E0F4;
// 10001150: using guessed type char var_8D78[36212];

//----- (10001230) --------------------------------------------------------
int (__cdecl *__cdecl sub_10001230(int a1, int a2, int a3, _BYTE *a4))(int, int, int, _BYTE *)
{
  int (__cdecl *result)(int, int, int, _BYTE *); // eax@1

  *a4 = 0;
  result = (int (__cdecl *)(int, int, int, _BYTE *))dword_10E8E0F4;
  if ( dword_10E8E0F4 )
  {
    result = *(int (__cdecl **)(int, int, int, _BYTE *))(*(_DWORD *)dword_10E8E0F4 + 24);
    if ( result )
      result = (int (__cdecl *)(int, int, int, _BYTE *))result(a1, a2, a3, a4);
  }
  return result;
}
// 10E8E0F4: using guessed type int dword_10E8E0F4;

//----- (10001250) --------------------------------------------------------
unsigned __int8 __cdecl sub_10001250(char *a1, int a2, int a3)
{
  unsigned __int8 result; // al@2
  unsigned __int8 v4; // bl@3
  int (__cdecl *v5)(char *, int, int, char *); // eax@5
  unsigned __int8 v6; // al@6
  int v7; // esi@7
  char *v8; // edi@7
  int v9; // ebp@7
  char v10; // [sp+Ch] [bp-19ECh]@3

  if ( !strncmp(a1, "______", 4u) )
  {
    result = 0;
  }
  else
  {
    memset(&v10, 0, 0x19E6u);
    v4 = 0;
    sub_10002B90();
    if ( sub_10002BC0() )
    {
      if ( dword_10E8E0F4 )
      {
        v5 = *(int (__cdecl **)(char *, int, int, char *))(*(_DWORD *)dword_10E8E0F4 + 28);
        if ( v5 )
        {
          v6 = v5(a1, a2, a3, &v10);
          v4 = v6;
          if ( v6 )
          {
            v7 = 0;
            v8 = &v10;
            v9 = v6;
            do
            {
              memset((void *)(v7 + dword_10E8E0E8), 0, 0x8Eu);
              sub_10042590(v7 + dword_10E8E0E8 + 6, v8, 26);
              v8 += 26;
              v7 += 142;
              --v9;
            }
            while ( v9 );
          }
        }
      }
    }
    result = v4;
  }
  return result;
}
// 10E8E0E8: using guessed type int dword_10E8E0E8;
// 10E8E0F4: using guessed type int dword_10E8E0F4;

//----- (10001370) --------------------------------------------------------
int __cdecl sub_10001370(char *a1)
{
  int v1; // esi@1
  int result; // eax@2
  int (__cdecl *v3)(char *, int); // eax@4

  v1 = -1;
  if ( !strncmp(a1, "______", 4u) )
  {
    result = -1;
  }
  else
  {
    *(_BYTE *)(dword_10E8E0E8 + 36218) = 0;
    if ( dword_10E8E0F4 )
    {
      v3 = *(int (__cdecl **)(char *, int))(*(_DWORD *)dword_10E8E0F4 + 36);
      if ( v3 )
        v1 = v3(a1, dword_10E8E0E8 + 36218);
    }
    result = v1;
  }
  return result;
}
// 10E8E0E8: using guessed type int dword_10E8E0E8;
// 10E8E0F4: using guessed type int dword_10E8E0F4;

//----- (100013D0) --------------------------------------------------------
int __cdecl sub_100013D0(int a1, int a2, double a3, int a4, int a5, int a6)
{
  double v6; // st7@1
  void (__cdecl *v7)(int, int, _DWORD, _DWORD, int, int, int); // eax@5
  int v8; // eax@8
  int v9; // ecx@8
  int v10; // edi@8
  int v11; // ecx@8
  int v12; // eax@8
  int v13; // eax@10
  signed int v14; // eax@10
  int result; // eax@13
  float v16; // [sp+1Ch] [bp-4h]@1
  int v17; // [sp+3Ch] [bp+1Ch]@13

  v16 = 0.0;
  v6 = 0.125;
  *(_DWORD *)(a6 + 12) = 0;
  *(_DWORD *)a6 = 0;
  *(_DWORD *)(a6 + 8) = 0;
  *(_DWORD *)(a6 + 4) = 0;
  if ( a3 >= 0.125 )
    v6 = a3;
  else
    a3 = 0.125;
  if ( dword_10E8E0F4 )
  {
    v7 = *(void (__cdecl **)(int, int, _DWORD, _DWORD, int, int, int))(*(_DWORD *)dword_10E8E0F4 + 40);
    if ( v7 )
    {
      v7(a1, a2, LODWORD(v6), *(unsigned __int64 *)&v6 >> 32, a4, a5, a6);
      v6 = a3;
      if ( *(_DWORD *)a6 > 0 )
        *(_DWORD *)a6 -= 10;
    }
  }
  v8 = *(_DWORD *)a6;
  v9 = *(_DWORD *)a6 < 0;
  LOBYTE(v9) = *(_DWORD *)a6 <= 0;
  *(_DWORD *)(a6 + 8) += 20;
  v10 = *(_DWORD *)(a6 + 8);
  v11 = v8 & (v9 - 1);
  v12 = *(_DWORD *)(a6 + 4);
  *(_DWORD *)a6 = v11;
  if ( v12 > 0 )
    *(_DWORD *)(a6 + 4) = v12 - 5;
  v13 = *(_DWORD *)(a6 + 4);
  *(_DWORD *)(a6 + 12) += 10;
  v14 = v13 <= 0 ? 0 : v13;
  *(_DWORD *)(a6 + 4) = v14;
  if ( v10 != v11 )
    v16 = (double)*(_WORD *)a4 * v6 / (double)(v10 - v11 + 4);
  if ( *(_DWORD *)(a6 + 12) == v14 )
  {
    result = a5;
    *(float *)a5 = sqrt((float)0.0 * v16);
  }
  else
  {
    *(float *)&v17 = v6 * (double)*(_WORD *)(a4 + 2) / (double)(*(_DWORD *)(a6 + 12) - v14 + 4);
    result = a5;
    *(float *)a5 = sqrt(*(float *)&v17 * v16);
  }
  return result;
}
// 10E8E0F4: using guessed type int dword_10E8E0F4;

//----- (10001510) --------------------------------------------------------
int __cdecl sub_10001510(char *a1, int a2, int a3, int a4)
{
  signed int v4; // edi@1
  int result; // eax@1
  int (__cdecl *v6)(char *, int, char *, int); // eax@3
  int v7; // eax@4
  signed int v8; // ebx@7
  signed int v9; // esi@8
  char v10[2808]; // [sp+Ch] [bp-AFCh]@4

  v4 = 0;
  *(_BYTE *)a3 = 0;
  result = strncmp(a1, "______", 4u);
  if ( result )
  {
    if ( dword_10E8E0F4
      && (v6 = *(int (__cdecl **)(char *, int, char *, int))(*(_DWORD *)dword_10E8E0F4 + 44)) != 0
      && (v7 = v6(a1, a2, v10, a4), v4 = v7, v7 > 0) )
    {
      if ( v7 >= 255 )
        v4 = 255;
      v8 = 0;
      if ( v4 > 0 )
      {
        v9 = 0;
        do
        {
          if ( v9 >= 2805 )
            break;
          sub_10042590(v9 + dword_10E8E0E8 + 69320, &v10[v9], 11);
          ++v8;
          v9 += 11;
        }
        while ( v8 < v4 );
      }
    }
    else
    {
      *(_BYTE *)(dword_10E8E0E8 + 69320) = 0;
    }
    result = v4;
  }
  return result;
}
// 10E8E0E8: using guessed type int dword_10E8E0E8;
// 10E8E0F4: using guessed type int dword_10E8E0F4;
// 10001510: using guessed type char var_AFC[2808];

//----- (10001610) --------------------------------------------------------
char __cdecl sub_10001610(char *a1, int a2, int a3)
{
  char result; // al@2
  int (__cdecl *v4)(char *, int, int); // ecx@4

  if ( !strncmp(a1, "______", 4u) )
  {
    result = 0;
  }
  else
  {
    result = 0;
    if ( dword_10E8E0F4 )
    {
      v4 = *(int (__cdecl **)(char *, int, int))(*(_DWORD *)dword_10E8E0F4 + 48);
      if ( v4 )
        result = v4(a1, a2, a3);
    }
  }
  return result;
}
// 10E8E0F4: using guessed type int dword_10E8E0F4;

//----- (10001660) --------------------------------------------------------
char sub_10001660()
{
  char result; // al@1
  int (*v1)(void); // ecx@2

  result = 0;
  if ( dword_10E8E0F4 )
  {
    v1 = *(int (**)(void))(*(_DWORD *)dword_10E8E0F4 + 52);
    if ( v1 )
      result = v1();
  }
  return result;
}
// 10E8E0F4: using guessed type int dword_10E8E0F4;

//----- (10001680) --------------------------------------------------------
char sub_10001680()
{
  char result; // al@1
  int (*v1)(void); // ecx@2

  result = 0;
  byte_10E8E0F8 = 1;
  if ( dword_10E8E0F4 )
  {
    v1 = *(int (**)(void))(*(_DWORD *)dword_10E8E0F4 + 56);
    if ( v1 )
      result = v1();
  }
  byte_10E8E0F0 = result;
  return result;
}
// 10E8E0F0: using guessed type char byte_10E8E0F0;
// 10E8E0F4: using guessed type int dword_10E8E0F4;
// 10E8E0F8: using guessed type char byte_10E8E0F8;

//----- (100016B0) --------------------------------------------------------
char __cdecl sub_100016B0(int a1, int a2, double a3, int a4, int a5, int a6)
{
  char result; // al@1
  int (__cdecl *v7)(int, int, _DWORD, _DWORD, int, int, int); // ecx@2

  result = 0;
  if ( dword_10E8E0F4 )
  {
    v7 = *(int (__cdecl **)(int, int, _DWORD, _DWORD, int, int, int))(*(_DWORD *)dword_10E8E0F4 + 60);
    if ( v7 )
      result = v7(a1, a2, LODWORD(a3), HIDWORD(a3), a4, a5, a6);
  }
  return result;
}
// 10E8E0F4: using guessed type int dword_10E8E0F4;

//----- (10001730) --------------------------------------------------------
char sub_10001730()
{
  char result; // al@1
  int (*v1)(void); // ecx@2

  result = 0;
  if ( dword_10E8E0F4 )
  {
    v1 = *(int (**)(void))(*(_DWORD *)dword_10E8E0F4 + 72);
    if ( v1 )
      result = v1();
  }
  return result;
}
// 10E8E0F4: using guessed type int dword_10E8E0F4;

//----- (10001750) --------------------------------------------------------
char __cdecl sub_10001750(int a1, int a2, double a3, int a4, int a5, int a6)
{
  char result; // al@1
  int (__cdecl *v7)(int, int, _DWORD, _DWORD, int, int, int); // ecx@2

  result = 0;
  if ( dword_10E8E0F4 )
  {
    v7 = *(int (__cdecl **)(int, int, _DWORD, _DWORD, int, int, int))(*(_DWORD *)dword_10E8E0F4 + 76);
    if ( v7 )
      result = v7(a1, a2, LODWORD(a3), HIDWORD(a3), a4, a5, a6);
  }
  return result;
}
// 10E8E0F4: using guessed type int dword_10E8E0F4;

//----- (10001790) --------------------------------------------------------
char __thiscall sub_10001790(_WORD *this)
{
  int v1; // ebx@1
  _WORD *v2; // esi@1
  signed int v3; // eax@1
  signed int v4; // eax@3
  signed int v5; // ebp@3
  bool v6; // zf@6
  char *v7; // ebp@9
  unsigned int v8; // ecx@10
  char *v9; // edx@10
  char *v10; // esi@10
  int v11; // edi@14
  int v12; // ecx@15
  _BYTE *v13; // edx@15
  _BYTE *v14; // esi@15
  int v15; // ecx@17
  _BYTE *v16; // edx@17
  _BYTE *v17; // esi@17
  _BYTE *v18; // edx@19
  _BYTE *v19; // esi@19
  signed __int16 v20; // di@30
  signed int v21; // edx@30
  signed int v22; // esi@30
  signed int v23; // ecx@30
  char v24; // bl@31
  bool v25; // sf@38
  unsigned __int8 v26; // of@38
  int v28; // [sp+10h] [bp-518h]@8
  signed __int16 v29; // [sp+10h] [bp-518h]@30
  int v30; // [sp+14h] [bp-514h]@3
  signed int v31; // [sp+18h] [bp-510h]@3
  _WORD *v32; // [sp+1Ch] [bp-50Ch]@1
  int v33; // [sp+20h] [bp-508h]@29
  char v34; // [sp+24h] [bp-504h]@1
  char v35; // [sp+25h] [bp-503h]@7
  char v36[1022]; // [sp+26h] [bp-502h]@6
  char v37[256]; // [sp+424h] [bp-104h]@1

  v1 = 0;
  v2 = this;
  v32 = this;
  memset(v37, 0, 0x100u);
  memset(&v34, 0, 0x400u);
  v3 = 0;
  do
  {
    v2[v3] = v3;
    ++v3;
  }
  while ( v3 < 256 );
  v4 = sub_10055470((int)&v34, 0x100u);
  v5 = v4;
  v31 = v4;
  v30 = 0;
  if ( v4 > 0 )
  {
    while ( 1 )
    {
      LOBYTE(v4) = v36[4 * v1];
      v6 = (_BYTE)v4 == *(&v34 + 4 * v1);
      v2[v1] = v1;
      if ( v6 && (_BYTE)v4 == *(&v35 + 4 * v1) )
      {
        v28 = 0;
        if ( v1 > 0 )
        {
          v7 = &v34;
          do
          {
            v8 = 4;
            v9 = &v34 + 4 * v1;
            v10 = v7;
            do
            {
              if ( *(_DWORD *)v10 != *(_DWORD *)v9 )
                goto LABEL_14;
              v8 -= 4;
              v9 += 4;
              v10 += 4;
            }
            while ( v8 >= 4 );
            if ( !v8 )
            {
LABEL_23:
              v4 = 0;
              goto LABEL_24;
            }
LABEL_14:
            v11 = (unsigned __int8)*v10 - (unsigned __int8)*v9;
            if ( (unsigned __int8)*v10 == (unsigned __int8)*v9 )
            {
              v12 = v8 - 1;
              v13 = v9 + 1;
              v14 = v10 + 1;
              if ( !v12 )
                goto LABEL_23;
              v11 = *v14 - *v13;
              if ( *v14 == *v13 )
              {
                v15 = v12 - 1;
                v16 = v13 + 1;
                v17 = v14 + 1;
                if ( !v15 )
                  goto LABEL_23;
                v11 = *v17 - *v16;
                if ( *v17 == *v16 )
                {
                  v18 = v16 + 1;
                  v19 = v17 + 1;
                  if ( v15 == 1 )
                    goto LABEL_23;
                  v11 = *v19 - *v18;
                  if ( *v19 == *v18 )
                    goto LABEL_23;
                }
              }
            }
            v4 = 1;
            if ( v11 <= 0 )
              v4 = -1;
LABEL_24:
            if ( !v4 )
              break;
            LOBYTE(v4) = v28 + 1;
            v7 += 4;
            ++v28;
          }
          while ( v28 < v1 );
        }
        v5 = v31;
        if ( v28 == v1 )
        {
          ++v30;
          v37[v1] = 1;
        }
      }
      if ( ++v1 >= v5 )
        break;
      v2 = v32;
    }
  }
  v33 = 0;
  if ( v30 > 0 )
  {
    do
    {
      v20 = -1;
      v21 = -1;
      v22 = -1;
      v23 = 0;
      v29 = 0x7FFF;
      if ( v5 > 0 )
      {
        do
        {
          v24 = v37[v23];
          if ( v24 )
          {
            if ( (unsigned __int8)v36[4 * v23] < v29 )
            {
              v29 = (unsigned __int8)v36[4 * v23];
              v22 = v23;
            }
            if ( v24 && (unsigned __int8)v36[4 * v23] > v20 )
            {
              v20 = (unsigned __int8)v36[4 * v23];
              v21 = v23;
            }
          }
          v5 = v31;
          ++v23;
        }
        while ( v23 < v31 );
      }
      v32[v21] = v22;
      v32[v22] = v21;
      LOBYTE(v4) = v30 - 2;
      v26 = __OFSUB__(v33 + 1, v30 - 2);
      v25 = v33 + 1 - (v30 - 2) < 0;
      v37[v21] = 0;
      v37[v22] = 0;
      v30 -= 2;
      ++v33;
    }
    while ( v25 ^ v26 );
  }
  return v4;
}
// 10001790: using guessed type char var_104[256];
// 10001790: using guessed type char var_502[1022];

//----- (100019E0) --------------------------------------------------------
int __fastcall sub_100019E0(unsigned __int8 a1)
{
  int result; // eax@1

  result = 0;
  if ( a1 < 1u )
    result = 576 * a1 + dword_10E8E0E8 + 72128;
  return result;
}
// 10E8E0E8: using guessed type int dword_10E8E0E8;

//----- (10001A00) --------------------------------------------------------
char __cdecl sub_10001A00(char a1, int a2, int a3, double a4, int a5, int a6)
{
  char v6; // bl@1
  unsigned int v7; // edi@1
  char *v8; // esi@1
  int v9; // eax@1
  char v10; // dl@1
  int v11; // ebp@1
  char v12; // bl@3
  char v13; // al@3
  bool v14; // zf@7
  __int16 v15; // cx@7
  __int16 v16; // dx@7
  __int16 v17; // ax@7
  int v18; // ecx@7
  signed __int16 v19; // ax@11
  float v20; // ST3C_4@16
  float v21; // ST3C_4@16
  int v22; // eax@16
  __int16 v23; // bx@18
  double v24; // st7@18
  int (__cdecl *v25)(int, char *, int, int *, int); // eax@19
  int v26; // ST40_4@25
  __int16 v27; // dx@26
  __int16 v28; // ST24_2@26
  __int16 v29; // ax@26
  __int16 v30; // ST20_2@26
  char result; // al@28
  char v32; // [sp+27h] [bp-239h]@18
  __int16 v33; // [sp+28h] [bp-238h]@18
  int v34; // [sp+2Ch] [bp-234h]@14
  __int16 v35; // [sp+2Ch] [bp-234h]@18
  __int16 v36; // [sp+2Eh] [bp-232h]@18
  int v37; // [sp+30h] [bp-230h]@16
  int v38; // [sp+34h] [bp-22Ch]@18
  int v39; // [sp+38h] [bp-228h]@1
  int v40; // [sp+3Ch] [bp-224h]@1
  int v41; // [sp+40h] [bp-220h]@1
  int v42; // [sp+44h] [bp-21Ch]@1
  int v43; // [sp+48h] [bp-218h]@7
  int v44; // [sp+4Ch] [bp-214h]@7
  int v45; // [sp+54h] [bp-20Ch]@7
  int v46; // [sp+58h] [bp-208h]@9
  char v47; // [sp+5Ch] [bp-204h]@9

  sub_10055100();
  v6 = 0;
  v7 = 120 * (unsigned __int8)a1;
  v8 = (char *)&unk_100F18C0 + v7;
  v42 = 0;
  v39 = 0;
  v41 = 0;
  v40 = 0;
  v9 = sub_100019E0(a1);
  v11 = v9;
  if ( !v9 || !*((_DWORD *)v8 + 13) )
    goto LABEL_28;
  *(_BYTE *)(v9 + 29) = 0;
  *(_DWORD *)(v9 + 40) = 0;
  v12 = a6;
  v13 = 0;
  if ( *(_BYTE *)(v11 + 34) != (_BYTE)a6 )
  {
    v13 = 1;
    *(_BYTE *)(v11 + 34) = a6;
  }
  byte_10E8E0F8 = v10;
  if ( v13 )
    sub_10002BD0();
  v14 = *(_BYTE *)(v11 + 28) == 0;
  *(double *)(v11 + 568) = a4;
  *(_DWORD *)(v11 + 36) = a2;
  *(_BYTE *)(v11 + 1) = a3;
  *(_BYTE *)(v11 + 34) = v12;
  *(_DWORD *)(v11 + 562) = a5;
  v15 = *((_WORD *)v8 + 12);
  v16 = *((_WORD *)v8 + 15);
  LOWORD(v43) = *((_WORD *)v8 + 13);
  v17 = *((_WORD *)v8 + 14);
  HIWORD(v43) = v15;
  v18 = *((_DWORD *)v8 + 12);
  LOWORD(v44) = v16;
  HIWORD(v44) = v17;
  v45 = v18;
  if ( v14 )
  {
    if ( !v12 )
    {
      v19 = 0;
LABEL_13:
      *((_WORD *)v8 + 25) = v19;
      *((_WORD *)v8 + 24) = v19;
      goto LABEL_14;
    }
LABEL_12:
    v19 = 16;
    goto LABEL_13;
  }
  if ( v12 )
    goto LABEL_12;
  v46 = *((_DWORD *)v8 + 17);
  sub_10001790(&v47);
  *((_DWORD *)v8 + 17) = &v47;
LABEL_14:
  sub_10055100();
  v34 = 1;
  if ( (signed __int16)a5 * SHIWORD(a5) >= 1 )
    v34 = (signed __int16)a5 * SHIWORD(a5);
  v20 = 4194304.0 / (double)v34;
  v21 = sqrt(v20);
  sub_10001000(v21, 0.125);
  sub_100013D0(a2, a3, a4, (int)&a5, (int)&v37, (int)&v39);
  v22 = v39;
  if ( v39 < 0 )
  {
    v22 = 0;
    v39 = 0;
  }
  v23 = (signed int)((double)(v41 - v22) * *(float *)&v37);
  v33 = (signed int)(*(float *)&v37 * (double)(v42 - v40));
  word_100F18B6[v7 / 2] = v23;
  word_100F18B4[v7 / 2] = v33;
  byte_100F18B8[v7] = 8;
  byte_100F18B9[v7] = 0;
  word_100F18BA[v7 / 2] = 4 * ((8 * v23 + 31) / 32);
  sub_100666F0((int)&unk_100F18C0 + v7, 0, 0, v23, v33);
  sub_10066600((int)&unk_100F18C0 + v7, 0, 0, v23, v33);
  v35 = *((_WORD *)v8 + 21);
  v36 = *((_WORD *)v8 + 20);
  v38 = -v40;
  v24 = *(float *)&v37 * (double)-v40;
  *((_WORD *)v8 + 21) = (signed int)((double)-v39 * *(float *)&v37);
  *((_WORD *)v8 + 20) = (signed int)v24;
  sub_10055100();
  v32 = 0;
  if ( dword_10E8E0F4 )
  {
    v25 = *(int (__cdecl **)(int, char *, int, int *, int))(*(_DWORD *)dword_10E8E0F4 + 4);
    if ( v25 )
      v32 = v25(a2, &byte_100F18A0[v7], v37, &v39, a6);
  }
  sub_10055100();
  if ( *(_BYTE *)(v11 + 28) && !(_BYTE)a6 )
    *((_DWORD *)v8 + 17) = v46;
  v14 = (_BYTE)a6 == 0;
  *((_WORD *)v8 + 21) = v35;
  *((_WORD *)v8 + 20) = v36;
  if ( v14 )
  {
    v26 = *((_DWORD *)v8 + 9);
    *((_WORD *)v8 + 18) = 16;
    *((_WORD *)v8 + 19) = 16;
    sub_100663A0((int)&unk_100F18C0 + v7, 0, 0, v23, v33, 0);
    *((_WORD *)v8 + 18) = v26;
    *((_WORD *)v8 + 19) = HIWORD(v26);
  }
  v27 = HIWORD(v45);
  v28 = HIWORD(v44);
  v29 = v43;
  *((_WORD *)v8 + 24) = v45;
  v30 = v44;
  *((_WORD *)v8 + 25) = v27;
  sub_100666F0((int)&unk_100F18C0 + v7, v29, SHIWORD(v43), v30, v28);
  v6 = v32;
  *(_BYTE *)(v11 + 29) = v32;
  *(_WORD *)(v11 + 46) = word_100F18B6[v7 / 2];
  *(_WORD *)(v11 + 44) = word_100F18B4[v7 / 2];
  *(_WORD *)(v11 + 48) = word_100F18BA[v7 / 2];
  sub_100554B0(v11 + 50, 0x100u);
  if ( v32 )
    *(_DWORD *)(v11 + 40) = sub_100550B0();
LABEL_28:
  sub_10055100();
  result = v6;
  byte_10E8E0F8 = 1;
  return result;
}
// 100F18B4: using guessed type __int16 word_100F18B4[];
// 100F18B6: using guessed type __int16 word_100F18B6[];
// 100F18BA: using guessed type __int16 word_100F18BA[];
// 10E8E0F4: using guessed type int dword_10E8E0F4;
// 10E8E0F8: using guessed type char byte_10E8E0F8;

//----- (10001E10) --------------------------------------------------------
signed int __cdecl sub_10001E10(unsigned __int8 a1, _BYTE *a2, int a3, int a4)
{
  int v4; // edi@1
  signed int v5; // ebx@1
  int v6; // eax@3
  int v7; // edx@3
  int v8; // esi@3
  int v9; // eax@4
  int v10; // ST34_4@4
  __int16 v11; // dx@4

  sub_10055100();
  v4 = dword_10E8E0F4;
  v5 = -1;
  if ( dword_10E8E0F4 )
  {
    if ( *(_DWORD *)(*(_DWORD *)dword_10E8E0F4 + 64) )
    {
      v6 = sub_100019E0(a1);
      v8 = v6;
      if ( v6 )
      {
        byte_10E8E0F8 = v7;
        v9 = (*(int (__cdecl **)(_BYTE *, int, int, int, _DWORD, int))(*(_DWORD *)v4 + 64))(
               a2,
               a3,
               a4,
               v7,
               *(_DWORD *)(v6 + 36),
               v6 + 28);
        *(_DWORD *)(v8 + 36) = v9;
        v10 = v9;
        sub_10042590(v8 + 2, a2, 26);
        *(_BYTE *)(v8 + 31) = *(_BYTE *)(a3 + 1);
        *(_BYTE *)(v8 + 30) = *(_BYTE *)a3;
        v11 = *(_WORD *)(a3 + 2);
        *(_BYTE *)v8 = a4;
        v5 = v10;
        *(_WORD *)(v8 + 32) = v11;
      }
    }
  }
  byte_10E8E0F8 = 1;
  sub_10055100();
  return v5;
}
// 10E8E0F4: using guessed type int dword_10E8E0F4;
// 10E8E0F8: using guessed type char byte_10E8E0F8;

//----- (10001EB0) --------------------------------------------------------
char sub_10001EB0()
{
  char result; // al@1
  char v1; // [sp+0h] [bp-8h]@1
  __int16 v2; // [sp+4h] [bp-4h]@1
  __int16 v3; // [sp+6h] [bp-2h]@1

  v2 = 2048;
  v3 = 2048;
  sub_10055220(18, 16);
  sub_10001090((int)&v1);
  result = sub_10001730();
  if ( result )
    result = sub_10001680();
  return result;
}

//----- (10001F20) --------------------------------------------------------
signed int sub_10001F20()
{
  int v0; // eax@11
  signed int result; // eax@12
  signed int v2; // esi@7

  sub_1000EC80();
  dword_10E8E0E8 = -15;
  sub_10055A00((LONG)&off_10088CD4);
  if ( (unsigned int)dword_10E8E0E8 >= 0xFFFFFFC2 || !dword_10E8E0E8 )
    sub_100429F0("..\\lib\\adl\\cht_init.c", 254, 1, 0);
  dword_10E8E0EC = -15;
  sub_10055A00((LONG)&off_10088CE8);
  if ( (unsigned int)dword_10E8E0EC >= 0xFFFFFFC2 || !dword_10E8E0EC )
    sub_100429F0("..\\lib\\adl\\cht_init.c", 262, 1, 0);
  sub_10055590((int)&off_10088CD4);
  sub_10055590((int)&off_10088CE8);
  v2 = 0;
  if ( sub_10002B70() == 1 )
    v2 = 6291456;
  memset(&unk_100F1930, 0, 0x800000u);
  dword_108F193C = 0x800000 - v2;
  dword_100F1928 = -1;
  dword_108F1938 = (int)&unk_100F1930;
  dword_108F1934 = (int)sub_10001EF0;
  dword_108F1930 = (int)sub_10001F00;
  dword_100F1920 = (int)&unk_100F1930 + 0x800000 - v2;
  dword_100F1924 = v2;
  dword_100F191C = (int)sub_10001EF0;
  dword_100F1918 = (int)sub_10001F00;
  sub_1006F700();
  dword_10E8298C = sub_1006F580((int)&dword_108F1930);
  dword_100F1928 = dword_10E8298C;
  if ( v2 )
    dword_100F1928 = sub_1006F580((int)&dword_100F1918);
  sub_1003DE50();
  byte_10E82989 = 0;
  byte_10E82988 = 0;
  word_10E8298A = 0;
  byte_10E8E0F0 = 0;
  v0 = (unsigned __int8)sub_10002B70() - 1;
  if ( v0 )
  {
    result = v0 - 1;
    if ( result )
      dword_10E8E0F4 = 0;
    else
      result = sub_1000E850(&dword_10E8E0F4);
  }
  else
  {
    result = sub_1000D380(&dword_10E8E0F4);
  }
  return result;
}
// 10001EF0: using guessed type int sub_10001EF0();
// 10001F00: using guessed type int sub_10001F00();
// 10088CD4: using guessed type char *off_10088CD4;
// 10088CE8: using guessed type char *off_10088CE8;
// 100F1918: using guessed type int dword_100F1918;
// 100F191C: using guessed type int dword_100F191C;
// 100F1920: using guessed type int dword_100F1920;
// 100F1924: using guessed type int dword_100F1924;
// 100F1928: using guessed type int dword_100F1928;
// 108F1930: using guessed type int dword_108F1930;
// 108F1934: using guessed type int dword_108F1934;
// 108F1938: using guessed type int dword_108F1938;
// 108F193C: using guessed type int dword_108F193C;
// 10E82988: using guessed type char byte_10E82988;
// 10E82989: using guessed type char byte_10E82989;
// 10E8298A: using guessed type __int16 word_10E8298A;
// 10E8298C: using guessed type int dword_10E8298C;
// 10E8E0E8: using guessed type int dword_10E8E0E8;
// 10E8E0EC: using guessed type int dword_10E8E0EC;
// 10E8E0F0: using guessed type char byte_10E8E0F0;
// 10E8E0F4: using guessed type int dword_10E8E0F4;

//----- (10002080) --------------------------------------------------------
void sub_10002080()
{
  int v0; // edi@3
  int v1; // eax@12
  char *v2; // edx@25
  char v3; // al@30
  char *v4; // eax@31
  char v5; // [sp+3Bh] [bp-199h]@28
  char *v6; // [sp+3Ch] [bp-198h]@24
  int v7; // [sp+40h] [bp-194h]@24
  int v8; // [sp+44h] [bp-190h]@24
  int v9; // [sp+48h] [bp-18Ch]@22
  char v10; // [sp+4Dh] [bp-187h]@5
  unsigned __int8 v11; // [sp+4Eh] [bp-186h]@38
  char v12; // [sp+4Fh] [bp-185h]@40
  char v13; // [sp+50h] [bp-184h]@1
  unsigned int v14; // [sp+54h] [bp-180h]@7
  unsigned int v15; // [sp+58h] [bp-17Ch]@1
  int v16; // [sp+5Ch] [bp-178h]@3
  int v17; // [sp+60h] [bp-174h]@35
  int v18; // [sp+64h] [bp-170h]@35
  int v19; // [sp+68h] [bp-16Ch]@35
  int v20; // [sp+6Ch] [bp-168h]@35
  int v21; // [sp+70h] [bp-164h]@24
  unsigned int v22; // [sp+74h] [bp-160h]@11
  int v23; // [sp+78h] [bp-15Ch]@29
  unsigned int v24; // [sp+7Ch] [bp-158h]@11
  char v25; // [sp+80h] [bp-154h]@41
  char v26; // [sp+86h] [bp-14Eh]@41
  char v27; // [sp+8Ch] [bp-148h]@25
  int v28; // [sp+8Eh] [bp-146h]@25
  int v29; // [sp+94h] [bp-140h]@27
  __int16 v30; // [sp+A4h] [bp-130h]@22
  char v31[4]; // [sp+A8h] [bp-12Ch]@24
  char v32[7]; // [sp+ACh] [bp-128h]@24
  int v33; // [sp+B8h] [bp-11Ch]@25
  int v34; // [sp+BCh] [bp-118h]@25
  int v35; // [sp+CCh] [bp-108h]@27
  int v36; // [sp+D8h] [bp-FCh]@39
  int v37; // [sp+E4h] [bp-F0h]@39
  char v38; // [sp+E8h] [bp-ECh]@33
  char v39; // [sp+106h] [bp-CEh]@48
  char v40; // [sp+107h] [bp-CDh]@48
  __int16 v41; // [sp+108h] [bp-CCh]@48
  char v42; // [sp+10Ah] [bp-CAh]@48
  char v43; // [sp+11Ch] [bp-B8h]@42
  char v44; // [sp+1B4h] [bp-20h]@37

  v15 = 0;
  sub_10001F20();
  sub_10042E70();
  sub_10001EB0();
  sub_100552F0(&v13);
  if ( !(v13 & 0x10) )
    sub_100429F0("..\\lib\\adl\\cht_main.c", 157, 1, 0);
  v0 = v16;
  while ( 1 )
  {
    if ( v13 & 0x10 )
    {
      sub_10055220(20, 16);
      sub_10055220(19, 16);
      v10 = 0;
    }
    if ( v13 & 1 )
      break;
LABEL_21:
    if ( v13 & 2 )
    {
      while ( sub_10055080((int)&v30, (int)&v9) != 1 )
      {
        switch ( v30 )
        {
          case 0x8002:
            v21 = sub_10001150(v31, *(int *)&v32[3]);
            v8 = 0;
            v6 = (char *)&v21;
            v7 = 4;
            sub_100551B0(v9, (int)&v6);
            break;
          case 0x800F:
            v27 = sub_100016B0(*(int *)v31, *(int *)v32, *(double *)&v32[4], (int)&v33, (int)&v34, (int)&v28);
            v2 = &v27;
            v7 = 24;
            goto LABEL_26;
          case 0x8010:
            v27 = sub_10001750(*(int *)v31, *(int *)v32, *(double *)&v32[4], (int)&v33, (int)&v29, (int)&v35);
            v8 = 0;
            v6 = &v27;
            v7 = 24;
            sub_100551B0(v9, (int)&v6);
            break;
          case 0x8003:
            v5 = sub_10001610(v31, *(int *)&v32[3], (int)&v33 + 3);
            v8 = 0;
            v6 = &v5;
            v7 = 1;
            sub_100551B0(v9, (int)&v6);
            break;
          case 0x8004:
            v23 = sub_10001370(v31);
            v8 = 0;
            v6 = (char *)&v23;
            v7 = 4;
            sub_100551B0(v9, (int)&v6);
            break;
          case 0x8005:
            v3 = sub_10001130();
            goto LABEL_31;
          case 0x8006:
            qmemcpy(&v38, &v30, 0x34u);
            v10 = 1;
            v0 = j_TSK_pvg_get_us_timer();
            break;
          case 0x800A:
            *(_BYTE *)(dword_10E8E0E8 + 72704) = 0;
            *(_DWORD *)(dword_10E8E0E8 + 69308) = *(_DWORD *)v31;
            *(double *)(dword_10E8E0E8 + 69312) = *(double *)&v32[4];
            *(_BYTE *)(dword_10E8E0E8 + 36216) = v34;
            *(_BYTE *)(dword_10E8E0E8 + 36210) = v32[0];
            sub_10055250(20, (int)&v30, 1, 0);
            break;
          case 0x800D:
            sub_100013D0(*(int *)v31, *(int *)v32, *(double *)&v32[4], (int)&v33, (int)&v16, (int)&v17);
            v20 = (signed int)((double)v20 * *(float *)&v16);
            v18 = (signed int)((double)v18 * *(float *)&v16);
            v17 = (signed int)((double)v17 * *(float *)&v16);
            v19 = (signed int)(*(float *)&v16 * (double)v19);
            v2 = (char *)&v17;
            v7 = 16;
LABEL_26:
            v6 = v2;
            v8 = 0;
            sub_100551B0(v9, (int)&v6);
            break;
          case 0x8007:
            v3 = sub_10001660();
LABEL_31:
            v5 = v3;
            v7 = 1;
            v4 = &v5;
            v8 = 0;
            goto LABEL_32;
          case 0x8008:
            sub_10001230((int)v31, *(int *)&v32[3], (int)&v32[4], &v44);
            v8 = 0;
            v6 = &v44;
            v7 = 26;
            sub_100551B0(v9, (int)&v6);
            break;
          case 0x8015:
            v11 = sub_10001250(v31, *(int *)&v32[3], (int)&v32[4]);
            v8 = 0;
            v6 = (char *)&v11;
            v7 = 1;
            sub_100551B0(v9, (int)&v6);
            break;
          case 0x8009:
            v37 = sub_10001510(v31, *(int *)&v32[3], (int)&v36, (int)&v33 + 3);
            v8 = 0;
            v6 = (char *)&v36;
            v7 = 16;
            sub_100551B0(v9, (int)&v6);
            break;
          case 0x800E:
            v12 = sub_10002B90();
            v8 = 0;
            v6 = &v12;
            v7 = 1;
            sub_100551B0(v9, (int)&v6);
            break;
          case 0x8013:
            sub_10002B30(&v25, &v26);
            v8 = 0;
            v6 = &v25;
            v7 = 10;
            sub_100551B0(v9, (int)&v6);
            break;
          case 0x8014:
            v8 = (unsigned __int8)sub_10002AC0(&v43);
            v4 = &v43;
            v7 = 152;
LABEL_32:
            v6 = v4;
            sub_100551B0(v9, (int)&v6);
            break;
          case 0x8011:
            v5 = sub_10001680();
            v8 = 0;
            v6 = &v5;
            v7 = 1;
            sub_100551B0(v9, (int)&v6);
            break;
          case 0x8012:
            sub_10001050(*(int *)v31);
            break;
          default:
            break;
        }
      }
      if ( v10 )
      {
        if ( (unsigned int)(j_TSK_pvg_get_us_timer() - v0) >= 0x30D40 )
        {
          v10 = 0;
          sub_10055250(20, (int)&v38, 1, 0);
          *(_BYTE *)(dword_10E8E0E8 + 72707) = v40;
          *(_BYTE *)(dword_10E8E0E8 + 72706) = v39;
          *(_WORD *)(dword_10E8E0E8 + 72708) = v41;
          *(_BYTE *)(dword_10E8E0E8 + 72710) = v42;
        }
      }
    }
    sub_100552F0(&v13);
  }
  if ( sub_10042E20((int)&v14) )
  {
    if ( !BYTE1(dword_10E82988) )
    {
LABEL_16:
      if ( !(_BYTE)dword_10E82988 && !HIWORD(dword_10E82988) )
      {
LABEL_19:
        if ( sub_10042E20((int)&v14) )
          dword_10E82988 = v14;
        goto LABEL_21;
      }
LABEL_18:
      if ( v15 <= 0x15180 )
        goto LABEL_21;
      goto LABEL_19;
    }
    if ( (_BYTE)dword_10E82988 && HIWORD(dword_10E82988) )
    {
      sub_10042B50((int *)&v24, dword_10E82988);
      sub_10042B50((int *)&v22, v14);
      if ( v22 <= v24 )
        v1 = v22 < v24 ? 0x15181 : 0;
      else
        v1 = v22 - v24;
      v15 = v1;
    }
  }
  if ( BYTE1(dword_10E82988) )
    goto LABEL_18;
  goto LABEL_16;
}
// 10055150: using guessed type int j_TSK_pvg_get_us_timer(void);
// 10E82988: using guessed type int dword_10E82988;
// 10E8E0E8: using guessed type int dword_10E8E0E8;

//----- (100027E0) --------------------------------------------------------
char __cdecl sub_100027E0(int a1, unsigned __int8 a2)
{
  _BYTE *v2; // eax@1
  unsigned int v3; // kr00_4@1
  int v4; // esi@1
  unsigned int v5; // eax@2
  char result; // al@5
  char v7[36]; // [sp+4h] [bp-28h]@1

  v2 = sub_10002C10();
  sub_10042590((int)v7, v2, 36);
  sub_10042750(v7, &word_10089C6C, 36);
  v3 = strlen(v7);
  v4 = 0;
  if ( (signed int)a2 <= 0 )
  {
LABEL_5:
    result = 1;
  }
  else
  {
    while ( 1 )
    {
      sub_10042590((int)&v7[v3], *(_BYTE **)(a1 + 4 * v4), 36 - v3);
      v5 = j_FIL_vfs_open(v7, 4, 0);
      if ( v5 >= 0xFFFFFFC2 || !v5 )
        break;
      sub_10055AA0(v5);
      if ( ++v4 >= a2 )
        goto LABEL_5;
    }
    result = 0;
  }
  return result;
}
// 10055B60: using guessed type int __cdecl j_FIL_vfs_open(_DWORD, _DWORD, _DWORD);
// 10089C6C: using guessed type __int16 word_10089C6C;
// 100027E0: using guessed type char var_28[36];

//----- (100028B0) --------------------------------------------------------
int __cdecl sub_100028B0(int a1)
{
  void *v1; // ecx@0
  int v2; // esi@1

  v2 = 9;
  if ( sub_10042FA0(v1) == 8 )
    v2 = 16;
  return sub_10055220(v2, a1);
}

//----- (100028E0) --------------------------------------------------------
void sub_100028E0()
{
  char v0; // al@8
  signed int v1; // eax@10
  char v2; // [sp+24h] [bp-ACh]@1
  char v3; // [sp+28h] [bp-A8h]@5
  char v4; // [sp+2Ch] [bp-A4h]@4
  __int16 v5; // [sp+30h] [bp-A0h]@4
  char v6; // [sp+32h] [bp-9Eh]@8
  int v7; // [sp+34h] [bp-9Ch]@8
  int v8; // [sp+38h] [bp-98h]@8
  double v9; // [sp+3Ch] [bp-94h]@8
  int v10; // [sp+44h] [bp-8Ch]@8
  int v11; // [sp+48h] [bp-88h]@8
  char v12; // [sp+4Eh] [bp-82h]@10
  int v13; // [sp+52h] [bp-7Eh]@10
  __int16 v14; // [sp+64h] [bp-6Ch]@8
  char v15; // [sp+68h] [bp-68h]@8
  char v16; // [sp+98h] [bp-38h]@5

  sub_100552F0(&v2);
  if ( !(v2 & 0x10) )
    sub_100429F0("..\\lib\\adl\\cht_rend_main.c", 118, 1, 0);
  while ( 1 )
  {
    if ( v2 & 2 && sub_10055080((int)&v5, (int)&v4) != 1 )
    {
      while ( sub_10055080((int)&v16, (int)&v3) != 1 )
        ;
      switch ( v5 )
      {
        case 0x800A:
          if ( sub_100551F0(4, -1) )
            break;
          v0 = sub_10001A00(v6, v7, v8, v9, v10, v11);
          v14 = -32757;
          v15 = v0;
          sub_100551F0(5, -1);
          sub_10055250(20, (int)&v14, 1, 1);
          sub_10055190(5);
          sub_10055190(4);
          sub_100552F0(&v2);
          continue;
        case 0x800B:
          sub_100028B0(0x800000);
          break;
        case 0x8006:
          v14 = -32756;
          v1 = sub_10001E10(v6, &v7, (int)&v12, v13);
          if ( v1 > 0 )
            *(_DWORD *)(dword_10E8E0E8 + 69308) = v1;
          sub_100551F0(5, -1);
          sub_10055250(20, (int)&v14, 1, 1);
          sub_10055190(5);
          sub_100552F0(&v2);
          continue;
        case 0x800C:
          sub_100028B0(0x1000000);
          break;
        default:
          break;
      }
    }
    sub_100552F0(&v2);
  }
}
// 10E8E0E8: using guessed type int dword_10E8E0E8;

//----- (10002AC0) --------------------------------------------------------
char __cdecl sub_10002AC0(void *a1)
{
  int (__cdecl *v1)(void *); // eax@3
  char result; // al@4

  memset(a1, 0, 0x98u);
  *(_BYTE *)a1 = 0;
  *((_WORD *)a1 + 69) = 0x7FFF;
  *((_DWORD *)a1 + 35) = -1;
  *((_DWORD *)a1 + 36) = -1;
  if ( dword_10E8E0E8 && dword_10E8E0F4 && (v1 = *(int (__cdecl **)(void *))(*(_DWORD *)dword_10E8E0F4 + 16)) != 0 )
    result = v1(a1);
  else
    result = 3;
  return result;
}
// 10E8E0E8: using guessed type int dword_10E8E0E8;
// 10E8E0F4: using guessed type int dword_10E8E0F4;

//----- (10002B30) --------------------------------------------------------
int (__cdecl *__cdecl sub_10002B30(_WORD *a1, _DWORD *a2))(_DWORD, _DWORD)
{
  int (__cdecl *result)(_DWORD, _DWORD); // eax@1

  *a1 = 0x7FFF;
  result = (int (__cdecl *)(_DWORD, _DWORD))-1;
  *a2 = -1;
  if ( dword_10E8E0E8 )
  {
    result = (int (__cdecl *)(_DWORD, _DWORD))dword_10E8E0F4;
    if ( dword_10E8E0F4 )
    {
      result = *(int (__cdecl **)(_DWORD, _DWORD))(*(_DWORD *)dword_10E8E0F4 + 20);
      if ( result )
        result = (int (__cdecl *)(_DWORD, _DWORD))result(a1, a2);
    }
  }
  return result;
}
// 10E8E0E8: using guessed type int dword_10E8E0E8;
// 10E8E0F4: using guessed type int dword_10E8E0F4;

//----- (10002B70) --------------------------------------------------------
char sub_10002B70()
{
  char v1; // [sp+1h] [bp-1h]@1

  v1 = 2;
  sub_10055E60(48, &v1);
  return v1;
}

//----- (10002B90) --------------------------------------------------------
char sub_10002B90()
{
  char result; // al@1
  int (*v1)(void); // ecx@3

  result = 10;
  if ( dword_10E8E0E8 && dword_10E8E0F4 )
  {
    v1 = *(int (**)(void))(*(_DWORD *)dword_10E8E0F4 + 32);
    if ( v1 )
      result = v1();
  }
  return result;
}
// 10E8E0E8: using guessed type int dword_10E8E0E8;
// 10E8E0F4: using guessed type int dword_10E8E0F4;

//----- (10002BC0) --------------------------------------------------------
bool sub_10002BC0()
{
  return (unsigned __int8)sub_10002B90() < 5u;
}

//----- (10002BD0) --------------------------------------------------------
int sub_10002BD0()
{
  unsigned __int8 v0; // bl@1
  int v1; // esi@2
  int result; // eax@2
  bool v3; // cf@2

  v0 = 0;
  if ( byte_108F194F )
  {
    do
    {
      v1 = v0;
      result = j_HWM_pvg_unmap_color((unsigned __int8)byte_108F1968[v0++]);
      v3 = v0 < (unsigned __int8)byte_108F194F;
      byte_108F1968[v1] = 0;
    }
    while ( v3 );
  }
  byte_108F194F = 0;
  return result;
}
// 10055460: using guessed type int __cdecl j_HWM_pvg_unmap_color(_DWORD);
// 108F194F: using guessed type char byte_108F194F;

//----- (10002C10) --------------------------------------------------------
void *sub_10002C10()
{
  return &unk_108F1950;
}

//----- (10002C20) --------------------------------------------------------
int __cdecl sub_10002C20(const char *a1)
{
  int result; // eax@1

  strcpy((char *)&unk_108F1940, a1);
  return result;
}

//----- (10002C40) --------------------------------------------------------
int __cdecl sub_10002C40(const char *a1)
{
  int result; // eax@1

  strcpy((char *)&unk_108F1950, a1);
  return result;
}

//----- (10002C60) --------------------------------------------------------
char *__cdecl sub_10002C60(int a1, char *a2)
{
  const char *v2; // ebx@1
  char *v3; // edi@1
  char v4; // al@2
  char *v5; // eax@3
  unsigned int v6; // eax@4
  const void *v7; // esi@4
  char *v8; // edi@4
  char v9; // cl@5
  char v10; // dl@7
  char v11; // cl@9
  char *result; // eax@10
  char v13; // cl@12

  v2 = strcpy(a2, (const char *)&unk_108F1950);
  v3 = (char *)(v2 - 1);
  do
    v4 = (v3++)[1];
  while ( v4 );
  *(_WORD *)v3 = 47;
  v5 = (char *)a1;
  if ( !memcmp((const void *)a1, "Arial", 6u) )
  {
    v6 = strlen((const char *)&unk_108F1940) + 1;
    v7 = &unk_108F1940;
    v8 = (char *)(v2 - 1);
    do
      v9 = (v8++)[1];
    while ( v9 );
  }
  else
  {
    do
      v10 = *v5++;
    while ( v10 );
    v6 = (unsigned int)&v5[-a1];
    v7 = (const void *)a1;
    v8 = (char *)(v2 - 1);
    do
      v11 = (v8++)[1];
    while ( v11 );
  }
  qmemcpy(v8, v7, v6);
  result = strstr(v2, ".jtf");
  if ( !result )
  {
    result = (char *)(v2 - 1);
    do
      v13 = (result++)[1];
    while ( v13 );
    *(_DWORD *)result = *(_DWORD *)".jtf";
    result[4] = a_jtf[4];
  }
  return result;
}

//----- (10002D40) --------------------------------------------------------
signed int __cdecl sub_10002D40(unsigned int a1)
{
  int v1; // edi@1
  signed int v2; // ebx@1

  v1 = sub_10055D60(a1, 0, 1);
  v2 = sub_10055D60(a1, 0, 2);
  sub_10055D60(a1, 0, v1);
  return v2;
}

//----- (10002D80) --------------------------------------------------------
int __cdecl sub_10002D80(int a1)
{
  return j_FIL_vfs_open(a1, 4, 0);
}
// 10055B60: using guessed type int __cdecl j_FIL_vfs_open(_DWORD, _DWORD, _DWORD);

//----- (10002DB0) --------------------------------------------------------
signed int __cdecl sub_10002DB0(unsigned int a1, void *a2, int a3, int a4)
{
  return sub_10055BB0(a1, a2, a3, a4, (unsigned __int64)a4 >> 32);
}

//----- (10002DD0) --------------------------------------------------------
signed int __cdecl sub_10002DD0(unsigned int a1, int a2, char a3)
{
  signed int result; // eax@3

  if ( a3 )
  {
    if ( a3 == 2 )
      result = sub_10055D60(a1, a2, 2);
    else
      result = sub_10055D60(a1, a2, 1);
  }
  else
  {
    result = sub_10055D60(a1, a2, 0);
  }
  return result;
}

//----- (10002E10) --------------------------------------------------------
int __cdecl sub_10002E10(int a1, int a2, int a3)
{
  int result; // eax@5
  unsigned __int8 v4; // cl@7
  char v5; // dl@10

  if ( (_BYTE)a1 != -1 && (_BYTE)a1 != -2 || (_BYTE)a2 || (_BYTE)a3 )
    result = j_HWM_pvg_get_color(a1, a2, a3);
  else
    result = j_HWM_pvg_get_color(112, 0, 0);
  v4 = 0;
  if ( byte_108F194F )
  {
    while ( byte_108F1968[v4] != (_BYTE)result )
    {
      if ( ++v4 >= (unsigned __int8)byte_108F194F )
        goto LABEL_10;
    }
  }
  else
  {
LABEL_10:
    v5 = byte_108F194F + 1;
    byte_108F1968[(unsigned __int8)byte_108F194F] = result;
    byte_108F194F = v5;
  }
  return result;
}
// 10055410: using guessed type int __cdecl j_HWM_pvg_get_color(_DWORD, _DWORD, _DWORD);
// 108F194F: using guessed type char byte_108F194F;

//----- (10002E80) --------------------------------------------------------
signed __int64 __thiscall sub_10002E80(void *this)
{
  return sub_10055E90(this);
}

//----- (10002E90) --------------------------------------------------------
int sub_10002E90()
{
  signed int v0; // esi@1
  int result; // eax@2

  byte_108F194F = 0;
  v0 = 0;
  do
    result = j_HWM_pvg_unmap_color(v0++);
  while ( v0 < 255 );
  return result;
}
// 10055460: using guessed type int __cdecl j_HWM_pvg_unmap_color(_DWORD);
// 108F194F: using guessed type char byte_108F194F;

//----- (10002EC0) --------------------------------------------------------
int __thiscall sub_10002EC0(void *this)
{
  int v1; // esi@1

  v1 = 9;
  if ( sub_10042FA0(this) == 8 )
    v1 = 16;
  sub_10055220(v1, 0x2000000);
  return sub_10001050(1);
}

//----- (10002F00) --------------------------------------------------------
char __cdecl sub_10002F00(char a1)
{
  return sub_10066810(a1, -122);
}

//----- (10002F20) --------------------------------------------------------
char sub_10002F20()
{
  sub_10066800();
  return sub_10002F00(0);
}

//----- (10002F30) --------------------------------------------------------
int __cdecl sub_10002F30(unsigned int a1, unsigned int *a2)
{
  int result; // eax@2

  if ( a2 )
    result = sub_1006F210(a1, *a2);
  else
    result = 0;
  return result;
}

//----- (10002F50) --------------------------------------------------------
int *__cdecl sub_10002F50(unsigned int a1, unsigned int *a2)
{
  int *result; // eax@1

  result = (int *)a2;
  if ( a2 )
    result = sub_1006F2C0(a1, *a2);
  return result;
}

//----- (10002F70) --------------------------------------------------------
void *__cdecl sub_10002F70(void *a1, unsigned int a2, unsigned int *a3)
{
  void *result; // eax@2

  if ( a3 )
    result = sub_1006F470(a1, a2, *a3);
  else
    result = 0;
  return result;
}

//----- (10002F90) --------------------------------------------------------
int sub_10002F90()
{
  dword_108F1AF4 = 0;
  byte_108F1FAC = 0;
  dword_108F1AF0 = -15;
  byte_108F1A6A = j_HWM_pvg_read_reg(17) == 0;
  return unknown_libname_6();
}
// 10055450: using guessed type int __cdecl j_HWM_pvg_read_reg(_DWORD);
// 10070450: using guessed type int unknown_libname_6(void);
// 108F1A6A: using guessed type char byte_108F1A6A;
// 108F1AF0: using guessed type int dword_108F1AF0;
// 108F1AF4: using guessed type int dword_108F1AF4;
// 108F1FAC: using guessed type char byte_108F1FAC;

//----- (10002FC0) --------------------------------------------------------
signed int __cdecl sub_10002FC0(int a1, int a2, int a3)
{
  signed int result; // eax@3

  if ( byte_10F8E1D8 || sub_10055DA0(38, a1, a2, a3) )
    result = -1;
  else
    result = 0;
  return result;
}
// 10F8E1D8: using guessed type char byte_10F8E1D8;

//----- (10003000) --------------------------------------------------------
int __usercall sub_10003000@<eax>(int a1@<eax>, const char *a2@<edi>, int a3@<esi>, _BYTE *a4)
{
  int v5; // [sp+0h] [bp-4h]@0

  sub_10042590((int)a2, off_1008B40C[a1], v5);
  return sub_10042750(a2, a4, a3);
}
// 1008B40C: using guessed type char *off_1008B40C[3];

//----- (10003020) --------------------------------------------------------
int __cdecl sub_10003020(const char *a1, int a2, _BYTE *a3, void *a4)
{
  unsigned int v4; // ebx@1
  int result; // eax@1

  v4 = dword_108F1AF4;
  for ( result = -1; v4 < 3; ++v4 )
  {
    if ( !result )
      break;
    sub_10003000(v4, a1, a2, a3);
    result = sub_10043C40((int)a1, 4, a4, (int)&unk_1008B418);
    if ( !result )
      dword_108F1AF4 = v4;
  }
  return result;
}
// 108F1AF4: using guessed type int dword_108F1AF4;

//----- (10003080) --------------------------------------------------------
signed int __cdecl sub_10003080(int a1)
{
  int v1; // ecx@0
  int v2; // edi@1
  bool v3; // zf@1
  unsigned int v4; // esi@2
  int v5; // ebp@2
  void *v6; // edi@3
  char *v7; // ebx@14
  int v8; // esi@16
  int v9; // eax@19
  signed int v10; // eax@30
  signed int v11; // eax@31
  char v13; // [sp+13h] [bp-149h]@1
  int v14; // [sp+14h] [bp-148h]@1
  char *v15; // [sp+18h] [bp-144h]@2
  char v16; // [sp+1Ch] [bp-140h]@24
  int v17; // [sp+34h] [bp-128h]@25
  char v18; // [sp+58h] [bp-104h]@2
  char v19; // [sp+D8h] [bp-84h]@19

  v2 = v1;
  v3 = (*(_BYTE *)(v1 + 34) & 1) == 0;
  v14 = v1;
  v13 = 1;
  if ( v3 )
  {
    v7 = (char *)&unk_108F1A70;
    v5 = a1 + 18;
    v15 = (char *)&unk_108F1A70;
    if ( !dword_108F1AF0 && !strcmp(&byte_108F1FAC, (const char *)(a1 + 18)) )
    {
      v13 = 0;
      v8 = 0;
      goto LABEL_23;
    }
    v13 = 1;
    sub_10042590((int)&byte_108F1FAC, (_BYTE *)v5, 13);
  }
  else
  {
    v4 = 0;
    v5 = v1 + 82;
    v15 = &v18;
    if ( dword_108F1FA8 <= 0 )
    {
LABEL_13:
      sub_10042590((int)&unk_108F1AF8 + 10 * v4, (_BYTE *)v5, 10);
      ++dword_108F1FA8;
    }
    else
    {
      v6 = &unk_108F1AF8;
      while ( v13 )
      {
        if ( *(_BYTE *)v6 == *(_BYTE *)v5
          && *((_BYTE *)v6 + 1) == *(_BYTE *)(v5 + 1)
          && !strcmp((const char *)v6, (const char *)v5) )
        {
          v13 = 0;
        }
        ++v4;
        v6 = (char *)v6 + 10;
        if ( (signed int)v4 >= dword_108F1FA8 )
        {
          if ( v13 && v4 < 0x78 )
          {
            v2 = v14;
            goto LABEL_13;
          }
          break;
        }
      }
      v2 = v14;
    }
  }
  v9 = sub_10003020(&v19, 128, (_BYTE *)v5, v15);
  v8 = v9;
  if ( !(*(_BYTE *)(v2 + 34) & 1) )
    dword_108F1AF0 = v9;
  if ( v9 )
    return -15;
  v7 = v15;
LABEL_23:
  if ( byte_108F1A69 || (v8 = sub_10045190((int)v7, (char *)(v2 + 6), &v16)) == 0 && *(_DWORD *)(v2 + 28) == v17 )
  {
    if ( v13 && !byte_108F1A68 )
    {
      if ( byte_108F1A6A )
      {
        v10 = j_FIL_vfs_crc32(*((_DWORD *)v7 + 29), 0, 0, &v14);
      }
      else
      {
        v11 = sub_10043D40((int)v7);
        v10 = sub_10045020((int)v7, 0, v11 - 1);
      }
      v8 = v10;
    }
  }
  else
  {
    v8 = -15;
  }
  if ( *(_BYTE *)(v2 + 34) & 1 )
  {
    j_FIL_vfs_clean_invalidate_cache(*((_DWORD *)v7 + 29));
    sub_10043BE0(v7);
  }
  return v8;
}
// 10055A90: using guessed type int __cdecl j_FIL_vfs_clean_invalidate_cache(_DWORD);
// 10055AE0: using guessed type int __cdecl j_FIL_vfs_crc32(_DWORD, _DWORD, _DWORD, _DWORD);
// 108F1A68: using guessed type char byte_108F1A68;
// 108F1A69: using guessed type char byte_108F1A69;
// 108F1A6A: using guessed type char byte_108F1A6A;
// 108F1AF0: using guessed type int dword_108F1AF0;
// 108F1FA8: using guessed type int dword_108F1FA8;
// 108F1FAC: using guessed type char byte_108F1FAC;

//----- (100032B0) --------------------------------------------------------
signed int sub_100032B0()
{
  signed int v0; // eax@1
  unsigned int v1; // edi@1
  signed int v2; // esi@1
  unsigned int v3; // ebp@5
  signed int v4; // edi@8
  bool v5; // sf@16
  unsigned __int8 v6; // of@16
  int v8; // [sp+10h] [bp-208h]@1
  unsigned int v9; // [sp+14h] [bp-204h]@1
  char v10; // [sp+18h] [bp-200h]@10
  char v11; // [sp+1Ch] [bp-1FCh]@7
  unsigned __int16 v12; // [sp+2Ch] [bp-1ECh]@8
  char v13; // [sp+48h] [bp-1D0h]@10

  sub_100550B0();
  v0 = sub_10070A30(&v9);
  v1 = v9;
  v2 = v0;
  v8 = 0;
  do
  {
    dword_108F1AF0 = -15;
    byte_108F1FAC = 0;
    dword_108F1FA8 = 0;
    memset(&unk_108F1AF8, 0, 0x4B0u);
    if ( v8 )
    {
      byte_108F1A68 = 0;
      byte_108F1A69 = 1;
    }
    else
    {
      byte_108F1A68 = 1;
      byte_108F1A69 = 0;
    }
    v3 = 0;
    if ( v1 > 0 )
    {
      do
      {
        if ( v2 )
          break;
        v2 = sub_10070A70(&v11, v3);
        if ( !v2 )
        {
          v4 = 0;
          if ( v12 > 0u )
          {
            do
            {
              if ( v2 )
                break;
              v2 = sub_10071040((int)&v11, (int)&v13, (int *)&v10, v4);
              if ( !v2 )
                v2 = sub_10003080((int)&v11);
              ++v4;
            }
            while ( v4 < v12 );
          }
          if ( !dword_108F1AF0 )
          {
            dword_108F1AF0 = -15;
            byte_108F1FAC = 0;
            j_FIL_vfs_clean_invalidate_cache(dword_108F1AE4);
            sub_10043BE0(&unk_108F1A70);
          }
        }
        v1 = v9;
        ++v3;
      }
      while ( v3 < v9 );
    }
    v6 = __OFSUB__(v8 + 1, 2);
    v5 = v8++ - 1 < 0;
  }
  while ( v5 ^ v6 );
  return v2;
}
// 10055A90: using guessed type int __cdecl j_FIL_vfs_clean_invalidate_cache(_DWORD);
// 108F1A68: using guessed type char byte_108F1A68;
// 108F1A69: using guessed type char byte_108F1A69;
// 108F1AE4: using guessed type int dword_108F1AE4;
// 108F1AF0: using guessed type int dword_108F1AF0;
// 108F1FA8: using guessed type int dword_108F1FA8;
// 108F1FAC: using guessed type char byte_108F1FAC;

//----- (10003430) --------------------------------------------------------
unsigned int __cdecl sub_10003430(int a1)
{
  unsigned int result; // eax@1

  result = j_FIL_vfs_open(a1, 4, 1911);
  if ( result >= 0xFFFFFFC2 || !result )
    result = 0;
  return result;
}
// 10055B60: using guessed type int __cdecl j_FIL_vfs_open(_DWORD, _DWORD, _DWORD);

//----- (10003460) --------------------------------------------------------
_DWORD *__cdecl sub_10003460(_DWORD *a1, _DWORD *a2)
{
  void *v2; // ecx@0
  signed __int64 v3; // rax@1
  _DWORD *result; // eax@1

  v3 = sub_10055E90(v2);
  *a1 = v3;
  result = a2;
  *a2 = HIDWORD(v3);
  return result;
}

//----- (10003480) --------------------------------------------------------
int __cdecl sub_10003480(int a1, unsigned int a2)
{
  return sub_1006F210(a2, dword_108F1FBC);
}
// 108F1FBC: using guessed type int dword_108F1FBC;

//----- (100034E0) --------------------------------------------------------
unsigned int __cdecl sub_100034E0(int a1, unsigned __int16 a2, size_t a3, int a4)
{
  return sub_10045410(a1, a2, (unsigned __int16)a3, a4);
}

//----- (10003500) --------------------------------------------------------
int __cdecl sub_10003500(int a1)
{
  int result; // eax@1

  result = a1;
  dword_108F1FBC = a1;
  return result;
}
// 108F1FBC: using guessed type int dword_108F1FBC;

//----- (10003510) --------------------------------------------------------
int __usercall sub_10003510@<eax>(__int16 a1@<di>, int a2@<esi>)
{
  int result; // eax@2
  __int16 v3; // bx@3
  int v4; // ecx@3
  int v5; // eax@3

  if ( a1 )
  {
    v3 = sub_10070110(a1);
    v4 = (signed __int16)sub_100700B0(a1);
    v5 = 2 * v3;
    *(_DWORD *)a2 = v5;
    *(_DWORD *)(a2 + 12) = v5;
    *(_DWORD *)(a2 + 4) = -2 * v4;
    *(_DWORD *)(a2 + 8) = 2 * v4;
    result = a2;
  }
  else
  {
    *(_DWORD *)(a2 + 4) = 0;
    *(_DWORD *)(a2 + 8) = 0;
    *(_DWORD *)a2 = 65534;
    *(_DWORD *)(a2 + 12) = 65534;
    result = a2;
  }
  return result;
}

//----- (10003570) --------------------------------------------------------
int __usercall sub_10003570@<eax>(int a1@<eax>, int a2@<esi>, float a3, int a4, int a5, int a6, int a7)
{
  int v7; // ebp@1
  signed int v8; // edi@1
  signed int v9; // eax@1
  __int16 v10; // di@2
  __int16 v11; // ax@2
  int v12; // edi@3
  signed int v13; // ebx@3
  int v14; // ecx@6
  int result; // eax@7
  int v16; // [sp+Ch] [bp-10h]@2
  int v17; // [sp+10h] [bp-Ch]@2
  int v18; // [sp+14h] [bp-8h]@2
  int v19; // [sp+18h] [bp-4h]@2
  int v20; // [sp+24h] [bp+8h]@1

  v7 = a4;
  *(float *)&v20 = (double)(unsigned int)dword_109B41A0 * a3 / 72.0 / (double)*(_WORD *)(a1 + 76);
  v8 = (signed int)((double)*(signed int *)(a1 + 68) * *(float *)&v20) >> 1;
  v9 = (signed int)(*(float *)&v20 * (double)*(signed int *)(a1 + 72));
  *(_DWORD *)a2 = 0;
  *(_DWORD *)(a2 + 4) = (v9 - 1) / 2;
  *(_DWORD *)(a2 + 8) = v8 / 2;
  *(_DWORD *)(a2 + 12) = v9 - 1;
  *(_DWORD *)(a2 + 16) = v8;
  *(_DWORD *)(a2 + 20) = (v9 - 1) / 2;
  *(_DWORD *)(a2 + 24) = v8 / 2;
  *(_DWORD *)(a2 + 28) = 0;
  if ( (_WORD)v7 )
  {
    v10 = sub_10070110(v7);
    v11 = sub_100700B0(v7);
    v16 = 2 * v10;
    v17 = -2 * v11;
    v18 = 2 * v11;
    v19 = 2 * v10;
  }
  v12 = a2;
  v13 = 4;
  do
  {
    if ( (_WORD)v7 )
      sub_100589F0(v12, (int)&v16);
    v14 = a6 - *(_DWORD *)(v12 + 4);
    *(_DWORD *)v12 += a5;
    *(_DWORD *)(v12 + 4) = v14;
    v12 += 8;
    --v13;
  }
  while ( v13 );
  result = a7;
  *(_DWORD *)a7 = *(_DWORD *)(a2 + 16) - *(_DWORD *)a2;
  *(_DWORD *)(a7 + 4) = *(_DWORD *)(a2 + 20) - *(_DWORD *)(a2 + 4);
  return result;
}
// 109B41A0: using guessed type int dword_109B41A0;

//----- (10003690) --------------------------------------------------------
char *sub_10003690()
{
  char *result; // eax@1
  unsigned __int8 v1; // cl@1
  int v2; // ecx@5

  result = 0;
  v1 = 0;
  while ( byte_109B1FE2[288 * v1] != -1 )
  {
    if ( ++v1 >= 0x1Eu )
      return result;
  }
  v2 = 288 * v1;
  result = (char *)&unk_109B1FE0 + v2;
  byte_109B1FE2[v2] = 0;
  return result;
}

//----- (100036D0) --------------------------------------------------------
char __usercall sub_100036D0@<al>(int *a1@<edx>, int *a2, char a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  int *v74; // ecx@1
  unsigned int v75; // esi@1
  unsigned int v76; // eax@2
  char *v77; // ecx@4
  _DWORD *v78; // edx@4
  int v79; // edi@8
  int v80; // eax@9
  _BYTE *v81; // ecx@9
  _BYTE *v82; // edx@9
  int v83; // eax@11
  _BYTE *v84; // ecx@11
  _BYTE *v85; // edx@11
  _BYTE *v86; // ecx@13
  _BYTE *v87; // edx@13
  signed int v88; // eax@15
  int v89; // eax@22
  char result; // al@23
  int v91; // eax@24
  int *v92; // ecx@24
  int v93; // eax@28
  unsigned int *v94; // ebx@28
  unsigned int v95; // edi@28
  int v96; // eax@32
  _DWORD *v97; // ebp@33
  char v98; // al@33
  unsigned int v99; // eax@35
  unsigned int *v100; // ecx@35
  unsigned int v101; // eax@35
  double v102; // st7@36
  unsigned int v103; // eax@36
  int v104; // esi@37
  int *v105; // ebx@38
  int v106; // esi@38
  int v107; // ebp@39
  int v108; // eax@43
  int *v109; // ecx@43
  int v110; // eax@43
  char v111; // al@47
  signed int v112; // ecx@50
  int v113; // eax@50
  char v114; // bl@51
  bool v115; // zf@51
  __int16 v116; // bp@55
  int v117; // eax@57
  char v118; // al@59
  char v119; // al@65
  int v120; // eax@67
  int *v121; // [sp+10h] [bp-118h]@1
  int *v122; // [sp+14h] [bp-114h]@1
  char v123; // [sp+18h] [bp-110h]@1
  unsigned __int16 v124; // [sp+118h] [bp-10h]@2
  int v125; // [sp+11Ch] [bp-Ch]@19
  float v126; // [sp+120h] [bp-8h]@29

  qmemcpy(&v123, &a3, 0x10Cu);
  v74 = a72;
  *a2 = 0;
  v75 = dword_109B1FC8;
  v121 = v74;
  v122 = a1;
  if ( (int *)dword_109B1FC8 != &dword_109B1FC8 )
  {
    LOWORD(v76) = v124;
    do
    {
      if ( *(_WORD *)(v75 + 264) != (_WORD)v76 )
        goto LABEL_21;
      v76 = (unsigned __int16)v76;
      v77 = &v123;
      v78 = (_DWORD *)(v75 + 8);
      if ( (unsigned __int16)v76 < 4u )
      {
LABEL_7:
        if ( !v76 )
          goto LABEL_17;
      }
      else
      {
        while ( *v78 == *(_DWORD *)v77 )
        {
          v76 -= 4;
          v77 += 4;
          ++v78;
          if ( v76 < 4 )
            goto LABEL_7;
        }
      }
      v79 = *(_BYTE *)v78 - (unsigned __int8)*v77;
      if ( *(_BYTE *)v78 != (unsigned __int8)*v77
        || (v80 = v76 - 1, v81 = v77 + 1, v82 = (char *)v78 + 1, v80)
        && ((v79 = *v82 - *v81, *v82 != *v81)
         || (v83 = v80 - 1, v84 = v81 + 1, v85 = v82 + 1, v83)
         && ((v79 = *v85 - *v84, *v85 != *v84)
          || (v86 = v84 + 1, v87 = v85 + 1, v83 != 1) && (v79 = *v87 - *v86, *v87 != *v86))) )
      {
        v88 = 1;
        if ( v79 <= 0 )
          v88 = -1;
        goto LABEL_18;
      }
LABEL_17:
      v88 = 0;
LABEL_18:
      if ( !v88 && *(_DWORD *)(v75 + 268) == v125 )
      {
        v91 = *(_DWORD *)v75;
        v92 = *(int **)(v75 + 4);
        *(_DWORD *)(v91 + 4) = v92;
        *v92 = v91;
        goto LABEL_28;
      }
      LOWORD(v76) = v124;
LABEL_21:
      v75 = *(_DWORD *)v75;
    }
    while ( (int *)v75 != &dword_109B1FC8 );
  }
  v89 = sub_1006F210(0x124u, dword_109B41A8);
  v75 = v89;
  if ( !v89 )
  {
    byte_109B41A4 = 1;
    return 0;
  }
  if ( (unsigned __int8)sub_10059650(dword_108F1FC0, (int)&v123, v125, (_DWORD *)(v89 + 276)) )
  {
    byte_109B41A4 = 1;
    sub_1006F2C0(v75, dword_109B41A8);
    return 0;
  }
  *(_WORD *)(v75 + 264) = v124;
  memcpy((void *)(v75 + 8), &v123, v124);
  *(_DWORD *)(v75 + 268) = v125;
  ++byte_109B41A5;
  *(_DWORD *)(v75 + 280) = v75 + 280;
  *(_DWORD *)(v75 + 284) = v75 + 280;
  *(_WORD *)(v75 + 288) = 0;
LABEL_28:
  *(_DWORD *)v75 = v75;
  *(_DWORD *)(v75 + 4) = v75;
  v93 = dword_109B1FC8;
  *(_DWORD *)(dword_109B1FC8 + 4) = v75;
  *(_DWORD *)v75 = v93;
  *(_DWORD *)(v75 + 4) = &dword_109B1FC8;
  v94 = (unsigned int *)(v75 + 280);
  dword_109B1FC8 = v75;
  v95 = *(_DWORD *)(v75 + 280);
  if ( v95 == v75 + 280 )
  {
LABEL_32:
    v96 = sub_1006F210(0x1Cu, dword_109B41A8);
    v95 = v96;
    if ( !v96 )
      goto LABEL_46;
    v97 = (_DWORD *)(v96 + 12);
    v98 = sub_10059F30(*(_DWORD *)(v75 + 276), (int *)(v96 + 12));
    if ( v98 )
    {
      byte_109B41A4 |= v98 == 64;
      sub_1006F2C0(v95, dword_109B41A8);
      return 0;
    }
    v102 = v126;
    *(_DWORD *)v95 = v95;
    *(float *)(v95 + 8) = v102;
    *(_DWORD *)(v95 + 4) = v95;
    *(_WORD *)(v95 + 24) = 0;
    *(_DWORD *)(v95 + 16) = v95 + 16;
    *(_DWORD *)(v95 + 20) = v95 + 16;
    v103 = *v94;
    *(_DWORD *)(v103 + 4) = v95;
    *(_DWORD *)v95 = v103;
    *(_DWORD *)(v95 + 4) = v94;
    *v94 = v95;
    ++*(_WORD *)(v75 + 288);
    *(_DWORD *)(*(_DWORD *)(v75 + 276) + 96) = *v97;
    sub_1005A150(
      *(_DWORD *)(v75 + 276),
      (signed int)(v126 * 64.0),
      (signed int)(v126 * 64.0),
      dword_108F1FC4,
      dword_109B41A0);
  }
  else
  {
    while ( v126 != *(float *)(v95 + 8) || **(_DWORD **)(v95 + 12) != *(_DWORD *)(v75 + 276) )
    {
      v95 = *(_DWORD *)v95;
      if ( (unsigned int *)v95 == v94 )
        goto LABEL_32;
    }
    v99 = *(_DWORD *)v95;
    v100 = *(unsigned int **)(v95 + 4);
    *(_DWORD *)(v99 + 4) = v100;
    *v100 = v99;
    *(_DWORD *)v95 = v95;
    *(_DWORD *)(v95 + 4) = v95;
    v101 = *v94;
    *(_DWORD *)(v101 + 4) = v95;
    *(_DWORD *)v95 = v101;
    *(_DWORD *)(v95 + 4) = v94;
    *v94 = v95;
  }
  v104 = *(_DWORD *)(v75 + 276);
  *a2 = v104;
  *(_DWORD *)(v104 + 96) = *(_DWORD *)(v95 + 12);
  if ( !v121 )
    return 1;
  v105 = (int *)(v95 + 16);
  *v121 = 0;
  v106 = *(_DWORD *)(v95 + 16);
  if ( v106 != v95 + 16 )
  {
    while ( 1 )
    {
      v107 = a70;
      if ( a70 == *(_DWORD *)(v106 + 8) && *(_DWORD *)(v106 + 12) == a71 )
        break;
      v106 = *(_DWORD *)v106;
      if ( (int *)v106 == v105 )
        goto LABEL_45;
    }
    v108 = *(_DWORD *)v106;
    v109 = *(int **)(v106 + 4);
    *(_DWORD *)(v108 + 4) = v109;
    *v109 = v108;
    *(_DWORD *)v106 = v106;
    *(_DWORD *)(v106 + 4) = v106;
    v110 = *v105;
    *(_DWORD *)(v110 + 4) = v106;
    *(_DWORD *)v106 = v110;
    *(_DWORD *)(v106 + 4) = v105;
    *v105 = v106;
    goto LABEL_51;
  }
  v107 = a70;
LABEL_45:
  v106 = sub_1006F210(0x1Cu, dword_109B41A8);
  if ( !v106 )
  {
LABEL_46:
    byte_109B41A4 = 1;
    return 0;
  }
  v111 = sub_10059600(*a2, v107, a71);
  if ( v111 || (v111 = sub_10056BD0(*(_DWORD *)(*a2 + 92), (_DWORD *)(v106 + 16))) != 0 )
  {
    byte_109B41A4 |= v111 == 64;
    sub_1006F2C0(v106, dword_109B41A8);
    return 0;
  }
  v112 = a71;
  *(_DWORD *)v106 = v106;
  *(_DWORD *)(v106 + 4) = v106;
  *(_DWORD *)(v106 + 8) = v107;
  *(_DWORD *)(v106 + 12) = v112;
  *(_WORD *)(v106 + 24) = -1;
  *(_DWORD *)(v106 + 20) = 0;
  v113 = *v105;
  *(_DWORD *)(v113 + 4) = v106;
  *(_DWORD *)v106 = v113;
  *(_DWORD *)(v106 + 4) = v105;
  *v105 = v106;
  ++*(_WORD *)(v95 + 24);
LABEL_51:
  v114 = a73;
  v115 = a73 == 1;
  *v121 = 0;
  if ( v115 )
  {
    *v121 = *(_DWORD *)(v106 + 16);
    return 1;
  }
  v116 = a74;
  if ( !v114 && *(_WORD *)(v106 + 24) == a74 )
  {
    v117 = *(_DWORD *)(v106 + 20);
    if ( v117 )
    {
      *v121 = v117;
      return 1;
    }
  }
  v118 = sub_10056AA0(*(_DWORD *)(v106 + 16), v121);
  if ( v118 )
  {
    byte_109B41A4 |= v118 == 64;
    result = 0;
  }
  else
  {
    if ( v122 )
    {
      if ( v116 )
        sub_10056CA0(*v121, v122, 0);
    }
    if ( v114 )
      return 1;
    sub_10056EF0(*(_DWORD *)(v106 + 20));
    *(_DWORD *)(v106 + 20) = 0;
    v119 = sub_10056D50(v121, 2, 0, 1);
    if ( !v119 )
    {
      *(_WORD *)(v106 + 24) = v116;
      *(_DWORD *)(v106 + 20) = *v121;
      return 1;
    }
    v115 = v119 == 64;
    v120 = *v121;
    byte_109B41A4 |= v115;
    sub_10056EF0(v120);
    *v121 = 0;
    result = 0;
  }
  return result;
}
// 100036D0: too many input arguments, some ignored
// 108F1FC0: using guessed type int dword_108F1FC0;
// 108F1FC4: using guessed type int dword_108F1FC4;
// 109B1FC8: using guessed type int dword_109B1FC8;
// 109B41A0: using guessed type int dword_109B41A0;
// 109B41A4: using guessed type char byte_109B41A4;
// 109B41A5: using guessed type char byte_109B41A5;

//----- (10003C20) --------------------------------------------------------
int __thiscall sub_10003C20(int this)
{
  unsigned __int8 v1; // al@2
  int result; // eax@5

  result = 0;
  if ( this )
  {
    v1 = *(_BYTE *)(this + 276);
    if ( v1 < 0x1Eu && (_UNKNOWN *)((char *)&unk_109B1FE0 + 288 * v1) == (_UNKNOWN *)this && *(_BYTE *)(this + 2) != -1 )
      result = 1;
  }
  return result;
}

//----- (10003C50) --------------------------------------------------------
void *__usercall sub_10003C50@<eax>(int a1@<eax>)
{
  *(_WORD *)a1 = 288;
  *(_BYTE *)(a1 + 2) = -1;
  *(_BYTE *)(a1 + 3) = 2;
  *(_DWORD *)(a1 + 4) = 0;
  return memset((void *)(a1 + 8), 0, 0x10Cu);
}

//----- (10003C80) --------------------------------------------------------
char __usercall sub_10003C80@<al>(int a1@<edi>)
{
  unsigned int v1; // esi@1
  char result; // al@1
  int v3; // eax@2
  _DWORD *v4; // ecx@2

  v1 = *(_DWORD *)(a1 + 20);
  result = 0;
  if ( v1 != a1 + 16 )
  {
    v3 = *(_DWORD *)v1;
    v4 = *(_DWORD **)(v1 + 4);
    *(_DWORD *)(v3 + 4) = v4;
    *v4 = v3;
    sub_10056EF0(*(_DWORD *)(v1 + 16));
    sub_10056EF0(*(_DWORD *)(v1 + 20));
    sub_1006F2C0(v1, dword_109B41A8);
    --*(_WORD *)(a1 + 24);
    result = 1;
  }
  return result;
}

//----- (10003CD0) --------------------------------------------------------
char __usercall sub_10003CD0@<al>(int a1@<esi>)
{
  unsigned int v1; // edi@1
  char result; // al@1
  int v3; // eax@3
  _DWORD *v4; // ecx@3

  v1 = *(_DWORD *)(a1 + 284);
  result = 0;
  if ( v1 != a1 + 280 )
  {
    while ( sub_10003C80(v1) )
      ;
    v3 = *(_DWORD *)v1;
    v4 = *(_DWORD **)(v1 + 4);
    *(_DWORD *)(v3 + 4) = v4;
    *v4 = v3;
    sub_1005A060(*(int **)(v1 + 12));
    sub_1006F2C0(v1, dword_109B41A8);
    --*(_WORD *)(a1 + 288);
    result = 1;
  }
  return result;
}

//----- (10003D20) --------------------------------------------------------
char __cdecl sub_10003D20(int a1)
{
  int v1; // ecx@1
  char result; // al@2

  if ( (unsigned __int8)sub_10003C20(a1) )
  {
    sub_10003C50(v1);
    result = 0;
  }
  else
  {
    result = -15;
  }
  return result;
}

//----- (10003D40) --------------------------------------------------------
char __cdecl sub_10003D40(void *a1, float a2, int a3)
{
  char result; // al@2
  char *v4; // eax@3

  if ( a3 )
  {
    v4 = sub_10003690();
    *(_DWORD *)a3 = v4;
    if ( v4 )
    {
      *((_WORD *)v4 + 132) = strlen((const char *)a1) + 1;
      memcpy((void *)(*(_DWORD *)a3 + 8), a1, *(_WORD *)(*(_DWORD *)a3 + 264));
      *(_DWORD *)(*(_DWORD *)a3 + 268) = 0;
      *(float *)(*(_DWORD *)a3 + 272) = sub_10070210(a2, 0.25);
      result = 0;
    }
    else
    {
      result = -16;
    }
  }
  else
  {
    result = -15;
  }
  return result;
}

//----- (10003DD0) --------------------------------------------------------
char sub_10003DD0()
{
  unsigned __int8 v0; // bl@1
  _BYTE *v1; // esi@1
  signed int v2; // eax@3

  dword_109B1FD8 = (int)&unk_108F1FC8;
  dword_109B1FDC = 786432;
  dword_109B1FD4 = 0;
  dword_109B1FD0 = 0;
  sub_10003460(&dword_108F1FC4, &dword_109B41A0);
  v0 = 0;
  v1 = &unk_109B20F4;
  do
  {
    sub_10003C50((int)(v1 - 276));
    *v1 = v0++;
    v1 += 288;
  }
  while ( v0 < 0x1Eu );
  dword_109B41A8 = sub_1006F580((int)&dword_109B1FD0);
  sub_10003500(dword_109B41A8);
  byte_109B41A4 = 0;
  dword_109B1FC8 = (int)&dword_109B1FC8;
  dword_109B1FCC = (int)&dword_109B1FC8;
  byte_109B41A5 = 0;
  v2 = sub_1005AC20(&dword_108F1FC0);
  if ( v2 )
    LOBYTE(v2) = sub_100429F0("..\\lib\\adl\\ttf_text.c", 621, 1, 0);
  return v2;
}
// 108F1FC0: using guessed type int dword_108F1FC0;
// 108F1FC4: using guessed type int dword_108F1FC4;
// 109B1FC8: using guessed type int dword_109B1FC8;
// 109B1FCC: using guessed type int dword_109B1FCC;
// 109B1FD0: using guessed type int dword_109B1FD0;
// 109B1FD4: using guessed type int dword_109B1FD4;
// 109B1FD8: using guessed type int dword_109B1FD8;
// 109B1FDC: using guessed type int dword_109B1FDC;
// 109B41A0: using guessed type int dword_109B41A0;
// 109B41A4: using guessed type char byte_109B41A4;
// 109B41A5: using guessed type char byte_109B41A5;

//----- (10003E90) --------------------------------------------------------
char __cdecl sub_10003E90(int a1)
{
  int v1; // ebp@1
  char v2; // bl@1
  _DWORD **v3; // edi@2
  unsigned int v4; // esi@2
  int v5; // eax@3
  _DWORD *v6; // ecx@3
  char result; // al@8

  v1 = dword_109B1FCC;
  v2 = 0;
  if ( (int *)dword_109B1FCC == &dword_109B1FC8 )
  {
    result = 0;
  }
  else
  {
    do
    {
      v3 = (_DWORD **)(v1 + 4);
      v4 = v1;
      v1 = *(_DWORD *)(v1 + 4);
      sub_10003CD0(v4);
      if ( !*(_WORD *)(v4 + 288) )
      {
        v5 = *(_DWORD *)v4;
        v6 = *v3;
        *(_DWORD *)(v5 + 4) = *v3;
        *v6 = v5;
        sub_10059D10(*(_DWORD *)(v4 + 276));
        sub_1006F2C0(v4, dword_109B41A8);
        --byte_109B41A5;
        v2 = 1;
      }
      if ( (int *)v1 == &dword_109B1FC8 )
        v1 = dword_109B1FCC;
      --a1;
    }
    while ( a1 > 0 && (int *)v1 != &dword_109B1FC8 );
    result = v2;
  }
  return result;
}
// 109B1FC8: using guessed type int dword_109B1FC8;
// 109B1FCC: using guessed type int dword_109B1FCC;
// 109B41A5: using guessed type char byte_109B41A5;

//----- (10003F20) --------------------------------------------------------
char __cdecl sub_10003F20(int *a1, char a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  signed int v74; // ebx@1
  char v75; // bl@3
  char result; // al@6
  char v77; // [sp-120h] [bp-278h]@6
  int v78; // [sp-11Ch] [bp-274h]@6
  int v79; // [sp-118h] [bp-270h]@6
  int v80; // [sp-114h] [bp-26Ch]@6
  int v81; // [sp-110h] [bp-268h]@6
  int v82; // [sp-10Ch] [bp-264h]@6
  int v83; // [sp-108h] [bp-260h]@6
  int v84; // [sp-104h] [bp-25Ch]@6
  int v85; // [sp-100h] [bp-258h]@6
  int v86; // [sp-FCh] [bp-254h]@6
  int v87; // [sp-F8h] [bp-250h]@6
  int v88; // [sp-F4h] [bp-24Ch]@6
  int v89; // [sp-F0h] [bp-248h]@6
  int v90; // [sp-ECh] [bp-244h]@6
  int v91; // [sp-E8h] [bp-240h]@6
  int v92; // [sp-E4h] [bp-23Ch]@6
  int v93; // [sp-E0h] [bp-238h]@6
  int v94; // [sp-DCh] [bp-234h]@6
  int v95; // [sp-D8h] [bp-230h]@6
  int v96; // [sp-D4h] [bp-22Ch]@6
  int v97; // [sp-D0h] [bp-228h]@6
  int v98; // [sp-CCh] [bp-224h]@6
  int v99; // [sp-C8h] [bp-220h]@6
  int v100; // [sp-C4h] [bp-21Ch]@6
  int v101; // [sp-C0h] [bp-218h]@6
  int v102; // [sp-BCh] [bp-214h]@6
  int v103; // [sp-B8h] [bp-210h]@6
  int v104; // [sp-B4h] [bp-20Ch]@6
  int v105; // [sp-B0h] [bp-208h]@6
  int v106; // [sp-ACh] [bp-204h]@6
  int v107; // [sp-A8h] [bp-200h]@6
  int v108; // [sp-A4h] [bp-1FCh]@6
  int v109; // [sp-A0h] [bp-1F8h]@6
  int v110; // [sp-9Ch] [bp-1F4h]@6
  int v111; // [sp-98h] [bp-1F0h]@6
  int v112; // [sp-94h] [bp-1ECh]@6
  int v113; // [sp-90h] [bp-1E8h]@6
  int v114; // [sp-8Ch] [bp-1E4h]@6
  int v115; // [sp-88h] [bp-1E0h]@6
  int v116; // [sp-84h] [bp-1DCh]@6
  int v117; // [sp-80h] [bp-1D8h]@6
  int v118; // [sp-7Ch] [bp-1D4h]@6
  int v119; // [sp-78h] [bp-1D0h]@6
  int v120; // [sp-74h] [bp-1CCh]@6
  int v121; // [sp-70h] [bp-1C8h]@6
  int v122; // [sp-6Ch] [bp-1C4h]@6
  int v123; // [sp-68h] [bp-1C0h]@6
  int v124; // [sp-64h] [bp-1BCh]@6
  int v125; // [sp-60h] [bp-1B8h]@6
  int v126; // [sp-5Ch] [bp-1B4h]@6
  int v127; // [sp-58h] [bp-1B0h]@6
  int v128; // [sp-54h] [bp-1ACh]@6
  int v129; // [sp-50h] [bp-1A8h]@6
  int v130; // [sp-4Ch] [bp-1A4h]@6
  int v131; // [sp-48h] [bp-1A0h]@6
  int v132; // [sp-44h] [bp-19Ch]@6
  int v133; // [sp-40h] [bp-198h]@6
  int v134; // [sp-3Ch] [bp-194h]@6
  int v135; // [sp-38h] [bp-190h]@6
  int v136; // [sp-34h] [bp-18Ch]@6
  int v137; // [sp-30h] [bp-188h]@6
  int v138; // [sp-14h] [bp-16Ch]@6
  int v139; // [sp-10h] [bp-168h]@6
  int v140; // [sp-Ch] [bp-164h]@6
  int v141; // [sp-8h] [bp-160h]@6
  int v142; // [sp-4h] [bp-15Ch]@6
  int v143; // [sp+10h] [bp-148h]@1
  int *v144; // [sp+14h] [bp-144h]@1
  int v145; // [sp+18h] [bp-140h]@1
  char v146; // [sp+1Ch] [bp-13Ch]@3
  unsigned int v147; // [sp+3Ch] [bp-11Ch]@4
  char v148; // [sp+48h] [bp-110h]@1

  qmemcpy(&v148, &a2, 0x10Cu);
  v74 = 0;
  v145 = a71;
  v144 = a73;
  v143 = 0;
  do
  {
    if ( v74 )
    {
      do
      {
        v75 = sub_10003E90(40);
        sub_1006F350(dword_109B41A8, &v146);
      }
      while ( v75 && v147 > 0x5DC );
      v74 = v143;
      byte_109B41A4 = 0;
    }
    v142 = a74;
    v141 = a72;
    v140 = v145;
    v139 = a70;
    v138 = a69;
    qmemcpy(&v77, &v148, 0x10Cu);
    result = sub_100036D0(
               v144,
               a1,
               v77,
               v78,
               v79,
               v80,
               v81,
               v82,
               v83,
               v84,
               v85,
               v86,
               v87,
               v88,
               v89,
               v90,
               v91,
               v92,
               v93,
               v94,
               v95,
               v96,
               v97,
               v98,
               v99,
               v100,
               v101,
               v102,
               v103,
               v104,
               v105,
               v106,
               v107,
               v108,
               v109,
               v110,
               v111,
               v112,
               v113,
               v114,
               v115,
               v116,
               v117,
               v118,
               v119,
               v120,
               v121,
               v122,
               v123,
               v124,
               v125,
               v126,
               v127,
               v128,
               v129,
               v130,
               v131,
               v132,
               v133,
               v134,
               v135,
               v136,
               v137);
    if ( result )
      break;
    if ( !byte_109B41A4 )
      break;
    v143 = ++v74;
  }
  while ( v74 < 20 );
  return result;
}
// 10003F20: too many input arguments, some ignored
// 109B41A4: using guessed type char byte_109B41A4;

//----- (10004030) --------------------------------------------------------
char __cdecl sub_10004030(int a1, char *a2, int a3, char a4, int a5)
{
  char result; // al@2
  int v6; // ebx@3
  int v7; // eax@9
  unsigned __int8 v8; // al@10
  char *v9; // ecx@13
  signed int v10; // edx@13
  int v11; // eax@14
  int v12; // eax@18
  int v13; // ecx@32
  int v14; // edx@32
  char v15; // [sp-110h] [bp-1B4h]@11
  int v16; // [sp-10Ch] [bp-1B0h]@11
  int v17; // [sp-108h] [bp-1ACh]@11
  int v18; // [sp-104h] [bp-1A8h]@11
  int v19; // [sp-100h] [bp-1A4h]@11
  int v20; // [sp-FCh] [bp-1A0h]@11
  int v21; // [sp-F8h] [bp-19Ch]@11
  int v22; // [sp-F4h] [bp-198h]@11
  int v23; // [sp-F0h] [bp-194h]@11
  int v24; // [sp-ECh] [bp-190h]@11
  int v25; // [sp-E8h] [bp-18Ch]@11
  int v26; // [sp-E4h] [bp-188h]@11
  int v27; // [sp-E0h] [bp-184h]@11
  int v28; // [sp-DCh] [bp-180h]@11
  int v29; // [sp-D8h] [bp-17Ch]@11
  int v30; // [sp-D4h] [bp-178h]@11
  int v31; // [sp-D0h] [bp-174h]@11
  int v32; // [sp-CCh] [bp-170h]@11
  int v33; // [sp-C8h] [bp-16Ch]@11
  int v34; // [sp-C4h] [bp-168h]@11
  int v35; // [sp-C0h] [bp-164h]@11
  int v36; // [sp-BCh] [bp-160h]@11
  int v37; // [sp-B8h] [bp-15Ch]@11
  int v38; // [sp-B4h] [bp-158h]@11
  int v39; // [sp-B0h] [bp-154h]@11
  int v40; // [sp-ACh] [bp-150h]@11
  int v41; // [sp-A8h] [bp-14Ch]@11
  int v42; // [sp-A4h] [bp-148h]@11
  int v43; // [sp-A0h] [bp-144h]@11
  int v44; // [sp-9Ch] [bp-140h]@11
  int v45; // [sp-98h] [bp-13Ch]@11
  int v46; // [sp-94h] [bp-138h]@11
  int v47; // [sp-90h] [bp-134h]@11
  int v48; // [sp-8Ch] [bp-130h]@11
  int v49; // [sp-88h] [bp-12Ch]@11
  int v50; // [sp-84h] [bp-128h]@11
  int v51; // [sp-80h] [bp-124h]@11
  int v52; // [sp-7Ch] [bp-120h]@11
  int v53; // [sp-78h] [bp-11Ch]@11
  int v54; // [sp-74h] [bp-118h]@11
  int v55; // [sp-70h] [bp-114h]@11
  int v56; // [sp-6Ch] [bp-110h]@11
  int v57; // [sp-68h] [bp-10Ch]@11
  int v58; // [sp-64h] [bp-108h]@11
  int v59; // [sp-60h] [bp-104h]@11
  int v60; // [sp-5Ch] [bp-100h]@11
  int v61; // [sp-58h] [bp-FCh]@11
  int v62; // [sp-54h] [bp-F8h]@11
  int v63; // [sp-50h] [bp-F4h]@11
  int v64; // [sp-4Ch] [bp-F0h]@11
  int v65; // [sp-48h] [bp-ECh]@11
  int v66; // [sp-44h] [bp-E8h]@11
  int v67; // [sp-40h] [bp-E4h]@11
  int v68; // [sp-3Ch] [bp-E0h]@11
  int v69; // [sp-38h] [bp-DCh]@11
  int v70; // [sp-34h] [bp-D8h]@11
  int v71; // [sp-30h] [bp-D4h]@11
  int v72; // [sp-2Ch] [bp-D0h]@11
  int v73; // [sp-28h] [bp-CCh]@11
  int v74; // [sp-24h] [bp-C8h]@11
  int v75; // [sp-20h] [bp-C4h]@11
  int v76; // [sp-1Ch] [bp-C0h]@11
  int v77; // [sp-4h] [bp-A8h]@11
  float v78; // [sp+0h] [bp-A4h]@11
  int *v79; // [sp+4h] [bp-A0h]@11
  int v80; // [sp+8h] [bp-9Ch]@11
  int *v81; // [sp+Ch] [bp-98h]@11
  int v82; // [sp+10h] [bp-94h]@11
  int v83; // [sp+24h] [bp-80h]@5
  int v84; // [sp+28h] [bp-7Ch]@5
  int v85; // [sp+2Ch] [bp-78h]@5
  int v86; // [sp+30h] [bp-74h]@5
  int v87; // [sp+34h] [bp-70h]@5
  int v88; // [sp+38h] [bp-6Ch]@5
  char *v89; // [sp+3Ch] [bp-68h]@5
  int v90; // [sp+40h] [bp-64h]@11
  int v91; // [sp+44h] [bp-60h]@11
  int v92; // [sp+48h] [bp-5Ch]@5
  int v93; // [sp+4Ch] [bp-58h]@5
  int v94; // [sp+50h] [bp-54h]@9
  int v95; // [sp+54h] [bp-50h]@9
  int v96; // [sp+58h] [bp-4Ch]@13
  int v97; // [sp+64h] [bp-40h]@9
  int v98; // [sp+68h] [bp-3Ch]@9
  int v99; // [sp+6Ch] [bp-38h]@9
  int v100; // [sp+70h] [bp-34h]@9
  int v101; // [sp+74h] [bp-30h]@24
  int v102; // [sp+78h] [bp-2Ch]@30
  int v103; // [sp+7Ch] [bp-28h]@24
  int v104; // [sp+80h] [bp-24h]@28
  char v105; // [sp+84h] [bp-20h]@13
  char v106; // [sp+88h] [bp-1Ch]@13

  if ( (unsigned __int8)sub_10003C20(a1) )
  {
    v6 = 0;
    if ( a3 )
    {
      v89 = a2;
      v92 = 0;
      v93 = 0;
      v83 = 0;
      v84 = 0;
      v88 = 0;
      v85 = 0;
      v86 = 0;
      v87 = 133120;
      if ( a4 & 8 )
        v87 = 133248;
      if ( a4 & 4 )
        v87 |= 0x20u;
      v7 = sub_10003510(a5, (int)&v95);
      v97 = *(_DWORD *)v7;
      v98 = *(_DWORD *)(v7 + 4);
      v99 = *(_DWORD *)(v7 + 8);
      v100 = *(_DWORD *)(v7 + 12);
      LOBYTE(v94) = ((_WORD)a5 != 0) + 1;
      if ( a2 )
      {
        do
        {
          v8 = *v89;
          if ( !*v89 )
            break;
          v82 = a5;
          v81 = &v97;
          v80 = v94;
          v79 = &v91;
          v78 = *(float *)&v87;
          v77 = v8;
          v90 = 0;
          qmemcpy(&v15, (const void *)(a1 + 8), 0x10Cu);
          if ( sub_10003F20(
                 &v90,
                 v15,
                 v16,
                 v17,
                 v18,
                 v19,
                 v20,
                 v21,
                 v22,
                 v23,
                 v24,
                 v25,
                 v26,
                 v27,
                 v28,
                 v29,
                 v30,
                 v31,
                 v32,
                 v33,
                 v34,
                 v35,
                 v36,
                 v37,
                 v38,
                 v39,
                 v40,
                 v41,
                 v42,
                 v43,
                 v44,
                 v45,
                 v46,
                 v47,
                 v48,
                 v49,
                 v50,
                 v51,
                 v52,
                 v53,
                 v54,
                 v55,
                 v56,
                 v57,
                 v58,
                 v59,
                 v60,
                 v61,
                 v62,
                 v63,
                 v64,
                 v65,
                 v66,
                 v67,
                 v68,
                 v69,
                 v70,
                 v71,
                 v72,
                 v73,
                 v74,
                 v75,
                 v76) )
          {
            sub_10058880(v91 + 20, (int)&v101);
            if ( v83 <= v6 + (v103 >> 6) )
              v83 = v6 + (v103 >> 6);
            if ( v84 >= v6 + (v101 >> 6) )
              v84 = v6 + (v101 >> 6);
            if ( v85 <= v88 + (v104 >> 6) )
              v85 = v88 + (v104 >> 6);
            if ( v86 >= v88 + (v102 >> 6) )
              v86 = v88 + (v102 >> 6);
            v6 += (signed __int16)((unsigned int)(*(_DWORD *)(v91 + 12) + v92) >> 16);
            v13 = (*(_DWORD *)(v91 + 12) + v92) & 0xFFFF;
            v14 = (*(_DWORD *)(v91 + 16) + v93) & 0xFFFF;
            v88 += (signed __int16)((unsigned int)(*(_DWORD *)(v91 + 16) + v93) >> 16);
            v92 = v13;
            v93 = v14;
            if ( (_BYTE)v94 != 1 )
              sub_10056EF0(v91);
          }
          else
          {
            if ( !v90 )
              return 1;
            sub_10003570(v90, (int)&v105, *(float *)(a1 + 272), a5, 0, 0, (int)&v95);
            v6 += v95;
            v88 += v96;
            v9 = &v106;
            v10 = 4;
            do
            {
              v11 = *((_DWORD *)v9 - 1);
              if ( v83 <= v11 )
                v83 = *((_DWORD *)v9 - 1);
              if ( v84 >= v11 )
                v84 = v11;
              v12 = *(_DWORD *)v9;
              if ( v85 <= *(_DWORD *)v9 )
                v85 = *(_DWORD *)v9;
              if ( v86 >= v12 )
                v86 = v12;
              v9 += 8;
              --v10;
            }
            while ( v10 );
          }
          ++v89;
        }
        while ( v89 );
      }
      *(_WORD *)a3 = v83 - v84 + 2;
      *(_WORD *)(a3 + 2) = v85 - v86 + 2;
      result = 0;
    }
    else
    {
      result = 6;
    }
  }
  else
  {
    result = -15;
  }
  return result;
}

//----- (100042F0) --------------------------------------------------------
char __usercall sub_100042F0@<al>(char *a1@<edx>, char a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  int v74; // edi@1
  __int16 v75; // ax@1
  int v76; // ebx@1
  unsigned __int8 v77; // al@6
  char v78; // al@7
  double v79; // st6@14
  double v80; // st7@14
  int v81; // ebx@14
  signed int v82; // eax@14
  double v83; // st6@14
  double v84; // st6@14
  double v85; // st7@14
  int v86; // esi@15
  __int16 v87; // di@15
  __int16 v88; // ax@15
  __int16 *v89; // esi@15
  signed int v90; // edi@15
  int v91; // eax@16
  __int16 v92; // dx@16
  int v93; // esi@17
  __int16 v94; // di@17
  __int16 v95; // bx@17
  char v97; // [sp-124h] [bp-37Ch]@7
  int v98; // [sp-120h] [bp-378h]@7
  int v99; // [sp-11Ch] [bp-374h]@7
  int v100; // [sp-118h] [bp-370h]@7
  int v101; // [sp-114h] [bp-36Ch]@7
  int v102; // [sp-110h] [bp-368h]@7
  int v103; // [sp-10Ch] [bp-364h]@7
  int v104; // [sp-108h] [bp-360h]@7
  int v105; // [sp-104h] [bp-35Ch]@7
  int v106; // [sp-100h] [bp-358h]@7
  int v107; // [sp-FCh] [bp-354h]@7
  int v108; // [sp-F8h] [bp-350h]@7
  int v109; // [sp-F4h] [bp-34Ch]@7
  int v110; // [sp-F0h] [bp-348h]@7
  int v111; // [sp-ECh] [bp-344h]@7
  int v112; // [sp-E8h] [bp-340h]@7
  int v113; // [sp-E4h] [bp-33Ch]@7
  int v114; // [sp-E0h] [bp-338h]@7
  int v115; // [sp-DCh] [bp-334h]@7
  int v116; // [sp-D8h] [bp-330h]@7
  int v117; // [sp-D4h] [bp-32Ch]@7
  int v118; // [sp-D0h] [bp-328h]@7
  int v119; // [sp-CCh] [bp-324h]@7
  int v120; // [sp-C8h] [bp-320h]@7
  int v121; // [sp-C4h] [bp-31Ch]@7
  int v122; // [sp-C0h] [bp-318h]@7
  int v123; // [sp-BCh] [bp-314h]@7
  int v124; // [sp-B8h] [bp-310h]@7
  int v125; // [sp-B4h] [bp-30Ch]@7
  int v126; // [sp-B0h] [bp-308h]@7
  int v127; // [sp-ACh] [bp-304h]@7
  int v128; // [sp-A8h] [bp-300h]@7
  int v129; // [sp-A4h] [bp-2FCh]@7
  int v130; // [sp-A0h] [bp-2F8h]@7
  int v131; // [sp-9Ch] [bp-2F4h]@7
  int v132; // [sp-98h] [bp-2F0h]@7
  int v133; // [sp-94h] [bp-2ECh]@7
  int v134; // [sp-90h] [bp-2E8h]@7
  int v135; // [sp-8Ch] [bp-2E4h]@7
  int v136; // [sp-88h] [bp-2E0h]@7
  int v137; // [sp-84h] [bp-2DCh]@7
  int v138; // [sp-80h] [bp-2D8h]@7
  int v139; // [sp-7Ch] [bp-2D4h]@7
  int v140; // [sp-78h] [bp-2D0h]@7
  int v141; // [sp-74h] [bp-2CCh]@7
  int v142; // [sp-70h] [bp-2C8h]@7
  int v143; // [sp-6Ch] [bp-2C4h]@7
  int v144; // [sp-68h] [bp-2C0h]@7
  int v145; // [sp-64h] [bp-2BCh]@7
  int v146; // [sp-60h] [bp-2B8h]@7
  int v147; // [sp-5Ch] [bp-2B4h]@7
  int v148; // [sp-58h] [bp-2B0h]@7
  int v149; // [sp-54h] [bp-2ACh]@7
  int v150; // [sp-50h] [bp-2A8h]@7
  int v151; // [sp-4Ch] [bp-2A4h]@7
  int v152; // [sp-48h] [bp-2A0h]@7
  int v153; // [sp-44h] [bp-29Ch]@7
  int v154; // [sp-40h] [bp-298h]@7
  int v155; // [sp-3Ch] [bp-294h]@7
  int v156; // [sp-38h] [bp-290h]@7
  int v157; // [sp-34h] [bp-28Ch]@7
  int v158; // [sp-30h] [bp-288h]@7
  int v159; // [sp-18h] [bp-270h]@7
  int v160; // [sp-14h] [bp-26Ch]@7
  int *v161; // [sp-10h] [bp-268h]@7
  int v162; // [sp-Ch] [bp-264h]@7
  int v163; // [sp-8h] [bp-260h]@7
  int v164; // [sp-4h] [bp-25Ch]@7
  char v165; // [sp+13h] [bp-245h]@5
  float v166; // [sp+14h] [bp-244h]@1
  int v167; // [sp+18h] [bp-240h]@1
  char *v168; // [sp+1Ch] [bp-23Ch]@1
  int v169; // [sp+20h] [bp-238h]@1
  int v170; // [sp+24h] [bp-234h]@1
  int v171; // [sp+28h] [bp-230h]@7
  int v172; // [sp+2Ch] [bp-22Ch]@1
  __int16 v173; // [sp+34h] [bp-224h]@14
  __int16 v174; // [sp+36h] [bp-222h]@14
  __int16 v175; // [sp+38h] [bp-220h]@14
  __int16 v176; // [sp+3Ah] [bp-21Eh]@14
  __int16 v177; // [sp+3Ch] [bp-21Ch]@14
  __int16 v178; // [sp+3Eh] [bp-21Ah]@14
  __int16 v179; // [sp+40h] [bp-218h]@14
  __int16 v180; // [sp+42h] [bp-216h]@14
  int v181; // [sp+44h] [bp-214h]@16
  int v182; // [sp+48h] [bp-210h]@16
  int v183; // [sp+4Ch] [bp-20Ch]@1
  int v184; // [sp+50h] [bp-208h]@15
  int v185; // [sp+54h] [bp-204h]@15
  int v186; // [sp+58h] [bp-200h]@15
  int v187; // [sp+5Ch] [bp-1FCh]@15
  char v188; // [sp+60h] [bp-1F8h]@17
  char v189; // [sp+140h] [bp-118h]@1
  float v190; // [sp+248h] [bp-10h]@1

  qmemcpy(&v189, &a2, 0x10Cu);
  v74 = a69;
  LOWORD(v172) = *(_WORD *)(a70 + 42);
  v183 = a70;
  v75 = *(_WORD *)(a70 + 40);
  v76 = 0;
  v170 = a69;
  v167 = 0;
  v168 = a1;
  HIWORD(v172) = v75;
  LODWORD(v166) = *(_WORD *)(a69 + 76);
  v169 = 0x20000;
  v166 = (double)(unsigned int)dword_109B41A0 * v190 / 72.0 / (double)SLODWORD(v166);
  if ( a71 & 8 )
    v169 = 131200;
  if ( a71 & 4 )
    v169 |= 0x20u;
  v165 = ((_WORD)a72 != 0) + 1;
  if ( a1 )
  {
    do
    {
      v77 = *v168;
      if ( !*v168 )
        break;
      v164 = a72;
      v163 = 0;
      v162 = 0;
      v161 = &v171;
      v160 = v169;
      v159 = v77;
      qmemcpy(&v97, &v189, 0x10Cu);
      v78 = sub_10003F20(
              &v170,
              v97,
              v98,
              v99,
              v100,
              v101,
              v102,
              v103,
              v104,
              v105,
              v106,
              v107,
              v108,
              v109,
              v110,
              v111,
              v112,
              v113,
              v114,
              v115,
              v116,
              v117,
              v118,
              v119,
              v120,
              v121,
              v122,
              v123,
              v124,
              v125,
              v126,
              v127,
              v128,
              v129,
              v130,
              v131,
              v132,
              v133,
              v134,
              v135,
              v136,
              v137,
              v138,
              v139,
              v140,
              v141,
              v142,
              v143,
              v144,
              v145,
              v146,
              v147,
              v148,
              v149,
              v150,
              v151,
              v152,
              v153,
              v154,
              v155,
              v156,
              v157,
              v158);
      v74 = v170;
      if ( v78 )
      {
        v76 += *(_DWORD *)(v171 + 12);
        v167 += SHIWORD(v76);
        v76 = (unsigned __int16)v76;
      }
      else
      {
        if ( !v170 )
          return 0;
        v167 += (signed int)((double)*(signed int *)(v170 + 68) * v166) >> 1;
      }
      if ( v165 != 1 )
        sub_10056EF0(v171);
      ++v168;
    }
    while ( v168 );
  }
  v79 = (double)*(signed int *)(v74 + 60) * v166;
  v80 = v166;
  a73 -= v172;
  v81 = (signed __int16)a73;
  a74 -= *(int *)((char *)&v172 + 2);
  v168 = (char *)((signed __int16)a73 + v167 + 1);
  v82 = (signed int)v79;
  v83 = (double)*(signed int *)(v74 + 64);
  v170 = v82 + (signed __int16)a73 - 1;
  v84 = v83 * v166;
  LODWORD(v166) = (signed __int16)a74;
  v85 = v80 * (double)*(signed int *)(v74 + 72);
  v178 = a74 - (signed int)v84 + 1;
  v180 = a74 - (signed int)v84 + 1;
  v173 = v82 + a73 - 1;
  v174 = a74 - (signed int)v85 - 1;
  v175 = a73 + v167 + 1;
  v176 = a74 - (signed int)v85 - 1;
  v177 = a73 + v167 + 1;
  v179 = v82 + a73 - 1;
  if ( (_WORD)a72 )
  {
    v86 = -a72;
    v87 = sub_10070110(-a72);
    v88 = sub_100700B0(v86);
    v184 = 2 * v87;
    v185 = -2 * v88;
    v186 = 2 * v88;
    v187 = 2 * v87;
    v89 = &v174;
    v90 = 4;
    do
    {
      v91 = *v89 - LODWORD(v166);
      v181 = *(v89 - 1) - v81;
      v182 = v91;
      sub_100589F0((int)&v181, (int)&v184);
      v92 = v182;
      *(v89 - 1) = a73 + v181;
      *v89 = a74 + v92;
      v89 += 2;
      --v90;
    }
    while ( v90 );
  }
  v93 = v183;
  v94 = *(_WORD *)(v183 + 46);
  v95 = *(_WORD *)(v183 + 44);
  sub_10066830(v183, 4, (int)&v173, 56, (int)&v188);
  *(_WORD *)(v93 + 46) = v94;
  *(_WORD *)(v93 + 44) = v95;
  return 1;
}
// 100042F0: too many input arguments, some ignored
// 109B41A0: using guessed type int dword_109B41A0;

//----- (10004610) --------------------------------------------------------
char __cdecl sub_10004610(int a1, char *a2, float a3, int *a4, int a5)
{
  __int16 v6; // cx@3
  __int16 v7; // dx@3
  __int16 v8; // cx@3
  double v9; // st7@6
  int v10; // esi@6
  __int16 v11; // di@6
  double v12; // st6@6
  __int16 v13; // ax@6
  signed int v14; // eax@6
  int v15; // eax@13
  int v16; // ebx@14
  int v17; // eax@14
  int v18; // ebx@15
  char v19; // al@16
  unsigned int v20; // eax@20
  unsigned int v21; // ecx@20
  __int16 v22; // cx@22
  unsigned __int16 v23; // cx@23
  unsigned __int16 v24; // dx@23
  int v25; // ebx@26
  int v26; // edi@26
  double v27; // st7@27
  double v28; // st6@27
  char v29; // al@35
  char *v30; // ecx@38
  char *v31; // eax@38
  signed int v32; // edx@38
  __int16 v33; // si@39
  int v34; // eax@40
  int v35; // esi@40
  __int16 v36; // cx@40
  __int16 v37; // di@40
  __int16 v38; // cx@40
  __int16 v39; // dx@41
  __int16 v40; // cx@41
  unsigned int v41; // esi@41
  unsigned int v42; // edi@41
  __int16 v43; // ax@42
  __int16 v44; // cx@42
  __int16 v45; // dx@42
  int v46; // ecx@42
  int v47; // eax@42
  __int16 v48; // dx@42
  __int16 v49; // dx@42
  __int16 v50; // ax@42
  __int16 v51; // cx@42
  __int16 v52; // bx@46
  __int16 v53; // si@46
  double v54; // st7@49
  char v55; // [sp-110h] [bp-2B0h]@3
  int v56; // [sp-10Ch] [bp-2ACh]@3
  int v57; // [sp-108h] [bp-2A8h]@3
  int v58; // [sp-104h] [bp-2A4h]@3
  int v59; // [sp-100h] [bp-2A0h]@3
  int v60; // [sp-FCh] [bp-29Ch]@3
  int v61; // [sp-F8h] [bp-298h]@3
  int v62; // [sp-F4h] [bp-294h]@3
  int v63; // [sp-F0h] [bp-290h]@3
  int v64; // [sp-ECh] [bp-28Ch]@3
  int v65; // [sp-E8h] [bp-288h]@3
  int v66; // [sp-E4h] [bp-284h]@3
  int v67; // [sp-E0h] [bp-280h]@3
  int v68; // [sp-DCh] [bp-27Ch]@3
  int v69; // [sp-D8h] [bp-278h]@3
  int v70; // [sp-D4h] [bp-274h]@3
  int v71; // [sp-D0h] [bp-270h]@3
  int v72; // [sp-CCh] [bp-26Ch]@3
  int v73; // [sp-C8h] [bp-268h]@3
  int v74; // [sp-C4h] [bp-264h]@3
  int v75; // [sp-C0h] [bp-260h]@3
  int v76; // [sp-BCh] [bp-25Ch]@3
  int v77; // [sp-B8h] [bp-258h]@3
  int v78; // [sp-B4h] [bp-254h]@3
  int v79; // [sp-B0h] [bp-250h]@3
  int v80; // [sp-ACh] [bp-24Ch]@3
  int v81; // [sp-A8h] [bp-248h]@3
  int v82; // [sp-A4h] [bp-244h]@3
  int v83; // [sp-A0h] [bp-240h]@3
  int v84; // [sp-9Ch] [bp-23Ch]@3
  int v85; // [sp-98h] [bp-238h]@3
  int v86; // [sp-94h] [bp-234h]@3
  int v87; // [sp-90h] [bp-230h]@3
  int v88; // [sp-8Ch] [bp-22Ch]@3
  int v89; // [sp-88h] [bp-228h]@3
  int v90; // [sp-84h] [bp-224h]@3
  int v91; // [sp-80h] [bp-220h]@3
  int v92; // [sp-7Ch] [bp-21Ch]@3
  int v93; // [sp-78h] [bp-218h]@3
  int v94; // [sp-74h] [bp-214h]@3
  int v95; // [sp-70h] [bp-210h]@3
  int v96; // [sp-6Ch] [bp-20Ch]@3
  int v97; // [sp-68h] [bp-208h]@3
  int v98; // [sp-64h] [bp-204h]@3
  int v99; // [sp-60h] [bp-200h]@3
  int v100; // [sp-5Ch] [bp-1FCh]@3
  int v101; // [sp-58h] [bp-1F8h]@3
  int v102; // [sp-54h] [bp-1F4h]@3
  int v103; // [sp-50h] [bp-1F0h]@3
  int v104; // [sp-4Ch] [bp-1ECh]@3
  int v105; // [sp-48h] [bp-1E8h]@3
  int v106; // [sp-44h] [bp-1E4h]@3
  int v107; // [sp-40h] [bp-1E0h]@3
  int v108; // [sp-3Ch] [bp-1DCh]@3
  int v109; // [sp-38h] [bp-1D8h]@3
  int v110; // [sp-34h] [bp-1D4h]@3
  int v111; // [sp-30h] [bp-1D0h]@3
  int v112; // [sp-2Ch] [bp-1CCh]@3
  int v113; // [sp-28h] [bp-1C8h]@3
  int v114; // [sp-24h] [bp-1C4h]@3
  int v115; // [sp-20h] [bp-1C0h]@3
  int v116; // [sp-1Ch] [bp-1BCh]@3
  int v117; // [sp-4h] [bp-1A4h]@3
  float v118; // [sp+0h] [bp-1A0h]@3
  int *v119; // [sp+4h] [bp-19Ch]@3
  char *v120; // [sp+8h] [bp-198h]@3
  int *v121; // [sp+Ch] [bp-194h]@3
  int *v122; // [sp+10h] [bp-190h]@3
  int *v123; // [sp+24h] [bp-17Ch]@15
  char *v124; // [sp+28h] [bp-178h]@3
  int v125; // [sp+2Ch] [bp-174h]@6
  signed int v126; // [sp+30h] [bp-170h]@6
  int v127; // [sp+34h] [bp-16Ch]@3
  int v128; // [sp+38h] [bp-168h]@6
  int v129; // [sp+3Ch] [bp-164h]@6
  __int16 v130; // [sp+40h] [bp-160h]@3
  __int16 v131; // [sp+42h] [bp-15Eh]@3
  int v132; // [sp+44h] [bp-15Ch]@9
  int v133; // [sp+48h] [bp-158h]@15
  int v134; // [sp+4Ch] [bp-154h]@15
  int v135; // [sp+50h] [bp-150h]@3
  int v136; // [sp+58h] [bp-148h]@17
  int v137; // [sp+5Ch] [bp-144h]@41
  int v138; // [sp+60h] [bp-140h]@41
  char v139; // [sp+64h] [bp-13Ch]@41
  char v140; // [sp+65h] [bp-13Bh]@41
  __int16 v141; // [sp+66h] [bp-13Ah]@41
  int v142; // [sp+68h] [bp-138h]@5
  int v143; // [sp+6Ch] [bp-134h]@6
  int v144; // [sp+70h] [bp-130h]@13
  int v145; // [sp+74h] [bp-12Ch]@19
  int v146; // [sp+80h] [bp-120h]@13
  int v147; // [sp+84h] [bp-11Ch]@13
  int v148; // [sp+88h] [bp-118h]@13
  int v149; // [sp+8Ch] [bp-114h]@13
  char v150; // [sp+90h] [bp-110h]@40
  char v151; // [sp+92h] [bp-10Eh]@38
  char v152; // [sp+A0h] [bp-100h]@19
  char v153; // [sp+A4h] [bp-FCh]@38
  char v154; // [sp+C0h] [bp-E0h]@40

  if ( !(unsigned __int8)sub_10003C20(a1) )
    return -15;
  v6 = *(_WORD *)(LODWORD(a3) + 42);
  v7 = *(_WORD *)(LODWORD(a3) + 40);
  v122 = 0;
  v121 = 0;
  v120 = (char *)1;
  v119 = 0;
  LOWORD(v135) = v6;
  v8 = *(_WORD *)(LODWORD(a3) + 44);
  v118 = 0.0;
  v117 = 0;
  HIWORD(v135) = v7;
  v130 = v8;
  v124 = a2;
  v131 = *(_WORD *)(LODWORD(a3) + 46);
  qmemcpy(&v55, (const void *)(a1 + 8), 0x10Cu);
  if ( !sub_10003F20(
          &v127,
          v55,
          v56,
          v57,
          v58,
          v59,
          v60,
          v61,
          v62,
          v63,
          v64,
          v65,
          v66,
          v67,
          v68,
          v69,
          v70,
          v71,
          v72,
          v73,
          v74,
          v75,
          v76,
          v77,
          v78,
          v79,
          v80,
          v81,
          v82,
          v83,
          v84,
          v85,
          v86,
          v87,
          v88,
          v89,
          v90,
          v91,
          v92,
          v93,
          v94,
          v95,
          v96,
          v97,
          v98,
          v99,
          v100,
          v101,
          v102,
          v103,
          v104,
          v105,
          v106,
          v107,
          v108,
          v109,
          v110,
          v111,
          v112,
          v113,
          v114,
          v115,
          v116) )
    return 1;
  v142 = (unsigned __int8)a4 & 0x10;
  if ( (unsigned __int8)a4 & 0x10 )
  {
    v9 = *(float *)(a1 + 272);
    v10 = v127;
    v125 = *(_WORD *)(v127 + 76);
    v11 = a5;
    v12 = (double)v125;
    v125 = *(_WORD *)(v127 + 88);
    *(float *)&v126 = v9 * (double)(unsigned int)dword_108F1FC4 / 72.0 / v12;
    *(float *)&v128 = (double)v125 * -*(float *)&v126;
    v125 = (signed __int16)sub_100700B0(a5);
    v143 = (unsigned __int16)((signed int)((double)v125 * *(float *)&v128) >> 15) - v135;
    v13 = sub_10070110(a5);
    v125 = v13;
    v125 = *(_WORD *)(v10 + 90);
    v129 = (unsigned __int16)(((signed int)((double)v13 * *(float *)&v128) >> 15) - HIWORD(v135));
    v14 = (signed int)((double)v125 * *(float *)&v126);
    v125 = (unsigned __int16)v14;
    if ( (signed __int16)v14 < 1 )
      v125 = 1;
  }
  else
  {
    v11 = a5;
  }
  v132 = 133120;
  if ( (unsigned __int8)a4 & 8 )
    v132 = 133248;
  if ( (unsigned __int8)a4 & 4 )
    v132 |= 0x20u;
  v15 = sub_10003510(v11, (int)&v144);
  v146 = *(_DWORD *)v15;
  v147 = *(_DWORD *)(v15 + 4);
  v148 = *(_DWORD *)(v15 + 8);
  v149 = *(_DWORD *)(v15 + 12);
  v128 = (unsigned __int8)a4 & 3;
  if ( v128 == 2 )
  {
    v16 = *(_WORD *)(LODWORD(a3) + 46);
    v17 = *(_WORD *)(LODWORD(a3) + 44);
  }
  else
  {
    v18 = 0;
    v123 = 0;
    v134 = 0;
    v133 = 0;
    if ( a2 )
    {
      do
      {
        v19 = *v124;
        if ( !*v124 )
          break;
        v122 = (int *)a5;
        v121 = &v146;
        v120 = 0;
        v119 = &v136;
        v118 = *(float *)&v132;
        v117 = (unsigned __int8)v19;
        qmemcpy(&v55, (const void *)(a1 + 8), 0x10Cu);
        if ( sub_10003F20(
               &v127,
               v55,
               v56,
               v57,
               v58,
               v59,
               v60,
               v61,
               v62,
               v63,
               v64,
               v65,
               v66,
               v67,
               v68,
               v69,
               v70,
               v71,
               v72,
               v73,
               v74,
               v75,
               v76,
               v77,
               v78,
               v79,
               v80,
               v81,
               v82,
               v83,
               v84,
               v85,
               v86,
               v87,
               v88,
               v89,
               v90,
               v91,
               v92,
               v93,
               v94,
               v95,
               v96,
               v97,
               v98,
               v99,
               v100,
               v101,
               v102,
               v103,
               v104,
               v105,
               v106,
               v107,
               v108,
               v109,
               v110,
               v111,
               v112,
               v113,
               v114,
               v115,
               v116) )
        {
          v20 = *(_DWORD *)(v136 + 12) + v134;
          v21 = *(_DWORD *)(v136 + 16) + v133;
          v18 += v20 >> 16;
          v123 = (int *)((char *)v123 - (v21 >> 16));
          v134 = (unsigned __int16)v20;
          v133 = (unsigned __int16)v21;
        }
        else
        {
          if ( !v127 )
            return 1;
          v122 = &v144;
          v121 = 0;
          sub_10003570(v127, (int)&v152, *(float *)(a1 + 272), a5, 0, 0, (int)&v144);
          v18 += v144;
          v123 = (int *)((char *)v123 + v145);
        }
        ++v124;
      }
      while ( v124 );
    }
    v22 = *(_WORD *)(LODWORD(a3) + 46);
    v124 = a2;
    if ( *(float *)&v128 == 0.0 )
    {
      v23 = v22 - v18;
      v24 = *(_WORD *)(LODWORD(a3) + 44) - (_WORD)v123;
    }
    else
    {
      v23 = v22 - (signed __int16)v18 / 2;
      v24 = *(_WORD *)(LODWORD(a3) + 44) - (signed __int16)v123 / 2;
    }
    v17 = v24;
    v16 = v23;
  }
  v25 = v135 + v16;
  v123 = (int *)(*(int *)((char *)&v135 + 2) + v17);
  v26 = (unsigned __int8)a4 & 0xC0;
  v128 = (unsigned __int8)a4 & 0xC0;
  if ( v26 == 64 )
  {
    v27 = (double)*(signed int *)(v127 + 64);
    v126 = *(_WORD *)(v127 + 76);
    v28 = (double)v126;
  }
  else
  {
    if ( (unsigned __int8)a4 & 0xC0 )
      goto LABEL_31;
    v27 = (double)*(signed int *)(v127 + 72);
    v126 = *(_WORD *)(v127 + 76);
    v28 = (double)v126;
  }
  LOWORD(v123) = (signed int)(v27 / v28 * (*(float *)(a1 + 272) * (double)(unsigned int)dword_109B41A0 / 72.0))
               + (_WORD)v123;
LABEL_31:
  if ( (unsigned __int8)a4 & 0x20 )
  {
    v122 = v123;
    v121 = (int *)v25;
    v120 = (char *)a5;
    v119 = a4;
    v118 = a3;
    v117 = v127;
    qmemcpy(&v55, (const void *)(a1 + 8), 0x10Cu);
    if ( !sub_100042F0(
            a2,
            v55,
            v56,
            v57,
            v58,
            v59,
            v60,
            v61,
            v62,
            v63,
            v64,
            v65,
            v66,
            v67,
            v68,
            v69,
            v70,
            v71,
            v72,
            v73,
            v74,
            v75,
            v76,
            v77,
            v78,
            v79,
            v80,
            v81,
            v82,
            v83,
            v84,
            v85,
            v86,
            v87,
            v88,
            v89,
            v90,
            v91,
            v92,
            v93,
            v94,
            v95,
            v96,
            v97,
            v98,
            v99,
            v100,
            v101,
            v102,
            v103,
            v104,
            v105,
            v106,
            v107,
            v108,
            v109,
            v110,
            v111,
            v112,
            v113,
            v114,
            v115,
            v116) )
      return 1;
    v26 = v128;
  }
  v134 = 0;
  v133 = 0;
  if ( a2 )
  {
    do
    {
      v29 = *v124;
      if ( !*v124 )
        break;
      v122 = (int *)a5;
      v121 = &v146;
      v120 = 0;
      v119 = &v136;
      v118 = *(float *)&v132;
      v117 = (unsigned __int8)v29;
      qmemcpy(&v55, (const void *)(a1 + 8), 0x10Cu);
      if ( sub_10003F20(
             &v127,
             v55,
             v56,
             v57,
             v58,
             v59,
             v60,
             v61,
             v62,
             v63,
             v64,
             v65,
             v66,
             v67,
             v68,
             v69,
             v70,
             v71,
             v72,
             v73,
             v74,
             v75,
             v76,
             v77,
             v78,
             v79,
             v80,
             v81,
             v82,
             v83,
             v84,
             v85,
             v86,
             v87,
             v88,
             v89,
             v90,
             v91,
             v92,
             v93,
             v94,
             v95,
             v96,
             v97,
             v98,
             v99,
             v100,
             v101,
             v102,
             v103,
             v104,
             v105,
             v106,
             v107,
             v108,
             v109,
             v110,
             v111,
             v112,
             v113,
             v114,
             v115,
             v116) )
      {
        v39 = *(_WORD *)(v136 + 20);
        v40 = (_WORD)v123 - *(_WORD *)(v136 + 24);
        v137 = *(_DWORD *)(v136 + 40);
        LOWORD(v138) = *(_WORD *)(v136 + 28);
        HIWORD(v138) = *(_WORD *)(v136 + 32);
        v139 = 1;
        v141 = *(_WORD *)(v136 + 36);
        v140 = 4;
        sub_10067550(SLODWORD(a3), (int)&v137, 0, 0, v25 + v39, v40, SHIWORD(v138), v138);
        v41 = *(_DWORD *)(v136 + 12) + v134;
        v42 = *(_DWORD *)(v136 + 16) + v133;
        if ( v142 )
        {
          v43 = *(_WORD *)(LODWORD(a3) + 44);
          v44 = *(_WORD *)(LODWORD(a3) + 34);
          v131 = *(_WORD *)(LODWORD(a3) + 46);
          v45 = *(_WORD *)(LODWORD(a3) + 32);
          v130 = v43;
          LOWORD(v126) = v45;
          HIWORD(v126) = v44;
          v46 = v25 + v143;
          v47 = (int)v123 + v129;
          v48 = v125;
          *(_WORD *)(LODWORD(a3) + 34) = v125;
          *(_WORD *)(LODWORD(a3) + 32) = v48;
          *(_WORD *)(LODWORD(a3) + 44) = v47;
          v122 = (int *)2;
          v121 = (int *)(v47 - (v42 >> 16));
          v120 = (char *)(v46 + (v41 >> 16));
          v119 = (int *)LODWORD(a3);
          *(_WORD *)(LODWORD(a3) + 46) = v46;
          sub_10066F20((int)v119, (__int16)v120, (__int16)v121, (char)v122);
          v49 = v130;
          v50 = HIWORD(v126);
          *(_WORD *)(LODWORD(a3) + 46) = v131;
          v51 = v126;
          *(_WORD *)(LODWORD(a3) + 44) = v49;
          *(_WORD *)(LODWORD(a3) + 34) = v50;
          *(_WORD *)(LODWORD(a3) + 32) = v51;
        }
        v123 = (int *)((char *)v123 - (v42 >> 16));
        v25 += v41 >> 16;
        v134 = (unsigned __int16)v41;
        v133 = (unsigned __int16)v42;
      }
      else
      {
        if ( !v127 )
          return 1;
        v122 = &v144;
        v121 = (int *)(signed __int16)v123;
        v120 = (char *)(signed __int16)v25;
        v119 = (int *)a5;
        LODWORD(v118) = (signed __int16)v25;
        sub_10003570(v127, (int)&v152, *(float *)(a1 + 272), a5, (signed __int16)v25, (signed __int16)v123, (int)&v144);
        v25 += v144;
        v123 = (int *)((char *)v123 + v145);
        v30 = &v151;
        v31 = &v153;
        v32 = 4;
        do
        {
          v33 = *(_WORD *)(LODWORD(a3) + 40);
          *((_WORD *)v30 - 1) = *((_WORD *)v31 - 2) - *(_WORD *)(LODWORD(a3) + 42);
          *(_WORD *)v30 = *(_WORD *)v31 - v33;
          v31 += 8;
          v30 += 4;
          --v32;
        }
        while ( v32 );
        v34 = *(_DWORD *)(LODWORD(a3) + 36);
        v35 = *(_DWORD *)(LODWORD(a3) + 48);
        v36 = v130;
        v37 = v131;
        v122 = (int *)&v154;
        *(_DWORD *)(LODWORD(a3) + 48) = v34;
        v121 = (int *)56;
        v120 = &v150;
        v119 = (int *)4;
        v118 = a3;
        *(_WORD *)(LODWORD(a3) + 46) = v37;
        *(_WORD *)(LODWORD(a3) + 44) = v36;
        sub_10066830(SLODWORD(v118), (signed int)v119, (int)v120, (int)v121, (int)v122);
        v38 = v130;
        *(_DWORD *)(LODWORD(a3) + 48) = v35;
        *(_WORD *)(LODWORD(a3) + 46) = v37;
        *(_WORD *)(LODWORD(a3) + 44) = v38;
      }
      ++v124;
      v26 = v128;
    }
    while ( v124 );
  }
  if ( (unsigned __int16)a4 & 0x100 )
  {
    v52 = v25 - v135;
    v53 = (_WORD)v123 - HIWORD(v135);
    *(_WORD *)(LODWORD(a3) + 46) = v52;
    *(_WORD *)(LODWORD(a3) + 44) = v53;
    if ( !v26 )
    {
      *(_WORD *)(LODWORD(a3) + 46) = v52
                                   - (signed int)((double)*(signed int *)(v127 + 72)
                                                / (double)*(_WORD *)(v127 + 76)
                                                * (*(float *)(a1 + 272)
                                                 * (double)(unsigned int)dword_109B41A0
                                                 / 72.0));
      return 0;
    }
    if ( v26 == 64 )
    {
      v54 = (double)*(signed int *)(v127 + 64);
      v129 = *(_WORD *)(v127 + 76);
      *(_WORD *)(LODWORD(a3) + 44) = v53
                                   - (signed int)(v54
                                                / (double)v129
                                                * (*(float *)(a1 + 272)
                                                 * (double)(unsigned int)dword_109B41A0
                                                 / 72.0));
    }
  }
  return 0;
}
// 108F1FC4: using guessed type int dword_108F1FC4;
// 109B41A0: using guessed type int dword_109B41A0;

//----- (10004DC0) --------------------------------------------------------
int __cdecl sub_10004DC0(unsigned int a1, _BYTE *a2, unsigned int a3)
{
  _BYTE *v3; // edi@1
  unsigned int v4; // ecx@1
  unsigned int v5; // esi@1
  int result; // eax@2
  unsigned int i; // ebp@3
  unsigned int v8; // ebx@4
  int v9; // eax@8
  signed int v10; // edx@8
  int v11; // ecx@9
  int v12; // esi@9
  int v13; // ecx@9
  int v14; // esi@9
  int v15; // ecx@9
  int v16; // esi@9
  unsigned int v17; // [sp+Ch] [bp+4h]@7

  v3 = a2;
  v4 = (unsigned __int16)a1;
  v5 = a1 >> 16;
  if ( a2 )
  {
    for ( i = a3; i; v5 %= 0xFFF1u )
    {
      v8 = i;
      if ( i >= 0x15B0 )
        v8 = 5552;
      i -= v8;
      if ( (signed int)v8 >= 16 )
      {
        v17 = v8 >> 4;
        v8 += -16 * (v8 >> 4);
        do
        {
          v9 = (int)(v3 + 1);
          v10 = 4;
          do
          {
            v11 = *(_BYTE *)(v9 - 1) + v4;
            v12 = v11 + v5;
            v13 = *(_BYTE *)v9 + v11;
            v14 = v13 + v12;
            v15 = *(_BYTE *)(v9 + 1) + v13;
            v16 = v15 + v14;
            v4 = *(_BYTE *)(v9 + 2) + v15;
            v5 = v4 + v16;
            v9 += 4;
            --v10;
          }
          while ( v10 );
          v3 += 16;
          --v17;
        }
        while ( v17 );
      }
      for ( ; v8; --v8 )
      {
        v4 += *v3++;
        v5 += v4;
      }
      v4 %= 0xFFF1u;
    }
    result = v4 | (v5 << 16);
  }
  else
  {
    result = (int)(a2 + 1);
  }
  return result;
}

//----- (10004EC0) --------------------------------------------------------
signed int __cdecl sub_10004EC0(int a1)
{
  signed int result; // eax@3

  if ( a1 && *(_DWORD *)(a1 + 24) )
  {
    *(_DWORD *)(a1 + 24) = 0;
    result = 0;
  }
  else
  {
    result = -2;
  }
  return result;
}

//----- (10004EE0) --------------------------------------------------------
signed int __usercall sub_10004EE0@<eax>(unsigned int *a1@<eax>, _DWORD *a2, unsigned int a3, int a4, int a5, int a6, int *a7, int a8, unsigned int *a9, unsigned int *a10)
{
  unsigned int v10; // ebp@1
  unsigned int *v11; // edi@1
  _DWORD *v12; // eax@1
  unsigned int v13; // edx@1
  signed int result; // eax@4
  unsigned int v15; // eax@5
  int v16; // ecx@7
  signed int v17; // edx@9
  signed int v18; // esi@13
  int i; // edi@13
  int v20; // esi@14
  int v21; // edi@16
  int v22; // esi@16
  int v23; // edi@17
  int v24; // ebx@17
  int v25; // esi@17
  int v26; // edi@18
  _DWORD *v27; // edi@20
  unsigned int v28; // ebx@20
  int v29; // esi@21
  int v30; // edi@22
  signed int v31; // edi@24
  int v32; // ebx@24
  unsigned int v33; // esi@25
  int v34; // edx@27
  int l; // ebp@28
  unsigned int v36; // edx@31
  unsigned int v37; // ecx@33
  int *v38; // ebp@34
  int v39; // eax@34
  unsigned int v40; // edi@36
  unsigned int v41; // eax@36
  unsigned int v42; // edx@39
  int v43; // eax@40
  unsigned int v44; // eax@41
  int v45; // ecx@41
  int v46; // esi@48
  signed int v47; // edx@50
  unsigned int v48; // eax@50
  int v49; // ecx@51
  unsigned int j; // eax@54
  int v51; // [sp+Ch] [bp-F4h]@7
  unsigned int v52; // [sp+Ch] [bp-F4h]@24
  signed int v53; // [sp+Ch] [bp-F4h]@31
  unsigned int v54; // [sp+10h] [bp-F0h]@9
  int v55; // [sp+14h] [bp-ECh]@24
  int v56; // [sp+18h] [bp-E8h]@26
  _DWORD *v57; // [sp+1Ch] [bp-E4h]@21
  int v58; // [sp+1Ch] [bp-E4h]@31
  unsigned int k; // [sp+20h] [bp-E0h]@24
  int *v60; // [sp+24h] [bp-DCh]@25
  int v61; // [sp+28h] [bp-D8h]@0
  unsigned int v62; // [sp+2Ch] [bp-D4h]@0
  int v63; // [sp+30h] [bp-D0h]@24
  unsigned int *v64; // [sp+34h] [bp-CCh]@24
  int v65; // [sp+38h] [bp-C8h]@11
  int v66; // [sp+3Ch] [bp-C4h]@31
  int v67; // [sp+40h] [bp-C0h]@16
  int v68; // [sp+44h] [bp-BCh]@1
  int v69; // [sp+48h] [bp-B8h]@1
  int v70; // [sp+4Ch] [bp-B4h]@1
  int v71; // [sp+50h] [bp-B0h]@1
  int v72; // [sp+54h] [bp-ACh]@1
  int v73; // [sp+58h] [bp-A8h]@1
  int v74; // [sp+5Ch] [bp-A4h]@1
  int v75; // [sp+60h] [bp-A0h]@1
  int v76; // [sp+64h] [bp-9Ch]@1
  int v77; // [sp+68h] [bp-98h]@1
  int v78; // [sp+6Ch] [bp-94h]@1
  int v79; // [sp+70h] [bp-90h]@1
  int v80; // [sp+74h] [bp-8Ch]@1
  int v81; // [sp+78h] [bp-88h]@1
  int v82; // [sp+7Ch] [bp-84h]@1
  int v83; // [sp+80h] [bp-80h]@1
  int v84; // [sp+84h] [bp-7Ch]@22
  int v85[14]; // [sp+88h] [bp-78h]@17
  int v86; // [sp+C0h] [bp-40h]@41
  int v87[15]; // [sp+C4h] [bp-3Ch]@24
  int v88; // [sp+108h] [bp+8h]@24

  v10 = 0;
  v11 = a1;
  v12 = a2;
  v68 = 0;
  v69 = 0;
  v70 = 0;
  v71 = 0;
  v72 = 0;
  v73 = 0;
  v74 = 0;
  v75 = 0;
  v76 = 0;
  v77 = 0;
  v78 = 0;
  v79 = 0;
  v80 = 0;
  v81 = 0;
  v82 = 0;
  v83 = 0;
  v13 = a3;
  do
  {
    ++*(&v68 + *v12);
    ++v12;
    --v13;
  }
  while ( v13 );
  if ( v68 == a3 )
  {
    *a7 = 0;
    *v11 = 0;
    return 0;
  }
  v15 = 1;
  if ( !v69 )
  {
    do
      ++v15;
    while ( !*(&v68 + v15) );
  }
  v16 = v15;
  v51 = v15;
  if ( *v11 > v15 )
    v15 = *v11;
  v54 = v15;
  v17 = 15;
  if ( !v83 )
  {
    do
      --v17;
    while ( !*(&v68 + v17) );
  }
  v65 = v17;
  if ( (signed int)v15 > v17 )
  {
    v54 = v17;
    v15 = v17;
  }
  v18 = 1 << v16;
  *v11 = v15;
  for ( i = v16; i < v17; v18 = 2 * v20 )
  {
    v20 = v18 - *(&v68 + i);
    if ( v20 < 0 )
      return -3;
    ++i;
  }
  v21 = *(&v68 + v17);
  v22 = v18 - v21;
  v67 = v22;
  if ( v22 < 0 )
    return -3;
  v23 = v22 + v21;
  v24 = v17 - 1;
  v25 = 0;
  *(&v68 + v17) = v23;
  v85[0] = 0;
  if ( v17 != 1 )
  {
    v26 = 0;
    do
    {
      v25 += *(int *)((char *)&v69 + v26 * 4);
      ++v26;
      --v24;
      v85[v26] = v25;
    }
    while ( v24 );
  }
  v27 = a2;
  v28 = 0;
  do
  {
    v29 = *v27;
    ++v27;
    v57 = v27;
    if ( v29 )
    {
      v30 = *(&v84 + v29);
      a10[v30] = v28;
      v16 = v51;
      *(&v84 + v29) = v30 + 1;
      v27 = v57;
    }
    ++v28;
  }
  while ( v28 < a3 );
  v88 = *(&v84 + v17);
  v31 = -1;
  v32 = -v15;
  v84 = 0;
  k = 0;
  v64 = a10;
  v87[0] = 0;
  v63 = 0;
  v52 = 0;
  v55 = v16;
  if ( v16 > v17 )
  {
LABEL_60:
    if ( v67 && v17 != 1 )
      result = -5;
    else
      result = 0;
  }
  else
  {
    v33 = v62;
    v60 = &v68 + v16;
    while ( 1 )
    {
      v56 = *v60;
      if ( *v60 )
        break;
LABEL_59:
      v17 = v65;
      ++v60;
      v55 = ++v16;
      if ( v16 > v65 )
        goto LABEL_60;
    }
    while ( 1 )
    {
      --v56;
      v34 = v32 + v15;
      if ( (signed int)(v32 + v15) < v16 )
        break;
LABEL_44:
      BYTE1(v61) = v16 - v32;
      if ( v64 < &a10[v88] )
      {
        v33 = *v64;
        if ( *v64 >= a4 )
        {
          v46 = 4 * (v33 - a4);
          LOBYTE(v61) = *(_BYTE *)(v46 + a6) + 80;
          v33 = *(_DWORD *)(v46 + a5);
        }
        else
        {
          LOBYTE(v61) = v33 < 0x100 ? 0 : 96;
        }
        ++v64;
      }
      else
      {
        LOBYTE(v61) = -64;
      }
      v47 = 1 << (v16 - v32);
      v48 = v10 >> v32;
      if ( v10 >> v32 < v52 )
      {
        v49 = v63 + 8 * v48;
        do
        {
          *(_DWORD *)v49 = v61;
          *(_DWORD *)(v49 + 4) = v33;
          v48 += v47;
          v49 += 8 * v47;
        }
        while ( v48 < v52 );
        v10 = k;
      }
      for ( j = 1 << (v55 - 1); v10 & j; j >>= 1 )
        v10 ^= j;
      v10 ^= j;
      for ( k = v10; (v10 & ((1 << v32) - 1)) != *(&v84 + v31); --v31 )
        v32 -= v54;
      v15 = v54;
      v16 = v55;
      if ( !v56 )
        goto LABEL_59;
    }
    for ( l = v32 - v15; ; l = v58 )
    {
      v66 = v15 + v34;
      v32 += v15;
      ++v31;
      v36 = v65 - v32;
      v53 = v31;
      v58 = v15 + l;
      if ( v65 - v32 > v15 )
        v36 = v15;
      v37 = v16 - v32;
      if ( 1 << v37 > (unsigned int)(v56 + 1) )
      {
        v38 = v60;
        v39 = -1 - v56 + (1 << v37);
        if ( v37 < v36 )
        {
          while ( ++v37 < v36 )
          {
            v40 = v38[1];
            ++v38;
            v41 = 2 * v39;
            if ( v41 <= v40 )
              break;
            v39 = v41 - v40;
          }
        }
        v31 = v53;
      }
      v52 = 1 << v37;
      v42 = *a9 + (1 << v37);
      if ( v42 > 0x5A0 )
        break;
      v43 = a8 + 8 * *a9;
      *a9 = v42;
      v10 = k;
      v87[v31] = v43;
      v63 = v43;
      if ( v31 )
      {
        LOBYTE(v61) = v37;
        v44 = k >> v58;
        v45 = *(&v86 + v31);
        BYTE1(v61) = v54;
        v33 = ((v63 - v45) >> 3) - (k >> v58);
        *(_DWORD *)(v45 + 8 * v44) = v61;
        *(&v84 + v31) = k;
        *(_DWORD *)(v45 + 8 * v44 + 4) = v33;
      }
      else
      {
        *a7 = v43;
      }
      v34 = v66;
      v16 = v55;
      if ( v66 >= v55 )
        goto LABEL_44;
      v15 = v54;
    }
    result = -3;
  }
  return result;
}
// 10004EE0: using guessed type int var_78[14];
// 10004EE0: using guessed type int var_3C[15];

//----- (10005380) --------------------------------------------------------
int (__cdecl *__usercall sub_10005380@<eax>(_DWORD *a1@<eax>, int a2@<esi>, int a3))(_DWORD, _DWORD, _DWORD)
{
  int v3; // eax@3
  int (__cdecl *result)(_DWORD, _DWORD, _DWORD); // eax@3

  if ( a1 )
    *a1 = *(_DWORD *)(a2 + 14124);
  v3 = *(_DWORD *)(a2 + 14104);
  *(_DWORD *)(a2 + 14112) = v3;
  *(_DWORD *)(a2 + 14116) = v3;
  result = *(int (__cdecl **)(_DWORD, _DWORD, _DWORD))(a2 + 14120);
  *(_BYTE *)a2 = 0;
  *(_DWORD *)(a2 + 1424) = 0;
  *(_DWORD *)(a2 + 1428) = 0;
  if ( result )
  {
    result = (int (__cdecl *)(_DWORD, _DWORD, _DWORD))result(0, 0, 0);
    *(_DWORD *)(a2 + 14124) = result;
    *(_DWORD *)(a3 + 28) = result;
  }
  return result;
}

//----- (100053D0) --------------------------------------------------------
int __usercall sub_100053D0@<eax>(int result@<eax>, char a2, char a3, int a4, int a5)
{
  *(_BYTE *)(result + 16) = a2;
  *(_BYTE *)(result + 17) = a3;
  *(_BYTE *)result = 0;
  *(_DWORD *)(result + 20) = a4;
  *(_DWORD *)(result + 24) = a5;
  return result;
}

//----- (100053F0) --------------------------------------------------------
signed int __cdecl sub_100053F0(int a1, int a2, int a3, int a4, int a5, int a6)
{
  _BYTE *v6; // ebp@1
  unsigned int v7; // ecx@1
  unsigned int v8; // edx@1
  _BYTE *v9; // edi@1
  unsigned int v10; // eax@1
  int v11; // esi@6
  int v12; // ebx@8
  int v13; // esi@8
  int v14; // ecx@8
  int v15; // ecx@11
  int v16; // ebx@13
  unsigned int v17; // eax@13
  unsigned int v18; // edx@13
  int v19; // esi@14
  int v20; // ebx@16
  int v21; // esi@16
  unsigned int v22; // edx@16
  unsigned int v23; // eax@16
  int v24; // ecx@18
  int v25; // ecx@18
  int i; // ebx@19
  char v27; // cl@21
  int v28; // ebx@21
  int v29; // ecx@21
  int v30; // esi@22
  _BYTE *v31; // edi@22
  _BYTE *v32; // esi@22
  unsigned int v33; // ecx@23
  unsigned int v34; // ecx@32
  int v35; // ebp@34
  int v36; // ebx@34
  unsigned int v38; // ecx@35
  int v39; // ebp@37
  int v40; // ebx@37
  int v41; // esi@37
  int v42; // eax@37
  unsigned int v43; // ecx@38
  int v44; // ebp@41
  int v45; // ebx@41
  int v46; // ebp@44
  unsigned int v47; // [sp+10h] [bp-14h]@1
  unsigned int v48; // [sp+14h] [bp-10h]@2
  _BYTE *v49; // [sp+18h] [bp-Ch]@1
  int v50; // [sp+1Ch] [bp-8h]@4
  int v51; // [sp+20h] [bp-4h]@4
  unsigned int v52; // [sp+28h] [bp+4h]@21
  unsigned int v53; // [sp+2Ch] [bp+8h]@13
  int v54; // [sp+2Ch] [bp+8h]@24

  v6 = *(_BYTE **)a6;
  v7 = *(_DWORD *)(a5 + 14112);
  v8 = *(_DWORD *)(a5 + 1428);
  v9 = *(_BYTE **)(a5 + 14116);
  v47 = *(_DWORD *)(a6 + 4);
  v10 = *(_DWORD *)(a5 + 1424);
  v49 = *(_BYTE **)a6;
  if ( (unsigned int)v9 >= v7 )
    v48 = *(_DWORD *)(a5 + 14108) - (_DWORD)v9;
  else
    v48 = v7 - (_DWORD)v9 - 1;
  v50 = dword_1008BA28[a1];
  v51 = dword_1008BA28[a2];
  while ( 1 )
  {
    if ( v10 < 0x14 )
    {
      do
      {
        --v47;
        v11 = *v6 << v10;
        v10 += 8;
        ++v6;
        v8 |= v11;
      }
      while ( v10 < 0x14 );
      v49 = v6;
    }
    v12 = *(_BYTE *)(a3 + 8 * (v8 & v50));
    v13 = a3 + 8 * (v8 & v50);
    v14 = *(_BYTE *)(v13 + 1);
    v8 >>= v14;
    if ( v12 )
      break;
LABEL_29:
    v10 -= v14;
    *v9++ = *(_BYTE *)(v13 + 4);
    --v48;
LABEL_30:
    if ( v48 < 0x102 || v47 < 0xA )
    {
      v34 = *(_DWORD *)(a6 + 4) - v47;
      if ( v10 >> 3 < v34 )
        v34 = v10 >> 3;
      v35 = (int)&v6[-v34];
      *(_DWORD *)(a6 + 4) = v34 + v47;
      v36 = v35 - *(_DWORD *)a6;
      *(_DWORD *)a6 = v35;
      *(_DWORD *)(a6 + 8) += v36;
      *(_DWORD *)(a5 + 14116) = v9;
      *(_DWORD *)(a5 + 1424) = v10 - 8 * v34;
      *(_DWORD *)(a5 + 1428) = v8;
      return 0;
    }
  }
  v10 -= *(_BYTE *)(v13 + 1);
  if ( v12 & 0x10 )
  {
LABEL_13:
    v16 = v12 & 0xF;
    v17 = v10 - v16;
    v53 = *(_DWORD *)(v13 + 4) + (v8 & dword_1008BA28[v16]);
    v18 = v8 >> v16;
    if ( v17 < 0xF )
    {
      do
      {
        --v47;
        v19 = *v6 << v17;
        v17 += 8;
        ++v6;
        v18 |= v19;
      }
      while ( v17 < 0xF );
      v49 = v6;
    }
    v20 = *(_BYTE *)(a4 + 8 * (v18 & v51));
    v21 = a4 + 8 * (v18 & v51);
    v22 = v18 >> *(_BYTE *)(v21 + 1);
    v23 = v17 - *(_BYTE *)(v21 + 1);
    if ( !(v20 & 0x10) )
    {
      while ( !(v20 & 0x40) )
      {
        v24 = *(_DWORD *)(v21 + 4) + (v22 & dword_1008BA28[v20]);
        v20 = *(_BYTE *)(v21 + 8 * v24);
        v21 += 8 * v24;
        v25 = *(_BYTE *)(v21 + 1);
        v22 >>= v25;
        v23 -= v25;
        if ( v20 & 0x10 )
          goto LABEL_19;
      }
      v38 = *(_DWORD *)(a6 + 4) - v47;
      if ( v23 >> 3 < v38 )
        v38 = v23 >> 3;
      v39 = (int)&v6[-v38];
      *(_DWORD *)(a6 + 4) = v38 + v47;
      v40 = v39 - *(_DWORD *)a6;
      *(_DWORD *)a6 = v39;
      *(_DWORD *)(a6 + 8) += v40;
      v41 = a5;
      *(_DWORD *)(a5 + 1428) = v22;
      v42 = v23 - 8 * v38;
      goto LABEL_45;
    }
LABEL_19:
    for ( i = v20 & 0xF; v23 < (unsigned __int16)i; ++v49 )
    {
      --v47;
      v22 |= *v6 << v23;
      v6 = v49 + 1;
      v23 += 8;
    }
    v10 = v23 - i;
    v52 = *(_DWORD *)(v21 + 4) + (v22 & dword_1008BA28[i]);
    v27 = i;
    v28 = v53;
    v48 -= v53;
    v8 = v22 >> v27;
    v29 = *(_DWORD *)(a5 + 14104);
    if ( (unsigned int)&v9[-v29] < v52 )
    {
      v33 = v52 + v29 - (_DWORD)v9;
      v32 = (_BYTE *)(*(_DWORD *)(a5 + 14108) - v33);
      if ( v53 > v33 )
      {
        v54 = v53 - v33;
        do
        {
          *v9++ = *v32++;
          --v33;
        }
        while ( v33 );
        v32 = *(_BYTE **)(a5 + 14104);
        v28 = v54;
      }
    }
    else
    {
      v30 = (int)&v9[-v52];
      v31 = v9 + 1;
      *(v31 - 1) = *(_BYTE *)v30;
      *v31 = *(_BYTE *)(v30 + 1);
      v9 = v31 + 1;
      v32 = (_BYTE *)(v30 + 2);
      v28 = v53 - 2;
    }
    do
    {
      *v9++ = *v32++;
      --v28;
    }
    while ( v28 );
    goto LABEL_30;
  }
  while ( !(v12 & 0x40) )
  {
    v15 = *(_DWORD *)(v13 + 4) + (v8 & dword_1008BA28[v12]);
    v12 = *(_BYTE *)(v13 + 8 * v15);
    v13 += 8 * v15;
    v14 = *(_BYTE *)(v13 + 1);
    v8 >>= v14;
    if ( !v12 )
      goto LABEL_29;
    v10 -= *(_BYTE *)(v13 + 1);
    if ( v12 & 0x10 )
      goto LABEL_13;
  }
  v43 = *(_DWORD *)(a6 + 4) - v47;
  if ( !(v12 & 0x20) )
  {
    if ( v10 >> 3 < v43 )
      v43 = v10 >> 3;
    v46 = (int)&v6[-v43];
    *(_DWORD *)(a6 + 4) = v43 + v47;
    *(_DWORD *)(a6 + 8) += v46 - *(_DWORD *)a6;
    *(_DWORD *)a6 = v46;
    v41 = a5;
    *(_DWORD *)(a5 + 1428) = v8;
    v42 = v10 - 8 * v43;
LABEL_45:
    *(_DWORD *)(v41 + 14116) = v9;
    *(_DWORD *)(v41 + 1424) = v42;
    return -3;
  }
  if ( v10 >> 3 < v43 )
    v43 = v10 >> 3;
  *(_DWORD *)(a6 + 4) = v43 + v47;
  v44 = (int)&v6[-v43];
  v45 = v44 - *(_DWORD *)a6;
  *(_DWORD *)a6 = v44;
  *(_DWORD *)(a6 + 8) += v45;
  *(_DWORD *)(a5 + 1428) = v8;
  *(_DWORD *)(a5 + 14116) = v9;
  *(_DWORD *)(a5 + 1424) = v10 - 8 * v43;
  return 1;
}
// 1008BA28: using guessed type int dword_1008BA28[];

//----- (100057A0) --------------------------------------------------------
int __usercall sub_100057A0@<eax>(int a1@<edi>, int a2@<esi>, int a3)
{
  const void *v3; // ebx@1
  unsigned int v4; // ebp@1
  size_t v5; // eax@3
  size_t v6; // ebp@3
  int (__cdecl *v7)(_DWORD, const void *, size_t); // eax@8
  int v8; // eax@9
  int v9; // eax@10
  int v10; // ebx@10
  const void *v11; // ebx@11
  size_t v12; // eax@13
  size_t v13; // ebp@13
  int (__cdecl *v14)(_DWORD, const void *, size_t); // eax@15
  int v15; // eax@16
  int result; // eax@18
  void *v17; // [sp+8h] [bp-4h]@1
  char *v18; // [sp+8h] [bp-4h]@10

  v3 = *(const void **)(a2 + 14112);
  v4 = *(_DWORD *)(a2 + 14116);
  v17 = *(void **)(a1 + 12);
  if ( (unsigned int)v3 > v4 )
    v4 = *(_DWORD *)(a2 + 14108);
  v5 = *(_DWORD *)(a1 + 16);
  v6 = v4 - (_DWORD)v3;
  if ( v6 > v5 )
    v6 = *(_DWORD *)(a1 + 16);
  if ( v6 && a3 == -5 )
    a3 = 0;
  *(_DWORD *)(a1 + 20) += v6;
  *(_DWORD *)(a1 + 16) = v5 - v6;
  v7 = *(int (__cdecl **)(_DWORD, const void *, size_t))(a2 + 14120);
  if ( v7 )
  {
    v8 = v7(*(_DWORD *)(a2 + 14124), v3, v6);
    *(_DWORD *)(a2 + 14124) = v8;
    *(_DWORD *)(a1 + 28) = v8;
  }
  memcpy(v17, v3, v6);
  v9 = *(_DWORD *)(a2 + 14108);
  v18 = (char *)v17 + v6;
  v10 = (int)v3 + v6;
  if ( v10 == v9 )
  {
    v11 = *(const void **)(a2 + 14104);
    if ( *(_DWORD *)(a2 + 14116) == v9 )
      *(_DWORD *)(a2 + 14116) = v11;
    v12 = *(_DWORD *)(a1 + 16);
    v13 = *(_DWORD *)(a2 + 14116) - (_DWORD)v11;
    if ( v13 > v12 )
      v13 = *(_DWORD *)(a1 + 16);
    *(_DWORD *)(a1 + 20) += v13;
    *(_DWORD *)(a1 + 16) = v12 - v13;
    v14 = *(int (__cdecl **)(_DWORD, const void *, size_t))(a2 + 14120);
    if ( v14 )
    {
      v15 = v14(*(_DWORD *)(a2 + 14124), v11, v13);
      *(_DWORD *)(a2 + 14124) = v15;
      *(_DWORD *)(a1 + 28) = v15;
    }
    memcpy(v18, v11, v13);
    v18 += v13;
    v10 = (int)v11 + v13;
  }
  *(_DWORD *)(a1 + 12) = v18;
  result = a3;
  *(_DWORD *)(a2 + 14112) = v10;
  return result;
}

//----- (100058E0) --------------------------------------------------------
signed int __usercall sub_100058E0@<eax>(int a1@<edx>, unsigned int *a2@<esi>, _DWORD *a3, int *a4)
{
  signed int result; // eax@1
  int v5; // [sp+0h] [bp-50h]@1
  char v6; // [sp+4h] [bp-4Ch]@1

  v5 = 0;
  result = sub_10004EE0(a2, a3, 0x13u, 19, 0, 0, a4, a1, (unsigned int *)&v5, (unsigned int *)&v6);
  if ( result == -5 || !*a2 )
    result = -3;
  return result;
}

//----- (10005930) --------------------------------------------------------
signed int __usercall sub_10005930@<eax>(unsigned int *a1@<eax>, int *a2@<ecx>, int a3@<ebx>, unsigned int a4@<esi>, unsigned int a5, _DWORD *a6, unsigned int *a7, unsigned int *a8, int *a9)
{
  unsigned int *v9; // edi@1
  signed int result; // eax@6
  int v11; // [sp+8h] [bp-4h]@1

  v9 = a1;
  v11 = 0;
  if ( sub_10004EE0(a7, a6, a4, 257, (int)&unk_1008BAC0, (int)&unk_1008BB40, a2, a3, (unsigned int *)&v11, a1)
    || !*a7
    || sub_10004EE0(a8, &a6[a4], a5, 0, (int)&unk_1008BBC0, (int)&unk_1008BC38, a9, a3, (unsigned int *)&v11, v9)
    || !*a8 && a4 > 0x101 )
  {
    result = -3;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (100059D0) --------------------------------------------------------
int __usercall sub_100059D0@<eax>(_DWORD *a1@<eax>, _DWORD *a2@<edx>, _DWORD *a3@<ecx>, _DWORD *a4)
{
  *a1 = 9;
  *a3 = 5;
  *a2 = &unk_1008BCB0;
  *a4 = &unk_1008CCB0;
  return 0;
}

//----- (100059F0) --------------------------------------------------------
signed int __cdecl sub_100059F0(int a1, int a2, int a3, int a4)
{
  int v4; // ecx@1
  signed int v5; // ebx@1

  v4 = a2;
  v5 = 0;
  if ( a2 < 0 )
  {
    v5 = 1;
    v4 = -a2;
  }
  if ( (1 << v4) + 14152 <= a4 && !(a3 & 3) )
  {
    *(_DWORD *)(a1 + 24) = a3;
    *(_DWORD *)(a3 + 16) = v4;
    *(_DWORD *)(a3 + 12) = v5;
    *(_DWORD *)(a3 + 4) = 0;
    *(_DWORD *)(a3 + 20) = a3 + 24;
    *(_DWORD *)(a3 + 14128) = a3 + 14152;
    *(_DWORD *)(*(_DWORD *)(a3 + 20) + 14108) = (1 << v4) + *(_DWORD *)(*(_DWORD *)(a3 + 20) + 14104);
    **(_BYTE **)(a3 + 20) = 0;
    *(_DWORD *)(*(_DWORD *)(a3 + 20) + 1428) = 0;
    *(_DWORD *)(*(_DWORD *)(a3 + 20) + 1424) = 0;
    *(_DWORD *)(*(_DWORD *)(a3 + 20) + 14124) = 0;
    *(_DWORD *)(*(_DWORD *)(a3 + 20) + 1420) = 0;
    *(_DWORD *)(*(_DWORD *)(a3 + 20) + 14112) = 0;
    *(_DWORD *)(*(_DWORD *)(a3 + 20) + 14116) = 0;
    if ( *(_DWORD *)(a3 + 12) )
      *(_DWORD *)(*(_DWORD *)(a3 + 20) + 14120) = 0;
    else
      *(_DWORD *)(*(_DWORD *)(a3 + 20) + 14120) = sub_10004DC0;
    sub_10005380(0, *(_DWORD *)(a3 + 20), a1);
    JUMPOUT(&loc_100058A0);
  }
  return -4;
}

//----- (10005AE0) --------------------------------------------------------
signed int __cdecl sub_10005AE0(int a1)
{
  signed int result; // eax@2
  int v2; // ecx@3
  int v3; // esi@3

  if ( a1 )
  {
    v2 = *(_DWORD *)(a1 + 24);
    *(_DWORD *)(a1 + 8) = 0;
    *(_DWORD *)(a1 + 20) = 0;
    v3 = *(_DWORD *)(v2 + 20);
    *(_BYTE *)v2 = *(_DWORD *)(v2 + 12) != 0 ? 7 : 0;
    sub_10005380(0, v3, a1);
    result = 0;
  }
  else
  {
    result = -2;
  }
  return result;
}

//----- (10005AF0) --------------------------------------------------------
int __usercall sub_10005AF0@<eax>(int a1@<eax>, int a2@<ecx>, int a3)
{
  int v3; // edi@1
  _BYTE *v4; // ebx@1
  int v5; // esi@1
  _BYTE *v6; // edx@1
  unsigned int v7; // ebp@1
  unsigned int v8; // eax@1
  unsigned int v9; // eax@2
  unsigned int v10; // ecx@4
  int v11; // ecx@8
  signed int v12; // eax@8
  int v13; // ecx@8
  unsigned int v14; // eax@8
  int v15; // ecx@13
  int v16; // eax@16
  int v17; // eax@17
  int v18; // ecx@17
  int v19; // eax@17
  int v20; // eax@27
  int v21; // eax@28
  int v22; // ecx@28
  int v23; // ecx@28
  int v24; // eax@31
  int v25; // eax@32
  int v26; // ecx@32
  int v27; // eax@32
  int v28; // eax@38
  int v29; // eax@39
  int v30; // ecx@39
  int v31; // ecx@40
  int v32; // eax@41
  unsigned int v33; // eax@46
  unsigned int v34; // ecx@46
  int v35; // eax@51
  unsigned int v36; // eax@51
  unsigned int v37; // ecx@55
  unsigned int v38; // eax@55
  bool v39; // zf@61
  unsigned int v40; // eax@67
  unsigned int v41; // ecx@67
  int v42; // eax@72
  unsigned int v43; // eax@72
  unsigned int v44; // ecx@76
  unsigned int v45; // eax@76
  int v47; // eax@91
  int v48; // ecx@93
  int v49; // eax@97
  int v50; // ecx@98
  int v51; // eax@101
  int v52; // [sp-4h] [bp-2Ch]@85
  unsigned int v53; // [sp+10h] [bp-18h]@1
  unsigned int v54; // [sp+14h] [bp-14h]@1
  unsigned int v55; // [sp+18h] [bp-10h]@4
  unsigned int v56; // [sp+18h] [bp-10h]@54
  unsigned int v57; // [sp+18h] [bp-10h]@75
  _BYTE *v58; // [sp+20h] [bp-8h]@43
  int v59; // [sp+2Ch] [bp+4h]@51

  v3 = a1;
  v4 = *(_BYTE **)a1;
  v5 = a2;
  v6 = *(_BYTE **)(a2 + 14116);
  v7 = *(_DWORD *)(a2 + 1424);
  v54 = *(_DWORD *)(a1 + 4);
  v8 = *(_DWORD *)(a2 + 14112);
  v53 = *(_DWORD *)(a2 + 1428);
  if ( (unsigned int)v6 >= v8 )
    v9 = *(_DWORD *)(a2 + 14108) - (_DWORD)v6;
  else
    v9 = v8 - (_DWORD)v6 - 1;
  v10 = *(_BYTE *)(a2 + 4);
  v55 = v9;
  while ( 2 )
  {
    switch ( v10 )
    {
      case 0u:
        if ( v9 >= 0x102 && v54 >= 0xA )
        {
          *(_DWORD *)(v3 + 4) = v54;
          v11 = (int)&v4[-*(_DWORD *)v3];
          *(_DWORD *)v3 = v4;
          *(_DWORD *)(v3 + 8) += v11;
          *(_DWORD *)(v5 + 1428) = v53;
          *(_DWORD *)(v5 + 1424) = v7;
          *(_DWORD *)(v5 + 14116) = v6;
          v12 = sub_100053F0(
                  *(_BYTE *)(v5 + 20),
                  *(_BYTE *)(v5 + 21),
                  *(_DWORD *)(v5 + 24),
                  *(_DWORD *)(v5 + 28),
                  v5,
                  v3);
          v4 = *(_BYTE **)v3;
          v7 = *(_DWORD *)(v5 + 1424);
          v13 = v12;
          v54 = *(_DWORD *)(v3 + 4);
          v6 = *(_BYTE **)(v5 + 14116);
          v53 = *(_DWORD *)(v5 + 1428);
          v14 = *(_DWORD *)(v5 + 14112);
          a3 = v13;
          v9 = (unsigned int)v6 >= v14 ? *(_DWORD *)(v5 + 14108) - (_DWORD)v6 : v14 - (_DWORD)v6 - 1;
          v55 = v9;
          if ( v13 )
          {
            *(_BYTE *)(v5 + 4) = 2 * (v13 != 1) + 7;
            goto LABEL_84;
          }
        }
        v15 = *(_DWORD *)(v5 + 24);
        *(_DWORD *)(v5 + 16) = *(_BYTE *)(v5 + 20);
        *(_DWORD *)(v5 + 12) = v15;
        *(_BYTE *)(v5 + 4) = 1;
        goto LABEL_14;
      case 1u:
LABEL_14:
        if ( v7 >= *(_WORD *)(v5 + 16) )
          goto LABEL_17;
        do
        {
          if ( !v54 )
            goto LABEL_91;
          --v54;
          v16 = *v4 << v7;
          v7 += 8;
          ++v4;
          a3 = 0;
          v53 |= v16;
        }
        while ( v7 < *(_WORD *)(v5 + 16) );
LABEL_17:
        v17 = *(_DWORD *)(v5 + 12) + 8 * (v53 & dword_1008BA28[*(_DWORD *)(v5 + 16)]);
        v53 >>= *(_BYTE *)(v17 + 1);
        v18 = v17;
        v7 -= *(_BYTE *)(v17 + 1);
        v19 = *(_BYTE *)v17;
        if ( v19 )
        {
          if ( v19 & 0x10 )
          {
            *(_DWORD *)(v5 + 12) = v19 & 0xF;
            *(_DWORD *)(v5 + 8) = *(_DWORD *)(v18 + 4);
            v9 = v55;
            *(_BYTE *)(v5 + 4) = 2;
          }
          else if ( v19 & 0x40 )
          {
            if ( !(v19 & 0x20) )
              goto LABEL_92;
            v9 = v55;
            *(_BYTE *)(v5 + 4) = 7;
          }
          else
          {
            *(_DWORD *)(v5 + 16) = v19;
            v9 = v55;
            *(_DWORD *)(v5 + 12) = v18 + 8 * *(_DWORD *)(v18 + 4);
          }
        }
        else
        {
          v9 = v55;
          *(_DWORD *)(v5 + 12) = *(_DWORD *)(v18 + 4);
          *(_BYTE *)(v5 + 4) = 6;
        }
        goto LABEL_84;
      case 2u:
        if ( v7 >= *(_WORD *)(v5 + 12) )
          goto LABEL_28;
        do
        {
          if ( !v54 )
            goto LABEL_93;
          --v54;
          v20 = *v4 << v7;
          v7 += 8;
          ++v4;
          a3 = 0;
          v53 |= v20;
        }
        while ( v7 < *(_WORD *)(v5 + 12) );
LABEL_28:
        v21 = *(_DWORD *)(v5 + 12);
        v22 = v53 & dword_1008BA28[v21];
        *(_BYTE *)(v5 + 4) = 3;
        *(_DWORD *)(v5 + 8) += v22;
        v53 >>= v21;
        v23 = *(_DWORD *)(v5 + 28);
        v7 -= v21;
        *(_DWORD *)(v5 + 16) = *(_BYTE *)(v5 + 21);
        *(_DWORD *)(v5 + 12) = v23;
LABEL_29:
        if ( v7 < *(_WORD *)(v5 + 16) )
        {
          while ( v54 )
          {
            --v54;
            v24 = *v4 << v7;
            v7 += 8;
            ++v4;
            a3 = 0;
            v53 |= v24;
            if ( v7 >= *(_WORD *)(v5 + 16) )
              goto LABEL_32;
          }
LABEL_91:
          v47 = (int)&v4[-*(_DWORD *)v3];
          *(_DWORD *)(v3 + 4) = 0;
          *(_DWORD *)(v3 + 8) += v47;
          *(_DWORD *)v3 = v4;
          *(_DWORD *)(v5 + 14116) = v6;
          *(_DWORD *)(v5 + 1428) = v53;
          v52 = a3;
          goto LABEL_90;
        }
LABEL_32:
        v25 = *(_DWORD *)(v5 + 12) + 8 * (v53 & dword_1008BA28[*(_DWORD *)(v5 + 16)]);
        v53 >>= *(_BYTE *)(v25 + 1);
        v26 = v25;
        v7 -= *(_BYTE *)(v25 + 1);
        v27 = *(_BYTE *)v25;
        if ( v27 & 0x10 )
        {
          *(_DWORD *)(v5 + 12) = v27 & 0xF;
          v9 = v55;
          *(_DWORD *)(v5 + 16) = *(_DWORD *)(v26 + 4);
          *(_BYTE *)(v5 + 4) = 4;
        }
        else
        {
          if ( v27 & 0x40 )
          {
LABEL_92:
            *(_BYTE *)(v5 + 4) = 9;
            v52 = -3;
            goto LABEL_86;
          }
          *(_DWORD *)(v5 + 16) = v27;
          v9 = v55;
          *(_DWORD *)(v5 + 12) = v26 + 8 * *(_DWORD *)(v26 + 4);
        }
        goto LABEL_84;
      case 3u:
        goto LABEL_29;
      case 4u:
        if ( v7 >= *(_WORD *)(v5 + 12) )
          goto LABEL_39;
        do
        {
          if ( !v54 )
          {
LABEL_93:
            v48 = (int)&v4[-*(_DWORD *)v3];
            *(_DWORD *)(v3 + 4) = 0;
            *(_DWORD *)(v3 + 8) += v48;
            v52 = a3;
            goto LABEL_88;
          }
          --v54;
          v28 = *v4 << v7;
          v7 += 8;
          ++v4;
          a3 = 0;
          v53 |= v28;
        }
        while ( v7 < *(_WORD *)(v5 + 12) );
LABEL_39:
        v29 = *(_DWORD *)(v5 + 12);
        v30 = v53 & dword_1008BA28[v29];
        *(_BYTE *)(v5 + 4) = 5;
        *(_DWORD *)(v5 + 16) += v30;
        v53 >>= v29;
        v7 -= v29;
LABEL_40:
        v31 = *(_DWORD *)(v5 + 16);
        if ( (signed int)&v6[-*(_DWORD *)(v5 + 14104)] >= v31 )
          v32 = (int)&v6[-v31];
        else
          v32 = (int)&v6[*(_DWORD *)(v5 + 14108) - v31 - *(_DWORD *)(v5 + 14104)];
        v58 = (_BYTE *)v32;
        v9 = v55;
        if ( !*(_DWORD *)(v5 + 8) )
        {
LABEL_83:
          *(_BYTE *)(v5 + 4) = 0;
LABEL_84:
          v10 = *(_BYTE *)(v5 + 4);
          if ( v10 > 9 )
          {
LABEL_85:
            v52 = -2;
LABEL_86:
            *(_DWORD *)(v3 + 8) += &v4[-*(_DWORD *)v3];
            goto LABEL_87;
          }
          continue;
        }
        while ( 1 )
        {
          if ( !v9 )
          {
            if ( v6 != *(_BYTE **)(v5 + 14108)
              || (v33 = *(_DWORD *)(v5 + 14112), v34 = *(_DWORD *)(v5 + 14104), v33 == v34)
              || ((v6 = *(_BYTE **)(v5 + 14104), v34 >= v33) ? (v9 = *(_DWORD *)(v5 + 14108) - v34) : (v9 = v33 - v34 - 1),
                  !v9) )
            {
              *(_DWORD *)(v5 + 14116) = v6;
              v35 = sub_100057A0(v3, v5, a3);
              v6 = *(_BYTE **)(v5 + 14116);
              v59 = v35;
              v36 = *(_DWORD *)(v5 + 14112);
              if ( (unsigned int)v6 >= v36 )
                v9 = *(_DWORD *)(v5 + 14108) - (_DWORD)v6;
              else
                v9 = v36 - (_DWORD)v6 - 1;
              v56 = v9;
              if ( v6 == *(_BYTE **)(v5 + 14108) )
              {
                v37 = *(_DWORD *)(v5 + 14104);
                v38 = *(_DWORD *)(v5 + 14112);
                if ( v38 == v37 )
                {
                  v9 = v56;
                }
                else
                {
                  v6 = *(_BYTE **)(v5 + 14104);
                  if ( v37 >= v38 )
                    v9 = *(_DWORD *)(v5 + 14108) - v37;
                  else
                    v9 = v38 - v37 - 1;
                }
              }
              if ( !v9 )
                break;
            }
          }
          *v6 = *v58;
          --v9;
          ++v6;
          v39 = v58 + 1 == *(_BYTE **)(v5 + 14108);
          a3 = 0;
          v55 = v9;
          ++v58;
          if ( v39 )
            v58 = *(_BYTE **)(v5 + 14104);
          if ( !--*(_DWORD *)(v5 + 8) )
            goto LABEL_83;
        }
LABEL_94:
        *(_DWORD *)(v3 + 8) += &v4[-*(_DWORD *)v3];
        v52 = v59;
LABEL_87:
        *(_DWORD *)(v3 + 4) = v54;
LABEL_88:
        *(_DWORD *)v3 = v4;
        *(_DWORD *)(v5 + 1428) = v53;
LABEL_89:
        *(_DWORD *)(v5 + 14116) = v6;
LABEL_90:
        *(_DWORD *)(v5 + 1424) = v7;
        return sub_100057A0(v3, v5, v52);
      case 5u:
        goto LABEL_40;
      case 6u:
        if ( !v9 )
        {
          if ( v6 != *(_BYTE **)(v5 + 14108)
            || (v40 = *(_DWORD *)(v5 + 14112), v41 = *(_DWORD *)(v5 + 14104), v40 == v41)
            || ((v6 = *(_BYTE **)(v5 + 14104), v41 >= v40) ? (v9 = *(_DWORD *)(v5 + 14108) - v41) : (v9 = v40 - v41 - 1),
                !v9) )
          {
            *(_DWORD *)(v5 + 14116) = v6;
            v42 = sub_100057A0(v3, v5, a3);
            v6 = *(_BYTE **)(v5 + 14116);
            v59 = v42;
            v43 = *(_DWORD *)(v5 + 14112);
            if ( (unsigned int)v6 >= v43 )
              v9 = *(_DWORD *)(v5 + 14108) - (_DWORD)v6;
            else
              v9 = v43 - (_DWORD)v6 - 1;
            v57 = v9;
            if ( v6 == *(_BYTE **)(v5 + 14108) )
            {
              v44 = *(_DWORD *)(v5 + 14104);
              v45 = *(_DWORD *)(v5 + 14112);
              if ( v45 == v44 )
              {
                v9 = v57;
              }
              else
              {
                v6 = *(_BYTE **)(v5 + 14104);
                if ( v44 >= v45 )
                  v9 = *(_DWORD *)(v5 + 14108) - v44;
                else
                  v9 = v45 - v44 - 1;
              }
            }
            if ( !v9 )
              goto LABEL_94;
          }
        }
        *v6++ = *(_BYTE *)(v5 + 12);
        --v9;
        a3 = 0;
        v55 = v9;
        goto LABEL_83;
      case 7u:
        if ( v7 > 7 )
        {
          ++v54;
          v7 -= 8;
          --v4;
        }
        *(_DWORD *)(v5 + 14116) = v6;
        v49 = sub_100057A0(v3, v5, a3);
        v6 = *(_BYTE **)(v5 + 14116);
        if ( *(_BYTE **)(v5 + 14112) != v6 )
        {
          *(_DWORD *)(v3 + 4) = v54;
          v50 = (int)&v4[-*(_DWORD *)v3];
          *(_DWORD *)v3 = v4;
          *(_DWORD *)(v3 + 8) += v50;
          *(_DWORD *)(v5 + 1428) = v53;
          v52 = v49;
          goto LABEL_89;
        }
        *(_BYTE *)(v5 + 4) = 8;
LABEL_100:
        v52 = 1;
        goto LABEL_86;
      case 8u:
        goto LABEL_100;
      case 9u:
        v51 = (int)&v4[-*(_DWORD *)v3];
        *(_DWORD *)(v3 + 4) = v54;
        *(_DWORD *)(v3 + 8) += v51;
        *(_DWORD *)v3 = v4;
        *(_DWORD *)(v5 + 1428) = v53;
        v52 = -3;
        goto LABEL_89;
      default:
        goto LABEL_85;
    }
  }
}
// 1008BA28: using guessed type int dword_1008BA28[];

//----- (10006190) --------------------------------------------------------
int __usercall sub_10006190@<eax>(int a1@<eax>, int a2, int a3)
{
  int v3; // ebp@1
  unsigned int v4; // edx@1
  unsigned int v5; // ebx@1
  unsigned int v6; // esi@1
  int v7; // edi@1
  size_t v8; // ecx@1
  char *v9; // eax@1
  char *v10; // ecx@1
  int v11; // edx@2
  unsigned int v12; // edx@4
  int v13; // edx@8
  unsigned int v14; // eax@9
  int v15; // eax@10
  int v16; // ebx@14
  int v17; // ecx@14
  int v18; // edx@17
  char *v19; // edx@24
  unsigned int v20; // eax@25
  unsigned int v21; // ecx@25
  int v22; // eax@27
  int v23; // eax@30
  unsigned int v24; // ecx@30
  int v25; // edx@31
  char *v26; // esi@33
  unsigned int v27; // edx@34
  size_t v28; // esi@39
  bool v29; // zf@43
  int v30; // edx@47
  int v31; // ecx@48
  int v32; // edx@54
  unsigned int v33; // ecx@61
  int v34; // edx@63
  int v35; // edx@64
  int v36; // ecx@64
  unsigned int v37; // edx@64
  int v38; // edx@71
  unsigned int v39; // esi@72
  unsigned int v40; // ecx@72
  unsigned int *v41; // eax@77
  unsigned int v42; // esi@81
  int v43; // eax@81
  int v44; // edx@83
  char *v45; // ecx@84
  unsigned int v46; // eax@84
  int v47; // eax@85
  char *v48; // eax@91
  int v49; // ecx@92
  int v50; // ecx@94
  int v51; // edx@96
  int v52; // edx@97
  int v53; // edx@99
  int v55; // eax@102
  int v56; // edx@103
  int v57; // edx@106
  int v58; // [sp-4h] [bp-3Ch]@91
  size_t v59; // [sp+10h] [bp-28h]@1
  char *v60; // [sp+14h] [bp-24h]@1
  char *v61; // [sp+18h] [bp-20h]@1
  unsigned int v62; // [sp+1Ch] [bp-1Ch]@4
  int v63; // [sp+1Ch] [bp-1Ch]@69
  int v64; // [sp+1Ch] [bp-1Ch]@72
  unsigned int v65; // [sp+20h] [bp-18h]@1
  unsigned int v66; // [sp+24h] [bp-14h]@13
  unsigned int v67; // [sp+28h] [bp-10h]@13
  int v68; // [sp+2Ch] [bp-Ch]@13
  int v69; // [sp+30h] [bp-8h]@13
  unsigned int v70; // [sp+34h] [bp-4h]@69
  unsigned int v71; // [sp+3Ch] [bp+4h]@1

  v3 = a2;
  v4 = *(_DWORD *)(a2 + 14112);
  v5 = *(_DWORD *)(a2 + 1424);
  v6 = *(_DWORD *)(a2 + 1428);
  v7 = a1;
  v8 = *(_DWORD *)(a1 + 4);
  v9 = *(char **)a1;
  v59 = v8;
  v10 = *(char **)(a2 + 14116);
  v61 = v9;
  v71 = *(_DWORD *)(a2 + 1428);
  v65 = v5;
  v60 = v10;
  if ( (unsigned int)v10 >= v4 )
    v11 = *(_DWORD *)(v3 + 14108) - (_DWORD)v10;
  else
    v11 = v4 - (_DWORD)v10 - 1;
  v62 = v11;
  v12 = *(_BYTE *)v3;
  while ( 2 )
  {
    switch ( v12 )
    {
      case 0u:
        for ( ; v5 < 3; v71 = v6 )
        {
          if ( !v59 )
            goto LABEL_91;
          --v59;
          a3 = 0;
          v13 = (unsigned __int8)*v9++ << v5;
          v5 += 8;
          v61 = v9;
          v6 |= v13;
        }
        v14 = (v6 & 7) >> 1;
        *(_DWORD *)(v3 + 1420) = v6 & 1;
        if ( !v14 )
        {
          v16 = v5 - 3;
          v17 = v16 & 7;
          v5 = v16 - v17;
          v65 = v5;
          *(_BYTE *)v3 = 1;
          v71 = v6 >> 3 >> v17;
          goto LABEL_89;
        }
        v15 = v14 - 1;
        if ( !v15 )
        {
          sub_100059D0(&v67, &v69, &v66, &v68);
          sub_100053D0(v3 + 4, v67, v66, v69, v68);
          v5 -= 3;
          v71 = v6 >> 3;
          v65 = v5;
          *(_BYTE *)v3 = 6;
          goto LABEL_89;
        }
        if ( v15 == 1 )
        {
          v5 -= 3;
          v71 = v6 >> 3;
          v65 = v5;
          *(_BYTE *)v3 = 3;
          goto LABEL_89;
        }
        *(_BYTE *)v3 = 9;
        v49 = (int)&v61[-*(_DWORD *)v7];
        *(_DWORD *)v7 = v61;
        *(_DWORD *)(v7 + 8) += v49;
        *(_DWORD *)(v7 + 4) = v59;
        *(_DWORD *)(v3 + 1428) = v71 >> 3;
        v5 -= 3;
        *(_DWORD *)(v3 + 14116) = v60;
        v58 = -3;
        goto LABEL_111;
      case 1u:
        if ( v5 >= 0x20 )
          goto LABEL_18;
        do
        {
          if ( !v59 )
          {
LABEL_91:
            v48 = v61;
            *(_DWORD *)(v7 + 4) = 0;
            *(_DWORD *)(v7 + 8) += &v61[-*(_DWORD *)v7];
            v58 = a3;
            goto LABEL_110;
          }
          --v59;
          a3 = 0;
          v18 = (unsigned __int8)*v9++ << v5;
          v5 += 8;
          v61 = v9;
          v6 |= v18;
          v71 = v6;
        }
        while ( v5 < 0x20 );
LABEL_18:
        if ( ~v6 >> 16 != (unsigned __int16)v6 )
          goto LABEL_93;
        v5 = 0;
        *(_DWORD *)(v3 + 4) = (unsigned __int16)v6;
        v65 = 0;
        v71 = 0;
        if ( (_WORD)v6 )
          *(_BYTE *)v3 = 2;
        else
          *(_BYTE *)v3 = *(_DWORD *)(v3 + 1420) != 0 ? 7 : 0;
LABEL_89:
        v12 = *(_BYTE *)v3;
        if ( v12 <= 9 )
        {
          v10 = v60;
          v9 = v61;
          v6 = v71;
          continue;
        }
LABEL_107:
        v58 = -2;
        goto LABEL_108;
      case 2u:
        if ( !v59 )
          goto LABEL_94;
        if ( !v62 )
        {
          if ( (v19 = *(char **)(v3 + 14108), v60 != v19)
            || (v20 = *(_DWORD *)(v3 + 14112), v21 = *(_DWORD *)(v3 + 14104), v21 == v20)
            || ((v60 = *(char **)(v3 + 14104), v21 >= v20) ? (v22 = (int)&v19[-v21], v62 = (unsigned int)&v19[-v21]) : (v22 = v20 - v21 - 1, v62 = v22),
                !v22) )
          {
            *(_DWORD *)(v3 + 14116) = v60;
            v23 = sub_100057A0(v7, v3, a3);
            v24 = *(_DWORD *)(v3 + 14112);
            v60 = *(char **)(v3 + 14116);
            if ( *(_DWORD *)(v3 + 14116) >= v24 )
              v25 = *(_DWORD *)(v3 + 14108) - (_DWORD)v60;
            else
              v25 = v24 - (_DWORD)v60 - 1;
            v26 = *(char **)(v3 + 14108);
            v62 = v25;
            if ( v60 == v26 )
            {
              v27 = *(_DWORD *)(v3 + 14104);
              if ( v27 != v24 )
              {
                v60 = *(char **)(v3 + 14104);
                if ( v27 >= v24 )
                  v62 = (unsigned int)&v26[-v27];
                else
                  v62 = v24 - v27 - 1;
              }
            }
            if ( !v62 )
              goto LABEL_96;
          }
        }
        v28 = *(_DWORD *)(v3 + 4);
        a3 = 0;
        if ( v28 > v59 )
          v28 = v59;
        if ( v28 > v62 )
          v28 = v62;
        memcpy(v60, v61, v28);
        v61 += v28;
        v59 -= v28;
        v60 += v28;
        v62 -= v28;
        v29 = *(_DWORD *)(v3 + 4) == v28;
        *(_DWORD *)(v3 + 4) -= v28;
        if ( v29 )
          *(_BYTE *)v3 = *(_DWORD *)(v3 + 1420) != 0 ? 7 : 0;
        goto LABEL_89;
      case 3u:
        if ( v5 >= 0xE )
          goto LABEL_48;
        break;
      case 4u:
        goto LABEL_51;
      case 5u:
        goto LABEL_60;
      case 6u:
        goto LABEL_83;
      case 7u:
        goto LABEL_102;
      case 8u:
        goto LABEL_105;
      case 9u:
        v57 = (int)&v61[-*(_DWORD *)v7];
        *(_DWORD *)(v7 + 4) = v59;
        *(_DWORD *)(v7 + 8) += v57;
        *(_DWORD *)v7 = v61;
        *(_DWORD *)(v3 + 1428) = v71;
        *(_DWORD *)(v3 + 14116) = v60;
        v58 = -3;
        goto LABEL_111;
      default:
        goto LABEL_107;
    }
    break;
  }
  do
  {
    if ( !v59 )
      goto LABEL_94;
    --v59;
    v30 = (unsigned __int8)*v9++ << v5;
    v5 += 8;
    a3 = 0;
    v6 |= v30;
    v71 = v6;
    v61 = v9;
  }
  while ( v5 < 0xE );
LABEL_48:
  v31 = v6 & 0x3FFF;
  *(_DWORD *)(v3 + 4) = v31;
  if ( (v6 & 0x1F) > 0x1D || (v6 & 0x3E0) > 0x3A0 )
  {
LABEL_93:
    *(_BYTE *)v3 = 9;
    v58 = -3;
LABEL_108:
    *(_DWORD *)(v7 + 4) = v59;
LABEL_109:
    v48 = v61;
    *(_DWORD *)(v7 + 8) += &v61[-*(_DWORD *)v7];
    goto LABEL_110;
  }
  v6 >>= 14;
  v5 -= 14;
  v71 = v6;
  v65 = v5;
  *(_DWORD *)(v3 + 8) = 0;
  *(_BYTE *)v3 = 4;
LABEL_51:
  if ( *(_DWORD *)(v3 + 8) < (unsigned int)((*(_DWORD *)(v3 + 4) >> 10) + 4) )
  {
    while ( v5 >= 3 )
    {
LABEL_55:
      *(_DWORD *)(v3 + 4 * dword_1008BA70[(*(_DWORD *)(v3 + 8))++] + 12) = v6 & 7;
      v6 >>= 3;
      v5 -= 3;
      v71 = v6;
      v65 = v5;
      if ( *(_DWORD *)(v3 + 8) >= (unsigned int)((*(_DWORD *)(v3 + 4) >> 10) + 4) )
        goto LABEL_56;
    }
    while ( v59 )
    {
      --v59;
      v32 = (unsigned __int8)*v9++ << v5;
      v5 += 8;
      a3 = 0;
      v6 |= v32;
      v71 = v6;
      v61 = v9;
      if ( v5 >= 3 )
        goto LABEL_55;
    }
    goto LABEL_94;
  }
LABEL_56:
  while ( *(_DWORD *)(v3 + 8) < 0x13u )
    *(_DWORD *)(v3 + 4 * dword_1008BA70[(*(_DWORD *)(v3 + 8))++] + 12) = 0;
  *(_DWORD *)(v3 + 1412) = 7;
  v23 = sub_100058E0(v3 + 1432, (unsigned int *)(v3 + 1412), (_DWORD *)(v3 + 12), (int *)(v3 + 1416));
  if ( v23 )
  {
    *(_BYTE *)v3 = 9;
LABEL_96:
    *(_DWORD *)(v7 + 4) = v59;
    v51 = (int)&v61[-*(_DWORD *)v7];
    *(_DWORD *)v7 = v61;
    *(_DWORD *)(v7 + 8) += v51;
    *(_DWORD *)(v3 + 1428) = v71;
    *(_DWORD *)(v3 + 14116) = v60;
    v58 = v23;
    goto LABEL_111;
  }
  v6 = v71;
  *(_DWORD *)(v3 + 8) = 0;
  v9 = v61;
  *(_BYTE *)v3 = 5;
LABEL_60:
  if ( *(_DWORD *)(v3 + 8) >= ((*(_DWORD *)(v3 + 4) >> 5) & 0x1F) + (*(_DWORD *)(v3 + 4) & 0x1Fu) + 258 )
  {
LABEL_81:
    v42 = *(_DWORD *)(v3 + 4);
    *(_DWORD *)(v3 + 1416) = 0;
    v67 = 9;
    v66 = 6;
    v43 = sub_10005930(
            (unsigned int *)(v3 + 12952),
            &v69,
            v3 + 1432,
            (v42 & 0x1F) + 257,
            ((v42 >> 5) & 0x1F) + 1,
            (_DWORD *)(v3 + 12),
            &v67,
            &v66,
            &v68);
    if ( v43 )
    {
      *(_BYTE *)v3 = 9;
      *(_DWORD *)(v7 + 4) = v59;
      v53 = (int)&v61[-*(_DWORD *)v7];
      *(_DWORD *)v7 = v61;
      *(_DWORD *)(v7 + 8) += v53;
      *(_DWORD *)(v3 + 1428) = v71;
      *(_DWORD *)(v3 + 1424) = v65;
      *(_DWORD *)(v3 + 14116) = v60;
    }
    else
    {
      sub_100053D0(v3 + 4, v67, v66, v69, v68);
      v5 = v65;
      v10 = v60;
      v9 = v61;
      v6 = v71;
      *(_BYTE *)v3 = 6;
LABEL_83:
      *(_DWORD *)(v7 + 4) = v59;
      v44 = (int)&v9[-*(_DWORD *)v7];
      *(_DWORD *)v7 = v9;
      *(_DWORD *)(v7 + 8) += v44;
      *(_DWORD *)(v3 + 14116) = v10;
      *(_DWORD *)(v3 + 1428) = v6;
      *(_DWORD *)(v3 + 1424) = v5;
      v43 = sub_10005AF0(v7, v3, a3);
      if ( v43 == 1 )
      {
        v5 = *(_DWORD *)(v3 + 1424);
        v61 = *(char **)v7;
        v45 = *(char **)(v3 + 14116);
        v71 = *(_DWORD *)(v3 + 1428);
        v46 = *(_DWORD *)(v3 + 14112);
        a3 = 0;
        v59 = *(_DWORD *)(v7 + 4);
        v65 = *(_DWORD *)(v3 + 1424);
        v60 = v45;
        if ( (unsigned int)v45 >= v46 )
          v47 = *(_DWORD *)(v3 + 14108) - (_DWORD)v45;
        else
          v47 = v46 - (_DWORD)v45 - 1;
        v62 = v47;
        if ( !*(_DWORD *)(v3 + 1420) )
        {
          *(_BYTE *)v3 = 0;
          goto LABEL_89;
        }
        *(_BYTE *)v3 = 7;
LABEL_102:
        *(_DWORD *)(v3 + 14116) = v60;
        v55 = sub_100057A0(v7, v3, a3);
        v60 = *(char **)(v3 + 14116);
        if ( *(_DWORD *)(v3 + 14112) != *(_DWORD *)(v3 + 14116) )
        {
          *(_DWORD *)(v7 + 4) = v59;
          v56 = (int)&v61[-*(_DWORD *)v7];
          *(_DWORD *)v7 = v61;
          *(_DWORD *)(v7 + 8) += v56;
          *(_DWORD *)(v3 + 1428) = v71;
          *(_DWORD *)(v3 + 1424) = v5;
          *(_DWORD *)(v3 + 14116) = v60;
          return sub_100057A0(v7, v3, v55);
        }
        *(_BYTE *)v3 = 8;
LABEL_105:
        *(_DWORD *)(v7 + 4) = v59;
        v58 = 1;
        goto LABEL_109;
      }
    }
    return sub_100057A0(v7, v3, v43);
  }
  while ( 1 )
  {
    v33 = *(_WORD *)(v3 + 1412);
    v67 = *(_WORD *)(v3 + 1412);
    if ( v5 < v33 )
      break;
LABEL_64:
    v35 = *(_DWORD *)(v3 + 1416) + 8 * (v6 & dword_1008BA28[*(_DWORD *)(v3 + 1412)]);
    v36 = *(_BYTE *)(v35 + 1);
    v37 = *(_DWORD *)(v35 + 4);
    v66 = v37;
    if ( v37 >= 0x10 )
    {
      if ( v37 == 18 )
        v67 = 7;
      else
        v67 = v37 - 14;
      v63 = 8 * (v37 == 18) + 3;
      v70 = (unsigned __int16)(v36 + v67);
      if ( v5 < v70 )
      {
        while ( v59 )
        {
          --v59;
          v38 = (unsigned __int8)*v9++ << v5;
          v5 += 8;
          a3 = 0;
          v6 |= v38;
          v71 = v6;
          v61 = v9;
          if ( v5 >= v70 )
            goto LABEL_72;
        }
        v52 = (int)&v61[-*(_DWORD *)v7];
        *(_DWORD *)v7 = v61;
        *(_DWORD *)(v7 + 8) += v52;
        *(_DWORD *)(v7 + 4) = 0;
        *(_DWORD *)(v3 + 1428) = v71;
        *(_DWORD *)(v3 + 14116) = v60;
        v58 = a3;
        goto LABEL_111;
      }
LABEL_72:
      v39 = v6 >> v36;
      v64 = (v39 & dword_1008BA28[v67]) + v63;
      v6 = v39 >> v67;
      v5 -= v36 + v67;
      v40 = *(_DWORD *)(v3 + 8);
      v71 = v6;
      v65 = v5;
      if ( v40 + v64 > ((*(_DWORD *)(v3 + 4) >> 5) & 0x1F) + (*(_DWORD *)(v3 + 4) & 0x1Fu) + 258 )
        goto LABEL_98;
      if ( v66 == 16 )
      {
        if ( v40 < 1 )
        {
LABEL_98:
          *(_BYTE *)v3 = 9;
          *(_DWORD *)(v7 + 4) = v59;
          v58 = -3;
          goto LABEL_109;
        }
        v66 = *(_DWORD *)(v3 + 4 * v40 + 8);
      }
      else
      {
        v66 = 0;
      }
      v41 = (unsigned int *)(v3 + 4 * v40 + 12);
      do
      {
        *v41 = v66;
        ++v40;
        ++v41;
        --v64;
      }
      while ( v64 );
      v9 = v61;
      *(_DWORD *)(v3 + 8) = v40;
    }
    else
    {
      v6 >>= v36;
      v5 -= v36;
      *(_DWORD *)(v3 + 4 * (*(_DWORD *)(v3 + 8))++ + 12) = v37;
      v71 = v6;
      v65 = v5;
    }
    if ( *(_DWORD *)(v3 + 8) >= ((*(_DWORD *)(v3 + 4) >> 5) & 0x1F) + (*(_DWORD *)(v3 + 4) & 0x1Fu) + 258 )
      goto LABEL_81;
  }
  while ( v59 )
  {
    --v59;
    v34 = (unsigned __int8)*v9++ << v5;
    v5 += 8;
    a3 = 0;
    v6 |= v34;
    v71 = v6;
    v61 = v9;
    if ( v5 >= v67 )
      goto LABEL_64;
  }
LABEL_94:
  v48 = v61;
  v50 = (int)&v61[-*(_DWORD *)v7];
  *(_DWORD *)(v7 + 4) = 0;
  *(_DWORD *)(v7 + 8) += v50;
  v58 = a3;
LABEL_110:
  *(_DWORD *)v7 = v48;
  *(_DWORD *)(v3 + 14116) = v60;
  *(_DWORD *)(v3 + 1428) = v71;
LABEL_111:
  *(_DWORD *)(v3 + 1424) = v5;
  return sub_100057A0(v7, v3, v58);
}
// 1008BA28: using guessed type int dword_1008BA28[];
// 1008BA70: using guessed type int dword_1008BA70[];

//----- (10006B70) --------------------------------------------------------
signed int __usercall sub_10006B70@<eax>(int a1@<edi>, int a2)
{
  int v2; // ebp@3
  int v3; // ebx@3
  signed int v4; // esi@3
  unsigned int v5; // eax@3
  int v6; // eax@5
  _BYTE *v7; // ecx@6
  int v8; // eax@9
  int v9; // ecx@10
  int v10; // eax@13
  int v11; // eax@21
  int v12; // eax@23
  _BYTE *v13; // edx@24
  int v14; // eax@25
  _BYTE *v15; // ecx@26
  int v16; // eax@27
  signed int result; // eax@32
  int v18; // eax@34
  int v19; // eax@36
  _BYTE *v20; // edx@37
  int v21; // eax@38
  _BYTE *v22; // ecx@39
  int v23; // eax@40
  signed int v24; // [sp+8h] [bp+4h]@3

  if ( !a1 || !*(_DWORD *)a1 )
    return -2;
  v2 = *(_DWORD *)(a1 + 24);
  v3 = -5;
  v4 = a2 != 4 ? 0 : 0xFFFFFFFB;
  v5 = *(_BYTE *)v2;
  v24 = a2 != 4 ? 0 : 0xFFFFFFFB;
  while ( 2 )
  {
    switch ( v5 )
    {
      case 0u:
        v6 = *(_DWORD *)(a1 + 4);
        if ( !v6 )
          goto LABEL_44;
        v7 = *(_BYTE **)a1;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v6 - 1;
        *(_DWORD *)(v2 + 4) = *v7;
        ++*(_DWORD *)a1;
        v3 = v4;
        if ( (*(_DWORD *)(v2 + 4) & 0xF) != 8 || (unsigned int)((*(_DWORD *)(v2 + 4) >> 4) + 8) > *(_DWORD *)(v2 + 16) )
          goto LABEL_29;
        *(_BYTE *)v2 = 1;
        goto LABEL_9;
      case 1u:
LABEL_9:
        v8 = *(_DWORD *)(a1 + 4);
        if ( !v8 )
          goto LABEL_44;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v8 - 1;
        v9 = *(_BYTE *)(*(_DWORD *)a1)++;
        v3 = v4;
        if ( (v9 + (*(_DWORD *)(v2 + 4) << 8)) % 0x1Fu )
          goto LABEL_29;
        if ( !(v9 & 0x20) )
        {
          *(_BYTE *)v2 = 7;
LABEL_31:
          v5 = *(_BYTE *)v2;
          if ( v5 > 0xD )
            return -2;
          continue;
        }
        *(_BYTE *)v2 = 2;
LABEL_34:
        v18 = *(_DWORD *)(a1 + 4);
        if ( !v18 )
          goto LABEL_44;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v18 - 1;
        *(_DWORD *)(v2 + 8) = *(_BYTE *)(*(_DWORD *)a1)++ << 24;
        v3 = v4;
        *(_BYTE *)v2 = 3;
LABEL_36:
        v19 = *(_DWORD *)(a1 + 4);
        if ( !v19 )
          goto LABEL_44;
        v20 = *(_BYTE **)a1;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v19 - 1;
        *(_DWORD *)(v2 + 8) += *v20 << 16;
        ++*(_DWORD *)a1;
        v3 = v4;
        *(_BYTE *)v2 = 4;
LABEL_38:
        v21 = *(_DWORD *)(a1 + 4);
        if ( !v21 )
          goto LABEL_44;
        v22 = *(_BYTE **)a1;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v21 - 1;
        *(_DWORD *)(v2 + 8) += *v22 << 8;
        ++*(_DWORD *)a1;
        v3 = v4;
        *(_BYTE *)v2 = 5;
LABEL_40:
        v23 = *(_DWORD *)(a1 + 4);
        if ( v23 )
        {
          ++*(_DWORD *)(a1 + 8);
          *(_DWORD *)(a1 + 4) = v23 - 1;
          *(_DWORD *)(v2 + 8) += *(_BYTE *)(*(_DWORD *)a1)++;
          *(_DWORD *)(a1 + 28) = *(_DWORD *)(v2 + 8);
          *(_BYTE *)v2 = 6;
          result = 2;
        }
        else
        {
LABEL_44:
          result = v3;
        }
        return result;
      case 7u:
        v10 = sub_10006190(a1, *(_DWORD *)(v2 + 20), v3);
        v3 = v10;
        if ( v10 == -3 )
        {
          *(_DWORD *)(v2 + 4) = 0;
        }
        else
        {
          if ( !v10 )
            v3 = v4;
          if ( v3 != 1 )
            goto LABEL_44;
          v3 = v4;
          sub_10005380((_DWORD *)(v2 + 4), *(_DWORD *)(v2 + 20), a1);
          v4 = v24;
          if ( *(_DWORD *)(v2 + 12) )
          {
            *(_BYTE *)v2 = 12;
            goto LABEL_31;
          }
          *(_BYTE *)v2 = 8;
LABEL_21:
          v11 = *(_DWORD *)(a1 + 4);
          if ( !v11 )
            goto LABEL_44;
          ++*(_DWORD *)(a1 + 8);
          *(_DWORD *)(a1 + 4) = v11 - 1;
          *(_DWORD *)(v2 + 8) = *(_BYTE *)(*(_DWORD *)a1)++ << 24;
          v3 = v4;
          *(_BYTE *)v2 = 9;
LABEL_23:
          v12 = *(_DWORD *)(a1 + 4);
          if ( !v12 )
            goto LABEL_44;
          v13 = *(_BYTE **)a1;
          ++*(_DWORD *)(a1 + 8);
          *(_DWORD *)(a1 + 4) = v12 - 1;
          *(_DWORD *)(v2 + 8) += *v13 << 16;
          ++*(_DWORD *)a1;
          v3 = v4;
          *(_BYTE *)v2 = 10;
LABEL_25:
          v14 = *(_DWORD *)(a1 + 4);
          if ( !v14 )
            goto LABEL_44;
          v15 = *(_BYTE **)a1;
          ++*(_DWORD *)(a1 + 8);
          *(_DWORD *)(a1 + 4) = v14 - 1;
          *(_DWORD *)(v2 + 8) += *v15 << 8;
          ++*(_DWORD *)a1;
          v3 = v4;
          *(_BYTE *)v2 = 11;
LABEL_27:
          v16 = *(_DWORD *)(a1 + 4);
          if ( !v16 )
            goto LABEL_44;
          ++*(_DWORD *)(a1 + 8);
          *(_DWORD *)(a1 + 4) = v16 - 1;
          *(_DWORD *)(v2 + 8) += *(_BYTE *)(*(_DWORD *)a1)++;
          v3 = v4;
          if ( *(_DWORD *)(v2 + 4) == *(_DWORD *)(v2 + 8) )
          {
            *(_BYTE *)v2 = 12;
            return 1;
          }
LABEL_29:
          *(_DWORD *)(v2 + 4) = 5;
        }
        *(_BYTE *)v2 = 13;
        goto LABEL_31;
      case 8u:
        goto LABEL_21;
      case 9u:
        goto LABEL_23;
      case 0xAu:
        goto LABEL_25;
      case 0xBu:
        goto LABEL_27;
      case 2u:
        goto LABEL_34;
      case 3u:
        goto LABEL_36;
      case 4u:
        goto LABEL_38;
      case 5u:
        goto LABEL_40;
      case 6u:
        *(_BYTE *)v2 = 13;
        *(_DWORD *)(v2 + 4) = 0;
        return -2;
      case 0xCu:
        return 1;
      case 0xDu:
        return -3;
      default:
        return -2;
    }
  }
}

//----- (10006EA0) --------------------------------------------------------
signed int __cdecl sub_10006EA0(int a1, int *a2, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // eax@1
  signed int result; // eax@1
  int v9; // [sp+4h] [bp-20h]@1
  int v10; // [sp+8h] [bp-1Ch]@1
  int v11; // [sp+10h] [bp-14h]@1
  int v12; // [sp+14h] [bp-10h]@1
  int v13; // [sp+18h] [bp-Ch]@3

  v10 = a4;
  v9 = a3;
  v7 = *a2;
  v11 = a1;
  v12 = v7;
  LOBYTE(result) = sub_100059F0((int)&v9, a7, a5, a6);
  if ( (_BYTE)result )
  {
    *a2 = 0;
  }
  else
  {
    LOBYTE(result) = sub_10006B70((int)&v9, 4);
    if ( (_BYTE)result == 1 )
    {
      *a2 = v13;
      return 1;
    }
  }
  return (char)result;
}

//----- (10006F20) --------------------------------------------------------
signed int __cdecl sub_10006F20(int a1, int a2)
{
  return sub_10006B70(a1, a2);
}

//----- (10006F40) --------------------------------------------------------
void __fastcall __noreturn sub_10006F40(int a1)
{
  int v1; // [sp+0h] [bp-4h]@1

  v1 = a1;
  while ( 1 )
  {
    do
      sub_100552F0(&v1);
    while ( !(v1 & 1) );
    if ( dword_10E8E0F4 )
    {
      if ( **(_DWORD **)dword_10E8E0F4 )
        (**(void (***)(void))dword_10E8E0F4)();
    }
  }
}
// 10E8E0F4: using guessed type int dword_10E8E0F4;

//----- (10006F70) --------------------------------------------------------
unsigned int __thiscall sub_10006F70(char *this)
{
  unsigned int v1; // esi@1
  _BYTE *v2; // edi@3
  size_t v3; // eax@5
  size_t v5; // [sp+4h] [bp-8h]@2
  int v6; // [sp+8h] [bp-4h]@1

  v1 = 0;
  if ( sub_1003E460(this, (int)&v6) == 1 && sub_1003E390(v6, (signed int *)&v5) == 1 )
  {
    v2 = (_BYTE *)sub_1006F210(v5, dword_10E8298C);
    if ( v2 )
    {
      if ( sub_1003E560(v6, v2, v5) == 1 )
      {
        v3 = 0;
        if ( v5 )
        {
          do
            v1 = dword_1008DA38[(v1 >> 24) ^ v2[v3++]] ^ (v1 << 8);
          while ( v3 < v5 );
        }
      }
    }
    sub_1006F2C0((unsigned int)v2, dword_10E8298C);
  }
  return v1;
}
// 1008DA38: using guessed type int dword_1008DA38[];
// 10E8298C: using guessed type int dword_10E8298C;

//----- (10007020) --------------------------------------------------------
char __usercall sub_10007020@<al>(int a1@<eax>, int a2)
{
  signed int v2; // edx@1
  int v3; // eax@1
  int v5; // [sp+1Ch] [bp-4h]@1

  v2 = *(_WORD *)(a1 + 2);
  v5 = *(_WORD *)a1;
  v3 = sub_1000FBE0(a2, (double)v5, (double)v2, 0, (int)&v5);
  if ( v3 != 1 || v5 != 103 )
    LOBYTE(v3) = 0;
  return v3;
}

//----- (10007070) --------------------------------------------------------
signed int __cdecl sub_10007070(int a1, int a2)
{
  int v2; // eax@1
  int v3; // edx@1
  int v4; // ebx@1
  __int16 v5; // cx@1
  signed int result; // eax@1
  int v7; // ebp@3
  int v8; // ecx@3
  bool v9; // cf@5
  unsigned __int8 v10; // cl@7
  unsigned __int8 v11; // cl@19
  int v12; // [sp+10h] [bp-1Ch]@1
  int v13; // [sp+14h] [bp-18h]@1
  char v14; // [sp+18h] [bp-14h]@3
  int v15; // [sp+1Ch] [bp-10h]@1
  int v16; // [sp+20h] [bp-Ch]@1
  char v17; // [sp+24h] [bp-8h]@3

  v2 = *(_DWORD *)(a1 + 32);
  v3 = a1 + 32;
  v4 = a2 + 32;
  LOWORD(v13) = *(_WORD *)(a1 + 36);
  v15 = *(_DWORD *)(a2 + 32);
  v5 = *(_WORD *)(a2 + 36);
  v12 = v2;
  LOBYTE(v2) = *(_BYTE *)(a1 + 38);
  LOWORD(v16) = v5;
  LOBYTE(v5) = *(_BYTE *)(a2 + 38);
  HIWORD(v13) = (unsigned __int8)v2;
  result = 0;
  HIWORD(v16) = (unsigned __int8)v5;
  if ( memcmp(&v12, "AIRPORT", 8u) || memcmp(&v15, "AIRPORT", 8u) )
  {
    if ( memcmp(&v12, "AIRPORT", 8u) )
    {
      if ( memcmp(&v15, "AIRPORT", 8u) )
      {
        while ( 1 )
        {
          v9 = *(_BYTE *)v3 < *(_BYTE *)v4;
          if ( *(_BYTE *)v3 != *(_BYTE *)v4 )
            break;
          if ( !*(_BYTE *)v3 )
            return result;
          v11 = *(_BYTE *)(v3 + 1);
          v9 = v11 < *(_BYTE *)(v4 + 1);
          if ( v11 != *(_BYTE *)(v4 + 1) )
            break;
          v3 += 2;
          v4 += 2;
          if ( !v11 )
            return result;
        }
        return -v9 - (v9 - 1);
      }
      return 1;
    }
    return -1;
  }
  v7 = strcmp((const char *)(a1 + 32), (const char *)(a2 + 32));
  v12 = *(_DWORD *)v3;
  v13 = *(_DWORD *)(a1 + 36);
  v15 = *(_DWORD *)v4;
  v8 = *(_DWORD *)(a2 + 36);
  v14 = 0;
  v16 = v8;
  v17 = 0;
  if ( !memcmp(&v12, "AIRPORT,", 9u) && !memcmp(&v15, "AIRPORT,", 9u) )
  {
    while ( 1 )
    {
      v9 = *(_BYTE *)v3 < *(_BYTE *)v4;
      if ( *(_BYTE *)v3 != *(_BYTE *)v4 )
        break;
      if ( *(_BYTE *)v3 )
      {
        v10 = *(_BYTE *)(v3 + 1);
        v9 = v10 < *(_BYTE *)(v4 + 1);
        if ( v10 != *(_BYTE *)(v4 + 1) )
          return -v9 - (v9 - 1);
        v3 += 2;
        v4 += 2;
        if ( v10 )
          continue;
      }
      return 0;
    }
    return -v9 - (v9 - 1);
  }
  if ( !memcmp(&v12, "AIRPORT,", 9u) )
    return -1;
  if ( !memcmp(&v15, "AIRPORT,", 9u) )
    return 1;
  return v7;
}

//----- (10007290) --------------------------------------------------------
double __thiscall sub_10007290(int this)
{
  signed int v1; // eax@1
  signed int v2; // esi@1
  double v3; // ST38_8@3
  double v4; // ST40_8@3
  signed int v5; // edi@3
  signed int v7; // [sp+34h] [bp-14h]@1
  double v8; // [sp+40h] [bp-8h]@1

  v1 = *(_WORD *)(this + 2);
  v8 = *(double *)(this + 4);
  v2 = *(_WORD *)this;
  v7 = *(_WORD *)this;
  if ( v1 <= 2 )
  {
    v7 = --v2;
    v1 += 12;
  }
  v3 = floor((double)(v1 + 1) * 30.6001);
  v4 = floor((double)v7 * 365.25) + v3 + v8 + 1720994.5;
  v5 = (signed int)floor((double)(v2 / 400));
  return (double)(v5 - (signed int)floor((double)(v2 / 100)) + 2) + v4;
}

//----- (10007370) --------------------------------------------------------
char __cdecl sub_10007370(int a1, int a2, float a3, int a4, char a5)
{
  int v5; // eax@1
  int v6; // edx@2
  bool v7; // zf@4
  char result; // al@4

  v5 = (unsigned __int8)byte_10E8E0F8;
  if ( a5 )
    v6 = dword_109B4234[v5];
  else
    v6 = dword_109B4264[v5];
  sub_1000F380(a1, v6, dword_109B4244[(unsigned __int8)byte_10E8E0F8]);
  v7 = sub_1000EFD0(a1, a2, a3, a3, a4, 0, 12) == 1;
  result = 1;
  if ( !v7 )
    result = 0;
  return result;
}
// 109B4234: using guessed type int dword_109B4234[];
// 109B4244: using guessed type int dword_109B4244[];
// 109B4264: using guessed type int dword_109B4264[];
// 10E8E0F8: using guessed type char byte_10E8E0F8;

//----- (100073E0) --------------------------------------------------------
char __cdecl sub_100073E0(int a1)
{
  int v1; // eax@2
  int v3; // [sp+8h] [bp-18h]@1
  int v4; // [sp+Ch] [bp-14h]@2
  char v5; // [sp+1Ah] [bp-6h]@3

  v3 = 16;
  if ( sub_1000FAD0(a1) != 1 || (v1 = sub_10011620(a1, 0, 0, 0, 101, (int)&v4, (int)&v3), v1 != 1) || (v5 & 0xF0) != 16 )
    LOBYTE(v1) = 0;
  return v1;
}

//----- (10007450) --------------------------------------------------------
signed int __cdecl sub_10007450(int a1, char a2, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // ecx@2
  int v8; // edx@2
  signed int result; // eax@2
  int v10; // ecx@4
  int v11; // edx@4
  int v12; // ecx@8
  int v13; // edx@8
  int v14; // [sp+8h] [bp-10h]@1
  int v15; // [sp+Ch] [bp-Ch]@1
  int v16; // [sp+10h] [bp-8h]@1
  int v17; // [sp+14h] [bp-4h]@1

  *(_DWORD *)(a7 + 12) = 0;
  *(_DWORD *)a7 = 0;
  *(_DWORD *)(a7 + 8) = 0;
  *(_DWORD *)(a7 + 4) = 0;
  v17 = 0;
  v14 = 0;
  v16 = 0;
  v15 = 0;
  switch ( a2 )
  {
    case 2:
      sub_1000F240(a1, a7);
      sub_10011180(a1, 103, (int)&v14);
      v7 = v15;
      v8 = v14;
      result = v16;
      *(_DWORD *)(a7 + 4) = 0;
      *(_DWORD *)(a7 + 12) = v7;
      *(_DWORD *)a7 = v8;
      *(_DWORD *)(a7 + 8) = result;
      break;
    case 3:
      sub_10011180(a1, 103, (int)&v14);
      goto LABEL_4;
    case 4:
      sub_10011180(a1, 104, (int)&v14);
LABEL_4:
      v10 = v14;
      v11 = v16;
      *(_DWORD *)(a7 + 12) = v17;
      result = v15;
      *(_DWORD *)a7 = v10;
      *(_DWORD *)(a7 + 8) = v11;
      *(_DWORD *)(a7 + 4) = result;
      break;
    case 5:
      if ( sub_10011180(a1, 104, (int)&v14) != 1 )
        sub_10011180(a1, 103, (int)&v14);
      v12 = v14;
      v13 = v16;
      *(_DWORD *)(a7 + 4) = v17;
      *(_DWORD *)a7 = v12;
      *(_DWORD *)(a7 + 8) = v13;
      result = sub_1000F240(a1, (int)&v14);
      *(_DWORD *)(a7 + 12) = v17;
      break;
    default:
      result = sub_1000F240(a1, a7);
      break;
  }
  return result;
}

//----- (10007590) --------------------------------------------------------
int __cdecl sub_10007590(char *a1, char a2, int a3, int a4)
{
  int result; // eax@4
  char *v5; // edi@9
  char v6; // al@10
  char v7; // al@13
  int v8; // ebp@17
  int v9; // esi@19
  int v10; // ebx@19
  int v11; // edi@20
  unsigned int v12; // ecx@22
  char *v13; // edx@22
  _DWORD *v14; // eax@22
  int v15; // esi@26
  int v16; // ecx@27
  _BYTE *v17; // edx@27
  _BYTE *v18; // eax@27
  int v19; // ecx@29
  _BYTE *v20; // edx@29
  _BYTE *v21; // eax@29
  _BYTE *v22; // edx@31
  _BYTE *v23; // eax@31
  signed int v24; // eax@33
  int v25; // edi@51
  int v26; // esi@53
  void *v27; // ebp@55
  unsigned int v28; // ecx@56
  char *v29; // edx@56
  _DWORD *v30; // eax@56
  int v31; // esi@60
  int v32; // ecx@61
  _BYTE *v33; // edx@61
  _BYTE *v34; // eax@61
  int v35; // ecx@63
  _BYTE *v36; // edx@63
  _BYTE *v37; // eax@63
  _BYTE *v38; // edx@65
  _BYTE *v39; // eax@65
  signed int v40; // eax@67
  int v41; // esi@71
  char v42; // bl@71
  signed int v43; // kr04_4@71
  unsigned int v44; // ecx@71
  _DWORD *v45; // edx@74
  _DWORD *v46; // eax@74
  int v47; // esi@78
  int v48; // ecx@79
  _BYTE *v49; // edx@79
  _BYTE *v50; // eax@79
  int v51; // ecx@81
  _BYTE *v52; // edx@81
  _BYTE *v53; // eax@81
  _BYTE *v54; // edx@83
  _BYTE *v55; // eax@83
  signed int v56; // eax@85
  char v57; // [sp+6h] [bp-4Ah]@19
  char v58; // [sp+7h] [bp-49h]@5
  int v59; // [sp+8h] [bp-48h]@1
  int v60; // [sp+8h] [bp-48h]@19
  char v61; // [sp+Fh] [bp-41h]@15
  unsigned int v62; // [sp+10h] [bp-40h]@17
  int v63; // [sp+14h] [bp-3Ch]@15
  char *v64; // [sp+18h] [bp-38h]@1
  int v65; // [sp+1Ch] [bp-34h]@53
  void *v66; // [sp+20h] [bp-30h]@1
  char v67; // [sp+24h] [bp-2Ch]@47
  char v68; // [sp+2Ch] [bp-24h]@47
  char v69; // [sp+30h] [bp-20h]@71

  v66 = (void *)a3;
  v64 = a1;
  v59 = 0;
  if ( a2 )
  {
    if ( a2 == 1 )
    {
      v58 = 65;
    }
    else
    {
      if ( a2 != 2 )
        return 0;
      v58 = 68;
    }
  }
  else
  {
    v58 = 80;
  }
  if ( strlen(a1) < 4 )
  {
    v5 = a1 - 1;
    do
      v6 = (v5++)[1];
    while ( v6 );
    *(_WORD *)v5 = 32;
  }
  result = strncmp(a1, "______", 4u);
  if ( !result )
    return result;
  v7 = sub_10002B90();
  if ( !byte_10E8E0F0 || (unsigned __int8)v7 >= 5u )
    return v59;
  if ( sub_10055DE0(26, &v63, &v61) || sub_10055E40(26, &v63) )
    return 0;
  v8 = sub_1006F210((unsigned __int16)word_109B41E0[0], dword_10E8298C);
  v62 = v8;
  if ( !v8 )
  {
    sub_100429F0("..\\lib\\adl\\cht_def_jepp.c", 3745, 0, 0);
    return 0;
  }
  v9 = v63;
  v57 = 0;
  v60 = 0;
  v10 = (v63 - (unsigned __int16)word_109B4268[0]) / (unsigned __int16)word_109B41E0[0];
  while ( 1 )
  {
    v11 = (v60 + v10) / 2;
    if ( (unsigned __int16)word_109B4268[0] + v11 * (unsigned __int16)word_109B41E0[0] > v9
                                                                                       - (unsigned __int16)word_109B41E0[0] )
      break;
    if ( sub_10055DA0(
           26,
           (unsigned __int16)word_109B4268[0] + v11 * (unsigned __int16)word_109B41E0[0],
           (unsigned __int16)word_109B41E0[0],
           v8) )
    {
      goto LABEL_93;
    }
    v12 = (unsigned __int8)byte_109B425C;
    v13 = v64;
    v14 = (_DWORD *)(v8 + (unsigned __int16)word_109B4214);
    if ( (unsigned __int8)byte_109B425C < 4u )
    {
LABEL_25:
      if ( !v12 )
        goto LABEL_35;
    }
    else
    {
      while ( *v14 == *(_DWORD *)v13 )
      {
        v12 -= 4;
        v13 += 4;
        ++v14;
        if ( v12 < 4 )
          goto LABEL_25;
      }
    }
    v15 = *(_BYTE *)v14 - (unsigned __int8)*v13;
    if ( *(_BYTE *)v14 == (unsigned __int8)*v13 )
    {
      v16 = v12 - 1;
      v17 = v13 + 1;
      v18 = (char *)v14 + 1;
      if ( !v16
        || (v15 = *v18 - *v17, *v18 == *v17)
        && ((v19 = v16 - 1, v20 = v17 + 1, v21 = v18 + 1, !v19)
         || (v15 = *v21 - *v20, *v21 == *v20)
         && ((v22 = v20 + 1, v23 = v21 + 1, v19 == 1) || (v15 = *v23 - *v22, *v23 == *v22))) )
      {
LABEL_35:
        v24 = 0;
        goto LABEL_36;
      }
    }
    v24 = 1;
    if ( v15 <= 0 )
      v24 = -1;
LABEL_36:
    if ( !v24 )
    {
      v57 = 1;
LABEL_46:
      v8 = v62;
      break;
    }
    if ( v24 <= 0 )
    {
      if ( v24 < 0 )
        v60 = v11 + 1;
    }
    else
    {
      v10 = v11 - 1;
    }
    if ( v60 > v10 || v10 < 0 )
    {
      v57 = 0;
      goto LABEL_46;
    }
    v9 = v63;
    v8 = v62;
  }
  memcpy(&v67, (const void *)(v8 + (unsigned __int16)word_109B421A), (unsigned __int8)byte_109B425F);
  v68 = 0;
  if ( v57 && j__atol(&v67) > 0 )
  {
    if ( sub_10055DE0(30, &v63, &v61) )
    {
      sub_1006F2C0(v8, dword_10E8298C);
      return 0;
    }
    v25 = sub_1006F210((unsigned __int16)word_109B41E4, dword_10E8298C);
    if ( !v25 )
    {
      sub_100429F0("..\\lib\\adl\\cht_def_jepp.c", 3827, 0, 0);
      sub_1006F2C0(v8, dword_10E8298C);
      return 0;
    }
    v26 = (unsigned __int16)word_109B41E4;
    v65 = (unsigned __int16)word_109B426C + v26 * (j__atol(&v67) - 1);
    if ( sub_10055DA0(30, v65, v26, v25) )
    {
      sub_1006F2C0(v8, dword_10E8298C);
      sub_1006F2C0(v25, dword_10E8298C);
      return 0;
    }
    v27 = v66;
    v59 = 0;
    while ( 2 )
    {
      v28 = (unsigned __int8)byte_109B41FC;
      v29 = v64;
      v30 = (_DWORD *)(v25 + (unsigned __int16)word_109B41D4);
      if ( (unsigned __int8)byte_109B41FC < 4u )
      {
LABEL_59:
        if ( v28 )
          goto LABEL_60;
      }
      else
      {
        while ( *v30 == *(_DWORD *)v29 )
        {
          v28 -= 4;
          v29 += 4;
          ++v30;
          if ( v28 < 4 )
            goto LABEL_59;
        }
LABEL_60:
        v31 = *(_BYTE *)v30 - (unsigned __int8)*v29;
        if ( *(_BYTE *)v30 != (unsigned __int8)*v29
          || (v32 = v28 - 1, v33 = v29 + 1, v34 = (char *)v30 + 1, v32)
          && ((v31 = *v34 - *v33, *v34 != *v33)
           || (v35 = v32 - 1, v36 = v33 + 1, v37 = v34 + 1, v35)
           && ((v31 = *v37 - *v36, *v37 != *v36)
            || (v38 = v36 + 1, v39 = v37 + 1, v35 != 1) && (v31 = *v39 - *v38, *v39 != *v38))) )
        {
          v40 = 1;
          if ( v31 <= 0 )
            v40 = -1;
LABEL_70:
          if ( v40 )
            goto LABEL_91;
          v41 = (unsigned __int8)byte_109B4200;
          v42 = *(_BYTE *)((unsigned __int16)word_109B41D8 + v25);
          memcpy(&v69, (const void *)(v25 + (unsigned __int16)word_109B41DC), (unsigned __int8)byte_109B4200);
          sub_10042790((int)&v69, v41);
          v43 = strlen(&v69);
          v44 = strlen((const char *)a4);
          if ( (signed int)v44 <= v43 )
            v44 = v43;
          if ( v42 != v58 )
            goto LABEL_90;
          v45 = (_DWORD *)a4;
          v46 = (_DWORD *)(v25 + (unsigned __int16)word_109B41DC);
          if ( v44 < 4 )
          {
LABEL_77:
            if ( v44 )
              goto LABEL_78;
          }
          else
          {
            while ( *v46 == *v45 )
            {
              v44 -= 4;
              ++v45;
              ++v46;
              if ( v44 < 4 )
                goto LABEL_77;
            }
LABEL_78:
            v47 = *(_BYTE *)v46 - *(_BYTE *)v45;
            if ( *(_BYTE *)v46 != *(_BYTE *)v45
              || (v48 = v44 - 1, v49 = (char *)v45 + 1, v50 = (char *)v46 + 1, v48)
              && ((v47 = *v50 - *v49, *v50 != *v49)
               || (v51 = v48 - 1, v52 = v49 + 1, v53 = v50 + 1, v51)
               && ((v47 = *v53 - *v52, *v53 != *v52)
                || (v54 = v52 + 1, v55 = v53 + 1, v51 != 1) && (v47 = *v55 - *v54, *v55 != *v54))) )
            {
              v56 = 1;
              if ( v47 <= 0 )
                v56 = -1;
LABEL_88:
              if ( !v56 )
              {
                memcpy(v27, (const void *)(v25 + (unsigned __int16)word_109B41D6), (unsigned __int8)byte_109B41FD);
                sub_10042790((int)v27, (unsigned __int8)byte_109B41FD);
                sub_10042540((const char *)v27, 45, 32);
                ++v59;
                v27 = (char *)v27 + 11;
              }
LABEL_90:
              v65 += (unsigned __int16)word_109B41E4;
              if ( sub_10055DA0(30, v65, (unsigned __int16)word_109B41E4, v25) )
              {
LABEL_91:
                sub_1006F2C0(v62, dword_10E8298C);
                sub_1006F2C0(v25, dword_10E8298C);
                return v59;
              }
              continue;
            }
          }
          v56 = 0;
          goto LABEL_88;
        }
      }
      break;
    }
    v40 = 0;
    goto LABEL_70;
  }
LABEL_93:
  sub_1006F2C0(v8, dword_10E8298C);
  return 0;
}
// 109B41D4: using guessed type __int16 word_109B41D4;
// 109B41D6: using guessed type __int16 word_109B41D6;
// 109B41D8: using guessed type __int16 word_109B41D8;
// 109B41DC: using guessed type __int16 word_109B41DC;
// 109B41E0: using guessed type __int16 word_109B41E0[];
// 109B41E4: using guessed type __int16 word_109B41E4;
// 109B41FC: using guessed type char byte_109B41FC;
// 109B41FD: using guessed type char byte_109B41FD;
// 109B4200: using guessed type char byte_109B4200;
// 109B4214: using guessed type __int16 word_109B4214;
// 109B421A: using guessed type __int16 word_109B421A;
// 109B425C: using guessed type char byte_109B425C;
// 109B425F: using guessed type char byte_109B425F;
// 109B4268: using guessed type __int16 word_109B4268[];
// 109B426C: using guessed type __int16 word_109B426C;
// 10E8298C: using guessed type int dword_10E8298C;
// 10E8E0EC: using guessed type int dword_10E8E0EC;
// 10E8E0F0: using guessed type char byte_10E8E0F0;

//----- (10007BD0) --------------------------------------------------------
char __cdecl sub_10007BD0(char *a1, char a2, int a3)
{
  char v3; // bl@1
  char *v5; // edi@9
  char v6; // al@10
  char v7; // al@14
  int v8; // esi@20
  int v9; // ebp@20
  int v10; // eax@20
  int v11; // edi@21
  unsigned int v12; // esi@22
  unsigned int v13; // ecx@23
  char *v14; // edx@23
  _DWORD *v15; // eax@23
  int v16; // esi@27
  int v17; // ecx@28
  _BYTE *v18; // edx@28
  _BYTE *v19; // eax@28
  int v20; // ecx@30
  _BYTE *v21; // edx@30
  _BYTE *v22; // eax@30
  _BYTE *v23; // edx@32
  _BYTE *v24; // eax@32
  signed int v25; // eax@34
  unsigned int v26; // ebx@46
  int v27; // edi@52
  int v28; // esi@54
  unsigned int v29; // ecx@57
  char *v30; // edx@57
  _DWORD *v31; // eax@57
  int v32; // esi@61
  int v33; // ecx@62
  _BYTE *v34; // edx@62
  _BYTE *v35; // eax@62
  int v36; // ecx@64
  _BYTE *v37; // edx@64
  _BYTE *v38; // eax@64
  _BYTE *v39; // edx@66
  _BYTE *v40; // eax@66
  signed int v41; // eax@68
  int v42; // esi@72
  char v43; // bl@72
  signed int v44; // kr04_4@72
  unsigned int v45; // edx@72
  signed int v46; // kr08_4@74
  unsigned int v47; // ebp@74
  _DWORD *v48; // eax@77
  _DWORD *v49; // esi@77
  int v50; // edi@81
  int v51; // edx@82
  _BYTE *v52; // esi@82
  _BYTE *v53; // eax@82
  int v54; // edx@84
  _BYTE *v55; // esi@84
  _BYTE *v56; // eax@84
  _BYTE *v57; // esi@86
  _BYTE *v58; // eax@86
  signed int v59; // eax@88
  _DWORD *v60; // eax@92
  _DWORD *v61; // edx@92
  unsigned int v62; // ecx@92
  int v63; // esi@96
  int v64; // ecx@97
  _BYTE *v65; // edx@97
  _BYTE *v66; // eax@97
  int v67; // ecx@99
  _BYTE *v68; // edx@99
  _BYTE *v69; // eax@99
  _BYTE *v70; // edx@101
  _BYTE *v71; // eax@101
  signed int v72; // eax@103
  char v73; // [sp+Ah] [bp-62h]@20
  char v74; // [sp+Ah] [bp-62h]@56
  char v75; // [sp+Bh] [bp-61h]@5
  int v76; // [sp+Ch] [bp-60h]@20
  unsigned int v77; // [sp+Ch] [bp-60h]@52
  char v78; // [sp+13h] [bp-59h]@16
  int v79; // [sp+14h] [bp-58h]@16
  int v80; // [sp+18h] [bp-54h]@18
  char *v81; // [sp+1Ch] [bp-50h]@1
  int v82; // [sp+20h] [bp-4Ch]@54
  char v83; // [sp+24h] [bp-48h]@46
  char v84; // [sp+2Ch] [bp-40h]@46
  char v85; // [sp+30h] [bp-3Ch]@72
  char v86; // [sp+4Ch] [bp-20h]@72

  v3 = 0;
  v81 = a1;
  if ( a2 )
  {
    if ( a2 == 1 )
    {
      v75 = 65;
    }
    else
    {
      if ( a2 != 2 )
        return 0;
      v75 = 68;
    }
  }
  else
  {
    v75 = 80;
  }
  if ( strlen(a1) < 4 )
  {
    v5 = a1 - 1;
    do
      v6 = (v5++)[1];
    while ( v6 );
    *(_WORD *)v5 = 32;
  }
  if ( !strncmp(a1, "______", 4u) )
    return 0;
  v7 = sub_10002B90();
  if ( !byte_10E8E0F0 || (unsigned __int8)v7 >= 5u )
    return v3;
  if ( sub_10055DE0(26, &v79, &v78) || sub_10055E40(26, &v79) )
    return 0;
  v80 = sub_1006F210((unsigned __int16)word_109B41E0[0], dword_10E8298C);
  if ( !v80 )
  {
    sub_100429F0("..\\lib\\adl\\cht_def_jepp.c", 4024, 0, 0);
    return 0;
  }
  v8 = v79;
  v73 = 0;
  v9 = (v79 - (unsigned __int16)word_109B4268[0]) / (unsigned __int16)word_109B41E0[0];
  v10 = 0;
  v76 = 0;
  while ( 1 )
  {
    v11 = (v9 + v10) / 2;
    if ( (unsigned __int16)word_109B4268[0] + v11 * (unsigned __int16)word_109B41E0[0] > v8
                                                                                       - (unsigned __int16)word_109B41E0[0] )
      break;
    v12 = v80;
    if ( sub_10055DA0(
           26,
           (unsigned __int16)word_109B4268[0] + v11 * (unsigned __int16)word_109B41E0[0],
           (unsigned __int16)word_109B41E0[0],
           v80) )
    {
      sub_1006F2C0(v12, dword_10E8298C);
      return 0;
    }
    v13 = (unsigned __int8)byte_109B425C;
    v14 = v81;
    v15 = (_DWORD *)(v12 + (unsigned __int16)word_109B4214);
    if ( (unsigned __int8)byte_109B425C < 4u )
    {
LABEL_26:
      if ( !v13 )
        goto LABEL_36;
    }
    else
    {
      while ( *v15 == *(_DWORD *)v14 )
      {
        v13 -= 4;
        v14 += 4;
        ++v15;
        if ( v13 < 4 )
          goto LABEL_26;
      }
    }
    v16 = *(_BYTE *)v15 - (unsigned __int8)*v14;
    if ( *(_BYTE *)v15 == (unsigned __int8)*v14 )
    {
      v17 = v13 - 1;
      v18 = v14 + 1;
      v19 = (char *)v15 + 1;
      if ( !v17
        || (v16 = *v19 - *v18, *v19 == *v18)
        && ((v20 = v17 - 1, v21 = v18 + 1, v22 = v19 + 1, !v20)
         || (v16 = *v22 - *v21, *v22 == *v21)
         && ((v23 = v21 + 1, v24 = v22 + 1, v20 == 1) || (v16 = *v24 - *v23, *v24 == *v23))) )
      {
LABEL_36:
        v25 = 0;
        goto LABEL_37;
      }
    }
    v25 = 1;
    if ( v16 <= 0 )
      v25 = -1;
LABEL_37:
    if ( !v25 )
    {
      v73 = 1;
      break;
    }
    if ( v25 <= 0 )
    {
      if ( v25 < 0 )
        v76 = v11 + 1;
    }
    else
    {
      v9 = v11 - 1;
    }
    v10 = v76;
    if ( v76 > v9 || v9 < 0 )
    {
      v73 = 0;
      break;
    }
    v8 = v79;
  }
  v26 = v80;
  memcpy(&v83, (const void *)(v80 + (unsigned __int16)word_109B421A), (unsigned __int8)byte_109B425F);
  v84 = 0;
  if ( !v73 || j__atol(&v83) <= 0 )
  {
    sub_1006F2C0(v26, dword_10E8298C);
    return 0;
  }
  if ( sub_10055DE0(30, &v79, &v78) )
  {
    sub_1006F2C0(v26, dword_10E8298C);
    return 0;
  }
  v27 = sub_1006F210((unsigned __int16)word_109B41E4, dword_10E8298C);
  v77 = v27;
  if ( !v27 )
  {
    sub_100429F0("..\\lib\\adl\\cht_def_jepp.c", 4110, 0, 0);
    sub_1006F2C0(v26, dword_10E8298C);
    return 0;
  }
  v28 = (unsigned __int16)word_109B41E4;
  v82 = (unsigned __int16)word_109B426C + v28 * (j__atol(&v83) - 1);
  if ( sub_10055DA0(30, v82, v28, v27) )
  {
    sub_1006F2C0(v26, dword_10E8298C);
    sub_1006F2C0(v27, dword_10E8298C);
    return 0;
  }
  v74 = 0;
  while ( 2 )
  {
    v29 = (unsigned __int8)byte_109B41FC;
    v30 = v81;
    v31 = (_DWORD *)(v27 + (unsigned __int16)word_109B41D4);
    if ( (unsigned __int8)byte_109B41FC < 4u )
    {
LABEL_60:
      if ( v29 )
        goto LABEL_61;
LABEL_70:
      v41 = 0;
      goto LABEL_71;
    }
    while ( *v31 == *(_DWORD *)v30 )
    {
      v29 -= 4;
      v30 += 4;
      ++v31;
      if ( v29 < 4 )
        goto LABEL_60;
    }
LABEL_61:
    v32 = *(_BYTE *)v31 - (unsigned __int8)*v30;
    if ( *(_BYTE *)v31 == (unsigned __int8)*v30 )
    {
      v33 = v29 - 1;
      v34 = v30 + 1;
      v35 = (char *)v31 + 1;
      if ( !v33 )
        goto LABEL_70;
      v32 = *v35 - *v34;
      if ( *v35 == *v34 )
      {
        v36 = v33 - 1;
        v37 = v34 + 1;
        v38 = v35 + 1;
        if ( !v36 )
          goto LABEL_70;
        v32 = *v38 - *v37;
        if ( *v38 == *v37 )
        {
          v39 = v37 + 1;
          v40 = v38 + 1;
          if ( v36 == 1 )
            goto LABEL_70;
          v32 = *v40 - *v39;
          if ( *v40 == *v39 )
            goto LABEL_70;
        }
      }
    }
    v41 = 1;
    if ( v32 <= 0 )
      v41 = -1;
LABEL_71:
    if ( v41 )
      goto LABEL_110;
    v42 = (unsigned __int8)byte_109B4200;
    v43 = *(_BYTE *)((unsigned __int16)word_109B41D8 + v77);
    memcpy(&v85, (const void *)(v77 + (unsigned __int16)word_109B41DC), (unsigned __int8)byte_109B4200);
    memcpy(&v86, (const void *)(v77 + (unsigned __int16)word_109B41DA), (unsigned __int8)byte_109B41FF);
    sub_10042790((int)&v85, v42);
    sub_10042790((int)&v86, (unsigned __int8)byte_109B41FF);
    v44 = strlen(&v85);
    v45 = strlen((const char *)a3);
    if ( (signed int)v45 <= v44 )
      v45 = v44;
    v46 = strlen(&v86);
    v47 = strlen((const char *)a3);
    if ( (signed int)v47 <= v46 )
      v47 = v46;
    if ( v43 != v75 )
      goto LABEL_107;
    v48 = (_DWORD *)(v77 + (unsigned __int16)word_109B41DC);
    v49 = (_DWORD *)a3;
    if ( v45 < 4 )
    {
LABEL_80:
      if ( v45 )
        goto LABEL_81;
LABEL_90:
      v59 = 0;
      goto LABEL_91;
    }
    while ( *v48 == *v49 )
    {
      v45 -= 4;
      ++v49;
      ++v48;
      if ( v45 < 4 )
        goto LABEL_80;
    }
LABEL_81:
    v50 = *(_BYTE *)v48 - *(_BYTE *)v49;
    if ( *(_BYTE *)v48 == *(_BYTE *)v49 )
    {
      v51 = v45 - 1;
      v52 = (char *)v49 + 1;
      v53 = (char *)v48 + 1;
      if ( !v51 )
        goto LABEL_90;
      v50 = *v53 - *v52;
      if ( *v53 == *v52 )
      {
        v54 = v51 - 1;
        v55 = v52 + 1;
        v56 = v53 + 1;
        if ( !v54 )
          goto LABEL_90;
        v50 = *v56 - *v55;
        if ( *v56 == *v55 )
        {
          v57 = v55 + 1;
          v58 = v56 + 1;
          if ( v54 == 1 )
            goto LABEL_90;
          v50 = *v58 - *v57;
          if ( *v58 == *v57 )
            goto LABEL_90;
        }
      }
    }
    v59 = 1;
    if ( v50 <= 0 )
      v59 = -1;
LABEL_91:
    if ( !v59 )
      break;
    v60 = (_DWORD *)(v77 + (unsigned __int16)word_109B41DA);
    v61 = (_DWORD *)a3;
    v62 = v47;
    if ( v47 < 4 )
    {
LABEL_95:
      if ( v62 )
        goto LABEL_96;
LABEL_105:
      v72 = 0;
      goto LABEL_106;
    }
    while ( *v60 == *v61 )
    {
      v62 -= 4;
      ++v61;
      ++v60;
      if ( v62 < 4 )
        goto LABEL_95;
    }
LABEL_96:
    v63 = *(_BYTE *)v60 - *(_BYTE *)v61;
    if ( *(_BYTE *)v60 == *(_BYTE *)v61 )
    {
      v64 = v62 - 1;
      v65 = (char *)v61 + 1;
      v66 = (char *)v60 + 1;
      if ( !v64 )
        goto LABEL_105;
      v63 = *v66 - *v65;
      if ( *v66 == *v65 )
      {
        v67 = v64 - 1;
        v68 = v65 + 1;
        v69 = v66 + 1;
        if ( !v67 )
          goto LABEL_105;
        v63 = *v69 - *v68;
        if ( *v69 == *v68 )
        {
          v70 = v68 + 1;
          v71 = v69 + 1;
          if ( v67 == 1 )
            goto LABEL_105;
          v63 = *v71 - *v70;
          if ( *v71 == *v70 )
            goto LABEL_105;
        }
      }
    }
    v72 = 1;
    if ( v63 <= 0 )
      v72 = -1;
LABEL_106:
    if ( v72 )
    {
LABEL_107:
      v82 += (unsigned __int16)word_109B41E4;
      if ( sub_10055DA0(30, v82, (unsigned __int16)word_109B41E4, v77) )
        goto LABEL_110;
      v27 = v77;
      continue;
    }
    break;
  }
  v74 = 1;
LABEL_110:
  sub_1006F2C0(v80, dword_10E8298C);
  sub_1006F2C0(v77, dword_10E8298C);
  return v74;
}
// 109B41D4: using guessed type __int16 word_109B41D4;
// 109B41D8: using guessed type __int16 word_109B41D8;
// 109B41DA: using guessed type __int16 word_109B41DA;
// 109B41DC: using guessed type __int16 word_109B41DC;
// 109B41E0: using guessed type __int16 word_109B41E0[];
// 109B41E4: using guessed type __int16 word_109B41E4;
// 109B41FC: using guessed type char byte_109B41FC;
// 109B41FF: using guessed type char byte_109B41FF;
// 109B4200: using guessed type char byte_109B4200;
// 109B4214: using guessed type __int16 word_109B4214;
// 109B421A: using guessed type __int16 word_109B421A;
// 109B425C: using guessed type char byte_109B425C;
// 109B425F: using guessed type char byte_109B425F;
// 109B4268: using guessed type __int16 word_109B4268[];
// 109B426C: using guessed type __int16 word_109B426C;
// 10E8298C: using guessed type int dword_10E8298C;
// 10E8E0EC: using guessed type int dword_10E8E0EC;
// 10E8E0F0: using guessed type char byte_10E8E0F0;

//----- (10008310) --------------------------------------------------------
char __cdecl sub_10008310(int a1)
{
  bool v1; // zf@1
  char result; // al@1
  int v3; // [sp+4h] [bp-10h]@1
  int v4; // [sp+8h] [bp-Ch]@1
  int v5; // [sp+Ch] [bp-8h]@1
  int v6; // [sp+10h] [bp-4h]@1

  v6 = 0;
  v3 = 0;
  v5 = 0;
  v4 = 0;
  v1 = sub_10011180(a1, 104, (int)&v3) == 1;
  result = 1;
  if ( !v1 )
    result = 0;
  return result;
}

//----- (10008350) --------------------------------------------------------
char __cdecl sub_10008350(int a1, int a2, double a3, int a4, int a5, int a6)
{
  char v6; // bl@1
  int v7; // eax@1
  int v8; // esi@1
  __int16 v9; // cx@1
  double v10; // st6@4
  signed int v11; // eax@4
  int v13; // [sp+24h] [bp-18h]@1
  int v14; // [sp+28h] [bp-14h]@4
  int v15; // [sp+2Ch] [bp-10h]@4
  int v16; // [sp+30h] [bp-Ch]@4

  v6 = 0;
  v7 = sub_10010500(a1, 57.29577951308219 * *(double *)a5, *(double *)(a5 + 8) * 57.29577951308219, (int)&a5, (int)&v13);
  v8 = a6;
  v9 = v13;
  *(_WORD *)a6 = a5;
  *(_WORD *)(v8 + 2) = v9;
  if ( v7 == 1 && sub_10007020(v8, a1) )
    v6 = 1;
  sub_100013D0(a1, a2, a3, a4, (int)&v14, (int)&v15);
  a5 = *(_WORD *)v8 - (v15 <= 0 ? 0 : v15);
  v10 = *(float *)&v14;
  v11 = (signed int)((double)a5 * *(float *)&v14 + 0.5);
  a5 = *(_WORD *)(v8 + 2) - (v16 <= 0 ? 0 : v16);
  *(_WORD *)v8 = v11;
  *(_WORD *)(v8 + 2) = (signed int)(v10 * (double)a5 + 0.5);
  return v6;
}

//----- (10008450) --------------------------------------------------------
signed int sub_10008450()
{
  sub_1000EF30();
  return sub_1000EC80();
}

//----- (10008460) --------------------------------------------------------
char __cdecl sub_10008460(int a1, int a2, double a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  bool v7; // zf@2
  char result; // al@2
  int v9; // [sp+20h] [bp-2Ch]@1
  int v10; // [sp+24h] [bp-28h]@1
  int v11; // [sp+28h] [bp-24h]@1
  double v12; // [sp+2Ch] [bp-20h]@1
  double v13; // [sp+34h] [bp-18h]@1
  int v14; // [sp+3Ch] [bp-10h]@1
  int v15; // [sp+40h] [bp-Ch]@1

  sub_100013D0(a1, a2, a3, a4, (int)&v9, (int)&v14);
  v11 = v14 <= 0 ? 0 : v14;
  v10 = v15 <= 0 ? 0 : v15;
  v6 = sub_10010B20(
         a1,
         (signed int)((double)*(_WORD *)a6 / *(float *)&v9 + (double)v11),
         (signed int)((double)*(_WORD *)(a6 + 2) / *(float *)&v9 + (double)v10),
         (int)&v12,
         (int)&v13);
  *(double *)a5 = v12 * 0.01745329251994333;
  *(double *)(a5 + 8) = 0.01745329251994333 * v13;
  if ( v6 != 1 || (v7 = sub_10007020(a6, a1) == 0, result = 1, v7) )
    result = 0;
  return result;
}

//----- (10008550) --------------------------------------------------------
int *__usercall sub_10008550@<eax>(int *result@<eax>, char **a2@<edi>)
{
  int *i; // esi@1

  for ( i = result; (signed int)i >= 0; a2[(_DWORD)i + 1] = 0 )
  {
    result = sub_1006F2C0((unsigned int)a2[(_DWORD)i], dword_10E8298C);
    i = (int *)((char *)i - 1);
  }
  if ( a2 != &dword_109B4204 )
    result = sub_1006F2C0((unsigned int)a2, dword_10E8298C);
  return result;
}
// 10E8298C: using guessed type int dword_10E8298C;

//----- (10008590) --------------------------------------------------------
char __cdecl sub_10008590(int a1, void *a2)
{
  __int16 v2; // ax@1
  int v3; // ebp@3
  int v4; // esi@5
  int v5; // ebx@5
  int v6; // edi@6
  unsigned int v7; // ecx@8
  _DWORD *v8; // edx@8
  _DWORD *v9; // eax@8
  int v10; // esi@12
  int v11; // ecx@13
  _BYTE *v12; // edx@13
  _BYTE *v13; // eax@13
  int v14; // ecx@15
  _BYTE *v15; // edx@15
  _BYTE *v16; // eax@15
  _BYTE *v17; // edx@17
  _BYTE *v18; // eax@17
  signed int v19; // eax@19
  char v21; // [sp+3h] [bp-Dh]@1
  int v22; // [sp+4h] [bp-Ch]@3
  int v23; // [sp+8h] [bp-8h]@5
  int v24; // [sp+Ch] [bp-4h]@1

  v2 = sub_10055DE0(26, &v24, &v21);
  if ( !v2 )
  {
    v2 = sub_10055E40(26, &v24);
    if ( !v2 )
    {
      v3 = sub_1006F210((unsigned __int16)word_109B41E0[0], dword_10E8298C);
      v22 = v3;
      if ( !v3 )
      {
        LOBYTE(v2) = sub_100429F0("..\\lib\\adl\\cht_def_jepp.c", 5713, 0, 0);
        return v2;
      }
      v4 = v24;
      v23 = 0;
      v5 = (v24 - (unsigned __int16)word_109B4268[0]) / (unsigned __int16)word_109B41E0[0];
      while ( 1 )
      {
        v6 = (v23 + v5) / 2;
        if ( (unsigned __int16)word_109B4268[0] + v6 * (unsigned __int16)word_109B41E0[0] > v4
                                                                                          - (unsigned __int16)word_109B41E0[0]
          || sub_10055DA0(
               26,
               (unsigned __int16)word_109B4268[0] + v6 * (unsigned __int16)word_109B41E0[0],
               (unsigned __int16)word_109B41E0[0],
               v3) )
        {
LABEL_32:
          LOBYTE(v2) = (unsigned int)sub_1006F2C0(v3, dword_10E8298C);
          return v2;
        }
        v7 = (unsigned __int8)byte_109B425C;
        v8 = (_DWORD *)a1;
        v9 = (_DWORD *)(v3 + (unsigned __int16)word_109B4214);
        if ( (unsigned __int8)byte_109B425C < 4u )
        {
LABEL_11:
          if ( !v7 )
            goto LABEL_22;
        }
        else
        {
          while ( *v9 == *v8 )
          {
            v7 -= 4;
            ++v8;
            ++v9;
            if ( v7 < 4 )
              goto LABEL_11;
          }
        }
        v10 = *(_BYTE *)v9 - *(_BYTE *)v8;
        if ( *(_BYTE *)v9 == *(_BYTE *)v8 )
        {
          v11 = v7 - 1;
          v12 = (char *)v8 + 1;
          v13 = (char *)v9 + 1;
          if ( !v11
            || (v10 = *v13 - *v12, *v13 == *v12)
            && ((v14 = v11 - 1, v15 = v12 + 1, v16 = v13 + 1, !v14)
             || (v10 = *v16 - *v15, *v16 == *v15)
             && ((v17 = v15 + 1, v18 = v16 + 1, v14 == 1) || (v10 = *v18 - *v17, *v18 == *v17))) )
          {
            v3 = v22;
LABEL_22:
            v19 = 0;
            goto LABEL_23;
          }
        }
        v3 = v22;
        v19 = 1;
        if ( v10 <= 0 )
          v19 = -1;
LABEL_23:
        if ( !v19 )
        {
          memcpy(a2, (const void *)(v3 + (unsigned __int16)word_109B4218), (unsigned __int8)byte_109B425E);
          *((_BYTE *)a2 + 3) = 0;
          goto LABEL_32;
        }
        if ( v19 <= 0 )
        {
          if ( v19 < 0 )
            v23 = v6 + 1;
        }
        else
        {
          v5 = v6 - 1;
        }
        if ( v23 > v5 || v5 < 0 )
          goto LABEL_32;
        v4 = v24;
      }
    }
  }
  return v2;
}
// 109B41E0: using guessed type __int16 word_109B41E0[];
// 109B4214: using guessed type __int16 word_109B4214;
// 109B4218: using guessed type __int16 word_109B4218;
// 109B425C: using guessed type char byte_109B425C;
// 109B425E: using guessed type char byte_109B425E;
// 109B4268: using guessed type __int16 word_109B4268[];
// 10E8298C: using guessed type int dword_10E8298C;

//----- (10008780) --------------------------------------------------------
char __thiscall sub_10008780(void *this)
{
  char *v1; // eax@3
  unsigned int v3; // [sp+0h] [bp-4h]@1

  v3 = (unsigned int)this;
  if ( !sub_10055E40(37, &v3) )
  {
    if ( dword_109B423C )
      v1 = (char *)sub_1006F470(dword_109B423C, v3, dword_10E8298C);
    else
      v1 = (char *)sub_1006F210(v3, dword_10E8298C);
    dword_109B423C = v1;
    if ( !sub_10055DA0(37, 0, v3, (int)v1) )
      return 1;
    sub_1006F2C0((unsigned int)dword_109B423C, dword_10E8298C);
    dword_109B423C = 0;
  }
  return 0;
}
// 10E8298C: using guessed type int dword_10E8298C;

//----- (10008810) --------------------------------------------------------
char __usercall sub_10008810@<al>(int a1@<ecx>, int a2@<edi>, char a3, unsigned __int16 a4, int a5)
{
  int v5; // ebp@1
  unsigned int v6; // edx@1
  const char *v7; // eax@1
  _DWORD *v8; // ecx@1
  int v9; // esi@5
  int v10; // edx@6
  _BYTE *v11; // eax@6
  _BYTE *v12; // ecx@6
  int v13; // edx@8
  _BYTE *v14; // eax@8
  _BYTE *v15; // ecx@8
  _BYTE *v16; // eax@10
  _BYTE *v17; // ecx@10
  signed int v18; // eax@12
  __int32 v19; // eax@16
  __int32 v20; // eax@18
  __int32 v21; // eax@20
  unsigned __int8 v23; // al@29
  bool v24; // cf@31
  char v25[4]; // [sp+8h] [bp-Ch]@16
  char v26; // [sp+Ch] [bp-8h]@16

  v5 = a4 + a1;
  *(_BYTE *)(a2 + 1) = -1;
  *(_BYTE *)a2 = -1;
  *(_WORD *)(a2 + 2) = 255;
  v6 = 4;
  v7 = "    ";
  v8 = (_DWORD *)(a4 + a1);
  do
  {
    if ( *v8 != *(_DWORD *)v7 )
      goto LABEL_5;
    v6 -= 4;
    v7 += 4;
    ++v8;
  }
  while ( v6 >= 4 );
  if ( !v6 )
  {
LABEL_14:
    v18 = 0;
    goto LABEL_15;
  }
LABEL_5:
  v9 = *(_BYTE *)v8 - *v7;
  if ( *(_BYTE *)v8 == *v7 )
  {
    v10 = v6 - 1;
    v11 = v7 + 1;
    v12 = (char *)v8 + 1;
    if ( !v10 )
      goto LABEL_14;
    v9 = *v12 - *v11;
    if ( *v12 == *v11 )
    {
      v13 = v10 - 1;
      v14 = v11 + 1;
      v15 = v12 + 1;
      if ( !v13 )
        goto LABEL_14;
      v9 = *v15 - *v14;
      if ( *v15 == *v14 )
      {
        v16 = v14 + 1;
        v17 = v15 + 1;
        if ( v13 == 1 )
          goto LABEL_14;
        v9 = *v17 - *v16;
        if ( *v17 == *v16 )
          goto LABEL_14;
      }
    }
  }
  v18 = 1;
  if ( v9 <= 0 )
    v18 = -1;
LABEL_15:
  if ( v18 )
  {
    *(_DWORD *)v25 = *(_DWORD *)v5;
    v26 = 0;
    v19 = j__atol(v25);
    if ( v19 > 0 )
      *(_WORD *)(a2 + 2) = v19;
    *(_WORD *)v25 = *(_WORD *)(v5 + 4);
    v25[2] = 0;
    v20 = j__atol(v25);
    if ( v20 > 0 )
      *(_BYTE *)a2 = v20;
    *(_WORD *)v25 = *(_WORD *)(v5 + 6);
    v25[2] = 0;
    v21 = j__atol(v25);
    if ( v21 > 0 )
      *(_BYTE *)(a2 + 1) = v21;
  }
  if ( a3 == 32 || a3 == 82 || !(_WORD)a5 || !HIWORD(a5) || a3 == 65 )
    return 1;
  if ( a3 != 68 )
    return 0;
  v23 = *(_BYTE *)a2;
  if ( *(_BYTE *)a2 > 0xCu )
    return 0;
  if ( BYTE1(a5) >= *(_BYTE *)(a2 + 1) )
    goto LABEL_40;
  v24 = (unsigned __int8)a5 < v23;
  if ( (_BYTE)a5 != v23 )
    goto LABEL_34;
  if ( HIWORD(a5) != *(_WORD *)(a2 + 2) )
  {
LABEL_40:
    v24 = (unsigned __int8)a5 < v23;
LABEL_34:
    if ( v24 && HIWORD(a5) == *(_WORD *)(a2 + 2) || HIWORD(a5) < *(_WORD *)(a2 + 2) )
      return 1;
    return 0;
  }
  return 1;
}

//----- (100089A0) --------------------------------------------------------
int __usercall sub_100089A0@<eax>(int a1@<ebx>, double a2)
{
  double v2; // st7@1
  double v3; // ST40_8@1
  signed int v4; // edi@1
  signed int v5; // esi@1
  int v6; // esi@1
  __int16 v7; // di@1
  double v8; // ST30_8@1
  __int16 v9; // si@1
  double v10; // st7@1
  __int16 v11; // ax@1
  double v12; // st7@1
  __int16 v13; // cx@3

  v2 = floor(a2 + 0.5);
  v3 = v2;
  v4 = (signed int)v2;
  v5 = (signed __int16)(signed int)floor(((double)(signed int)v2 - 1867216.25) / 36524.25);
  v6 = v5 - (signed int)floor((double)(v5 / 4)) + v4 + 1525;
  v7 = (signed int)floor(((double)v6 - 122.1) / 365.25);
  v8 = (double)(v6 - (signed int)floor((double)v7 * 365.25));
  v9 = (signed int)floor(v8 / 30.6001);
  v10 = floor((double)v9 * 30.6001);
  v11 = v9 - 1;
  v12 = v8 - v10 + a2 + 0.5 - v3;
  if ( v9 > 13 )
    v11 = v9 - 13;
  v13 = v7 - 4716;
  if ( v11 <= 2 )
    v13 = v7 - 4715;
  *(double *)(a1 + 4) = v12;
  *(_WORD *)(a1 + 2) = v11;
  *(_WORD *)a1 = v13;
  return a1;
}

//----- (10008AF0) --------------------------------------------------------
double __cdecl sub_10008AF0(int a1)
{
  double v1; // st7@1
  double v2; // st7@1
  char v4[12]; // [sp+8h] [bp-Ch]@1

  *(double *)&v4[4] = 29.0;
  *(_DWORD *)v4 = 788427;
  *(double *)v4 = sub_10007290((int)v4);
  v1 = sub_10007290(a1);
  v2 = floor((v1 - *(double *)v4) / 14.0);
  return v2 * 14.0 + *(double *)v4;
}

//----- (10008B40) --------------------------------------------------------
char sub_10008B40()
{
  unsigned int v0; // ecx@1
  unsigned int v1; // eax@2
  unsigned int v2; // ebx@5
  int v3; // edi@5
  __int16 v4; // ax@8
  unsigned int v5; // edx@8
  bool v6; // cf@9
  bool v7; // zf@9
  int v8; // eax@9
  unsigned int v9; // ebp@11
  unsigned int v10; // esi@11
  const char **v11; // edi@12
  int v13; // [sp+0h] [bp-3Ch]@5
  char v14; // [sp+7h] [bp-35h]@6
  int v15; // [sp+8h] [bp-34h]@9
  int v16; // [sp+Ch] [bp-30h]@9
  int v17; // [sp+10h] [bp-2Ch]@8
  char v18; // [sp+14h] [bp-28h]@6
  char v19; // [sp+18h] [bp-24h]@7
  unsigned __int8 v20; // [sp+20h] [bp-1Ch]@8
  unsigned __int8 v21; // [sp+21h] [bp-1Bh]@8
  unsigned __int8 v22; // [sp+22h] [bp-1Ah]@8
  unsigned __int8 v23; // [sp+23h] [bp-19h]@8
  unsigned __int8 v24; // [sp+28h] [bp-14h]@16

  v0 = 0;
  do
  {
    v1 = 0;
    if ( dword_1008DEEC[v0] )
    {
      do
      {
        *(_WORD *)(dword_109B41AC[v0] + 2 * v1) = 0;
        *(_BYTE *)(v1++ + dword_109B4248[v0]) = 0;
      }
      while ( v1 < dword_1008DEEC[v0] );
    }
    ++v0;
  }
  while ( v0 < 5 );
  v2 = 0;
  v3 = 0;
  v13 = 0;
  while ( 1 )
  {
    if ( sub_10055DE0((unsigned __int16)word_1008D92C[v2], &v18, &v14)
      || sub_10055DA0((unsigned __int16)word_1008D92C[v2], 0, 32, (int)&v19) )
    {
      return 0;
    }
    v4 = v22 + (v23 << 8);
    word_109B4268[v2] = v20 + (v21 << 8);
    v5 = dword_10E8298C;
    word_109B41E0[v2] = v4;
    v17 = sub_1006F210((unsigned __int16)v4, v5);
    if ( !v17 )
    {
      sub_100429F0("..\\lib\\adl\\cht_def_jepp.c", 6156, 0, 0);
      return 0;
    }
    v6 = (unsigned __int16)word_109B4268[v2] < 0x40u;
    v7 = word_109B4268[v2] == 64;
    v8 = 32;
    v16 = 32;
    v15 = 1;
    if ( !v6 && !v7 )
      break;
LABEL_18:
    sub_1006F2C0(v17, dword_10E8298C);
    ++v2;
    v3 += 4;
    v13 = v3;
    if ( v2 >= 5 )
      return 1;
  }
  while ( !sub_10055DA0((unsigned __int16)word_1008D92C[v2], v8, 32, (int)&v19) )
  {
    v9 = *(int *)((char *)dword_1008DEEC + v3);
    v10 = 0;
    if ( v9 )
    {
      v11 = *(const char ***)((char *)&off_1008DEA4 + v3);
      while ( strcmp(&v19, *v11) )
      {
        ++v10;
        ++v11;
        if ( v10 >= v9 )
          goto LABEL_17;
      }
      *(_WORD *)(*(int *)((char *)dword_109B41AC + v13) + 2 * v10) = v15;
      *(_BYTE *)(v10 + *(int *)((char *)dword_109B4248 + v13)) = v24;
    }
LABEL_17:
    LOWORD(v15) = v24 + (_WORD)v15;
    v3 = v13;
    v8 = v16 + 32;
    v6 = v16 + 64 < (unsigned int)(unsigned __int16)word_109B4268[v2];
    v16 += 32;
    if ( !v6 )
      goto LABEL_18;
  }
  sub_1006F2C0(v17, dword_10E8298C);
  return 0;
}
// 1008D92C: using guessed type __int16 word_1008D92C[];
// 1008DEA4: using guessed type char *(*off_1008DEA4)[27];
// 1008DEEC: using guessed type int dword_1008DEEC[];
// 109B41AC: using guessed type int dword_109B41AC[];
// 109B41E0: using guessed type __int16 word_109B41E0[];
// 109B4248: using guessed type int dword_109B4248[];
// 109B4268: using guessed type __int16 word_109B4268[];
// 10E8298C: using guessed type int dword_10E8298C;

//----- (10008DB0) --------------------------------------------------------
bool __cdecl sub_10008DB0(int a1, _BYTE *a2)
{
  char *v2; // ebp@1
  bool result; // al@1
  int v4; // ebx@2
  int v5; // edi@5
  int v6; // edx@5
  char *v7; // esi@6
  char v8; // cl@9
  int v9; // [sp+4h] [bp-118h]@2
  int v10; // [sp+8h] [bp-114h]@10
  int v11; // [sp+Ch] [bp-110h]@2
  int v12; // [sp+10h] [bp-10Ch]@2
  char v13; // [sp+14h] [bp-108h]@2
  char v14; // [sp+18h] [bp-104h]@1

  sub_10042590((int)&v14, a2, 256);
  sub_10042750(&v14, &unk_1008DFE8, 256);
  v2 = strstr(dword_109B423C, &v14);
  result = 0;
  if ( v2 )
  {
    v4 = 0;
    v11 = 808464432;
    v12 = 808464432;
    v13 = 0;
    v9 = 0;
    if ( v2[strlen(&v14)] != 13 )
    {
      do
        ++v4;
      while ( *(&v2[v4] + strlen(&v14)) != 13 );
      v9 = v4;
    }
    v5 = 8 - v4;
    v6 = 0;
    if ( (unsigned int)(8 - v4) < 8 )
    {
      v7 = (char *)&v11 + v5;
      while ( v6 < v4 )
      {
        v8 = *(&v2[v6++] + strlen(&v14));
        *v7++ = v8;
        if ( (unsigned int)(v5 + v6) >= 8 )
          break;
        v4 = v9;
      }
    }
    result = sub_100424B0((int)&v11, strlen((const char *)&v11), &v10) && v10 == a1;
  }
  return result;
}

//----- (10008F20) --------------------------------------------------------
char sub_10008F20()
{
  int v1; // esi@4
  int v2; // ebp@4
  unsigned int v3; // edi@6
  unsigned int v4; // esi@6
  char *v5; // eax@7
  int v6; // eax@9
  int v7; // ecx@9
  unsigned int v8; // eax@11
  int v9; // ebx@11
  _DWORD *v10; // ecx@11
  const char *v11; // edx@11
  int v12; // esi@15
  int v13; // eax@16
  _BYTE *v14; // ecx@16
  _BYTE *v15; // edx@16
  int v16; // eax@18
  _BYTE *v17; // ecx@18
  _BYTE *v18; // edx@18
  _BYTE *v19; // ecx@20
  _BYTE *v20; // edx@20
  signed int v21; // eax@22
  char *v22; // edi@28
  char v23; // al@29
  unsigned int v24; // eax@31
  _DWORD *v25; // ecx@31
  const char *v26; // edx@31
  int v27; // esi@35
  int v28; // eax@36
  _BYTE *v29; // ecx@36
  _BYTE *v30; // edx@36
  int v31; // eax@38
  _BYTE *v32; // ecx@38
  _BYTE *v33; // edx@38
  _BYTE *v34; // ecx@40
  _BYTE *v35; // edx@40
  signed int v36; // eax@42
  char *v37; // edi@47
  char v38; // al@48
  unsigned int v39; // eax@50
  _DWORD *v40; // ecx@50
  const char *v41; // edx@50
  int v42; // esi@54
  int v43; // eax@55
  _BYTE *v44; // ecx@55
  _BYTE *v45; // edx@55
  int v46; // eax@57
  _BYTE *v47; // ecx@57
  _BYTE *v48; // edx@57
  _BYTE *v49; // ecx@59
  _BYTE *v50; // edx@59
  signed int v51; // eax@61
  char *v52; // edi@65
  char v53; // al@66
  char v54; // al@69
  int v55; // eax@71
  unsigned int v56; // esi@73
  const char *v57; // [sp-18h] [bp-48h]@64
  int v58; // [sp+0h] [bp-30h]@4
  int v59; // [sp+4h] [bp-2Ch]@9
  int v60; // [sp+8h] [bp-28h]@1
  char v61; // [sp+Ch] [bp-24h]@3
  unsigned __int8 v62; // [sp+10h] [bp-20h]@4
  unsigned __int8 v63; // [sp+11h] [bp-1Fh]@4
  unsigned __int8 v64; // [sp+12h] [bp-1Eh]@4
  unsigned __int8 v65; // [sp+13h] [bp-1Dh]@4

  if ( sub_10055E40(31, &v60) || sub_10055DA0(31, 0, 32, (int)&v61) )
    return 0;
  v1 = v62 + ((v63 + ((v64 + (v65 << 8)) << 8)) << 8);
  v2 = sub_1006F210((unsigned __int16)word_109B41E8, dword_10E8298C);
  v58 = v2;
  if ( !v2 )
  {
    sub_100429F0("..\\lib\\adl\\cht_def_jepp.c", 934, 0, 0);
    return 0;
  }
  sub_10008550((int *)3, &dword_109B4204);
  dword_109B4204 = 0;
  dword_109B4208 = 0;
  dword_109B420C = 0;
  dword_109B4210 = 0;
  v3 = 0;
  v4 = 3 * v1 + 1;
  do
  {
    v5 = (char *)sub_1006F210(v4, dword_10E8298C);
    (&dword_109B4204)[4 * v3] = v5;
    if ( !v5 )
    {
      sub_10008550((int *)(v3 - 1), &dword_109B4204);
      return 0;
    }
    ++v3;
    *(_WORD *)v5 = 32;
  }
  while ( v3 < 4 );
  v6 = (unsigned __int16)word_109B4270;
  v7 = (unsigned __int16)word_109B41E8;
  v59 = 0;
  if ( (unsigned __int16)word_109B41E8 + (unsigned __int16)word_109B4270 >= v60 )
  {
LABEL_72:
    sub_1006F2C0(v2, dword_10E8298C);
    return 1;
  }
  while ( !sub_10055DA0(31, v6, v7, v2) )
  {
    v8 = (unsigned __int8)byte_109B4230;
    v9 = (unsigned __int16)word_109B41C8 + v2;
    v10 = (_DWORD *)((unsigned __int16)word_109B41C8 + v2);
    v11 = "APPROACH            ";
    if ( (unsigned __int8)byte_109B4230 < 4u )
    {
LABEL_14:
      if ( !v8 )
        goto LABEL_26;
    }
    else
    {
      while ( *(_DWORD *)v11 == *v10 )
      {
        v8 -= 4;
        ++v10;
        v11 += 4;
        if ( v8 < 4 )
          goto LABEL_14;
      }
    }
    v12 = *v11 - *(_BYTE *)v10;
    if ( *v11 == *(_BYTE *)v10 )
    {
      v13 = v8 - 1;
      v14 = (char *)v10 + 1;
      v15 = v11 + 1;
      if ( !v13
        || (v12 = *v15 - *v14, *v15 == *v14)
        && ((v16 = v13 - 1, v17 = v14 + 1, v18 = v15 + 1, !v16)
         || (v12 = *v18 - *v17, *v18 == *v17)
         && ((v19 = v17 + 1, v20 = v18 + 1, v16 == 1) || (v12 = *v20 - *v19, *v20 == *v19))) )
      {
        v2 = v58;
LABEL_26:
        v21 = 0;
        goto LABEL_27;
      }
    }
    v2 = v58;
    v21 = 1;
    if ( v12 <= 0 )
      v21 = -1;
LABEL_27:
    if ( !v21 )
    {
      strncat(dword_109B4204, (const char *)(v2 + (unsigned __int16)word_109B41CA), 2u);
      v22 = dword_109B4204 - 1;
      do
        v23 = (v22++)[1];
      while ( v23 );
      *(_WORD *)v22 = 32;
      goto LABEL_71;
    }
    v24 = (unsigned __int8)byte_109B4230;
    v25 = (_DWORD *)v9;
    v26 = "ARRIVAL             ";
    if ( (unsigned __int8)byte_109B4230 < 4u )
    {
LABEL_34:
      if ( !v24 )
        goto LABEL_45;
    }
    else
    {
      while ( *(_DWORD *)v26 == *v25 )
      {
        v24 -= 4;
        ++v25;
        v26 += 4;
        if ( v24 < 4 )
          goto LABEL_34;
      }
    }
    v27 = *v26 - *(_BYTE *)v25;
    if ( *v26 != *(_BYTE *)v25
      || (v28 = v24 - 1, v29 = (char *)v25 + 1, v30 = v26 + 1, v28)
      && ((v27 = *v30 - *v29, *v30 != *v29)
       || (v31 = v28 - 1, v32 = v29 + 1, v33 = v30 + 1, v31)
       && ((v27 = *v33 - *v32, *v33 != *v32)
        || (v34 = v32 + 1, v35 = v33 + 1, v31 != 1) && (v27 = *v35 - *v34, *v35 != *v34))) )
    {
      v2 = v58;
      v36 = 1;
      if ( v27 <= 0 )
        v36 = -1;
      goto LABEL_46;
    }
    v2 = v58;
LABEL_45:
    v36 = 0;
LABEL_46:
    if ( v36 )
    {
      v39 = (unsigned __int8)byte_109B4230;
      v40 = (_DWORD *)v9;
      v41 = "DEPARTURE           ";
      if ( (unsigned __int8)byte_109B4230 < 4u )
      {
LABEL_53:
        if ( v39 )
          goto LABEL_54;
      }
      else
      {
        while ( *(_DWORD *)v41 == *v40 )
        {
          v39 -= 4;
          ++v40;
          v41 += 4;
          if ( v39 < 4 )
            goto LABEL_53;
        }
LABEL_54:
        v42 = *v41 - *(_BYTE *)v40;
        if ( *v41 != *(_BYTE *)v40
          || (v43 = v39 - 1, v44 = (char *)v40 + 1, v45 = v41 + 1, v43)
          && ((v42 = *v45 - *v44, *v45 != *v44)
           || (v46 = v43 - 1, v47 = v44 + 1, v48 = v45 + 1, v46)
           && ((v42 = *v48 - *v47, *v48 != *v47)
            || (v49 = v47 + 1, v50 = v48 + 1, v46 != 1) && (v42 = *v50 - *v49, *v50 != *v49))) )
        {
          v51 = 1;
          if ( v42 <= 0 )
            v51 = -1;
          goto LABEL_64;
        }
      }
      v51 = 0;
LABEL_64:
      v57 = (const char *)(v2 + (unsigned __int16)word_109B41CA);
      if ( v51 )
      {
        strncat(dword_109B4210, v57, 2u);
        v52 = dword_109B4210 - 1;
        do
          v54 = (v52++)[1];
        while ( v54 );
      }
      else
      {
        strncat(dword_109B420C, v57, 2u);
        v52 = dword_109B420C - 1;
        do
          v53 = (v52++)[1];
        while ( v53 );
      }
      *(_WORD *)v52 = 32;
      goto LABEL_71;
    }
    strncat(dword_109B4208, (const char *)(v2 + (unsigned __int16)word_109B41CA), 2u);
    v37 = dword_109B4208 - 1;
    do
      v38 = (v37++)[1];
    while ( v38 );
    *(_WORD *)v37 = 32;
LABEL_71:
    v7 = (unsigned __int16)word_109B41E8;
    v55 = (v59++ + 1) * (unsigned __int16)word_109B41E8;
    v6 = (unsigned __int16)word_109B4270 + v55;
    if ( (unsigned __int16)word_109B41E8 + v6 >= v60 )
      goto LABEL_72;
  }
  sub_1006F2C0(v2, dword_10E8298C);
  v56 = 0;
  do
  {
    sub_1006F2C0((unsigned int)(&dword_109B4204)[v56], dword_10E8298C);
    v56 += 4;
  }
  while ( v56 < 0x10 );
  return 0;
}
// 109B41C8: using guessed type __int16 word_109B41C8;
// 109B41CA: using guessed type __int16 word_109B41CA;
// 109B41E8: using guessed type __int16 word_109B41E8;
// 109B4230: using guessed type char byte_109B4230;
// 109B4270: using guessed type __int16 word_109B4270;
// 10E8298C: using guessed type int dword_10E8298C;

//----- (100093D0) --------------------------------------------------------
char sub_100093D0()
{
  char result; // al@2
  const char *v1; // esi@3
  char *v2; // eax@6
  char *v3; // eax@8
  double v4; // st7@12
  unsigned int v5; // [sp+0h] [bp-2Ch]@1
  int v6; // [sp+4h] [bp-28h]@12
  __int16 v7; // [sp+8h] [bp-24h]@12
  __int16 v8; // [sp+Ah] [bp-22h]@12
  double v9; // [sp+Ch] [bp-20h]@12
  double v10; // [sp+14h] [bp-18h]@10
  char v11; // [sp+1Ch] [bp-10h]@5

  if ( sub_10055E40(29, &v5) )
    return 9;
  v1 = (const char *)sub_1006F210(v5, dword_10E8298C);
  if ( !v1 || sub_10055DA0(29, 0, v5, (int)v1) )
    return 9;
  if ( sub_10055DA0(27, 16, 12, (int)&v11)
    || (v2 = strstr(v1, "Database_Begin_Date=")) == 0
    || strncmp(v2 + 20, &v11, strlen(&v11)) )
  {
    sub_1006F2C0((unsigned int)v1, dword_10E8298C);
    return 9;
  }
  v3 = strstr(v1, "Database_End_Date=");
  if ( !v3 )
  {
    sub_1006F2C0((unsigned int)v1, dword_10E8298C);
    return 9;
  }
  v10 = atof(v3 + 18);
  if ( dword_10E82988 )
  {
    v7 = HIWORD(dword_10E82988);
    v6 = BYTE1(dword_10E82988);
    v8 = (unsigned __int8)dword_10E82988;
    v9 = (double)BYTE1(dword_10E82988);
    v4 = sub_10007290((int)&v7);
    if ( v10 <= v4 )
    {
      if ( v10 + 7.0 <= v4 )
      {
        if ( v10 + 70.0 <= v4 )
        {
          sub_1006F2C0((unsigned int)v1, dword_10E8298C);
          result = 7;
        }
        else
        {
          sub_1006F2C0((unsigned int)v1, dword_10E8298C);
          result = 2;
        }
      }
      else
      {
        sub_1006F2C0((unsigned int)v1, dword_10E8298C);
        result = 3;
      }
    }
    else
    {
      sub_1006F2C0((unsigned int)v1, dword_10E8298C);
      result = 1;
    }
  }
  else
  {
    sub_1006F2C0((unsigned int)v1, dword_10E8298C);
    result = 4;
  }
  return result;
}
// 10E82988: using guessed type int dword_10E82988;
// 10E8298C: using guessed type int dword_10E8298C;

//----- (10009610) --------------------------------------------------------
int __cdecl sub_10009610(char *a1, char a2, int a3)
{
  signed int v3; // esi@1
  char *v4; // edi@2
  char v5; // al@3
  char v7; // al@7
  int v8; // ebx@11
  int v9; // esi@13
  int v10; // ebp@13
  int v11; // edi@14
  unsigned int v12; // ecx@16
  char *v13; // edx@16
  _DWORD *v14; // eax@16
  int v15; // esi@20
  int v16; // ecx@21
  _BYTE *v17; // edx@21
  _BYTE *v18; // eax@21
  int v19; // ecx@23
  _BYTE *v20; // edx@23
  _BYTE *v21; // eax@23
  _BYTE *v22; // edx@25
  _BYTE *v23; // eax@25
  signed int v24; // eax@27
  unsigned int v25; // eax@42
  const char *v26; // ecx@42
  _DWORD *v27; // edx@42
  int v28; // esi@46
  int v29; // eax@47
  _BYTE *v30; // ecx@47
  _BYTE *v31; // edx@47
  int v32; // eax@49
  _BYTE *v33; // ecx@49
  _BYTE *v34; // edx@49
  _BYTE *v35; // ecx@51
  _BYTE *v36; // edx@51
  signed int v37; // eax@53
  unsigned int v38; // eax@59
  const char *v39; // ecx@59
  _DWORD *v40; // edx@59
  int v41; // esi@63
  int v42; // eax@64
  _BYTE *v43; // ecx@64
  _BYTE *v44; // edx@64
  int v45; // eax@66
  _BYTE *v46; // ecx@66
  _BYTE *v47; // edx@66
  _BYTE *v48; // ecx@68
  _BYTE *v49; // edx@68
  signed int v50; // eax@70
  unsigned int v51; // eax@74
  const char *v52; // ecx@74
  _DWORD *v53; // edx@74
  int v54; // esi@78
  int v55; // eax@79
  _BYTE *v56; // ecx@79
  _BYTE *v57; // edx@79
  int v58; // eax@81
  _BYTE *v59; // ecx@81
  _BYTE *v60; // edx@81
  _BYTE *v61; // ecx@83
  _BYTE *v62; // edx@83
  signed int v63; // eax@85
  int v64; // edi@93
  int v65; // esi@95
  int v66; // ebp@98
  unsigned int v67; // ecx@99
  _DWORD *v68; // eax@99
  char *v69; // edx@99
  int v70; // esi@103
  int v71; // ecx@104
  _BYTE *v72; // edx@104
  _BYTE *v73; // eax@104
  int v74; // ecx@106
  _BYTE *v75; // edx@106
  _BYTE *v76; // eax@106
  _BYTE *v77; // edx@108
  _BYTE *v78; // eax@108
  signed int v79; // eax@110
  const char *v80; // ST28_4@115
  int v81; // esi@115
  char v82; // bl@116
  char *v83; // eax@117
  char *v84; // eax@119
  unsigned int v85; // kr04_4@121
  char *v86; // eax@121
  bool v87; // cf@127
  int v88; // esi@134
  signed int v89; // eax@135
  unsigned __int8 v90; // al@148
  int v91; // esi@150
  signed int v92; // eax@152
  int v93; // esi@165
  char v94; // [sp+Fh] [bp-E9h]@13
  char v95; // [sp+Fh] [bp-E9h]@42
  int v96; // [sp+10h] [bp-E8h]@1
  int v97; // [sp+14h] [bp-E4h]@13
  int v98; // [sp+14h] [bp-E4h]@98
  signed int v99; // [sp+18h] [bp-E0h]@95
  unsigned int v100; // [sp+1Ch] [bp-DCh]@11
  char v101; // [sp+27h] [bp-D1h]@9
  int v102; // [sp+28h] [bp-D0h]@9
  int v103; // [sp+2Ch] [bp-CCh]@98
  char v104[2]; // [sp+30h] [bp-C8h]@115
  char v105; // [sp+33h] [bp-C5h]@115
  int v106; // [sp+34h] [bp-C4h]@1
  char *v107; // [sp+38h] [bp-C0h]@1
  int v108; // [sp+3Ch] [bp-BCh]@95
  int v109; // [sp+40h] [bp-B8h]@116
  unsigned int v110; // [sp+46h] [bp-B2h]@116
  char v111; // [sp+4Ah] [bp-AEh]@117
  char v112; // [sp+63h] [bp-95h]@117
  char v113; // [sp+64h] [bp-94h]@119
  char v114[32]; // [sp+76h] [bp-82h]@121
  char v115; // [sp+96h] [bp-62h]@119
  char v116; // [sp+D4h] [bp-24h]@135
  char v117; // [sp+D6h] [bp-22h]@135
  char v118; // [sp+D8h] [bp-20h]@137
  char v119; // [sp+DCh] [bp-1Ch]@135
  char v120; // [sp+E8h] [bp-10h]@40
  char v121; // [sp+F0h] [bp-8h]@40

  v106 = a3;
  v107 = a1;
  v3 = -1;
  v96 = dword_10E82988;
  if ( strlen(a1) < 4 )
  {
    v4 = a1 - 1;
    do
      v5 = (v4++)[1];
    while ( v5 );
    *(_WORD *)v4 = 32;
  }
  if ( !strncmp(a1, "______", 4u) )
    return -1;
  v7 = sub_10002B90();
  if ( !byte_10E8E0F0 || (unsigned __int8)v7 >= 5u )
    return v3;
  if ( sub_10055DE0(26, &v102, &v101) || sub_10055E40(26, &v102) )
    return -1;
  v8 = sub_1006F210((unsigned __int16)word_109B41E0[0], dword_10E8298C);
  v100 = v8;
  if ( !v8 )
  {
    sub_100429F0("..\\lib\\adl\\cht_def_jepp.c", 1684, 0, 0);
    return -1;
  }
  v9 = v102;
  v94 = 0;
  v97 = 0;
  v10 = (v102 - (unsigned __int16)word_109B4268[0]) / (unsigned __int16)word_109B41E0[0];
  while ( 1 )
  {
    v11 = (v97 + v10) / 2;
    if ( (unsigned __int16)word_109B4268[0] + (unsigned __int16)word_109B41E0[0] * v11 > v9
                                                                                       - (unsigned __int16)word_109B41E0[0] )
      goto LABEL_40;
    if ( sub_10055DA0(
           26,
           (unsigned __int16)word_109B4268[0] + (unsigned __int16)word_109B41E0[0] * ((v97 + v10) / 2),
           (unsigned __int16)word_109B41E0[0],
           v8) )
    {
      sub_1006F2C0(v8, dword_10E8298C);
      return -1;
    }
    v12 = (unsigned __int8)byte_109B425C;
    v13 = v107;
    v14 = (_DWORD *)(v8 + (unsigned __int16)word_109B4214);
    if ( (unsigned __int8)byte_109B425C < 4u )
    {
LABEL_19:
      if ( !v12 )
        goto LABEL_30;
    }
    else
    {
      while ( *v14 == *(_DWORD *)v13 )
      {
        v12 -= 4;
        v13 += 4;
        ++v14;
        if ( v12 < 4 )
          goto LABEL_19;
      }
    }
    v15 = *(_BYTE *)v14 - (unsigned __int8)*v13;
    if ( *(_BYTE *)v14 == (unsigned __int8)*v13 )
    {
      v16 = v12 - 1;
      v17 = v13 + 1;
      v18 = (char *)v14 + 1;
      if ( !v16
        || (v15 = *v18 - *v17, *v18 == *v17)
        && ((v19 = v16 - 1, v20 = v17 + 1, v21 = v18 + 1, !v19)
         || (v15 = *v21 - *v20, *v21 == *v20)
         && ((v22 = v20 + 1, v23 = v21 + 1, v19 == 1) || (v15 = *v23 - *v22, *v23 == *v22))) )
      {
        v8 = v100;
LABEL_30:
        v24 = 0;
        goto LABEL_31;
      }
    }
    v8 = v100;
    v24 = 1;
    if ( v15 <= 0 )
      v24 = -1;
LABEL_31:
    if ( !v24 )
      break;
    if ( v24 <= 0 )
    {
      if ( v24 < 0 )
        v97 = v11 + 1;
    }
    else
    {
      v10 = v11 - 1;
    }
    if ( v97 > v10 || v10 < 0 )
    {
      v94 = 0;
      goto LABEL_40;
    }
    v9 = v102;
  }
  v94 = 1;
LABEL_40:
  memcpy(&v120, (const void *)(v8 + (unsigned __int16)word_109B4216), (unsigned __int8)byte_109B425D);
  v121 = 0;
  if ( v94 && j__atol(&v120) > 0 )
  {
    v25 = (unsigned __int8)byte_109B4260;
    v95 = 0;
    v26 = "WGE";
    v27 = (_DWORD *)((unsigned __int16)word_109B421C + v8);
    if ( (unsigned __int8)byte_109B4260 < 4u )
    {
LABEL_45:
      if ( v25 )
        goto LABEL_46;
    }
    else
    {
      while ( *v27 == *(_DWORD *)v26 )
      {
        v25 -= 4;
        v26 += 4;
        ++v27;
        if ( v25 < 4 )
          goto LABEL_45;
      }
LABEL_46:
      v28 = *(_BYTE *)v27 - *v26;
      if ( *(_BYTE *)v27 != *v26
        || (v29 = v25 - 1, v30 = v26 + 1, v31 = (char *)v27 + 1, v29)
        && ((v28 = *v31 - *v30, *v31 != *v30)
         || (v32 = v29 - 1, v33 = v30 + 1, v34 = v31 + 1, v32)
         && ((v28 = *v34 - *v33, *v34 != *v33)
          || (v35 = v33 + 1, v36 = v34 + 1, v32 != 1) && (v28 = *v36 - *v35, *v36 != *v35))) )
      {
        v37 = 1;
        if ( v28 <= 0 )
          v37 = -1;
LABEL_58:
        if ( !v37 )
          goto LABEL_89;
        v38 = (unsigned __int8)byte_109B4260;
        v39 = "NAW";
        v40 = (_DWORD *)((unsigned __int16)word_109B421C + v8);
        if ( (unsigned __int8)byte_109B4260 < 4u )
        {
LABEL_62:
          if ( v38 )
            goto LABEL_63;
        }
        else
        {
          while ( *v40 == *(_DWORD *)v39 )
          {
            v38 -= 4;
            v39 += 4;
            ++v40;
            if ( v38 < 4 )
              goto LABEL_62;
          }
LABEL_63:
          v41 = *(_BYTE *)v40 - *v39;
          if ( *(_BYTE *)v40 != *v39
            || (v42 = v38 - 1, v43 = v39 + 1, v44 = (char *)v40 + 1, v42)
            && ((v41 = *v44 - *v43, *v44 != *v43)
             || (v45 = v42 - 1, v46 = v43 + 1, v47 = v44 + 1, v45)
             && ((v41 = *v47 - *v46, *v47 != *v46)
              || (v48 = v46 + 1, v49 = v47 + 1, v45 != 1) && (v41 = *v49 - *v48, *v49 != *v48))) )
          {
            v50 = 1;
            if ( v41 <= 0 )
              v50 = -1;
LABEL_73:
            if ( !v50 )
              goto LABEL_89;
            v51 = (unsigned __int8)byte_109B4260;
            v52 = "NAR";
            v53 = (_DWORD *)((unsigned __int16)word_109B421C + v8);
            if ( (unsigned __int8)byte_109B4260 < 4u )
            {
LABEL_77:
              if ( v51 )
                goto LABEL_78;
            }
            else
            {
              while ( *v53 == *(_DWORD *)v52 )
              {
                v51 -= 4;
                v52 += 4;
                ++v53;
                if ( v51 < 4 )
                  goto LABEL_77;
              }
LABEL_78:
              v54 = *(_BYTE *)v53 - *v52;
              if ( *(_BYTE *)v53 != *v52
                || (v55 = v51 - 1, v56 = v52 + 1, v57 = (char *)v53 + 1, v55)
                && ((v54 = *v57 - *v56, *v57 != *v56)
                 || (v58 = v55 - 1, v59 = v56 + 1, v60 = v57 + 1, v58)
                 && ((v54 = *v60 - *v59, *v60 != *v59)
                  || (v61 = v59 + 1, v62 = v60 + 1, v58 != 1) && (v54 = *v62 - *v61, *v62 != *v61))) )
              {
                v63 = 1;
                if ( v54 <= 0 )
                  v63 = -1;
LABEL_88:
                if ( !v63 )
LABEL_89:
                  v95 = 1;
                if ( sub_10055DE0(28, &v102, &v101) || sub_10055E40(28, &v102) )
                {
                  sub_1006F2C0(v100, dword_10E8298C);
                  return -1;
                }
                v64 = sub_1006F210((unsigned __int16)word_109B41E2, dword_10E8298C);
                if ( !v64 )
                {
                  sub_100429F0("..\\lib\\adl\\cht_def_jepp.c", 1805, 0, 0);
                  sub_1006F2C0(v100, dword_10E8298C);
                  return -1;
                }
                v65 = (unsigned __int16)word_109B41E2;
                v108 = (unsigned __int16)word_109B426A + v65 * (j__atol(&v120) - 1);
                v99 = 0;
                if ( sub_10055DA0(28, v108, v65, v64) )
                {
                  sub_1006F2C0(v100, dword_10E8298C);
                  sub_1006F2C0(v64, dword_10E8298C);
                  return -1;
                }
                v66 = v106;
                v98 = v106 + 32;
                v103 = v106 + 6;
                while ( 2 )
                {
                  v67 = (unsigned __int8)byte_109B41CC;
                  v68 = (_DWORD *)(v64 + (unsigned __int16)word_109B41EC);
                  v69 = v107;
                  if ( (unsigned __int8)byte_109B41CC < 4u )
                  {
LABEL_102:
                    if ( v67 )
                      goto LABEL_103;
                  }
                  else
                  {
                    while ( *v68 == *(_DWORD *)v69 )
                    {
                      v67 -= 4;
                      v69 += 4;
                      ++v68;
                      if ( v67 < 4 )
                        goto LABEL_102;
                    }
LABEL_103:
                    v70 = *(_BYTE *)v68 - (unsigned __int8)*v69;
                    if ( *(_BYTE *)v68 != (unsigned __int8)*v69
                      || (v71 = v67 - 1, v72 = v69 + 1, v73 = (char *)v68 + 1, v71)
                      && ((v70 = *v73 - *v72, *v73 != *v72)
                       || (v74 = v71 - 1, v75 = v72 + 1, v76 = v73 + 1, v74)
                       && ((v70 = *v76 - *v75, *v76 != *v75)
                        || (v77 = v75 + 1, v78 = v76 + 1, v74 != 1) && (v70 = *v78 - *v77, *v78 != *v77))) )
                    {
                      v79 = 1;
                      if ( v70 <= 0 )
                        v79 = -1;
LABEL_113:
                      if ( v79 || v99 >= 255 )
                      {
LABEL_168:
                        sub_10045410(v106, (unsigned __int16)v99, 0x8Eu, (int)sub_10007070);
                        sub_1006F2C0(v100, dword_10E8298C);
                        sub_1006F2C0(v64, dword_10E8298C);
                        return v99;
                      }
                      strcpy(v104, " ");
                      strncat(
                        v104,
                        (const char *)(v64 + (unsigned __int16)word_109B41EE),
                        (unsigned __int8)byte_109B41CD);
                      v80 = (&dword_109B4204)[4 * (unsigned __int8)a2];
                      v105 = 0;
                      v81 = v64;
                      if ( !strstr(v80, v104) )
                        goto LABEL_166;
                      v82 = *(_BYTE *)((unsigned __int16)word_109B41F6 + v64);
                      LOBYTE(v109) = *(_BYTE *)((unsigned __int16)word_109B41F6 + v64);
                      if ( !sub_10008810(v64, (int)&v110, v109, word_109B41F8, v96) )
                        goto LABEL_166;
                      memcpy(
                        &v111,
                        (const void *)(v64 + (unsigned __int16)word_109B41F0),
                        (unsigned __int8)byte_109B41CE);
                      v112 = 0;
                      v83 = strstr(&v111, word_1008DF9C);
                      if ( v83 )
                        *v83 = 0;
                      memcpy(
                        &v113,
                        (const void *)(v64 + (unsigned __int16)word_109B41F2),
                        (unsigned __int8)byte_109B41CF);
                      v115 = 0;
                      v84 = strstr(&v113, "  ");
                      if ( v84 )
                        *v84 = 0;
                      sub_10042750(&v113, ", (", 109);
                      v85 = strlen(&v113);
                      strncat(
                        &v113,
                        (const char *)(v64 + (unsigned __int16)word_109B41F4),
                        (unsigned __int8)byte_109B41D0);
                      v114[v85] = 0;
                      v86 = strstr(&v113, "  ");
                      if ( v86 )
                        *v86 = 0;
                      sub_10042750(&v113, ")", 109);
                      *(_BYTE *)v66 = 32;
                      *(_BYTE *)(v66 + 141) = v95;
                      if ( !(_WORD)v96 || !HIWORD(v96) )
                      {
                        v90 = v110;
                        if ( (unsigned __int8)v110 > 0xCu )
                          goto LABEL_174;
                        if ( v82 == 82 )
                        {
                          v91 = v103;
                          sub_10042590(v103, &v111, 26);
                          sub_10042590(v98, &v113, 109);
                          v90 = v110;
                          ++v99;
                          *(_DWORD *)(v66 + 2) = v110;
                          *(_BYTE *)v66 = 79;
                          v66 += 142;
                          v103 = v91 + 142;
                          v98 += 142;
                        }
                        if ( v90 > 0xCu )
                        {
LABEL_174:
                          if ( BYTE1(v110) == -1 && v90 == -1 && v82 == 68 )
                            sub_10042750(&v113, ", (DELETED)", 109);
                        }
                        else
                        {
                          sub_10042440(BYTE1(v110), 2, &v116);
                          v117 = 0;
                          sub_10042590((int)&v119, &v116, 12);
                          sub_10042750(&v119, "-", 12);
                          v92 = (unsigned __int8)v110;
                          if ( (unsigned __int8)v110 >= 0xDu )
                            v92 = 13;
                          sub_10042750(&v119, *(&off_1008DEB4 + v92), 12);
                          sub_10042750(&v119, "-", 12);
                          sub_10042440(HIWORD(v110), 4, &v116);
                          v118 = 0;
                          sub_10042750(&v119, &v116, 12);
                          sub_10042750(&v113, ", (", 109);
                          switch ( v82 )
                          {
                            case 65:
                              sub_10042750(&v113, "Eff. on: ", 109);
                              *(_BYTE *)v66 = 65;
                              break;
                            case 68:
                              sub_10042750(&v113, "Eff. before: ", 109);
                              *(_BYTE *)v66 = 68;
                              break;
                            case 82:
                              sub_10042750(&v113, "Revision eff. on: ", 109);
                              *(_BYTE *)v66 = 78;
                              break;
                          }
                          sub_10042750(&v113, &v119, 109);
                          sub_10042750(&v113, ")", 109);
                        }
                        goto LABEL_165;
                      }
                      if ( (unsigned __int8)v110 <= 0xCu )
                      {
                        if ( BYTE1(v96) >= BYTE1(v110) )
                          goto LABEL_129;
                        v87 = (unsigned __int8)v96 < (unsigned __int8)v110;
                        if ( (_BYTE)v96 == (_BYTE)v110 )
                        {
                          if ( HIWORD(v96) != HIWORD(v110) )
                          {
LABEL_129:
                            v87 = (unsigned __int8)v96 < (unsigned __int8)v110;
                            goto LABEL_130;
                          }
LABEL_133:
                          if ( v82 == 82 )
                          {
                            v88 = v103;
                            sub_10042590(v103, &v111, 26);
                            sub_10042590(v98, &v113, 109);
                            ++v99;
                            *(_DWORD *)(v66 + 2) = v110;
                            *(_BYTE *)v66 = 79;
                            v66 += 142;
                            v103 = v88 + 142;
                            v98 += 142;
                            goto LABEL_135;
                          }
                          if ( v82 == 68 )
                          {
                            *(_BYTE *)v66 = 68;
                          }
                          else
                          {
LABEL_135:
                            sub_10042440(BYTE1(v110), 2, &v116);
                            v117 = 0;
                            sub_10042590((int)&v119, &v116, 12);
                            sub_10042750(&v119, "-", 12);
                            v89 = (unsigned __int8)v110;
                            if ( (unsigned __int8)v110 >= 0xDu )
                              v89 = 13;
                            sub_10042750(&v119, *(&off_1008DEB4 + v89), 12);
                            sub_10042750(&v119, "-", 12);
                            sub_10042440(HIWORD(v110), 4, &v116);
                            v118 = 0;
                            sub_10042750(&v119, &v116, 12);
                            sub_10042750(&v113, ", (", 109);
                            if ( v82 == 65 )
                            {
                              sub_10042750(&v113, "Eff. on: ", 109);
                              *(_BYTE *)v66 = 65;
                            }
                            else if ( v82 == 82 )
                            {
                              sub_10042750(&v113, "Revision eff. on: ", 109);
                              *(_BYTE *)v66 = 78;
                            }
                            sub_10042750(&v113, &v119, 109);
                            sub_10042750(&v113, ")", 109);
                          }
LABEL_165:
                          v93 = v103;
                          sub_10042590(v103, &v111, 26);
                          sub_10042590(v98, &v113, 109);
                          ++v99;
                          *(_DWORD *)(v66 + 2) = v110;
                          v66 += 142;
                          v103 = v93 + 142;
                          v81 = v64;
                          v98 += 142;
LABEL_166:
                          v108 += (unsigned __int16)word_109B41E2;
                          if ( v108 > v102 - (unsigned __int16)word_109B41E2
                            || sub_10055DA0(28, v108, (unsigned __int16)word_109B41E2, v81) )
                          {
                            goto LABEL_168;
                          }
                          continue;
                        }
LABEL_130:
                        if ( v87 && HIWORD(v96) == HIWORD(v110) || HIWORD(v96) < HIWORD(v110) )
                          goto LABEL_133;
                      }
                      if ( v82 == 65 )
                      {
                        *(_BYTE *)v66 = 65;
                      }
                      else if ( v82 == 82 )
                      {
                        *(_BYTE *)v66 = 78;
                      }
                      goto LABEL_165;
                    }
                  }
                  break;
                }
                v79 = 0;
                goto LABEL_113;
              }
            }
            v63 = 0;
            goto LABEL_88;
          }
        }
        v50 = 0;
        goto LABEL_73;
      }
    }
    v37 = 0;
    goto LABEL_58;
  }
  sub_1006F2C0(v8, dword_10E8298C);
  return 0;
}
// 1008DEB4: using guessed type char *(*off_1008DEB4)[2];
// 109B41CC: using guessed type char byte_109B41CC;
// 109B41CD: using guessed type char byte_109B41CD;
// 109B41CE: using guessed type char byte_109B41CE;
// 109B41CF: using guessed type char byte_109B41CF;
// 109B41D0: using guessed type char byte_109B41D0;
// 109B41E0: using guessed type __int16 word_109B41E0[];
// 109B41E2: using guessed type __int16 word_109B41E2;
// 109B41EC: using guessed type __int16 word_109B41EC;
// 109B41EE: using guessed type __int16 word_109B41EE;
// 109B41F0: using guessed type __int16 word_109B41F0;
// 109B41F2: using guessed type __int16 word_109B41F2;
// 109B41F4: using guessed type __int16 word_109B41F4;
// 109B41F6: using guessed type __int16 word_109B41F6;
// 109B41F8: using guessed type __int16 word_109B41F8;
// 109B4214: using guessed type __int16 word_109B4214;
// 109B4216: using guessed type __int16 word_109B4216;
// 109B421C: using guessed type __int16 word_109B421C;
// 109B425C: using guessed type char byte_109B425C;
// 109B425D: using guessed type char byte_109B425D;
// 109B4260: using guessed type char byte_109B4260;
// 109B4268: using guessed type __int16 word_109B4268[];
// 109B426A: using guessed type __int16 word_109B426A;
// 10E82988: using guessed type int dword_10E82988;
// 10E8298C: using guessed type int dword_10E8298C;
// 10E8E0EC: using guessed type int dword_10E8E0EC;
// 10E8E0F0: using guessed type char byte_10E8E0F0;
// 10009610: using guessed type char var_82[32];

//----- (1000A2F0) --------------------------------------------------------
unsigned __int8 __cdecl sub_1000A2F0(char *a1, char a2, int a3, int a4)
{
  char *v5; // edi@9
  char v6; // al@10
  char v7; // al@14
  int v8; // ebp@18
  int v9; // esi@20
  int v10; // ebx@20
  int v11; // edi@21
  unsigned int v12; // ecx@23
  char *v13; // edx@23
  _DWORD *v14; // eax@23
  int v15; // esi@27
  int v16; // ecx@28
  _BYTE *v17; // edx@28
  _BYTE *v18; // eax@28
  int v19; // ecx@30
  _BYTE *v20; // edx@30
  _BYTE *v21; // eax@30
  _BYTE *v22; // edx@32
  _BYTE *v23; // eax@32
  signed int v24; // eax@34
  int v25; // ebx@52
  int v26; // esi@54
  __int32 v27; // eax@54
  int v28; // edi@54
  const char *v29; // ebp@56
  unsigned int v30; // ecx@57
  _DWORD *v31; // eax@57
  char *v32; // edx@57
  int v33; // esi@61
  int v34; // ecx@62
  _BYTE *v35; // edx@62
  _BYTE *v36; // eax@62
  int v37; // ecx@64
  _BYTE *v38; // edx@64
  _BYTE *v39; // eax@64
  _BYTE *v40; // edx@66
  _BYTE *v41; // eax@66
  signed int v42; // eax@68
  int v43; // esi@72
  char v44; // bl@72
  unsigned int v45; // eax@72
  signed int v46; // ecx@72
  const char *v47; // ecx@75
  char *v48; // edx@75
  int v49; // esi@79
  int v50; // eax@80
  _BYTE *v51; // ecx@80
  _BYTE *v52; // edx@80
  int v53; // eax@82
  _BYTE *v54; // ecx@82
  _BYTE *v55; // edx@82
  _BYTE *v56; // ecx@84
  _BYTE *v57; // edx@84
  signed int v58; // eax@86
  int v59; // ecx@90
  int v60; // eax@90
  signed int v61; // ecx@92
  __int16 v62; // ax@96
  int v63; // edi@99
  int v64; // esi@100
  unsigned int v65; // ecx@101
  char *v66; // edx@101
  _DWORD *v67; // eax@101
  int v68; // esi@105
  int v69; // ecx@106
  _BYTE *v70; // edx@106
  _BYTE *v71; // eax@106
  int v72; // ecx@108
  _BYTE *v73; // edx@108
  _BYTE *v74; // eax@108
  _BYTE *v75; // edx@110
  _BYTE *v76; // eax@110
  signed int v77; // eax@112
  unsigned int v78; // edx@116
  _DWORD *v79; // eax@116
  _DWORD *v80; // ecx@116
  int v81; // esi@120
  int v82; // edx@121
  _BYTE *v83; // eax@121
  _BYTE *v84; // ecx@121
  int v85; // edx@123
  _BYTE *v86; // eax@123
  _BYTE *v87; // ecx@123
  _BYTE *v88; // eax@125
  _BYTE *v89; // ecx@125
  signed int v90; // ebp@127
  char v91; // al@130
  int v92; // esi@132
  char *v93; // eax@132
  int v94; // esi@138
  unsigned int v95; // ebx@138
  int v96; // ebp@138
  unsigned int v97; // ecx@139
  char *v98; // edx@139
  _DWORD *v99; // eax@139
  int v100; // esi@143
  int v101; // ecx@144
  _BYTE *v102; // edx@144
  _BYTE *v103; // eax@144
  int v104; // ecx@146
  _BYTE *v105; // edx@146
  _BYTE *v106; // eax@146
  _BYTE *v107; // edx@148
  _BYTE *v108; // eax@148
  signed int v109; // eax@150
  unsigned int v110; // edx@154
  _DWORD *v111; // eax@154
  _DWORD *v112; // ecx@154
  int v113; // esi@158
  int v114; // edx@159
  _BYTE *v115; // eax@159
  _BYTE *v116; // ecx@159
  int v117; // edx@161
  _BYTE *v118; // eax@161
  _BYTE *v119; // ecx@161
  _BYTE *v120; // eax@163
  _BYTE *v121; // ecx@163
  signed int v122; // eax@165
  int v123; // esi@170
  char *v124; // eax@170
  int v125; // esi@179
  char *v126; // eax@179
  int v127; // esi@186
  int i; // edi@186
  int v129; // esi@198
  const char *v130; // ebp@198
  int v131; // eax@198
  char *v132; // ecx@199
  int v133; // ebx@203
  char *v134; // esi@204
  int v135; // eax@206
  char *v136; // ecx@207
  int v137; // edi@211
  int v138; // esi@211
  unsigned __int8 v139; // [sp+5h] [bp-8ECFh]@1
  char v140; // [sp+6h] [bp-8ECEh]@20
  char v141; // [sp+7h] [bp-8ECDh]@5
  unsigned int v142; // [sp+8h] [bp-8ECCh]@52
  int v143; // [sp+Ch] [bp-8EC8h]@20
  unsigned int v144; // [sp+Ch] [bp-8EC8h]@99
  int v145; // [sp+Ch] [bp-8EC8h]@185
  char v146; // [sp+13h] [bp-8EC1h]@16
  unsigned int v147; // [sp+14h] [bp-8EC0h]@18
  const char *v148; // [sp+18h] [bp-8EBCh]@1
  int v149; // [sp+1Ch] [bp-8EB8h]@16
  const char *v150; // [sp+20h] [bp-8EB4h]@116
  __int32 v151; // [sp+24h] [bp-8EB0h]@100
  __int32 v152; // [sp+28h] [bp-8EACh]@54
  char *v153; // [sp+2Ch] [bp-8EA8h]@1
  int v154; // [sp+30h] [bp-8EA4h]@1
  char v155; // [sp+34h] [bp-8EA0h]@130
  int v156; // [sp+38h] [bp-8E9Ch]@184
  char v157[26]; // [sp+3Eh] [bp-8E96h]@195
  char v158[36180]; // [sp+58h] [bp-8E7Ch]@198
  char v159; // [sp+8DACh] [bp-128h]@47
  char v160; // [sp+8DB4h] [bp-120h]@47
  char v161; // [sp+8DB8h] [bp-11Ch]@47
  char v162; // [sp+8DC0h] [bp-114h]@47
  char v163; // [sp+8DC4h] [bp-110h]@72
  char v164; // [sp+8DF8h] [bp-DCh]@202
  char v165; // [sp+8E64h] [bp-70h]@210

  v148 = (const char *)a4;
  v153 = a1;
  v139 = 0;
  v154 = dword_10E82988;
  if ( a2 )
  {
    if ( a2 == 1 )
    {
      v141 = 65;
    }
    else
    {
      if ( a2 != 2 )
        return 0;
      v141 = 68;
    }
  }
  else
  {
    v141 = 80;
  }
  if ( strlen(a1) < 4 )
  {
    v5 = a1 - 1;
    do
      v6 = (v5++)[1];
    while ( v6 );
    *(_WORD *)v5 = 32;
  }
  if ( !strncmp(a1, "______", 4u) )
    return 0;
  v7 = sub_10002B90();
  if ( !byte_10E8E0F0 || (unsigned __int8)v7 >= 5u )
    return v139;
  if ( sub_10055DE0(26, &v149, &v146) || sub_10055E40(26, &v149) )
    return 0;
  v8 = sub_1006F210((unsigned __int16)word_109B41E0[0], dword_10E8298C);
  v147 = v8;
  if ( !v8 )
  {
    sub_100429F0("..\\lib\\adl\\cht_def_jepp.c", 2358, 0, 0);
    return 0;
  }
  v9 = v149;
  v140 = 0;
  v143 = 0;
  v10 = (v149 - (unsigned __int16)word_109B4268[0]) / (unsigned __int16)word_109B41E0[0];
  while ( 1 )
  {
    v11 = (v143 + v10) / 2;
    if ( (unsigned __int16)word_109B4268[0] + v11 * (unsigned __int16)word_109B41E0[0] > v9
                                                                                       - (unsigned __int16)word_109B41E0[0] )
      break;
    if ( sub_10055DA0(
           26,
           (unsigned __int16)word_109B4268[0] + v11 * (unsigned __int16)word_109B41E0[0],
           (unsigned __int16)word_109B41E0[0],
           v8) )
    {
      goto LABEL_51;
    }
    v12 = (unsigned __int8)byte_109B425C;
    v13 = v153;
    v14 = (_DWORD *)(v8 + (unsigned __int16)word_109B4214);
    if ( (unsigned __int8)byte_109B425C < 4u )
    {
LABEL_26:
      if ( !v12 )
        goto LABEL_36;
    }
    else
    {
      while ( *v14 == *(_DWORD *)v13 )
      {
        v12 -= 4;
        v13 += 4;
        ++v14;
        if ( v12 < 4 )
          goto LABEL_26;
      }
    }
    v15 = *(_BYTE *)v14 - (unsigned __int8)*v13;
    if ( *(_BYTE *)v14 == (unsigned __int8)*v13 )
    {
      v16 = v12 - 1;
      v17 = v13 + 1;
      v18 = (char *)v14 + 1;
      if ( !v16
        || (v15 = *v18 - *v17, *v18 == *v17)
        && ((v19 = v16 - 1, v20 = v17 + 1, v21 = v18 + 1, !v19)
         || (v15 = *v21 - *v20, *v21 == *v20)
         && ((v22 = v20 + 1, v23 = v21 + 1, v19 == 1) || (v15 = *v23 - *v22, *v23 == *v22))) )
      {
LABEL_36:
        v24 = 0;
        goto LABEL_37;
      }
    }
    v24 = 1;
    if ( v15 <= 0 )
      v24 = -1;
LABEL_37:
    if ( !v24 )
    {
      v140 = 1;
LABEL_46:
      v8 = v147;
      break;
    }
    if ( v24 <= 0 )
      v143 = v11 + 1;
    else
      v10 = v11 - 1;
    if ( v143 > v10 || v10 < 0 )
    {
      v140 = 0;
      goto LABEL_46;
    }
    v9 = v149;
    v8 = v147;
  }
  memcpy(&v159, (const void *)(v8 + (unsigned __int16)word_109B421A), (unsigned __int8)byte_109B425F);
  v160 = 0;
  memcpy(&v161, (const void *)(v8 + (unsigned __int16)word_109B4216), (unsigned __int8)byte_109B425D);
  v162 = 0;
  if ( v140 && j__atol(&v159) > 0 && !sub_10055DE0(30, &v149, &v146) )
  {
    if ( sub_10055E40(30, &v149) )
    {
LABEL_51:
      sub_1006F2C0(v8, dword_10E8298C);
      return 0;
    }
    v25 = sub_1006F210((unsigned __int16)word_109B41E4, dword_10E8298C);
    v142 = v25;
    if ( !v25 )
    {
      sub_100429F0("..\\lib\\adl\\cht_def_jepp.c", 2460, 0, 0);
      sub_1006F2C0(v8, dword_10E8298C);
      return 0;
    }
    v26 = (unsigned __int16)word_109B41E4;
    v27 = j__atol(&v159);
    v28 = (unsigned __int16)word_109B426C + v26 * (v27 - 1);
    v152 = (unsigned __int16)word_109B426C + v26 * (v27 - 1);
    if ( sub_10055DA0(30, v28, v26, v25) )
    {
      sub_1006F2C0(v8, dword_10E8298C);
LABEL_189:
      sub_1006F2C0(v25, dword_10E8298C);
      return 0;
    }
    v29 = (const char *)a3;
    while ( 2 )
    {
      v30 = (unsigned __int8)byte_109B41FC;
      v31 = (_DWORD *)(v142 + (unsigned __int16)word_109B41D4);
      v32 = v153;
      if ( (unsigned __int8)byte_109B41FC < 4u )
      {
LABEL_60:
        if ( v30 )
          goto LABEL_61;
      }
      else
      {
        while ( *v31 == *(_DWORD *)v32 )
        {
          v30 -= 4;
          v32 += 4;
          ++v31;
          if ( v30 < 4 )
            goto LABEL_60;
        }
LABEL_61:
        v33 = *(_BYTE *)v31 - (unsigned __int8)*v32;
        if ( *(_BYTE *)v31 != (unsigned __int8)*v32
          || (v34 = v30 - 1, v35 = v32 + 1, v36 = (char *)v31 + 1, v34)
          && ((v33 = *v36 - *v35, *v36 != *v35)
           || (v37 = v34 - 1, v38 = v35 + 1, v39 = v36 + 1, v37)
           && ((v33 = *v39 - *v38, *v39 != *v38)
            || (v40 = v38 + 1, v41 = v39 + 1, v37 != 1) && (v33 = *v41 - *v40, *v41 != *v40))) )
        {
          v42 = 1;
          if ( v33 <= 0 )
            v42 = -1;
LABEL_71:
          if ( v42 )
            goto LABEL_184;
          v43 = (unsigned __int8)byte_109B41FD;
          v44 = *(_BYTE *)((unsigned __int16)word_109B41D8 + v142);
          memcpy(&v163, (const void *)(v142 + (unsigned __int16)word_109B41D6), (unsigned __int8)byte_109B41FD);
          sub_10042790((int)&v163, v43);
          sub_10042540(&v163, 45, 32);
          v45 = strlen(&v163);
          v46 = strlen(v29);
          if ( v46 > (signed int)v45 )
            v45 = v46;
          if ( v44 != v141 )
            goto LABEL_182;
          v47 = v29;
          v48 = &v163;
          if ( v45 < 4 )
          {
LABEL_78:
            if ( v45 )
              goto LABEL_79;
          }
          else
          {
            while ( *(_DWORD *)v48 == *(_DWORD *)v47 )
            {
              v45 -= 4;
              v47 += 4;
              v48 += 4;
              if ( v45 < 4 )
                goto LABEL_78;
            }
LABEL_79:
            v49 = (unsigned __int8)*v48 - *v47;
            if ( (unsigned __int8)*v48 != *v47
              || (v50 = v45 - 1, v51 = v47 + 1, v52 = v48 + 1, v50)
              && ((v49 = *v52 - *v51, *v52 != *v51)
               || (v53 = v50 - 1, v54 = v51 + 1, v55 = v52 + 1, v53)
               && ((v49 = *v55 - *v54, *v55 != *v54)
                || (v56 = v54 + 1, v57 = v55 + 1, v53 != 1) && (v49 = *v57 - *v56, *v57 != *v56))) )
            {
              v58 = 1;
              if ( v49 <= 0 )
                v58 = -1;
LABEL_89:
              if ( v58 )
                goto LABEL_182;
              v25 = v142;
              v59 = v142 + (unsigned __int16)word_109B41DA;
              v60 = *(_BYTE *)((unsigned __int16)word_109B41DA + v142) - 32;
              if ( *(_BYTE *)((unsigned __int16)word_109B41DA + v142) == 32
                && (v60 = *(_BYTE *)(v59 + 1) - 32, *(_BYTE *)(v59 + 1) == 32) )
              {
                v61 = 0;
              }
              else
              {
                v61 = 1;
                if ( v60 <= 0 )
                  v61 = -1;
              }
              if ( !v61 )
              {
                v125 = (int)&v148[26 * v139];
                memcpy(
                  (void *)v125,
                  (const void *)(v142 + (unsigned __int16)word_109B41DC),
                  (unsigned __int8)byte_109B4200);
                *(_BYTE *)(v125 + 25) = 0;
                v126 = strstr((const char *)v125, word_1008DF9C);
                if ( v126 )
                  *v126 = 0;
                ++v139;
                goto LABEL_182;
              }
              v62 = v154;
              v148[26 * v139] = 0;
              if ( !v62 || !HIWORD(v154) )
              {
                sub_1006F2C0(v147, dword_10E8298C);
                sub_1006F2C0(v142, dword_10E8298C);
                return 0;
              }
              if ( sub_10055DE0(28, &v149, &v146) )
              {
                sub_1006F2C0(v147, dword_10E8298C);
                goto LABEL_189;
              }
              v63 = sub_1006F210((unsigned __int16)word_109B41E2, dword_10E8298C);
              v144 = v63;
              if ( !v63 )
              {
                sub_100429F0("..\\lib\\adl\\cht_def_jepp.c", 2539, 0, 0);
                sub_1006F2C0(v147, dword_10E8298C);
                sub_1006F2C0(v142, dword_10E8298C);
                return 0;
              }
              v64 = (unsigned __int16)word_109B41E2;
              v151 = (unsigned __int16)word_109B426A + v64 * (j__atol(&v161) - 1);
              if ( sub_10055DA0(28, v151, v64, v63) )
              {
                sub_1006F2C0(v147, dword_10E8298C);
                sub_1006F2C0(v142, dword_10E8298C);
                sub_1006F2C0(v63, dword_10E8298C);
                return 0;
              }
LABEL_101:
              v65 = (unsigned __int8)byte_109B41CC;
              v66 = v153;
              v67 = (_DWORD *)(v63 + (unsigned __int16)word_109B41EC);
              if ( (unsigned __int8)byte_109B41CC < 4u )
              {
LABEL_104:
                if ( v65 )
                  goto LABEL_105;
              }
              else
              {
                while ( *v67 == *(_DWORD *)v66 )
                {
                  v65 -= 4;
                  v66 += 4;
                  ++v67;
                  if ( v65 < 4 )
                    goto LABEL_104;
                }
LABEL_105:
                v68 = *(_BYTE *)v67 - (unsigned __int8)*v66;
                if ( *(_BYTE *)v67 != (unsigned __int8)*v66
                  || (v69 = v65 - 1, v70 = v66 + 1, v71 = (char *)v67 + 1, v69)
                  && ((v68 = *v71 - *v70, *v71 != *v70)
                   || (v72 = v69 - 1, v73 = v70 + 1, v74 = v71 + 1, v72)
                   && ((v68 = *v74 - *v73, *v74 != *v73)
                    || (v75 = v73 + 1, v76 = v74 + 1, v72 != 1) && (v68 = *v76 - *v75, *v76 != *v75))) )
                {
                  v77 = 1;
                  if ( v68 <= 0 )
                    v77 = -1;
LABEL_115:
                  if ( v77 )
                  {
                    if ( !memcmp(&v148[26 * v139], &unk_1008E0CC, 1u) )
                    {
                      v94 = (unsigned __int16)word_109B41E2;
                      v95 = v144;
                      v96 = (unsigned __int16)word_109B426A + v94 * (j__atol(&v161) - 1);
                      if ( sub_10055DA0(28, v96, v94, v144) )
                      {
                        sub_1006F2C0(v147, dword_10E8298C);
                        sub_1006F2C0(v142, dword_10E8298C);
                        sub_1006F2C0(v144, dword_10E8298C);
                        return v139;
                      }
                      while ( 2 )
                      {
                        v97 = (unsigned __int8)byte_109B41CC;
                        v98 = v153;
                        v99 = (_DWORD *)(v144 + (unsigned __int16)word_109B41EC);
                        if ( (unsigned __int8)byte_109B41CC < 4u )
                        {
LABEL_142:
                          if ( v97 )
                            goto LABEL_143;
                        }
                        else
                        {
                          while ( *v99 == *(_DWORD *)v98 )
                          {
                            v97 -= 4;
                            v98 += 4;
                            ++v99;
                            if ( v97 < 4 )
                              goto LABEL_142;
                          }
LABEL_143:
                          v100 = *(_BYTE *)v99 - (unsigned __int8)*v98;
                          if ( *(_BYTE *)v99 != (unsigned __int8)*v98
                            || (v101 = v97 - 1, v102 = v98 + 1, v103 = (char *)v99 + 1, v101)
                            && ((v100 = *v103 - *v102, *v103 != *v102)
                             || (v104 = v101 - 1, v105 = v102 + 1, v106 = v103 + 1, v104)
                             && ((v100 = *v106 - *v105, *v106 != *v105)
                              || (v107 = v105 + 1, v108 = v106 + 1, v104 != 1) && (v100 = *v108 - *v107, *v108 != *v107))) )
                          {
                            v109 = 1;
                            if ( v100 <= 0 )
                              v109 = -1;
LABEL_153:
                            if ( v109 )
                              goto LABEL_178;
                            v110 = (unsigned __int8)byte_109B41FF;
                            v111 = (_DWORD *)(v142 + (unsigned __int16)word_109B41DA);
                            LOBYTE(v150) = *(_BYTE *)((unsigned __int16)word_109B41F6 + v144);
                            v112 = (_DWORD *)(v144 + (unsigned __int16)word_109B41F0);
                            if ( (unsigned __int8)byte_109B41FF < 4u )
                            {
LABEL_157:
                              if ( v110 )
                                goto LABEL_158;
                            }
                            else
                            {
                              while ( *v112 == *v111 )
                              {
                                v110 -= 4;
                                ++v111;
                                ++v112;
                                if ( v110 < 4 )
                                  goto LABEL_157;
                              }
LABEL_158:
                              v113 = *(_BYTE *)v112 - *(_BYTE *)v111;
                              if ( *(_BYTE *)v112 != *(_BYTE *)v111
                                || (v114 = v110 - 1, v115 = (char *)v111 + 1, v116 = (char *)v112 + 1, v114)
                                && ((v113 = *v116 - *v115, *v116 != *v115)
                                 || (v117 = v114 - 1, v118 = v115 + 1, v119 = v116 + 1, v117)
                                 && ((v113 = *v119 - *v118, *v119 != *v118)
                                  || (v120 = v118 + 1, v121 = v119 + 1, v117 != 1)
                                  && (v113 = *v121 - *v120, *v121 != *v120))) )
                              {
                                v122 = 1;
                                if ( v113 <= 0 )
                                  v122 = -1;
LABEL_168:
                                if ( !v122 && sub_10008810(v144, (int)&v155, (char)v150, word_109B41F8, v154) )
                                {
                                  v123 = (int)&v148[26 * v139];
                                  memcpy(
                                    (void *)v123,
                                    (const void *)(v142 + (unsigned __int16)word_109B41DA),
                                    (unsigned __int8)byte_109B41FF);
                                  *(_BYTE *)(v123 + 25) = 0;
                                  v124 = strstr((const char *)v123, word_1008DF9C);
                                  if ( v124 )
                                    *v124 = 0;
                                  ++v139;
                                }
                                v96 += (unsigned __int16)word_109B41E2;
                                if ( sub_10055DA0(28, v96, (unsigned __int16)word_109B41E2, v144) )
                                {
                                  sub_1006F2C0(v147, dword_10E8298C);
                                  sub_1006F2C0(v142, dword_10E8298C);
                                  sub_1006F2C0(v144, dword_10E8298C);
                                  return v139;
                                }
                                continue;
                              }
                            }
                            v122 = 0;
                            goto LABEL_168;
                          }
                        }
                        break;
                      }
                      v109 = 0;
                      goto LABEL_153;
                    }
                    v95 = v144;
LABEL_178:
                    sub_1006F2C0(v95, dword_10E8298C);
                    v29 = (const char *)a3;
                    v28 = v152;
LABEL_182:
                    v28 += (unsigned __int16)word_109B41E4;
                    v152 = v28;
                    if ( v28 > v149 - (unsigned __int16)word_109B41E4
                      || sub_10055DA0(30, v28, (unsigned __int16)word_109B41E4, v142) )
                    {
LABEL_184:
                      v152 = sub_10009610(v153, a2, (int)&v156);
                      if ( (signed int)v139 > 0 )
                      {
                        v150 = v148;
                        v145 = v139;
                        do
                        {
                          v127 = 0;
                          for ( i = 0; i < v152; ++i )
                          {
                            if ( !strcmp(&v157[142 * i], v150) )
                            {
                              v127 = i;
                              i = v152;
                            }
                          }
                          v129 = 142 * v127;
                          v130 = &v158[v129];
                          v131 = sub_10042650(&v158[v129], 0x6Du) - 1;
                          if ( v131 > -1 )
                          {
                            v132 = &v158[v129] + v131;
                            do
                            {
                              if ( *v132 == 44 )
                                break;
                              --v131;
                              --v132;
                            }
                            while ( v131 > -1 );
                          }
                          sub_10042590((int)&v164, &v158[v129], v131 + 1);
                          if ( v152 > 0 )
                          {
                            v133 = 0;
                            v151 = v152;
                            do
                            {
                              v134 = &v158[v133];
                              if ( strcmp(&v158[v133], v130) && *(v134 - 32) != 78 )
                              {
                                v135 = sub_10042650(&v158[v133], 0x6Du) - 1;
                                if ( v135 > -1 )
                                {
                                  v136 = &v158[v133] + v135;
                                  do
                                  {
                                    if ( *v136 == 44 )
                                      break;
                                    --v135;
                                    --v136;
                                  }
                                  while ( v135 > -1 );
                                }
                                sub_10042590((int)&v165, &v158[v133], v135 + 1);
                                if ( sub_10041C30(&v165, &v164) )
                                {
                                  v137 = (int)&v148[26 * v139];
                                  v138 = (int)(v134 - 26);
                                  qmemcpy((void *)v137, (const void *)v138, 0x18u);
                                  ++v139;
                                  *(_WORD *)(v137 + 24) = *(_WORD *)(v138 + 24);
                                }
                              }
                              v133 += 142;
                              --v151;
                            }
                            while ( v151 );
                          }
                          v150 += 26;
                          --v145;
                        }
                        while ( v145 );
                      }
                      sub_1006F2C0(v142, dword_10E8298C);
                      sub_1006F2C0(v147, dword_10E8298C);
                      return v139;
                    }
                    continue;
                  }
                  LOBYTE(v150) = *(_BYTE *)((unsigned __int16)word_109B41F6 + v63);
                  v78 = (unsigned __int8)byte_109B4200;
                  v79 = (_DWORD *)(v25 + (unsigned __int16)word_109B41DC);
                  v80 = (_DWORD *)(v63 + (unsigned __int16)word_109B41F0);
                  if ( (unsigned __int8)byte_109B4200 < 4u )
                  {
LABEL_119:
                    if ( v78 )
                      goto LABEL_120;
                  }
                  else
                  {
                    while ( *v80 == *v79 )
                    {
                      v78 -= 4;
                      ++v79;
                      ++v80;
                      if ( v78 < 4 )
                        goto LABEL_119;
                    }
LABEL_120:
                    v81 = *(_BYTE *)v80 - *(_BYTE *)v79;
                    if ( *(_BYTE *)v80 != *(_BYTE *)v79
                      || (v82 = v78 - 1, v83 = (char *)v79 + 1, v84 = (char *)v80 + 1, v82)
                      && ((v81 = *v84 - *v83, *v84 != *v83)
                       || (v85 = v82 - 1, v86 = v83 + 1, v87 = v84 + 1, v85)
                       && ((v81 = *v87 - *v86, *v87 != *v86)
                        || (v88 = v86 + 1, v89 = v87 + 1, v85 != 1) && (v81 = *v89 - *v88, *v89 != *v88))) )
                    {
                      v90 = 1;
                      if ( v81 <= 0 )
                        v90 = -1;
                      goto LABEL_130;
                    }
                  }
                  v90 = 0;
LABEL_130:
                  v91 = sub_10008810(v144, (int)&v155, (char)v150, word_109B41F8, v154);
                  if ( !v90 && v91 )
                  {
                    v92 = (int)&v148[26 * v139];
                    memcpy(
                      (void *)v92,
                      (const void *)(v142 + (unsigned __int16)word_109B41DC),
                      (unsigned __int8)byte_109B4200);
                    *(_BYTE *)(v92 + 25) = 0;
                    v93 = strstr((const char *)v92, word_1008DF9C);
                    if ( v93 )
                      *v93 = 0;
                    ++v139;
                  }
                  v151 += (unsigned __int16)word_109B41E2;
                  if ( sub_10055DA0(28, v151, (unsigned __int16)word_109B41E2, v144) )
                  {
                    sub_1006F2C0(v147, dword_10E8298C);
                    sub_1006F2C0(v142, dword_10E8298C);
                    sub_1006F2C0(v144, dword_10E8298C);
                    return v139;
                  }
                  v25 = v142;
                  v63 = v144;
                  goto LABEL_101;
                }
              }
              v77 = 0;
              goto LABEL_115;
            }
          }
          v58 = 0;
          goto LABEL_89;
        }
      }
      break;
    }
    v42 = 0;
    goto LABEL_71;
  }
  sub_1006F2C0(v8, dword_10E8298C);
  return 0;
}
// 109B41CC: using guessed type char byte_109B41CC;
// 109B41D4: using guessed type __int16 word_109B41D4;
// 109B41D6: using guessed type __int16 word_109B41D6;
// 109B41D8: using guessed type __int16 word_109B41D8;
// 109B41DA: using guessed type __int16 word_109B41DA;
// 109B41DC: using guessed type __int16 word_109B41DC;
// 109B41E0: using guessed type __int16 word_109B41E0[];
// 109B41E2: using guessed type __int16 word_109B41E2;
// 109B41E4: using guessed type __int16 word_109B41E4;
// 109B41EC: using guessed type __int16 word_109B41EC;
// 109B41F0: using guessed type __int16 word_109B41F0;
// 109B41F6: using guessed type __int16 word_109B41F6;
// 109B41F8: using guessed type __int16 word_109B41F8;
// 109B41FC: using guessed type char byte_109B41FC;
// 109B41FD: using guessed type char byte_109B41FD;
// 109B41FF: using guessed type char byte_109B41FF;
// 109B4200: using guessed type char byte_109B4200;
// 109B4214: using guessed type __int16 word_109B4214;
// 109B4216: using guessed type __int16 word_109B4216;
// 109B421A: using guessed type __int16 word_109B421A;
// 109B425C: using guessed type char byte_109B425C;
// 109B425D: using guessed type char byte_109B425D;
// 109B425F: using guessed type char byte_109B425F;
// 109B4268: using guessed type __int16 word_109B4268[];
// 109B426A: using guessed type __int16 word_109B426A;
// 109B426C: using guessed type __int16 word_109B426C;
// 10E82988: using guessed type int dword_10E82988;
// 10E8298C: using guessed type int dword_10E8298C;
// 10E8E0EC: using guessed type int dword_10E8E0EC;
// 10E8E0F0: using guessed type char byte_10E8E0F0;
// 1000A2F0: using guessed type char var_8E96[26];
// 1000A2F0: using guessed type char var_8E7C[36180];

//----- (1000B1D0) --------------------------------------------------------
char sub_1000B1D0()
{
  char v0; // bl@1
  __int16 v1; // ax@4
  char result; // al@5
  __int16 v3; // ax@12
  __int16 v4; // ax@18
  __int16 v5; // ax@24
  __int16 v6; // ax@30
  __int16 v7; // ax@36
  __int16 v8; // ax@42
  __int16 v9; // ax@48
  __int16 v10; // ax@54
  __int16 v11; // ax@60
  __int16 v12; // ax@66
  __int16 v13; // ax@72
  _BYTE *v14; // eax@80
  unsigned int v15; // kr00_4@80
  unsigned int v16; // esi@80
  unsigned int v17; // eax@81
  char v18; // [sp+5h] [bp-2Fh]@1
  char v19; // [sp+6h] [bp-2Eh]@1
  char v20; // [sp+7h] [bp-2Dh]@4
  char v21; // [sp+8h] [bp-2Ch]@4
  char v22[36]; // [sp+Ch] [bp-28h]@80

  v18 = 1;
  v19 = 1;
  v0 = 1;
  if ( !byte_10E8E0F0 && sub_10001730() )
    sub_10001680();
  v1 = sub_10055DE0(37, &v21, &v20);
  if ( v1 == 9 )
    return 13;
  if ( v1 == 12 )
  {
    v19 = 0;
  }
  else if ( v1 == 1 || v1 == 6 )
  {
    v18 = 0;
  }
  else
  {
    v0 = 0;
  }
  v3 = sub_10055DE0(26, &v21, &v20);
  if ( v3 == 12 )
  {
    v19 = 0;
  }
  else if ( v3 == 1 || v3 == 6 )
  {
    v18 = 0;
  }
  else
  {
    v0 = 0;
  }
  v4 = sub_10055DE0(27, &v21, &v20);
  if ( v4 == 12 )
  {
    v19 = 0;
  }
  else if ( v4 == 1 || v4 == 6 )
  {
    v18 = 0;
  }
  else
  {
    v0 = 0;
  }
  v5 = sub_10055DE0(28, &v21, &v20);
  if ( v5 == 12 )
  {
    v19 = 0;
  }
  else if ( v5 == 1 || v5 == 6 )
  {
    v18 = 0;
  }
  else
  {
    v0 = 0;
  }
  v6 = sub_10055DE0(30, &v21, &v20);
  if ( v6 == 12 )
  {
    v19 = 0;
  }
  else if ( v6 == 1 || v6 == 6 )
  {
    v18 = 0;
  }
  else
  {
    v0 = 0;
  }
  v7 = sub_10055DE0(29, &v21, &v20);
  if ( v7 == 12 )
  {
    v19 = 0;
  }
  else if ( v7 == 1 || v7 == 6 )
  {
    v18 = 0;
  }
  else
  {
    v0 = 0;
  }
  v8 = sub_10055DE0(31, &v21, &v20);
  if ( v8 == 12 )
  {
    v19 = 0;
  }
  else if ( v8 == 1 || v8 == 6 )
  {
    v18 = 0;
  }
  else
  {
    v0 = 0;
  }
  v9 = sub_10055DE0(33, &v21, &v20);
  if ( v9 == 12 )
  {
    v19 = 0;
  }
  else if ( v9 == 1 || v9 == 6 )
  {
    v18 = 0;
  }
  else
  {
    v0 = 0;
  }
  v10 = sub_10055DE0(34, &v21, &v20);
  if ( v10 == 12 )
  {
    v19 = 0;
  }
  else if ( v10 == 1 || v10 == 6 )
  {
    v18 = 0;
  }
  else
  {
    v0 = 0;
  }
  v11 = sub_10055DE0(35, &v21, &v20);
  if ( v11 == 12 )
  {
    v19 = 0;
  }
  else if ( v11 == 1 || v11 == 6 )
  {
    v18 = 0;
  }
  else
  {
    v0 = 0;
  }
  v12 = sub_10055DE0(36, &v21, &v20);
  if ( v12 == 12 )
  {
    v19 = 0;
  }
  else if ( v12 == 1 || v12 == 6 )
  {
    v18 = 0;
  }
  else
  {
    v0 = 0;
  }
  v13 = sub_10055DE0(32, &v21, &v20);
  if ( v13 == 12 )
  {
    v19 = 0;
  }
  else
  {
    if ( v13 != 1 && v13 != 6 )
      goto LABEL_78;
    v18 = 0;
  }
  if ( v0 )
    return 10;
LABEL_78:
  if ( !v13 )
  {
    if ( dword_109B4240 )
    {
      v14 = sub_10002C10();
      sub_10042590((int)v22, v14, 36);
      sub_10042750(v22, &word_10089C6C, 36);
      v15 = strlen(v22);
      v16 = 0;
      if ( byte_109B41D3 )
      {
        do
        {
          sub_10042590((int)&v22[v15], *(_BYTE **)(dword_109B4240 + 4 * v16), 36 - v15);
          v17 = j_FIL_vfs_open(v22, 4, 0);
          if ( v17 < 0xFFFFFFC2 && v17 )
            sub_10055AA0(v17);
          else
            v18 = 0;
          ++v16;
        }
        while ( v16 < (unsigned __int8)byte_109B41D3 );
      }
    }
    else
    {
      v18 = 0;
    }
  }
  if ( v19 )
  {
    if ( v18 )
      result = sub_100093D0();
    else
      result = 9;
  }
  else
  {
    result = 8;
  }
  return result;
}
// 10055B60: using guessed type int __cdecl j_FIL_vfs_open(_DWORD, _DWORD, _DWORD);
// 10089C6C: using guessed type __int16 word_10089C6C;
// 109B41D3: using guessed type char byte_109B41D3;
// 109B4240: using guessed type int dword_109B4240;
// 10E8E0F0: using guessed type char byte_10E8E0F0;
// 1000B1D0: using guessed type char var_28[36];

//----- (1000B5F0) --------------------------------------------------------
int __cdecl sub_1000B5F0(char *a1, int a2)
{
  int v2; // ebx@1
  char *v3; // edi@2
  char v4; // al@3
  char v6; // al@7
  int v7; // eax@13
  int v8; // ecx@13
  unsigned int v9; // ecx@15
  char *v10; // edx@15
  _DWORD *v11; // eax@15
  int v12; // esi@19
  int v13; // ecx@20
  _BYTE *v14; // edx@20
  _BYTE *v15; // eax@20
  int v16; // ecx@22
  _BYTE *v17; // edx@22
  _BYTE *v18; // eax@22
  _BYTE *v19; // edx@24
  _BYTE *v20; // eax@24
  signed int v21; // eax@26
  unsigned int v22; // ecx@30
  _DWORD *v23; // eax@30
  char *v24; // edx@30
  int v25; // esi@34
  int v26; // ecx@35
  _BYTE *v27; // edx@35
  _BYTE *v28; // eax@35
  int v29; // ecx@37
  _BYTE *v30; // edx@37
  _BYTE *v31; // eax@37
  _BYTE *v32; // edx@39
  _BYTE *v33; // eax@39
  signed int v34; // eax@41
  unsigned int v35; // ecx@45
  const char *v36; // edx@45
  _DWORD *v37; // eax@45
  int v38; // esi@49
  int v39; // ecx@50
  _BYTE *v40; // edx@50
  _BYTE *v41; // eax@50
  int v42; // ecx@52
  _BYTE *v43; // edx@52
  _BYTE *v44; // eax@52
  _BYTE *v45; // edx@54
  _BYTE *v46; // eax@54
  signed int v47; // eax@56
  unsigned int v48; // eax@60
  unsigned int v49; // ecx@60
  int v50; // ebx@60
  const char *v51; // edx@60
  _DWORD *v52; // esi@60
  int v53; // edi@64
  int v54; // ecx@65
  _BYTE *v55; // edx@65
  _BYTE *v56; // esi@65
  int v57; // ecx@67
  _BYTE *v58; // edx@67
  _BYTE *v59; // esi@67
  _BYTE *v60; // edx@69
  _BYTE *v61; // esi@69
  signed int v62; // ecx@71
  unsigned int v63; // ecx@76
  _DWORD *v64; // esi@76
  const char *v65; // edx@76
  int v66; // edi@80
  int v67; // ecx@81
  _BYTE *v68; // edx@81
  _BYTE *v69; // esi@81
  int v70; // ecx@83
  _BYTE *v71; // edx@83
  _BYTE *v72; // esi@83
  _BYTE *v73; // edx@85
  _BYTE *v74; // esi@85
  signed int v75; // ecx@87
  unsigned int v76; // ecx@95
  const char *v77; // edx@95
  _DWORD *v78; // esi@95
  int v79; // edi@99
  int v80; // ecx@100
  _BYTE *v81; // edx@100
  _BYTE *v82; // esi@100
  int v83; // ecx@102
  _BYTE *v84; // edx@102
  _BYTE *v85; // esi@102
  _BYTE *v86; // edx@104
  _BYTE *v87; // esi@104
  signed int v88; // ecx@106
  _DWORD *v89; // esi@109
  unsigned int v90; // ecx@109
  const char *v91; // edx@109
  int v92; // edi@114
  int v93; // ecx@115
  _BYTE *v94; // edx@115
  _BYTE *v95; // esi@115
  int v96; // ecx@117
  _BYTE *v97; // edx@117
  _BYTE *v98; // esi@117
  _BYTE *v99; // edx@119
  _BYTE *v100; // esi@119
  signed int v101; // ecx@121
  bool v102; // cf@126
  int v103; // edi@137
  int v104; // ecx@138
  _BYTE *v105; // edx@138
  _BYTE *v106; // esi@138
  int v107; // ecx@140
  _BYTE *v108; // edx@140
  _BYTE *v109; // esi@140
  _BYTE *v110; // edx@142
  _BYTE *v111; // esi@142
  signed int v112; // ecx@144
  const char *v113; // ecx@154
  _DWORD *v114; // edx@154
  int v115; // esi@158
  int v116; // eax@159
  _BYTE *v117; // ecx@159
  _BYTE *v118; // edx@159
  int v119; // eax@161
  _BYTE *v120; // ecx@161
  _BYTE *v121; // edx@161
  _BYTE *v122; // ecx@163
  _BYTE *v123; // edx@163
  bool v124; // zf@164
  unsigned int v125; // ecx@171
  const char *v126; // edx@171
  _DWORD *v127; // esi@171
  int v128; // edi@175
  int v129; // ecx@176
  _BYTE *v130; // edx@176
  _BYTE *v131; // esi@176
  int v132; // ecx@178
  _BYTE *v133; // edx@178
  _BYTE *v134; // esi@178
  _BYTE *v135; // edx@180
  _BYTE *v136; // esi@180
  signed int v137; // ecx@182
  bool v138; // cf@187
  unsigned int v139; // eax@193
  _DWORD *v140; // edx@193
  const char *v141; // ecx@193
  int v142; // eax@198
  _BYTE *v143; // ecx@198
  _BYTE *v144; // edx@198
  int v145; // eax@200
  _BYTE *v146; // ecx@200
  _BYTE *v147; // edx@200
  _BYTE *v148; // ecx@202
  _BYTE *v149; // edx@202
  signed int v150; // eax@205
  __int32 v151; // eax@209
  int v152; // esi@210
  signed int v153; // eax@210
  int v154; // ST10_4@212
  __int32 v155; // eax@212
  int v156; // eax@214
  int v157; // [sp+Ch] [bp-45Ch]@1
  signed int v158; // [sp+10h] [bp-458h]@60
  signed int v159; // [sp+14h] [bp-454h]@60
  int v160; // [sp+18h] [bp-450h]@13
  int v161; // [sp+1Ch] [bp-44Ch]@11
  unsigned int v162; // [sp+20h] [bp-448h]@209
  char v163; // [sp+27h] [bp-441h]@9
  int v164; // [sp+28h] [bp-440h]@60
  unsigned int v165; // [sp+2Ch] [bp-43Ch]@9
  _DWORD *v166; // [sp+30h] [bp-438h]@76
  int v167; // [sp+34h] [bp-434h]@13
  char *v168; // [sp+38h] [bp-430h]@1
  char v169; // [sp+3Ch] [bp-42Ch]@9
  int v170; // [sp+40h] [bp-428h]@1
  char v171[4]; // [sp+44h] [bp-424h]@60
  char v172; // [sp+48h] [bp-420h]@60
  char v173; // [sp+4Ch] [bp-41Ch]@209
  char v174[6]; // [sp+50h] [bp-418h]@213
  char v175; // [sp+56h] [bp-412h]@209
  char v176; // [sp+58h] [bp-410h]@212

  v170 = a2;
  v168 = a1;
  v2 = 0;
  v157 = dword_10E82988;
  if ( strlen(a1) < 4 )
  {
    v3 = a1 - 1;
    do
      v4 = (v3++)[1];
    while ( v4 );
    *(_WORD *)v3 = 32;
  }
  if ( !strncmp(a1, "______", 4u) )
    return -1;
  v6 = sub_10002B90();
  if ( !byte_10E8E0F0 || (unsigned __int8)v6 >= 5u )
    return v2;
  sub_10008590((int)a1, &v169);
  if ( !sub_10055DE0(35, &v165, &v163) && !sub_10055E40(35, &v165) )
  {
    v161 = sub_1006F210((unsigned __int16)word_109B41E6, dword_10E8298C);
    if ( !v161 )
    {
      sub_100429F0("..\\lib\\adl\\cht_def_jepp.c", 3288, 0, 0);
      return -1;
    }
    v7 = (unsigned __int16)word_109B426E;
    v8 = (unsigned __int16)word_109B41E6;
    v167 = 0;
    v160 = 0;
    if ( (unsigned __int16)word_109B41E6 + (unsigned int)(unsigned __int16)word_109B426E < v165 )
    {
      do
      {
        if ( sub_10055DA0(35, v7, v8, v161) )
        {
          sub_1006F2C0(v161, dword_10E8298C);
          return -1;
        }
        v9 = (unsigned __int8)byte_109B41C0;
        v10 = v168;
        v11 = (_DWORD *)(v161 + (unsigned __int16)word_109B4220);
        if ( (unsigned __int8)byte_109B41C0 < 4u )
        {
LABEL_18:
          if ( !v9 )
            goto LABEL_28;
        }
        else
        {
          while ( *v11 == *(_DWORD *)v10 )
          {
            v9 -= 4;
            v10 += 4;
            ++v11;
            if ( v9 < 4 )
              goto LABEL_18;
          }
        }
        v12 = *(_BYTE *)v11 - (unsigned __int8)*v10;
        if ( *(_BYTE *)v11 == (unsigned __int8)*v10 )
        {
          v13 = v9 - 1;
          v14 = v10 + 1;
          v15 = (char *)v11 + 1;
          if ( !v13
            || (v12 = *v15 - *v14, *v15 == *v14)
            && ((v16 = v13 - 1, v17 = v14 + 1, v18 = v15 + 1, !v16)
             || (v12 = *v18 - *v17, *v18 == *v17)
             && ((v19 = v17 + 1, v20 = v18 + 1, v16 == 1) || (v12 = *v20 - *v19, *v20 == *v19))) )
          {
LABEL_28:
            v21 = 0;
            goto LABEL_29;
          }
        }
        v21 = 1;
        if ( v12 <= 0 )
          v21 = -1;
LABEL_29:
        if ( !v21 )
          goto LABEL_60;
        v22 = (unsigned __int8)byte_109B41C1;
        v23 = (_DWORD *)(v161 + (unsigned __int16)word_109B4222);
        v24 = &v169;
        if ( (unsigned __int8)byte_109B41C1 < 4u )
        {
LABEL_33:
          if ( !v22 )
            goto LABEL_43;
        }
        else
        {
          while ( *v23 == *(_DWORD *)v24 )
          {
            v22 -= 4;
            v24 += 4;
            ++v23;
            if ( v22 < 4 )
              goto LABEL_33;
          }
        }
        v25 = *(_BYTE *)v23 - (unsigned __int8)*v24;
        if ( *(_BYTE *)v23 != (unsigned __int8)*v24
          || (v26 = v22 - 1, v27 = v24 + 1, v28 = (char *)v23 + 1, v26)
          && ((v25 = *v28 - *v27, *v28 != *v27)
           || (v29 = v26 - 1, v30 = v27 + 1, v31 = v28 + 1, v29)
           && ((v25 = *v31 - *v30, *v31 != *v30)
            || (v32 = v30 + 1, v33 = v31 + 1, v29 != 1) && (v25 = *v33 - *v32, *v33 != *v32))) )
        {
          v34 = 1;
          if ( v25 <= 0 )
            v34 = -1;
          goto LABEL_44;
        }
LABEL_43:
        v34 = 0;
LABEL_44:
        if ( v34 )
          goto LABEL_214;
        v35 = 8;
        v36 = "Terminal";
        v37 = (_DWORD *)(v161 + (unsigned __int16)word_109B4224);
        do
        {
          if ( *v37 != *(_DWORD *)v36 )
            goto LABEL_49;
          v35 -= 4;
          v36 += 4;
          ++v37;
        }
        while ( v35 >= 4 );
        if ( !v35 )
        {
LABEL_58:
          v47 = 0;
          goto LABEL_59;
        }
LABEL_49:
        v38 = *(_BYTE *)v37 - *v36;
        if ( *(_BYTE *)v37 == *v36 )
        {
          v39 = v35 - 1;
          v40 = v36 + 1;
          v41 = (char *)v37 + 1;
          if ( !v39 )
            goto LABEL_58;
          v38 = *v41 - *v40;
          if ( *v41 == *v40 )
          {
            v42 = v39 - 1;
            v43 = v40 + 1;
            v44 = v41 + 1;
            if ( !v42 )
              goto LABEL_58;
            v38 = *v44 - *v43;
            if ( *v44 == *v43 )
            {
              v45 = v43 + 1;
              v46 = v44 + 1;
              if ( v42 == 1 )
                goto LABEL_58;
              v38 = *v46 - *v45;
              if ( *v46 == *v45 )
                goto LABEL_58;
            }
          }
        }
        v47 = 1;
        if ( v38 <= 0 )
          v47 = -1;
LABEL_59:
        if ( !v47 )
          goto LABEL_214;
LABEL_60:
        *(_DWORD *)v171 = *(_DWORD *)((unsigned __int16)word_109B4226 + v161);
        v172 = 0;
        HIWORD(v158) = j__atol(v171);
        *(_WORD *)v171 = *(_WORD *)((unsigned __int16)word_109B4226 + v161 + 4);
        v171[2] = 0;
        LOBYTE(v158) = j__atol(v171);
        *(_WORD *)v171 = *(_WORD *)((unsigned __int16)word_109B4226 + v161 + 6);
        v171[2] = 0;
        BYTE1(v158) = j__atol(v171);
        *(_DWORD *)v171 = *(_DWORD *)((unsigned __int16)word_109B4228 + v161);
        v172 = 0;
        HIWORD(v159) = j__atol(v171);
        *(_WORD *)v171 = *(_WORD *)((unsigned __int16)word_109B4228 + v161 + 4);
        v171[2] = 0;
        LOBYTE(v159) = j__atol(v171);
        *(_WORD *)v171 = *(_WORD *)((unsigned __int16)word_109B4228 + v161 + 6);
        v171[2] = 0;
        BYTE1(v159) = j__atol(v171);
        v48 = (unsigned __int8)byte_109B41C5;
        v49 = (unsigned __int8)byte_109B41C5;
        v50 = (unsigned __int16)word_109B422A + v161;
        v51 = "F";
        v164 = (unsigned __int16)word_109B422A + v161;
        v52 = (_DWORD *)((unsigned __int16)word_109B422A + v161);
        if ( (unsigned __int8)byte_109B41C5 < 4u )
        {
LABEL_63:
          if ( !v49 )
            goto LABEL_73;
        }
        else
        {
          while ( *v52 == *(_DWORD *)v51 )
          {
            v49 -= 4;
            v51 += 4;
            ++v52;
            if ( v49 < 4 )
              goto LABEL_63;
          }
        }
        v53 = *(_BYTE *)v52 - *v51;
        if ( *(_BYTE *)v52 == *v51 )
        {
          v54 = v49 - 1;
          v55 = v51 + 1;
          v56 = (char *)v52 + 1;
          if ( !v54
            || (v53 = *v56 - *v55, *v56 == *v55)
            && ((v57 = v54 - 1, v58 = v55 + 1, v59 = v56 + 1, !v57)
             || (v53 = *v59 - *v58, *v59 == *v58)
             && ((v60 = v58 + 1, v61 = v59 + 1, v57 == 1) || (v53 = *v61 - *v60, *v61 == *v60))) )
          {
LABEL_73:
            v62 = 0;
            goto LABEL_74;
          }
        }
        v62 = 1;
        if ( v53 <= 0 )
          v62 = -1;
LABEL_74:
        if ( !v62 )
          v158 = -1;
        v63 = (unsigned __int8)byte_109B41C6;
        v64 = (_DWORD *)(v161 + (unsigned __int16)word_109B422C);
        v65 = "F";
        v166 = (_DWORD *)(v161 + (unsigned __int16)word_109B422C);
        if ( (unsigned __int8)byte_109B41C6 < 4u )
        {
LABEL_79:
          if ( !v63 )
            goto LABEL_90;
        }
        else
        {
          while ( *v64 == *(_DWORD *)v65 )
          {
            v63 -= 4;
            v65 += 4;
            ++v64;
            if ( v63 < 4 )
              goto LABEL_79;
          }
        }
        v66 = *(_BYTE *)v64 - *v65;
        if ( *(_BYTE *)v64 == *v65 )
        {
          v67 = v63 - 1;
          v68 = v65 + 1;
          v69 = (char *)v64 + 1;
          if ( !v67
            || (v66 = *v69 - *v68, *v69 == *v68)
            && ((v70 = v67 - 1, v71 = v68 + 1, v72 = v69 + 1, !v70)
             || (v66 = *v72 - *v71, *v72 == *v71)
             && ((v73 = v71 + 1, v74 = v72 + 1, v70 == 1) || (v66 = *v74 - *v73, *v74 == *v73))) )
          {
            v50 = v164;
LABEL_90:
            v75 = 0;
            goto LABEL_91;
          }
        }
        v50 = v164;
        v75 = 1;
        if ( v66 <= 0 )
          v75 = -1;
LABEL_91:
        if ( !v75 )
          v159 = -1;
        if ( !(_WORD)v157 || !HIWORD(v157) )
          goto LABEL_209;
        v76 = (unsigned __int8)byte_109B41C5;
        v77 = "F";
        v78 = (_DWORD *)v50;
        if ( (unsigned __int8)byte_109B41C5 < 4u )
        {
LABEL_98:
          if ( !v76 )
            goto LABEL_108;
        }
        else
        {
          while ( *v78 == *(_DWORD *)v77 )
          {
            v76 -= 4;
            v77 += 4;
            ++v78;
            if ( v76 < 4 )
              goto LABEL_98;
          }
        }
        v79 = *(_BYTE *)v78 - *v77;
        if ( *(_BYTE *)v78 == *v77 )
        {
          v80 = v76 - 1;
          v81 = v77 + 1;
          v82 = (char *)v78 + 1;
          if ( !v80
            || (v79 = *v82 - *v81, *v82 == *v81)
            && ((v83 = v80 - 1, v84 = v81 + 1, v85 = v82 + 1, !v83)
             || (v79 = *v85 - *v84, *v85 == *v84)
             && ((v86 = v84 + 1, v87 = v85 + 1, v83 == 1) || (v79 = *v87 - *v86, *v87 == *v86))) )
          {
LABEL_108:
            v88 = 0;
            goto LABEL_109;
          }
        }
        v88 = 1;
        if ( v79 <= 0 )
          v88 = -1;
LABEL_109:
        v89 = v166;
        v124 = v88 == 0;
        v90 = (unsigned __int8)byte_109B41C6;
        v91 = "F";
        if ( !v124 )
        {
          if ( (unsigned __int8)byte_109B41C6 < 4u )
          {
LABEL_136:
            if ( v90 )
              goto LABEL_137;
          }
          else
          {
            while ( *v89 == *(_DWORD *)v91 )
            {
              v90 -= 4;
              v91 += 4;
              ++v89;
              if ( v90 < 4 )
                goto LABEL_136;
            }
LABEL_137:
            v103 = *(_BYTE *)v89 - *v91;
            if ( *(_BYTE *)v89 != *v91
              || (v104 = v90 - 1, v105 = v91 + 1, v106 = (char *)v89 + 1, v104)
              && ((v103 = *v106 - *v105, *v106 != *v105)
               || (v107 = v104 - 1, v108 = v105 + 1, v109 = v106 + 1, v107)
               && ((v103 = *v109 - *v108, *v109 != *v108)
                || (v110 = v108 + 1, v111 = v109 + 1, v107 != 1) && (v103 = *v111 - *v110, *v111 != *v110))) )
            {
              v112 = 1;
              if ( v103 <= 0 )
                v112 = -1;
LABEL_147:
              if ( !v112 )
              {
                if ( BYTE1(v157) < BYTE1(v158) && (_BYTE)v157 == (_BYTE)v158 && HIWORD(v157) == HIWORD(v158)
                  || (unsigned __int8)v157 < (unsigned __int8)v158 && HIWORD(v157) == HIWORD(v158)
                  || HIWORD(v157) < HIWORD(v158) )
                {
                  goto LABEL_214;
                }
                v113 = "T";
                v114 = (_DWORD *)v50;
                if ( (unsigned __int8)byte_109B41C5 < 4u )
                {
LABEL_157:
                  if ( v48 )
                    goto LABEL_158;
                  goto LABEL_207;
                }
                while ( *v114 == *(_DWORD *)v113 )
                {
                  v48 -= 4;
                  v113 += 4;
                  ++v114;
                  if ( v48 < 4 )
                    goto LABEL_157;
                }
LABEL_158:
                v115 = *(_BYTE *)v114 - *v113;
                if ( *(_BYTE *)v114 == *v113 )
                {
                  v116 = v48 - 1;
                  v117 = v113 + 1;
                  v118 = (char *)v114 + 1;
                  if ( !v116 )
                    goto LABEL_207;
                  v115 = *v118 - *v117;
                  if ( *v118 == *v117 )
                  {
                    v119 = v116 - 1;
                    v120 = v117 + 1;
                    v121 = v118 + 1;
                    if ( !v119 )
                      goto LABEL_207;
                    v115 = *v121 - *v120;
                    if ( *v121 == *v120 )
                    {
                      v122 = v120 + 1;
                      v123 = v121 + 1;
                      if ( v119 != 1 )
                      {
                        v115 = *v123 - *v122;
                        v124 = *v123 == *v122;
                        goto LABEL_204;
                      }
                      goto LABEL_207;
                    }
                  }
                }
LABEL_205:
                v150 = 1;
                if ( v115 <= 0 )
                  v150 = -1;
                goto LABEL_208;
              }
              if ( BYTE1(v157) < BYTE1(v158) && (_BYTE)v157 == (_BYTE)v158 && HIWORD(v157) == HIWORD(v158)
                || (unsigned __int8)v157 < (unsigned __int8)v158 && HIWORD(v157) == HIWORD(v158)
                || HIWORD(v157) < HIWORD(v158) )
              {
                goto LABEL_214;
              }
              v125 = (unsigned __int8)byte_109B41C5;
              v126 = "T";
              v127 = (_DWORD *)v50;
              if ( (unsigned __int8)byte_109B41C5 < 4u )
              {
LABEL_174:
                if ( v125 )
                  goto LABEL_175;
              }
              else
              {
                while ( *v127 == *(_DWORD *)v126 )
                {
                  v125 -= 4;
                  v126 += 4;
                  ++v127;
                  if ( v125 < 4 )
                    goto LABEL_174;
                }
LABEL_175:
                v128 = *(_BYTE *)v127 - *v126;
                if ( *(_BYTE *)v127 != *v126
                  || (v129 = v125 - 1, v130 = v126 + 1, v131 = (char *)v127 + 1, v129)
                  && ((v128 = *v131 - *v130, *v131 != *v130)
                   || (v132 = v129 - 1, v133 = v130 + 1, v134 = v131 + 1, v132)
                   && ((v128 = *v134 - *v133, *v134 != *v133)
                    || (v135 = v133 + 1, v136 = v134 + 1, v132 != 1) && (v128 = *v136 - *v135, *v136 != *v135))) )
                {
                  v137 = 1;
                  if ( v128 <= 0 )
                    v137 = -1;
LABEL_185:
                  if ( v137 )
                    goto LABEL_214;
                  if ( BYTE1(v157) >= BYTE1(v159) )
                  {
LABEL_189:
                    v138 = (unsigned __int8)v157 < (unsigned __int8)v159;
                  }
                  else
                  {
                    v138 = (unsigned __int8)v157 < (unsigned __int8)v159;
                    if ( (_BYTE)v157 == (_BYTE)v159 )
                    {
                      if ( HIWORD(v157) != HIWORD(v159) )
                        goto LABEL_189;
LABEL_193:
                      v139 = (unsigned __int8)byte_109B41C6;
                      v140 = v166;
                      v141 = "T";
                      if ( (unsigned __int8)byte_109B41C6 < 4u )
                      {
LABEL_196:
                        if ( !v139 )
                          goto LABEL_207;
                      }
                      else
                      {
                        while ( *v140 == *(_DWORD *)v141 )
                        {
                          v139 -= 4;
                          v141 += 4;
                          ++v140;
                          if ( v139 < 4 )
                            goto LABEL_196;
                        }
                      }
                      v115 = *(_BYTE *)v140 - *v141;
                      if ( *(_BYTE *)v140 != *v141 )
                        goto LABEL_205;
                      v142 = v139 - 1;
                      v143 = v141 + 1;
                      v144 = (char *)v140 + 1;
                      if ( v142 )
                      {
                        v115 = *v144 - *v143;
                        if ( *v144 != *v143 )
                          goto LABEL_205;
                        v145 = v142 - 1;
                        v146 = v143 + 1;
                        v147 = v144 + 1;
                        if ( v145 )
                        {
                          v115 = *v147 - *v146;
                          if ( *v147 != *v146 )
                            goto LABEL_205;
                          v148 = v146 + 1;
                          v149 = v147 + 1;
                          if ( v145 != 1 )
                          {
                            v115 = *v149 - *v148;
                            v124 = *v149 == *v148;
LABEL_204:
                            if ( !v124 )
                              goto LABEL_205;
                          }
                        }
                      }
LABEL_207:
                      v150 = 0;
LABEL_208:
                      if ( v150 )
                        goto LABEL_214;
                      goto LABEL_209;
                    }
                  }
                  if ( (!v138 || HIWORD(v157) != HIWORD(v159)) && HIWORD(v157) >= HIWORD(v159) )
                    goto LABEL_214;
                  goto LABEL_193;
                }
              }
              v137 = 0;
              goto LABEL_185;
            }
          }
          v112 = 0;
          goto LABEL_147;
        }
        if ( (unsigned __int8)byte_109B41C6 < 4u )
        {
LABEL_113:
          if ( !v90 )
            goto LABEL_123;
        }
        else
        {
          while ( *v89 == *(_DWORD *)v91 )
          {
            v90 -= 4;
            v91 += 4;
            ++v89;
            if ( v90 < 4 )
              goto LABEL_113;
          }
        }
        v92 = *(_BYTE *)v89 - *v91;
        if ( *(_BYTE *)v89 != *v91
          || (v93 = v90 - 1, v94 = v91 + 1, v95 = (char *)v89 + 1, v93)
          && ((v92 = *v95 - *v94, *v95 != *v94)
           || (v96 = v93 - 1, v97 = v94 + 1, v98 = v95 + 1, v96)
           && ((v92 = *v98 - *v97, *v98 != *v97)
            || (v99 = v97 + 1, v100 = v98 + 1, v96 != 1) && (v92 = *v100 - *v99, *v100 != *v99))) )
        {
          v101 = 1;
          if ( v92 <= 0 )
            v101 = -1;
          goto LABEL_124;
        }
LABEL_123:
        v101 = 0;
LABEL_124:
        if ( v101 )
        {
          if ( BYTE1(v157) >= BYTE1(v159) )
            goto LABEL_128;
          v102 = (unsigned __int8)v157 < (unsigned __int8)v159;
          if ( (_BYTE)v157 != (_BYTE)v159 )
            goto LABEL_129;
          if ( HIWORD(v157) != HIWORD(v159) )
          {
LABEL_128:
            v102 = (unsigned __int8)v157 < (unsigned __int8)v159;
LABEL_129:
            if ( (!v102 || HIWORD(v157) != HIWORD(v159)) && HIWORD(v157) >= HIWORD(v159) )
              goto LABEL_214;
            goto LABEL_209;
          }
        }
LABEL_209:
        memcpy(&v173, (const void *)(v161 + (unsigned __int16)word_109B422E), (unsigned __int8)byte_109B41C7);
        v175 = 0;
        v151 = j__atol(&v173);
        if ( sub_10055DA0(36, (v151 << 9) + 4, 4, (int)&v162) )
          break;
        v152 = 1034 * v160 + v170;
        v153 = v162;
        v102 = v162 < 0x400;
        v124 = v162 == 1024;
        *(_BYTE *)(v152 + 1024) = 0;
        if ( !v102 && !v124 )
        {
          v153 = 1024;
          v162 = 1024;
          *(_BYTE *)(v152 + 1024) = 1;
        }
        v154 = v153 - 8;
        v155 = j__atol(&v173);
        if ( sub_10055DA0(36, (v155 << 9) + 8, v154, (int)&v176) )
          break;
        v174[v162] = 0;
        sub_10042590(v152, &v176, 1024);
        ++v160;
        *(_DWORD *)(v152 + 1026) = v158;
        *(_DWORD *)(v152 + 1030) = v159;
LABEL_214:
        v8 = (unsigned __int16)word_109B41E6;
        v156 = (v167++ + 1) * (unsigned __int16)word_109B41E6;
        v7 = (unsigned __int16)word_109B426E + v156;
      }
      while ( (unsigned int)(unsigned __int16)word_109B41E6 + v7 < v165 );
    }
    sub_1006F2C0(v161, dword_10E8298C);
    return v160;
  }
  return -1;
}
// 109B41C0: using guessed type char byte_109B41C0;
// 109B41C1: using guessed type char byte_109B41C1;
// 109B41C5: using guessed type char byte_109B41C5;
// 109B41C6: using guessed type char byte_109B41C6;
// 109B41C7: using guessed type char byte_109B41C7;
// 109B41E6: using guessed type __int16 word_109B41E6;
// 109B4220: using guessed type __int16 word_109B4220;
// 109B4222: using guessed type __int16 word_109B4222;
// 109B4224: using guessed type __int16 word_109B4224;
// 109B4226: using guessed type __int16 word_109B4226;
// 109B4228: using guessed type __int16 word_109B4228;
// 109B422A: using guessed type __int16 word_109B422A;
// 109B422C: using guessed type __int16 word_109B422C;
// 109B422E: using guessed type __int16 word_109B422E;
// 109B426E: using guessed type __int16 word_109B426E;
// 10E82988: using guessed type int dword_10E82988;
// 10E8298C: using guessed type int dword_10E8298C;
// 10E8E0EC: using guessed type int dword_10E8E0EC;
// 10E8E0F0: using guessed type char byte_10E8E0F0;
// 1000B5F0: using guessed type char var_418[6];

//----- (1000C150) --------------------------------------------------------
bool sub_1000C150()
{
  char v0; // bl@1
  signed int v2; // eax@8
  char v3; // [sp+7h] [bp-5h]@1
  char v4; // [sp+8h] [bp-4h]@1

  v0 = 1;
  if ( sub_10055DE0(32, &v4, &v3) )
    v0 = 0;
  if ( sub_10055DE0(33, &v4, &v3) )
    v0 = 0;
  if ( sub_10055DE0(34, &v4, &v3) )
  {
    byte_10E8E0F0 = 0;
    return 0;
  }
  if ( !v0 )
    goto LABEL_22;
  v2 = sub_1000E9F0(
         "/mnt/card1/charts/jeppesen.tfl",
         "/mnt/card1/charts/jeppesen.tls",
         (int)"/mnt/card1/charts/lssdef.tcl");
  if ( v2 != 1 )
  {
    if ( v2 != -16 )
      v2 = sub_1000E9F0(
             "/mnt/card0/charts/jeppesen.tfl",
             "/mnt/card0/charts/jeppesen.tls",
             (int)"/mnt/card0/charts/lssdef.tcl");
    if ( v2 != 1 )
    {
      if ( v2 != -16 )
        v2 = sub_1000E9F0(
               "/mnt/sys_nand0/charts/jeppesen.tfl",
               "/mnt/sys_nand0/charts/jeppesen.tls",
               (int)"/mnt/sys_nand0/charts/lssdef.tcl");
      if ( v2 != 1 )
      {
        if ( v2 != -16 )
          v2 = sub_1000E9F0(
                 "/mnt/sim_dir0/charts/jeppesen.tfl",
                 "/mnt/sim_dir0/charts/jeppesen.tls",
                 (int)"/mnt/sim_dir0/charts/lssdef.tcl");
        if ( v2 != 1 )
        {
          byte_10E8E0F0 = v2 == -16;
          return v2 == -16;
        }
      }
    }
  }
  dword_109B4248[0] = (int)&byte_109B425C;
  dword_109B41AC[0] = (int)&word_109B4214;
  dword_109B424C = (int)&byte_109B41CC;
  dword_109B41B0 = (int)&word_109B41EC;
  dword_109B4250 = (int)&byte_109B41FC;
  dword_109B41B4 = (int)&word_109B41D4;
  dword_109B4254 = (int)&byte_109B41C0;
  dword_109B41B8 = (int)&word_109B4220;
  dword_109B4258 = (int)&byte_109B4230;
  dword_109B41BC = (int)&word_109B41C8;
  if ( sub_10008B40() )
  {
    v0 = sub_10008F20();
    if ( !v0 )
      sub_1000EC80();
LABEL_22:
    byte_10E8E0F0 = v0;
    return v0;
  }
  sub_1000EC80();
  byte_10E8E0F0 = 0;
  return 0;
}
// 109B41AC: using guessed type int dword_109B41AC[];
// 109B41B0: using guessed type int dword_109B41B0;
// 109B41B4: using guessed type int dword_109B41B4;
// 109B41B8: using guessed type int dword_109B41B8;
// 109B41BC: using guessed type int dword_109B41BC;
// 109B41C0: using guessed type char byte_109B41C0;
// 109B41C8: using guessed type __int16 word_109B41C8;
// 109B41CC: using guessed type char byte_109B41CC;
// 109B41D4: using guessed type __int16 word_109B41D4;
// 109B41EC: using guessed type __int16 word_109B41EC;
// 109B41FC: using guessed type char byte_109B41FC;
// 109B4214: using guessed type __int16 word_109B4214;
// 109B4220: using guessed type __int16 word_109B4220;
// 109B4230: using guessed type char byte_109B4230;
// 109B4248: using guessed type int dword_109B4248[];
// 109B424C: using guessed type int dword_109B424C;
// 109B4250: using guessed type int dword_109B4250;
// 109B4254: using guessed type int dword_109B4254;
// 109B4258: using guessed type int dword_109B4258;
// 109B425C: using guessed type char byte_109B425C;
// 10E8E0F0: using guessed type char byte_10E8E0F0;

//----- (1000C300) --------------------------------------------------------
int __cdecl sub_1000C300(_BYTE *a1, _BYTE *a2, char a3, unsigned __int8 a4, int a5, _BYTE *a6)
{
  unsigned int v6; // eax@1
  int v7; // esi@1
  unsigned int v8; // eax@3
  char *v10; // eax@11
  unsigned int v11; // esi@11
  char v12; // cl@12
  int v13; // edi@15
  unsigned int v14; // ebx@15
  signed int v15; // esi@16
  int v16; // eax@17
  int v17; // edi@26
  int v18; // esi@31
  int v19; // edi@31
  bool v20; // zf@44
  int v21; // eax@54
  int v22; // ST1C_4@57
  int v23; // ST18_4@57
  void *v24; // eax@57
  int v25; // esi@61
  char *v26; // eax@67
  unsigned int v27; // esi@67
  char v28; // cl@68
  unsigned int v29; // esi@73
  int *v30; // edi@73
  int v31; // eax@75
  unsigned int v32; // ST20_4@75
  unsigned int v33; // ST1C_4@75
  int v34; // eax@75
  int v35; // ecx@75
  int v36; // eax@79
  unsigned int v37; // ebp@80
  int v38; // esi@81
  int v39; // ecx@81
  char *v40; // [sp-14h] [bp-2D0h]@62
  const char *v41; // [sp-10h] [bp-2CCh]@62
  char v42; // [sp+Ah] [bp-2B2h]@32
  char v43; // [sp+Bh] [bp-2B1h]@36
  int v44; // [sp+Ch] [bp-2B0h]@1
  char v45; // [sp+13h] [bp-2A9h]@34
  int v46; // [sp+14h] [bp-2A8h]@8
  unsigned int v47; // [sp+18h] [bp-2A4h]@48
  int v48; // [sp+1Ch] [bp-2A0h]@49
  unsigned int v49; // [sp+20h] [bp-29Ch]@1
  _BYTE *v50; // [sp+24h] [bp-298h]@1
  int v51; // [sp+28h] [bp-294h]@10
  int v52; // [sp+2Ch] [bp-290h]@47
  char v53[4]; // [sp+30h] [bp-28Ch]@17
  char v54; // [sp+34h] [bp-288h]@17
  char v55[52]; // [sp+50h] [bp-26Ch]@1
  char v56[52]; // [sp+51h] [bp-26Bh]@13
  char v57; // [sp+84h] [bp-238h]@6
  char v58; // [sp+B8h] [bp-204h]@16
  char v59[252]; // [sp+BCh] [bp-200h]@47
  char v60; // [sp+1B8h] [bp-104h]@61

  v50 = a6;
  v44 = -1;
  sub_10055100();
  sub_10042590((int)v55, a1, 50);
  sub_1000EE60(a5);
  v6 = dword_109B4234[a4];
  v7 = a4;
  v49 = 4 * a4;
  if ( v6 )
  {
    sub_1006F2C0(v6, dword_10E8298C);
    dword_109B4234[v7] = 0;
  }
  v8 = dword_109B4264[v7];
  if ( v8 )
  {
    sub_1006F2C0(v8, dword_10E8298C);
    dword_109B4264[v7] = 0;
  }
  if ( strstr(v55, "/test/") )
  {
    sub_10042590((int)&v57, "/mnt/card0/charts", 50);
    sub_10042750(&v57, v55, 50);
    sub_10042590((int)v55, &v57, 50);
    if ( sub_1000EDB0(v55, 1, 0, &v44) == (char *)1 )
      return v44;
    return -1;
  }
  if ( sub_10055DA0(27, 12, 4, (int)&v46) || sub_10055DA0(27, 8, 4, (int)&v51) )
    return -1;
  v10 = v55;
  v11 = 0;
  do
    v12 = *v10++;
  while ( v12 );
  if ( v10 != v56 )
  {
    do
    {
      v55[v11] = tolower((unsigned __int8)v55[v11]);
      ++v11;
    }
    while ( v11 < strlen(v55) );
  }
  v13 = v51;
  v14 = 0;
  while ( 1 )
  {
    v15 = (v13 + v14) >> 1;
    if ( sub_10055DA0(27, v46 + 40 * v15, 26, (int)&v58) )
      return -1;
    sub_10042590((int)&v54, &v58, 26);
    v53[strlen(&v54)] = 0;
    v16 = strcmp(&v54, v55);
    if ( !v16 )
      break;
    if ( v16 <= 0 )
    {
      if ( v16 < 0 )
        v14 = v15 + 1;
    }
    else
    {
      v13 = v15 - 1;
    }
    if ( v14 > v13 )
      return -1;
    if ( v13 < 0 )
      return -1;
  }
  if ( !strcmp(&v54, v55) )
  {
    v17 = 40 * v15;
    do
    {
      if ( v15 < 0 )
        break;
      --v15;
      v17 -= 40;
      if ( v15 < 0 )
        break;
      if ( sub_10055DA0(27, v17 + v46, 26, (int)&v58) )
        return -1;
      sub_10042590((int)&v54, &v58, 26);
      v53[strlen(&v54)] = 0;
    }
    while ( !strcmp(&v54, v55) );
  }
  v18 = 40 * (v15 + 1);
  v19 = v18 + v46;
  if ( sub_10055DA0(27, v18 + v46, 26, (int)&v58) )
    return -1;
  sub_10042590((int)&v54, &v58, 26);
  v53[strlen(&v54)] = 0;
  v42 = 0;
  if ( strcmp(&v54, v55) )
    return -1;
  while ( !v42 )
  {
    if ( sub_10055DA0(27, v19 + 38, 1, (int)&v45) )
      return -1;
    if ( v45 & 1 )
      goto LABEL_41;
    if ( sub_10055DA0(27, v19 + 39, 1, (int)&v43) )
      return -1;
    if ( *a2 > 0xCu && !(v43 & 3) )
      goto LABEL_47;
    switch ( a3 )
    {
      case 0x4F:
        if ( v43 & 3 )
          goto LABEL_41;
        goto LABEL_47;
      default:
        goto LABEL_41;
      case 0x41:
      case 0x4E:
        v20 = (v43 & 1) == 0;
        break;
      case 0x44:
        v20 = (v43 & 2) == 0;
        break;
    }
    if ( v20 )
    {
LABEL_41:
      v18 += 40;
      v19 = v18 + v46;
      if ( sub_10055DA0(27, v18 + v46, 26, (int)&v58) )
        return -1;
      sub_10042590((int)&v54, &v58, 26);
      v53[strlen(&v54)] = 0;
    }
    else
    {
LABEL_47:
      v42 = 1;
      v59[strlen(&v54)] = 0;
      sub_10042590((int)&v54, &v58, 26);
      if ( sub_10055DA0(27, v19 + 26, 4, (int)&v52)
        || sub_10055DA0(27, v19 + 30, 4, (int)&v47)
        || sub_10055DA0(27, v19 + 34, 4, (int)&v48) )
      {
        return -1;
      }
    }
    if ( strcmp(&v54, v55) )
    {
      if ( !v42 )
        return -1;
      break;
    }
  }
  if ( (unsigned int)v48 > 0x100000 )
    return -1;
  v21 = sub_1006F210(v47, dword_10E8298C);
  dword_109B4238 = v21;
  if ( !v21 )
    return -1;
  if ( sub_10055DA0(27, v52, v47, v21) )
  {
    sub_1006F2C0(dword_109B4238, dword_10E8298C);
    return -1;
  }
  v22 = v47;
  v23 = dword_109B4238;
  v24 = sub_1003E240();
  if ( sub_10006EA0((int)v24, &v48, v23, v22, (int)&unk_10E829A0, 46920, 15) != 1 )
  {
    sub_1006F2C0(dword_109B4238, dword_10E8298C);
    return -1;
  }
  sub_1003E250(v48);
  sub_1006F2C0(dword_109B4238, dword_10E8298C);
  if ( strstr(&v54, ".mpb") )
  {
    v25 = sub_10006F70("tmp_chrt.tcl");
    v60 = 0;
    if ( v43 & 1 )
    {
      v41 = "eff_new\\";
      v40 = &v60;
    }
    else
    {
      if ( !(v43 & 2) )
        goto LABEL_66;
      v41 = "eff_del\\";
      v40 = &v60;
    }
    sub_10042590((int)v40, v41, 256);
LABEL_66:
    sub_10042750(&v60, &v54, 256);
    if ( !sub_10008DB0(v25, &v60) )
      return -1;
  }
  v26 = v55;
  v27 = 0;
  do
    v28 = *v26++;
  while ( v28 );
  if ( v26 != v56 )
  {
    do
    {
      v55[v27] = toupper((unsigned __int8)v55[v27]);
      ++v27;
    }
    while ( v27 < strlen(v55) );
  }
  if ( sub_1000EDB0("tmp_chrt.tcl", 1, 0, &v44) != (char *)1 )
    v44 = -1;
  v29 = v49;
  v30 = &dword_109B4244[v49 / 4];
  if ( sub_1000F2F0(v44, 0, &dword_109B4244[v49 / 4]) == 1 && *v30 > 0 )
  {
    v31 = sub_1006F210(4 * *v30, dword_10E8298C);
    v32 = dword_10E8298C;
    v33 = 4 * *v30;
    *(int *)((char *)dword_109B4234 + v29) = v31;
    v34 = sub_1006F210(v33, v32);
    v35 = *(int *)((char *)dword_109B4234 + v29);
    *(int *)((char *)dword_109B4264 + v29) = v34;
    if ( v35 )
    {
      if ( v34 )
      {
        sub_1000F2F0(v44, v35, v30);
        if ( strstr(&v54, ".mpb") )
        {
          *v50 = 1;
        }
        else
        {
          *v50 = 0;
          v36 = 0;
          if ( *v30 > 0 )
          {
            v37 = v29;
            do
            {
              *(_BYTE *)(*(int *)((char *)dword_109B4264 + v37) + 4 * v36) = *(_BYTE *)(*(int *)((char *)dword_109B4234
                                                                                               + v37)
                                                                                      + 4 * v36);
              *(_BYTE *)(*(int *)((char *)dword_109B4264 + v37) + 4 * v36 + 1) = *(_BYTE *)(*(int *)((char *)dword_109B4234 + v37)
                                                                                          + 4 * v36
                                                                                          + 1);
              *(_BYTE *)(*(int *)((char *)dword_109B4264 + v37) + 4 * v36 + 2) = *(_BYTE *)(*(int *)((char *)dword_109B4234 + v37)
                                                                                          + 4 * v36
                                                                                          + 2);
              *(_BYTE *)(*(int *)((char *)dword_109B4264 + v37) + 4 * v36 + 3) = *(_BYTE *)(*(int *)((char *)dword_109B4234 + v37)
                                                                                          + 4 * v36
                                                                                          + 3);
              v38 = *(int *)((char *)dword_109B4234 + v37) + 4 * v36;
              v39 = 0;
              while ( *(_BYTE *)v38 != byte_1008D938[8 * v39]
                   || *(_BYTE *)(v38 + 1) != byte_1008D939[8 * v39]
                   || *(_BYTE *)(v38 + 2) != byte_1008D93A[8 * v39] )
              {
                if ( (unsigned int)++v39 >= 0x20 )
                  goto LABEL_88;
              }
              *(_BYTE *)(*(int *)((char *)dword_109B4264 + v37) + 4 * v36) = byte_1008D93C[8 * v39];
              *(_BYTE *)(*(int *)((char *)dword_109B4264 + v37) + 4 * v36 + 1) = byte_1008D93D[8 * v39];
              *(_BYTE *)(*(int *)((char *)dword_109B4264 + v37) + 4 * v36 + 2) = byte_1008D93E[8 * v39];
              *(_BYTE *)(*(int *)((char *)dword_109B4264 + v37) + 4 * v36 + 3) = byte_1008D93F[8 * v39];
LABEL_88:
              ++v36;
            }
            while ( v36 < *v30 );
          }
        }
      }
    }
  }
  return v44;
}
// 109B4234: using guessed type int dword_109B4234[];
// 109B4238: using guessed type int dword_109B4238;
// 109B4244: using guessed type int dword_109B4244[];
// 109B4264: using guessed type int dword_109B4264[];
// 10E8298C: using guessed type int dword_10E8298C;
// 1000C300: using guessed type char var_26C[52];
// 1000C300: using guessed type char var_28C[4];
// 1000C300: using guessed type char var_200[252];

//----- (1000CC90) --------------------------------------------------------
bool __thiscall sub_1000CC90(void *this)
{
  unsigned int v2; // ebp@6
  char **v3; // eax@8
  char **v4; // esi@8
  char v5; // al@9
  int v6; // edi@9
  int v7; // eax@10
  int v8; // edi@12
  unsigned __int8 v9; // bl@21
  int v10; // ecx@22
  _BYTE *v11; // eax@22
  char **v12; // edi@29
  char v13; // [sp+3h] [bp-5h]@3
  char v14; // [sp+4h] [bp-4h]@3

  if ( !sub_10008780(this)
    || sub_10055DE0(36, &v14, &v13)
    || sub_10055DE0(27, &v14, &v13)
    || sub_10055DE0(32, &v14, &v13) )
  {
    return 0;
  }
  sub_10008550((int *)((unsigned __int8)byte_109B41D3 - 1), (char **)dword_109B4240);
  v2 = 0;
  dword_109B4240 = 0;
  byte_109B41D3 = 0;
  if ( sub_10055DA0(32, 3, 1, (int)&byte_109B41D3) )
    return 0;
  v3 = (char **)sub_1006F210(4 * (unsigned __int8)byte_109B41D3, dword_10E8298C);
  v4 = v3;
  dword_109B4240 = (int)v3;
  if ( !v3 )
    goto LABEL_19;
  memset(v3, 0, 4 * (unsigned __int8)byte_109B41D3);
  v5 = byte_109B41D3;
  v6 = 0;
  if ( byte_109B41D3 )
  {
    while ( 1 )
    {
      v7 = sub_1006F210(0xFu, dword_10E8298C);
      v4 = (char **)dword_109B4240;
      *(_DWORD *)(dword_109B4240 + 4 * v6) = v7;
      if ( !v7 )
        break;
      v5 = byte_109B41D3;
      if ( ++v6 >= (unsigned int)(unsigned __int8)byte_109B41D3 )
        goto LABEL_12;
    }
    sub_10008550((int *)(v6 - 1), v4);
    dword_109B4240 = 0;
LABEL_19:
    byte_109B41D3 = 0;
    return 0;
  }
LABEL_12:
  v8 = 4 * (unsigned __int8)v5 + 4;
  if ( (unsigned __int8)v5 > 0u )
  {
    while ( 1 )
    {
      v9 = 0;
      if ( sub_10055DA0(32, v8, 1, (int)v4[v2]) )
      {
LABEL_29:
        v12 = (char **)dword_109B4240;
        goto LABEL_31;
      }
      v10 = dword_109B4240;
      v11 = *(_BYTE **)(dword_109B4240 + 4 * v2);
      if ( *v11 )
        break;
LABEL_27:
      sub_10042750(*(const char **)(v10 + 4 * v2++), ".jtf", 15);
      ++v8;
      if ( v2 >= (unsigned __int8)byte_109B41D3 )
        goto LABEL_13;
      v4 = (char **)dword_109B4240;
    }
    while ( v9 < 0xBu )
    {
      if ( sub_10055DA0(32, ++v8, 1, (int)&v11[++v9]) )
        goto LABEL_29;
      v10 = dword_109B4240;
      v11 = *(_BYTE **)(dword_109B4240 + 4 * v2);
      if ( !v11[v9] )
      {
        if ( v9 < 0xBu )
          goto LABEL_27;
        break;
      }
    }
    v12 = (char **)v10;
LABEL_31:
    sub_10008550((int *)((unsigned __int8)byte_109B41D3 - 1), v12);
    dword_109B4240 = 0;
    byte_109B41D3 = 0;
    return 0;
  }
LABEL_13:
  sub_10002C40("/mnt/card1/fonts");
  if ( !sub_10055D00((int)"/mnt/card1/fonts") || !sub_10055D30((int)"/mnt/card1/charts/crcfiles.txt") )
  {
    if ( sub_10055D00((int)"/mnt/card0/fonts") && sub_10055D30((int)"/mnt/card0/charts/crcfiles.txt") )
    {
      sub_10002C40("/mnt/card0/fonts");
    }
    else if ( sub_10055D00((int)"/mnt/sim_dir0/fonts") && sub_10055D30((int)"/mnt/sim_dir0/charts/crcfiles.txt") )
    {
      sub_10002C40("/mnt/sim_dir0/fonts");
    }
  }
  if ( !sub_100027E0(dword_109B4240, byte_109B41D3) )
    return 0;
  sub_10002C20(*(const char **)dword_109B4240);
  if ( sub_10055DE0(33, &v14, &v13)
    || sub_10055DE0(34, &v14, &v13)
    || sub_10055DE0(26, &v14, &v13)
    || sub_10055DE0(31, &v14, &v13)
    || sub_10055DE0(28, &v14, &v13) )
  {
    return 0;
  }
  return sub_10055DE0(35, &v14, &v13) == 0;
}
// 109B41D3: using guessed type char byte_109B41D3;
// 109B4240: using guessed type int dword_109B4240;
// 10E8298C: using guessed type int dword_10E8298C;

//----- (1000D020) --------------------------------------------------------
__int16 __usercall sub_1000D020@<ax>(int a1@<edi>, _WORD *a2, int a3)
{
  int v3; // eax@1
  const char *v4; // esi@2
  char *v5; // eax@4
  double v6; // st7@5
  int v7; // eax@5
  int v8; // esi@5
  unsigned int v9; // edx@5
  unsigned int v10; // eax@5
  signed __int16 v11; // bx@5
  double v12; // st7@5
  signed __int16 v13; // cx@5
  char *v14; // eax@7
  int v15; // eax@8
  int v16; // edx@8
  unsigned int v17; // ecx@8
  double v18; // st7@8
  int v19; // eax@8
  int v20; // edx@8
  unsigned int v21; // ecx@8
  double v22; // st7@8
  char *v24; // [sp+50h] [bp-38h]@2
  unsigned int v25; // [sp+54h] [bp-34h]@1
  double v26; // [sp+58h] [bp-30h]@5
  double v27; // [sp+68h] [bp-20h]@5
  int v28; // [sp+7Ch] [bp-Ch]@5
  double v29; // [sp+80h] [bp-8h]@5

  *a2 = 0x7FFF;
  *(_DWORD *)a3 = -1;
  *(_DWORD *)a1 = -1;
  LOWORD(v3) = sub_10055E40(29, &v25);
  if ( !(_WORD)v3 )
  {
    v3 = sub_1006F210(v25, dword_10E8298C);
    v4 = (const char *)v3;
    v24 = (char *)v3;
    if ( v3 )
    {
      if ( !sub_10055DA0(29, 0, v25, v3) )
      {
        v5 = strstr(v4, "Database_Begin_Date=");
        if ( v5 )
        {
          v6 = atof(v5 + 20);
          v7 = sub_100089A0((int)&v27, v6);
          v8 = *(_DWORD *)v7;
          v9 = *(_DWORD *)(v7 + 4);
          v10 = *(_DWORD *)(v7 + 8);
          *(double *)((char *)&v27 + 4) = 1.0;
          v28 = v8;
          v29 = COERCE_DOUBLE(__PAIR__(v10, v9));
          v11 = v8;
          LOWORD(v27) = v8;
          WORD1(v27) = 1;
          v26 = sub_10008AF0((int)&v28);
          v12 = sub_10008AF0((int)&v27);
          v13 = (signed int)floor((v26 - v12) / 14.0);
          if ( !v13 )
          {
            v13 = 26;
            v11 = v8 - 1;
          }
          *a2 = v13 + 100 * (v11 % 100);
          v14 = strstr(v24, "Database_End_Date=");
          if ( v14 )
          {
            v27 = atof(v14 + 18);
            v15 = sub_100089A0((int)&v26, v27);
            v16 = *(_DWORD *)(v15 + 4);
            v17 = *(_DWORD *)v15;
            HIDWORD(v29) = *(_DWORD *)(v15 + 8);
            LODWORD(v29) = v16;
            v18 = v29;
            *(_WORD *)(a3 + 2) = v17;
            LODWORD(v26) = (signed int)v18;
            *(_BYTE *)(a3 + 1) = (signed int)v18;
            *(_BYTE *)a3 = v17 >> 16;
            v19 = sub_100089A0((int)&v27, v27 + 70.0);
            v20 = *(_DWORD *)(v19 + 4);
            v21 = *(_DWORD *)v19;
            HIDWORD(v29) = *(_DWORD *)(v19 + 8);
            LODWORD(v29) = v20;
            v22 = v29;
            *(_BYTE *)a1 = v21 >> 16;
            *(_WORD *)(a1 + 2) = v21;
            LODWORD(v26) = (signed int)v22;
            *(_BYTE *)(a1 + 1) = (signed int)v22;
          }
          v4 = v24;
        }
      }
      LOWORD(v3) = (unsigned int)sub_1006F2C0((unsigned int)v4, dword_10E8298C);
    }
  }
  return v3;
}
// 10E82988: using guessed type int dword_10E82988;
// 10E8298C: using guessed type int dword_10E8298C;

//----- (1000D260) --------------------------------------------------------
int __cdecl sub_1000D260(int a1)
{
  *(_DWORD *)(a1 + 140) = -1;
  *(_BYTE *)a1 = 1;
  sub_1000D020(a1 + 148, (_WORD *)(a1 + 138), a1 + 144);
  sub_10042720((char *)(a1 + 63), 0x19u, "Copyright %i.", *(_WORD *)(a1 + 146));
  sub_10042590(a1 + 88, "Jeppesen Sanderson, Inc.", 50);
  sub_10042590(a1 + 1, "Jeppesen ChartView", 31);
  *(_BYTE *)(a1 + 62) = 0;
  return (unsigned __int8)sub_1000B1D0() > 5u ? 3 : 0;
}

//----- (1000D2E0) --------------------------------------------------------
__int16 __cdecl sub_1000D2E0(_WORD *a1, int a2)
{
  int v2; // ecx@0
  int v4; // [sp+0h] [bp-4h]@1

  v4 = v2;
  return sub_1000D020((int)&v4, a1, a2);
}

//----- (1000D300) --------------------------------------------------------
int __cdecl sub_1000D300(char *a1, char a2, int a3, int a4)
{
  int v5; // [sp+Ch] [bp-19ECh]@1

  memset(&v5, 0, 0x19E6u);
  sub_1000A2F0(a1, a2, a3, (int)&v5);
  return sub_10042590(a4, &v5, 26);
}

//----- (1000D380) --------------------------------------------------------
int __cdecl sub_1000D380(_DWORD *a1)
{
  int result; // eax@1

  *a1 = &off_1008DF50;
  result = 0;
  dword_109B4234[0] = 0;
  dword_109B4264[0] = 0;
  dword_109B4240 = 0;
  byte_109B41D3 = 0;
  dword_109B423C = 0;
  dword_109B4204 = 0;
  dword_109B4208 = 0;
  dword_109B420C = 0;
  dword_109B4210 = 0;
  return result;
}
// 1008DF50: using guessed type void *off_1008DF50;
// 109B41D3: using guessed type char byte_109B41D3;
// 109B4234: using guessed type int dword_109B4234[];
// 109B4240: using guessed type int dword_109B4240;
// 109B4264: using guessed type int dword_109B4264[];

//----- (1000D3C0) --------------------------------------------------------
char __thiscall sub_1000D3C0(void *this)
{
  int v1; // eax@1
  int v2; // ebx@1
  char v4; // [sp+4h] [bp-38h]@5

  v1 = sub_10045A80(this);
  v2 = v1;
  if ( byte_109B4290 )
  {
    byte_109B4290 = 0;
    if ( !(v1 & 0xF0) )
    {
      v1 = sub_100032B0();
      if ( v1 )
      {
        if ( sub_10045900(44, v2) )
          sub_10042590((int)&v4, " multiple database errors exist.", 51);
        else
          sub_10042590((int)&v4, " FliteCharts database error exists.", 51);
        LOBYTE(v1) = sub_100459C0(300, &v4);
      }
    }
  }
  return v1;
}
// 109B4290: using guessed type char byte_109B4290;

//----- (1000D450) --------------------------------------------------------
int __cdecl sub_1000D450(int a1, _DWORD *a2)
{
  *a2 = 0;
  return 0;
}

//----- (1000D460) --------------------------------------------------------
char sub_1000D460()
{
  return 0;
}

//----- (1000D470) --------------------------------------------------------
char sub_1000D470()
{
  sub_10002F90();
  return 1;
}

//----- (1000D480) --------------------------------------------------------
bool sub_1000D480()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2; // [sp+4h] [bp-4h]@1

  return sub_10055DE0(38, &v2, &v1) == 0;
}

//----- (1000D4A0) --------------------------------------------------------
int __usercall sub_1000D4A0@<eax>(int a1@<eax>, int a2@<esi>, int a3)
{
  int v3; // edi@1

  v3 = a1;
  if ( *(_BYTE *)(a1 + 34) & 1 )
    sub_10042590(a2, (_BYTE *)(a1 + 82), 26);
  else
    sub_10042590(a2, (_BYTE *)(a3 + 18), 26);
  sub_10042750((const char *)a2, "/", 26);
  sub_10042750((const char *)a2, (_BYTE *)(v3 + 6), 26);
  *(_BYTE *)(a2 + 25) = 0;
  return 0;
}

//----- (1000D4F0) --------------------------------------------------------
signed int __usercall sub_1000D4F0@<eax>(int a1@<edx>, char *a2@<ecx>, int a3@<ebx>, char a4, char *a5, signed int a6)
{
  int v6; // edi@1
  int v7; // ebp@2
  signed int v8; // esi@7
  signed int result; // eax@11
  int v10; // [sp+Ch] [bp-1Ch]@7
  char *v11; // [sp+10h] [bp-18h]@1
  char *v12; // [sp+14h] [bp-14h]@1
  int v13; // [sp+18h] [bp-10h]@2
  char v14; // [sp+1Ch] [bp-Ch]@5
  char v15; // [sp+1Dh] [bp-Bh]@5

  v12 = a5;
  v11 = a2;
  v6 = a1;
  switch ( a4 )
  {
    case 0:
      LOBYTE(v13) = 3;
      v7 = 1;
      break;
    case 1:
      LOBYTE(v13) = 2;
      v7 = 1;
      break;
    case 2:
      LOBYTE(v13) = 1;
      v7 = 1;
      break;
    case 4:
      v13 = 66051;
      v14 = 4;
      v15 = 5;
      v7 = 6;
      break;
    default:
      LOWORD(v13) = 1024;
      v7 = 2;
      break;
  }
  v8 = 0;
  v10 = 0;
  if ( a6 <= 0 )
    goto LABEL_15;
  do
  {
    if ( sub_100708F0(a3, v6, (int)&v13, v7, v12, v11, (int)&v10) )
      break;
    ++v10;
    ++v8;
    v6 += 460;
  }
  while ( v8 < a6 );
  if ( v8 )
    result = v8;
  else
LABEL_15:
    result = -1;
  return result;
}

//----- (1000D610) --------------------------------------------------------
signed int __usercall sub_1000D610@<eax>(char a1@<al>, int a2@<esi>, char *a3, char *a4, char *a5)
{
  int v5; // edi@1
  signed int v6; // ebx@1
  int v7; // ebp@2
  int v8; // eax@9
  signed int result; // eax@14
  int v10; // [sp+Ch] [bp-8h]@2
  int v11; // [sp+10h] [bp-4h]@8

  v5 = 0;
  v6 = 0;
  switch ( a1 )
  {
    case 0:
      LOBYTE(v10) = 3;
      v7 = 1;
      break;
    case 1:
      LOBYTE(v10) = 2;
      v7 = 1;
      break;
    case 2:
      LOBYTE(v10) = 1;
      v7 = 1;
      break;
    case 3:
      goto LABEL_6;
    default:
      sub_100429F0("..\\lib\\adl\\cht_def_tpc.c", 2506, 1, 0);
LABEL_6:
      v7 = 2;
      LOWORD(v10) = 1024;
      break;
  }
  if ( sub_100708B0(a3, (void *)a2) )
    goto LABEL_18;
  v11 = 0;
  do
  {
    v8 = sub_100708F0(a2, v5 + *(_DWORD *)(a2 + 44), (int)&v10, v7, a4, a5, (int)&v11);
    if ( !v8 )
    {
      ++v6;
      v5 += 460;
    }
    ++v11;
  }
  while ( !v8 && v6 < *(_DWORD *)(a2 + 48) );
  if ( v6 )
    result = v6;
  else
LABEL_18:
    result = -1;
  return result;
}

//----- (1000D700) --------------------------------------------------------
int __usercall sub_1000D700@<eax>(_DWORD *a1@<eax>, _WORD *a2@<ecx>, _DWORD *a3@<esi>, int a4)
{
  signed int v4; // edi@1
  char v6; // [sp+4h] [bp-8h]@1
  char v7; // [sp+8h] [bp-4h]@1

  *a2 = 0x7FFF;
  *a1 = -1;
  *a3 = -1;
  v4 = sub_100704D0(a2, a4, (int)a1, (int)&v7, (int)&v6);
  return v4 | sub_100705B0((int)a3);
}

//----- (1000D750) --------------------------------------------------------
char *__thiscall sub_1000D750(char *this)
{
  unsigned int v1; // ecx@1
  char *result; // eax@1

  v1 = (unsigned int)(this - 1);
  result = 0;
  if ( v1 < 1 )
    result = (char *)&unk_109B4298 + 2136 * v1;
  return result;
}

//----- (1000D770) --------------------------------------------------------
signed int __usercall sub_1000D770@<eax>(unsigned int a1@<esi>, int *a2)
{
  unsigned int v3; // [sp+0h] [bp-4h]@0

  sub_10044A10(v3);
  return sub_10042390(a1, a2, 4032000, 8);
}

//----- (1000D790) --------------------------------------------------------
signed int __usercall sub_1000D790@<eax>(const char **a1@<edi>, const char *a2@<esi>, const char **a3)
{
  char *v3; // eax@1
  signed int result; // eax@2

  v3 = strstr(a2, "/");
  *a3 = a2;
  if ( v3 )
  {
    *v3 = 0;
    *a1 = v3 + 1;
    result = 0;
  }
  else
  {
    *a2 = 0;
    *a1 = a2;
    result = -15;
  }
  return result;
}

//----- (1000D7C0) --------------------------------------------------------
char sub_1000D7C0()
{
  char result; // al@2
  char v1; // bl@3
  char v2; // [sp+4h] [bp-20h]@3
  unsigned int v3; // [sp+8h] [bp-1Ch]@3
  unsigned int v4; // [sp+Ch] [bp-18h]@3
  unsigned int v5; // [sp+10h] [bp-14h]@3
  unsigned int v6; // [sp+14h] [bp-10h]@5
  unsigned int v7; // [sp+18h] [bp-Ch]@5
  unsigned int v8; // [sp+1Ch] [bp-8h]@5
  unsigned int v9; // [sp+20h] [bp-4h]@5

  if ( dword_10E82988 )
  {
    v1 = 2;
    if ( sub_1000D700(&v4, &v2, &v5, (int)&v3) )
    {
      result = 2;
    }
    else
    {
      sub_10042B50((int *)&v6, dword_10E82988);
      sub_10042B50((int *)&v7, v3);
      sub_10042B50((int *)&v8, v4);
      sub_10042B50((int *)&v9, v5);
      if ( v6 >= v7 )
      {
        if ( v6 >= v8 )
        {
          if ( v6 >= v9 )
            v1 = 7;
          result = v1;
        }
        else
        {
          result = 1;
        }
      }
      else
      {
        result = 2;
      }
    }
  }
  else
  {
    result = 4;
  }
  return result;
}
// 10E82988: using guessed type int dword_10E82988;

//----- (1000D880) --------------------------------------------------------
char *__cdecl sub_1000D880(int a1, char a2)
{
  char *v2; // ecx@0
  char *result; // eax@1
  const void *v4; // edx@1
  char *v5; // esi@1
  int v6; // edx@4
  int v7; // ecx@4
  int v8; // eax@4
  int v9; // edx@4
  signed int v10; // ecx@5
  signed int v11; // ebp@7
  signed int v12; // eax@7
  char *v13; // edi@9
  signed int v14; // edx@9
  int v15; // ebx@12
  int v16; // edx@12
  int v17; // esi@12
  signed int v18; // edi@15
  signed int v19; // eax@16
  int v20; // ebx@19
  signed int i; // edi@21
  char v22; // cl@22
  char v23; // cl@32
  int v24; // edx@43
  int v25; // eax@43
  bool v26; // sf@43
  unsigned __int8 v27; // of@43
  double v28; // st7@46
  float v29; // ST3C_4@48
  float v30; // ST20_4@48
  signed int v31; // [sp+8h] [bp-244h]@44
  signed int v32; // [sp+8h] [bp-244h]@46
  char v33; // [sp+Fh] [bp-23Dh]@0
  unsigned int v34; // [sp+10h] [bp-23Ch]@5
  char *v35; // [sp+14h] [bp-238h]@1
  signed int v36; // [sp+18h] [bp-234h]@0
  int v37; // [sp+18h] [bp-234h]@12
  signed int v38; // [sp+1Ch] [bp-230h]@10
  signed int v39; // [sp+20h] [bp-22Ch]@0
  signed int v40; // [sp+24h] [bp-228h]@7
  unsigned int v41; // [sp+28h] [bp-224h]@8
  unsigned int v42; // [sp+2Ch] [bp-220h]@13
  int v43; // [sp+30h] [bp-21Ch]@19
  int v44; // [sp+34h] [bp-218h]@0
  int v45; // [sp+38h] [bp-214h]@20
  __int16 *v46; // [sp+3Ch] [bp-210h]@1
  signed int v47; // [sp+40h] [bp-20Ch]@10
  __int16 v48[256]; // [sp+48h] [bp-204h]@4

  v46 = *(__int16 **)(a1 + 100);
  result = sub_1000D750(v2);
  v5 = result;
  v35 = result;
  if ( result )
  {
    if ( v4 && !a2 )
    {
      qmemcpy(v48, v4, sizeof(v48));
      v48[(unsigned __int16)word_109B4278[0]] = word_109B4284[0];
      v6 = (unsigned __int16)word_109B427C;
      v5 = result;
      v46 = v48;
      v48[(unsigned __int16)word_109B427A] = word_109B4286;
      v7 = (unsigned __int16)word_109B427E;
      v48[v6] = word_109B4288;
      v8 = (unsigned __int16)word_109B4280;
      v48[v7] = word_109B428A;
      v9 = (unsigned __int16)word_109B4282;
      v48[v8] = word_109B428C;
      v48[v9] = word_109B428E;
    }
    v10 = *(_WORD *)(a1 + 62);
    v34 = ((signed int)*((_WORD *)v5 + 373) << 19) / v10;
    if ( v34 <= (unsigned int)(((signed int)*((_WORD *)v5 + 372) << 19) / *(_WORD *)(a1 + 60)) )
      v34 = ((signed int)*((_WORD *)v5 + 372) << 19) / *(_WORD *)(a1 + 60);
    v11 = v36;
    v12 = 0;
    v40 = 0;
    if ( (signed int)*(_WORD *)(a1 + 60) > 0 )
    {
      v41 = v34;
      while ( 1 )
      {
        v13 = v35;
        v14 = *((_WORD *)v35 + 372);
        if ( v12 >= v14 )
          goto LABEL_44;
        v47 = v12;
        v38 = v41 >> 19;
        if ( (signed int)(v41 >> 19) >= v14 )
          v38 = *((_WORD *)v35 + 372);
        v15 = a1;
        v16 = *((_DWORD *)v35 + 185) + v12 * *((_WORD *)v35 + 375);
        v37 = **(_DWORD **)(a1 + 84) + v40 * *(_WORD *)(*(_DWORD *)(a1 + 84) + 10);
        v17 = 0;
        v11 = 0;
        v39 = 0;
        if ( v10 > 0 )
          break;
LABEL_43:
        v41 += v34;
        v24 = *(_WORD *)(v15 + 60);
        v25 = v40 + 1;
        v40 = v25;
        v27 = __OFSUB__(v25, v24);
        v26 = v25 - v24 < 0;
        v12 = v38;
        if ( !(v26 ^ v27) )
          goto LABEL_44;
      }
      v42 = v34;
      while ( 1 )
      {
        v18 = *((_WORD *)v13 + 373);
        if ( v11 >= v18 )
          goto LABEL_43;
        v19 = v11;
        v11 = v42 >> 19;
        if ( (signed int)(v42 >> 19) > v18 )
          v11 = v18;
        if ( v34 < 0x80000 )
        {
          v23 = *(_BYTE *)(v19 + v16);
        }
        else
        {
          v16 = *((_DWORD *)v35 + 185) + v47 * *((_WORD *)v35 + 375);
          v20 = 0;
          v43 = 0;
          if ( v47 >= v38 )
            goto LABEL_51;
          v45 = v38 - v47;
          do
          {
            for ( i = v19; i < v11; ++i )
            {
              v22 = *(_BYTE *)(i + v16);
              if ( v22 )
              {
                if ( v22 == 16 )
                {
                  ++v43;
                }
                else
                {
                  v33 = *(_BYTE *)(i + v16);
                  ++v17;
                }
              }
              else
              {
                ++v20;
              }
            }
            v16 += *((_WORD *)v35 + 375);
            --v45;
          }
          while ( v45 );
          if ( v20 && (!v39 || v44 == 16) )
          {
            v23 = 0;
            goto LABEL_40;
          }
          if ( v43 > v20 && v43 > v17 )
          {
            v23 = 16;
            goto LABEL_40;
          }
          if ( v20 < v17 )
            v23 = v33;
          else
LABEL_51:
            v23 = 0;
        }
LABEL_40:
        v17 = 0;
        if ( v46 )
          v23 = v46[(unsigned __int8)v23];
        v15 = a1;
        v44 = (unsigned __int8)v23;
        *(_BYTE *)(v39 + v37) = v23;
        v42 += v34;
        v10 = *(_WORD *)(a1 + 62);
        if ( ++v39 >= v10 )
          goto LABEL_43;
        v13 = v35;
      }
    }
LABEL_44:
    v31 = v11;
    if ( v11 <= 1 )
      v31 = 1;
    v28 = (double)v39 / (double)v31;
    v32 = v12;
    if ( v12 <= 1 )
      v32 = 1;
    v30 = (double)v40 / (double)v32;
    v29 = v28;
    *((float *)v35 + 533) = (v30 + v29) * 0.5;
    result = (char *)1;
  }
  return result;
}
// 109B4278: using guessed type __int16 word_109B4278[];
// 109B427A: using guessed type __int16 word_109B427A;
// 109B427C: using guessed type __int16 word_109B427C;
// 109B427E: using guessed type __int16 word_109B427E;
// 109B4280: using guessed type __int16 word_109B4280;
// 109B4282: using guessed type __int16 word_109B4282;
// 109B4284: using guessed type __int16 word_109B4284[];
// 109B4286: using guessed type __int16 word_109B4286;
// 109B4288: using guessed type __int16 word_109B4288;
// 109B428A: using guessed type __int16 word_109B428A;
// 109B428C: using guessed type __int16 word_109B428C;
// 109B428E: using guessed type __int16 word_109B428E;
// 1000D880: using guessed type __int16 var_204[256];

//----- (1000DBE0) --------------------------------------------------------
char *__cdecl sub_1000DBE0(int a1, int a2, int a3, int a4, char a5)
{
  return sub_1000D880(a2, a5);
}

//----- (1000DC00) --------------------------------------------------------
int __cdecl sub_1000DC00(int a1)
{
  int v1; // edi@1
  _DWORD *v2; // ST24_4@1
  _DWORD *v3; // eax@1
  int v4; // ebx@1
  int v5; // ebx@1
  int v6; // ebx@1
  _DWORD *v8; // [sp+18h] [bp+4h]@1

  v1 = a1;
  *(_WORD *)(a1 + 138) = 0x7FFF;
  *(_DWORD *)(a1 + 144) = -1;
  v2 = (_DWORD *)(a1 + 144);
  *(_DWORD *)(a1 + 140) = -1;
  v3 = (_DWORD *)(a1 + 148);
  v8 = v3;
  *v3 = -1;
  *(_BYTE *)v1 = 2;
  v4 = sub_10070460((void *)(v1 + 63), (void *)(v1 + 88));
  v5 = sub_10070640((void *)(v1 + 1)) | v4;
  v6 = sub_10070680((void *)(v1 + 32)) | v5;
  *(_BYTE *)(v1 + 31) = 0;
  *(_BYTE *)(v1 + 62) = 0;
  return (v6 | sub_1000D700(v2, (_WORD *)(v1 + 138), v8, v1 + 140)) != 0 ? 3 : 0;
}

//----- (1000DCA0) --------------------------------------------------------
int __cdecl sub_1000DCA0(_WORD *a1, _DWORD *a2)
{
  _WORD *v2; // ecx@1
  _DWORD *v3; // eax@1

  v2 = a1;
  v3 = a2;
  *a1 = 0x7FFF;
  *v3 = -1;
  return sub_1000D700(v3, v2, &a2, (int)&a1);
}

//----- (1000DCD0) --------------------------------------------------------
char __cdecl sub_1000DCD0(int a1, char a2, int a3, void *a4)
{
  signed int v4; // eax@1
  signed int v5; // ebx@1
  char result; // al@2
  void *v7; // esi@6
  int v8; // edi@6
  signed int v9; // ebp@6
  char v10; // [sp+10h] [bp-38h]@1
  void *v11; // [sp+3Ch] [bp-Ch]@1
  int v12; // [sp+40h] [bp-8h]@1

  v11 = &unk_109B4C80;
  v12 = 255;
  memset(a4, 0, 0x19E6u);
  v4 = sub_1000D610(a2, (int)&v10, (char *)a1, (char *)a3, 0);
  v5 = v4;
  if ( v4 > 0 )
  {
    if ( v4 > 255 )
      v5 = 255;
    if ( v5 > 0 )
    {
      v7 = a4;
      v8 = 0;
      v9 = v5;
      do
      {
        sub_1000D4A0((int)v11 + v8, (int)v7, (int)&v10);
        v7 = (char *)v7 + 26;
        v8 += 460;
        --v9;
      }
      while ( v9 );
    }
    result = v5;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1000DD90) --------------------------------------------------------
char sub_1000DD90()
{
  __int16 v0; // ax@1
  char result; // al@2
  char v2; // [sp+3h] [bp-5h]@1
  char v3; // [sp+4h] [bp-4h]@1

  v0 = sub_10055DE0(38, &v3, &v2);
  if ( v0 == 12 )
  {
    result = 8;
  }
  else if ( v0 )
  {
    result = 10;
  }
  else
  {
    if ( byte_109B4291 )
    {
      sub_10002F90();
      byte_109B4290 = 1;
      byte_109B4291 = 0;
    }
    result = sub_1000D7C0();
  }
  return result;
}
// 109B4290: using guessed type char byte_109B4290;
// 109B4291: using guessed type char byte_109B4291;

//----- (1000DDF0) --------------------------------------------------------
char *__cdecl sub_1000DDF0(char *a1, int a2, int a3, int a4, int a5, float *a6, int a7)
{
  char *result; // eax@1
  int v8; // edx@1

  *(_DWORD *)(a7 + 12) = 0;
  *(_DWORD *)a7 = 0;
  *(_DWORD *)(a7 + 8) = 0;
  *(_DWORD *)(a7 + 4) = 0;
  result = sub_1000D750(a1);
  if ( result )
  {
    *(_DWORD *)(v8 + 12) = *((_WORD *)result + 372);
    *(_DWORD *)v8 = 0;
    result = (char *)*((_WORD *)result + 373);
    *(_DWORD *)(v8 + 8) = result;
    *(_DWORD *)(v8 + 4) = 0;
    *a6 = 1.0;
  }
  return result;
}

//----- (1000DE40) --------------------------------------------------------
int __cdecl sub_1000DE40(char *a1, char a2, int a3, _BYTE *a4)
{
  signed int v4; // ebp@1
  signed int v5; // edi@1
  int v6; // ebx@2
  _BYTE *v7; // esi@2
  int result; // eax@7
  int v9; // [sp+10h] [bp-64h]@1
  char *v10; // [sp+18h] [bp-5Ch]@1
  char v11; // [sp+1Ch] [bp-58h]@1
  char v12; // [sp+20h] [bp-54h]@1
  void *v13; // [sp+4Ch] [bp-28h]@1
  int v14; // [sp+50h] [bp-24h]@1
  char v15; // [sp+54h] [bp-20h]@1

  v9 = 0;
  v13 = &unk_109B4C80;
  v14 = 255;
  sub_10042590((int)&v15, a4, 26);
  sub_1000D790((const char **)&v10, &v15, (const char **)&v11);
  v4 = sub_1000D610(a2, (int)&v12, a1, 0, v10);
  v5 = 0;
  if ( v4 <= 0 )
  {
    result = 0;
  }
  else
  {
    v6 = a3;
    v7 = &unk_109B4C93;
    do
    {
      if ( (signed int)v7 >= (signed int)&unk_109D16C7 )
        break;
      if ( *v7 )
      {
        sub_10042590(v6, v7, 11);
        ++v9;
        v6 += 11;
      }
      ++v5;
      v7 += 460;
    }
    while ( v5 < v4 );
    result = v9;
  }
  return result;
}

//----- (1000DF30) --------------------------------------------------------
bool __cdecl sub_1000DF30(char *a1, char a2, _BYTE *a3)
{
  char v4; // [sp+0h] [bp-AFCh]@1

  return sub_1000DE40(a1, a2, (int)&v4, a3) > 0;
}

//----- (1000DF90) --------------------------------------------------------
int __cdecl sub_1000DF90(_BYTE *a1, int a2, int a3, unsigned __int8 a4, int a5, _BYTE *a6)
{
  char *v7; // ebp@3
  unsigned int v8; // eax@3
  char *v9; // ecx@12
  int v10; // edx@12
  unsigned int v11; // eax@12
  char *v12; // [sp+8h] [bp-A8h]@3
  _BYTE *v13; // [sp+Ch] [bp-A4h]@3
  char v14; // [sp+10h] [bp-A0h]@3
  char v15; // [sp+2Ch] [bp-84h]@9

  sub_10055100();
  if ( a4 >= 1u )
    return -1;
  v7 = (char *)&unk_109B4298 + 2136 * a4;
  *a6 = 1;
  sub_10042590((int)&v14, a1, 26);
  sub_1000D790((const char **)&v12, &v14, (const char **)&v13);
  v8 = *((_DWORD *)v7 + 184);
  if ( v8 < 0xFFFFFFC2 && v8 )
  {
    sub_10055AA0(*((_DWORD *)v7 + 184));
    *((_DWORD *)v7 + 184) = 0;
  }
  if ( *((_DWORD *)v7 + 189) )
    sub_10043BE0(*((void **)v7 + 189));
  else
    *((_DWORD *)v7 + 189) = v7 + 760;
  if ( sub_10003020(&v15, 128, v13, *((void **)v7 + 189)) )
  {
    *((_DWORD *)v7 + 189) = 0;
    return -1;
  }
  memset(v7 + 888, 0, 0x34u);
  v9 = v12;
  v10 = *((_DWORD *)v7 + 189);
  v7[940] = 0;
  *((_DWORD *)v7 + 223) = v7 + 940;
  *((_DWORD *)v7 + 222) = 0;
  *((_WORD *)v7 + 448) = 168;
  *((_DWORD *)v7 + 226) = 0;
  *((_WORD *)v7 + 454) = 0;
  *((_DWORD *)v7 + 228) = v7 + 1108;
  *((_DWORD *)v7 + 229) = 1024;
  *((_DWORD *)v7 + 230) = &unk_10E829A0;
  *((_DWORD *)v7 + 231) = 46920;
  *((_DWORD *)v7 + 232) = 15;
  v7[932] = -2;
  *((_DWORD *)v7 + 234) = 0xFFFF;
  v11 = sub_10044C20(v10, v9, 4, v7, (int)(v7 + 888));
  *((_DWORD *)v7 + 184) = v11;
  if ( v11 >= 0xFFFFFFC2 )
    return -1;
  if ( !v11 )
    return -1;
  *((_DWORD *)v7 + 185) = *((_DWORD *)v7 + 188);
  if ( sub_1000D770(v11, (int *)v7 + 185) )
    return -1;
  return a4 + 1;
}

//----- (1000E170) --------------------------------------------------------
int __usercall sub_1000E170@<eax>(int result@<eax>, int a2@<ecx>, int a3, int a4)
{
  int v4; // ebx@2
  _BYTE *v5; // ebp@2
  int v6; // [sp+0h] [bp-4h]@2

  if ( result > 0 )
  {
    v4 = a2;
    v5 = (_BYTE *)(a4 + 141);
    v6 = result;
    do
    {
      *(v5 - 141) = 0;
      *(_DWORD *)(v5 - 139) = -1;
      *v5 = 1;
      qmemcpy(v5 - 109, (const void *)(v4 + 36), 0x2Eu);
      *(v5 - 1) = 0;
      result = sub_1000D4A0(v4, (int)(v5 - 135), a3);
      v5 += 142;
      v4 += 460;
      --v6;
    }
    while ( v6 );
  }
  return result;
}

//----- (1000E1F0) --------------------------------------------------------
char __usercall sub_1000E1F0@<al>(char *a1@<ecx>, void *a2@<edx>, int a3)
{
  char *v3; // ebx@1
  void *v4; // edi@1
  char result; // al@3
  bool v6; // bl@9
  void *v7; // [sp+10h] [bp-5Ch]@1
  char *v8; // [sp+14h] [bp-58h]@1
  char *v9; // [sp+18h] [bp-54h]@4
  char v10; // [sp+1Ch] [bp-50h]@4
  int v11; // [sp+20h] [bp-4Ch]@4
  char v12; // [sp+4Ch] [bp-20h]@4

  v3 = a1;
  v4 = a2;
  v8 = a1;
  v7 = a2;
  if ( sub_100425E0(&unk_109B4C5C, (_BYTE *)a3, 26) || sub_100425E0(&unk_109B4C76, v3, 5) )
  {
    sub_10042590((int)&v12, (_BYTE *)a3, 26);
    sub_1000D790((const char **)&v9, &v12, (const char **)&v10);
    v6 = !sub_100708B0(v3, &v11)
      && sub_1000D4F0((int)&unk_109B4C80, v9, (int)&v11, 4, 0, 255) > 0
      && !sub_10070AD0((int)&v11, (int)&unk_109B4C80, v7)
      && *((_DWORD *)v7 + 5) > 0
      && *((_DWORD *)v7 + 6) > 0;
    qmemcpy(&unk_109B4AF0, v7, 0x16Cu);
    byte_109B4C7B = v6;
    sub_10042590((int)&unk_109B4C5C, (_BYTE *)a3, 26);
    sub_10042590((int)&unk_109B4C76, v8, 5);
    result = v6;
  }
  else
  {
    qmemcpy(v4, &unk_109B4AF0, 0x16Cu);
    result = byte_109B4C7B;
  }
  return result;
}
// 109B4C7B: using guessed type char byte_109B4C7B;

//----- (1000E330) --------------------------------------------------------
char __cdecl sub_1000E330(int a1)
{
  char result; // al@1
  char v2; // [sp+0h] [bp-16Ch]@2

  result = 0;
  if ( (unsigned int)(a1 - 1) < 1 )
    result = sub_1000E1F0((char *)(dword_10E8E0E8 + 36211), &v2, 576 * (a1 - 1) + dword_10E8E0E8 + 72130);
  return result;
}
// 10E8E0E8: using guessed type int dword_10E8E0E8;

//----- (1000E370) --------------------------------------------------------
int __cdecl sub_1000E370(char *a1, int a2, int a3)
{
  int result; // eax@2
  int v4; // esi@3
  char v5; // [sp+8h] [bp-30h]@1

  memset(&unk_109B4C80, 0, 0x1CA34u);
  sub_10042590(dword_10E8E0E8 + 36211, a1, 5);
  if ( sub_100708B0(a1, &v5) )
  {
    result = -1;
  }
  else
  {
    v4 = sub_1000D4F0((int)&unk_109B4C80, 0, (int)&v5, a2, 0, 255);
    sub_1000E170(v4, (int)&unk_109B4C80, (int)&v5, a3);
    result = v4;
  }
  return result;
}
// 10E8E0E8: using guessed type int dword_10E8E0E8;

//----- (1000E420) --------------------------------------------------------
char __cdecl sub_1000E420(int a1, char a2, int a3, _BYTE *a4)
{
  char result; // al@1
  char v5; // [sp+Ch] [bp-19ECh]@1

  *a4 = 0;
  memset(&v5, 0, 0x19E6u);
  result = sub_1000DCD0(a1, a2, a3, &v5);
  if ( result )
    result = sub_10042590((int)a4, &v5, 26);
  return result;
}

//----- (1000E4B0) --------------------------------------------------------
char __cdecl sub_1000E4B0(char *a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  char v7; // bl@1
  char *v8; // eax@1
  unsigned int v9; // edx@1
  signed int v10; // edi@5
  signed int v11; // ecx@5
  int v13; // ebp@16
  __int16 v14; // ax@16
  int v15; // edi@16
  char *v16; // ecx@17
  int v17; // eax@19
  int v18; // edx@19
  char *v19; // edi@25
  __int16 v20; // cx@25
  signed int v21; // ST28_4@25
  char v22; // [sp+13h] [bp-17Dh]@3
  char *v23; // [sp+14h] [bp-17Ch]@1
  int v24; // [sp+1Ch] [bp-174h]@5
  int v25; // [sp+20h] [bp-170h]@5
  int v26; // [sp+24h] [bp-16Ch]@3
  int v27; // [sp+28h] [bp-168h]@5
  int v28; // [sp+2Ch] [bp-164h]@16
  int v29; // [sp+38h] [bp-158h]@5
  int v30; // [sp+3Ch] [bp-154h]@5
  __int16 v31; // [sp+40h] [bp-150h]@4
  char v32; // [sp+42h] [bp-14Eh]@5
  unsigned __int16 v33; // [sp+44h] [bp-14Ch]@7
  unsigned __int16 v34; // [sp+46h] [bp-14Ah]@13
  unsigned __int8 v35; // [sp+48h] [bp-148h]@16
  char v36; // [sp+50h] [bp-140h]@17

  *(_DWORD *)a7 = 0;
  v7 = 0;
  v8 = sub_1000D750(a1);
  v23 = v8;
  if ( v9 < 1 )
  {
    if ( v8 )
    {
      v7 = sub_1000E1F0((char *)(dword_10E8E0E8 + 36211), &v26, 576 * v9 + dword_10E8E0E8 + 72130);
      v22 = v7;
      if ( v7 )
      {
        if ( v31 )
          return 0;
        sub_10045AC0((int)&v24, *(double *)a6, *(double *)(a6 + 8));
        v10 = (signed int)((double)(v25 - v27) * 10.0 / (double)v30);
        v11 = (signed int)(10.0 * (double)(v24 - v26) / (double)v29);
        if ( v32 )
        {
          if ( v32 != 1 || abs(v10) > (signed int)v33 || abs(v11) > (signed int)v33 || v10 * v10 + v11 * v11 > v33 * v33 )
            return 0;
        }
        else if ( v10 < 0 || v11 < 0 || v10 > v34 || v11 > v33 )
        {
          return 0;
        }
        v13 = v35;
        v14 = HIWORD(v28);
        *(_WORD *)a7 = v28 + v10;
        v15 = 0;
        *(_WORD *)(a7 + 2) = v14 + v11;
        if ( v13 > 0 )
        {
          v16 = &v36;
          do
          {
            if ( !v16[8] )
            {
              v17 = *(_WORD *)a7 - *(_WORD *)v16;
              v18 = *(_WORD *)(a7 + 2) - *((_WORD *)v16 + 1);
              if ( v17 >= 0 && v17 < *((_WORD *)v16 + 3) && v18 >= 0 && v18 < *((_WORD *)v16 + 2) )
                return 0;
              v7 = v22;
            }
            ++v15;
            v16 += 10;
          }
          while ( v15 < v13 );
        }
        v19 = v23;
        v20 = *((_WORD *)v23 + 372) - *(_WORD *)(a7 + 2);
        v21 = *(_WORD *)a7;
        *(_WORD *)(a7 + 2) = v20;
        *(_WORD *)a7 = (signed int)(*((float *)v19 + 533) * (double)v21 + 0.5);
        *(_WORD *)(a7 + 2) = (signed int)((double)*(_WORD *)(a7 + 2) * *((float *)v19 + 533) + 0.5);
      }
    }
  }
  return v7;
}
// 10E8E0E8: using guessed type int dword_10E8E0E8;

//----- (1000E6E0) --------------------------------------------------------
char __cdecl sub_1000E6E0(char *a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  char *v7; // eax@1
  unsigned int v8; // edx@1
  char *v9; // esi@1
  char v10; // bl@3
  float v11; // ST1C_4@6
  float v12; // ST1C_4@6
  signed int v13; // edi@6
  float v14; // ST1C_4@6
  float v15; // ST1C_4@6
  float v16; // ST1C_4@6
  char result; // al@6
  float v18; // [sp+8h] [bp-174h]@1
  float v19; // [sp+Ch] [bp-170h]@1
  int v20; // [sp+10h] [bp-16Ch]@3
  int v21; // [sp+14h] [bp-168h]@6
  unsigned __int16 v22; // [sp+18h] [bp-164h]@6
  unsigned __int16 v23; // [sp+1Ah] [bp-162h]@6
  int v24; // [sp+24h] [bp-158h]@6
  int v25; // [sp+28h] [bp-154h]@6
  __int16 v26; // [sp+2Ch] [bp-150h]@4

  *(double *)a6 = 0.0;
  *(double *)(a6 + 8) = 0.0;
  v18 = (double)*(_WORD *)a7;
  v19 = (double)*(_WORD *)(a7 + 2);
  v7 = sub_1000D750(a1);
  v9 = v7;
  if ( v8 < 1
    && v7
    && (v10 = sub_1000E1F0((char *)(dword_10E8E0E8 + 36211), &v20, 576 * v8 + dword_10E8E0E8 + 72130)) != 0
    && !v26
    && *((float *)v9 + 533) > 0.001 )
  {
    v11 = v18 / *((float *)v9 + 533);
    v12 = v11 - (double)v22;
    v13 = v21 + (signed int)((double)v25 / 10.0 * v12);
    v14 = v19 / *((float *)v9 + 533);
    v15 = (double)*((_WORD *)v9 + 372) - v14;
    v16 = v15 - (double)v23;
    sub_10045AA0(a6, v20 + (signed int)((double)v24 / 10.0 * v16), v13);
    result = v10;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10E8E0E8: using guessed type int dword_10E8E0E8;

//----- (1000E850) --------------------------------------------------------
signed int __cdecl sub_1000E850(_DWORD *a1)
{
  int *v1; // esi@1
  int v2; // eax@2
  unsigned int v3; // esi@4
  int v4; // edi@4
  unsigned __int8 v5; // al@5
  int v6; // ecx@5
  __int16 v7; // dx@5
  int v8; // eax@5

  *a1 = &off_1008E958;
  byte_109B4291 = 1;
  byte_109B4290 = 0;
  memset(&unk_109B4298, 0, 0x858u);
  v1 = (int *)&unk_109B4588;
  do
  {
    v2 = sub_1006F210(0x3D8600u, dword_10E8298C);
    *v1 = v2;
    if ( !v2 )
    {
      sub_100429F0("..\\lib\\adl\\cht_def_tpc.c", 511, 1, 0);
      return -26;
    }
    v1 += 534;
  }
  while ( (signed int)v1 < (signed int)&unk_109B4DE0 );
  v3 = 0;
  v4 = 0;
  do
  {
    v5 = j_HWM_pvg_get_color(
           (unsigned __int8)byte_1008E8DA[v3],
           (unsigned __int8)byte_1008E8D9[v3],
           (unsigned __int8)byte_1008E8D8[v3]);
    v6 = (unsigned __int8)byte_1008E8F1[v3];
    v7 = v5;
    v8 = (unsigned __int8)byte_1008E8F0[v3];
    word_109B4278[v4] = v7;
    word_109B4284[v4] = (unsigned __int8)j_HWM_pvg_get_color((unsigned __int8)byte_1008E8F2[v3], v6, v8);
    v3 += 4;
    ++v4;
  }
  while ( v3 < 0x18 );
  memset(&unk_109B4AF0, 0, 0x18Cu);
  return 0;
}
// 10055410: using guessed type int __cdecl j_HWM_pvg_get_color(_DWORD, _DWORD, _DWORD);
// 1008E958: using guessed type int (**off_1008E958)();
// 109B4278: using guessed type __int16 word_109B4278[];
// 109B4284: using guessed type __int16 word_109B4284[];
// 109B4290: using guessed type char byte_109B4290;
// 109B4291: using guessed type char byte_109B4291;
// 10E8298C: using guessed type int dword_10E8298C;

//----- (1000E960) --------------------------------------------------------
char __thiscall sub_1000E960(void *this)
{
  void *v2; // [sp+0h] [bp-4h]@1

  v2 = this;
  LOBYTE(v2) = 0;
  sub_10056080();
  sub_10045BD0();
  sub_10002EF0();
  nullsub_2();
  sub_100552B0(5);
  sub_10002F20();
  sub_10003DD0();
  sub_10055E60(73, &v2);
  return sub_10002F00((char)v2);
}
// 10002EF0: using guessed type int sub_10002EF0(void);
// 10055F70: using guessed type int nullsub_2(void);
// 10056080: using guessed type int sub_10056080(void);

//----- (1000E9B0) --------------------------------------------------------
int sub_1000E9B0()
{
  unknown_libname_1();
  return atexit(unknown_libname_2);
}
// 1000E9C0: using guessed type int unknown_libname_1(void);

//----- (1000E9F0) --------------------------------------------------------
signed int __cdecl sub_1000E9F0(char *a1, char *a2, int a3)
{
  signed int result; // eax@2
  const char *v4; // esi@5
  int v5; // ebp@10
  signed int v6; // esi@11
  void *v7; // ebp@16
  void *v8; // ebp@20
  void (__stdcall ***v9)(_DWORD); // ecx@21
  void *v10; // ebp@24
  void (__stdcall ***v11)(_DWORD); // ecx@25
  int v12; // ebp@29
  signed int v13; // esi@30
  void (__stdcall ***v14)(_DWORD); // ecx@31

  if ( byte_109D17DC == 1 )
  {
    result = -16;
  }
  else
  {
    result = sub_10015DD0();
    if ( result == 1 )
    {
      result = sub_1003E180();
      if ( result == 1 )
      {
        v4 = (const char *)dword_109D187C;
        byte_109D17DC = 1;
        if ( dword_109D187C )
        {
          if ( *(_DWORD *)dword_109D182C )
            j__free(*(void **)dword_109D182C);
          *(_DWORD *)dword_109D182C = operator new(strlen(v4) + 1);
          strcpy(*(char **)dword_109D182C, v4);
        }
        if ( a1 && (v5 = sub_10011F80(a1, (int)&dword_109D182C), v5 != 1) )
        {
          v6 = 0;
          do
          {
            if ( *(_DWORD *)(v6 + dword_109D182C) )
              j__free(*(void **)(v6 + dword_109D182C));
            v6 += 4;
          }
          while ( v6 < 1024 );
          memset((void *)dword_109D182C, 0, 0x400u);
          sub_1000EC80();
          result = v5;
        }
        else
        {
          v7 = operator new(0x14u);
          if ( v7 )
          {
            *(_DWORD *)v7 = &off_1008F5E8;
            strcpy((char *)v7 + 4, aSolid);
            *((_BYTE *)v7 + 13) = 0;
            *((_BYTE *)v7 + 14) = 0;
            *((_DWORD *)v7 + 4) = 0;
            if ( *(_DWORD *)dword_109D1830 )
              (***(void (__stdcall ****)(_DWORD))dword_109D1830)(1);
            *(_DWORD *)dword_109D1830 = v7;
          }
          v8 = operator new(0x14u);
          if ( v8 )
          {
            *(_DWORD *)v8 = &off_1008F5E8;
            strcpy((char *)v8 + 4, aNull_1);
            *((_BYTE *)v8 + 13) = 5;
            *((_BYTE *)v8 + 14) = 0;
            *((_DWORD *)v8 + 4) = 0;
            v9 = *(void (__stdcall ****)(_DWORD))(dword_109D1830 + 20);
            if ( v9 )
              (**v9)(1);
            *(_DWORD *)(dword_109D1830 + 20) = v8;
          }
          v10 = operator new(0x14u);
          if ( v10 )
          {
            *(_DWORD *)v10 = &off_1008F5E8;
            strcpy((char *)v10 + 4, aSolidold);
            *((_BYTE *)v10 + 13) = 6;
            *((_BYTE *)v10 + 14) = 0;
            *((_DWORD *)v10 + 4) = 0;
            v11 = *(void (__stdcall ****)(_DWORD))(dword_109D1830 + 24);
            if ( v11 )
              (**v11)(1);
            *(_DWORD *)(dword_109D1830 + 24) = v10;
          }
          if ( a2 && (v12 = sub_100118E0(a2, a3, (int)&dword_109D1830), v12 != 1) )
          {
            v13 = 0;
            do
            {
              v14 = *(void (__stdcall ****)(_DWORD))(v13 + dword_109D1830);
              if ( v14 )
                (**v14)(1);
              v13 += 4;
            }
            while ( v13 < 1024 );
            memset((void *)dword_109D1830, 0, 0x400u);
            byte_109D1834 = 1;
            sub_1000EC80();
            result = v12;
          }
          else
          {
            result = 1;
          }
        }
      }
    }
  }
  return result;
}
// 1008F5E8: using guessed type int (__thiscall *off_1008F5E8)(void *, char);
// 109D17DC: using guessed type char byte_109D17DC;
// 109D182C: using guessed type int dword_109D182C;
// 109D1830: using guessed type int dword_109D1830;
// 109D1834: using guessed type char byte_109D1834;
// 109D187C: using guessed type int dword_109D187C;

//----- (1000EC80) --------------------------------------------------------
signed int sub_1000EC80()
{
  signed int result; // eax@2
  int *v1; // edi@3
  int *i; // eax@3
  int v3; // esi@4
  void (__stdcall ***v4)(_DWORD); // ecx@5
  _DWORD *v5; // esi@11
  signed int v6; // esi@12
  signed int v7; // esi@16
  void (__stdcall ***v8)(_DWORD); // ecx@17

  if ( byte_109D17DC )
  {
    v1 = (int *)dword_109D17BC;
    for ( i = (int *)dword_109D17C0; v1 != i; ++v1 )
    {
      v3 = *v1;
      if ( *v1 )
      {
        v4 = *(void (__stdcall ****)(_DWORD))(v3 + 4);
        if ( v4 && *(_BYTE *)(v3 + 8) && v4 )
          (**v4)(1);
        j__free((void *)v3);
        i = (int *)dword_109D17C0;
      }
    }
    v5 = sub_1001DA00(i, i, (_DWORD *)dword_109D17BC);
    nullsub_1(v5, dword_109D17C0);
    dword_109D17C0 = (int)v5;
    dword_109D17C8 = 0;
    result = sub_1003E140();
    if ( result == 1 )
    {
      v6 = 0;
      do
      {
        if ( *(_DWORD *)(v6 + dword_109D182C) )
          j__free(*(void **)(v6 + dword_109D182C));
        v6 += 4;
      }
      while ( v6 < 1024 );
      v7 = 0;
      memset((void *)dword_109D182C, 0, 0x400u);
      do
      {
        v8 = *(void (__stdcall ****)(_DWORD))(v7 + dword_109D1830);
        if ( v8 )
          (**v8)(1);
        v7 += 4;
      }
      while ( v7 < 1024 );
      memset((void *)dword_109D1830, 0, 0x400u);
      byte_109D1834 = 1;
      sub_1003DEC0();
      sub_10016180((int)&dword_109D17F0);
      result = sub_1003E110();
      if ( result == 1 )
      {
        result = sub_1001A8C0();
        if ( result == 1 )
          byte_109D17DC = 0;
      }
    }
  }
  else
  {
    result = -15;
  }
  return result;
}
// 1001A990: using guessed type _DWORD __stdcall nullsub_1(_DWORD, _DWORD);
// 109D17BC: using guessed type int dword_109D17BC;
// 109D17C0: using guessed type int dword_109D17C0;
// 109D17C8: using guessed type int dword_109D17C8;
// 109D17DC: using guessed type char byte_109D17DC;
// 109D17F0: using guessed type int dword_109D17F0;
// 109D182C: using guessed type int dword_109D182C;
// 109D1830: using guessed type int dword_109D1830;
// 109D1834: using guessed type char byte_109D1834;

//----- (1000EDB0) --------------------------------------------------------
char *__cdecl sub_1000EDB0(char *a1, int a2, int a3, signed int *a4)
{
  char *result; // eax@2
  char *v5; // edi@3
  signed int *v6; // ebx@5
  int v7; // esi@7
  _DWORD *v8; // eax@9

  if ( !byte_109D17DC )
    return (char *)-15;
  v5 = a1;
  if ( !a1 )
    return (char *)-9;
  v6 = a4;
  if ( !a4 )
    return (char *)-9;
  v7 = a2;
  if ( a2 )
  {
    if ( a2 >= 0 )
      goto LABEL_9;
    return (char *)-9;
  }
  if ( !a3 )
    return (char *)-9;
LABEL_9:
  v8 = sub_10019B00(a1, a2, a3, (int)&a1);
  if ( v8 )
    goto LABEL_20;
  result = a1;
  if ( a1 != (char *)-5 )
    return result;
  if ( v7 != 1 )
    return (char *)-9;
  v8 = sub_10019980(v5);
  if ( v8 )
  {
LABEL_20:
    *v6 = sub_1000F630((int)&unk_109D17B8, v8);
    result = (char *)1;
  }
  else
  {
    result = a1;
  }
  return result;
}
// 109D17DC: using guessed type char byte_109D17DC;

//----- (1000EE60) --------------------------------------------------------
signed int __cdecl sub_1000EE60(int a1)
{
  signed int result; // eax@2
  int v2; // eax@3
  int v3; // ecx@3
  int v4; // edx@4
  int v5; // esi@7
  int v6; // edi@7
  void (__stdcall ***v7)(_DWORD); // ecx@8
  int v8; // edx@13
  _DWORD *v9; // eax@13
  int v10; // eax@16

  if ( byte_109D17DC )
  {
    v2 = sub_1000F860((int)&unk_109D17B8, a1);
    v3 = dword_109D17BC;
    if ( dword_109D17BC )
      v4 = (dword_109D17C0 - dword_109D17BC) >> 2;
    else
      v4 = 0;
    if ( v2 == v4 )
    {
      result = -7;
    }
    else
    {
      v5 = *(_DWORD *)(dword_109D17BC + 4 * v2);
      v6 = dword_109D17BC + 4 * v2;
      if ( v5 )
      {
        v7 = *(void (__stdcall ****)(_DWORD))(v5 + 4);
        if ( v7 && *(_BYTE *)(v5 + 8) && v7 )
          (**v7)(1);
        j__free((void *)v5);
        v3 = dword_109D17BC;
      }
      v8 = dword_109D17C0;
      v9 = (_DWORD *)(v6 + 4);
      if ( v6 + 4 != dword_109D17C0 )
      {
        do
        {
          *(v9 - 1) = *v9;
          ++v9;
        }
        while ( v9 != (_DWORD *)v8 );
        v3 = dword_109D17BC;
      }
      v10 = dword_109D17C0 - 4;
      dword_109D17C0 -= 4;
      if ( !v3 || !((v10 - v3) & 0xFFFFFFFC) )
        dword_109D17C8 = 0;
      result = 1;
    }
  }
  else
  {
    result = -15;
  }
  return result;
}
// 109D17BC: using guessed type int dword_109D17BC;
// 109D17C0: using guessed type int dword_109D17C0;
// 109D17C8: using guessed type int dword_109D17C8;
// 109D17DC: using guessed type char byte_109D17DC;

//----- (1000EF30) --------------------------------------------------------
signed int sub_1000EF30()
{
  signed int result; // eax@2
  int v1; // eax@3
  int *i; // edi@3
  int v3; // esi@4
  void (__stdcall ***v4)(_DWORD); // ecx@5
  int v5; // ecx@11

  if ( byte_109D17DC )
  {
    v1 = dword_109D17C0;
    for ( i = (int *)dword_109D17BC; i != (int *)v1; ++i )
    {
      v3 = *i;
      if ( *i )
      {
        v4 = *(void (__stdcall ****)(_DWORD))(v3 + 4);
        if ( v4 && *(_BYTE *)(v3 + 8) && v4 )
          (**v4)(1);
        j__free((void *)v3);
        v1 = dword_109D17C0;
      }
    }
    v5 = dword_109D17BC;
    dword_109D17C0 = v5;
    dword_109D17C8 = 0;
    result = 1;
  }
  else
  {
    result = -15;
  }
  return result;
}
// 109D17BC: using guessed type int dword_109D17BC;
// 109D17C0: using guessed type int dword_109D17C0;
// 109D17C8: using guessed type int dword_109D17C8;
// 109D17DC: using guessed type char byte_109D17DC;

//----- (1000EFD0) --------------------------------------------------------
int __cdecl sub_1000EFD0(int a1, int a2, float a3, float a4, int a5, int a6, char a7)
{
  int v8; // eax@3
  int v9; // ecx@4
  int v10; // esi@7
  signed __int16 v11; // di@9
  int v12; // eax@9
  int v13; // ecx@9
  int v14; // edx@9
  int v15; // ebx@9
  int v16; // ebp@9
  signed int v17; // eax@9
  signed int v18; // edx@9
  int v19; // ebp@15
  int v20; // ecx@15
  signed int v21; // eax@20
  signed int v22; // edx@20
  float v23; // edx@22
  signed int v24; // eax@23
  int v25; // edx@36
  signed int v26; // [sp+1Ch] [bp-48h]@15
  signed int v27; // [sp+20h] [bp-44h]@15
  char v28; // [sp+28h] [bp-3Ch]@9
  int v29; // [sp+38h] [bp-2Ch]@36
  float v30; // [sp+3Ch] [bp-28h]@36
  float v31; // [sp+40h] [bp-24h]@36
  float v32; // [sp+44h] [bp-20h]@36
  int v33; // [sp+48h] [bp-1Ch]@36
  int v34; // [sp+4Ch] [bp-18h]@36
  int v35; // [sp+50h] [bp-14h]@36
  int v36; // [sp+54h] [bp-10h]@36
  int v37; // [sp+58h] [bp-Ch]@36
  float v38; // [sp+5Ch] [bp-8h]@36
  int v39; // [sp+60h] [bp-4h]@36

  if ( !byte_109D17DC )
    return -15;
  v8 = sub_1000F860((int)&unk_109D17B8, a1);
  if ( dword_109D17BC )
    v9 = (dword_109D17C0 - dword_109D17BC) >> 2;
  else
    v9 = 0;
  if ( v8 == v9 )
    return -7;
  v10 = *(_DWORD *)(*(_DWORD *)(dword_109D17BC + 4 * v8) + 4);
  if ( !v10 )
    return -7;
  v11 = 0;
  v12 = (*(int (__thiscall **)(int, char *, _DWORD, _DWORD, _DWORD, signed int, signed int))(*(_DWORD *)v10 + 16))(
          v10,
          &v28,
          0,
          0,
          0,
          1065353216,
          1065353216);
  v13 = v12;
  v14 = v12;
  v15 = *(_DWORD *)v12;
  v16 = *(_DWORD *)(v12 + 4);
  v17 = *(_DWORD *)(v12 + 8);
  v18 = *(_DWORD *)(v14 + 12);
  if ( !a2
    || (double)(v17 - v15) * a3 < 2.0
    || (double)(v18 - v16) * a4 < 2.0
    || (double)v17 * a3 > 32767.0
    || (double)v18 * a4 > 32767.0 )
  {
    return -9;
  }
  if ( a5 )
  {
    v19 = *(_DWORD *)a5;
    v26 = *(_DWORD *)(a5 + 4);
    v20 = *(_DWORD *)(a5 + 12);
    v27 = *(_DWORD *)(a5 + 8);
    if ( (double)*(signed int *)a5 * a3 < -32768.0
      || (double)v26 * a4 < -32768.0
      || (double)v27 * a3 > 32767.0
      || (double)*(signed int *)(a5 + 12) * a4 > 32767.0 )
    {
      return -9;
    }
  }
  else
  {
    v21 = *(_DWORD *)(v13 + 4);
    v22 = *(_DWORD *)(v13 + 8);
    v19 = *(_DWORD *)v13;
    v20 = *(_DWORD *)(v13 + 12);
    v26 = v21;
    v27 = v22;
    v11 = 256;
  }
  if ( a6 )
  {
    v23 = *(float *)a6;
    if ( *(_DWORD *)a6 < -32768 )
      return -9;
    v24 = *(_DWORD *)(a6 + 4);
    if ( v24 < -32768 || SLODWORD(v23) > 0x7FFF )
      return -9;
    if ( v24 > 0x7FFF )
      return -9;
  }
  else
  {
    v23 = 0.0;
    v24 = 0;
  }
  if ( a7 & 1 )
    v11 |= 1u;
  if ( a7 & 2 )
    v11 |= 2u;
  if ( a7 & 4 )
    v11 |= 4u;
  if ( a7 & 8 )
    v11 |= 8u;
  v39 = v24;
  v35 = v26 - 1;
  v37 = v20 + 1;
  v29 = a2;
  v30 = a3;
  v31 = a4;
  v38 = v23;
  v25 = *(_DWORD *)v10;
  v32 = a3;
  v34 = v19 - 1;
  v36 = v27 + 1;
  LOWORD(v33) = v11;
  return (*(int (__thiscall **)(int, int *))(v25 + 8))(v10, &v29);
}
// 109D17BC: using guessed type int dword_109D17BC;
// 109D17C0: using guessed type int dword_109D17C0;
// 109D17DC: using guessed type char byte_109D17DC;

//----- (1000F240) --------------------------------------------------------
signed int __cdecl sub_1000F240(int a1, int a2)
{
  signed int result; // eax@2
  int v3; // eax@5
  int v4; // ecx@6
  int v5; // ecx@9
  int v6; // eax@11
  int v7; // eax@11
  int v8; // ecx@11
  int v9; // edx@11
  int v10; // edi@11
  int v11; // eax@11
  char v12; // [sp+4h] [bp-10h]@11

  if ( byte_109D17DC )
  {
    if ( a2 )
    {
      v3 = sub_1000F860((int)&unk_109D17B8, a1);
      if ( dword_109D17BC )
        v4 = (dword_109D17C0 - dword_109D17BC) >> 2;
      else
        v4 = 0;
      if ( v3 != v4 && (v5 = *(_DWORD *)(*(_DWORD *)(dword_109D17BC + 4 * v3) + 4)) != 0 )
      {
        v6 = v5 + 416;
        LOBYTE(v6) = *(_BYTE *)(v5 + 412);
        v7 = (*(int (__stdcall **)(char *, _DWORD, int, int, signed int, signed int))(*(_DWORD *)v5 + 16))(
               &v12,
               0,
               v6,
               v5 + 416,
               1065353216,
               1065353216);
        v8 = *(_DWORD *)v7;
        v9 = *(_DWORD *)(v7 + 4);
        v10 = *(_DWORD *)(v7 + 8);
        v11 = *(_DWORD *)(v7 + 12);
        *(_DWORD *)(a2 + 8) = v10;
        *(_DWORD *)a2 = v8;
        *(_DWORD *)(a2 + 4) = v9;
        *(_DWORD *)(a2 + 12) = v11;
        result = 1;
      }
      else
      {
        result = -7;
      }
    }
    else
    {
      result = -9;
    }
  }
  else
  {
    result = -15;
  }
  return result;
}
// 109D17BC: using guessed type int dword_109D17BC;
// 109D17C0: using guessed type int dword_109D17C0;
// 109D17DC: using guessed type char byte_109D17DC;

//----- (1000F2F0) --------------------------------------------------------
signed int __cdecl sub_1000F2F0(int a1, int a2, int *a3)
{
  signed int result; // eax@2
  int v4; // eax@5
  int v5; // ecx@6
  int v6; // eax@9
  int v7; // eax@11

  if ( byte_109D17DC )
  {
    if ( a3 )
    {
      v4 = sub_1000F860((int)&unk_109D17B8, a1);
      if ( dword_109D17BC )
        v5 = (dword_109D17C0 - dword_109D17BC) >> 2;
      else
        v5 = 0;
      if ( v4 != v5 && (v6 = *(_DWORD *)(*(_DWORD *)(dword_109D17BC + 4 * v4) + 4)) != 0 )
      {
        v7 = sub_1001E960(v6 + 376, a2, *a3);
        *a3 = v7;
        result = v7 >= 0 ? 1 : -18;
      }
      else
      {
        result = -7;
      }
    }
    else
    {
      result = -9;
    }
  }
  else
  {
    result = -15;
  }
  return result;
}
// 109D17BC: using guessed type int dword_109D17BC;
// 109D17C0: using guessed type int dword_109D17C0;
// 109D17DC: using guessed type char byte_109D17DC;

//----- (1000F380) --------------------------------------------------------
signed int __cdecl sub_1000F380(int a1, int a2, int a3)
{
  signed int result; // eax@2
  int v4; // eax@5
  int v5; // ecx@6
  int v6; // eax@9

  if ( byte_109D17DC )
  {
    if ( a2 )
    {
      v4 = sub_1000F860((int)&unk_109D17B8, a1);
      if ( dword_109D17BC )
        v5 = (dword_109D17C0 - dword_109D17BC) >> 2;
      else
        v5 = 0;
      if ( v4 != v5 && (v6 = *(_DWORD *)(*(_DWORD *)(dword_109D17BC + 4 * v4) + 4)) != 0 )
      {
        if ( a3 >= *(_DWORD *)(v6 + 400) )
        {
          sub_1001E8B0(v6 + 376, a2, a3);
          result = 1;
        }
        else
        {
          result = -18;
        }
      }
      else
      {
        result = -7;
      }
    }
    else
    {
      result = -9;
    }
  }
  else
  {
    result = -15;
  }
  return result;
}
// 109D17BC: using guessed type int dword_109D17BC;
// 109D17C0: using guessed type int dword_109D17C0;
// 109D17DC: using guessed type char byte_109D17DC;

//----- (1000F630) --------------------------------------------------------
signed int __thiscall sub_1000F630(int this, _DWORD *a2)
{
  _DWORD *v2; // edi@1
  int v3; // esi@1
  _DWORD *v4; // eax@2
  int v5; // ecx@3
  int v6; // edx@5
  _DWORD *v7; // eax@5
  int v8; // edi@5
  int v9; // edx@6
  unsigned int v10; // ecx@7
  int v11; // eax@10
  int v12; // eax@12
  char *v13; // eax@14
  _DWORD *v14; // ebx@14
  char *k; // ebp@14
  int v16; // edx@16
  signed int result; // eax@16
  int v18; // eax@18
  _DWORD *v19; // ecx@21
  int i; // eax@21
  int v21; // edx@22
  _DWORD *j; // eax@23
  char *v23; // [sp+8h] [bp-8h]@14
  int v24; // [sp+Ch] [bp-4h]@12

  v2 = a2;
  v3 = this;
  if ( !a2 )
    return -1;
  ++*(_DWORD *)(this + 16);
  v4 = operator new(0xCu);
  if ( v4 )
  {
    v5 = *(_DWORD *)(v3 + 16);
    v4[1] = v2;
    *v4 = v5;
    *((_BYTE *)v4 + 8) = 1;
  }
  else
  {
    v4 = 0;
  }
  v6 = *(_DWORD *)(v3 + 12);
  a2 = v4;
  v7 = *(_DWORD **)(v3 + 8);
  v8 = *(_DWORD *)(v3 + 8);
  if ( (unsigned int)((v6 - (signed int)v7) >> 2) >= 1 )
  {
    if ( (unsigned int)(((signed int)v7 - v8) >> 2) >= 1 )
    {
      sub_1001B350(v7 - 1, v7, v7);
      v19 = *(_DWORD **)(v3 + 8);
      for ( i = (int)(v19 - 1); i != v8; *v19 = v21 )
      {
        v21 = *(_DWORD *)(i - 4);
        i -= 4;
        --v19;
      }
      for ( j = (_DWORD *)v8; j != (_DWORD *)(v8 + 4); ++j )
        *j = a2;
    }
    else
    {
      sub_1001B350((_DWORD *)v8, v7, (_DWORD *)(v8 + 4));
      sub_1000F830(*(_DWORD **)(v3 + 8), (_DWORD *)(1 - ((*(_DWORD *)(v3 + 8) - v8) >> 2)), &a2);
      v18 = *(_DWORD *)(v3 + 8);
      if ( v8 != v18 )
      {
        do
        {
          *(_DWORD *)v8 = a2;
          v8 += 4;
        }
        while ( v8 != v18 );
        *(_DWORD *)(v3 + 8) += 4;
        return *(_DWORD *)(v3 + 16);
      }
    }
    *(_DWORD *)(v3 + 8) += 4;
    return *(_DWORD *)(v3 + 16);
  }
  v9 = *(_DWORD *)(v3 + 4);
  if ( !v9 || (v10 = ((signed int)v7 - v9) >> 2, v10 <= 1) )
    v10 = 1;
  if ( v9 )
    v11 = ((signed int)v7 - v9) >> 2;
  else
    v11 = 0;
  v12 = v10 + v11;
  v24 = v12;
  if ( v12 < 0 )
    v12 = 0;
  v13 = (char *)operator new(4 * v12);
  v14 = *(_DWORD **)(v3 + 4);
  v23 = v13;
  for ( k = v13; v14 != (_DWORD *)v8; k += 4 )
  {
    sub_1001E440(k, v14);
    ++v14;
  }
  sub_1000F830(k, (_DWORD *)1, &a2);
  sub_1001B350((_DWORD *)v8, *(_DWORD **)(v3 + 8), (_DWORD *)k + 1);
  nullsub_1(*(_DWORD *)(v3 + 4), *(_DWORD *)(v3 + 8));
  j__free(*(void **)(v3 + 4));
  *(_DWORD *)(v3 + 12) = &v23[4 * v24];
  v16 = (int)&v23[4 * sub_1000F810(v3) + 4];
  result = *(_DWORD *)(v3 + 16);
  *(_DWORD *)(v3 + 4) = v23;
  *(_DWORD *)(v3 + 8) = v16;
  return result;
}
// 1001A990: using guessed type _DWORD __stdcall nullsub_1(_DWORD, _DWORD);

//----- (1000F810) --------------------------------------------------------
int __thiscall sub_1000F810(int this)
{
  int v1; // edx@1
  int result; // eax@2

  v1 = *(_DWORD *)(this + 4);
  if ( v1 )
    result = (*(_DWORD *)(this + 8) - v1) >> 2;
  else
    result = 0;
  return result;
}

//----- (1000F830) --------------------------------------------------------
_DWORD *__stdcall sub_1000F830(_DWORD *a1, _DWORD *a2, _DWORD *a3)
{
  _DWORD *result; // eax@1
  char *v4; // ecx@2

  result = a2;
  if ( a2 )
  {
    v4 = (char *)a2;
    result = a1;
    do
    {
      if ( result )
        *result = *a3;
      ++result;
      --v4;
    }
    while ( v4 );
  }
  return result;
}

//----- (1000F860) --------------------------------------------------------
int __thiscall sub_1000F860(int this, int a2)
{
  _DWORD **v2; // edx@1
  _DWORD **v3; // ecx@1
  _DWORD **v4; // eax@1
  int result; // eax@5

  v2 = *(_DWORD ***)(this + 4);
  v3 = *(_DWORD ***)(this + 8);
  v4 = v2;
  if ( v2 == v3 )
    goto LABEL_6;
  while ( **v4 != a2 )
  {
    ++v4;
    if ( v4 == v3 )
      goto LABEL_6;
  }
  result = v4 - v2;
  if ( result < 0 )
  {
LABEL_6:
    if ( v2 )
      result = v3 - v2;
    else
      result = 0;
  }
  return result;
}

//----- (1000F900) --------------------------------------------------------
double __cdecl sub_1000F900(int a1)
{
  __int16 v1; // ax@1
  double v2; // st7@1
  double result; // st7@2

  v1 = *(_WORD *)a1;
  v2 = (((double)*(_WORD *)(a1 + 4) * 0.0001 + (double)*(_BYTE *)(a1 + 3)) * 0.01666666666666667
      + (double)*(_BYTE *)(a1 + 2))
     * 0.01666666666666667;
  if ( *(_WORD *)a1 < 0 )
    result = (double)v1 - v2;
  else
    result = v2 + (double)v1;
  return result;
}

//----- (1000F970) --------------------------------------------------------
bool __cdecl sub_1000F970(int a1, int a2, int a3, int a4)
{
  double v4; // st7@2
  double v5; // st7@7
  int v6; // ebp@8
  double v7; // st7@12
  int v8; // edi@13
  double v9; // st7@17
  int v10; // eax@18
  int v12; // [sp+10h] [bp-10h]@3

  if ( *(float *)a3 <= 0.001 )
  {
    v12 = 0;
  }
  else
  {
    v4 = ((double)*(signed int *)a4 - *(float *)(a3 + 4)) / *(float *)a3;
    if ( v4 <= 0.0 )
      v12 = (signed __int64)(v4 - 0.5);
    else
      v12 = (signed __int64)(v4 + 0.5);
  }
  if ( *(float *)a3 <= 0.001 )
  {
    v6 = 0;
  }
  else
  {
    v5 = ((double)*(signed int *)(a4 + 4) - *(float *)(a3 + 8)) / *(float *)a3;
    if ( v5 <= 0.0 )
      v6 = -(signed int)(signed __int64)(v5 - 0.5);
    else
      v6 = -(signed int)(signed __int64)(v5 + 0.5);
  }
  if ( *(float *)a3 <= 0.001 )
  {
    v8 = 0;
  }
  else
  {
    v7 = ((double)*(signed int *)(a4 + 8) - *(float *)(a3 + 4)) / *(float *)a3;
    if ( v7 <= 0.0 )
      v8 = (signed __int64)(v7 - 0.5);
    else
      v8 = (signed __int64)(v7 + 0.5);
  }
  if ( *(float *)a3 <= 0.001 )
  {
    v10 = 0;
  }
  else
  {
    v9 = ((double)*(signed int *)(a4 + 12) - *(float *)(a3 + 8)) / *(float *)a3;
    if ( v9 <= 0.0 )
      v10 = -(signed int)(signed __int64)(v9 - 0.5);
    else
      v10 = -(signed int)(signed __int64)(v9 + 0.5);
  }
  return a1 >= v12 && a1 <= v8 && a2 >= v10 && a2 <= v6;
}

//----- (1000FAD0) --------------------------------------------------------
int __cdecl sub_1000FAD0(int a1)
{
  int result; // eax@1
  signed int v2; // ebx@10
  int v3; // esi@11
  int v4; // [sp+Ch] [bp-18h]@1
  int v5; // [sp+10h] [bp-14h]@1
  int v6; // [sp+1Eh] [bp-6h]@10

  v4 = 16;
  result = sub_10011620(a1, 0, 0, 0, 101, (int)&v5, (int)&v4);
  if ( result == 1 )
  {
    if ( sub_10011620(a1, 0, 0, 0, 150, 0, (int)&v4) != 1 )
      return -22;
    if ( sub_10011620(a1, 0, 0, 0, 102, 0, (int)&v4) != 1 )
      return -22;
    if ( sub_10011620(a1, 0, 0, 0, 103, 0, (int)&v4) == 1 )
    {
      v2 = (unsigned int)(unsigned __int16)v6 >> 8;
      if ( !v2 )
        return 1;
      v3 = 0;
      if ( v2 <= 0 )
        return 1;
      while ( sub_10011620(a1, 0, 0, 0, v3 + 105, 0, (int)&v4) == 1 )
      {
        if ( ++v3 >= v2 )
          return 1;
      }
    }
    return -22;
  }
  if ( result == -20 )
    result = -21;
  return result;
}

//----- (1000FBE0) --------------------------------------------------------
int __cdecl sub_1000FBE0(int a1, double a2, double a3, int a4, int a5)
{
  int result; // eax@4
  unsigned __int8 v7; // c0@6
  unsigned __int8 v8; // c3@6
  double v9; // st7@7
  unsigned __int8 v11; // c0@9
  unsigned __int8 v12; // c3@9
  double v13; // st7@10
  int v14; // edi@12
  int v15; // esi@18
  int v16; // edi@19
  void *v17; // eax@33
  void (__thiscall ***v18)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // eax@34
  void *v19; // eax@35
  void *v20; // esi@38
  void (__thiscall **v21)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // ebx@38
  double v22; // ST5C_8@38
  double v23; // st7@38
  void (__thiscall **v24)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // ebx@38
  double v25; // ST5C_8@38
  double v26; // st7@38
  double v27; // st7@38
  double v28; // st6@38
  double v29; // st7@46
  double v30; // st7@52
  int v31; // ebx@53
  double v32; // st7@57
  double v33; // st7@62
  int v34; // edi@63
  double v35; // st7@67
  double v36; // st7@75
  double v37; // st7@76
  double v38; // st7@78
  double v39; // st7@79
  int v40; // ebx@81
  int v41; // [sp+78h] [bp-13Ch]@5
  double v42; // [sp+7Ch] [bp-138h]@9
  int v43; // [sp+88h] [bp-12Ch]@5
  float v44; // [sp+8Ch] [bp-128h]@52
  float v45; // [sp+90h] [bp-124h]@57
  double v46; // [sp+94h] [bp-120h]@71
  double v47; // [sp+9Ch] [bp-118h]@15
  double v48; // [sp+A4h] [bp-110h]@15
  int v49; // [sp+ACh] [bp-108h]@15
  int v50; // [sp+B0h] [bp-104h]@75
  double v51; // [sp+B4h] [bp-100h]@32
  double v52; // [sp+BCh] [bp-F8h]@38
  double v53; // [sp+C4h] [bp-F0h]@32
  double v54; // [sp+CCh] [bp-E8h]@38
  double v55; // [sp+D4h] [bp-E0h]@38
  double v56; // [sp+DCh] [bp-D8h]@38
  double v57; // [sp+E4h] [bp-D0h]@38
  double v58; // [sp+ECh] [bp-C8h]@38
  double v59; // [sp+F4h] [bp-C0h]@46
  double v60; // [sp+FCh] [bp-B8h]@73
  double v61; // [sp+104h] [bp-B0h]@38
  double v62; // [sp+10Ch] [bp-A8h]@75
  int v63; // [sp+118h] [bp-9Ch]@32
  double v64; // [sp+11Ch] [bp-98h]@75
  double v65; // [sp+124h] [bp-90h]@32
  double v66; // [sp+12Ch] [bp-88h]@38
  double v67; // [sp+134h] [bp-80h]@38
  double v68; // [sp+13Ch] [bp-78h]@32
  int v69; // [sp+144h] [bp-70h]@5
  double v70; // [sp+148h] [bp-6Ch]@15
  int v71; // [sp+150h] [bp-64h]@15
  char v72; // [sp+154h] [bp-60h]@38
  char v73; // [sp+15Ah] [bp-5Ah]@38
  char v74; // [sp+160h] [bp-54h]@38
  char v75; // [sp+166h] [bp-4Eh]@38
  int v76[2]; // [sp+16Ch] [bp-48h]@19
  int v77; // [sp+17Ch] [bp-38h]@12
  int v78; // [sp+190h] [bp-24h]@5
  int v79; // [sp+19Eh] [bp-16h]@17
  int v80; // [sp+1A4h] [bp-10h]@82

  if ( a5 && (!a4 || a4 == 1) )
  {
    result = sub_1000FAD0(a1);
    if ( result != 1 )
      return result;
    v41 = 16;
    sub_10011620(a1, 0, 0, 0, 101, (int)&v78, (int)&v41);
    v41 = 12;
    sub_10011620(a1, 0, 0, 0, 150, (int)&v43, (int)&v41);
    v41 = 40;
    sub_10011620(a1, 0, 0, 0, 103, (int)&v69, (int)&v41);
    if ( !a4 )
    {
      *(_DWORD *)a5 = 0;
      if ( v7 | v8 )
        v9 = a2 - 0.5;
      else
        v9 = a2 + 0.5;
      LODWORD(v42) = (signed __int64)v9;
      if ( v11 | v12 )
        v13 = a3 - 0.5;
      else
        v13 = a3 + 0.5;
      v14 = (signed __int64)v13;
      HIDWORD(v42) = (signed __int64)v13;
      v41 = 16;
      if ( sub_10011620(a1, 0, 0, 0, 104, (int)&v77, (int)&v41) == 1
        && sub_1000F970(SLODWORD(v42), v14, (int)&v43, (int)&v77) )
      {
        *(_DWORD *)a5 = 104;
        return 1;
      }
      HIDWORD(v47) = v69;
      v48 = v70;
      v49 = v71;
      if ( sub_1000F970(SLODWORD(v42), v14, (int)&v43, (int)&v47 + 4) )
        *(_DWORD *)a5 = 103;
      LODWORD(v47) = (unsigned int)(unsigned __int16)v79 >> 8;
      if ( LODWORD(v47) )
      {
        v15 = 0;
        v41 = 16;
        if ( (signed int)((unsigned int)(unsigned __int16)v79 >> 8) > 0 )
        {
          while ( 1 )
          {
            v16 = sub_10011620(a1, 0, 0, 0, v15 + 105, (int)v76, (int)&v41);
            if ( v16 != 1 )
              break;
            if ( sub_1000F970(SLODWORD(v42), SHIDWORD(v42), (int)&v43, (int)v76) )
            {
              result = 1;
              *(_DWORD *)a5 = v15 + 105;
              return result;
            }
            if ( ++v15 >= SLODWORD(v47) )
              return 1;
          }
          return v16;
        }
      }
      return 1;
    }
    if ( a2 >= -90.0 && a2 <= 90.0 && a3 >= -360.0 && a3 <= 360.0 )
    {
      if ( a3 < -180.0 )
        a3 = a3 + 360.0;
      if ( a3 > 180.0 )
        a3 = a3 - 360.0;
      sub_10011080(a1, &v63, (double *)&v77, &v53, (int)&v51, &v65, &v68);
      if ( v63 == 1 )
      {
        v17 = operator new(0x58u);
        if ( v17 )
        {
          v18 = (void (__thiscall ***)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_1001FD60(
                                                                                                 (int)v17,
                                                                                                 v51,
                                                                                                 6378137.0,
                                                                                                 6356752.0);
LABEL_38:
          v20 = v18;
          (**v18)(v18, LODWORD(v53), HIDWORD(v53), LODWORD(v51), HIDWORD(v51), &v61, &v58);
          v21 = *(void (__thiscall ***)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))v20;
          v22 = sub_1000F900((int)&v73);
          v23 = sub_1000F900((int)&v72);
          (*v21)(v20, LODWORD(v23), *(unsigned __int64 *)&v23 >> 32, LODWORD(v22), HIDWORD(v22), &v52, &v67);
          v24 = *(void (__thiscall ***)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))v20;
          v25 = sub_1000F900((int)&v75);
          v26 = sub_1000F900((int)&v74);
          (*v24)(v20, LODWORD(v26), *(unsigned __int64 *)&v26 >> 32, LODWORD(v25), HIDWORD(v25), &v66, &v42);
          v52 = v52 - v61;
          v27 = v67 - v58;
          v67 = v27;
          v54 = v52;
          v56 = v52;
          v55 = v27;
          v57 = v27;
          v28 = v66 - v61;
          v66 = v28;
          v42 = v42 - v58;
          if ( v52 >= v28 )
          {
            if ( v52 > v28 )
              v54 = v28;
          }
          else
          {
            v56 = v28;
          }
          if ( v27 >= v42 )
          {
            if ( v27 > v42 )
              v57 = v42;
          }
          else
          {
            v55 = v42;
          }
          (**(void (__thiscall ***)(void *, _DWORD, _DWORD, _DWORD, _DWORD, int *, double *))v20)(
            v20,
            LODWORD(a2),
            HIDWORD(a2),
            LODWORD(a3),
            HIDWORD(a3),
            v76,
            &v59);
          v29 = *(double *)v76 - v61;
          *(double *)v76 = v29;
          v59 = v59 - v58;
          if ( v29 >= v54 && v29 <= v56 && v59 <= v55 && v59 >= v57 )
          {
            LODWORD(v47) = (unsigned int)(unsigned __int16)v79 >> 8;
            if ( !LODWORD(v47) )
              goto LABEL_85;
            v41 = 16;
            if ( *(float *)&v43 <= 0.001 )
            {
              v31 = 0;
            }
            else
            {
              v30 = ((double)v69 - v44) / *(float *)&v43;
              if ( v30 <= 0.0 )
                v31 = (signed __int64)(v30 - 0.5);
              else
                v31 = (signed __int64)(v30 + 0.5);
            }
            HIDWORD(v47) = v31;
            if ( *(float *)&v43 <= 0.001 )
            {
              v49 = 0;
            }
            else
            {
              v32 = ((double)SLODWORD(v70) - v45) / *(float *)&v43;
              if ( v32 <= 0.0 )
                v49 = -(signed int)(signed __int64)(v32 - 0.5);
              else
                v49 = -(signed int)(signed __int64)(v32 + 0.5);
            }
            if ( *(float *)&v43 <= 0.001 )
            {
              v34 = 0;
            }
            else
            {
              v33 = ((double)SHIDWORD(v70) - v44) / *(float *)&v43;
              if ( v33 <= 0.0 )
                v34 = (signed __int64)(v33 - 0.5);
              else
                v34 = (signed __int64)(v33 + 0.5);
            }
            if ( *(float *)&v43 <= 0.001 )
            {
              LODWORD(v48) = 0;
            }
            else
            {
              v35 = ((double)v71 - v45) / *(float *)&v43;
              if ( v35 <= 0.0 )
                LODWORD(v48) = -(signed int)(signed __int64)(v35 - 0.5);
              else
                LODWORD(v48) = -(signed int)(signed __int64)(v35 + 0.5);
            }
            v46 = v56 - v54;
            if ( v46 < 0.0 )
              v46 = -v46;
            v60 = v57 - v55;
            if ( v60 < 0.0 )
              v60 = -v60;
            (**(void (__thiscall ***)(void *, _DWORD, _DWORD, _DWORD, _DWORD, double *, double *))v20)(
              v20,
              LODWORD(a2),
              HIDWORD(a2),
              LODWORD(a3),
              HIDWORD(a3),
              &v62,
              &v64);
            v50 = v34 - v31;
            v62 = v62 - v61;
            v64 = v64 - v58;
            v36 = (double)(v34 - v31) * (v62 - v54) / v46 + (double)SHIDWORD(v47);
            v37 = v36 <= 0.0 ? v36 - 0.5 : v36 + 0.5;
            LODWORD(v46) = (signed __int64)v37;
            v50 = v49 - LODWORD(v48);
            v38 = (double)(v49 - LODWORD(v48)) * (v55 - v64) / v60 + (double)SLODWORD(v48);
            v39 = v38 <= 0.0 ? v38 - 0.5 : v38 + 0.5;
            HIDWORD(v46) = (signed __int64)v39;
            v40 = 0;
            if ( SLODWORD(v47) <= 0 )
            {
LABEL_85:
              *(_DWORD *)a5 = 103;
              j__free(v20);
              return 1;
            }
            while ( 1 )
            {
              v16 = sub_10011620(a1, 0, 0, 0, v40 + 105, (int)&v80, (int)&v41);
              if ( v16 != 1 )
                return v16;
              if ( sub_1000F970(SLODWORD(v46), SHIDWORD(v46), (int)&v43, (int)&v80) )
              {
                *(_DWORD *)a5 = 0;
                j__free(v20);
                return v16;
              }
              if ( ++v40 >= SLODWORD(v47) )
                goto LABEL_85;
            }
          }
          *(_DWORD *)a5 = 0;
          j__free(v20);
          return 1;
        }
      }
      else
      {
        v19 = operator new(0x88u);
        if ( v19 )
        {
          v18 = (void (__thiscall ***)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_1001F8A0(
                                                                                                 (int)v19,
                                                                                                 v53,
                                                                                                 v51,
                                                                                                 v65,
                                                                                                 v68,
                                                                                                 6378137.0,
                                                                                                 6356752.0);
          goto LABEL_38;
        }
      }
      v18 = 0;
      goto LABEL_38;
    }
  }
  return -9;
}

//----- (10010500) --------------------------------------------------------
int __cdecl sub_10010500(int a1, double a2, double a3, int a4, int a5)
{
  int result; // eax@3
  int v6; // ebx@12
  void *v7; // eax@13
  void (__thiscall ***v8)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // eax@14
  void *v9; // eax@15
  void *v10; // esi@18
  void (__thiscall **v11)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // edi@18
  double v12; // ST44_8@18
  double v13; // st7@18
  void (__thiscall **v14)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // edi@18
  double v15; // ST44_8@18
  double v16; // st7@18
  double v17; // st7@18
  double v18; // st6@18
  double v19; // st7@26
  double v20; // st7@33
  double v21; // st7@38
  int v22; // edi@39
  double v23; // st7@43
  double v24; // st7@44
  double v25; // st7@48
  double v26; // st7@54
  double v27; // st6@56
  double v28; // st6@57
  double v29; // st7@59
  double v30; // st7@60
  int v31; // [sp+54h] [bp-114h]@12
  double v32; // [sp+58h] [bp-110h]@18
  int v33; // [sp+60h] [bp-108h]@12
  float v34; // [sp+64h] [bp-104h]@33
  double v35; // [sp+68h] [bp-100h]@38
  double v36; // [sp+70h] [bp-F8h]@12
  double v37; // [sp+78h] [bp-F0h]@18
  double v38; // [sp+80h] [bp-E8h]@30
  double v39; // [sp+88h] [bp-E0h]@26
  double v40; // [sp+90h] [bp-D8h]@52
  double v41; // [sp+98h] [bp-D0h]@18
  double v42; // [sp+A0h] [bp-C8h]@18
  double v43; // [sp+A8h] [bp-C0h]@18
  double v44; // [sp+B0h] [bp-B8h]@18
  double v45; // [sp+B8h] [bp-B0h]@12
  int v46; // [sp+C0h] [bp-A8h]@34
  int v47; // [sp+C4h] [bp-A4h]@49
  double v48; // [sp+D0h] [bp-98h]@18
  double v49; // [sp+D8h] [bp-90h]@18
  double v50; // [sp+E0h] [bp-88h]@26
  int v51; // [sp+ECh] [bp-7Ch]@12
  double v52; // [sp+F0h] [bp-78h]@18
  double v53; // [sp+F8h] [bp-70h]@12
  double v54; // [sp+100h] [bp-68h]@18
  double v55; // [sp+108h] [bp-60h]@12
  int v56; // [sp+110h] [bp-58h]@12
  int v57; // [sp+114h] [bp-54h]@38
  int v58; // [sp+118h] [bp-50h]@43
  int v59; // [sp+11Ch] [bp-4Ch]@48
  char v60; // [sp+120h] [bp-48h]@18
  char v61; // [sp+126h] [bp-42h]@18
  char v62; // [sp+12Ch] [bp-3Ch]@18
  char v63; // [sp+132h] [bp-36h]@18
  char v64; // [sp+138h] [bp-30h]@12
  int v65; // [sp+144h] [bp-24h]@12

  if ( !a4 || !a5 )
    return -9;
  result = sub_1000FAD0(a1);
  if ( result != 1 )
    return result;
  if ( a2 < -90.0 || a2 > 90.0 || a3 < -360.0 || a3 > 360.0 )
    return -9;
  *(_DWORD *)a4 = 0;
  *(_DWORD *)a5 = 0;
  if ( a3 < -180.0 )
    a3 = a3 + 360.0;
  if ( a3 > 180.0 )
    a3 = a3 - 360.0;
  v31 = 36;
  sub_10011620(a1, 0, 0, 0, 102, (int)&v65, (int)&v31);
  v6 = 0;
  v31 = 12;
  sub_10011620(a1, 0, 0, 0, 150, (int)&v33, (int)&v31);
  v31 = 40;
  sub_10011620(a1, 0, 0, 0, 103, (int)&v56, (int)&v31);
  sub_10011080(a1, &v51, (double *)&v64, &v45, (int)&v36, &v53, &v55);
  if ( v51 != 1 )
  {
    v9 = operator new(0x88u);
    if ( v9 )
    {
      v8 = (void (__thiscall ***)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_1001F8A0(
                                                                                            (int)v9,
                                                                                            v45,
                                                                                            v36,
                                                                                            v53,
                                                                                            v55,
                                                                                            6378137.0,
                                                                                            6356752.0);
      goto LABEL_18;
    }
LABEL_17:
    v8 = 0;
    goto LABEL_18;
  }
  v7 = operator new(0x58u);
  if ( !v7 )
    goto LABEL_17;
  v8 = (void (__thiscall ***)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_1001FD60(
                                                                                        (int)v7,
                                                                                        v36,
                                                                                        6378137.0,
                                                                                        6356752.0);
LABEL_18:
  v10 = v8;
  (**v8)(v8, LODWORD(v45), HIDWORD(v45), LODWORD(v36), HIDWORD(v36), &v49, &v48);
  v11 = *(void (__thiscall ***)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))v10;
  v12 = sub_1000F900((int)&v61);
  v13 = sub_1000F900((int)&v60);
  (*v11)(v10, LODWORD(v13), *(unsigned __int64 *)&v13 >> 32, LODWORD(v12), HIDWORD(v12), &v37, &v54);
  v14 = *(void (__thiscall ***)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))v10;
  v15 = sub_1000F900((int)&v63);
  v16 = sub_1000F900((int)&v62);
  (*v14)(v10, LODWORD(v16), *(unsigned __int64 *)&v16 >> 32, LODWORD(v15), HIDWORD(v15), &v52, &v32);
  v37 = v37 - v49;
  v17 = v54 - v48;
  v54 = v17;
  v41 = v37;
  v43 = v37;
  v42 = v17;
  v44 = v17;
  v18 = v52 - v49;
  v52 = v18;
  v32 = v32 - v48;
  if ( v37 >= v18 )
  {
    if ( v37 > v18 )
      v41 = v18;
  }
  else
  {
    v43 = v18;
  }
  if ( v17 >= v32 )
  {
    if ( v17 > v32 )
      v44 = v32;
  }
  else
  {
    v42 = v32;
  }
  (**(void (__thiscall ***)(void *, _DWORD, _DWORD, _DWORD, _DWORD, double *, double *))v10)(
    v10,
    LODWORD(a2),
    HIDWORD(a2),
    LODWORD(a3),
    HIDWORD(a3),
    &v50,
    &v39);
  v19 = v50 - v49;
  v50 = v19;
  v39 = v39 - v48;
  if ( v19 < v41 || v19 > v43 || v39 > v42 || v39 < v44 )
    HIDWORD(v38) = -23;
  else
    HIDWORD(v38) = 1;
  if ( *(float *)&v33 <= 0.001 )
  {
    v46 = 0;
  }
  else
  {
    v20 = ((double)v56 - v34) / *(float *)&v33;
    if ( v20 <= 0.0 )
      v46 = (signed __int64)(v20 - 0.5);
    else
      v46 = (signed __int64)(v20 + 0.5);
  }
  if ( *(float *)&v33 <= 0.001 )
  {
    v22 = 0;
  }
  else
  {
    v21 = ((double)v57 - *(float *)&v35) / *(float *)&v33;
    if ( v21 <= 0.0 )
      v22 = -(signed int)(signed __int64)(v21 - 0.5);
    else
      v22 = -(signed int)(signed __int64)(v21 + 0.5);
  }
  if ( *(float *)&v33 > 0.001 )
  {
    v23 = ((double)v58 - v34) / *(float *)&v33;
    if ( v23 <= 0.0 )
      v24 = v23 - 0.5;
    else
      v24 = v23 + 0.5;
    v6 = (signed __int64)v24;
  }
  if ( *(float *)&v33 <= 0.001 )
  {
    v47 = 0;
  }
  else
  {
    v25 = ((double)v59 - *(float *)&v35) / *(float *)&v33;
    if ( v25 <= 0.0 )
      v47 = -(signed int)(signed __int64)(v25 - 0.5);
    else
      v47 = -(signed int)(signed __int64)(v25 + 0.5);
  }
  v40 = v43 - v41;
  if ( v40 < 0.0 )
    v40 = -v40;
  v26 = v44 - v42;
  if ( v44 - v42 < 0.0 )
    v26 = -v26;
  HIDWORD(v35) = v6 - v46;
  v27 = (double)(v6 - v46) * (v50 - v41) / v40 + (double)v46;
  if ( v27 <= 0.0 )
    v28 = v27 - 0.5;
  else
    v28 = v27 + 0.5;
  *(_DWORD *)a4 = (signed __int64)v28;
  HIDWORD(v35) = v22 - v47;
  v29 = (double)(v22 - v47) * (v42 - v39) / v26 + (double)v47;
  if ( v29 <= 0.0 )
    v30 = v29 - 0.5;
  else
    v30 = v29 + 0.5;
  *(_DWORD *)a5 = (signed __int64)v30;
  j__free(v10);
  return HIDWORD(v38);
}

//----- (10010B20) --------------------------------------------------------
int __cdecl sub_10010B20(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // ebx@1
  int result; // eax@3
  void *v7; // eax@5
  void (__thiscall ***v8)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // eax@6
  void *v9; // eax@7
  void *v10; // esi@10
  void (__thiscall **v11)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // edi@10
  double v12; // ST50_8@10
  double v13; // st7@10
  void (__thiscall **v14)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // edi@10
  double v15; // ST50_8@10
  double v16; // st7@10
  double v17; // st7@10
  double v18; // st6@10
  double v19; // st6@19
  double v20; // st6@24
  double v21; // st6@25
  double v22; // st6@29
  int v23; // edi@30
  double v24; // st6@34
  int v25; // ecx@35
  double v26; // st6@40
  signed int v27; // edi@45
  int v28; // [sp+6Ch] [bp-11Ch]@4
  double v29; // [sp+70h] [bp-118h]@42
  double v30; // [sp+78h] [bp-110h]@10
  double v31; // [sp+80h] [bp-108h]@10
  int v32; // [sp+8Ch] [bp-FCh]@4
  float v33; // [sp+90h] [bp-F8h]@19
  float v34; // [sp+94h] [bp-F4h]@24
  double v35; // [sp+98h] [bp-F0h]@38
  double v36; // [sp+A0h] [bp-E8h]@4
  double v37; // [sp+A8h] [bp-E0h]@10
  double v38; // [sp+B0h] [bp-D8h]@4
  double v39; // [sp+C0h] [bp-C8h]@10
  double v40; // [sp+C8h] [bp-C0h]@10
  double v41; // [sp+D0h] [bp-B8h]@10
  double v42; // [sp+D8h] [bp-B0h]@10
  int v43; // [sp+E4h] [bp-A4h]@4
  double v44; // [sp+E8h] [bp-A0h]@10
  double v45; // [sp+F0h] [bp-98h]@10
  double v46; // [sp+F8h] [bp-90h]@4
  double v47; // [sp+100h] [bp-88h]@4
  double v48; // [sp+108h] [bp-80h]@20
  double v49; // [sp+118h] [bp-70h]@42
  int v50; // [sp+120h] [bp-68h]@4
  int v51; // [sp+124h] [bp-64h]@24
  int v52; // [sp+128h] [bp-60h]@29
  int v53; // [sp+12Ch] [bp-5Ch]@34
  char v54; // [sp+130h] [bp-58h]@10
  char v55; // [sp+136h] [bp-52h]@10
  char v56; // [sp+13Ch] [bp-4Ch]@10
  char v57; // [sp+142h] [bp-46h]@10
  char v58; // [sp+148h] [bp-40h]@4
  char v59; // [sp+154h] [bp-34h]@47
  int v60; // [sp+164h] [bp-24h]@4

  v5 = 0;
  if ( !a4 || !a5 )
    return -9;
  result = sub_1000FAD0(a1);
  if ( result != 1 )
    return result;
  v28 = 36;
  sub_10011620(a1, 0, 0, 0, 102, (int)&v60, (int)&v28);
  v28 = 12;
  sub_10011620(a1, 0, 0, 0, 150, (int)&v32, (int)&v28);
  v28 = 40;
  sub_10011620(a1, 0, 0, 0, 103, (int)&v50, (int)&v28);
  sub_10011080(a1, &v43, (double *)&v58, &v38, (int)&v36, &v46, &v47);
  if ( v43 != 1 )
  {
    v9 = operator new(0x88u);
    if ( v9 )
    {
      v8 = (void (__thiscall ***)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_1001F8A0(
                                                                                            (int)v9,
                                                                                            v38,
                                                                                            v36,
                                                                                            v46,
                                                                                            v47,
                                                                                            6378137.0,
                                                                                            6356752.0);
      goto LABEL_10;
    }
LABEL_9:
    v8 = 0;
    goto LABEL_10;
  }
  v7 = operator new(0x58u);
  if ( !v7 )
    goto LABEL_9;
  v8 = (void (__thiscall ***)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_1001FD60(
                                                                                        (int)v7,
                                                                                        v36,
                                                                                        6378137.0,
                                                                                        6356752.0);
LABEL_10:
  v10 = v8;
  (**v8)(v8, LODWORD(v38), HIDWORD(v38), LODWORD(v36), HIDWORD(v36), &v45, &v42);
  v11 = *(void (__thiscall ***)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))v10;
  v12 = sub_1000F900((int)&v55);
  v13 = sub_1000F900((int)&v54);
  (*v11)(v10, LODWORD(v13), *(unsigned __int64 *)&v13 >> 32, LODWORD(v12), HIDWORD(v12), &v37, &v30);
  v14 = *(void (__thiscall ***)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))v10;
  v15 = sub_1000F900((int)&v57);
  v16 = sub_1000F900((int)&v56);
  (*v14)(v10, LODWORD(v16), *(unsigned __int64 *)&v16 >> 32, LODWORD(v15), HIDWORD(v15), &v44, &v31);
  v17 = v37 - v45;
  v37 = v37 - v45;
  v40 = v37;
  v30 = v30 - v42;
  v18 = v44 - v45;
  v39 = v30;
  v41 = v30;
  v44 = v18;
  v31 = v31 - v42;
  if ( v37 >= v18 )
  {
    if ( v37 > v18 )
      v17 = v44;
  }
  else
  {
    v40 = v18;
  }
  if ( v30 >= v31 )
  {
    if ( v30 > v31 )
      v41 = v31;
  }
  else
  {
    v39 = v31;
  }
  if ( *(float *)&v32 <= 0.001 )
  {
    LODWORD(v48) = 0;
  }
  else
  {
    v19 = ((double)v50 - v33) / *(float *)&v32;
    if ( v19 <= 0.0 )
      LODWORD(v48) = (signed __int64)(v19 - 0.5);
    else
      LODWORD(v48) = (signed __int64)(v19 + 0.5);
  }
  if ( *(float *)&v32 > 0.001 )
  {
    v20 = ((double)v51 - v34) / *(float *)&v32;
    if ( v20 <= 0.0 )
      v21 = v20 - 0.5;
    else
      v21 = v20 + 0.5;
    v5 = -(signed int)(signed __int64)v21;
  }
  if ( *(float *)&v32 <= 0.001 )
  {
    v23 = 0;
  }
  else
  {
    v22 = ((double)v52 - v33) / *(float *)&v32;
    if ( v22 <= 0.0 )
      v23 = (signed __int64)(v22 - 0.5);
    else
      v23 = (signed __int64)(v22 + 0.5);
  }
  if ( *(float *)&v32 <= 0.001 )
  {
    v25 = 0;
  }
  else
  {
    v24 = ((double)v53 - v34) / *(float *)&v32;
    if ( v24 <= 0.0 )
      v25 = -(signed int)(signed __int64)(v24 - 0.5);
    else
      v25 = -(signed int)(signed __int64)(v24 + 0.5);
  }
  v35 = v40 - v17;
  if ( v35 < 0.0 )
    v35 = -v35;
  v26 = v41 - v39;
  if ( v41 - v39 < 0.0 )
    v26 = -v26;
  v48 = (double)(a2 - LODWORD(v48)) * v35 / (double)(v23 - LODWORD(v48)) + v17;
  v35 = v48;
  v49 = v26 * (double)(v25 - a3) / (double)(v5 - v25) + v39;
  v29 = v49;
  if ( v48 < v17 || v35 > v40 || v29 > v39 || (v27 = 1, v29 < v41) )
    v27 = -23;
  sub_1000F240(a1, (int)&v59);
  (*(void (__thiscall **)(void *, _DWORD, _DWORD, _DWORD, _DWORD, int, int))(*(_DWORD *)v10 + 4))(
    v10,
    COERCE_UNSIGNED_INT64(v48 - v45),
    COERCE_UNSIGNED_INT64(v48 - v45) >> 32,
    COERCE_UNSIGNED_INT64(v49 + v42),
    COERCE_UNSIGNED_INT64(v49 + v42) >> 32,
    a4,
    a5);
  j__free(v10);
  return v27;
}

//----- (10011080) --------------------------------------------------------
int __cdecl sub_10011080(int a1, int *a2, double *a3, double *a4, int a5, double *a6, double *a7)
{
  double *v7; // ebp@4
  double *v8; // ebx@5
  double *v9; // edi@6
  int result; // eax@7
  int v11; // [sp+10h] [bp-24h]@8
  char v12; // [sp+18h] [bp-1Ch]@8
  char v13; // [sp+1Eh] [bp-16h]@8
  char v14; // [sp+24h] [bp-10h]@8
  char v15; // [sp+2Ah] [bp-Ah]@8

  if ( a2 && a3 && a4 && (v7 = (double *)a5) != 0 && (v8 = a6) != 0 && (v9 = a7) != 0 )
  {
    result = sub_1000FAD0(a1);
    if ( result == 1 )
    {
      a5 = 36;
      sub_10011620(a1, 0, 0, 0, 102, (int)&v11, (int)&a5);
      *a2 = v11 & 0xF;
      *a3 = sub_1000F900((int)&v11 + 2);
      *a4 = sub_1000F900((int)&v12);
      *v7 = sub_1000F900((int)&v13);
      *v8 = sub_1000F900((int)&v14);
      *v9 = sub_1000F900((int)&v15);
      result = 1;
    }
  }
  else
  {
    result = -9;
  }
  return result;
}

//----- (10011180) --------------------------------------------------------
int __cdecl sub_10011180(int a1, signed int a2, int a3)
{
  int v3; // ebp@1
  int result; // eax@2
  int v5; // esi@4
  double v6; // st7@13
  signed __int64 v7; // rax@14
  bool v8; // c0@17
  bool v9; // c3@17
  double v10; // st7@18
  int v11; // eax@19
  bool v12; // c0@22
  bool v13; // c3@22
  double v14; // st7@23
  signed __int64 v15; // rax@24
  bool v16; // c0@27
  bool v17; // c3@27
  double v18; // st7@28
  double v19; // st7@31
  signed __int64 v20; // rax@32
  bool v21; // c0@35
  bool v22; // c3@35
  double v23; // st7@36
  int v24; // eax@37
  bool v25; // c0@40
  bool v26; // c3@40
  double v27; // st7@41
  signed __int64 v28; // rax@42
  bool v29; // c0@45
  bool v30; // c3@45
  double v31; // st7@47
  double v32; // st7@50
  signed __int64 v33; // rax@51
  bool v34; // c0@54
  bool v35; // c3@54
  double v36; // st7@55
  int v37; // eax@56
  bool v38; // c0@59
  bool v39; // c3@59
  double v40; // st7@60
  signed __int64 v41; // rax@61
  bool v42; // c0@64
  bool v43; // c3@64
  double v44; // st7@66
  int v45; // [sp+Ch] [bp-58h]@4
  float v46; // [sp+10h] [bp-54h]@13
  float v47; // [sp+14h] [bp-50h]@18
  int v48; // [sp+18h] [bp-4Ch]@11
  int v49; // [sp+1Ch] [bp-48h]@18
  int v50; // [sp+20h] [bp-44h]@23
  int v51; // [sp+24h] [bp-40h]@28
  int v52; // [sp+28h] [bp-3Ch]@4
  int v53; // [sp+36h] [bp-2Eh]@8
  int v54; // [sp+3Ch] [bp-28h]@4
  int v55; // [sp+40h] [bp-24h]@55
  int v56; // [sp+44h] [bp-20h]@60
  int v57; // [sp+48h] [bp-1Ch]@65

  v3 = a3;
  if ( !a3 )
    return -9;
  result = sub_1000FAD0(a1);
  if ( result == 1 )
  {
    v5 = -24;
    a3 = 16;
    sub_10011620(a1, 0, 0, 0, 101, (int)&v52, (int)&a3);
    a3 = 12;
    sub_10011620(a1, 0, 0, 0, 150, (int)&v45, (int)&a3);
    a3 = 40;
    sub_10011620(a1, 0, 0, 0, 103, (int)&v54, (int)&a3);
    if ( a2 == 103 )
    {
      if ( *(float *)&v45 <= 0.001 )
      {
        LODWORD(v33) = 0;
      }
      else
      {
        v32 = ((double)v54 - v46) / *(float *)&v45;
        if ( v32 <= 0.0 )
          v33 = (signed __int64)(v32 - 0.5);
        else
          v33 = (signed __int64)(v32 + 0.5);
      }
      v34 = *(float *)&v45 < 0.001;
      v35 = *(float *)&v45 == 0.001;
      *(_DWORD *)v3 = v33;
      if ( v34 || v35 )
      {
        v37 = 0;
      }
      else
      {
        v36 = ((double)v55 - v47) / *(float *)&v45;
        if ( v36 <= 0.0 )
          v37 = -(signed int)(signed __int64)(v36 - 0.5);
        else
          v37 = -(signed int)(signed __int64)(v36 + 0.5);
      }
      v38 = *(float *)&v45 < 0.001;
      v39 = *(float *)&v45 == 0.001;
      *(_DWORD *)(v3 + 12) = v37;
      if ( v38 || v39 )
      {
        LODWORD(v41) = 0;
      }
      else
      {
        v40 = ((double)v56 - v46) / *(float *)&v45;
        if ( v40 <= 0.0 )
          v41 = (signed __int64)(v40 - 0.5);
        else
          v41 = (signed __int64)(v40 + 0.5);
      }
      v42 = *(float *)&v45 < 0.001;
      v43 = *(float *)&v45 == 0.001;
      *(_DWORD *)(v3 + 8) = v41;
      if ( !v42 && !v43 )
      {
        v18 = (double)v57;
        goto LABEL_66;
      }
    }
    else if ( a2 == 104 )
    {
      a3 = 16;
      v5 = sub_10011620(a1, 0, 0, 0, 104, (int)&v48, (int)&a3);
      if ( v5 != 1 )
        return v5;
      if ( *(float *)&v45 <= 0.001 )
      {
        LODWORD(v20) = 0;
      }
      else
      {
        v19 = ((double)v48 - v46) / *(float *)&v45;
        if ( v19 <= 0.0 )
          v20 = (signed __int64)(v19 - 0.5);
        else
          v20 = (signed __int64)(v19 + 0.5);
      }
      v21 = *(float *)&v45 < 0.001;
      v22 = *(float *)&v45 == 0.001;
      *(_DWORD *)v3 = v20;
      if ( v21 || v22 )
      {
        v24 = 0;
      }
      else
      {
        v23 = ((double)v49 - v47) / *(float *)&v45;
        if ( v23 <= 0.0 )
          v24 = -(signed int)(signed __int64)(v23 - 0.5);
        else
          v24 = -(signed int)(signed __int64)(v23 + 0.5);
      }
      v25 = *(float *)&v45 < 0.001;
      v26 = *(float *)&v45 == 0.001;
      *(_DWORD *)(v3 + 12) = v24;
      if ( v25 || v26 )
      {
        LODWORD(v28) = 0;
      }
      else
      {
        v27 = ((double)v50 - v46) / *(float *)&v45;
        if ( v27 <= 0.0 )
          v28 = (signed __int64)(v27 - 0.5);
        else
          v28 = (signed __int64)(v27 + 0.5);
      }
      v29 = *(float *)&v45 < 0.001;
      v30 = *(float *)&v45 == 0.001;
      *(_DWORD *)(v3 + 8) = v28;
      if ( !v29 && !v30 )
      {
        v18 = (double)v51;
        goto LABEL_66;
      }
    }
    else
    {
      if ( a2 < 105 || a2 > 149 )
        return -9;
      if ( !((unsigned int)(unsigned __int16)v53 >> 8) )
        return v5;
      if ( (signed int)(((unsigned int)(unsigned __int16)v53 >> 8) + 104) < a2 )
        return -24;
      a3 = 16;
      v5 = sub_10011620(a1, 0, 0, 0, a2, (int)&v48, (int)&a3);
      if ( v5 != 1 )
        return v5;
      if ( *(float *)&v45 <= 0.001 )
      {
        LODWORD(v7) = 0;
      }
      else
      {
        v6 = ((double)v48 - v46) / *(float *)&v45;
        if ( v6 <= 0.0 )
          v7 = (signed __int64)(v6 - 0.5);
        else
          v7 = (signed __int64)(v6 + 0.5);
      }
      v8 = *(float *)&v45 < 0.001;
      v9 = *(float *)&v45 == 0.001;
      *(_DWORD *)v3 = v7;
      if ( v8 || v9 )
      {
        v11 = 0;
      }
      else
      {
        v10 = ((double)v49 - v47) / *(float *)&v45;
        if ( v10 <= 0.0 )
          v11 = -(signed int)(signed __int64)(v10 - 0.5);
        else
          v11 = -(signed int)(signed __int64)(v10 + 0.5);
      }
      v12 = *(float *)&v45 < 0.001;
      v13 = *(float *)&v45 == 0.001;
      *(_DWORD *)(v3 + 12) = v11;
      if ( v12 || v13 )
      {
        LODWORD(v15) = 0;
      }
      else
      {
        v14 = ((double)v50 - v46) / *(float *)&v45;
        if ( v14 <= 0.0 )
          v15 = (signed __int64)(v14 - 0.5);
        else
          v15 = (signed __int64)(v14 + 0.5);
      }
      v16 = *(float *)&v45 < 0.001;
      v17 = *(float *)&v45 == 0.001;
      *(_DWORD *)(v3 + 8) = v15;
      if ( !v16 && !v17 )
      {
        v18 = (double)v51;
LABEL_66:
        v44 = (v18 - v47) / *(float *)&v45;
        if ( v44 <= 0.0 )
          v31 = v44 - 0.5;
        else
          v31 = v44 + 0.5;
        *(_DWORD *)(v3 + 4) = -(signed int)(signed __int64)v31;
        return 1;
      }
    }
    v5 = 1;
    *(_DWORD *)(v3 + 4) = 0;
    return v5;
  }
  return result;
}

//----- (10011620) --------------------------------------------------------
int __cdecl sub_10011620(int a1, char *a2, int a3, char a4, int a5, int a6, int a7)
{
  char *v7; // ecx@0
  int result; // eax@2
  int v9; // eax@3
  int v10; // ecx@4
  _DWORD *v11; // ecx@7
  char *v12; // edx@9
  int v13; // eax@13
  int v14; // edi@17
  int *v15; // eax@18
  int v16; // ecx@18
  int *v17; // edx@19
  char *v18; // esi@20
  int v19; // ebx@20
  int v20; // ecx@20
  char *v21; // esi@21
  int v22; // ebx@21
  int v23; // ecx@21
  char *v24; // [sp+0h] [bp-4h]@1

  v24 = v7;
  if ( !byte_109D17DC )
    return -15;
  v9 = sub_1000F860((int)&unk_109D17B8, a1);
  if ( dword_109D17BC )
    v10 = (dword_109D17C0 - dword_109D17BC) >> 2;
  else
    v10 = 0;
  if ( v9 == v10 )
    return -7;
  v11 = *(_DWORD **)(*(_DWORD *)(dword_109D17BC + 4 * v9) + 4);
  if ( !v11 )
    return -7;
  v12 = a2;
  if ( a2 )
  {
    if ( !a3 )
      return -9;
    a2 = (char *)a3;
    v13 = sub_1001EAC0(v11, v12, (int)&a2, a4);
    if ( !v13 )
      return -19;
    result = sub_1001E1A0(v13, a5, &a1, &v24);
  }
  else
  {
    result = sub_1001E1A0((int)v11, a5, &a1, &v24);
  }
  if ( result == 1 )
  {
    v14 = a6;
    if ( a6 )
    {
      v15 = (int *)a7;
      v17 = (int *)a1;
      if ( *(_DWORD *)a7 >= *(_DWORD *)a1 )
      {
        v21 = v24;
        v22 = *(_DWORD *)a1;
        v23 = *(_DWORD *)a1 >> 2;
        qmemcpy((void *)a6, v24, 4 * v23);
        qmemcpy((void *)(v14 + 4 * v23), &v21[4 * v23], v22 & 3);
        v16 = *v17;
      }
      else
      {
        v18 = v24;
        v19 = *(_DWORD *)a7;
        v20 = *(_DWORD *)a7 >> 2;
        qmemcpy((void *)a6, v24, 4 * v20);
        qmemcpy((void *)(v14 + 4 * v20), &v18[4 * v20], v19 & 3);
        v16 = *v15 - *v17;
      }
    }
    else
    {
      v15 = (int *)a7;
      v16 = *(_DWORD *)a1;
    }
    *v15 = v16;
    result = v16 >= 0 ? 1 : -18;
  }
  return result;
}
// 109D17BC: using guessed type int dword_109D17BC;
// 109D17C0: using guessed type int dword_109D17C0;
// 109D17DC: using guessed type char byte_109D17DC;

//----- (100117A0) --------------------------------------------------------
double __thiscall sub_100117A0(int this, float a2, float a3)
{
  double result; // st7@3

  if ( a2 == 0.0 || a3 == 0.0 )
  {
LABEL_7:
    result = 0.0;
  }
  else
  {
    result = a2;
    switch ( *(_BYTE *)(this + 14) )
    {
      case 1:
        result = a2 / (a3 * 10.0);
        break;
      case 2:
        result = a2 / a3;
        break;
      case 3:
        result = a2 * 10.0 / a3;
        break;
      case 0:
        return result;
      default:
        goto LABEL_7;
    }
  }
  return result;
}

//----- (10011830) --------------------------------------------------------
double __thiscall sub_10011830(int this, float a2, float a3)
{
  double result; // st7@3

  if ( a2 == 0.0 || a3 == 0.0 )
  {
LABEL_7:
    result = 0.0;
  }
  else
  {
    result = a2;
    switch ( *(_BYTE *)(this + 14) )
    {
      case 1:
        result = a2 * *(float *)(*(_DWORD *)(this + 48) + 408) / (a3 * 10.0);
        break;
      case 2:
        result = a2 * *(float *)(*(_DWORD *)(this + 48) + 408) / a3;
        break;
      case 3:
        result = a2 * *(float *)(*(_DWORD *)(this + 48) + 408) * 10.0 / a3;
        break;
      case 0:
        return result;
      default:
        goto LABEL_7;
    }
  }
  return result;
}

//----- (100118E0) --------------------------------------------------------
int __cdecl sub_100118E0(char *a1, int a2, int a3)
{
  signed int v3; // esi@1
  int result; // eax@10
  _BYTE *v5; // esi@11
  int v6; // eax@11
  int v7; // ebx@13
  bool v8; // zf@13
  int v9; // ecx@14
  char v10; // al@16
  int v11; // eax@19
  int v12; // ebp@19
  char v13; // al@19
  void *v14; // edx@20
  void *v15; // edi@21
  int v16; // esi@25
  void (__stdcall ***v17)(_DWORD); // ecx@25
  void *v18; // edx@29
  void *v19; // edi@30
  int v20; // esi@34
  void (__stdcall ***v21)(_DWORD); // ecx@34
  _DWORD *v22; // ebx@38
  int v23; // eax@39
  int v24; // edi@39
  int v25; // edx@39
  int v26; // esi@39
  char v27; // cl@39
  int v28; // ecx@43
  int v29; // eax@44
  int v30; // eax@48
  long double v31; // st7@48
  int v32; // esi@48
  int v33; // edi@48
  __int64 v34; // rax@48
  signed int v35; // ecx@48
  void *v36; // edx@49
  _DWORD *v37; // edi@50
  int v38; // ecx@50
  _DWORD *v39; // eax@52
  _DWORD *v40; // eax@53
  unsigned __int8 *v41; // edx@55
  int v42; // esi@57
  void (__stdcall ***v43)(_DWORD); // ecx@57
  bool v44; // sf@61
  unsigned __int8 v45; // of@61
  unsigned int *v46; // edx@62
  int v47; // esi@63
  int v48; // [sp+5Ch] [bp-98h]@1
  unsigned __int8 *v49; // [sp+60h] [bp-94h]@14
  size_t v50; // [sp+64h] [bp-90h]@2
  long double v51; // [sp+68h] [bp-8Ch]@21
  int v52; // [sp+70h] [bp-84h]@13
  __int16 v53; // [sp+74h] [bp-80h]@5
  char v54; // [sp+76h] [bp-7Eh]@7
  int v55; // [sp+77h] [bp-7Dh]@13
  unsigned __int8 v56; // [sp+7Ch] [bp-78h]@32
  int v57; // [sp+80h] [bp-74h]@55
  int v58; // [sp+84h] [bp-70h]@38
  _BYTE *v59; // [sp+88h] [bp-6Ch]@11
  int v60; // [sp+8Ch] [bp-68h]@23
  char v61; // [sp+90h] [bp-64h]@1
  long double v62; // [sp+B0h] [bp-44h]@48
  int v63; // [sp+BCh] [bp-38h]@39
  int v64; // [sp+C4h] [bp-30h]@39
  char v65; // [sp+C8h] [bp-2Ch]@48
  char v66; // [sp+D8h] [bp-1Ch]@39
  int v67; // [sp+F0h] [bp-4h]@1

  sub_10020FC0((int)&v61);
  v67 = 0;
  v3 = sub_1003E460(a1, (int)&v48);
  if ( v3 != 1 )
    goto LABEL_10;
  v3 = sub_1003E390(v48, (signed int *)&v50);
  if ( v3 != 1 )
  {
    sub_1003E260((unsigned int *)v48);
LABEL_10:
    v67 = -1;
    sub_10020FE0((int)&v61);
    return v3;
  }
  v3 = sub_1003E690(v48, 0, 0);
  if ( v3 != 1 || (v3 = sub_1003E560(v48, &v53, 4u), v3 != 1) )
  {
LABEL_9:
    sub_1003E260((unsigned int *)v48);
    goto LABEL_10;
  }
  if ( v53 != 20314 || v54 != 1 )
  {
    sub_1003E260((unsigned int *)v48);
    v67 = -1;
    sub_10020FE0((int)&v61);
    result = -5;
  }
  else
  {
    v3 = sub_10020FF0((int)&v61, v48, 0, v50);
    if ( v3 != 1 )
      goto LABEL_9;
    v5 = (_BYTE *)sub_100210D0((int)&v61, v50);
    v59 = v5;
    v6 = sub_10020F70(0, v5, v50 - 4);
    if ( v6 == *(_DWORD *)&v5[v50 - 4] )
    {
      v7 = a3;
      v8 = (_BYTE)v55 == 0;
      *(_BYTE *)(a3 + 4) = 0;
      v52 = 0;
      if ( v8 )
      {
LABEL_62:
        v46 = (unsigned int *)v48;
        *(_BYTE *)(v7 + 4) = 1;
        sub_1003E260(v46);
        v67 = -1;
        sub_10020FE0((int)&v61);
        result = 1;
      }
      else
      {
        v9 = (int)(v5 + 4);
        v49 = v5 + 4;
        while ( 1 )
        {
          v10 = *(_BYTE *)v9;
          if ( !*(_BYTE *)v9 || v10 == 5 || v10 == 6 )
            break;
          v11 = *(_DWORD *)(v9 + 4);
          v12 = (int)&v5[v11];
          v13 = v5[v11 + 9];
          if ( v13 == 1 )
          {
            v14 = operator new(0x90u);
            if ( v14 )
            {
              *(_DWORD *)v14 = &off_1008F5E8;
              LODWORD(v51) = (char *)v14 + 4;
              strcpy((char *)v14 + 4, (const char *)v12);
              *((_BYTE *)v14 + 13) = *(_BYTE *)(v12 + 9);
              *((_BYTE *)v14 + 14) = *(_BYTE *)(v12 + 10);
              *((_DWORD *)v14 + 4) = *(_DWORD *)(v12 + 12);
              *(_DWORD *)v14 = &off_1008F660;
              *((_BYTE *)v14 + 20) = *(_BYTE *)(v12 + 16);
              *((_BYTE *)v14 + 21) = *(_BYTE *)(v12 + 17);
              qmemcpy((char *)v14 + 24, (const void *)(v12 + 20), 0x78u);
              v15 = v14;
            }
            else
            {
              v15 = 0;
            }
            LOBYTE(v60) = *v49;
            if ( (unsigned __int8)v60 < 0xFFu && v15 )
            {
              v16 = 4 * (unsigned __int8)v60;
              v17 = *(void (__stdcall ****)(_DWORD))(v16 + *(_DWORD *)v7);
              if ( v17 )
                (**v17)(1);
              *(_DWORD *)(v16 + *(_DWORD *)v7) = v15;
            }
          }
          else if ( v13 == 2 )
          {
            v18 = operator new(0x20u);
            if ( v18 )
            {
              *(_DWORD *)v18 = &off_1008F5E8;
              LODWORD(v51) = (char *)v18 + 4;
              strcpy((char *)v18 + 4, (const char *)v12);
              v19 = v18;
              *((_BYTE *)v18 + 13) = *(_BYTE *)(v12 + 9);
              *((_BYTE *)v18 + 14) = *(_BYTE *)(v12 + 10);
              *((_DWORD *)v18 + 4) = *(_DWORD *)(v12 + 12);
              *(_DWORD *)v18 = &off_1008F660;
              *((_DWORD *)v18 + 5) = *(_DWORD *)(v12 + 16);
              *((_DWORD *)v18 + 6) = *(_DWORD *)(v12 + 20);
              *((_DWORD *)v18 + 7) = *(_DWORD *)(v12 + 24);
            }
            else
            {
              v19 = 0;
            }
            v56 = *v49;
            if ( v56 < 0xFFu && v19 )
            {
              v20 = 4 * v56;
              v21 = *(void (__stdcall ****)(_DWORD))(v20 + *(_DWORD *)v7);
              if ( v21 )
                (**v21)(1);
              *(_DWORD *)(v20 + *(_DWORD *)v7) = v19;
            }
          }
          else
          {
            if ( v13 != 3 )
            {
              sub_1003E260((unsigned int *)v48);
              goto LABEL_65;
            }
            v22 = sub_10019B00((char *)a2, -1, v12 + 20, (int)&v58);
            if ( v58 != 1 )
            {
              v47 = v58;
              v67 = -1;
              sub_10020FE0((int)&v61);
              return v47;
            }
            v23 = (*(int (__thiscall **)(_DWORD *, char *, _DWORD, _DWORD, _DWORD, signed int, signed int))(*v22 + 16))(
                    v22,
                    &v66,
                    0,
                    0,
                    0,
                    1065353216,
                    1065353216);
            v24 = *(_DWORD *)v23;
            v25 = *(_DWORD *)(v23 + 4);
            v26 = *(_DWORD *)(v23 + 8);
            v64 = *(_DWORD *)(v23 + 12);
            v27 = *(_BYTE *)(v12 + 36);
            v63 = v25;
            if ( v27 & 0xF0 )
            {
              if ( (v27 & 0xF0) == 16 )
              {
                v25 = v63;
                v26 = v24 + (v26 - v24) / 2;
              }
            }
            else
            {
              v26 = v24;
            }
            v28 = v27 & 0xF;
            if ( v28 )
            {
              v29 = v64;
              if ( v28 == 1 )
                v29 = v63 + (v64 - v25) / 2;
            }
            else
            {
              v29 = v25;
            }
            (*(void (__thiscall **)(_DWORD *, int, int))(*v22 + 20))(v22, -v26, -v29);
            if ( *(float *)(v12 + 32) != 0.0 )
            {
              v30 = (*(int (__thiscall **)(_DWORD *, char *, _DWORD, _DWORD, _DWORD, signed int, signed int))(*v22 + 16))(
                      v22,
                      &v65,
                      0,
                      0,
                      0,
                      1065353216,
                      1065353216);
              v31 = *(float *)(v12 + 32) * 0.01745329251994;
              v32 = *(_DWORD *)(v30 + 4);
              v33 = *(_DWORD *)(v30 + 12);
              v34 = *(_DWORD *)(v30 + 8) + *(_DWORD *)v30;
              v35 = v34 - HIDWORD(v34);
              HIDWORD(v34) = *v22;
              v62 = cos(v31);
              v51 = sin(v31);
              (*(void (__thiscall **)(_DWORD *, signed int, int, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))(HIDWORD(v34) + 24))(
                v22,
                v35 >> 1,
                (v33 + v32) / 2,
                LODWORD(v62),
                HIDWORD(v62),
                LODWORD(v51),
                HIDWORD(v51),
                COERCE_UNSIGNED_INT64(*(float *)(v12 + 32)),
                COERCE_UNSIGNED_INT64(*(float *)(v12 + 32)) >> 32);
            }
            v36 = operator new(0x38u);
            if ( v36 )
            {
              *(_DWORD *)v36 = &off_1008F5E8;
              LODWORD(v51) = (char *)v36 + 4;
              strcpy((char *)v36 + 4, (const char *)v12);
              v37 = v36;
              *((_BYTE *)v36 + 13) = *(_BYTE *)(v12 + 9);
              *((_BYTE *)v36 + 14) = *(_BYTE *)(v12 + 10);
              *((_DWORD *)v36 + 4) = *(_DWORD *)(v12 + 12);
              *(_DWORD *)v36 = &off_1008F650;
              v38 = (int)v36 + 24;
              *((_DWORD *)v36 + 5) = *(_DWORD *)(v12 + 16);
              *(_DWORD *)v38 = *(_DWORD *)(v12 + 20);
              *(_DWORD *)(v38 + 4) = *(_DWORD *)(v12 + 24);
              *(_BYTE *)(v38 + 8) = *(_BYTE *)(v12 + 28);
              *((_DWORD *)v36 + 9) = *(_DWORD *)(v12 + 32);
              *((_BYTE *)v36 + 40) = *(_BYTE *)(v12 + 36);
              *((_BYTE *)v36 + 41) = *(_BYTE *)(v12 + 37);
              *((_BYTE *)v36 + 42) = *(_BYTE *)(v12 + 38);
              *((_DWORD *)v36 + 11) = *(_DWORD *)(v12 + 40);
              *((_DWORD *)v36 + 12) = v22;
              *((_DWORD *)v36 + 13) = 0;
            }
            else
            {
              v37 = 0;
            }
            v39 = operator new(0x1E8u);
            LODWORD(v51) = v39;
            LOBYTE(v67) = 1;
            if ( v39 )
              v40 = sub_100209B0(v39, (int)v22);
            else
              v40 = 0;
            v41 = v49;
            v37[13] = v40;
            LOBYTE(v67) = 0;
            LOBYTE(v57) = *v41;
            if ( (unsigned __int8)v57 < 0xFFu && v37 )
            {
              v42 = 4 * (unsigned __int8)v57;
              v43 = *(void (__stdcall ****)(_DWORD))(v42 + *(_DWORD *)a3);
              if ( v43 )
                (**v43)(1);
              *(_DWORD *)(v42 + *(_DWORD *)a3) = v37;
            }
            v7 = a3;
          }
          v9 = (int)(v49 + 8);
          v45 = __OFSUB__(v52 + 1, (unsigned __int8)v55);
          v44 = v52++ + 1 - (unsigned __int8)v55 < 0;
          v49 += 8;
          if ( !(v44 ^ v45) )
            goto LABEL_62;
          v5 = v59;
        }
        sub_1003E260((unsigned int *)v48);
LABEL_65:
        v67 = -1;
        sub_10020FE0((int)&v61);
        result = -28;
      }
    }
    else
    {
      sub_1003E260((unsigned int *)v48);
      v67 = -1;
      sub_10020FE0((int)&v61);
      result = -27;
    }
  }
  return result;
}
// 1008F5E8: using guessed type int (__thiscall *off_1008F5E8)(void *, char);
// 1008F650: using guessed type int (__thiscall *off_1008F650)(void *, char);
// 1008F660: using guessed type int (__thiscall *off_1008F660)(void *, char);

//----- (10011F30) --------------------------------------------------------
void __thiscall sub_10011F30(void *this)
{
  *(_DWORD *)this = &off_1008F5E8;
}
// 1008F5E8: using guessed type int (__thiscall *off_1008F5E8)(void *, char);

//----- (10011F40) --------------------------------------------------------
void *__thiscall sub_10011F40(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_10011F30(this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (10011F80) --------------------------------------------------------
int __cdecl sub_10011F80(char *a1, int a2)
{
  signed int v2; // esi@1
  int result; // eax@10
  _BYTE *v4; // edi@11
  int v5; // eax@11
  int v6; // ecx@14
  const char *v7; // esi@16
  int v8; // ebx@18
  bool v9; // sf@21
  unsigned __int8 v10; // of@21
  signed int v11; // esi@22
  int v12; // [sp+10h] [bp-44h]@1
  size_t v13; // [sp+14h] [bp-40h]@2
  _BYTE *v14; // [sp+18h] [bp-3Ch]@14
  _BYTE *v15; // [sp+1Ch] [bp-38h]@11
  __int16 v16; // [sp+20h] [bp-34h]@5
  char v17; // [sp+22h] [bp-32h]@7
  int v18; // [sp+23h] [bp-31h]@13
  char v19; // [sp+28h] [bp-2Ch]@1
  int v20; // [sp+50h] [bp-4h]@1
  char *v21; // [sp+58h] [bp+4h]@13

  sub_10020FC0((int)&v19);
  v20 = 0;
  v2 = sub_1003E460(a1, (int)&v12);
  if ( v2 != 1 )
    goto LABEL_10;
  v2 = sub_1003E390(v12, (signed int *)&v13);
  if ( v2 != 1 )
  {
    sub_1003E260((unsigned int *)v12);
LABEL_10:
    v20 = -1;
    sub_10020FE0((int)&v19);
    return v2;
  }
  v2 = sub_1003E690(v12, 0, 0);
  if ( v2 != 1 || (v2 = sub_1003E560(v12, &v16, 4u), v2 != 1) )
  {
LABEL_9:
    sub_1003E260((unsigned int *)v12);
    goto LABEL_10;
  }
  if ( v16 != 20313 || v17 != 1 )
  {
    sub_1003E260((unsigned int *)v12);
    v20 = -1;
    sub_10020FE0((int)&v19);
    result = -5;
  }
  else
  {
    v2 = sub_10020FF0((int)&v19, v12, 0, v13);
    if ( v2 != 1 )
      goto LABEL_9;
    v4 = (_BYTE *)sub_100210D0((int)&v19, v13);
    v15 = v4;
    v5 = sub_10020F70(0, v4, v13 - 4);
    if ( v5 == *(_DWORD *)&v4[v13 - 4] )
    {
      v21 = 0;
      if ( (_BYTE)v18 )
      {
        v6 = (int)(v4 + 4);
        v14 = v4 + 4;
        while ( *(_BYTE *)v6 )
        {
          v7 = &v4[*(_WORD *)(v6 + 2)];
          if ( *(_BYTE *)v6 < 0xFFu && v7 )
          {
            v8 = 4 * *(_BYTE *)v6;
            if ( *(_DWORD *)(v8 + *(_DWORD *)a2) )
              j__free(*(void **)(v8 + *(_DWORD *)a2));
            *(_DWORD *)(v8 + *(_DWORD *)a2) = operator new(strlen(v7) + 1);
            strcpy(*(char **)(v8 + *(_DWORD *)a2), v7);
            v4 = v15;
            v6 = (int)v14;
          }
          v6 += 4;
          v10 = __OFSUB__(v21 + 1, (unsigned __int8)v18);
          v9 = (signed int)&(v21++)[-(unsigned __int8)v18 + 1] < 0;
          v14 = (_BYTE *)v6;
          if ( !(v9 ^ v10) )
            goto LABEL_22;
        }
        sub_1003E260((unsigned int *)v12);
        v20 = -1;
        sub_10020FE0((int)&v19);
        result = -26;
      }
      else
      {
LABEL_22:
        v11 = sub_1003E260((unsigned int *)v12);
        v20 = -1;
        sub_10020FE0((int)&v19);
        result = v11;
      }
    }
    else
    {
      sub_1003E260((unsigned int *)v12);
      v20 = -1;
      sub_10020FE0((int)&v19);
      result = -25;
    }
  }
  return result;
}

//----- (10012250) --------------------------------------------------------
int sub_10012250()
{
  unknown_libname_3();
  return atexit((void (__cdecl *)())sub_10012280);
}
// 10012260: using guessed type int unknown_libname_3(void);

//----- (10012280) --------------------------------------------------------
void __usercall sub_10012280(int a1@<eax>)
{
  signed int v1; // esi@6
  void (__stdcall ***v2)(_DWORD); // ecx@7
  signed int v3; // esi@10
  int *v4; // ebp@14
  void **v5; // eax@15
  int *v6; // ebp@16
  void **v7; // eax@17
  _DWORD **v8; // edi@18
  _DWORD *v9; // esi@18
  void *v10; // eax@19
  int *v11; // [sp+4h] [bp-1Ch]@14
  int *v12; // [sp+8h] [bp-18h]@2
  int v13; // [sp+Ch] [bp-14h]@15
  int v14; // [sp+10h] [bp-10h]@15
  int v15; // [sp+14h] [bp-Ch]@2
  int (*v16)(); // [sp+18h] [bp-8h]@2
  int v17; // [sp+1Ch] [bp-4h]@2

  LOBYTE(a1) = 1;
  if ( !(byte_109D186C & 1) )
  {
    byte_109D186C |= 1u;
    v16 = sub_10086014;
    v15 = a1;
    v12 = &dword_109D17F0;
    v17 = 4;
    sub_100292A0((void **)&dword_109D17F0 + 20);
    if ( *(&dword_109D17F0 + 29) )
      j__free((void *)*(&dword_109D17F0 + 29));
    LOBYTE(v17) = 3;
    v1 = 0;
    do
    {
      v2 = *(void (__stdcall ****)(_DWORD))(v1 + *(&dword_109D17F0 + 16));
      if ( v2 )
        (**v2)(1);
      v1 += 4;
    }
    while ( v1 < 1024 );
    j__free((void *)*(&dword_109D17F0 + 16));
    v3 = 0;
    do
    {
      if ( *(_DWORD *)(v3 + *(&dword_109D17F0 + 15)) )
        j__free(*(void **)(v3 + *(&dword_109D17F0 + 15)));
      v3 += 4;
    }
    while ( v3 < 1024 );
    j__free((void *)*(&dword_109D17F0 + 15));
    v4 = (int *)*(&dword_109D17F0 + 12);
    LOBYTE(v17) = 1;
    v11 = (int *)*v4;
    while ( v11 != v4 )
    {
      v5 = (void **)sub_100162B0(&v11, &v13, 0);
      sub_10015870(&dword_109D17F0 + 11, (int)&v14, *v5);
    }
    j__free((void *)*(&dword_109D17F0 + 12));
    *(&dword_109D17F0 + 12) = 0;
    *(&dword_109D17F0 + 13) = 0;
    v6 = (int *)*(&dword_109D17F0 + 7);
    LOBYTE(v17) = 0;
    v11 = (int *)*v6;
    while ( v11 != v6 )
    {
      v7 = (void **)sub_100162B0(&v11, &v14, 0);
      sub_10015870(&dword_109D17F0 + 6, (int)&v13, *v7);
    }
    j__free((void *)*(&dword_109D17F0 + 7));
    *(&dword_109D17F0 + 7) = 0;
    *(&dword_109D17F0 + 8) = 0;
    v8 = (_DWORD **)*(&dword_109D17F0 + 2);
    v17 = -1;
    v9 = *v8;
    while ( v9 != v8 )
    {
      v10 = v9;
      v9 = (_DWORD *)*v9;
      sub_10015870(&dword_109D17F0 + 1, (int)&v14, v10);
    }
    j__free((void *)*(&dword_109D17F0 + 2));
    *(&dword_109D17F0 + 2) = 0;
    *(&dword_109D17F0 + 3) = 0;
  }
}
// 10086014: using guessed type int sub_10086014();
// 109D17F0: using guessed type int dword_109D17F0;
// 109D186C: using guessed type char byte_109D186C;

//----- (100122A0) --------------------------------------------------------
signed int __userpurge sub_100122A0@<eax>(int a1@<ecx>, double a2@<st0>, int a3)
{
  int v3; // esi@1
  int v4; // eax@1
  int v5; // edx@1
  char v6; // cl@1
  int v7; // ebx@1
  int v8; // eax@1
  int v9; // ecx@1
  int v10; // ecx@1
  int v11; // edx@1
  __int16 v12; // ax@1
  int v13; // ecx@1
  int v14; // edx@1
  int v15; // ecx@1
  int v16; // edx@1
  int v17; // ebx@2
  int v18; // eax@2
  int v19; // ecx@2
  int v20; // ebx@3
  int v21; // ebx@6
  int v22; // edx@7
  int v23; // eax@7
  char v24; // cl@7
  char v25; // al@9
  signed int v26; // eax@11
  signed int v27; // ecx@12
  int v28; // ebx@16
  int v29; // eax@17
  double v30; // st7@19
  int v31; // eax@23
  double v32; // st7@23
  double v33; // st6@23
  int v34; // ebx@23
  double v35; // st6@23
  double v36; // st6@24
  double v37; // st7@26
  signed int v38; // edi@29
  double v39; // st7@30
  double v40; // st7@31
  double v41; // st7@33
  int v42; // eax@38
  int v43; // eax@39
  signed int v44; // ebx@40
  int v45; // eax@41
  int v46; // edx@41
  void *v47; // ecx@47
  int v48; // eax@47
  double v49; // st7@47
  double v50; // st6@47
  double v51; // st6@47
  double v52; // st6@48
  double v53; // st7@50
  signed int v54; // edi@53
  int v55; // ebx@54
  double v56; // st7@55
  double v57; // st7@56
  double v58; // st7@58
  double v59; // st7@59
  int v60; // edx@61
  int v61; // eax@63
  int v62; // eax@69
  signed int v63; // ebx@69
  int v64; // eax@69
  signed int v65; // edi@69
  bool v66; // zf@69
  int v67; // edx@69
  double v68; // st7@70
  double v69; // st7@71
  double v70; // st7@73
  int v71; // edi@77
  signed int result; // eax@78
  float v73; // [sp+20h] [bp-8Ch]@19
  float v74; // [sp+20h] [bp-8Ch]@43
  float v75; // [sp+20h] [bp-8Ch]@63
  char v76; // [sp+27h] [bp-85h]@16
  float v77; // [sp+28h] [bp-84h]@19
  float v78; // [sp+28h] [bp-84h]@43
  float v79; // [sp+28h] [bp-84h]@63
  int v80; // [sp+2Ch] [bp-80h]@18
  int v81; // [sp+30h] [bp-7Ch]@23
  int v82; // [sp+34h] [bp-78h]@23
  int v83; // [sp+38h] [bp-74h]@26
  int v84; // [sp+3Ch] [bp-70h]@29
  int v85; // [sp+40h] [bp-6Ch]@23
  int v86; // [sp+44h] [bp-68h]@47
  int v87; // [sp+48h] [bp-64h]@1
  char v88; // [sp+4Ch] [bp-60h]@1
  int v89; // [sp+50h] [bp-5Ch]@1
  int v90; // [sp+54h] [bp-58h]@1
  char v91; // [sp+58h] [bp-54h]@1
  int v92; // [sp+5Ch] [bp-50h]@1
  int v93; // [sp+60h] [bp-4Ch]@1
  int v94; // [sp+64h] [bp-48h]@1
  float v95; // [sp+68h] [bp-44h]@1
  __int16 v96; // [sp+6Ch] [bp-40h]@1
  int v97; // [sp+70h] [bp-3Ch]@1
  int v98; // [sp+74h] [bp-38h]@1
  int v99; // [sp+78h] [bp-34h]@1
  int v100; // [sp+7Ch] [bp-30h]@1
  int v101; // [sp+80h] [bp-2Ch]@1
  int v102; // [sp+84h] [bp-28h]@1
  char v103; // [sp+88h] [bp-24h]@1
  int v104; // [sp+8Ch] [bp-20h]@1
  char v105; // [sp+90h] [bp-1Ch]@1

  v3 = a1;
  v4 = (*(int (**)(void))(*(_DWORD *)a1 + 64))();
  v5 = *(_DWORD *)(v3 + 44);
  v88 = *(_BYTE *)(v3 + 40);
  v6 = *(_BYTE *)(v3 + 52);
  v89 = v5;
  v7 = v4;
  v8 = *(_DWORD *)(v3 + 48);
  v91 = v6;
  v87 = v7;
  v90 = v8;
  sub_10015600((int)&v105, v3 + 64);
  v9 = *(_DWORD *)(v3 + 60);
  v103 = *(_BYTE *)(v3 + 56);
  v104 = v9;
  v97 = *(_DWORD *)(a3 + 20);
  v98 = *(_DWORD *)(a3 + 24);
  v99 = *(_DWORD *)(a3 + 28);
  v10 = *(_DWORD *)(a3 + 32);
  v11 = *(_DWORD *)a3;
  v93 = *(_DWORD *)(a3 + 4);
  v12 = *(_WORD *)(a3 + 16);
  v100 = v10;
  v13 = *(_DWORD *)(a3 + 8);
  v92 = v11;
  v14 = *(_DWORD *)(a3 + 12);
  v96 = v12;
  LOBYTE(v12) = *(_BYTE *)(v3 + 24);
  v94 = v13;
  v15 = *(_DWORD *)(a3 + 36);
  v95 = *(float *)&v14;
  v16 = *(_DWORD *)(a3 + 40);
  v101 = v15;
  v102 = v16;
  if ( v12 & 0x10 )
  {
    HIBYTE(v96) |= 2u;
    v17 = *(_DWORD *)(v7 + 404);
    v18 = sub_10015A60(v17, *(_DWORD *)(v3 + 28));
    v19 = *(_DWORD *)(v17 + 4);
    v20 = v19 ? (*(_DWORD *)(v17 + 8) - v19) >> 2 : 0;
    if ( v20 != v18 )
    {
      v21 = *(_DWORD *)(*(_DWORD *)(v19 + 4 * v18) + 4);
      if ( v21 )
      {
        v22 = *(_DWORD *)(v3 + 44);
        v23 = *(_DWORD *)(v3 + 48);
        v88 = *(_BYTE *)(v3 + 40);
        v24 = *(_BYTE *)(v3 + 52);
        v89 = v22;
        v90 = v23;
        v91 = v24;
        if ( *(_BYTE *)(v21 + 4) & 1 )
          v88 = *(_BYTE *)v21;
        v25 = *(_BYTE *)(v3 + 56);
        v104 = *(_DWORD *)(v3 + 60);
        v103 = v25;
        sub_10015600((int)&v105, v3 + 64);
        if ( *(_BYTE *)(v21 + 4) & 2 )
          v103 = *(_BYTE *)(v21 + 1);
      }
    }
  }
  sub_1003DEC0();
  sub_1003FFC0(dword_109D1838, *(_DWORD *)(v3 + 36));
  sub_10040110(dword_109D1838, *(_DWORD *)(v3 + 100));
  v26 = sub_1003E110();
  if ( v26 != 1 )
  {
    v27 = 0;
    dword_109D17E4 = 0;
    dword_109D17E0 = 0;
    dword_109D17E8 = 0;
    if ( &dword_109D17E0 )
    {
      v27 = v26;
      dword_109D17E0 = v26;
      LOWORD(dword_109D17E4) = 0;
      dword_109D17E8 = 0;
    }
    if ( v27 < 0 )
      unknown_libname_4(v27);
  }
  v28 = v87;
  v76 = *(_BYTE *)(v87 + 412);
  if ( *(_BYTE *)(v87 + 412) )
  {
    v42 = *(_DWORD *)(v3 + 20);
    v80 = dword_109D1864;
    v93 = 1065353216;
    v94 = 1065353216;
    if ( *(_DWORD *)(v42 + 352) )
    {
      v61 = *(_DWORD *)(v42 + 368);
      v75 = *(float *)(a3 + 4);
      v79 = *(float *)(a3 + 8);
      if ( v61 )
      {
        v75 = *(float *)(a3 + 4) * *(float *)v61 + *(float *)(v61 + 4);
        v79 = *(float *)(a3 + 8) * *(float *)v61 + *(float *)(v61 + 4);
        if ( v75 <= 0.0 || v79 <= 0.0 )
        {
          dword_109D17E4 = 0;
          dword_109D17E0 = 0;
          dword_109D17E8 = 0;
          if ( &dword_109D17E0 )
          {
            LOWORD(dword_109D17E4) = 0;
            dword_109D17E0 = -9;
            dword_109D17E8 = 0;
            unknown_libname_4(-9);
          }
        }
        v95 = v75;
      }
      v62 = sub_1001F5E0(*(void **)(v3 + 20), (int)&v85);
      v81 = *(_DWORD *)v62;
      v63 = *(_DWORD *)(v62 + 4);
      v82 = v63;
      a2 = (double)v81 * *(float *)(a3 + 4);
      v64 = sub_100268A0(a2, (double)v63 * *(float *)(a3 + 8), v87 + 416);
      v65 = 0;
      v66 = *(_WORD *)(v3 + 96) == 0;
      v85 = v64;
      v86 = v67;
      if ( !v66 )
      {
        do
        {
          v83 = *(_DWORD *)(*(_DWORD *)(v3 + 92) + 8 * v65) - v81;
          v68 = (double)v83 * v75;
          if ( v68 <= 0.0 )
            v69 = v68 - 0.5;
          else
            v69 = v68 + 0.5;
          *(_DWORD *)(dword_109D1864 + 8 * v65) = v85 + (unsigned __int64)(signed __int64)v69;
          v83 = *(_DWORD *)(*(_DWORD *)(v3 + 92) + 8 * v65 + 4) - v63;
          v70 = (double)v83 * v79;
          if ( v70 <= 0.0 )
            a2 = v70 - 0.5;
          else
            a2 = v70 + 0.5;
          *(_DWORD *)(dword_109D1864 + 8 * v65++ + 4) = v86 + (unsigned __int64)(signed __int64)a2;
        }
        while ( v65 < *(_WORD *)(v3 + 96) );
      }
    }
    else
    {
      v43 = *(_DWORD *)(v42 + 368);
      if ( v43 )
      {
        v74 = *(float *)v43 * *(float *)(a3 + 4) + *(float *)(v43 + 4);
        v78 = *(float *)(a3 + 8) * *(float *)v43 + *(float *)(v43 + 4);
        if ( v74 <= 0.0 || v78 <= 0.0 )
        {
          dword_109D17E4 = 0;
          dword_109D17E0 = 0;
          dword_109D17E8 = 0;
          if ( &dword_109D17E0 )
          {
            LOWORD(dword_109D17E4) = 0;
            dword_109D17E0 = -9;
            dword_109D17E8 = 0;
            unknown_libname_4(-9);
          }
        }
        v47 = *(void **)(v3 + 20);
        v95 = v74;
        v48 = sub_1001F5E0(v47, (int)&v81);
        v49 = *(float *)(a3 + 8);
        v50 = *(float *)(a3 + 4);
        v85 = *(_DWORD *)v48;
        v51 = v50 * (double)v85;
        v86 = *(_DWORD *)(v48 + 4);
        if ( v51 <= 0.0 )
          v52 = v51 - 0.5;
        else
          v52 = v51 + 0.5;
        v53 = v49 * (double)v86;
        v81 = (signed __int64)v52;
        if ( v53 <= 0.0 )
          a2 = v53 - 0.5;
        else
          a2 = v53 + 0.5;
        v54 = 0;
        v82 = (signed __int64)a2;
        if ( *(_WORD *)(v3 + 96) )
        {
          v55 = v28 + 416;
          do
          {
            v83 = *(_DWORD *)(*(_DWORD *)(v3 + 92) + 8 * v54) - v85;
            v56 = (double)v83 * v74;
            if ( v56 <= 0.0 )
              v57 = v56 - 0.5;
            else
              v57 = v56 + 0.5;
            *(_DWORD *)(dword_109D1864 + 8 * v54) = v81 + (unsigned __int64)(signed __int64)v57;
            v83 = *(_DWORD *)(*(_DWORD *)(v3 + 92) + 8 * v54 + 4) - v86;
            v58 = (double)v83 * v78;
            if ( v58 <= 0.0 )
              v59 = v58 - 0.5;
            else
              v59 = v58 + 0.5;
            *(_DWORD *)(dword_109D1864 + 8 * v54 + 4) = v82 + (unsigned __int64)(signed __int64)v59;
            a2 = (double)*(signed int *)(dword_109D1864 + 8 * v54);
            *(_DWORD *)(dword_109D1864 + 8 * v54) = sub_100268A0(
                                                      a2,
                                                      (double)*(signed int *)(dword_109D1864 + 8 * v54 + 4),
                                                      v55);
            *(_DWORD *)(dword_109D1864 + 8 * v54++ + 4) = v60;
          }
          while ( v54 < *(_WORD *)(v3 + 96) );
        }
      }
      else
      {
        v44 = 0;
        if ( *(_WORD *)(v3 + 96) )
        {
          do
          {
            v45 = *(_DWORD *)(v3 + 92);
            a2 = (double)*(signed int *)(v45 + 8 * v44) * *(float *)(a3 + 4);
            *(_DWORD *)(dword_109D1864 + 8 * v44) = sub_100268A0(
                                                      a2,
                                                      (double)*(signed int *)(v45 + 8 * v44 + 4) * *(float *)(a3 + 8),
                                                      v87 + 416);
            *(_DWORD *)(dword_109D1864 + 8 * v44++ + 4) = v46;
          }
          while ( v44 < *(_WORD *)(v3 + 96) );
        }
      }
    }
  }
  else
  {
    v29 = *(_DWORD *)(*(_DWORD *)(v3 + 20) + 368);
    if ( v29 )
    {
      v30 = *(float *)(a3 + 4) * *(float *)v29 + *(float *)(v29 + 4);
      v73 = v30;
      v77 = *(float *)(a3 + 8) * *(float *)v29 + *(float *)(v29 + 4);
      if ( v30 <= 0.0 || v77 <= 0.0 )
      {
        dword_109D17E4 = 0;
        dword_109D17E0 = 0;
        dword_109D17E8 = 0;
        if ( &dword_109D17E0 )
        {
          LOWORD(dword_109D17E4) = 0;
          dword_109D17E0 = -9;
          dword_109D17E8 = 0;
          unknown_libname_4(-9);
        }
      }
      v31 = sub_1001F5E0(*(void **)(v3 + 20), (int)&v85);
      v32 = *(float *)(a3 + 8);
      v33 = *(float *)(a3 + 4);
      v81 = *(_DWORD *)v31;
      v34 = *(_DWORD *)(v31 + 4);
      v35 = v33 * (double)v81;
      v82 = *(_DWORD *)(v31 + 4);
      if ( v35 <= 0.0 )
        v36 = v35 - 0.5;
      else
        v36 = v35 + 0.5;
      v37 = v32 * (double)v82;
      v83 = (signed __int64)v36;
      if ( v37 <= 0.0 )
        a2 = v37 - 0.5;
      else
        a2 = v37 + 0.5;
      v38 = 0;
      v84 = (signed __int64)a2;
      if ( *(_WORD *)(v3 + 96) )
      {
        do
        {
          v39 = (double)(*(_DWORD *)(*(_DWORD *)(v3 + 92) + 8 * v38) - v81) * v73;
          if ( v39 <= 0.0 )
            v40 = v39 - 0.5;
          else
            v40 = v39 + 0.5;
          *(_DWORD *)(dword_109D1864 + 8 * v38) = v83 + (unsigned __int64)(signed __int64)v40;
          v41 = (double)(*(_DWORD *)(*(_DWORD *)(v3 + 92) + 8 * v38 + 4) - v34) * v77;
          if ( v41 <= 0.0 )
            a2 = v41 - 0.5;
          else
            a2 = v41 + 0.5;
          *(_DWORD *)(dword_109D1864 + 8 * v38++ + 4) = v84 + (unsigned __int64)(signed __int64)a2;
        }
        while ( v38 < *(_WORD *)(v3 + 96) );
      }
      v80 = dword_109D1864;
      v93 = 1065353216;
      v94 = 1065353216;
      v95 = v73;
    }
    else
    {
      v80 = *(_DWORD *)(v3 + 92);
    }
  }
  v71 = v87;
  *(_BYTE *)(v87 + 412) = 0;
  if ( *(_BYTE *)(v3 + 98) )
  {
    sub_10022210(v71, (int)&v92, v80, *(_WORD *)(v3 + 96), (int)&v88, (int)&v103);
    *(_BYTE *)(v71 + 412) = v76;
    result = 1;
  }
  else
  {
    sub_10021CA0(a2, v71, &v92, 0, v80, *(_WORD *)(v3 + 96), (int)&v88);
    *(_BYTE *)(v71 + 412) = v76;
    result = 1;
  }
  return result;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 109D17E0: using guessed type int dword_109D17E0;
// 109D17E4: using guessed type int dword_109D17E4;
// 109D17E8: using guessed type int dword_109D17E8;
// 109D1838: using guessed type int dword_109D1838;
// 109D1864: using guessed type int dword_109D1864;

//----- (10012AD0) --------------------------------------------------------
int __thiscall sub_10012AD0(void *this, float a2)
{
  int v2; // esi@1
  float v3; // edi@1
  int v4; // ebx@1
  int v5; // ecx@1
  int v6; // edx@1
  int v7; // eax@1
  double v8; // st7@1
  int v9; // edx@1
  int v10; // eax@1
  int v11; // ecx@1
  int v12; // ecx@1
  int v13; // edx@1
  __int16 v14; // ax@1
  float v15; // ecx@1
  __int16 v16; // bp@1
  float v17; // ST18_4@1
  double v18; // st7@1
  int v20; // [sp+14h] [bp-2Ch]@1
  float v21; // [sp+18h] [bp-28h]@1
  float v22; // [sp+1Ch] [bp-24h]@1
  int v23; // [sp+20h] [bp-20h]@1
  __int16 v24; // [sp+24h] [bp-1Ch]@1
  int v25; // [sp+28h] [bp-18h]@1
  int v26; // [sp+2Ch] [bp-14h]@1
  int v27; // [sp+30h] [bp-10h]@1
  int v28; // [sp+34h] [bp-Ch]@1
  int v29; // [sp+38h] [bp-8h]@1
  int v30; // [sp+3Ch] [bp-4h]@1
  float v31; // [sp+44h] [bp+4h]@1
  float v32; // [sp+44h] [bp+4h]@1

  v2 = (int)this;
  v3 = a2;
  v4 = (*(int (**)(void))(*(_DWORD *)this + 64))();
  v5 = LODWORD(a2) + 20;
  v6 = *(_DWORD *)(LODWORD(a2) + 20);
  v21 = *(float *)(LODWORD(a2) + 4);
  v7 = *(_DWORD *)(LODWORD(a2) + 24);
  v25 = v6;
  v8 = *(float *)(LODWORD(a2) + 8);
  v9 = *(_DWORD *)(LODWORD(a2) + 28);
  v26 = v7;
  v31 = v8;
  v10 = *(_DWORD *)(v5 + 12);
  v11 = *(_DWORD *)LODWORD(v3);
  v28 = v10;
  LOWORD(v10) = *(_WORD *)(LODWORD(v3) + 16);
  v20 = v11;
  v12 = *(_DWORD *)(LODWORD(v3) + 36);
  v22 = v8;
  v27 = v9;
  v13 = *(_DWORD *)(LODWORD(v3) + 12);
  v24 = v10;
  v29 = v12;
  v23 = v13;
  v30 = *(_DWORD *)(LODWORD(v3) + 40);
  v14 = sub_10027750(v2, v21, v31);
  v15 = *(float *)(v4 + 408);
  v32 = *(float *)(v2 + 92);
  v16 = *(_WORD *)(v2 + 96);
  *(_WORD *)(v2 + 96) = v14;
  *(_DWORD *)(v2 + 92) = dword_109D1864;
  v17 = v15;
  v18 = *(float *)(v4 + 408) / *(float *)(LODWORD(v3) + 4);
  *(float *)(v4 + 408) = v18;
  v21 = 1.0;
  v22 = 1.0;
  sub_100122A0(v2, v18, (int)&v20);
  *(_WORD *)(v2 + 96) = v16;
  *(float *)(v2 + 92) = v32;
  *(float *)(v4 + 408) = v17;
  return 1;
}
// 109D1864: using guessed type int dword_109D1864;

//----- (10012BC0) --------------------------------------------------------
signed int __thiscall sub_10012BC0(void *this, int a2)
{
  void *v2; // esi@1
  int v3; // ecx@1
  int v4; // edx@1
  char v5; // al@1
  int v6; // edi@2
  int v7; // eax@2
  int v8; // ecx@2
  int v9; // edi@3
  int v10; // eax@6
  char v11; // cl@7
  signed int v12; // eax@9
  signed int v13; // ecx@10
  int v14; // edx@14
  float v15; // ecx@14
  int v16; // eax@14
  double v17; // st7@19
  double v18; // st7@20
  double v19; // st7@22
  double v20; // st7@23
  int v21; // edi@25
  double v22; // st7@27
  double v23; // st7@28
  signed int v24; // ecx@30
  int v25; // ecx@37
  double v26; // st7@39
  double v27; // st7@40
  double v28; // st7@42
  int v29; // eax@45
  int v30; // edi@45
  double v31; // st7@45
  double v32; // st7@46
  int v33; // edx@48
  double v34; // st7@48
  double v35; // st7@49
  signed __int64 v36; // rax@51
  double v37; // st7@51
  double v38; // st7@51
  double v39; // st7@52
  int v40; // edi@54
  double v41; // st7@54
  double v42; // st7@55
  int v43; // edx@60
  int v44; // eax@61
  int v45; // edi@61
  double v46; // st7@61
  double v47; // st7@62
  int v48; // ebx@64
  double v49; // st7@64
  double v50; // st7@65
  signed __int64 v51; // rax@67
  double v52; // st7@67
  double v53; // st7@67
  double v54; // st7@68
  int v55; // edi@70
  double v56; // st7@70
  double v57; // st7@71
  int v58; // edx@73
  int v59; // eax@74
  int v60; // edi@74
  signed int v61; // ebx@74
  int v62; // edx@74
  double v63; // st7@74
  double v64; // st7@75
  double v65; // st7@77
  double v66; // st7@78
  _DWORD *v67; // eax@82
  int v68; // ST18_4@83
  int *v69; // eax@83
  int v70; // edi@89
  int v71; // eax@90
  int v72; // edi@97
  signed int v73; // eax@99
  signed int v74; // ecx@100
  int v75; // ecx@104
  __int16 v76; // dx@104
  int v77; // eax@105
  int v78; // ecx@106
  __int64 v79; // rax@110
  signed int v80; // ebx@110
  __int64 v81; // rax@110
  signed int v82; // kr00_4@110
  __int64 v83; // rax@110
  int (**v84)(); // ebx@110
  char v85; // cl@110
  int v86; // edi@110
  bool v87; // zf@110
  int v88; // ecx@110
  double v89; // st7@112
  double v90; // st7@113
  double v91; // st7@115
  double v92; // st7@116
  double v93; // st7@118
  double v94; // st7@119
  unsigned int v95; // edi@121
  double v96; // st7@121
  unsigned int v97; // esi@122
  int v98; // eax@124
  int v99; // esi@124
  double v100; // st6@124
  double v101; // st6@125
  double v102; // st7@127
  double v103; // st7@128
  double v104; // st7@130
  double v105; // st7@131
  double v106; // st7@133
  double v107; // st7@134
  double v108; // st7@136
  double v109; // st7@137
  double v110; // st7@139
  int v111; // edx@144
  int v112; // eax@144
  unsigned int v113; // edx@144
  int v114; // eax@146
  int v115; // esi@146
  double v116; // st6@146
  double v117; // st6@147
  double v118; // st7@149
  double v119; // st7@150
  double v120; // st7@152
  double v121; // st7@153
  double v122; // st7@155
  double v123; // st7@156
  int v124; // ebx@158
  int v125; // edx@158
  double v126; // st7@158
  double v127; // st7@159
  double v128; // st7@161
  double v129; // st7@162
  int v130; // eax@165
  int v131; // esi@165
  int v132; // edx@165
  double v133; // st7@165
  double v134; // st7@166
  double v135; // st7@168
  double v136; // st7@169
  double v137; // st7@171
  double v138; // st7@172
  double v139; // st7@174
  double v140; // st7@175
  int v141; // ebx@178
  int v142; // ebx@178
  int v143; // ST1C_4@179
  void **v144; // eax@179
  int v145; // eax@179
  signed int v146; // eax@183
  void *v148; // [sp+20h] [bp-98h]@1
  int v149; // [sp+24h] [bp-94h]@45
  int v150; // [sp+28h] [bp-90h]@45
  int v151; // [sp+2Ch] [bp-8Ch]@82
  int v152; // [sp+30h] [bp-88h]@130
  float v153; // [sp+34h] [bp-84h]@14
  float v154; // [sp+38h] [bp-80h]@14
  int v155; // [sp+3Ch] [bp-7Ch]@1
  int v156; // [sp+40h] [bp-78h]@104
  int v157; // [sp+44h] [bp-74h]@45
  int v158; // [sp+48h] [bp-70h]@152
  int v159; // [sp+4Ch] [bp-6Ch]@115
  int v160; // [sp+50h] [bp-68h]@118
  int v161; // [sp+54h] [bp-64h]@161
  int v162; // [sp+58h] [bp-60h]@164
  int (**v163)(); // [sp+5Ch] [bp-5Ch]@81
  int v164; // [sp+60h] [bp-58h]@81
  int v165; // [sp+64h] [bp-54h]@81
  int *v166; // [sp+68h] [bp-50h]@81
  char v167; // [sp+6Ch] [bp-4Ch]@81
  int v168; // [sp+7Ch] [bp-3Ch]@1
  int v169; // [sp+80h] [bp-38h]@1
  int v170; // [sp+84h] [bp-34h]@1
  int v171; // [sp+88h] [bp-30h]@1
  int (**v172)(); // [sp+8Ch] [bp-2Ch]@88
  int v173; // [sp+90h] [bp-28h]@88
  char v174; // [sp+94h] [bp-24h]@88
  int v175; // [sp+98h] [bp-20h]@178
  char v176; // [sp+9Ch] [bp-1Ch]@178
  int v177; // [sp+B4h] [bp-4h]@81

  v2 = this;
  v3 = (*(int (**)(void))(*(_DWORD *)this + 64))();
  v155 = v3;
  v168 = *((_DWORD *)v2 + 25);
  v169 = *((_DWORD *)v2 + 26);
  v170 = *((_DWORD *)v2 + 27);
  v4 = *((_DWORD *)v2 + 28);
  LOBYTE(v148) = *((_BYTE *)v2 + 120);
  v5 = *((_BYTE *)v2 + 24);
  v171 = v4;
  if ( v5 & 0x10 )
  {
    v6 = *(_DWORD *)(v3 + 404);
    v7 = sub_10015A60(v6, *((_DWORD *)v2 + 7));
    v8 = *(_DWORD *)(v6 + 4);
    v9 = v8 ? (*(_DWORD *)(v6 + 8) - v8) >> 2 : 0;
    if ( v9 != v7 )
    {
      v10 = *(_DWORD *)(*(_DWORD *)(v8 + 4 * v7) + 4);
      if ( v10 )
      {
        v11 = *(_BYTE *)(v10 + 4);
        LOBYTE(v148) = *((_BYTE *)v2 + 120);
        if ( v11 & 4 )
          LOBYTE(v148) = *(_BYTE *)(v10 + 2);
      }
    }
  }
  sub_1003DEC0();
  sub_10040830(dword_109D1838, *((_DWORD *)v2 + 31));
  sub_1003FFC0(dword_109D1838, *((_DWORD *)v2 + 9));
  sub_10040870(dword_109D1838, *(_DWORD *)(*(_DWORD *)(dword_109D183C + 12) + 4 * (unsigned __int8)v148));
  sub_100407F0((_DWORD *)dword_109D1838, *((_DWORD *)v2 + 29));
  v12 = sub_1003E110();
  if ( v12 != 1 )
  {
    v13 = 0;
    dword_109D17E4 = 0;
    dword_109D17E0 = 0;
    dword_109D17E8 = 0;
    if ( &dword_109D17E0 )
    {
      v13 = v12;
      LOWORD(dword_109D17E4) = 0;
      dword_109D17E0 = v12;
      dword_109D17E8 = 0;
    }
    if ( v13 < 0 )
      unknown_libname_4(v13);
  }
  v14 = *((_DWORD *)v2 + 5);
  v15 = *(float *)(a2 + 8);
  v154 = *(float *)(a2 + 4);
  v16 = *(_DWORD *)(v14 + 368);
  v153 = v15;
  if ( v16 )
  {
    v154 = *(float *)(a2 + 4) * *(float *)v16 + *(float *)(v16 + 4);
    v153 = *(float *)(a2 + 8) * *(float *)v16 + *(float *)(v16 + 4);
    if ( v154 <= 0.0 || v153 <= 0.0 )
    {
      dword_109D17E4 = 0;
      dword_109D17E0 = 0;
      dword_109D17E8 = 0;
      if ( &dword_109D17E0 )
      {
        LOWORD(dword_109D17E4) = 0;
        dword_109D17E0 = -9;
        dword_109D17E8 = 0;
        unknown_libname_4(-9);
      }
    }
  }
  v17 = (double)v169 * v154;
  if ( v17 <= 0.0 )
    v18 = v17 - 0.30000001;
  else
    v18 = v17 + 0.30000001;
  v169 = (signed __int64)v18;
  v19 = (double)v168 * v153;
  if ( v19 <= 0.0 )
    v20 = v19 - 0.30000001;
  else
    v20 = v19 + 0.30000001;
  v21 = (signed __int64)v20;
  v168 = (signed __int64)v20;
  if ( *(_BYTE *)(v155 + 412) && !*(_DWORD *)(*((_DWORD *)v2 + 5) + 352) )
  {
    v22 = *(double *)(v155 + 464);
    if ( v22 <= 0.0 )
      v23 = v22 - 0.5;
    else
      v23 = v22 + 0.5;
    v24 = (unsigned __int64)(signed __int64)v23 + v171;
    v171 += (signed __int64)v23;
    if ( v171 >= 360 )
    {
      v24 -= 360;
      v171 = v24;
    }
    if ( v24 <= -360 )
      v171 = v24 + 360;
  }
  if ( abs(v21) > 3 && (v21 || v169 != 1) )
  {
    v25 = *((_DWORD *)v2 + 5);
    if ( *(_BYTE *)(v155 + 412) )
    {
      if ( *(_DWORD *)(v25 + 352) )
      {
        v59 = sub_1001F5E0((void *)v25, (int)&v157);
        v149 = *(_DWORD *)v59;
        v60 = v149;
        v61 = *(_DWORD *)(v59 + 4);
        v150 = v61;
        *(_DWORD *)dword_109D1864 = sub_100268A0(
                                      (double)v149 * *(float *)(a2 + 4),
                                      (double)v61 * *(float *)(a2 + 8),
                                      v155 + 416);
        *(_DWORD *)(dword_109D1864 + 4) = v62;
        v148 = (void *)(*((_DWORD *)v2 + 32) - v60);
        v63 = (double)(signed int)v148 * v154;
        if ( v63 <= 0.0 )
          v64 = v63 - 0.5;
        else
          v64 = v63 + 0.5;
        *(_DWORD *)dword_109D1864 += (signed __int64)v64;
        v148 = (void *)(*((_DWORD *)v2 + 33) - v61);
        v65 = (double)(signed int)v148 * v153;
        if ( v65 <= 0.0 )
          v66 = v65 - 0.5;
        else
          v66 = v65 + 0.5;
        *(_DWORD *)(dword_109D1864 + 4) += (signed __int64)v66;
      }
      else if ( *(_DWORD *)(v25 + 368) )
      {
        v44 = sub_1001F5E0((void *)v25, (int)&v157);
        v45 = *(_DWORD *)v44;
        v149 = *(_DWORD *)v44;
        v150 = *(_DWORD *)(v44 + 4);
        v46 = (double)v149 * *(float *)(a2 + 4);
        if ( v46 <= 0.0 )
          v47 = v46 - 0.5;
        else
          v47 = v46 + 0.5;
        v48 = (signed __int64)v47;
        v148 = (void *)(*((_DWORD *)v2 + 32) - v45);
        v49 = (double)(signed int)v148 * v154;
        if ( v49 <= 0.0 )
          v50 = v49 - 0.5;
        else
          v50 = v49 + 0.5;
        v51 = (signed __int64)v50;
        v52 = (double)v150;
        *(_DWORD *)dword_109D1864 = v48 + v51;
        v53 = v52 * *(float *)(a2 + 4);
        if ( v53 <= 0.0 )
          v54 = v53 - 0.5;
        else
          v54 = v53 + 0.5;
        v55 = (signed __int64)v54;
        v148 = (void *)(*((_DWORD *)v2 + 33) - v150);
        v56 = (double)(signed int)v148 * v153;
        if ( v56 <= 0.0 )
          v57 = v56 - 0.5;
        else
          v57 = v56 + 0.5;
        *(_DWORD *)(dword_109D1864 + 4) = v55 + (unsigned __int64)(signed __int64)v57;
        *(_DWORD *)dword_109D1864 = sub_100268A0(
                                      (double)*(signed int *)dword_109D1864,
                                      (double)*(signed int *)(dword_109D1864 + 4),
                                      v155 + 416);
        *(_DWORD *)(dword_109D1864 + 4) = v58;
      }
      else
      {
        *(_DWORD *)dword_109D1864 = sub_100268A0(
                                      (double)*((signed int *)v2 + 32) * *(float *)(a2 + 4),
                                      (double)*((signed int *)v2 + 33) * *(float *)(a2 + 8),
                                      v155 + 416);
        *(_DWORD *)(dword_109D1864 + 4) = v43;
      }
    }
    else if ( *(_DWORD *)(v25 + 368) )
    {
      v29 = sub_1001F5E0((void *)v25, (int)&v157);
      v30 = *(_DWORD *)v29;
      v149 = *(_DWORD *)v29;
      v150 = *(_DWORD *)(v29 + 4);
      v31 = (double)v149 * *(float *)(a2 + 4);
      if ( v31 <= 0.0 )
        v32 = v31 - 0.5;
      else
        v32 = v31 + 0.5;
      v33 = *((_DWORD *)v2 + 32);
      v148 = (void *)(signed __int64)v32;
      v155 = v33 - v30;
      v34 = (double)(v33 - v30) * v154;
      if ( v34 <= 0.0 )
        v35 = v34 - 0.5;
      else
        v35 = v34 + 0.5;
      v36 = (signed __int64)v35;
      v37 = (double)v150;
      *(_DWORD *)dword_109D1864 = (char *)v148 + v36;
      v38 = v37 * *(float *)(a2 + 8);
      if ( v38 <= 0.0 )
        v39 = v38 - 0.5;
      else
        v39 = v38 + 0.5;
      v40 = (signed __int64)v39;
      v148 = (void *)(*((_DWORD *)v2 + 33) - v150);
      v41 = (double)(signed int)v148 * v153;
      if ( v41 <= 0.0 )
        v42 = v41 - 0.5;
      else
        v42 = v41 + 0.5;
      *(_DWORD *)(dword_109D1864 + 4) = v40 + (unsigned __int64)(signed __int64)v42;
    }
    else
    {
      v26 = (double)*((signed int *)v2 + 32) * *(float *)(a2 + 4);
      if ( v26 <= 0.0 )
        v27 = v26 - 0.5;
      else
        v27 = v26 + 0.5;
      *(_DWORD *)dword_109D1864 = (signed __int64)v27;
      v28 = (double)*((signed int *)v2 + 33) * *(float *)(a2 + 8);
      if ( v28 <= 0.0 )
        *(_DWORD *)(dword_109D1864 + 4) = (signed __int64)(v28 - 0.5);
      else
        *(_DWORD *)(dword_109D1864 + 4) = (signed __int64)(v28 + 0.5);
    }
    sub_1003DEC0();
    v164 = 0;
    LOBYTE(v165) = 1;
    v163 = &off_1008F688;
    v177 = 3;
    sub_10015660((int)&v167);
    v163 = &off_1008F680;
    sub_10015680((int)&v167, (int)&v168);
    v166 = &dword_109D182C;
    v177 = 4;
    if ( !dword_109D1824 || (v67 = sub_10015560((int)&unk_109D181C, &v151), !sub_10015800((int)&v163, *v67 + 8)) )
    {
      v68 = dword_109D1820;
      v69 = sub_10015560((int)&unk_109D181C, &v151);
      sub_10015CC0(&v148, *v69, v68, (int)&v163);
      if ( v148 == (void *)dword_109D1820 )
      {
        ((void (__thiscall *)(int (***)()))*v163)(&v163);
        if ( dword_109D1824 && dword_109D1824 == byte_109D1828 - 1 )
          sub_100314D0((int)&unk_109D181C);
        ((void (__thiscall *)(int *, int))v163[1])((int *)&v163, dword_109D1818);
        sub_10015BD0((int)&unk_109D181C, (int)&v163);
        LOBYTE(v165) = 0;
      }
      else
      {
        sub_10015B10((int)&v172, (int)v148 + 8);
        LOBYTE(v177) = 5;
        *((_BYTE *)v148 + 16) = 0;
        sub_10015870(&unk_109D181C, (int)&v151, v148);
        sub_10015BD0((int)&unk_109D181C, (int)&v172);
        v174 = 0;
        sub_100407B0(dword_109D1818, v173);
        LOBYTE(v177) = 4;
        sub_100156E0((int)&v172);
      }
    }
    v177 = -1;
    sub_100156E0((int)&v163);
    v70 = sub_1003E110();
    if ( v70 != 1 )
    {
      sub_100154D0((int)&dword_109D17F0);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v71 = 0;
      v151 = (int)&dword_109D17E0;
      dword_109D17E4 = 0;
      dword_109D17E0 = 0;
      dword_109D17E8 = 0;
      v177 = 6;
      if ( &dword_109D17E0 )
      {
        sub_10015520((int)&dword_109D17E0, v70, 0, 0);
        v71 = dword_109D17E0;
      }
      if ( v71 < 0 )
        unknown_libname_4(v71);
    }
    if ( !(*((_BYTE *)v2 + 24) & 8) && *(float *)(a2 + 4) == 1.0 )
    {
      if ( dword_109D1824 )
        v72 = *(_DWORD *)dword_109D1820 + 8;
      else
        v72 = 0;
      sub_1003DEC0();
      sub_100406D0(*(_DWORD *)a2, *(_DWORD *)(v72 + 4), *((char **)v2 + 23), *((_WORD *)v2 + 48), (int)&v155);
      v73 = sub_1003E110();
      if ( v73 != 1 )
      {
        v74 = 0;
        dword_109D17E4 = 0;
        dword_109D17E0 = 0;
        dword_109D17E8 = 0;
        if ( &dword_109D17E0 )
        {
          v74 = v73;
          dword_109D17E0 = v73;
          LOWORD(dword_109D17E4) = 0;
          dword_109D17E8 = 0;
        }
        if ( v74 < 0 )
          unknown_libname_4(v74);
      }
      v75 = v156 + 1;
      v76 = *((_WORD *)v2 + 12) & 0xFFFD | 8;
      *((_DWORD *)v2 + 12) = v155;
      *((_DWORD *)v2 + 13) = v75;
      *((_WORD *)v2 + 12) = v76;
    }
    v77 = sub_100404C0(
            *(_DWORD *)a2,
            *(_DWORD *)dword_109D1864,
            *(_DWORD *)(dword_109D1864 + 4),
            *((char **)v2 + 23),
            *((_WORD *)v2 + 48));
    if ( v77 != 1 )
    {
      v78 = 0;
      dword_109D17E4 = 0;
      dword_109D17E0 = 0;
      dword_109D17E8 = 0;
      if ( &dword_109D17E0 )
      {
        v78 = v77;
        dword_109D17E0 = v77;
        LOWORD(dword_109D17E4) = 0;
        dword_109D17E8 = 0;
      }
      if ( v78 < 0 )
      {
LABEL_187:
        unknown_libname_4(v78);
        return 1;
      }
    }
  }
  else
  {
    v79 = *((_DWORD *)v2 + 15) + *((_DWORD *)v2 + 17);
    v80 = v79 - HIDWORD(v79);
    v81 = *((_DWORD *)v2 + 16) + *((_DWORD *)v2 + 18);
    LODWORD(v81) = v81 - HIDWORD(v81);
    HIDWORD(v81) = *((_DWORD *)v2 + 19);
    v164 = (signed int)v81 >> 1;
    v82 = HIDWORD(v81) + *((_DWORD *)v2 + 21);
    v83 = *((_DWORD *)v2 + 20) + *((_DWORD *)v2 + 22);
    v166 = (int *)(((signed int)v83 - HIDWORD(v83)) >> 1);
    v84 = (int (**)())(v80 >> 1);
    v85 = *(_BYTE *)(v155 + 412);
    v163 = v84;
    v86 = v82 / 2;
    v87 = v85 == 0;
    v88 = *((_DWORD *)v2 + 5);
    v165 = v82 / 2;
    if ( v87 )
    {
      if ( *(_DWORD *)(v88 + 368) )
      {
        v98 = sub_1001F5E0((void *)v88, (int)&v157);
        v149 = *(_DWORD *)v98;
        v99 = *(_DWORD *)(v98 + 4);
        v150 = *(_DWORD *)(v98 + 4);
        v100 = *(float *)(a2 + 4) * (double)v149;
        if ( v100 <= 0.0 )
          v101 = v100 - 0.5;
        else
          v101 = v100 + 0.5;
        v102 = *(float *)(a2 + 8) * (double)v150;
        v151 = (signed __int64)v101;
        if ( v102 <= 0.0 )
          v103 = v102 - 0.5;
        else
          v103 = v102 + 0.5;
        v152 = (signed __int64)v103;
        v155 = (int)v84 - v149;
        v104 = (double)((signed int)v84 - v149) * v154;
        if ( v104 <= 0.0 )
          v105 = v104 - 0.5;
        else
          v105 = v104 + 0.5;
        v159 = v151 + (unsigned __int64)(signed __int64)v105;
        v155 = v164 - v99;
        v106 = (double)(v164 - v99) * v153;
        if ( v106 <= 0.0 )
          v107 = v106 - 0.5;
        else
          v107 = v106 + 0.5;
        v160 = v152 + (unsigned __int64)(signed __int64)v107;
        v155 = v86 - v149;
        v108 = (double)(v86 - v149) * v154;
        if ( v108 <= 0.0 )
          v109 = v108 - 0.5;
        else
          v109 = v108 + 0.5;
        v95 = (unsigned __int64)(signed __int64)v109 + v151;
        v155 = (int)v166 - v99;
        v110 = (double)((signed int)v166 - v99) * v153;
        if ( v110 <= 0.0 )
          v97 = (unsigned __int64)(signed __int64)(v110 - 0.5) + v152;
        else
          v97 = (unsigned __int64)(signed __int64)(v110 + 0.5) + v152;
      }
      else
      {
        v89 = (double)(signed int)v163 * *(float *)(a2 + 4);
        if ( v89 <= 0.0 )
          v90 = v89 - 0.5;
        else
          v90 = v89 + 0.5;
        v159 = (signed __int64)v90;
        v91 = (double)v164 * *(float *)(a2 + 8);
        if ( v91 <= 0.0 )
          v92 = v91 - 0.5;
        else
          v92 = v91 + 0.5;
        v160 = (signed __int64)v92;
        v93 = (double)v165 * *(float *)(a2 + 4);
        if ( v93 <= 0.0 )
          v94 = v93 - 0.5;
        else
          v94 = v93 + 0.5;
        v95 = (signed __int64)v94;
        v96 = (double)(signed int)v166 * *(float *)(a2 + 8);
        if ( v96 <= 0.0 )
          v97 = (signed __int64)(v96 - 0.5);
        else
          v97 = (signed __int64)(v96 + 0.5);
      }
    }
    else if ( *(_DWORD *)(v88 + 352) )
    {
      v130 = sub_1001F5E0((void *)v88, (int)&v149);
      v157 = *(_DWORD *)v130;
      v131 = v157;
      v158 = *(_DWORD *)(v130 + 4);
      v149 = sub_100268A0((double)v157 * *(float *)(a2 + 4), (double)v158 * *(float *)(a2 + 8), v155 + 416);
      v151 = (int)v84 - v131;
      v150 = v132;
      v133 = (double)((signed int)v84 - v131) * v154;
      if ( v133 <= 0.0 )
        v134 = v133 - 0.5;
      else
        v134 = v133 + 0.5;
      v159 = (unsigned __int64)(signed __int64)v134 + v149;
      v151 = v164 - v158;
      v135 = (double)(v164 - v158) * v153;
      if ( v135 <= 0.0 )
        v136 = v135 - 0.5;
      else
        v136 = v135 + 0.5;
      v151 = v86 - v131;
      v160 = (unsigned __int64)(signed __int64)v136 + v150;
      v137 = (double)(v86 - v131) * v154;
      if ( v137 <= 0.0 )
        v138 = v137 - 0.5;
      else
        v138 = v137 + 0.5;
      v95 = v149 + (unsigned __int64)(signed __int64)v138;
      v151 = (int)v166 - v158;
      v139 = (double)((signed int)v166 - v158) * v153;
      if ( v139 <= 0.0 )
        v140 = v139 - 0.5;
      else
        v140 = v139 + 0.5;
      v97 = v150 + (unsigned __int64)(signed __int64)v140;
    }
    else
    {
      if ( *(_DWORD *)(v88 + 368) )
      {
        v114 = sub_1001F5E0((void *)v88, (int)&v157);
        v115 = *(_DWORD *)v114;
        v149 = *(_DWORD *)v114;
        v150 = *(_DWORD *)(v114 + 4);
        v116 = *(float *)(a2 + 4) * (double)v149;
        if ( v116 <= 0.0 )
          v117 = v116 - 0.5;
        else
          v117 = v116 + 0.5;
        v118 = *(float *)(a2 + 8) * (double)v150;
        v157 = (signed __int64)v117;
        if ( v118 <= 0.0 )
          v119 = v118 - 0.5;
        else
          v119 = v118 + 0.5;
        v158 = (signed __int64)v119;
        v151 = (int)v84 - v115;
        v120 = (double)((signed int)v84 - v115) * v154;
        if ( v120 <= 0.0 )
          v121 = v120 - 0.5;
        else
          v121 = v120 + 0.5;
        v159 = (unsigned __int64)(signed __int64)v121 + v157;
        v151 = v164 - v150;
        v122 = (double)(v164 - v150) * v153;
        if ( v122 <= 0.0 )
          v123 = v122 - 0.5;
        else
          v123 = v122 + 0.5;
        v124 = v158;
        v160 = v158 + (unsigned __int64)(signed __int64)v123;
        v159 = sub_100268A0(
                 (double)v159,
                 (double)(signed int)(v158 + (unsigned __int64)(signed __int64)v123),
                 v155 + 416);
        v151 = v86 - v149;
        v160 = v125;
        v126 = (double)(v86 - v149) * v154;
        if ( v126 <= 0.0 )
          v127 = v126 - 0.5;
        else
          v127 = v126 + 0.5;
        v161 = (unsigned __int64)(signed __int64)v127 + v157;
        v151 = (int)v166 - v150;
        v128 = (double)((signed int)v166 - v150) * v153;
        if ( v128 <= 0.0 )
          v129 = v128 - 0.5;
        else
          v129 = v128 + 0.5;
        v162 = (unsigned __int64)(signed __int64)v129 + v124;
        v112 = sub_100268A0((double)v161, (double)v162, v155 + 416);
      }
      else
      {
        v159 = sub_100268A0(
                 (double)(signed int)v163 * *(float *)(a2 + 4),
                 (double)v164 * *(float *)(a2 + 8),
                 v155 + 416);
        v160 = v111;
        v112 = sub_100268A0(
                 (double)v165 * *(float *)(a2 + 4),
                 (double)(signed int)v166 * *(float *)(a2 + 8),
                 v155 + 416);
      }
      v95 = v112;
      v97 = v113;
    }
    v164 = 1;
    LOBYTE(v163) = (_BYTE)v148;
    v165 = 0;
    LOBYTE(v166) = 0;
    sub_1003DEC0();
    v141 = dword_109D183C;
    sub_100156C0((int)&v172);
    v177 = 0;
    sub_10015540((int)&v176);
    v172 = &off_1008F66C;
    sub_10015A40((int)&v176, (int)&v163);
    v175 = v141;
    v177 = 1;
    sub_100158B0((int)&dword_109D17F0, (int)&v172);
    v177 = -1;
    sub_100156E0((int)&v172);
    v142 = sub_1003E110();
    if ( v142 != 1 )
    {
      v143 = dword_109D17F8;
      dword_109D17F0 = 0;
      v144 = (void **)sub_10015560((int)&unk_109D17F4, &v151);
      sub_100155A0(&unk_109D17F4, (int)&v148, *v144, v143);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v145 = 0;
      dword_109D17E4 = 0;
      dword_109D17E0 = 0;
      dword_109D17E8 = 0;
      v151 = (int)&dword_109D17E0;
      v177 = 2;
      if ( &dword_109D17E0 )
      {
        sub_10015520((int)&dword_109D17E0, v142, 0, 0);
        v145 = dword_109D17E0;
      }
      if ( v145 < 0 )
        unknown_libname_4(v145);
    }
    sub_1003DEC0();
    sub_1003FB80(*(_DWORD *)a2, v159, v160);
    sub_1003F860(*(_DWORD *)a2, v95, v97);
    v146 = sub_1003E110();
    if ( v146 != 1 )
    {
      v78 = 0;
      dword_109D17E4 = 0;
      dword_109D17E0 = 0;
      dword_109D17E8 = 0;
      if ( &dword_109D17E0 )
      {
        v78 = v146;
        dword_109D17E0 = v146;
        LOWORD(dword_109D17E4) = 0;
        dword_109D17E8 = 0;
      }
      if ( v78 < 0 )
        goto LABEL_187;
    }
  }
  return 1;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 1008F66C: using guessed type int (*off_1008F66C)();
// 1008F680: using guessed type int (*off_1008F680)();
// 1008F688: using guessed type int (*off_1008F688)();
// 109D17E0: using guessed type int dword_109D17E0;
// 109D17E4: using guessed type int dword_109D17E4;
// 109D17E8: using guessed type int dword_109D17E8;
// 109D17F0: using guessed type int dword_109D17F0;
// 109D1804: using guessed type int dword_109D1804;
// 109D1818: using guessed type int dword_109D1818;
// 109D1824: using guessed type int dword_109D1824;
// 109D1828: using guessed type char byte_109D1828;
// 109D182C: using guessed type int dword_109D182C;
// 109D1838: using guessed type int dword_109D1838;
// 109D183C: using guessed type int dword_109D183C;
// 109D1864: using guessed type int dword_109D1864;

//----- (10013D70) --------------------------------------------------------
signed int __thiscall sub_10013D70(_DWORD *this, int a2)
{
  _DWORD *v2; // edi@1
  int v3; // ebx@1
  int v4; // eax@1
  float v5; // edx@1
  int v6; // eax@1
  double v7; // st7@2
  int v8; // edx@6
  int (**v9)(); // edi@6
  int v10; // ecx@6
  int v11; // edx@6
  int v12; // ecx@6
  int v13; // edx@6
  int v14; // eax@7
  double v15; // st7@8
  double v16; // st7@9
  signed __int64 v17; // rax@11
  double v18; // st7@11
  double v19; // st7@11
  double v20; // st7@12
  signed __int64 v21; // rax@14
  double v22; // st7@14
  double v23; // st7@14
  double v24; // st7@15
  signed __int64 v25; // rax@17
  double v26; // st7@17
  double v27; // st7@17
  double v28; // st7@18
  signed __int64 v29; // rax@20
  double v30; // st7@20
  double v31; // st7@20
  double v32; // st7@21
  signed __int64 v33; // rax@23
  double v34; // st7@23
  double v35; // st7@23
  double v36; // st7@24
  signed __int64 v37; // rax@26
  double v38; // st7@26
  double v39; // st7@26
  double v40; // st7@27
  signed __int64 v41; // rax@29
  double v42; // st7@29
  double v43; // st7@29
  int v44; // eax@32
  double v45; // st7@32
  double v46; // st7@32
  double v47; // st7@33
  int v48; // ebx@35
  double v49; // st7@35
  double v50; // st7@36
  signed __int64 v51; // rax@38
  double v52; // st7@38
  double v53; // st6@38
  double v54; // st6@39
  int v55; // edi@41
  double v56; // st6@41
  double v57; // st6@42
  signed __int64 v58; // rax@44
  double v59; // st6@44
  double v60; // st6@44
  double v61; // st6@45
  int v62; // ebx@47
  int v63; // edi@47
  double v64; // st6@47
  double v65; // st6@48
  double v66; // st6@50
  double v67; // st6@51
  int v68; // edi@53
  double v69; // st6@53
  double v70; // st6@54
  signed __int64 v71; // rax@56
  double v72; // st6@56
  double v73; // st6@56
  double v74; // st6@57
  int v75; // edi@59
  double v76; // st6@59
  double v77; // st6@60
  double v78; // st6@62
  double v79; // st6@63
  int v80; // edi@65
  double v81; // st6@65
  double v82; // st6@66
  signed __int64 v83; // rax@68
  double v84; // st6@68
  double v85; // st6@68
  double v86; // st6@69
  int v87; // edi@71
  double v88; // st6@71
  double v89; // st6@72
  double v90; // st7@74
  double v91; // st7@75
  int v92; // edi@77
  double v93; // st7@77
  double v94; // st7@78
  int v95; // ecx@81
  double v96; // st7@83
  int v97; // edx@83
  int v98; // eax@83
  double v99; // st7@83
  int v100; // edx@83
  int v101; // eax@83
  double v102; // st7@83
  int v103; // edx@83
  int v104; // edx@83
  int v105; // eax@84
  double v106; // st7@84
  double v107; // st7@84
  double v108; // st7@85
  double v109; // st7@87
  double v110; // st7@88
  signed __int64 v111; // rax@90
  double v112; // st7@90
  double v113; // st7@90
  double v114; // st7@91
  int v115; // edi@93
  double v116; // st7@93
  double v117; // st7@94
  int v118; // eax@96
  int v119; // edi@96
  int v120; // eax@96
  double v121; // st7@96
  int v122; // edx@96
  double v123; // st7@96
  double v124; // st7@97
  int v125; // ebx@99
  double v126; // st7@99
  double v127; // st7@100
  signed __int64 v128; // rax@102
  double v129; // st7@102
  double v130; // st7@102
  double v131; // st7@103
  int v132; // ebx@105
  double v133; // st7@105
  double v134; // st7@106
  int v135; // eax@108
  double v136; // st7@108
  int v137; // edx@108
  double v138; // st7@108
  double v139; // st7@109
  int v140; // ebx@111
  double v141; // st7@111
  double v142; // st7@112
  signed __int64 v143; // rax@114
  double v144; // st7@114
  double v145; // st7@114
  double v146; // st7@115
  int v147; // ebx@117
  double v148; // st7@117
  double v149; // st7@118
  int v150; // eax@120
  double v151; // st7@120
  int v152; // edx@120
  double v153; // st7@120
  double v154; // st7@121
  int v155; // ebx@123
  double v156; // st7@123
  double v157; // st7@124
  signed __int64 v158; // rax@126
  double v159; // st7@126
  double v160; // st7@126
  double v161; // st7@127
  int v162; // ebx@129
  double v163; // st7@129
  double v164; // st7@130
  int v165; // edx@132
  int v166; // eax@133
  int v167; // ebx@133
  int v168; // edx@133
  double v169; // st7@133
  double v170; // st7@134
  double v171; // st7@136
  double v172; // st7@137
  int v173; // edi@139
  double v174; // st7@139
  double v175; // st7@140
  int v176; // ecx@142
  double v177; // st7@142
  double v178; // st7@143
  double v179; // st7@145
  double v180; // st7@146
  double v181; // st7@148
  double v182; // st7@149
  double v183; // st7@151
  double v184; // st7@152
  int v185; // ecx@154
  double v186; // st7@154
  double v187; // st7@155
  int v188; // ecx@158
  int v189; // edx@158
  int v190; // eax@158
  int v191; // edx@158
  int v192; // eax@158
  int v193; // ecx@158
  double v194; // st7@158
  int v195; // eax@158
  int v196; // ecx@158
  int v197; // ecx@158
  double v198; // st7@159
  int v199; // ebx@161
  double v200; // st7@161
  double v201; // st7@162
  double v202; // st7@164
  double v203; // st7@165
  int v204; // edi@167
  double v205; // st7@167
  double v206; // st7@168
  signed __int64 v207; // rax@170
  int v208; // ebx@171
  int v209; // ebx@171
  int v210; // ecx@179
  int v211; // edi@186
  signed int v212; // eax@186
  signed int v213; // ecx@187
  int v214; // ST1C_4@191
  int v215; // edi@191
  int v216; // eax@191
  int v217; // ecx@192
  int v218; // eax@197
  int v219; // edi@197
  _DWORD **v220; // eax@197
  _DWORD **v221; // ecx@197
  int v222; // ebx@201
  int v223; // eax@203
  int v224; // edi@204
  int v225; // eax@207
  int v226; // edi@210
  _DWORD *v227; // eax@211
  signed int v228; // edi@221
  signed int v229; // eax@222
  signed int v230; // edi@226
  signed int v231; // eax@228
  signed int v232; // ecx@229
  int v234; // [sp+24h] [bp-E4h]@32
  float v235; // [sp+2Ch] [bp-DCh]@1
  float v236; // [sp+30h] [bp-D8h]@1
  int (**v237)(); // [sp+34h] [bp-D4h]@35
  int v238; // [sp+38h] [bp-D0h]@133
  int v239; // [sp+3Ch] [bp-CCh]@197
  char v240; // [sp+40h] [bp-C8h]@197
  float v241; // [sp+44h] [bp-C4h]@32
  void *v242; // [sp+48h] [bp-C0h]@1
  int (**v243)(); // [sp+4Ch] [bp-BCh]@6
  unsigned int v244; // [sp+50h] [bp-B8h]@6
  int v245; // [sp+54h] [bp-B4h]@6
  int v246; // [sp+58h] [bp-B0h]@6
  int v247; // [sp+5Ch] [bp-ACh]@6
  int v248; // [sp+60h] [bp-A8h]@6
  int v249; // [sp+64h] [bp-A4h]@6
  int v250; // [sp+68h] [bp-A0h]@6
  int v251; // [sp+6Ch] [bp-9Ch]@32
  int v252; // [sp+70h] [bp-98h]@32
  char v253; // [sp+74h] [bp-94h]@217
  int v254; // [sp+78h] [bp-90h]@197
  int v255; // [sp+8Ch] [bp-7Ch]@1
  int v256; // [sp+90h] [bp-78h]@158
  float v257; // [sp+94h] [bp-74h]@158
  float v258; // [sp+98h] [bp-70h]@158
  int v259; // [sp+9Ch] [bp-6Ch]@158
  __int16 v260; // [sp+A0h] [bp-68h]@158
  int v261; // [sp+A4h] [bp-64h]@158
  int v262; // [sp+A8h] [bp-60h]@158
  int v263; // [sp+ACh] [bp-5Ch]@158
  int v264; // [sp+B0h] [bp-58h]@158
  int v265; // [sp+B4h] [bp-54h]@158
  int v266; // [sp+B8h] [bp-50h]@158
  int v267; // [sp+BCh] [bp-4Ch]@158
  int v268; // [sp+C0h] [bp-48h]@158
  int v269; // [sp+C4h] [bp-44h]@158
  int v270; // [sp+C8h] [bp-40h]@158
  int v271; // [sp+CCh] [bp-3Ch]@158
  int v272; // [sp+D0h] [bp-38h]@158
  int v273; // [sp+D4h] [bp-34h]@158
  int v274; // [sp+D8h] [bp-30h]@158
  int v275; // [sp+DCh] [bp-2Ch]@158
  int v276; // [sp+E0h] [bp-28h]@158
  int v277; // [sp+E4h] [bp-24h]@158
  int v278; // [sp+E8h] [bp-20h]@158
  int v279; // [sp+ECh] [bp-1Ch]@158
  int v280; // [sp+F0h] [bp-18h]@158
  int v281; // [sp+F4h] [bp-14h]@158
  int v282; // [sp+F8h] [bp-10h]@158
  int v283; // [sp+104h] [bp-4h]@197

  v2 = this;
  v255 = (int)this;
  v3 = (*(int (**)(void))(*this + 64))();
  v4 = v2[5];
  v242 = (void *)v3;
  v5 = *(float *)(a2 + 8);
  v6 = *(_DWORD *)(v4 + 368);
  v236 = *(float *)(a2 + 4);
  v235 = v5;
  if ( v6 )
  {
    v7 = *(float *)v6 * *(float *)(a2 + 4) + *(float *)(v6 + 4);
    v236 = v7;
    v235 = *(float *)v6 * *(float *)(a2 + 8) + *(float *)(v6 + 4);
    if ( v7 <= 0.0 || v235 <= 0.0 )
    {
      dword_109D17E4 = 0;
      dword_109D17E0 = 0;
      dword_109D17E8 = 0;
      if ( &dword_109D17E0 )
      {
        LOWORD(dword_109D17E4) = 0;
        dword_109D17E0 = -9;
        dword_109D17E8 = 0;
        unknown_libname_4(-9);
      }
    }
  }
  v8 = *(_DWORD *)(v255 + 48);
  v244 = *(_DWORD *)(v255 + 44);
  v9 = *(int (***)())(v255 + 40);
  v246 = *(_DWORD *)(v255 + 52) - 1;
  v10 = *(_DWORD *)(v255 + 56) - 1;
  v245 = v8;
  v11 = *(_DWORD *)(v255 + 60);
  v247 = v10;
  v12 = *(_DWORD *)(v255 + 64) - 1;
  v248 = v11 - 1;
  v13 = *(_DWORD *)(v255 + 68);
  v249 = v12;
  LOBYTE(v12) = *(_BYTE *)(v3 + 412);
  v243 = v9;
  v250 = v13;
  if ( (_BYTE)v12 )
  {
    v95 = *(_DWORD *)(v255 + 20);
    if ( *(_DWORD *)(v95 + 352) )
    {
      v166 = sub_1001F5E0((void *)v95, (int)&v234);
      v251 = *(_DWORD *)v166;
      v167 = v251;
      v252 = *(_DWORD *)(v166 + 4);
      *(float *)&v237 = COERCE_FLOAT(sub_100268A0((double)v251 * *(float *)(a2 + 4), (double)v252 * *(float *)(a2 + 8), (int)v242 + 416));
      v234 = (int)v9 - v167;
      v238 = v168;
      v169 = (double)((signed int)v9 - v167) * v236;
      if ( v169 <= 0.0 )
        v170 = v169 - 0.5;
      else
        v170 = v169 + 0.5;
      *(_DWORD *)dword_109D1864 = (char *)v237 + (unsigned __int64)(signed __int64)v170;
      v234 = v244 - v252;
      v171 = (double)(signed int)(v244 - v252) * v235;
      if ( v171 <= 0.0 )
        v172 = v171 - 0.5;
      else
        v172 = v171 + 0.5;
      v173 = v238;
      *(_DWORD *)(dword_109D1864 + 4) = v238 + (unsigned __int64)(signed __int64)v172;
      v234 = v245 - v167;
      v174 = (double)(v245 - v167) * v236;
      if ( v174 <= 0.0 )
        v175 = v174 - 0.5;
      else
        v175 = v174 + 0.5;
      v176 = v252;
      *(_DWORD *)(dword_109D1864 + 8) = (char *)v237 + (unsigned __int64)(signed __int64)v175;
      v234 = v246 - v176;
      v177 = (double)(v246 - v176) * v235;
      if ( v177 <= 0.0 )
        v178 = v177 - 0.5;
      else
        v178 = v177 + 0.5;
      *(_DWORD *)(dword_109D1864 + 12) = v173 + (unsigned __int64)(signed __int64)v178;
      v234 = v247 - v167;
      v179 = (double)(v247 - v167) * v236;
      if ( v179 <= 0.0 )
        v180 = v179 - 0.5;
      else
        v180 = v179 + 0.5;
      *(_DWORD *)(dword_109D1864 + 16) = (char *)v237 + (unsigned __int64)(signed __int64)v180;
      v234 = v248 - v252;
      v181 = (double)(v248 - v252) * v235;
      if ( v181 <= 0.0 )
        v182 = v181 - 0.5;
      else
        v182 = v181 + 0.5;
      *(_DWORD *)(dword_109D1864 + 20) = v173 + (unsigned __int64)(signed __int64)v182;
      v234 = v249 - v167;
      v183 = (double)(v249 - v167) * v236;
      if ( v183 <= 0.0 )
        v184 = v183 - 0.5;
      else
        v184 = v183 + 0.5;
      v185 = v252;
      *(_DWORD *)(dword_109D1864 + 24) = (char *)v237 + (unsigned __int64)(signed __int64)v184;
      v234 = v250 - v185;
      v186 = (double)(v250 - v185) * v235;
      if ( v186 <= 0.0 )
        v187 = v186 - 0.5;
      else
        v187 = v186 + 0.5;
      *(_DWORD *)(dword_109D1864 + 28) = v173 + (unsigned __int64)(signed __int64)v187;
    }
    else if ( *(_DWORD *)(v95 + 368) )
    {
      v105 = sub_1001F5E0((void *)v95, (int)&v234);
      v251 = *(_DWORD *)v105;
      v106 = (double)v251;
      v252 = *(_DWORD *)(v105 + 4);
      v241 = v106;
      v107 = v106 * *(float *)(a2 + 4);
      if ( v107 <= 0.0 )
        v108 = v107 - 0.5;
      else
        v108 = v107 + 0.5;
      v237 = (int (**)())(signed __int64)v108;
      v234 = (int)v9 - v251;
      v109 = (double)((signed int)v9 - v251) * v236;
      if ( v109 <= 0.0 )
        v110 = v109 - 0.5;
      else
        v110 = v109 + 0.5;
      v111 = (signed __int64)v110;
      v112 = (double)v252;
      *(_DWORD *)dword_109D1864 = (char *)v237 + v111;
      *(float *)&v237 = v112;
      v113 = v112 * *(float *)(a2 + 4);
      if ( v113 <= 0.0 )
        v114 = v113 - 0.5;
      else
        v114 = v113 + 0.5;
      v115 = (signed __int64)v114;
      v234 = v244 - v252;
      v116 = (double)(signed int)(v244 - v252) * v235;
      if ( v116 <= 0.0 )
        v117 = v116 - 0.5;
      else
        v117 = v116 + 0.5;
      v118 = v115 + (unsigned __int64)(signed __int64)v117;
      v119 = v3 + 416;
      *(_DWORD *)(dword_109D1864 + 4) = v118;
      v120 = sub_100268A0((double)*(signed int *)dword_109D1864, (double)*(signed int *)(dword_109D1864 + 4), v3 + 416);
      v121 = v241;
      *(_DWORD *)dword_109D1864 = v120;
      *(_DWORD *)(dword_109D1864 + 4) = v122;
      v123 = v121 * *(float *)(a2 + 4);
      if ( v123 <= 0.0 )
        v124 = v123 - 0.5;
      else
        v124 = v123 + 0.5;
      v125 = (signed __int64)v124;
      v234 = v245 - v251;
      v126 = (double)(v245 - v251) * v236;
      if ( v126 <= 0.0 )
        v127 = v126 - 0.5;
      else
        v127 = v126 + 0.5;
      v128 = (signed __int64)v127;
      v129 = *(float *)&v237;
      *(_DWORD *)(dword_109D1864 + 8) = v125 + v128;
      v130 = v129 * *(float *)(a2 + 4);
      if ( v130 <= 0.0 )
        v131 = v130 - 0.5;
      else
        v131 = v130 + 0.5;
      v132 = (signed __int64)v131;
      v234 = v246 - v252;
      v133 = (double)(v246 - v252) * v235;
      if ( v133 <= 0.0 )
        v134 = v133 - 0.5;
      else
        v134 = v133 + 0.5;
      *(_DWORD *)(dword_109D1864 + 12) = v132 + (unsigned __int64)(signed __int64)v134;
      v135 = sub_100268A0(
               (double)*(signed int *)(dword_109D1864 + 8),
               (double)*(signed int *)(dword_109D1864 + 12),
               v119);
      v136 = v241;
      *(_DWORD *)(dword_109D1864 + 8) = v135;
      *(_DWORD *)(dword_109D1864 + 12) = v137;
      v138 = v136 * *(float *)(a2 + 4);
      if ( v138 <= 0.0 )
        v139 = v138 - 0.5;
      else
        v139 = v138 + 0.5;
      v140 = (signed __int64)v139;
      v234 = v247 - v251;
      v141 = (double)(v247 - v251) * v236;
      if ( v141 <= 0.0 )
        v142 = v141 - 0.5;
      else
        v142 = v141 + 0.5;
      v143 = (signed __int64)v142;
      v144 = *(float *)&v237;
      *(_DWORD *)(dword_109D1864 + 16) = v140 + v143;
      v145 = v144 * *(float *)(a2 + 4);
      if ( v145 <= 0.0 )
        v146 = v145 - 0.5;
      else
        v146 = v145 + 0.5;
      v147 = (signed __int64)v146;
      v234 = v248 - v252;
      v148 = (double)(v248 - v252) * v235;
      if ( v148 <= 0.0 )
        v149 = v148 - 0.5;
      else
        v149 = v148 + 0.5;
      *(_DWORD *)(dword_109D1864 + 20) = v147 + (unsigned __int64)(signed __int64)v149;
      v150 = sub_100268A0(
               (double)*(signed int *)(dword_109D1864 + 16),
               (double)*(signed int *)(dword_109D1864 + 20),
               v119);
      v151 = v241;
      *(_DWORD *)(dword_109D1864 + 16) = v150;
      *(_DWORD *)(dword_109D1864 + 20) = v152;
      v153 = v151 * *(float *)(a2 + 4);
      if ( v153 <= 0.0 )
        v154 = v153 - 0.5;
      else
        v154 = v153 + 0.5;
      v155 = (signed __int64)v154;
      v234 = v249 - v251;
      v156 = (double)(v249 - v251) * v236;
      if ( v156 <= 0.0 )
        v157 = v156 - 0.5;
      else
        v157 = v156 + 0.5;
      v158 = (signed __int64)v157;
      v159 = *(float *)&v237;
      *(_DWORD *)(dword_109D1864 + 24) = v155 + v158;
      v160 = v159 * *(float *)(a2 + 4);
      if ( v160 <= 0.0 )
        v161 = v160 - 0.5;
      else
        v161 = v160 + 0.5;
      v162 = (signed __int64)v161;
      v234 = v250 - v252;
      v163 = (double)(v250 - v252) * v235;
      if ( v163 <= 0.0 )
        v164 = v163 - 0.5;
      else
        v164 = v163 + 0.5;
      *(_DWORD *)(dword_109D1864 + 28) = v162 + (unsigned __int64)(signed __int64)v164;
      *(_DWORD *)(dword_109D1864 + 24) = sub_100268A0(
                                           (double)*(signed int *)(dword_109D1864 + 24),
                                           (double)*(signed int *)(dword_109D1864 + 28),
                                           v119);
      *(_DWORD *)(dword_109D1864 + 28) = v165;
    }
    else
    {
      v96 = (double)v246;
      *(_DWORD *)dword_109D1864 = sub_100268A0(
                                    (double)(signed int)v243 * *(float *)(a2 + 4),
                                    (double)(signed int)v244 * *(float *)(a2 + 8),
                                    v3 + 416);
      *(_DWORD *)(dword_109D1864 + 4) = v97;
      v98 = sub_100268A0((double)v245 * *(float *)(a2 + 4), v96 * *(float *)(a2 + 8), v3 + 416);
      v99 = (double)v248;
      *(_DWORD *)(dword_109D1864 + 8) = v98;
      *(_DWORD *)(dword_109D1864 + 12) = v100;
      v101 = sub_100268A0((double)v247 * *(float *)(a2 + 4), v99 * *(float *)(a2 + 8), v3 + 416);
      v102 = (double)v250;
      *(_DWORD *)(dword_109D1864 + 16) = v101;
      *(_DWORD *)(dword_109D1864 + 20) = v103;
      *(_DWORD *)(dword_109D1864 + 24) = sub_100268A0(
                                           (double)v249 * *(float *)(a2 + 4),
                                           v102 * *(float *)(a2 + 8),
                                           v3 + 416);
      *(_DWORD *)(dword_109D1864 + 28) = v104;
    }
  }
  else
  {
    v14 = *(_DWORD *)(v255 + 20);
    if ( *(_DWORD *)(v14 + 368) )
    {
      v44 = sub_1001F5E0((void *)v14, (int)&v234);
      v251 = *(_DWORD *)v44;
      v45 = (double)v251;
      v252 = *(_DWORD *)(v44 + 4);
      v241 = v45;
      v46 = v45 * *(float *)(a2 + 4);
      if ( v46 <= 0.0 )
        v47 = v46 - 0.5;
      else
        v47 = v46 + 0.5;
      v48 = (signed __int64)v47;
      v237 = (int (**)())((char *)v9 - v251);
      v49 = (double)((signed int)v9 - v251) * v236;
      if ( v49 <= 0.0 )
        v50 = v49 - 0.5;
      else
        v50 = v49 + 0.5;
      v51 = (signed __int64)v50;
      v52 = (double)v252;
      *(_DWORD *)dword_109D1864 = v48 + v51;
      v53 = v52 * *(float *)(a2 + 8);
      if ( v53 <= 0.0 )
        v54 = v53 - 0.5;
      else
        v54 = v53 + 0.5;
      v55 = (signed __int64)v54;
      v237 = (int (**)())(v244 - v252);
      v56 = (double)(signed int)(v244 - v252) * v235;
      if ( v56 <= 0.0 )
        v57 = v56 - 0.5;
      else
        v57 = v56 + 0.5;
      v58 = (signed __int64)v57;
      v59 = v241;
      *(_DWORD *)(dword_109D1864 + 4) = v55 + v58;
      v60 = v59 * *(float *)(a2 + 4);
      if ( v60 <= 0.0 )
        v61 = v60 - 0.5;
      else
        v61 = v60 + 0.5;
      v62 = v251;
      v63 = (signed __int64)v61;
      v237 = (int (**)())(v245 - v251);
      v64 = (double)(v245 - v251) * v236;
      if ( v64 <= 0.0 )
        v65 = v64 - 0.5;
      else
        v65 = v64 + 0.5;
      *(_DWORD *)(dword_109D1864 + 8) = v63 + (unsigned __int64)(signed __int64)v65;
      v66 = v52 * *(float *)(a2 + 8);
      if ( v66 <= 0.0 )
        v67 = v66 - 0.5;
      else
        v67 = v66 + 0.5;
      v68 = (signed __int64)v67;
      v237 = (int (**)())(v246 - v252);
      v69 = (double)(v246 - v252) * v235;
      if ( v69 <= 0.0 )
        v70 = v69 - 0.5;
      else
        v70 = v69 + 0.5;
      v71 = (signed __int64)v70;
      v72 = v241;
      *(_DWORD *)(dword_109D1864 + 12) = v68 + v71;
      v73 = v72 * *(float *)(a2 + 4);
      if ( v73 <= 0.0 )
        v74 = v73 - 0.5;
      else
        v74 = v73 + 0.5;
      v75 = (signed __int64)v74;
      v237 = (int (**)())(v247 - v62);
      v76 = (double)(v247 - v62) * v236;
      if ( v76 <= 0.0 )
        v77 = v76 - 0.5;
      else
        v77 = v76 + 0.5;
      *(_DWORD *)(dword_109D1864 + 16) = v75 + (unsigned __int64)(signed __int64)v77;
      v78 = v52 * *(float *)(a2 + 8);
      if ( v78 <= 0.0 )
        v79 = v78 - 0.5;
      else
        v79 = v78 + 0.5;
      v80 = (signed __int64)v79;
      v237 = (int (**)())(v248 - v252);
      v81 = (double)(v248 - v252) * v235;
      if ( v81 <= 0.0 )
        v82 = v81 - 0.5;
      else
        v82 = v81 + 0.5;
      v83 = (signed __int64)v82;
      v84 = v241;
      *(_DWORD *)(dword_109D1864 + 20) = v80 + v83;
      v85 = v84 * *(float *)(a2 + 4);
      if ( v85 <= 0.0 )
        v86 = v85 - 0.5;
      else
        v86 = v85 + 0.5;
      v87 = (signed __int64)v86;
      v237 = (int (**)())(v249 - v62);
      v88 = (double)(v249 - v62) * v236;
      if ( v88 <= 0.0 )
        v89 = v88 - 0.5;
      else
        v89 = v88 + 0.5;
      *(_DWORD *)(dword_109D1864 + 24) = v87 + (unsigned __int64)(signed __int64)v89;
      v90 = v52 * *(float *)(a2 + 8);
      if ( v90 <= 0.0 )
        v91 = v90 - 0.5;
      else
        v91 = v90 + 0.5;
      v92 = (signed __int64)v91;
      v237 = (int (**)())(v250 - v252);
      v93 = (double)(v250 - v252) * v235;
      if ( v93 <= 0.0 )
        v94 = v93 - 0.5;
      else
        v94 = v93 + 0.5;
      *(_DWORD *)(dword_109D1864 + 28) = v92 + (unsigned __int64)(signed __int64)v94;
    }
    else
    {
      v15 = (double)(signed int)v243 * *(float *)(a2 + 4);
      if ( v15 <= 0.0 )
        v16 = v15 - 0.5;
      else
        v16 = v15 + 0.5;
      v17 = (signed __int64)v16;
      v18 = (double)(signed int)v244;
      *(_DWORD *)dword_109D1864 = v17;
      v19 = v18 * *(float *)(a2 + 8);
      if ( v19 <= 0.0 )
        v20 = v19 - 0.5;
      else
        v20 = v19 + 0.5;
      v21 = (signed __int64)v20;
      v22 = (double)v245;
      *(_DWORD *)(dword_109D1864 + 4) = v21;
      v23 = v22 * *(float *)(a2 + 4);
      if ( v23 <= 0.0 )
        v24 = v23 - 0.5;
      else
        v24 = v23 + 0.5;
      v25 = (signed __int64)v24;
      v26 = (double)v246;
      *(_DWORD *)(dword_109D1864 + 8) = v25;
      v27 = v26 * *(float *)(a2 + 8);
      if ( v27 <= 0.0 )
        v28 = v27 - 0.5;
      else
        v28 = v27 + 0.5;
      v29 = (signed __int64)v28;
      v30 = (double)v247;
      *(_DWORD *)(dword_109D1864 + 12) = v29;
      v31 = v30 * *(float *)(a2 + 4);
      if ( v31 <= 0.0 )
        v32 = v31 - 0.5;
      else
        v32 = v31 + 0.5;
      v33 = (signed __int64)v32;
      v34 = (double)v248;
      *(_DWORD *)(dword_109D1864 + 16) = v33;
      v35 = v34 * *(float *)(a2 + 8);
      if ( v35 <= 0.0 )
        v36 = v35 - 0.5;
      else
        v36 = v35 + 0.5;
      v37 = (signed __int64)v36;
      v38 = (double)v249;
      *(_DWORD *)(dword_109D1864 + 20) = v37;
      v39 = v38 * *(float *)(a2 + 4);
      if ( v39 <= 0.0 )
        v40 = v39 - 0.5;
      else
        v40 = v39 + 0.5;
      v41 = (signed __int64)v40;
      v42 = (double)v250;
      *(_DWORD *)(dword_109D1864 + 24) = v41;
      v43 = v42 * *(float *)(a2 + 8);
      if ( v43 <= 0.0 )
        *(_DWORD *)(dword_109D1864 + 28) = (signed __int64)(v43 - 0.5);
      else
        *(_DWORD *)(dword_109D1864 + 28) = (signed __int64)(v43 + 0.5);
    }
  }
  v188 = *(_DWORD *)(v255 + 72);
  v189 = (*(_DWORD *)(v255 + 76) << 16) - 0x10000;
  v275 = *(_DWORD *)dword_109D1864;
  v267 = *(_DWORD *)(dword_109D1864 + 4);
  v271 = 0;
  v279 = 0;
  v276 = *(_DWORD *)(dword_109D1864 + 8);
  v268 = *(_DWORD *)(dword_109D1864 + 12);
  v272 = 0;
  v280 = v189;
  v277 = *(_DWORD *)(dword_109D1864 + 16);
  v269 = *(_DWORD *)(dword_109D1864 + 20);
  v273 = (v188 << 16) - 0x10000;
  v281 = v189;
  v278 = *(_DWORD *)(dword_109D1864 + 24);
  v190 = *(_DWORD *)(dword_109D1864 + 28);
  v274 = (v188 << 16) - 0x10000;
  v270 = v190;
  v282 = 0;
  v261 = *(_DWORD *)(a2 + 20);
  v191 = *(_DWORD *)(a2 + 28);
  v262 = *(_DWORD *)(a2 + 24);
  v263 = v191;
  v192 = *(_DWORD *)(a2 + 32);
  v193 = *(_DWORD *)a2;
  v257 = *(float *)(a2 + 4);
  v264 = v192;
  v194 = (double)v261 * v257;
  LOWORD(v191) = *(_WORD *)(a2 + 16);
  v258 = *(float *)(a2 + 8);
  v195 = *(_DWORD *)(a2 + 36);
  v256 = v193;
  v196 = *(_DWORD *)(a2 + 12);
  v265 = v195;
  v259 = v196;
  v197 = *(_DWORD *)(a2 + 40);
  v260 = v191;
  v266 = v197;
  if ( v194 <= 0.0 )
    v198 = v194 - 0.5;
  else
    v198 = v194 + 0.5;
  v199 = (signed __int64)v198;
  v261 = (signed __int64)v198;
  v200 = (double)v262 * v258;
  if ( v200 <= 0.0 )
    v201 = v200 - 0.5;
  else
    v201 = v200 + 0.5;
  v262 = (signed __int64)v201;
  v202 = (double)v263 * v257;
  if ( v202 <= 0.0 )
    v203 = v202 - 0.5;
  else
    v203 = v202 + 0.5;
  v204 = (signed __int64)v203;
  v263 = (signed __int64)v203;
  v205 = (double)v264 * v258;
  if ( v205 <= 0.0 )
    v206 = v205 - 0.5;
  else
    v206 = v205 + 0.5;
  v207 = (signed __int64)v206;
  v264 = (signed __int64)v206;
  if ( v199 > v204 )
  {
    v208 = v204 ^ v199;
    v263 = v208 ^ v204;
    v209 = v208 ^ v204 ^ v208;
LABEL_177:
    v261 = v209;
    goto LABEL_178;
  }
  if ( v199 != v204 )
    goto LABEL_178;
  if ( v204 != 0x7FFFFFFF )
  {
    v263 = v204 + 1;
    goto LABEL_178;
  }
  if ( v199 != 0x80000000 )
  {
    v209 = v199 - 1;
    goto LABEL_177;
  }
LABEL_178:
  if ( v262 > (signed int)v207 )
  {
    v264 = v207 ^ v262 ^ v207;
    v210 = v264 ^ v207 ^ v262;
LABEL_185:
    v262 = v210;
    goto LABEL_186;
  }
  if ( v262 != (_DWORD)v207 )
    goto LABEL_186;
  if ( (_DWORD)v207 != 0x7FFFFFFF )
  {
    v264 = v207 + 1;
    goto LABEL_186;
  }
  if ( v262 != 0x80000000 )
  {
    v210 = v262 - 1;
    goto LABEL_185;
  }
LABEL_186:
  sub_1003DEC0();
  v211 = sub_1001E230(v242);
  v212 = sub_1003E110();
  if ( v212 != 1 )
  {
    v213 = 0;
    dword_109D17E4 = 0;
    dword_109D17E0 = 0;
    dword_109D17E8 = 0;
    if ( &dword_109D17E0 )
    {
      v213 = v212;
      dword_109D17E0 = v212;
      LOWORD(dword_109D17E4) = 0;
      dword_109D17E8 = 0;
    }
    if ( v213 < 0 )
      unknown_libname_4(v213);
  }
  v214 = v211;
  v215 = v255;
  v216 = sub_100280A0(
           (void *)(v255 + 72),
           (int)&v256,
           (int)&unk_109D1840,
           4,
           &v275,
           (char *)&v267,
           (int)&v271,
           (int)&v279,
           v214);
  if ( v216 != 1 )
  {
    v217 = 0;
    dword_109D17E4 = 0;
    dword_109D17E0 = 0;
    dword_109D17E8 = 0;
    if ( &dword_109D17E0 )
    {
      v217 = v216;
      LOWORD(dword_109D17E4) = 0;
      dword_109D17E0 = v216;
      dword_109D17E8 = 0;
    }
    if ( v217 < 0 )
      unknown_libname_4(v217);
  }
  if ( *(_BYTE *)(v215 + 24) & 0x10 )
  {
    v218 = *(_DWORD *)(v215 + 28);
    v219 = *((_DWORD *)v242 + 101);
    LOBYTE(v237) = 0;
    v238 = 1;
    v239 = 0;
    v240 = 0;
    sub_10015640((int)&v251, v218, 0, 1);
    v254 = 0;
    v220 = *(_DWORD ***)(v219 + 4);
    v221 = *(_DWORD ***)(v219 + 8);
    v283 = 0;
    if ( v220 == v221 )
      goto LABEL_202;
    while ( **v220 != v251 )
    {
      ++v220;
      if ( v220 == v221 )
        goto LABEL_202;
    }
    v222 = ((signed int)v220 - *(_DWORD *)(v219 + 4)) >> 2;
    if ( v222 < 0 )
LABEL_202:
      v222 = sub_1000F810(v219);
    v283 = -1;
    sub_10015AB0((int)&v251);
    v223 = *(_DWORD *)(v219 + 4);
    if ( v223 )
      v224 = (*(_DWORD *)(v219 + 8) - v223) >> 2;
    else
      v224 = 0;
    if ( v224 != v222 )
    {
      v225 = *(_DWORD *)(*(_DWORD *)(v223 + 4 * v222) + 4);
      if ( v225 )
      {
        LOBYTE(v237) = 0;
        v238 = 1;
        v239 = 0;
        v240 = 0;
        if ( *(_BYTE *)(v225 + 4) & 1 )
          LOBYTE(v237) = *(_BYTE *)v225;
      }
    }
    sub_1003DEC0();
    v226 = dword_109D183C;
    v244 = 0;
    LOBYTE(v245) = 1;
    v283 = 1;
    LOBYTE(v247) = -1;
    v248 = 0;
    v249 = 0;
    LOBYTE(v250) = 0;
    v243 = &off_1008F66C;
    sub_10015A40((int)&v247, (int)&v237);
    v246 = v226;
    v283 = 2;
    if ( (unsigned int)dword_109D17FC <= 0
      || (v227 = sub_10015560((int)&unk_109D17F4, &v234), !sub_10015570((int)&v247, *v227 + 24)) )
    {
      sub_10015C80(&v242, *(_DWORD *)dword_109D17F8, dword_109D17F8, (int)&v243);
      if ( v242 == (void *)dword_109D17F8 )
      {
        ((void (__thiscall *)(int (***)()))*v243)(&v243);
        if ( dword_109D17FC && dword_109D17FC == byte_109D1800 - 1 )
          sub_100314D0((int)&unk_109D17F4);
        ((void (__thiscall *)(int *, int))v243[1])((int *)&v243, dword_109D17F0);
        sub_10015B80((int)&unk_109D17F4, (int)&v243);
        LOBYTE(v245) = 0;
      }
      else
      {
        sub_10015AD0((int)&v251, (int)v242 + 8);
        LOBYTE(v283) = 3;
        *((_BYTE *)v242 + 16) = 0;
        sub_10015870(&unk_109D17F4, (int)&v234, v242);
        sub_10015B80((int)&unk_109D17F4, (int)&v251);
        v253 = 0;
        sub_10040020(dword_109D17F0, v252);
        LOBYTE(v283) = 2;
        sub_100156E0((int)&v251);
      }
    }
    v283 = -1;
    v243 = &off_1008F688;
    if ( v244 && (_BYTE)v245 )
      sub_1003DFA0(v244);
    v228 = sub_1003E110();
    if ( v228 != 1 )
    {
      dword_109D17F0 = 0;
      sub_100155A0(&unk_109D17F4, (int)&v234, *(void **)dword_109D17F8, dword_109D17F8);
      dword_109D1804 = 0;
      sub_100155A0(&unk_109D1808, (int)&v234, *(void **)dword_109D180C, dword_109D180C);
      dword_109D1818 = 0;
      sub_100155A0(&unk_109D181C, (int)&v242, *(void **)dword_109D1820, dword_109D1820);
      v229 = 0;
      dword_109D17E4 = 0;
      dword_109D17E0 = 0;
      dword_109D17E8 = 0;
      if ( &dword_109D17E0 )
      {
        v229 = v228;
        LOWORD(dword_109D17E4) = 0;
        dword_109D17E0 = v228;
        dword_109D17E8 = 0;
      }
      if ( v229 < 0 )
        unknown_libname_4(v229);
    }
    sub_1003DEC0();
    sub_1003FB80(*(_DWORD *)a2, *(_DWORD *)(dword_109D1864 + 24), *(_DWORD *)(dword_109D1864 + 28));
    v230 = 0;
    do
    {
      sub_1003F860(*(_DWORD *)a2, *(_DWORD *)(v230 + dword_109D1864), *(_DWORD *)(v230 + dword_109D1864 + 4));
      v230 += 8;
    }
    while ( v230 < 32 );
    v231 = sub_1003E110();
    if ( v231 != 1 )
    {
      v232 = 0;
      dword_109D17E4 = 0;
      dword_109D17E0 = 0;
      dword_109D17E8 = 0;
      if ( &dword_109D17E0 )
      {
        v232 = v231;
        LOWORD(dword_109D17E4) = 0;
        dword_109D17E0 = v231;
        dword_109D17E8 = 0;
      }
      if ( v232 < 0 )
        unknown_libname_4(v232);
    }
  }
  return 1;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 1008F66C: using guessed type int (*off_1008F66C)();
// 1008F688: using guessed type int (*off_1008F688)();
// 109D17E0: using guessed type int dword_109D17E0;
// 109D17E4: using guessed type int dword_109D17E4;
// 109D17E8: using guessed type int dword_109D17E8;
// 109D17F0: using guessed type int dword_109D17F0;
// 109D17FC: using guessed type int dword_109D17FC;
// 109D1800: using guessed type char byte_109D1800;
// 109D1804: using guessed type int dword_109D1804;
// 109D1818: using guessed type int dword_109D1818;
// 109D183C: using guessed type int dword_109D183C;
// 109D1864: using guessed type int dword_109D1864;

//----- (10015230) --------------------------------------------------------
signed int __thiscall sub_10015230(_BYTE *this, int a2)
{
  _BYTE *v2; // esi@1
  int v3; // edx@1
  int v5; // eax@3
  int v6; // ecx@3
  int v7; // ebp@3
  int v8; // ebx@3
  int v9; // edi@12
  int v10; // ecx@13
  int v11; // eax@13
  int v12; // ebx@13
  int v13; // ebp@13
  int v14; // edx@13
  int v15; // eax@13
  int v16; // ecx@13
  int v17; // eax@19
  int v18; // [sp+18h] [bp-20h]@1
  int v19; // [sp+1Ch] [bp-1Ch]@3
  int v20; // [sp+24h] [bp-14h]@3
  char v21; // [sp+28h] [bp-10h]@13

  v2 = this;
  v3 = (*(int (**)(void))(*(_DWORD *)this + 64))();
  v18 = v3;
  if ( v2[24] & 0x80 )
    return 1;
  v5 = *((_DWORD *)v2 + 11);
  v6 = *(_DWORD *)(v5 + 4);
  v7 = *(_DWORD *)(v5 + 8);
  v8 = *(_DWORD *)(v5 + 4);
  v20 = *(_DWORD *)(v5 + 8);
  v19 = *(_DWORD *)(v5 + 4);
  if ( !(*(_BYTE *)(a2 + 17) & 1) )
  {
    if ( v6 != v7 )
    {
      while ( 1 )
      {
        v9 = *(_DWORD *)v8;
        if ( !(*(_BYTE *)(*(_DWORD *)v8 + 24) & 0x80) )
        {
          v10 = v3 + 416;
          LOBYTE(v3) = *(_BYTE *)(v3 + 412);
          v11 = (*(int (__thiscall **)(int, char *, _DWORD, int, int, _DWORD, _DWORD))(*(_DWORD *)v9 + 16))(
                  v9,
                  &v21,
                  0,
                  v3,
                  v10,
                  *(_DWORD *)(a2 + 4),
                  *(_DWORD *)(a2 + 8));
          v12 = *(_DWORD *)v11;
          v13 = *(_DWORD *)(v11 + 4);
          v14 = *(_DWORD *)(v11 + 8);
          v15 = *(_DWORD *)(v11 + 12);
          v16 = *(_DWORD *)(a2 + 32);
          if ( v15 < v16 )
            v16 = v15;
          if ( v14 >= *(_DWORD *)(a2 + 28) )
            v14 = *(_DWORD *)(a2 + 28);
          if ( v13 <= *(_DWORD *)(a2 + 24) )
            v13 = *(_DWORD *)(a2 + 24);
          v17 = *(_DWORD *)(a2 + 20);
          if ( v12 > v17 )
            v17 = v12;
          if ( v17 < v14 && v13 < v16 )
            (*(void (__thiscall **)(int, int))(*(_DWORD *)v9 + 8))(v9, a2);
          v8 = v19;
          v7 = v20;
        }
        v8 += 4;
        v19 = v8;
        if ( v8 == v7 )
          break;
        v3 = v18;
      }
    }
    return 1;
  }
  if ( v6 == v7 )
    return 1;
  do
  {
    if ( !(*(_BYTE *)(*(_DWORD *)v8 + 24) & 0x80) )
      (*(void (__stdcall **)(int))(**(_DWORD **)v8 + 8))(a2);
    v8 += 4;
  }
  while ( v8 != v7 );
  return 1;
}

//----- (10015340) --------------------------------------------------------
int __thiscall sub_10015340(double *this, int a2)
{
  double *v2; // esi@1
  int v3; // ecx@1
  int v4; // eax@1
  int result; // eax@1
  int v6; // ST08_4@3
  char v7; // bl@5
  int v8; // edx@5
  int v9; // ecx@5
  int v10; // eax@5
  signed int v11; // eax@5
  signed int v12; // ecx@6
  int v13; // [sp+Ch] [bp-8h]@1
  int v14; // [sp+10h] [bp-4h]@1

  v2 = this;
  v3 = *(_DWORD *)(a2 + 40);
  v13 = *(_DWORD *)(a2 + 36);
  v4 = *(_WORD *)(a2 + 16) & 0xFCFF;
  v14 = v3;
  result = sub_1003DEE0(*(_DWORD *)a2);
  if ( result == 1 )
  {
    sub_10016100((int)&dword_109D17F0, (_DWORD *)a2, (int)(v2 + 47));
    if ( !(*(_BYTE *)(a2 + 16) & 4) )
    {
      sub_1003DEC0();
      sub_1001E750((int)(v2 + 47));
      v6 = *(_DWORD *)a2;
      sub_10040000();
      result = sub_1003E110();
      if ( result != 1 )
        return result;
      *((_BYTE *)v2 + 24) |= 8u;
    }
    dword_109D18C0 = 0;
    dword_109D18D4 = -3;
    dword_109D18D8 = -3;
    dword_109D18DC = 3;
    dword_109D18E0 = 3;
    v7 = *((_BYTE *)v2 + 412);
    v2[56] = *(float *)(a2 + 4) * v2[59];
    v2[57] = *(float *)(a2 + 8) * v2[60];
    sub_10015230(v2, a2);
    v8 = *((_DWORD *)v2 + 120);
    v9 = *((_DWORD *)v2 + 119);
    *((_DWORD *)v2 + 112) = *((_DWORD *)v2 + 118);
    v10 = *((_DWORD *)v2 + 121);
    *((_DWORD *)v2 + 114) = v8;
    *((_BYTE *)v2 + 412) = v7;
    *((_DWORD *)v2 + 113) = v9;
    *((_DWORD *)v2 + 115) = v10;
    sub_1003DEC0();
    sub_1003E0B0(*(void **)a2);
    sub_10016180((int)&dword_109D17F0);
    v11 = sub_1003E110();
    if ( v11 != 1 )
    {
      v12 = 0;
      dword_109D17E4 = 0;
      dword_109D17E0 = 0;
      dword_109D17E8 = 0;
      if ( &dword_109D17E0 )
      {
        v12 = v11;
        LOWORD(dword_109D17E4) = 0;
        dword_109D17E0 = v11;
        dword_109D17E8 = 0;
      }
      if ( v12 < 0 )
        unknown_libname_4(v12);
    }
    result = 1;
  }
  return result;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 109D17E0: using guessed type int dword_109D17E0;
// 109D17E4: using guessed type int dword_109D17E4;
// 109D17E8: using guessed type int dword_109D17E8;
// 109D17F0: using guessed type int dword_109D17F0;
// 109D18C0: using guessed type int dword_109D18C0;
// 109D18D4: using guessed type int dword_109D18D4;
// 109D18D8: using guessed type int dword_109D18D8;
// 109D18DC: using guessed type int dword_109D18DC;
// 109D18E0: using guessed type int dword_109D18E0;

//----- (100154D0) --------------------------------------------------------
void __thiscall sub_100154D0(int this)
{
  int v1; // ebx@1
  _DWORD **v2; // ebp@1
  _DWORD *i; // edi@1
  _DWORD **v4; // esi@2

  v1 = this;
  *(_DWORD *)this = 0;
  v2 = *(_DWORD ***)(this + 8);
  for ( i = *v2; i != v2; --*(_DWORD *)(v1 + 12) )
  {
    v4 = (_DWORD **)i;
    i = (_DWORD *)*i;
    *v4[1] = *v4;
    (*v4)[1] = v4[1];
    sub_100156E0((int)(v4 + 2));
    j__free(v4);
  }
}

//----- (10015520) --------------------------------------------------------
int __thiscall sub_10015520(int this, int a2, __int16 a3, int a4)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = a2;
  *(_WORD *)(this + 4) = a3;
  *(_DWORD *)(this + 8) = a4;
  return result;
}

//----- (10015540) --------------------------------------------------------
int __thiscall sub_10015540(int this)
{
  int result; // eax@1

  result = this;
  *(_BYTE *)this = -1;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_BYTE *)(this + 12) = 0;
  return result;
}

//----- (10015560) --------------------------------------------------------
_DWORD *__thiscall sub_10015560(int this, _DWORD *a2)
{
  _DWORD *result; // eax@1

  result = a2;
  *a2 = **(_DWORD **)(this + 4);
  return result;
}

//----- (10015570) --------------------------------------------------------
BOOL __thiscall sub_10015570(int this, int a2)
{
  return *(_BYTE *)this == *(_BYTE *)a2
      && *(_DWORD *)(this + 4) == *(_DWORD *)(a2 + 4)
      && *(_DWORD *)(this + 8) == *(_DWORD *)(a2 + 8);
}

//----- (100155A0) --------------------------------------------------------
int __thiscall sub_100155A0(_DWORD *this, int a2, void *a3, int a4)
{
  _DWORD *v4; // edi@1
  _DWORD *v5; // ebx@1
  _DWORD **v6; // esi@2
  int result; // eax@3

  v4 = a3;
  v5 = this;
  if ( a3 == (void *)a4 )
  {
    result = a2;
    *(_DWORD *)a2 = a3;
  }
  else
  {
    do
    {
      v6 = (_DWORD **)v4;
      v4 = (_DWORD *)*v4;
      *v6[1] = *v6;
      (*v6)[1] = v6[1];
      sub_100156E0((int)(v6 + 2));
      j__free(v6);
      --v5[2];
    }
    while ( v4 != (_DWORD *)a4 );
    result = a2;
    *(_DWORD *)a2 = v4;
  }
  return result;
}

//----- (10015600) --------------------------------------------------------
int __thiscall sub_10015600(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = *(_DWORD *)a2;
  *(_DWORD *)(this + 4) = *(_DWORD *)(a2 + 4);
  *(_DWORD *)(this + 8) = *(_DWORD *)(a2 + 8);
  *(_DWORD *)(this + 12) = *(_DWORD *)(a2 + 12);
  *(_DWORD *)(this + 16) = *(_DWORD *)(a2 + 16);
  *(_DWORD *)(this + 20) = *(_DWORD *)(a2 + 20);
  *(_DWORD *)(this + 24) = *(_DWORD *)(a2 + 24);
  return result;
}

//----- (10015640) --------------------------------------------------------
int __thiscall sub_10015640(int this, int a2, int a3, char a4)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = a2;
  *(_DWORD *)(this + 4) = a3;
  *(_BYTE *)(this + 8) = a4;
  return result;
}

//----- (10015660) --------------------------------------------------------
int __thiscall sub_10015660(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_BYTE *)(this + 8) = 0;
  *(_BYTE *)(this + 9) = 0;
  *(_BYTE *)(this + 10) = 0;
  *(_BYTE *)(this + 11) = 0;
  *(_DWORD *)(this + 12) = 0;
  return result;
}

//----- (10015680) --------------------------------------------------------
int __thiscall sub_10015680(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = *(_DWORD *)a2;
  *(_DWORD *)(this + 4) = *(_DWORD *)(a2 + 4);
  *(_BYTE *)(this + 9) = *(_BYTE *)(a2 + 9);
  *(_BYTE *)(this + 8) = *(_BYTE *)(a2 + 8);
  *(_BYTE *)(this + 10) = *(_BYTE *)(a2 + 10);
  *(_BYTE *)(this + 11) = *(_BYTE *)(a2 + 11);
  *(_DWORD *)(this + 12) = *(_DWORD *)(a2 + 12);
  return result;
}

//----- (100156C0) --------------------------------------------------------
int __thiscall sub_100156C0(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 4) = 0;
  *(_BYTE *)(this + 8) = 1;
  *(_DWORD *)this = &off_1008F688;
  return result;
}
// 1008F688: using guessed type int (*off_1008F688)();

//----- (100156E0) --------------------------------------------------------
signed int __thiscall sub_100156E0(int this)
{
  signed int result; // eax@1

  result = *(_DWORD *)(this + 4);
  *(_DWORD *)this = &off_1008F688;
  if ( result )
  {
    if ( *(_BYTE *)(this + 8) )
      result = sub_1003DFA0(result);
  }
  return result;
}
// 1008F688: using guessed type int (*off_1008F688)();

//----- (10015710) --------------------------------------------------------
int __thiscall sub_10015710(int this)
{
  int v1; // esi@1
  int result; // eax@1
  int v3; // [sp+4h] [bp-4h]@1

  v1 = this;
  v3 = 0;
  result = sub_1003E8A0(
             *(_DWORD *)(this + 24) != 0 ? 5 : 0,
             *(_DWORD *)(this + 20),
             *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 12) + 12) + 4 * *(_BYTE *)(this + 16)),
             &v3,
             (_BYTE *)(this + 8));
  *(_DWORD *)(v1 + 4) = v3;
  return result;
}

//----- (10015760) --------------------------------------------------------
signed int __thiscall sub_10015760(int this, int a2)
{
  return sub_10040020(a2, *(_DWORD *)(this + 4));
}

//----- (10015780) --------------------------------------------------------
int __thiscall sub_10015780(int this)
{
  int v1; // esi@1
  int result; // eax@1
  int v3; // [sp+4h] [bp-4h]@1

  v1 = this;
  v3 = 0;
  result = sub_10040280(
             *(_DWORD *)(this + 16),
             *(_DWORD *)(this + 20),
             10 * *(_DWORD *)(v1 + 28),
             *(_BYTE *)(v1 + 24),
             *(_BYTE *)(this + 25),
             *(_BYTE *)(v1 + 26),
             *(_DWORD *)(**(_DWORD **)(this + 12) + 4 * *(_BYTE *)(this + 27)),
             &v3,
             (_BYTE *)(this + 8));
  *(_DWORD *)(v1 + 4) = v3;
  return result;
}

//----- (100157E0) --------------------------------------------------------
int __thiscall sub_100157E0(int this, int a2)
{
  return sub_100407B0(a2, *(_DWORD *)(this + 4));
}

//----- (10015800) --------------------------------------------------------
BOOL __thiscall sub_10015800(int this, int a2)
{
  return *(_BYTE *)(this + 27) == *(_BYTE *)(a2 + 27)
      && *(_DWORD *)(this + 16) == *(_DWORD *)(a2 + 16)
      && *(_DWORD *)(this + 20) == *(_DWORD *)(a2 + 20)
      && *(_DWORD *)(this + 28) == *(_DWORD *)(a2 + 28)
      && *(_BYTE *)(this + 25) == *(_BYTE *)(a2 + 25)
      && *(_BYTE *)(this + 24) == *(_BYTE *)(a2 + 24)
      && *(_BYTE *)(this + 26) == *(_BYTE *)(a2 + 26)
      && *(_DWORD *)(this + 4) == *(_DWORD *)(a2 + 4);
}

//----- (10015870) --------------------------------------------------------
int __thiscall sub_10015870(_DWORD *this, int a2, void *a3)
{
  _DWORD *v3; // edi@1
  int v4; // ebx@1
  int result; // eax@1

  v3 = this;
  v4 = *(_DWORD *)a3;
  **((_DWORD **)a3 + 1) = *(_DWORD *)a3;
  *(_DWORD *)(*(_DWORD *)a3 + 4) = *((_DWORD *)a3 + 1);
  sub_100156E0((int)a3 + 8);
  j__free(a3);
  --v3[2];
  result = a2;
  *(_DWORD *)a2 = v4;
  return result;
}

//----- (100158B0) --------------------------------------------------------
_DWORD *__thiscall sub_100158B0(int this, int a2)
{
  int v2; // ebp@1
  int v3; // edi@1
  _DWORD *result; // eax@2
  int *v5; // ebx@3
  int i; // esi@3
  int v7; // eax@7
  char v8; // dl@11
  int v9; // eax@11
  int v10; // ecx@11
  int v11; // edx@11
  int v12; // ST04_4@11
  char v13; // [sp+10h] [bp-30h]@11
  int (**v14)(); // [sp+14h] [bp-2Ch]@11
  unsigned int v15; // [sp+18h] [bp-28h]@11
  char v16; // [sp+1Ch] [bp-24h]@11
  int v17; // [sp+20h] [bp-20h]@11
  char v18; // [sp+24h] [bp-1Ch]@11
  int v19; // [sp+3Ch] [bp-4h]@11

  v2 = this;
  v3 = a2;
  if ( !*(_DWORD *)(this + 12) || (result = (_DWORD *)sub_10015570(a2 + 16, **(_DWORD **)(this + 8) + 24)) == 0 )
  {
    v5 = *(int **)(v2 + 8);
    for ( i = *v5; (int *)i != v5; i = *(_DWORD *)i )
    {
      if ( sub_10015570(i + 24, v3 + 16) )
        break;
    }
    if ( i == *(_DWORD *)(v2 + 8) )
    {
      (**(void (__thiscall ***)(_DWORD))v3)(v3);
      v7 = *(_DWORD *)(v2 + 12);
      if ( v7 )
      {
        if ( v7 == *(_BYTE *)(v2 + 16) - 1 )
          sub_10015870((_DWORD *)(v2 + 4), (int)&a2, *(void **)(*(_DWORD *)(v2 + 8) + 4));
      }
      (*(void (__thiscall **)(int, int))(*(_DWORD *)v3 + 4))(v3, *(_DWORD *)v2);
      result = sub_10015C20((_DWORD *)(v2 + 4), &a2, **(_DWORD **)(v2 + 8), v3);
      *(_BYTE *)(v3 + 8) = 0;
    }
    else
    {
      v8 = *(_BYTE *)(i + 16);
      v15 = *(_DWORD *)(i + 12);
      v16 = v8;
      v14 = &off_1008F688;
      v9 = *(_DWORD *)(i + 20);
      v19 = 0;
      v17 = v9;
      sub_10015A40((int)&v18, i + 24);
      v14 = &off_1008F66C;
      *(_BYTE *)(i + 16) = 0;
      **(_DWORD **)(i + 4) = *(_DWORD *)i;
      v10 = *(_DWORD *)i;
      v11 = *(_DWORD *)(i + 4);
      v19 = 1;
      *(_DWORD *)(v10 + 4) = v11;
      sub_10015B60((void *)(i + 8), 0);
      j__free((void *)i);
      --*(_DWORD *)(v2 + 12);
      sub_10015C20((_DWORD *)(v2 + 4), &v13, **(_DWORD **)(v2 + 8), (int)&v14);
      v12 = *(_DWORD *)v2;
      v16 = 0;
      sub_10040020(v12, v15);
      result = (_DWORD *)v15;
      v14 = &off_1008F688;
      if ( v15 && v16 )
        result = (_DWORD *)sub_1003DFA0(v15);
    }
  }
  return result;
}
// 1008F66C: using guessed type int (*off_1008F66C)();
// 1008F688: using guessed type int (*off_1008F688)();

//----- (10015A40) --------------------------------------------------------
int __thiscall sub_10015A40(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_BYTE *)this = *(_BYTE *)a2;
  *(_DWORD *)(this + 4) = *(_DWORD *)(a2 + 4);
  *(_DWORD *)(this + 8) = *(_DWORD *)(a2 + 8);
  *(_BYTE *)(this + 12) = *(_BYTE *)(a2 + 12);
  return result;
}

//----- (10015A60) --------------------------------------------------------
int __thiscall sub_10015A60(int this, int a2)
{
  _DWORD **v2; // edx@1
  _DWORD **v3; // ecx@1
  _DWORD **v4; // eax@1
  int result; // eax@5

  v2 = *(_DWORD ***)(this + 4);
  v3 = *(_DWORD ***)(this + 8);
  v4 = v2;
  if ( v2 == v3 )
    goto LABEL_6;
  while ( **v4 != a2 )
  {
    ++v4;
    if ( v4 == v3 )
      goto LABEL_6;
  }
  result = v4 - v2;
  if ( result < 0 )
  {
LABEL_6:
    if ( v2 )
      result = v3 - v2;
    else
      result = 0;
  }
  return result;
}

//----- (10015AB0) --------------------------------------------------------
void __thiscall sub_10015AB0(int this)
{
  if ( *(_DWORD *)(this + 4) )
  {
    if ( *(_BYTE *)(this + 8) )
      j__free(*(void **)(this + 4));
  }
}

//----- (10015AD0) --------------------------------------------------------
int __thiscall sub_10015AD0(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 4) = *(_DWORD *)(a2 + 4);
  *(_BYTE *)(this + 8) = *(_BYTE *)(a2 + 8);
  *(_DWORD *)this = &off_1008F688;
  *(_DWORD *)(this + 12) = *(_DWORD *)(a2 + 12);
  *(_BYTE *)(this + 16) = *(_BYTE *)(a2 + 16);
  *(_DWORD *)(this + 20) = *(_DWORD *)(a2 + 20);
  *(_DWORD *)(this + 24) = *(_DWORD *)(a2 + 24);
  *(_BYTE *)(this + 28) = *(_BYTE *)(a2 + 28);
  *(_DWORD *)this = &off_1008F66C;
  return result;
}
// 1008F66C: using guessed type int (*off_1008F66C)();
// 1008F688: using guessed type int (*off_1008F688)();

//----- (10015B10) --------------------------------------------------------
_DWORD *__thiscall sub_10015B10(int this, int a2)
{
  _DWORD *result; // eax@1
  int v3; // edx@1
  int v4; // ecx@1

  result = (_DWORD *)this;
  *(_DWORD *)(this + 4) = *(_DWORD *)(a2 + 4);
  *(_BYTE *)(this + 8) = *(_BYTE *)(a2 + 8);
  *(_DWORD *)this = &off_1008F688;
  *(_DWORD *)(this + 12) = *(_DWORD *)(a2 + 12);
  v3 = this + 16;
  *(_DWORD *)v3 = *(_DWORD *)(a2 + 16);
  *(_DWORD *)(v3 + 4) = *(_DWORD *)(a2 + 20);
  *(_DWORD *)(v3 + 8) = *(_DWORD *)(a2 + 24);
  v4 = *(_DWORD *)(a2 + 28);
  *result = &off_1008F680;
  *(_DWORD *)(v3 + 12) = v4;
  return result;
}
// 1008F680: using guessed type int (*off_1008F680)();
// 1008F688: using guessed type int (*off_1008F688)();

//----- (10015B60) --------------------------------------------------------
void *__thiscall sub_10015B60(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100156E0((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (10015B80) --------------------------------------------------------
int __thiscall sub_10015B80(int this, int a2)
{
  int v2; // edi@1
  int v3; // eax@1
  int v4; // esi@1
  _DWORD *v5; // ebx@1
  _DWORD *v6; // eax@1
  _DWORD *v7; // ecx@1
  int result; // eax@5

  v2 = this;
  v3 = *(_DWORD *)(this + 4);
  v4 = *(_DWORD *)v3;
  v5 = *(_DWORD **)(*(_DWORD *)v3 + 4);
  v6 = operator new(0x28u);
  v7 = (_DWORD *)v4;
  if ( !v4 )
    v7 = v6;
  *v6 = v7;
  if ( !v5 )
    v5 = v6;
  v6[1] = v5;
  *(_DWORD *)(v4 + 4) = v6;
  *(_DWORD *)v6[1] = v6;
  sub_10015D30((int)(v6 + 2), a2);
  result = *(_DWORD *)(v2 + 8) + 1;
  *(_DWORD *)(v2 + 8) = result;
  return result;
}

//----- (10015BD0) --------------------------------------------------------
int __thiscall sub_10015BD0(int this, int a2)
{
  int v2; // edi@1
  int v3; // eax@1
  int v4; // esi@1
  _DWORD *v5; // ebx@1
  _DWORD *v6; // eax@1
  _DWORD *v7; // ecx@1
  int result; // eax@5

  v2 = this;
  v3 = *(_DWORD *)(this + 4);
  v4 = *(_DWORD *)v3;
  v5 = *(_DWORD **)(*(_DWORD *)v3 + 4);
  v6 = operator new(0x28u);
  v7 = (_DWORD *)v4;
  if ( !v4 )
    v7 = v6;
  *v6 = v7;
  if ( !v5 )
    v5 = v6;
  v6[1] = v5;
  *(_DWORD *)(v4 + 4) = v6;
  *(_DWORD *)v6[1] = v6;
  sub_10015D80((int)(v6 + 2), a2);
  result = *(_DWORD *)(v2 + 8) + 1;
  *(_DWORD *)(v2 + 8) = result;
  return result;
}

//----- (10015C20) --------------------------------------------------------
_DWORD *__thiscall sub_10015C20(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  _DWORD *v4; // ebx@1
  _DWORD *v5; // ebp@1
  _DWORD *v6; // esi@1
  _DWORD *v7; // eax@1
  _DWORD *v8; // eax@3
  _DWORD *result; // eax@5

  v4 = this;
  v5 = *(_DWORD **)(a3 + 4);
  v6 = operator new(0x28u);
  v7 = (_DWORD *)a3;
  if ( !a3 )
    v7 = v6;
  *v6 = v7;
  v8 = v5;
  if ( !v5 )
    v8 = v6;
  v6[1] = v8;
  *(_DWORD *)(a3 + 4) = v6;
  *(_DWORD *)v6[1] = v6;
  sub_10015D30((int)(v6 + 2), a4);
  ++v4[2];
  result = a2;
  *a2 = v6;
  return result;
}

//----- (10015C80) --------------------------------------------------------
_DWORD *__cdecl sub_10015C80(_DWORD *a1, int a2, int a3, int a4)
{
  int i; // ecx@1
  _DWORD *result; // eax@6

  for ( i = a2; i != a3; i = *(_DWORD *)i )
  {
    if ( *(_BYTE *)(i + 24) == *(_BYTE *)(a4 + 16)
      && *(_DWORD *)(i + 28) == *(_DWORD *)(a4 + 20)
      && *(_DWORD *)(i + 32) == *(_DWORD *)(a4 + 24) )
    {
      break;
    }
  }
  result = a1;
  *a1 = i;
  return result;
}

//----- (10015CC0) --------------------------------------------------------
_DWORD *__cdecl sub_10015CC0(_DWORD *a1, int a2, int a3, int a4)
{
  int i; // ecx@1
  _DWORD *result; // eax@11

  for ( i = a2; i != a3; i = *(_DWORD *)i )
  {
    if ( *(_BYTE *)(i + 35) == *(_BYTE *)(a4 + 27)
      && *(_DWORD *)(i + 24) == *(_DWORD *)(a4 + 16)
      && *(_DWORD *)(i + 28) == *(_DWORD *)(a4 + 20)
      && *(_DWORD *)(i + 36) == *(_DWORD *)(a4 + 28)
      && *(_BYTE *)(i + 33) == *(_BYTE *)(a4 + 25)
      && *(_BYTE *)(i + 32) == *(_BYTE *)(a4 + 24)
      && *(_BYTE *)(i + 34) == *(_BYTE *)(a4 + 26)
      && *(_DWORD *)(i + 12) == *(_DWORD *)(a4 + 4) )
    {
      break;
    }
  }
  result = a1;
  *a1 = i;
  return result;
}

//----- (10015D30) --------------------------------------------------------
int __cdecl sub_10015D30(int a1, int a2)
{
  int result; // eax@1

  result = a1;
  if ( a1 )
  {
    *(_DWORD *)(a1 + 4) = *(_DWORD *)(a2 + 4);
    *(_BYTE *)(a1 + 8) = *(_BYTE *)(a2 + 8);
    *(_DWORD *)a1 = &off_1008F688;
    *(_DWORD *)(a1 + 12) = *(_DWORD *)(a2 + 12);
    *(_BYTE *)(a1 + 16) = *(_BYTE *)(a2 + 16);
    *(_DWORD *)(a1 + 20) = *(_DWORD *)(a2 + 20);
    *(_DWORD *)(a1 + 24) = *(_DWORD *)(a2 + 24);
    *(_BYTE *)(a1 + 28) = *(_BYTE *)(a2 + 28);
    *(_DWORD *)a1 = &off_1008F66C;
  }
  return result;
}
// 1008F66C: using guessed type int (*off_1008F66C)();
// 1008F688: using guessed type int (*off_1008F688)();

//----- (10015D80) --------------------------------------------------------
int __cdecl sub_10015D80(int a1, int a2)
{
  int result; // eax@1
  int v3; // edx@2
  int v4; // ecx@2

  result = a1;
  if ( a1 )
  {
    *(_DWORD *)(a1 + 4) = *(_DWORD *)(a2 + 4);
    *(_BYTE *)(a1 + 8) = *(_BYTE *)(a2 + 8);
    *(_DWORD *)a1 = &off_1008F688;
    *(_DWORD *)(a1 + 12) = *(_DWORD *)(a2 + 12);
    v3 = a1 + 16;
    *(_DWORD *)(a1 + 16) = *(_DWORD *)(a2 + 16);
    *(_DWORD *)(v3 + 4) = *(_DWORD *)(a2 + 20);
    *(_DWORD *)(v3 + 8) = *(_DWORD *)(a2 + 24);
    v4 = *(_DWORD *)(a2 + 28);
    *(_DWORD *)a1 = &off_1008F680;
    *(_DWORD *)(v3 + 12) = v4;
  }
  return result;
}
// 1008F680: using guessed type int (*off_1008F680)();
// 1008F688: using guessed type int (*off_1008F688)();

//----- (10015DD0) --------------------------------------------------------
signed int sub_10015DD0()
{
  _WORD *v0; // eax@1

  v0 = operator new(6u);
  dword_109D187C = (int)v0;
  *(_DWORD *)v0 = dword_100F001C;
  v0[2] = word_100F0020;
  return 1;
}
// 100F001C: using guessed type int dword_100F001C;
// 100F0020: using guessed type __int16 word_100F0020;
// 109D187C: using guessed type int dword_109D187C;

//----- (10016100) --------------------------------------------------------
int __thiscall sub_10016100(int this, _DWORD *a2, int a3)
{
  int result; // eax@1

  *(_DWORD *)this = *a2;
  *(_DWORD *)(this + 20) = *a2;
  *(_DWORD *)(this + 40) = *a2;
  result = *a2;
  *(_DWORD *)(this + 72) = *a2;
  *(_DWORD *)(this + 76) = a3;
  return result;
}

//----- (10016130) --------------------------------------------------------
void __thiscall sub_10016130(int this, unsigned int a2)
{
  unsigned int v2; // esi@1
  int v3; // edi@1

  v2 = a2;
  v3 = this;
  if ( a2 > 0xFFFF )
    v2 = 0xFFFF;
  if ( v2 > *(_DWORD *)(this + 120) )
  {
    if ( *(_DWORD *)(this + 116) )
      j__free(*(void **)(this + 116));
    *(_DWORD *)(v3 + 120) = v2;
    *(_DWORD *)(v3 + 116) = operator new(8 * v2);
  }
}

//----- (10016180) --------------------------------------------------------
int __thiscall sub_10016180(int this)
{
  int v1; // esi@1
  _DWORD **v2; // ebp@1
  _DWORD *i; // ebx@1
  int v4; // eax@2
  void *v5; // edi@2
  _DWORD **v6; // ebp@3
  _DWORD *j; // ebx@3
  int v8; // eax@4
  void *v9; // edi@4
  int result; // eax@5
  _DWORD **v11; // ebx@5
  _DWORD *v12; // edi@5
  void *v13; // eax@6
  int v14; // [sp+10h] [bp-8h]@2
  int v15; // [sp+14h] [bp-4h]@2

  v1 = this;
  *(_DWORD *)this = 0;
  v2 = *(_DWORD ***)(this + 8);
  for ( i = *v2; i != v2; --*(_DWORD *)(v1 + 12) )
  {
    v4 = (int)i;
    i = (_DWORD *)*i;
    v14 = v4;
    v5 = (void *)*sub_100162B0((_DWORD **)&v14, &v15, 0);
    **((_DWORD **)v5 + 1) = *(_DWORD *)v5;
    *(_DWORD *)(*(_DWORD *)v5 + 4) = *((_DWORD *)v5 + 1);
    sub_10015B60((char *)v5 + 8, 0);
    j__free(v5);
  }
  *(_DWORD *)(v1 + 20) = 0;
  v6 = *(_DWORD ***)(v1 + 28);
  for ( j = *v6; j != v6; --*(_DWORD *)(v1 + 32) )
  {
    v8 = (int)j;
    j = (_DWORD *)*j;
    v14 = v8;
    v9 = (void *)*sub_100162B0((_DWORD **)&v14, &v15, 0);
    **((_DWORD **)v9 + 1) = *(_DWORD *)v9;
    *(_DWORD *)(*(_DWORD *)v9 + 4) = *((_DWORD *)v9 + 1);
    sub_10015B60((char *)v9 + 8, 0);
    j__free(v9);
  }
  result = 0;
  *(_DWORD *)(v1 + 40) = 0;
  v11 = *(_DWORD ***)(v1 + 48);
  v12 = *v11;
  if ( *v11 != v11 )
  {
    do
    {
      v13 = v12;
      v12 = (_DWORD *)*v12;
      sub_10015870((_DWORD *)(v1 + 44), (int)&v15, v13);
    }
    while ( v12 != v11 );
    result = 0;
  }
  *(_DWORD *)(v1 + 72) = 0;
  *(_DWORD *)(v1 + 76) = 0;
  return result;
}

//----- (10016270) --------------------------------------------------------
signed int __thiscall sub_10016270(int this)
{
  int v1; // esi@1
  signed int result; // eax@1

  v1 = this;
  result = sub_10029230((void **)(this + 80));
  if ( result == 1 )
  {
    ++*(_DWORD *)(v1 + 112);
    result = 1;
  }
  return result;
}

//----- (10016290) --------------------------------------------------------
signed int __thiscall sub_10016290(int this)
{
  int v1; // eax@1

  v1 = *(_DWORD *)(this + 112) - 1;
  *(_DWORD *)(this + 112) = v1;
  if ( !v1 )
    sub_100292A0((void **)(this + 80));
  return 1;
}

//----- (100162B0) --------------------------------------------------------
_DWORD *__thiscall sub_100162B0(_DWORD **this, _DWORD *a2, int a3)
{
  _DWORD *v3; // edx@1
  _DWORD *result; // eax@1

  v3 = *this;
  *this = (_DWORD *)**this;
  result = a2;
  *a2 = v3;
  return result;
}

//----- (10016330) --------------------------------------------------------
void __cdecl sub_10016330(int a1, int a2, char a3, float a4)
{
  char v4; // bl@1
  __int16 v5; // ax@10
  char v6; // bl@11

  v4 = a3;
  if ( a3 & 0x80 )
    *(_BYTE *)a2 = *(_BYTE *)sub_100210D0(a1, 1);
  if ( a3 & 0x40 )
    *(_WORD *)(a2 + 2) = *(_WORD *)sub_100210D0(a1, 2);
  if ( a3 & 0x20 )
    *(_BYTE *)(a2 + 4) = *(_BYTE *)sub_100210D0(a1, 1);
  if ( a3 & 0x10 )
    *(_BYTE *)(a2 + 5) = *(_BYTE *)sub_100210D0(a1, 1);
  if ( a3 & 8 )
  {
    v5 = *(_WORD *)sub_100210D0(a1, 2);
    *(_WORD *)(a2 + 6) = v5;
    if ( v5 == 15 )
    {
      v6 = *(_BYTE *)sub_100210D0(a1, 1);
      if ( v6 & 0x80 )
        *(_WORD *)(a2 + 28) = *(_WORD *)sub_100210D0(a1, 2);
      if ( v6 & 0x40 )
        *(_WORD *)(a2 + 30) = *(_WORD *)sub_100210D0(a1, 2);
      if ( v6 & 0x20 )
        *(_WORD *)(a2 + 32) = *(_WORD *)sub_100210D0(a1, 2);
      if ( v6 & 0x10 )
        *(_DWORD *)(a2 + 36) = *(_DWORD *)sub_100210D0(a1, 4);
      if ( v6 & 8 )
        *(_WORD *)(a2 + 40) = *(_WORD *)sub_100210D0(a1, 2);
      if ( v6 & 4 )
        *(_WORD *)(a2 + 42) = *(_WORD *)sub_100210D0(a1, 2);
      if ( v6 & 2 )
        *(_DWORD *)(a2 + 44) = *(_DWORD *)sub_100210D0(a1, 4);
      v4 = a3;
    }
    else if ( v5 == 14 )
    {
      *(_DWORD *)(a2 + 36) = 1113325568;
      *(_WORD *)(a2 + 40) = (signed __int64)(10.0 / a4 + 0.5);
    }
  }
  if ( v4 & 4 )
    *(_BYTE *)(a2 + 8) = *(_BYTE *)sub_100210D0(a1, 1);
  if ( v4 & 2 )
    *(_DWORD *)(a2 + 12) = *(_DWORD *)sub_100210D0(a1, 4);
  if ( v4 & 1 )
    *(_BYTE *)(a2 + 16) = *(_BYTE *)sub_100210D0(a1, 1);
}

//----- (100164C0) --------------------------------------------------------
int __cdecl sub_100164C0(int a1, int a2, _BYTE *a3)
{
  int result; // eax@1
  int v4; // ebp@2
  size_t v5; // esi@3
  _BYTE *v6; // ebx@3
  const void *v7; // edi@4
  void *v8; // eax@5
  int v9; // eax@8
  unsigned int v10; // ecx@8
  _DWORD *v11; // esi@8
  int v12; // edx@9
  unsigned int v13; // ecx@10
  int v14; // eax@13
  int v15; // eax@15
  _DWORD *v16; // ebx@17
  _DWORD *v17; // edi@17
  int v18; // eax@17
  int v19; // ecx@19
  _DWORD *i; // eax@20
  __int16 v28; // [sp+0h] [bp-10h]@3
  int v29; // [sp+0h] [bp-10h]@15
  int v30; // [sp+18h] [bp+8h]@2

  result = (signed __int16)a3;
  if ( (signed __int16)a3 > 0 )
  {
    v4 = a2;
    v30 = (signed __int16)a3;
    do
    {
      v28 = *(_WORD *)sub_100210D0(a1, 2);
      LOWORD(v5) = *(_WORD *)sub_100210D0(a1, 2);
      v6 = operator new(0x10u);
      a3 = v6;
      if ( v6 )
      {
        v5 = (signed __int16)v5;
        v7 = (const void *)sub_100210D0(a1, (signed __int16)v5);
        *(_DWORD *)v6 = v28;
        v6[12] = 1;
        if ( (signed __int16)v5 <= 0 )
        {
          *((_DWORD *)v6 + 1) = 0;
          *((_DWORD *)v6 + 2) = 0;
        }
        else
        {
          *((_DWORD *)v6 + 1) = v5;
          v8 = operator new(v5);
          *((_DWORD *)v6 + 2) = v8;
          qmemcpy(v8, v7, v5);
        }
      }
      else
      {
        v6 = 0;
      }
      v9 = *(_DWORD *)(v4 + 8);
      v10 = (*(_DWORD *)(v4 + 12) - v9) >> 2;
      a3 = v6;
      v11 = (_DWORD *)v9;
      if ( v10 >= 1 )
      {
        sub_1001B350((_DWORD *)v9, (_DWORD *)v9, (_DWORD *)(v9 + 4));
        sub_1000F830(*(_DWORD **)(v4 + 8), (_DWORD *)(1 - ((*(_DWORD *)(v4 + 8) - (signed int)v11) >> 2)), &a3);
        for ( i = *(_DWORD **)(v4 + 8); v11 != i; ++v11 )
          *v11 = a3;
        *(_DWORD *)(v4 + 8) += 4;
      }
      else
      {
        v12 = *(_DWORD *)(v4 + 4);
        if ( !v12 || (v13 = (v9 - v12) >> 2, v13 <= 1) )
          v13 = 1;
        if ( v12 )
          v14 = (v9 - v12) >> 2;
        else
          v14 = 0;
        v15 = v13 + v14;
        v29 = v15;
        if ( v15 < 0 )
          v15 = 0;
        v16 = operator new(4 * v15);
        v17 = sub_1001B350(*(_DWORD **)(v4 + 4), v11, v16);
        sub_1000F830(v17, (_DWORD *)1, &a3);
        sub_1001B350(v11, *(_DWORD **)(v4 + 8), v17 + 1);
        nullsub_1(*(_DWORD *)(v4 + 4), *(_DWORD *)(v4 + 8));
        j__free(*(void **)(v4 + 4));
        v18 = *(_DWORD *)(v4 + 4);
        *(_DWORD *)(v4 + 12) = &v16[v29];
        if ( v18 )
        {
          v19 = *(_DWORD *)(v4 + 8);
          *(_DWORD *)(v4 + 4) = v16;
          *(_DWORD *)(v4 + 8) = &v16[((v19 - v18) >> 2) + 1];
        }
        else
        {
          *(_DWORD *)(v4 + 4) = v16;
          *(_DWORD *)(v4 + 8) = v16 + 1;
        }
      }
      result = v30-- - 1;
    }
    while ( v30 );
  }
  return result;
}
// 1001A990: using guessed type _DWORD __stdcall nullsub_1(_DWORD, _DWORD);

//----- (10016720) --------------------------------------------------------
int __cdecl sub_10016720(char *a1, int a2, int a3, int a4)
{
  _BYTE *v4; // edi@1
  _BYTE *v5; // eax@17
  unsigned __int16 v6; // dx@17
  _DWORD *v7; // esi@23
  __int16 v8; // ax@48
  char v9; // cl@48
  const void *v10; // esi@49
  char v11; // al@49
  unsigned int v12; // ecx@49
  char *v13; // edi@49
  char *v14; // esi@49
  __int16 v15; // dx@49
  int v16; // ecx@49
  char *v17; // edi@49
  char v18; // al@50
  unsigned __int8 v19; // al@50
  const void *v20; // esi@63
  _BYTE *v21; // eax@63
  char v22; // dl@63
  unsigned int v23; // ecx@63
  char *v24; // edi@63
  char *v25; // esi@63
  int v26; // ecx@63
  _DWORD *v27; // esi@65
  _DWORD *v28; // eax@70
  int v29; // esi@71
  __int16 v30; // ax@83
  __int16 v31; // di@99
  _DWORD *v32; // eax@99
  int v33; // esi@100
  unsigned __int8 v34; // cl@102
  int v35; // eax@103
  void **v36; // eax@115
  void *v37; // edi@115
  _DWORD *v38; // eax@115
  _DWORD *v39; // esi@115
  int v40; // edx@116
  int v41; // eax@118
  signed int v42; // eax@120
  int v43; // edx@121
  int v44; // ecx@122
  bool v45; // zf@125
  int v46; // eax@127
  signed int v47; // ecx@127
  _DWORD *v48; // eax@130
  int v49; // edx@133
  _WORD *v50; // eax@133
  signed int v51; // ecx@133
  int v52; // edx@134
  _WORD *v53; // eax@134
  int v54; // eax@135
  int v55; // ecx@139
  _DWORD *v56; // eax@144
  int v57; // edx@147
  _WORD *v58; // eax@147
  signed int v59; // ecx@147
  int v60; // edx@148
  _WORD *v61; // eax@148
  int v62; // eax@149
  unsigned int v63; // ecx@151
  signed int v64; // eax@151
  int v65; // ecx@153
  int v66; // eax@157
  _DWORD *v67; // eax@161
  int v68; // edx@164
  _WORD *v69; // eax@164
  signed int v70; // ecx@164
  int v71; // edx@165
  _WORD *v72; // eax@165
  int v73; // eax@166
  int v74; // ecx@170
  _DWORD *v75; // eax@178
  int v76; // edx@181
  int v77; // eax@181
  _WORD *v78; // eax@181
  signed int v79; // ecx@181
  int v80; // edx@182
  _WORD *v81; // eax@182
  int v82; // eax@183
  int v83; // ecx@187
  _DWORD *v84; // eax@195
  int v85; // edx@198
  int v86; // eax@198
  _WORD *v87; // eax@198
  signed int v88; // ecx@198
  int v89; // edx@199
  _WORD *v90; // eax@199
  int v91; // eax@200
  unsigned int v92; // ecx@202
  signed int v93; // eax@202
  int v94; // edx@203
  int v95; // ecx@204
  __int16 v96; // ax@209
  __int16 v97; // ax@209
  _DWORD *v98; // eax@209
  int v99; // eax@212
  unsigned int v100; // eax@214
  int v101; // ecx@216
  __int16 v102; // ax@221
  _DWORD *v103; // eax@221
  int v104; // eax@224
  unsigned int v105; // ecx@226
  int v106; // ecx@228
  int v107; // edi@233
  _WORD *v108; // eax@233
  int v109; // esi@233
  int v110; // eax@233
  _DWORD *v111; // eax@233
  int v112; // edx@234
  int v113; // eax@234
  int v114; // ecx@234
  int v115; // eax@236
  signed int v116; // eax@238
  int v117; // ecx@240
  int v118; // edi@247
  _DWORD *v119; // eax@247
  int v120; // ecx@248
  int v121; // edx@248
  int v122; // eax@248
  int v123; // eax@250
  int v124; // ecx@254
  int v125; // edi@261
  _DWORD *v126; // eax@264
  int v127; // eax@265
  int v128; // ecx@265
  int v129; // edx@265
  int v130; // eax@265
  int v131; // ecx@265
  int v132; // edx@265
  int v133; // eax@265
  int v134; // ecx@265
  int v135; // eax@267
  signed int v136; // eax@269
  int v137; // ecx@271
  int v138; // edi@297
  signed int v139; // ecx@297
  const char *v140; // eax@298
  unsigned __int16 v141; // cx@298
  int v142; // edx@298
  int v143; // eax@298
  int v144; // edx@332
  int v145; // edx@332
  int v146; // edx@332
  unsigned __int16 v147; // di@333
  const char *v148; // eax@333
  int v149; // ecx@333
  int v150; // edx@333
  int v151; // eax@333
  _DWORD *v152; // eax@340
  signed __int16 v153; // si@350
  int v154; // edi@352
  _DWORD *v155; // eax@352
  int v156; // edi@353
  _WORD *v157; // eax@355
  signed int v158; // ecx@355
  int v159; // edx@356
  _WORD *v160; // eax@356
  int v161; // eax@358
  int v162; // edx@358
  int v163; // ecx@359
  int v164; // esi@359
  int v165; // eax@360
  int v166; // ecx@360
  int v167; // edx@360
  int v168; // ecx@361
  int v169; // esi@361
  signed int v170; // eax@364
  int v171; // ecx@366
  int v172; // eax@378
  _DWORD *v173; // eax@379
  int v174; // esi@380
  _DWORD *v175; // esi@388
  signed int v176; // edi@388
  int v177; // eax@391
  const void *v178; // esi@392
  _BYTE *v179; // eax@392
  int v180; // eax@393
  int v181; // edx@394
  int v182; // ecx@395
  void *v183; // eax@398
  size_t v184; // ecx@398
  char *v185; // edx@400
  void *v186; // eax@400
  int v187; // edi@400
  int v188; // eax@400
  int v189; // esi@400
  int v190; // eax@400
  int v191; // edx@401
  int v192; // ecx@402
  char *v193; // edi@407
  unsigned __int16 v194; // ax@408
  int v195; // eax@411
  int v196; // eax@415
  int v197; // esi@420
  unsigned int v198; // ecx@421
  void **v199; // edi@423
  int v200; // eax@424
  void **v201; // eax@427
  int v202; // ecx@442
  int v203; // eax@443
  char *v204; // esi@446
  void **v205; // eax@446
  int v207; // [sp-4h] [bp-384h]@8
  char v208; // [sp+13h] [bp-36Dh]@1
  char v209; // [sp+13h] [bp-36Dh]@50
  char v210; // [sp+13h] [bp-36Dh]@276
  char v211; // [sp+13h] [bp-36Dh]@311
  char v212; // [sp+14h] [bp-36Ch]@1
  char v213; // [sp+14h] [bp-36Ch]@50
  unsigned __int8 v214; // [sp+15h] [bp-36Bh]@1
  char v215; // [sp+16h] [bp-36Ah]@48
  unsigned __int8 v216; // [sp+17h] [bp-369h]@48
  void *v217; // [sp+18h] [bp-368h]@13
  int v218; // [sp+1Ch] [bp-364h]@49
  char v219; // [sp+23h] [bp-35Dh]@1
  char v220[4]; // [sp+24h] [bp-35Ch]@1
  int v221; // [sp+28h] [bp-358h]@50
  int v222; // [sp+2Ch] [bp-354h]@1
  unsigned __int8 v223; // [sp+30h] [bp-350h]@1
  char v224; // [sp+31h] [bp-34Fh]@1
  int v225; // [sp+32h] [bp-34Eh]@1
  int v226; // [sp+38h] [bp-348h]@1
  char v227; // [sp+3Ch] [bp-344h]@1
  char v228; // [sp+3Dh] [bp-343h]@1
  int v229; // [sp+3Eh] [bp-342h]@1
  int v230; // [sp+42h] [bp-33Eh]@1
  __int16 v231; // [sp+46h] [bp-33Ah]@1
  int v232; // [sp+48h] [bp-338h]@1
  __int16 v233; // [sp+4Ch] [bp-334h]@1
  int v234; // [sp+50h] [bp-330h]@1
  int v235; // [sp+54h] [bp-32Ch]@1
  int v236; // [sp+58h] [bp-328h]@1
  int v237; // [sp+5Ch] [bp-324h]@50
  _DWORD *v238; // [sp+60h] [bp-320h]@23
  float v239; // [sp+64h] [bp-31Ch]@1
  void *v240; // [sp+68h] [bp-318h]@50
  int v241; // [sp+6Ch] [bp-314h]@332
  int v242; // [sp+70h] [bp-310h]@1
  __int16 v243; // [sp+74h] [bp-30Ch]@1
  char v244; // [sp+78h] [bp-308h]@1
  __int16 v245; // [sp+7Ah] [bp-306h]@48
  unsigned __int8 v246; // [sp+7Ch] [bp-304h]@48
  char v247; // [sp+7Dh] [bp-303h]@48
  __int16 v248; // [sp+7Eh] [bp-302h]@48
  char v249; // [sp+80h] [bp-300h]@48
  int v250; // [sp+84h] [bp-2FCh]@48
  char v251; // [sp+88h] [bp-2F8h]@48
  char v252; // [sp+89h] [bp-2F7h]@48
  int v253; // [sp+8Ah] [bp-2F6h]@48
  int v254; // [sp+8Eh] [bp-2F2h]@48
  __int16 v255; // [sp+92h] [bp-2EEh]@48
  int v256; // [sp+94h] [bp-2ECh]@48
  __int16 v257; // [sp+98h] [bp-2E8h]@48
  int v258; // [sp+9Ch] [bp-2E4h]@48
  int v259; // [sp+A0h] [bp-2E0h]@48
  int v260; // [sp+A4h] [bp-2DCh]@48
  unsigned __int8 v261; // [sp+A8h] [bp-2D8h]@1
  void *v262; // [sp+ACh] [bp-2D4h]@1
  char *v263; // [sp+B0h] [bp-2D0h]@430
  char *v264; // [sp+B4h] [bp-2CCh]@430
  void **v265; // [sp+B8h] [bp-2C8h]@428
  int v266; // [sp+BCh] [bp-2C4h]@1
  int v267; // [sp+C0h] [bp-2C0h]@430
  int v268; // [sp+C4h] [bp-2BCh]@420
  int *v269; // [sp+C8h] [bp-2B8h]@423
  void *v270; // [sp+CCh] [bp-2B4h]@1
  int v271; // [sp+D0h] [bp-2B0h]@1
  int v272; // [sp+D4h] [bp-2ACh]@1
  int v273; // [sp+D8h] [bp-2A8h]@50
  int v274; // [sp+DCh] [bp-2A4h]@17
  int v275; // [sp+E0h] [bp-2A0h]@386
  int v276; // [sp+E4h] [bp-29Ch]@350
  size_t v277; // [sp+E8h] [bp-298h]@393
  char v278; // [sp+EEh] [bp-292h]@66
  char v279; // [sp+EFh] [bp-291h]@341
  int v280; // [sp+F0h] [bp-290h]@400
  int v281; // [sp+F4h] [bp-28Ch]@209
  __int16 v282; // [sp+F8h] [bp-288h]@209
  __int16 v283; // [sp+FAh] [bp-286h]@209
  __int16 v284; // [sp+FCh] [bp-284h]@209
  __int16 v285; // [sp+FEh] [bp-282h]@209
  __int16 v286; // [sp+100h] [bp-280h]@209
  __int16 v287; // [sp+102h] [bp-27Eh]@209
  int v288; // [sp+104h] [bp-27Ch]@48
  __int16 v289; // [sp+108h] [bp-278h]@221
  __int16 v290; // [sp+10Ah] [bp-276h]@221
  __int16 v291; // [sp+10Ch] [bp-274h]@221
  __int16 v292; // [sp+10Eh] [bp-272h]@221
  __int16 v293; // [sp+110h] [bp-270h]@221
  __int16 v294; // [sp+112h] [bp-26Eh]@221
  __int16 v295; // [sp+114h] [bp-26Ch]@221
  __int16 v296; // [sp+116h] [bp-26Ah]@221
  int v297; // [sp+118h] [bp-268h]@50
  int v298; // [sp+11Ch] [bp-264h]@50
  int v299; // [sp+120h] [bp-260h]@63
  int v300; // [sp+124h] [bp-25Ch]@332
  int v301; // [sp+128h] [bp-258h]@332
  int v302; // [sp+130h] [bp-250h]@261
  int v303; // [sp+134h] [bp-24Ch]@261
  int v304; // [sp+138h] [bp-248h]@261
  int v305; // [sp+13Ch] [bp-244h]@261
  int v306; // [sp+140h] [bp-240h]@261
  int v307; // [sp+144h] [bp-23Ch]@261
  int v308; // [sp+148h] [bp-238h]@261
  int v309; // [sp+150h] [bp-230h]@247
  int v310; // [sp+154h] [bp-22Ch]@247
  int v311; // [sp+158h] [bp-228h]@247
  int v312; // [sp+160h] [bp-220h]@233
  int v313; // [sp+164h] [bp-21Ch]@233
  int v314; // [sp+168h] [bp-218h]@233
  int v315; // [sp+170h] [bp-210h]@297
  int v316; // [sp+174h] [bp-20Ch]@391
  int v317; // [sp+178h] [bp-208h]@391
  int v318; // [sp+17Ch] [bp-204h]@391
  __int16 v319; // [sp+180h] [bp-200h]@391
  char v320[256]; // [sp+274h] [bp-10Ch]@50
  int v321; // [sp+37Ch] [bp-4h]@1

  v261 = v214;
  sub_1001B340((int)&v262);
  sub_1001B340((int)&v266);
  v270 = 0;
  v271 = 0;
  v272 = 0;
  v321 = 0;
  sub_1001A100((int)&v244);
  HIWORD(v4) = 0;
  v242 = 0;
  v243 = 0;
  LOBYTE(v222) = 0;
  HIWORD(v222) = 1;
  v223 = 0;
  v224 = 0;
  LOWORD(v225) = 0;
  BYTE2(v225) = 1;
  v226 = 0;
  v227 = 44;
  v228 = 0;
  v229 = 655360;
  v230 = 201326592;
  v231 = 0;
  v232 = 0x1FFFF;
  v233 = 0;
  v234 = 0;
  v235 = 10;
  v236 = 1065353216;
  v239 = 1.0;
  v212 = 0;
  v220[0] = 0;
  v208 = 0;
  v219 = *(_BYTE *)sub_100210D0(a2, 1);
  if ( v219 & 0x80 )
    v212 = *(_BYTE *)sub_100210D0(a2, 1);
  if ( v212 & 0x80 )
    v220[0] = *(_BYTE *)sub_100210D0(a2, 1);
  if ( v212 & 0x40 )
    v208 = *(_BYTE *)sub_100210D0(a2, 1);
  if ( v219 & 4 )
  {
    v239 = *(float *)sub_100210D0(a2, 4);
    v207 = LODWORD(v239);
  }
  else
  {
    v207 = 1065353216;
  }
  sub_1001E220(a3, v207);
  v214 = -1;
  if ( v219 & 2 )
    v214 = *(_BYTE *)sub_100210D0(a2, 1);
  if ( v219 & 1 )
  {
    LOBYTE(v217) = *(_BYTE *)sub_100210D0(a2, 1);
    if ( v214 == 2 )
      sub_1001A640(a3 + 384, *(_DWORD **)(a3 + 388), *(int **)(a3 + 392));
    if ( (signed int)(unsigned __int8)v217 > 0 )
    {
      v4 = (_BYTE *)(unsigned __int8)v217;
      do
      {
        v214 = *(_BYTE *)sub_100210D0(a2, 1);
        v219 = *(_BYTE *)sub_100210D0(a2, 1);
        v5 = (_BYTE *)sub_100210D0(a2, 1);
        HIBYTE(v6) = v214;
        LOBYTE(v217) = *v5;
        LOBYTE(v6) = v219;
        v274 = (unsigned __int8)v217 | (v6 << 8);
        if ( sub_1000F810(a3 + 384) != 254 )
          sub_1001A4A0(a3 + 384, *(_DWORD *)(a3 + 392), &v274);
        --v4;
      }
      while ( v4 );
    }
  }
  if ( v212 & 0x20 )
    sub_100210D0(a2, 8);
  if ( v212 & 8 )
  {
    LOWORD(v4) = *(_WORD *)sub_100210D0(a2, 2);
    v7 = operator new(0x10u);
    v238 = v7;
    LOBYTE(v321) = 1;
    if ( v7 )
    {
      v217 = 0;
      sub_10020C80(v7, 0, &v217, &v214);
      LOBYTE(v321) = 2;
      sub_10020D10((int)v7, (signed __int16)v4);
    }
    else
    {
      v7 = 0;
    }
    LOBYTE(v321) = 0;
    *(_DWORD *)(a3 + 372) = v7;
    sub_100164C0(a2, (int)v7, v4);
  }
  sub_10016330(a2, (int)&v222, v220[0], v239);
  if ( v208 & 0x80 )
    v228 = *(_BYTE *)sub_100210D0(a2, 1);
  if ( (*(_BYTE *)(a4 + 3) & 0xFu) < 3 )
  {
    if ( v208 & 0x40 )
      HIWORD(v229) = *(_BYTE *)sub_100210D0(a2, 1);
    if ( v208 & 0x20 )
      LOWORD(v229) = *(_BYTE *)sub_100210D0(a2, 1);
  }
  else
  {
    if ( v208 & 0x40 )
      HIWORD(v229) = *(_WORD *)sub_100210D0(a2, 2);
    if ( v208 & 0x20 )
      LOWORD(v229) = *(_WORD *)sub_100210D0(a2, 2);
  }
  if ( v208 & 0x10 )
    LOBYTE(v230) = *(_BYTE *)sub_100210D0(a2, 1);
  if ( v208 & 8 )
    BYTE1(v230) = *(_BYTE *)sub_100210D0(a2, 1);
  if ( v208 & 4 )
    BYTE2(v230) = *(_BYTE *)sub_100210D0(a2, 1);
  if ( v208 & 2 )
    v231 = *(_WORD *)sub_100210D0(a2, 2);
  if ( v208 & 1 )
    BYTE3(v230) = *(_BYTE *)sub_100210D0(a2, 1);
  v8 = *(_WORD *)sub_100210D0(a2, 2);
  v242 = a3;
  v243 = v8;
  v246 = v223;
  v245 = HIWORD(v222);
  v249 = BYTE2(v225);
  v248 = v225;
  v252 = v228;
  v244 = v222;
  v251 = v227;
  LOBYTE(v254) = v230;
  v247 = v224;
  v255 = v231;
  v250 = v226;
  v253 = v229;
  v256 = v232;
  v259 = v235;
  v9 = *(_BYTE *)(a4 + 3);
  *(_WORD *)((char *)&v254 + 1) = *(_WORD *)((char *)&v230 + 1);
  v258 = v234;
  BYTE3(v254) = BYTE3(v230);
  v260 = v236;
  v257 = v233;
  v215 = 0;
  v216 = 0;
  v288 = 2 - ((v9 & 0xFu) < 4);
  do
  {
    v10 = (const void *)sub_100210D0(a2, v288);
    v11 = v288;
    v12 = (unsigned int)v288 >> 2;
    qmemcpy(&v215, v10, 4 * ((unsigned int)v288 >> 2));
    v14 = (char *)v10 + 4 * v12;
    v13 = &v215 + 4 * v12;
    v15 = v245;
    v16 = v11 & 3;
    qmemcpy(v13, v14, v16);
    v17 = &v13[v16];
    HIWORD(v222) = v15;
    LOBYTE(v222) = v244;
    v224 = v247;
    v223 = v246;
    BYTE2(v225) = v249;
    LOWORD(v225) = v248;
    v227 = v251;
    v226 = v250;
    v229 = v253;
    v228 = v252;
    v230 = v254;
    v231 = v255;
    v232 = v256;
    v233 = v257;
    v234 = v258;
    v235 = v259;
    LOBYTE(v218) = v215 & 0x1F;
    v236 = v260;
    if ( (v215 & 0x1F) == 15 )
    {
      v240 = 0;
      v237 = 0;
      v221 = 0;
      v18 = *(_BYTE *)(a4 + 3);
      v320[0] = 0;
      v19 = v18 & 0xF;
      v213 = 0;
      v220[0] = 0;
      v209 = 0;
      LOBYTE(v273) = 0;
      v297 = 0;
      v298 = 0;
      if ( v19 <= 5u )
      {
        if ( v216 & 0x80 )
        {
          LOBYTE(v273) = 1;
          if ( v19 == 5 )
            sub_100210D0(a2, 1);
        }
      }
      if ( v215 & 0x40 )
        v213 = *(_BYTE *)sub_100210D0(a2, 1);
      if ( v213 & 0x80 )
        v220[0] = *(_BYTE *)sub_100210D0(a2, 1);
      if ( v213 & 0x40 )
        v209 = *(_BYTE *)sub_100210D0(a2, 1);
      if ( v213 & 0x20 )
        sub_100210D0(a2, 8);
      if ( v213 & 0x10 )
      {
        LOBYTE(v299) = *(_BYTE *)sub_100210D0(a2, 1);
        v217 = (void *)(unsigned __int8)v299;
        v20 = (const void *)sub_100210D0(a2, (unsigned __int8)v299);
        v21 = v217;
        v22 = (char)v217;
        v23 = (unsigned int)v217 >> 2;
        qmemcpy(v320, v20, 4 * ((unsigned int)v217 >> 2));
        v25 = (char *)v20 + 4 * v23;
        v24 = &v320[4 * v23];
        v26 = v22 & 3;
        qmemcpy(v24, v25, v26);
        v17 = &v24[v26];
        v21[(_DWORD)v320] = 0;
      }
      v214 = v213 & 8;
      if ( v213 & 8 )
      {
        LOWORD(v17) = *(_WORD *)sub_100210D0(a2, 2);
        v27 = operator new(0x10u);
        v238 = v27;
        LOBYTE(v321) = 3;
        if ( v27 )
        {
          v217 = 0;
          sub_10020C80(v27, 0, &v217, &v278);
          LOBYTE(v321) = 4;
          sub_10020D10((int)v27, (signed __int16)v17);
        }
        else
        {
          v27 = 0;
        }
        LOBYTE(v321) = 0;
        v240 = v27;
        sub_100164C0(a2, (int)v27, v17);
      }
      v219 = v213 & 4;
      if ( v213 & 4 )
      {
        v28 = operator new(8u);
        if ( v28 )
        {
          *v28 = 1065353216;
          v28[1] = 0;
          v29 = (int)v28;
        }
        else
        {
          v29 = 0;
        }
        v237 = v29;
        *(_DWORD *)v29 = *(_DWORD *)sub_100210D0(a2, 4);
        *(_DWORD *)(v29 + 4) = *(_DWORD *)sub_100210D0(a2, 4);
      }
      if ( v213 & 2 )
      {
        LOBYTE(v273) = *(_BYTE *)sub_100210D0(a2, 1);
        if ( (_BYTE)v273 == 10 )
        {
          v217 = *(void **)sub_100210D0(a2, 4);
          v297 = (signed __int16)v217;
          v298 = SHIWORD(v217);
        }
      }
      sub_10016330(a2, (int)&v222, v220[0], v239);
      if ( v209 & 0x80 )
        v228 = *(_BYTE *)sub_100210D0(a2, 1);
      if ( (*(_BYTE *)(a4 + 3) & 0xFu) < 3 )
      {
        if ( v209 & 0x40 )
          HIWORD(v229) = *(_BYTE *)sub_100210D0(a2, 1);
        if ( !(v209 & 0x20) )
          goto LABEL_89;
        v30 = *(_BYTE *)sub_100210D0(a2, 1);
      }
      else
      {
        if ( v209 & 0x40 )
          HIWORD(v229) = *(_WORD *)sub_100210D0(a2, 2);
        if ( !(v209 & 0x20) )
          goto LABEL_89;
        v30 = *(_WORD *)sub_100210D0(a2, 2);
      }
      LOWORD(v229) = v30;
LABEL_89:
      if ( v209 & 0x10 )
        LOBYTE(v230) = *(_BYTE *)sub_100210D0(a2, 1);
      if ( v209 & 8 )
        BYTE1(v230) = *(_BYTE *)sub_100210D0(a2, 1);
      if ( v209 & 4 )
        BYTE2(v230) = *(_BYTE *)sub_100210D0(a2, 1);
      if ( v209 & 2 )
        v231 = *(_WORD *)sub_100210D0(a2, 2);
      if ( v209 & 1 )
        BYTE3(v230) = *(_BYTE *)sub_100210D0(a2, 1);
      v31 = *(_WORD *)sub_100210D0(a2, 2);
      v32 = operator new(0x178u);
      v238 = v32;
      LOBYTE(v321) = 5;
      if ( v32 )
        v33 = sub_100279D0((int)v32, v320, v31);
      else
        v33 = 0;
      LOBYTE(v321) = 0;
      sub_1001DFF0(v242, v33);
      v34 = v273;
      *(_BYTE *)(v33 + 32) = v216;
      v45 = (_BYTE)v273 == 10;
      *(_DWORD *)(v33 + 352) = v34;
      if ( v45 )
      {
        v35 = v298;
        *(_DWORD *)(v33 + 360) = v297;
        *(_DWORD *)(v33 + 364) = v35;
      }
      *(_BYTE *)(v33 + 356) = (v216 >> 6) & 1;
      if ( v214 )
        *(_DWORD *)(v33 + 372) = v240;
      if ( v219 && v237 )
        *(_DWORD *)(v33 + 368) = v237;
      if ( v243 != 1 )
      {
        --v243;
        sub_1001A1B0((int)&v261, &v242);
      }
      v244 = v222;
      v245 = HIWORD(v222);
      v246 = v223;
      v247 = v224;
      v248 = v225;
      v249 = BYTE2(v225);
      v250 = v226;
      v251 = v227;
      v252 = v228;
      v253 = v229;
      v254 = v230;
      v255 = v231;
      v256 = v232;
      v257 = v233;
      v258 = v234;
      v242 = v33;
      v243 = v31;
      v259 = v235;
      v260 = v236;
      continue;
    }
    switch ( (unsigned __int8)v218 )
    {
      case 1u:
        if ( v215 & 0x40 )
        {
          v220[0] = *(_BYTE *)sub_100210D0(a2, 1);
          sub_10016330(a2, (int)&v222, v220[0], v239);
        }
        v36 = (void **)sub_100210D0(a2, 4);
        v37 = *v36;
        v217 = *v36;
        v38 = operator new(0x40u);
        v39 = v38;
        v238 = v38;
        LOBYTE(v321) = 6;
        if ( v38 )
        {
          sub_1001A680((int)v38);
          LOBYTE(v321) = 7;
          sub_10015540((int)(v39 + 10));
          v40 = SHIWORD(v217);
          *v39 = &off_1008F9FC;
          v39[14] = (signed __int16)v37;
          v39[15] = v40;
        }
        else
        {
          v39 = 0;
        }
        LOBYTE(v321) = 0;
        *((_BYTE *)v39 + 40) = v222;
        v39[11] = HIWORD(v222);
        v41 = v223 & 0x7F;
        v39[12] = v41;
        if ( v41 == 6 )
          v39[12] = 0;
        *((_BYTE *)v39 + 52) = v223 >> 7;
        v39[9] = (v227 & 0xF) + 1;
        v42 = v39[12];
        if ( v42 > 255 )
          goto LABEL_125;
        v43 = dword_109D1830;
        if ( !byte_109D1834 )
        {
          v44 = *(_DWORD *)(dword_109D1830 + 4 * v42);
          if ( v44 )
          {
            if ( *(_BYTE *)(v44 + 13) == 3 )
              goto LABEL_125;
          }
        }
        goto LABEL_124;
      case 2u:
        if ( v215 & 0x40 )
        {
          v220[0] = *(_BYTE *)sub_100210D0(a2, 1);
          sub_10016330(a2, (int)&v222, v220[0], v239);
        }
        v48 = operator new(0x68u);
        v39 = v48;
        v238 = v48;
        LOBYTE(v321) = 8;
        if ( v48 )
        {
          sub_1001A760((int)v48);
          LOBYTE(v321) = 9;
          sub_1001A0D0((int)(v39 + 14));
          *v39 = &off_1008F998;
          v39[23] = 0;
          *((_WORD *)v39 + 48) = 0;
          *((_BYTE *)v39 + 98) = 0;
          v39[25] = 2;
        }
        else
        {
          v39 = 0;
        }
        v49 = *v39;
        LOBYTE(v321) = 0;
        (*(void (__thiscall **)(void *, signed int, _DWORD))(v49 + 96))(v39, 2, 0);
        *((_BYTE *)v39 + 98) = 0;
        v50 = (_WORD *)sub_100210D0(a2, 8);
        v51 = 0;
        do
        {
          v52 = *v50;
          v53 = v50 + 1;
          *(_DWORD *)(v51 + v39[23]) = v52;
          v51 += 8;
          LOWORD(v52) = *v53;
          v50 = v53 + 1;
          *(_DWORD *)(v51 + v39[23] - 4) = (signed __int16)v52;
        }
        while ( v51 < 16 );
        *((_BYTE *)v39 + 40) = v222;
        v39[11] = HIWORD(v222);
        v54 = v223 & 0x7F;
        v39[12] = v54;
        if ( v54 == 6 )
          v39[12] = 0;
        *((_BYTE *)v39 + 52) = v223 >> 7;
        v39[9] = (v227 & 0xF) + 1;
        v42 = v39[12];
        if ( v42 <= 255 )
        {
          v43 = dword_109D1830;
          if ( byte_109D1834 )
            goto LABEL_124;
          v55 = *(_DWORD *)(dword_109D1830 + 4 * v42);
          if ( !v55 || *(_BYTE *)(v55 + 13) != 3 )
            goto LABEL_124;
        }
        goto LABEL_125;
      case 4u:
        if ( v215 & 0x40 )
        {
          v220[0] = *(_BYTE *)sub_100210D0(a2, 1);
          sub_10016330(a2, (int)&v222, v220[0], v239);
        }
        LOWORD(v17) = *(_WORD *)sub_100210D0(a2, 2);
        v56 = operator new(0x68u);
        v39 = v56;
        v238 = v56;
        LOBYTE(v321) = 10;
        if ( v56 )
        {
          sub_1001A760((int)v56);
          LOBYTE(v321) = 11;
          sub_1001A0D0((int)(v39 + 14));
          *v39 = &off_1008F998;
          v39[23] = 0;
          *((_WORD *)v39 + 48) = 0;
          *((_BYTE *)v39 + 98) = 0;
          v39[25] = 2;
        }
        else
        {
          v39 = 0;
        }
        v57 = *v39;
        LOBYTE(v321) = 0;
        (*(void (__thiscall **)(void *, char *, _DWORD))(v57 + 96))(v39, v17, 0);
        *((_BYTE *)v39 + 98) = 1;
        v217 = (void *)(signed __int16)v17;
        v58 = (_WORD *)sub_100210D0(a2, 4 * (signed __int16)v17);
        v59 = 0;
        if ( (signed __int16)v17 > 0 )
        {
          do
          {
            v60 = *v58;
            v61 = v58 + 1;
            *(_DWORD *)(v39[23] + 8 * v59) = v60;
            LOWORD(v60) = *v61;
            v58 = v61 + 1;
            *(_DWORD *)(v39[23] + 8 * v59++ + 4) = (signed __int16)v60;
          }
          while ( v59 < (signed int)v217 );
        }
        *((_BYTE *)v39 + 40) = v222;
        v39[11] = HIWORD(v222);
        v62 = v223 & 0x7F;
        v39[12] = v62;
        if ( v62 == 6 )
          v39[12] = 0;
        *((_BYTE *)v39 + 52) = v223 >> 7;
        v39[9] = (v227 & 0xF) + 1;
        *((_BYTE *)v39 + 56) = v224;
        v39[15] = (unsigned __int16)v225;
        sub_1001A170((int)&v222, (int)(v39 + 16));
        LOBYTE(v63) = v227;
        v64 = v39[12];
        v39[25] = ((v63 >> 5) & 1) + 1;
        if ( v64 > 255
          || !byte_109D1834 && (v65 = *(_DWORD *)(dword_109D1830 + 4 * v64)) != 0 && *(_BYTE *)(v65 + 13) == 3
          || !*(_DWORD *)(dword_109D1830 + 4 * v64) )
        {
          dword_109D1884 = 0;
          dword_109D1880 = 0;
          dword_109D1888 = 0;
          if ( &dword_109D1880 )
            goto LABEL_157;
        }
        goto LABEL_370;
      case 3u:
        if ( v215 & 0x40 )
        {
          v220[0] = *(_BYTE *)sub_100210D0(a2, 1);
          sub_10016330(a2, (int)&v222, v220[0], v239);
        }
        LOWORD(v17) = *(_WORD *)sub_100210D0(a2, 2);
        v67 = operator new(0x68u);
        v39 = v67;
        v238 = v67;
        LOBYTE(v321) = 12;
        if ( v67 )
        {
          sub_1001A760((int)v67);
          LOBYTE(v321) = 13;
          sub_1001A0D0((int)(v39 + 14));
          *v39 = &off_1008F998;
          v39[23] = 0;
          *((_WORD *)v39 + 48) = 0;
          *((_BYTE *)v39 + 98) = 0;
          v39[25] = 2;
        }
        else
        {
          v39 = 0;
        }
        v68 = *v39;
        LOBYTE(v321) = 0;
        (*(void (__thiscall **)(void *, char *, _DWORD))(v68 + 96))(v39, v17, 0);
        *((_BYTE *)v39 + 98) = 0;
        v217 = (void *)(signed __int16)v17;
        v69 = (_WORD *)sub_100210D0(a2, 4 * (signed __int16)v17);
        v70 = 0;
        if ( (signed __int16)v17 > 0 )
        {
          do
          {
            v71 = *v69;
            v72 = v69 + 1;
            *(_DWORD *)(v39[23] + 8 * v70) = v71;
            LOWORD(v71) = *v72;
            v69 = v72 + 1;
            *(_DWORD *)(v39[23] + 8 * v70++ + 4) = (signed __int16)v71;
          }
          while ( v70 < (signed int)v217 );
        }
        *((_BYTE *)v39 + 40) = v222;
        v39[11] = HIWORD(v222);
        v73 = v223 & 0x7F;
        v39[12] = v73;
        if ( v73 == 6 )
          v39[12] = 0;
        *((_BYTE *)v39 + 52) = v223 >> 7;
        v39[9] = (v227 & 0xF) + 1;
        v42 = v39[12];
        if ( v42 <= 255 )
        {
          v43 = dword_109D1830;
          if ( byte_109D1834 )
            goto LABEL_124;
          v74 = *(_DWORD *)(dword_109D1830 + 4 * v42);
          if ( !v74 || *(_BYTE *)(v74 + 13) != 3 )
            goto LABEL_124;
        }
        goto LABEL_125;
      case 0x15u:
      case 0x17u:
      case 0x19u:
        if ( v215 & 0x40 )
        {
          v220[0] = *(_BYTE *)sub_100210D0(a2, 1);
          sub_10016330(a2, (int)&v222, v220[0], v239);
        }
        if ( (_BYTE)v218 == 21 )
          v237 = 0;
        else
          v237 = ((_BYTE)v218 != 23) + 1;
        LOWORD(v17) = *(_WORD *)sub_100210D0(a2, 2);
        v75 = operator new(0x6Cu);
        v39 = v75;
        v238 = v75;
        LOBYTE(v321) = 14;
        if ( v75 )
        {
          sub_1001A7B0((int)v75);
          v39[23] = 0;
          *((_WORD *)v39 + 48) = 0;
          *((_BYTE *)v39 + 98) = 0;
          v39[25] = 2;
          *v39 = &off_1008F934;
          v39[26] = 0;
        }
        else
        {
          v39 = 0;
        }
        v76 = *v39;
        LOBYTE(v321) = 0;
        (*(void (__thiscall **)(void *, char *, _DWORD))(v76 + 96))(v39, v17, 0);
        v77 = v237;
        *((_BYTE *)v39 + 98) = 0;
        v17 = (char *)(signed __int16)v17;
        v39[26] = v77;
        v217 = v17;
        v78 = (_WORD *)sub_100210D0(a2, 4 * (signed __int16)v17);
        v79 = 0;
        if ( (signed __int16)v17 > 0 )
        {
          do
          {
            v80 = *v78;
            v81 = v78 + 1;
            *(_DWORD *)(v39[23] + 8 * v79) = v80;
            LOWORD(v80) = *v81;
            v78 = v81 + 1;
            *(_DWORD *)(v39[23] + 8 * v79++ + 4) = (signed __int16)v80;
          }
          while ( v79 < (signed int)v217 );
        }
        *((_BYTE *)v39 + 40) = v222;
        v39[11] = HIWORD(v222);
        v82 = v223 & 0x7F;
        v39[12] = v82;
        if ( v82 == 6 )
          v39[12] = 0;
        *((_BYTE *)v39 + 52) = v223 >> 7;
        v39[9] = (v227 & 0xF) + 1;
        v42 = v39[12];
        if ( v42 > 255 )
          goto LABEL_125;
        v43 = dword_109D1830;
        if ( !byte_109D1834 )
        {
          v83 = *(_DWORD *)(dword_109D1830 + 4 * v42);
          if ( v83 )
          {
            if ( *(_BYTE *)(v83 + 13) == 3 )
              goto LABEL_125;
          }
        }
LABEL_124:
        if ( *(_DWORD *)(v43 + 4 * v42) )
          goto LABEL_375;
LABEL_125:
        dword_109D1884 = 0;
        dword_109D1880 = 0;
        dword_109D1888 = 0;
        v45 = &dword_109D1880 == 0;
        goto LABEL_126;
      case 0x16u:
      case 0x18u:
      case 0x1Au:
        if ( v215 & 0x40 )
        {
          v220[0] = *(_BYTE *)sub_100210D0(a2, 1);
          sub_10016330(a2, (int)&v222, v220[0], v239);
        }
        if ( (_BYTE)v218 == 22 )
          v237 = 0;
        else
          v237 = ((_BYTE)v218 != 24) + 1;
        LOWORD(v17) = *(_WORD *)sub_100210D0(a2, 2);
        v84 = operator new(0x6Cu);
        v39 = v84;
        v238 = v84;
        LOBYTE(v321) = 15;
        if ( v84 )
        {
          sub_1001A7B0((int)v84);
          v39[23] = 0;
          *((_WORD *)v39 + 48) = 0;
          *((_BYTE *)v39 + 98) = 0;
          v39[25] = 2;
          *v39 = &off_1008F934;
          v39[26] = 0;
        }
        else
        {
          v39 = 0;
        }
        v85 = *v39;
        LOBYTE(v321) = 0;
        (*(void (__thiscall **)(void *, char *, _DWORD))(v85 + 96))(v39, v17, 0);
        v86 = v237;
        *((_BYTE *)v39 + 98) = 1;
        v17 = (char *)(signed __int16)v17;
        v39[26] = v86;
        v217 = v17;
        v87 = (_WORD *)sub_100210D0(a2, 4 * (signed __int16)v17);
        v88 = 0;
        if ( (signed __int16)v17 > 0 )
        {
          do
          {
            v89 = *v87;
            v90 = v87 + 1;
            *(_DWORD *)(v39[23] + 8 * v88) = v89;
            LOWORD(v89) = *v90;
            v87 = v90 + 1;
            *(_DWORD *)(v39[23] + 8 * v88++ + 4) = (signed __int16)v89;
          }
          while ( v88 < (signed int)v217 );
        }
        *((_BYTE *)v39 + 40) = v222;
        v39[11] = HIWORD(v222);
        v91 = v223 & 0x7F;
        v39[12] = v91;
        if ( v91 == 6 )
          v39[12] = 0;
        *((_BYTE *)v39 + 52) = v223 >> 7;
        v39[9] = (v227 & 0xF) + 1;
        *((_BYTE *)v39 + 56) = v224;
        v39[15] = (unsigned __int16)v225;
        v39[16] = (signed __int16)v232;
        v39[17] = SHIWORD(v232);
        v39[18] = v233;
        v39[19] = v234;
        v92 = (signed __int16)v235;
        v39[20] = (signed __int16)v235;
        v39[21] = SHIWORD(v235);
        v39[22] = v236;
        LOBYTE(v92) = v227;
        v93 = v39[12];
        v39[25] = ((v92 >> 5) & 1) + 1;
        if ( v93 <= 255 )
        {
          v94 = dword_109D1830;
          if ( byte_109D1834 )
            goto LABEL_256;
          v95 = *(_DWORD *)(dword_109D1830 + 4 * v93);
          if ( !v95 || *(_BYTE *)(v95 + 13) != 3 )
            goto LABEL_256;
        }
        goto LABEL_257;
      case 5u:
        if ( v215 & 0x40 )
        {
          v220[0] = *(_BYTE *)sub_100210D0(a2, 1);
          sub_10016330(a2, (int)&v222, v220[0], v239);
        }
        LOWORD(v281) = *(_WORD *)sub_100210D0(a2, 2);
        HIWORD(v281) = *(_WORD *)sub_100210D0(a2, 2);
        v96 = *(_WORD *)sub_100210D0(a2, 2);
        v282 = v96 + v281;
        v284 = v96 + v281;
        v283 = HIWORD(v281);
        v97 = HIWORD(v281) + v96;
        v285 = v97;
        v286 = v281;
        v287 = v97;
        v98 = operator new(0x68u);
        v238 = v98;
        LOBYTE(v321) = 16;
        if ( v98 )
          v39 = (_DWORD *)sub_10027560((int)v98, 1, 4, &v281);
        else
          v39 = 0;
        LOBYTE(v321) = 0;
        *((_BYTE *)v39 + 40) = v222;
        v39[11] = HIWORD(v222);
        v99 = v223 & 0x7F;
        v39[12] = v99;
        if ( v99 == 6 )
          v39[12] = 0;
        *((_BYTE *)v39 + 52) = v223 >> 7;
        v39[9] = (v227 & 0xF) + 1;
        *((_BYTE *)v39 + 56) = v224;
        v39[15] = (unsigned __int16)v225;
        v39[16] = (signed __int16)v232;
        v39[17] = SHIWORD(v232);
        v39[18] = v233;
        v39[19] = v234;
        v100 = (signed __int16)v235;
        v39[20] = (signed __int16)v235;
        v39[21] = SHIWORD(v235);
        v39[22] = v236;
        LOBYTE(v100) = v227;
        v39[25] = ((v100 >> 5) & 1) + 1;
        v93 = v39[12];
        if ( v93 <= 255 )
        {
          v94 = dword_109D1830;
          if ( byte_109D1834 )
            goto LABEL_256;
          v101 = *(_DWORD *)(dword_109D1830 + 4 * v93);
          if ( !v101 || *(_BYTE *)(v101 + 13) != 3 )
            goto LABEL_256;
        }
        goto LABEL_257;
      case 6u:
        if ( v215 & 0x40 )
        {
          v220[0] = *(_BYTE *)sub_100210D0(a2, 1);
          sub_10016330(a2, (int)&v222, v220[0], v239);
        }
        v289 = *(_WORD *)sub_100210D0(a2, 2);
        v290 = *(_WORD *)sub_100210D0(a2, 2);
        v293 = *(_WORD *)sub_100210D0(a2, 2);
        v102 = *(_WORD *)sub_100210D0(a2, 2);
        v291 = v293;
        v294 = v102;
        v292 = v290;
        v295 = v289;
        v296 = v102;
        v103 = operator new(0x68u);
        v238 = v103;
        LOBYTE(v321) = 17;
        if ( v103 )
          v39 = (_DWORD *)sub_10027560((int)v103, 1, 4, &v289);
        else
          v39 = 0;
        LOBYTE(v321) = 0;
        *((_BYTE *)v39 + 40) = v222;
        v39[11] = HIWORD(v222);
        v104 = v223 & 0x7F;
        v39[12] = v104;
        if ( v104 == 6 )
          v39[12] = 0;
        *((_BYTE *)v39 + 52) = v223 >> 7;
        v39[9] = (v227 & 0xF) + 1;
        *((_BYTE *)v39 + 56) = v224;
        v39[15] = (unsigned __int16)v225;
        v39[16] = (signed __int16)v232;
        v39[17] = SHIWORD(v232);
        v39[18] = v233;
        v39[19] = v234;
        v105 = (signed __int16)v235;
        v39[20] = (signed __int16)v235;
        v39[21] = SHIWORD(v235);
        v39[22] = v236;
        LOBYTE(v105) = v227;
        v39[25] = ((v105 >> 5) & 1) + 1;
        v93 = v39[12];
        if ( v93 <= 255 )
        {
          v94 = dword_109D1830;
          if ( byte_109D1834 )
            goto LABEL_256;
          v106 = *(_DWORD *)(dword_109D1830 + 4 * v93);
          if ( !v106 || *(_BYTE *)(v106 + 13) != 3 )
            goto LABEL_256;
        }
        goto LABEL_257;
      case 8u:
        if ( v215 & 0x40 )
        {
          v220[0] = *(_BYTE *)sub_100210D0(a2, 1);
          sub_10016330(a2, (int)&v222, v220[0], v239);
        }
        v107 = *(_WORD *)sub_100210D0(a2, 2);
        v108 = (_WORD *)sub_100210D0(a2, 2);
        v109 = *v108;
        v312 = *v108;
        v110 = *(_WORD *)sub_100210D0(a2, 2);
        v314 = v110 + v109;
        v313 = v107 + v110;
        v111 = operator new(0x6Cu);
        v39 = v111;
        v238 = v111;
        LOBYTE(v321) = 18;
        if ( v111 )
        {
          sub_1001A760((int)v111);
          *((_BYTE *)v39 + 56) = -1;
          LOBYTE(v321) = 19;
          v39[15] = 0;
          sub_1001A0A0((int)(v39 + 16));
          v112 = v312;
          v113 = v313;
          v114 = v314;
          *v39 = &off_1008F8D4;
          v39[23] = v107;
          v39[24] = v112;
          v39[25] = v113;
          v39[26] = v114;
        }
        else
        {
          v39 = 0;
        }
        LOBYTE(v321) = 0;
        *((_BYTE *)v39 + 40) = v222;
        v39[11] = HIWORD(v222);
        v115 = v223 & 0x7F;
        v39[12] = v115;
        if ( v115 == 6 )
          v39[12] = 0;
        *((_BYTE *)v39 + 52) = v223 >> 7;
        v39[9] = (v227 & 0xF) + 1;
        *((_BYTE *)v39 + 56) = v224;
        v39[15] = (unsigned __int16)v225;
        v39[16] = (signed __int16)v232;
        v39[17] = SHIWORD(v232);
        v39[18] = v233;
        v39[19] = v234;
        v39[20] = (signed __int16)v235;
        v39[21] = SHIWORD(v235);
        v39[22] = v236;
        v116 = v39[12];
        if ( v116 > 255
          || !byte_109D1834 && (v117 = *(_DWORD *)(dword_109D1830 + 4 * v116)) != 0 && *(_BYTE *)(v117 + 13) == 3
          || !*(_DWORD *)(dword_109D1830 + 4 * v116) )
        {
          dword_109D1884 = 0;
          dword_109D1880 = 0;
          dword_109D1888 = 0;
          if ( &dword_109D1880 )
            goto LABEL_157;
        }
        goto LABEL_370;
      case 9u:
        if ( v215 & 0x40 )
        {
          v220[0] = *(_BYTE *)sub_100210D0(a2, 1);
          sub_10016330(a2, (int)&v222, v220[0], v239);
        }
        sub_1003DEC0();
        v118 = *(_WORD *)sub_100210D0(a2, 2);
        v309 = *(_WORD *)sub_100210D0(a2, 2);
        v310 = *(_WORD *)sub_100210D0(a2, 2);
        v311 = *(_WORD *)sub_100210D0(a2, 2);
        v119 = operator new(0x6Cu);
        v39 = v119;
        v238 = v119;
        LOBYTE(v321) = 20;
        if ( v119 )
        {
          sub_1001A680((int)v119);
          LOBYTE(v321) = 21;
          sub_10015540((int)(v39 + 10));
          *v39 = &off_1008F874;
          LOBYTE(v321) = 22;
          sub_1001A0D0((int)(v39 + 14));
          v120 = v309;
          v121 = v310;
          v122 = v311;
          *v39 = &off_1008F8D4;
          v39[23] = v118;
          v39[24] = v120;
          v39[25] = v121;
          v39[26] = v122;
        }
        else
        {
          v39 = 0;
        }
        LOBYTE(v321) = 0;
        *((_BYTE *)v39 + 40) = v222;
        v39[11] = HIWORD(v222);
        v123 = v223 & 0x7F;
        v39[12] = v123;
        if ( v123 == 6 )
          v39[12] = 0;
        *((_BYTE *)v39 + 52) = v223 >> 7;
        v39[9] = (v227 & 0xF) + 1;
        *((_BYTE *)v39 + 56) = v224;
        v39[15] = (unsigned __int16)v225;
        v39[16] = (signed __int16)v232;
        v39[17] = SHIWORD(v232);
        v39[18] = v233;
        v39[19] = v234;
        v39[20] = (signed __int16)v235;
        v39[21] = SHIWORD(v235);
        v39[22] = v236;
        v93 = v39[12];
        if ( v93 > 255 )
          goto LABEL_257;
        v94 = dword_109D1830;
        if ( !byte_109D1834 )
        {
          v124 = *(_DWORD *)(dword_109D1830 + 4 * v93);
          if ( v124 )
          {
            if ( *(_BYTE *)(v124 + 13) == 3 )
              goto LABEL_257;
          }
        }
LABEL_256:
        if ( *(_DWORD *)(v94 + 4 * v93) )
          goto LABEL_370;
LABEL_257:
        dword_109D1884 = 0;
        dword_109D1880 = 0;
        dword_109D1888 = 0;
        if ( &dword_109D1880 )
          goto LABEL_157;
        goto LABEL_370;
      case 0xAu:
      case 0xBu:
      case 0xCu:
        if ( v215 & 0x40 )
        {
          v220[0] = *(_BYTE *)sub_100210D0(a2, 1);
          sub_10016330(a2, (int)&v222, v220[0], v239);
        }
        v125 = *(_WORD *)sub_100210D0(a2, 2);
        v302 = *(_WORD *)sub_100210D0(a2, 2);
        v303 = *(_WORD *)sub_100210D0(a2, 2);
        v304 = *(_WORD *)sub_100210D0(a2, 2);
        v305 = *(_WORD *)sub_100210D0(a2, 2);
        v306 = *(_WORD *)sub_100210D0(a2, 2);
        v307 = *(_WORD *)sub_100210D0(a2, 2);
        v308 = *(_WORD *)sub_100210D0(a2, 2);
        if ( (_BYTE)v218 == 10 )
          v237 = 0;
        else
          v237 = ((_BYTE)v218 != 11) + 1;
        v126 = operator new(0x80u);
        v39 = v126;
        v238 = v126;
        LOBYTE(v321) = 23;
        if ( v126 )
        {
          sub_1001A760((int)v126);
          LOBYTE(v321) = 24;
          sub_1001A0D0((int)(v39 + 14));
          v127 = v302;
          v128 = v303;
          v129 = v304;
          v39[23] = v125;
          v39[24] = v127;
          v130 = v305;
          v39[25] = v128;
          v131 = v306;
          v39[26] = v129;
          v132 = v307;
          *v39 = &off_1008F814;
          v39[27] = v130;
          v133 = v308;
          v39[28] = v131;
          v134 = v237;
          v39[29] = v132;
          v39[30] = v133;
          v39[31] = v134;
        }
        else
        {
          v39 = 0;
        }
        LOBYTE(v321) = 0;
        *((_BYTE *)v39 + 40) = v222;
        v39[11] = HIWORD(v222);
        v135 = v223 & 0x7F;
        v39[12] = v135;
        if ( v135 == 6 )
          v39[12] = 0;
        *((_BYTE *)v39 + 52) = v223 >> 7;
        v39[9] = (v227 & 0xF) + 1;
        *((_BYTE *)v39 + 56) = v224;
        v39[15] = (unsigned __int16)v225;
        v39[16] = (signed __int16)v232;
        v39[17] = SHIWORD(v232);
        v39[18] = v233;
        v39[19] = v234;
        v39[20] = (signed __int16)v235;
        v39[21] = SHIWORD(v235);
        v39[22] = v236;
        v136 = v39[12];
        if ( v136 <= 255 )
        {
          if ( byte_109D1834 || (v137 = *(_DWORD *)(dword_109D1830 + 4 * v136)) == 0 || *(_BYTE *)(v137 + 13) != 3 )
          {
            if ( *(_DWORD *)(dword_109D1830 + 4 * v136) )
              goto LABEL_375;
          }
        }
        dword_109D1884 = 0;
        dword_109D1880 = 0;
        dword_109D1888 = 0;
        v45 = &dword_109D1880 == 0;
LABEL_126:
        if ( v45 )
          goto LABEL_375;
        v46 = *(_DWORD *)(a2 + 8) + *(_DWORD *)(a2 + 16);
        v47 = -28;
        goto LABEL_374;
      case 0xDu:
        if ( v215 & 0x40 )
        {
          v210 = *(_BYTE *)sub_100210D0(a2, 1);
          if ( v210 & 0x80 )
            v228 = *(_BYTE *)sub_100210D0(a2, 1);
          if ( (*(_BYTE *)(a4 + 3) & 0xFu) < 3 )
          {
            if ( v210 & 0x40 )
              HIWORD(v229) = *(_BYTE *)sub_100210D0(a2, 1);
            if ( v210 & 0x20 )
              LOWORD(v229) = *(_BYTE *)sub_100210D0(a2, 1);
          }
          else
          {
            if ( v210 & 0x40 )
              HIWORD(v229) = *(_WORD *)sub_100210D0(a2, 2);
            if ( v210 & 0x20 )
              LOWORD(v229) = *(_WORD *)sub_100210D0(a2, 2);
          }
          if ( v210 & 0x10 )
            LOBYTE(v230) = *(_BYTE *)sub_100210D0(a2, 1);
          if ( v210 & 8 )
            BYTE1(v230) = *(_BYTE *)sub_100210D0(a2, 1);
          if ( v210 & 4 )
            BYTE2(v230) = *(_BYTE *)sub_100210D0(a2, 1);
          if ( v210 & 2 )
            v231 = *(_WORD *)sub_100210D0(a2, 2);
          if ( v210 & 1 )
            BYTE3(v230) = *(_BYTE *)sub_100210D0(a2, 1);
        }
        v138 = *(_WORD *)sub_100210D0(a2, 2);
        v315 = *(_WORD *)sub_100210D0(a2, 2);
        LOBYTE(v274) = *(_BYTE *)sub_100210D0(a2, 1);
        v39 = operator new(0x88u);
        v238 = v39;
        LOBYTE(v321) = 25;
        if ( !v39 )
          goto LABEL_303;
        v140 = (const char *)sub_100210D0(a2, (unsigned __int8)v274);
        v39[4] = 0;
        v39[3] = 0;
        v39[2] = 0;
        v39[1] = 0;
        v39[5] = 0;
        v39[7] = -1;
        *((_WORD *)v39 + 12) = 0;
        *((_BYTE *)v39 + 32) = 0;
        v39[9] = 13;
        v39[25] = 0;
        v39[26] = 0;
        *((_BYTE *)v39 + 108) = 0;
        *((_BYTE *)v39 + 109) = 0;
        *((_BYTE *)v39 + 110) = 0;
        *((_BYTE *)v39 + 111) = 0;
        v39[28] = 0;
        *v39 = &off_1008F7B4;
        v39[10] = 0;
        v39[11] = 0;
        v39[12] = 0;
        v39[13] = 0;
        v39[14] = 0;
        v39[15] = 0;
        v141 = (unsigned __int8)v274;
        v39[16] = 0;
        v39[17] = 0;
        v39[18] = 0;
        v39[19] = 0;
        v142 = v315;
        v39[20] = 0;
        v39[21] = 0;
        v39[22] = 0;
        *((_WORD *)v39 + 48) = 0;
        v39[23] = 0;
        v39[29] = 0;
        *((_BYTE *)v39 + 120) = 0;
        v39[31] = 1;
        v39[32] = v138;
        LOBYTE(v321) = 26;
        v39[33] = v142;
        v143 = sub_1001DBA0((int)v39, v140, v141);
        if ( v143 != 1 )
        {
          v217 = &dword_109D1880;
          v139 = 0;
          dword_109D1884 = 0;
          dword_109D1880 = 0;
          dword_109D1888 = 0;
          LOBYTE(v321) = 27;
          if ( &dword_109D1880 )
          {
            sub_10015520((int)&dword_109D1880, v143, 12, 0);
            v139 = dword_109D1880;
          }
          if ( v139 < 0 )
            unknown_libname_4(v139);
        }
        goto LABEL_304;
      case 0xEu:
        if ( v215 & 0x40 )
        {
          v211 = *(_BYTE *)sub_100210D0(a2, 1);
          if ( v211 & 0x80 )
            v228 = *(_BYTE *)sub_100210D0(a2, 1);
          if ( (*(_BYTE *)(a4 + 3) & 0xFu) < 3 )
          {
            if ( v211 & 0x40 )
              HIWORD(v229) = *(_BYTE *)sub_100210D0(a2, 1);
            if ( v211 & 0x20 )
              LOWORD(v229) = *(_BYTE *)sub_100210D0(a2, 1);
          }
          else
          {
            if ( v211 & 0x40 )
              HIWORD(v229) = *(_WORD *)sub_100210D0(a2, 2);
            if ( v211 & 0x20 )
              LOWORD(v229) = *(_WORD *)sub_100210D0(a2, 2);
          }
          if ( v211 & 0x10 )
            LOBYTE(v230) = *(_BYTE *)sub_100210D0(a2, 1);
          if ( v211 & 8 )
            BYTE1(v230) = *(_BYTE *)sub_100210D0(a2, 1);
          if ( v211 & 4 )
            BYTE2(v230) = *(_BYTE *)sub_100210D0(a2, 1);
          if ( v211 & 2 )
            v231 = *(_WORD *)sub_100210D0(a2, 2);
          if ( v211 & 1 )
            BYTE3(v230) = *(_BYTE *)sub_100210D0(a2, 1);
        }
        LOWORD(v144) = *(_WORD *)sub_100210D0(a2, 2);
        v241 = v144;
        unknown_libname_5(&v241, 1);
        v300 = (signed __int16)v241;
        LOWORD(v145) = *(_WORD *)sub_100210D0(a2, 2);
        v241 = v145;
        unknown_libname_5(&v241, 1);
        v301 = (signed __int16)v241;
        LOWORD(v146) = *(_WORD *)sub_100210D0(a2, 2);
        v241 = v146;
        v39 = operator new(0x88u);
        v238 = v39;
        LOBYTE(v321) = 28;
        if ( v39 )
        {
          v147 = v241;
          v148 = (const char *)sub_100210D0(a2, (signed __int16)v241);
          v39[4] = 0;
          v39[3] = 0;
          v39[2] = 0;
          v39[1] = 0;
          v39[5] = 0;
          v39[7] = -1;
          *((_WORD *)v39 + 12) = 0;
          *((_BYTE *)v39 + 32) = 0;
          v39[9] = 13;
          v39[25] = 0;
          v39[26] = 0;
          *((_BYTE *)v39 + 108) = 0;
          *((_BYTE *)v39 + 109) = 0;
          *((_BYTE *)v39 + 110) = 0;
          *((_BYTE *)v39 + 111) = 0;
          v39[28] = 0;
          *v39 = &off_1008F7B4;
          v39[10] = 0;
          v39[11] = 0;
          v39[12] = 0;
          v39[13] = 0;
          v39[14] = 0;
          v39[15] = 0;
          v39[16] = 0;
          v39[17] = 0;
          v39[18] = 0;
          v149 = v300;
          v39[19] = 0;
          v39[20] = 0;
          v150 = v301;
          v39[21] = 0;
          v39[22] = 0;
          *((_WORD *)v39 + 48) = 0;
          v39[23] = 0;
          v39[29] = 0;
          *((_BYTE *)v39 + 120) = 0;
          v39[31] = 1;
          v39[32] = v149;
          LOBYTE(v321) = 29;
          v39[33] = v150;
          v151 = sub_1001DBA0((int)v39, v148, v147);
          if ( v151 != 1 )
          {
            v217 = &dword_109D1880;
            v139 = 0;
            dword_109D1884 = 0;
            dword_109D1880 = 0;
            dword_109D1888 = 0;
            LOBYTE(v321) = 30;
            if ( &dword_109D1880 )
            {
              sub_10015520((int)&dword_109D1880, v151, 12, 0);
              v139 = dword_109D1880;
            }
            if ( v139 < 0 )
              unknown_libname_4(v139);
          }
        }
        else
        {
LABEL_303:
          v39 = 0;
        }
LABEL_304:
        LOBYTE(v321) = 0;
        *((_BYTE *)v39 + 120) = v228;
        LOBYTE(v139) = BYTE3(v230);
        v39[31] = (((unsigned int)v139 >> 4) & 1) + 1;
        v39[9] = (BYTE3(v230) & 0xF) + 1;
        if ( (*(_BYTE *)(a4 + 3) & 0xFu) < 3 )
        {
          v39[25] = SHIWORD(v229);
          v39[26] = (unsigned __int16)v229;
          *((_BYTE *)v39 + 108) = ((unsigned __int8)v230 >> 4) & 1;
          *((_BYTE *)v39 + 109) = ((unsigned __int8)v230 >> 5) & 1;
          *((_BYTE *)v39 + 110) = ((unsigned __int8)v230 >> 6) & 1;
          *((_BYTE *)v39 + 111) = BYTE2(v230);
          v39[28] = v231;
          v39[29] = v230 & 0xF | ((unsigned int)(unsigned __int8)v230 >> 3) & 0x10;
        }
        else
        {
          v39[25] = SHIWORD(v229);
          v39[26] = (unsigned __int16)v229;
          *((_BYTE *)v39 + 108) = ((unsigned __int8)v230 >> 5) & 1;
          *((_BYTE *)v39 + 109) = ((unsigned __int8)v230 >> 6) & 1;
          *((_BYTE *)v39 + 110) = (unsigned __int8)v230 >> 7;
          *((_BYTE *)v39 + 111) = BYTE2(v230);
          v39[28] = v231;
          v39[29] = v230 & 0x1F;
        }
        if ( *(_DWORD *)(dword_109D182C + 4 * *((_BYTE *)v39 + 111)) )
          goto LABEL_375;
        dword_109D1884 = 0;
        dword_109D1880 = 0;
        dword_109D1888 = 0;
        if ( !&dword_109D1880 )
          goto LABEL_375;
        v46 = *(_DWORD *)(a2 + 8) + *(_DWORD *)(a2 + 16);
        v47 = -26;
        goto LABEL_374;
      case 0x14u:
        if ( v215 & 0x40 )
        {
          v220[0] = *(_BYTE *)sub_100210D0(a2, 1);
          sub_10016330(a2, (int)&v222, v220[0], v239);
        }
        LOWORD(v237) = *(_WORD *)sub_100210D0(a2, 2);
        v152 = operator new(0x98u);
        v39 = v152;
        v238 = v152;
        LOBYTE(v321) = 31;
        if ( v152 )
        {
          sub_1001A680((int)v152);
          LOBYTE(v321) = 32;
          sub_10015540((int)(v39 + 10));
          *v39 = &off_1008F874;
          LOBYTE(v321) = 33;
          sub_1001A0D0((int)(v39 + 14));
          *v39 = &off_1008F754;
          LOBYTE(v321) = 34;
          v240 = v39 + 25;
          v217 = 0;
          sub_10020C80(v39 + 25, 0, &v217, &v279);
          LOBYTE(v321) = 35;
          sub_10020D10((int)(v39 + 25), 5u);
          *v39 = &off_1008F6F4;
          v39[29] = 0;
          *((_BYTE *)v39 + 120) = 0;
          v39[31] = 0;
          v39[11] = 0;
          v39[34] = 0;
          v39[35] = 0;
          v39[32] = 0;
          v39[33] = 0;
          v39[36] = 0;
          v221 = (int)v39;
        }
        else
        {
          v221 = 0;
          v39 = 0;
        }
        LOBYTE(v321) = 0;
        v39[9] = (v227 & 0xF) + 1;
        *((_BYTE *)v39 + 56) = v224;
        v39[15] = (unsigned __int16)v225;
        v39[16] = (signed __int16)v232;
        v39[17] = SHIWORD(v232);
        v39[18] = v233;
        v39[19] = v234;
        v39[20] = (signed __int16)v235;
        v39[21] = SHIWORD(v235);
        v39[22] = v236;
        v39[23] = BYTE2(v222);
        v39[24] = BYTE3(v222);
        if ( (_BYTE)v222 != -1 && HIWORD(v222) )
        {
          v39[11] = 1;
          *((_BYTE *)v39 + 40) = v222;
        }
        else
        {
          v39[11] = 0;
          *((_BYTE *)v39 + 40) = 0;
        }
        if ( (signed __int16)v237 > 0 )
        {
          v237 = (signed __int16)v237;
          do
          {
            v214 = *(_BYTE *)sub_100210D0(a2, 1);
            if ( v214 & 0x80 )
            {
              LOBYTE(v276) = 1;
              v153 = 2;
            }
            else
            {
              LOBYTE(v276) = 0;
              v153 = *(_WORD *)sub_100210D0(a2, 2);
            }
            v217 = (void *)(v214 & 0xF);
            v154 = ((v214 & 0x40) != 0) + 1;
            v155 = operator new(0x18u);
            v238 = v155;
            LOBYTE(v321) = 36;
            if ( v155 )
              v156 = sub_10027800((int)v155, v153, 0, (int)v217, v276, v154);
            else
              v156 = 0;
            LOBYTE(v321) = 0;
            v217 = (void *)v153;
            v157 = (_WORD *)sub_100210D0(a2, 4 * v153);
            v158 = 0;
            if ( v153 > 0 )
            {
              do
              {
                v159 = *v157;
                v160 = v157 + 1;
                *(_DWORD *)(*(_DWORD *)(v156 + 4) + 8 * v158) = v159;
                LOWORD(v159) = *v160;
                v157 = v160 + 1;
                *(_DWORD *)(*(_DWORD *)(v156 + 4) + 8 * v158++ + 4) = (signed __int16)v159;
              }
              while ( v158 < (signed int)v217 );
            }
            if ( (_BYTE)v276 )
            {
              v161 = *(_DWORD *)(v156 + 4);
              v162 = *(_DWORD *)(v161 + 8);
              if ( *(_DWORD *)v161 > v162 )
              {
                v163 = v162 ^ *(_DWORD *)v161;
                *(_DWORD *)v161 = v163;
                v164 = v163 ^ *(_DWORD *)(v161 + 8);
                *(_DWORD *)(v161 + 8) = v164;
                *(_DWORD *)v161 ^= v164;
              }
              v165 = *(_DWORD *)(v156 + 4);
              v166 = *(_DWORD *)(v165 + 4);
              v167 = *(_DWORD *)(v165 + 12);
              if ( v166 > v167 )
              {
                v168 = v167 ^ v166;
                *(_DWORD *)(v165 + 4) = v168;
                v169 = v168 ^ *(_DWORD *)(v165 + 12);
                *(_DWORD *)(v165 + 12) = v169;
                *(_DWORD *)(v165 + 4) ^= v169;
              }
            }
            sub_1001DCC0(v221, v156);
            --v237;
          }
          while ( v237 );
          v39 = (_DWORD *)v221;
        }
        v170 = v39[12];
        if ( v170 > 255
          || !byte_109D1834 && (v171 = *(_DWORD *)(dword_109D1830 + 4 * v170)) != 0 && *(_BYTE *)(v171 + 13) == 3
          || !*(_DWORD *)(dword_109D1830 + 4 * v170) )
        {
          dword_109D1884 = 0;
          dword_109D1880 = 0;
          dword_109D1888 = 0;
          if ( &dword_109D1880 )
          {
LABEL_157:
            v66 = *(_DWORD *)(a2 + 8) + *(_DWORD *)(a2 + 16);
            dword_109D1880 = -28;
            LOWORD(dword_109D1884) = (unsigned __int8)v218;
            dword_109D1888 = v66;
            unknown_libname_4(-28);
          }
        }
LABEL_370:
        if ( v39[15] == 15
          && v39[16] > 3
          && (dword_109D1884 = 0, dword_109D1880 = 0, dword_109D1888 = 0, &dword_109D1880) )
        {
          v46 = *(_DWORD *)(a2 + 8) + *(_DWORD *)(a2 + 16);
          v47 = -6;
LABEL_374:
          dword_109D1880 = v47;
          LOWORD(dword_109D1884) = (unsigned __int8)v218;
          dword_109D1888 = v46;
          unknown_libname_4(v47);
          v221 = (int)v39;
        }
        else
        {
LABEL_375:
          v221 = (int)v39;
        }
        goto LABEL_413;
      case 0x11u:
        v214 = *(_BYTE *)sub_100210D0(a2, 1);
        if ( v214 > 3u )
        {
          dword_109D1884 = 0;
          dword_109D1880 = 0;
          dword_109D1888 = 0;
          if ( &dword_109D1880 )
          {
            v172 = *(_DWORD *)(a2 + 8) + *(_DWORD *)(a2 + 16);
            dword_109D1880 = -12;
            LOWORD(dword_109D1884) = (unsigned __int8)v218;
            dword_109D1888 = v172;
            unknown_libname_4(-12);
          }
        }
        v173 = operator new(0x174u);
        if ( v173 )
        {
          v173[4] = 0;
          v173[3] = 0;
          v173[2] = 0;
          v173[1] = 0;
          v173[5] = 0;
          v173[7] = -1;
          *((_WORD *)v173 + 12) = 0;
          *((_BYTE *)v173 + 32) = 0;
          v173[9] = 13;
          v173[18] = 0;
          v173[19] = 0;
          v173[23] = 0;
          v173[20] = 0;
          v173[21] = 0;
          v173[22] = 0;
          v173[24] = -1;
          v173[25] = 0;
          *v173 = &off_1008F694;
          v173[11] = 0;
          v173[10] = 0;
          v173[13] = 0;
          v173[12] = 0;
          v173[15] = 0;
          v173[14] = 0;
          v173[17] = 0;
          v173[16] = 0;
          *((_BYTE *)v173 + 108) = 0;
          v173[91] = -1;
          v173[26] = 0;
          *((_BYTE *)v173 + 368) = 0;
          v174 = (int)v173;
        }
        else
        {
          v174 = 0;
        }
        v221 = v174;
        if ( v214 & 1 )
          v237 = *(_DWORD *)sub_100210D0(a2, 4);
        else
          v237 = 0xFFFFFF;
        if ( v214 & 2 )
          LOBYTE(v275) = *(_BYTE *)sub_100210D0(a2, 1);
        else
          LOBYTE(v275) = 14;
        v175 = (_DWORD *)(v174 + 44);
        v176 = 4;
        do
        {
          *(v175 - 1) = *(_WORD *)sub_100210D0(a2, 2);
          *v175 = *(_WORD *)sub_100210D0(a2, 2);
          v175 += 2;
          --v176;
        }
        while ( v176 );
        if ( (_BYTE)v275 == 14 )
        {
          v177 = sub_100210D0(a2, 14);
          v316 = *(_DWORD *)v177;
          v317 = *(_DWORD *)(v177 + 4);
          v318 = *(_DWORD *)(v177 + 8);
          v319 = *(_WORD *)(v177 + 12);
          LOBYTE(v319) = 0;
        }
        else
        {
          v217 = (void *)(unsigned __int8)v275;
          v178 = (const void *)sub_100210D0(a2, (unsigned __int8)v275);
          v179 = v217;
          qmemcpy(&v316, v178, (unsigned int)v217);
          v179[(_DWORD)&v316] = 0;
        }
        strcpy((char *)(v221 + 108), (const char *)&v316);
        v180 = sub_1003E320(a1, (int)&v277);
        if ( v180 != 1 )
        {
          v181 = 0;
          dword_109D1884 = 0;
          dword_109D1880 = 0;
          dword_109D1888 = 0;
          if ( &dword_109D1880 )
          {
            v182 = *(_DWORD *)(a2 + 8) + *(_DWORD *)(a2 + 16);
            v181 = v180;
            dword_109D1880 = v180;
            LOWORD(dword_109D1884) = (unsigned __int8)v218;
            dword_109D1888 = v182;
          }
          if ( v181 < 0 )
            unknown_libname_4(v181);
        }
        v183 = operator new((unsigned __int8)v275 + v277 + 1);
        v184 = v277;
        v240 = v183;
        if ( v277 )
        {
          strncpy((char *)v183, a1, v277);
          v184 = v277;
        }
        v185 = (char *)v240;
        *((_BYTE *)v240 + v184) = 0;
        strcat(v185, (const char *)&v316);
        v186 = operator new(0x3FCu);
        v187 = (int)v186;
        v217 = v186;
        v238 = (_DWORD *)(a3 + 376);
        v188 = sub_1001E960(a3 + 376, (int)v186, 255);
        v189 = v188;
        v280 = v188;
        v190 = sub_10027E80(v221, (char *)v240, v187, &v280, v237);
        if ( v190 != 1 )
        {
          v191 = 0;
          dword_109D1884 = 0;
          dword_109D1880 = 0;
          dword_109D1888 = 0;
          if ( &dword_109D1880 )
          {
            v192 = *(_DWORD *)(a2 + 8) + *(_DWORD *)(a2 + 16);
            v191 = v190;
            dword_109D1880 = v190;
            LOWORD(dword_109D1884) = (unsigned __int8)v218;
            dword_109D1888 = v192;
          }
          if ( v191 < 0 )
            unknown_libname_4(v191);
        }
        *(_BYTE *)(v221 + 368) = 1;
        if ( v189 != v280 )
        {
          v237 = 0;
          if ( v280 - v189 > 0 )
          {
            v193 = (char *)v217 + 4 * v189 + 1;
            do
            {
              HIBYTE(v194) = v193[1];
              LOBYTE(v194) = *v193;
              sub_1001E800((int)v238, (unsigned __int8)*(v193 - 1) | (v194 << 8));
              v193 += 4;
              ++v237;
            }
            while ( v237 < v280 - v189 );
          }
        }
        j__free(v217);
        j__free(v240);
        break;
      default:
        dword_109D1884 = 0;
        dword_109D1880 = 0;
        dword_109D1888 = 0;
        if ( &dword_109D1880 )
        {
          v195 = *(_DWORD *)(a2 + 8) + *(_DWORD *)(a2 + 16);
          dword_109D1880 = -8;
          LOWORD(dword_109D1884) = (unsigned __int8)v218;
          dword_109D1888 = v195;
          unknown_libname_4(-8);
        }
        break;
    }
    v39 = (_DWORD *)v221;
LABEL_413:
    if ( !v39 )
    {
      dword_109D1884 = 0;
      dword_109D1880 = 0;
      dword_109D1888 = 0;
      if ( &dword_109D1880 )
      {
        v196 = *(_DWORD *)(a2 + 8) + *(_DWORD *)(a2 + 16);
        dword_109D1880 = -1;
        LOWORD(dword_109D1884) = (unsigned __int8)v218;
        dword_109D1888 = v196;
        unknown_libname_4(-1);
      }
    }
    sub_1001DFF0(v242, (int)v39);
    *((_BYTE *)v39 + 32) = v216;
    if ( v215 & 0x80 )
      *((_BYTE *)v39 + 24) |= 0x80u;
    if ( v243 == 1 )
    {
      if ( v272 )
      {
        v197 = (v268 - 56 - v266) / 56;
        if ( v197 < 0 )
          v198 = -((72 - v197) / 0x49u);
        else
          v198 = v197 / 0x49u;
        v199 = (void **)v269;
        if ( v198 )
          v200 = v269[v198] + 56 * (v197 - 73 * v198);
        else
          v200 = v268 - 56;
        v242 = *(_DWORD *)v200;
        v243 = *(_WORD *)(v200 + 4);
        v244 = *(_BYTE *)(v200 + 8);
        v245 = *(_WORD *)(v200 + 10);
        v246 = *(_BYTE *)(v200 + 12);
        v247 = *(_BYTE *)(v200 + 13);
        v248 = *(_WORD *)(v200 + 14);
        v249 = *(_BYTE *)(v200 + 16);
        v250 = *(_DWORD *)(v200 + 20);
        v251 = *(_BYTE *)(v200 + 24);
        v252 = *(_BYTE *)(v200 + 25);
        LOWORD(v253) = *(_WORD *)(v200 + 26);
        HIWORD(v253) = *(_WORD *)(v200 + 28);
        LOBYTE(v254) = *(_BYTE *)(v200 + 30);
        BYTE1(v254) = *(_BYTE *)(v200 + 31);
        BYTE2(v254) = *(_BYTE *)(v200 + 32);
        v255 = *(_WORD *)(v200 + 34);
        BYTE3(v254) = *(_BYTE *)(v200 + 33);
        LOWORD(v256) = *(_WORD *)(v200 + 36);
        HIWORD(v256) = *(_WORD *)(v200 + 38);
        v257 = *(_WORD *)(v200 + 40);
        v258 = *(_DWORD *)(v200 + 44);
        LOWORD(v259) = *(_WORD *)(v200 + 48);
        HIWORD(v259) = *(_WORD *)(v200 + 50);
        v260 = *(_DWORD *)(v200 + 52);
        if ( v268 == v266 )
        {
          v201 = (void **)v269;
          --v269;
          j__free(*v201);
          if ( v272 )
          {
            v199 = (void **)v269;
            v266 = *v269;
            v267 = v266 + 4088;
            v268 = v266 + 4088;
          }
          else
          {
            if ( (int *)v265 == v269 )
              j__free(*v265);
            v263 = 0;
            v267 = 0;
            v262 = 0;
            v264 = 0;
            v265 = 0;
            v266 = 0;
            v268 = 0;
            v269 = 0;
            j__free(v270);
            v199 = (void **)v269;
          }
        }
        if ( v272 )
          v268 -= 56;
        if ( !--v272 )
        {
          v269 = (int *)(v199 - 1);
          j__free(*v199);
          if ( v272 )
          {
            v266 = *v269;
            v267 = v266 + 4088;
            v268 = v266 + 4088;
          }
          else
          {
            if ( (int *)v265 == v269 )
              j__free(*v265);
            v263 = 0;
            v267 = 0;
            v262 = 0;
            v264 = 0;
            v265 = 0;
            v266 = 0;
            v268 = 0;
            v269 = 0;
            j__free(v270);
          }
        }
      }
    }
    else
    {
      --v243;
    }
  }
  while ( *(_DWORD *)(a2 + 16) < *(_DWORD *)(a2 + 12) );
  v202 = *(_DWORD *)(a3 + 388);
  if ( v202 )
    v203 = (*(_DWORD *)(a3 + 392) - v202) >> 2;
  else
    v203 = 0;
  *(_DWORD *)(a3 + 400) = v203;
  if ( v272 )
  {
    v204 = v264;
    v205 = v265;
    do
    {
      v204 += 56;
      v45 = v272 == 1;
      v264 = v204;
      --v272;
      if ( v45 || v204 == v263 )
      {
        v265 = v205 + 1;
        j__free(*v205);
        if ( v272 )
        {
          v205 = v265;
          v262 = *v265;
          v204 = (char *)v262;
          v263 = (char *)v262 + 4088;
        }
        else
        {
          v263 = 0;
          v267 = 0;
          v262 = 0;
          v264 = 0;
          v265 = 0;
          v266 = 0;
          v268 = 0;
          v269 = 0;
          j__free(v270);
          v204 = v264;
          v205 = v265;
        }
      }
    }
    while ( v272 );
  }
  return 1;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 10040270: using guessed type int __cdecl unknown_libname_5(_DWORD, _DWORD);
// 1008F694: using guessed type int (__thiscall *off_1008F694)(void *, char);
// 1008F6F4: using guessed type int (__thiscall *off_1008F6F4)(void *, char);
// 1008F754: using guessed type int (__thiscall *off_1008F754)(void *, char);
// 1008F7B4: using guessed type int (__thiscall *off_1008F7B4)(void *, char);
// 1008F814: using guessed type int (__thiscall *off_1008F814)(void *, char);
// 1008F874: using guessed type int (__thiscall *off_1008F874)(void *, char);
// 1008F8D4: using guessed type int (__thiscall *off_1008F8D4)(void *, char);
// 1008F934: using guessed type int (__thiscall *off_1008F934)(void *, char);
// 1008F998: using guessed type int (__thiscall *off_1008F998)(void *, char);
// 1008F9FC: using guessed type int (__thiscall *off_1008F9FC)(void *, char);
// 109D182C: using guessed type int dword_109D182C;
// 109D1830: using guessed type int dword_109D1830;
// 109D1834: using guessed type char byte_109D1834;
// 109D1880: using guessed type int dword_109D1880;
// 109D1884: using guessed type int dword_109D1884;
// 109D1888: using guessed type int dword_109D1888;
// 10016720: using guessed type char var_10C[256];

//----- (10019980) --------------------------------------------------------
_DWORD *__cdecl sub_10019980(char *a1)
{
  char *v1; // eax@1
  char *v2; // esi@1
  _DWORD *v3; // ebx@1
  _DWORD *v4; // eax@1
  char *v5; // edi@1
  _DWORD *v6; // eax@4
  int v7; // ecx@7
  int v11; // edx@9
  int v12; // ebp@9
  int v13; // esi@10
  unsigned __int16 v14; // ax@11
  int v15; // eax@11
  unsigned int v16; // eax@16
  int v18; // [sp+10h] [bp-18h]@1
  _DWORD *v19; // [sp+14h] [bp-14h]@1
  char *v20; // [sp+18h] [bp-10h]@1
  int v21; // [sp+24h] [bp-4h]@1
  char *v22; // [sp+2Ch] [bp+4h]@2

  v1 = (char *)operator new(0x3FCu);
  v2 = v1;
  v3 = 0;
  v20 = v1;
  v18 = 0;
  v4 = operator new(0x174u);
  v19 = v4;
  v5 = a1;
  v21 = 0;
  if ( v4 )
    v22 = (char *)sub_10027CD0((int)v4, 0, 0, 0, 0, a1, (int)v2, &v18, -1);
  else
    v22 = 0;
  v21 = -1;
  v6 = operator new(0x1E8u);
  v19 = v6;
  v21 = 1;
  if ( v6 )
    v3 = sub_10027BA0(v6, v5, 100);
  v21 = -1;
  if ( v18 )
  {
    v7 = v3[97];
    v11 = v3[98];
    v3[98] = v7;
    v12 = 0;
    v19 = (_DWORD *)v11;
    if ( v18 > 0 )
    {
      v13 = (int)(v2 + 1);
      do
      {
        HIBYTE(v14) = *(_BYTE *)(v13 + 1);
        LOBYTE(v14) = *(_BYTE *)v13;
        v19 = (_DWORD *)(*(_BYTE *)(v13 - 1) | (v14 << 8));
        v15 = v3[97];
        if ( !v15 || ((v3[98] - v15) & 0xFFFFFFFC) != 1016 )
          sub_1001AE00((int)(v3 + 96), (_DWORD *)v3[98], 1u, &v19);
        ++v12;
        v13 += 4;
      }
      while ( v12 < v18 );
      v2 = v20;
    }
  }
  j__free(v2);
  sub_1001DFF0((int)v3, (int)v22);
  v16 = (*(int (__thiscall **)(_DWORD *))(*v3 + 60))(v3);
  sub_10016130((int)&dword_109D17F0, v16);
  return v3;
}
// 109D17F0: using guessed type int dword_109D17F0;

//----- (10019B00) --------------------------------------------------------
_DWORD *__cdecl sub_10019B00(char *a1, int a2, int a3, int a4)
{
  int v4; // eax@1
  signed int v5; // esi@4
  int v6; // esi@5
  size_t v7; // ecx@13
  size_t v8; // esi@13
  int v9; // ebp@15
  int v10; // edi@15
  _BYTE *v11; // eax@16
  int v12; // esi@18
  _BYTE *v13; // eax@18
  int v14; // esi@18
  int v15; // ebx@21
  int v16; // edi@21
  int v17; // eax@29
  int v18; // ebp@29
  int v19; // eax@30
  int v20; // eax@33
  int v21; // edi@36
  int v22; // eax@37
  size_t v23; // edi@42
  _DWORD *v24; // eax@43
  _DWORD *v25; // esi@44
  int v26; // edi@47
  int v27; // edi@50
  signed int v28; // edi@55
  unsigned int v29; // eax@60
  int v30; // edi@60
  int v32; // [sp+10h] [bp-48h]@1
  size_t v33; // [sp+14h] [bp-44h]@4
  int v34; // [sp+18h] [bp-40h]@6
  unsigned __int16 v35; // [sp+1Ch] [bp-3Ch]@21
  char v36[4]; // [sp+20h] [bp-38h]@21
  int v37; // [sp+24h] [bp-34h]@21
  char v38; // [sp+28h] [bp-30h]@21
  int v39; // [sp+2Ch] [bp-2Ch]@1
  int v40; // [sp+54h] [bp-4h]@1

  sub_10020FC0((int)&v39);
  v40 = 0;
  v4 = sub_1003E460(a1, (int)&v32);
  if ( v4 != 1 )
  {
    if ( a4 )
      *(_DWORD *)a4 = v4;
LABEL_72:
    v40 = -1;
    sub_10020FE0((int)&v39);
    return 0;
  }
  v5 = sub_1003E390(v32, (signed int *)&v33);
  if ( v5 != 1 )
    goto LABEL_75;
  v6 = sub_1003E690(v32, 0, 0);
  if ( v6 != 1 )
    goto LABEL_76;
  v6 = sub_1003E560(v32, &v34, 6u);
  if ( v6 != 1 )
    goto LABEL_76;
  if ( (_WORD)v34 != 20312 || BYTE2(v34) < 4u )
  {
    sub_1003E260((unsigned int *)v32);
    if ( a4 )
      *(_DWORD *)a4 = -5;
    goto LABEL_72;
  }
  if ( !(BYTE3(v34) & 0x80) )
  {
    sub_1003E260((unsigned int *)v32);
    if ( a4 )
      *(_DWORD *)a4 = -4;
    goto LABEL_72;
  }
  v6 = sub_10020FF0((int)&v39, v32, 0, v33);
  if ( v6 != 1 )
  {
LABEL_76:
    sub_1003E260((unsigned int *)v32);
    if ( a4 )
      *(_DWORD *)a4 = v6;
    goto LABEL_72;
  }
  v7 = v33;
  v8 = (v33 - 6) / 0xFFFE;
  if ( (v33 - 6) % 0xFFFE )
    ++v8;
  v9 = v8 - 1;
  v10 = 0;
  if ( (signed int)(v8 - 1) > 0 )
  {
    do
    {
      v11 = (_BYTE *)sub_100210D0((int)&v39, 65534);
      --v9;
      v10 = sub_10020F70(v10, v11, 65534);
    }
    while ( v9 );
    v7 = v33;
  }
  v12 = v7 - 65534 * v8 + 65528;
  v13 = (_BYTE *)sub_100210D0((int)&v39, v12);
  v14 = sub_10020F70(v10, v13, v12);
  sub_100210D0((int)&v39, 2);
  if ( v14 != *(_DWORD *)sub_100210D0((int)&v39, 4) )
  {
    sub_1003E260((unsigned int *)v32);
    if ( a4 )
      *(_DWORD *)a4 = -4;
    goto LABEL_72;
  }
  v15 = v35;
  v33 -= 6;
  v16 = 12 * v35;
  *(_DWORD *)v36 = 0;
  v37 = 0;
  v38 = 0;
  v5 = sub_10020FF0((int)&v39, v32, 6, v16 - 4);
  if ( v5 != 1 )
  {
LABEL_75:
    sub_1003E260((unsigned int *)v32);
    if ( a4 )
      *(_DWORD *)a4 = v5;
    goto LABEL_72;
  }
  if ( a2 <= 0 )
  {
    v20 = sub_100210D0((int)&v39, 8);
    *(_DWORD *)v36 = *(_DWORD *)v20;
    v37 = *(_DWORD *)(v20 + 4);
    if ( !strcmp((const char *)a3, v36) )
    {
      v18 = v16 + 2;
      if ( v15 != 1 )
        goto LABEL_45;
    }
    else
    {
      v21 = 0;
      if ( v15 - 1 <= 0 )
      {
LABEL_39:
        sub_1003E260((unsigned int *)v32);
        if ( a4 )
          *(_DWORD *)a4 = -11;
        goto LABEL_72;
      }
      while ( 1 )
      {
        v22 = sub_100210D0((int)&v39, 8);
        *(_DWORD *)v36 = *(_DWORD *)v22;
        v37 = *(_DWORD *)(v22 + 4);
        if ( !strcmp((const char *)a3, v36) )
          break;
        sub_100210D0((int)&v39, 4);
        if ( ++v21 >= v15 - 1 )
          goto LABEL_39;
      }
      v18 = *(_DWORD *)sub_100210D0((int)&v39, 4);
      if ( v15 != v21 + 2 )
        goto LABEL_45;
    }
LABEL_42:
    v23 = v33;
    goto LABEL_43;
  }
  if ( a2 > v15 )
  {
    sub_1003E260((unsigned int *)v32);
    if ( a4 )
      *(_DWORD *)a4 = -11;
    goto LABEL_72;
  }
  if ( a2 == 1 )
  {
    v17 = sub_100210D0((int)&v39, 8);
    v18 = v16 + 2;
    *(_DWORD *)v36 = *(_DWORD *)v17;
    v37 = *(_DWORD *)(v17 + 4);
  }
  else
  {
    sub_100210D0((int)&v39, 12 * a2 - 16);
    v19 = sub_100210D0((int)&v39, 8);
    *(_DWORD *)v36 = *(_DWORD *)v19;
    v37 = *(_DWORD *)(v19 + 4);
    v18 = *(_DWORD *)sub_100210D0((int)&v39, 4);
  }
  if ( v15 == a2 )
    goto LABEL_42;
LABEL_45:
  sub_100210D0((int)&v39, 8);
  v23 = *(_DWORD *)sub_100210D0((int)&v39, 4);
LABEL_43:
  v24 = operator new(0x1E8u);
  LOBYTE(v40) = 1;
  if ( v24 )
    v25 = sub_10027BA0(v24, v36, 100);
  else
    v25 = 0;
  LOBYTE(v40) = 0;
  v26 = sub_10020FF0((int)&v39, v32, v18, v23 - v18);
  if ( v26 != 1 )
  {
    sub_1003E260((unsigned int *)v32);
    if ( a4 )
      *(_DWORD *)a4 = v26;
    goto LABEL_72;
  }
  v27 = sub_10016720(a1, (int)&v39, (int)v25, (int)&v34);
  if ( v27 != 1 )
  {
    sub_1003E260((unsigned int *)v32);
    if ( v25 )
      (*(void (__thiscall **)(_DWORD *, signed int))*v25)(v25, 1);
    if ( a4 )
      *(_DWORD *)a4 = v27;
    goto LABEL_72;
  }
  v28 = sub_1003E260((unsigned int *)v32);
  if ( v28 != 1 )
  {
    if ( v25 )
      (*(void (__thiscall **)(_DWORD *, signed int))*v25)(v25, 1);
    if ( a4 )
      *(_DWORD *)a4 = v28;
    goto LABEL_72;
  }
  v29 = (*(int (__thiscall **)(_DWORD *))(*v25 + 60))(v25);
  sub_10016130((int)&dword_109D17F0, v29);
  v30 = (*(int (__thiscall **)(_DWORD *, signed int, signed int))(*v25 + 48))(v25, 1065353216, 1065353216);
  if ( v30 != 1 )
  {
    if ( v25 )
      (*(void (__thiscall **)(_DWORD, _DWORD))*v25)(v25, 1);
    if ( a4 )
      *(_DWORD *)a4 = v30;
    goto LABEL_72;
  }
  if ( a4 )
    *(_DWORD *)a4 = 1;
  v40 = -1;
  sub_10020FE0((int)&v39);
  return v25;
}
// 109D17F0: using guessed type int dword_109D17F0;

//----- (1001A0A0) --------------------------------------------------------
int __thiscall sub_1001A0A0(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = -1;
  *(_DWORD *)(this + 4) = 1;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 16) = 10;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)(this + 24) = 1065353216;
  return result;
}

//----- (1001A0D0) --------------------------------------------------------
int __thiscall sub_1001A0D0(int this)
{
  int result; // eax@1

  result = this;
  *(_BYTE *)this = -1;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = -1;
  *(_DWORD *)(this + 12) = 1;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)(this + 24) = 10;
  *(_DWORD *)(this + 28) = 0;
  *(_DWORD *)(this + 32) = 1065353216;
  return result;
}

//----- (1001A100) --------------------------------------------------------
int __thiscall sub_1001A100(int this)
{
  int result; // eax@1

  result = this;
  *(_BYTE *)this = 0;
  *(_WORD *)(this + 2) = 1;
  *(_BYTE *)(this + 4) = 0;
  *(_BYTE *)(this + 5) = 0;
  *(_WORD *)(this + 6) = 0;
  *(_BYTE *)(this + 8) = 1;
  *(_DWORD *)(this + 12) = 0;
  *(_BYTE *)(this + 16) = 44;
  *(_BYTE *)(this + 17) = 0;
  *(_WORD *)(this + 18) = 0;
  *(_WORD *)(this + 20) = 10;
  *(_BYTE *)(this + 22) = 0;
  *(_BYTE *)(this + 23) = 0;
  *(_BYTE *)(this + 24) = 0;
  *(_WORD *)(this + 26) = 0;
  *(_BYTE *)(this + 25) = 12;
  *(_WORD *)(this + 28) = -1;
  *(_WORD *)(this + 30) = 1;
  *(_WORD *)(this + 32) = 0;
  *(_DWORD *)(this + 36) = 0;
  *(_WORD *)(this + 40) = 10;
  *(_WORD *)(this + 42) = 0;
  *(_DWORD *)(this + 44) = 1065353216;
  return result;
}

//----- (1001A170) --------------------------------------------------------
int __thiscall sub_1001A170(int this, int a2)
{
  int result; // eax@1

  result = a2;
  *(_DWORD *)a2 = *(_WORD *)(this + 28);
  *(_DWORD *)(a2 + 4) = *(_WORD *)(this + 30);
  *(_DWORD *)(a2 + 8) = *(_WORD *)(this + 32);
  *(_DWORD *)(a2 + 12) = *(_DWORD *)(this + 36);
  *(_DWORD *)(a2 + 16) = *(_WORD *)(this + 40);
  *(_DWORD *)(a2 + 20) = *(_WORD *)(this + 42);
  *(_DWORD *)(a2 + 24) = *(_DWORD *)(this + 44);
  return result;
}

//----- (1001A1B0) --------------------------------------------------------
int __thiscall sub_1001A1B0(int this, const void *a2)
{
  int v2; // ebx@1
  char *v3; // edi@2
  char *v4; // ecx@2
  void *v5; // esi@6
  _DWORD *v6; // eax@7
  int v7; // eax@7
  int v8; // edx@7
  int v9; // edi@7
  int v10; // ecx@7
  int v11; // esi@7
  int v12; // edi@7
  int result; // eax@7
  unsigned int v14; // eax@8
  _DWORD *v15; // eax@9
  int v16; // eax@9
  int v17; // ecx@9
  int v18; // edx@9
  int v19; // eax@9
  int v20; // edi@10
  _DWORD *v21; // eax@10
  _DWORD *v22; // edi@10
  int v23; // edx@10
  int v24; // eax@10
  int v25; // ecx@10
  int v26; // edx@10
  int v27; // edx@10
  int v28; // eax@10
  int v29; // ecx@10
  int v30; // edx@10
  void *v31; // esi@13
  _DWORD *v32; // eax@14
  int v33; // eax@14
  int v34; // edx@14
  int v35; // edi@14
  int v36; // ecx@14
  int v37; // esi@14
  int v38; // edi@14
  unsigned int v39; // eax@15
  _DWORD *v40; // eax@16
  int v41; // eax@16
  int v42; // ecx@16
  int v43; // edx@16
  int v44; // eax@16
  int v45; // edi@17
  _DWORD *v46; // eax@17
  _DWORD *v47; // edi@17
  int v48; // edx@17
  int v49; // eax@17
  int v50; // ecx@17
  int v51; // edx@17
  int v52; // edx@17
  int v53; // ecx@17
  int v54; // [sp+Ch] [bp-10h]@7
  int v55; // [sp+10h] [bp-Ch]@7
  int v56; // [sp+14h] [bp-8h]@7
  int v57; // [sp+18h] [bp-4h]@7

  v2 = this;
  if ( !*(_DWORD *)(this + 44) || (v3 = *(char **)(this + 28), v4 = *(char **)(this + 24), v3 == v4) )
  {
    v31 = operator new(0xFF8u);
    if ( *(_DWORD *)(v2 + 44) )
    {
      v39 = *(_DWORD *)(v2 + 32);
      if ( v39 >= *(_DWORD *)(v2 + 36) + 4 * *(_DWORD *)(v2 + 40) - 4 )
      {
        v45 = ((signed int)(v39 - *(_DWORD *)(v2 + 16)) >> 2) + 1;
        v46 = (_DWORD *)sub_1001B2D0((void *)v2, 2 * v45);
        v47 = &v46[v45];
        *v47 = v31;
        sub_1001B380((int)&v54, *(_DWORD *)(v2 + 12), v46);
        v48 = v55;
        v49 = v2 + 4;
        *(_DWORD *)(v2 + 4) = v54;
        v50 = v56;
        *(_DWORD *)(v49 + 4) = v48;
        v51 = v57;
        *(_DWORD *)(v49 + 8) = v50;
        *(_DWORD *)(v49 + 12) = v51;
        v52 = v2 + 20;
        v53 = *v47 + 4088;
        *(_DWORD *)v52 = *v47;
        *(_DWORD *)(v52 + 4) = v53;
        *(_DWORD *)(v52 + 8) = v31;
        *(_DWORD *)(v52 + 12) = v47;
      }
      else
      {
        v40 = (_DWORD *)(v39 + 4);
        *(_DWORD *)(v2 + 32) = v40;
        *v40 = v31;
        sub_1001B380((int)&v54, (int)v31, *(_DWORD **)(v2 + 32));
        v41 = v55;
        v42 = v2 + 20;
        *(_DWORD *)(v2 + 20) = v54;
        v43 = v56;
        *(_DWORD *)(v42 + 4) = v41;
        v44 = v57;
        *(_DWORD *)(v42 + 8) = v43;
        *(_DWORD *)(v42 + 12) = v44;
      }
    }
    else
    {
      *(_DWORD *)(v2 + 40) = 2;
      v32 = operator new(8u);
      *(_DWORD *)(v2 + 36) = v32;
      v32[1] = v31;
      sub_1001B380((int)&v54, (int)v31 + 2016, (_DWORD *)(*(_DWORD *)(v2 + 36) + 4));
      v33 = v54;
      v34 = v56;
      v35 = v2 + 4;
      v36 = v55;
      v37 = v57;
      *(_DWORD *)v35 = v54;
      *(_DWORD *)(v35 + 4) = v36;
      *(_DWORD *)(v35 + 8) = v34;
      *(_DWORD *)(v35 + 12) = v37;
      v38 = v2 + 20;
      *(_DWORD *)(v2 + 20) = v33;
      *(_DWORD *)(v38 + 4) = v36;
      *(_DWORD *)(v38 + 8) = v34;
      *(_DWORD *)(v38 + 12) = v37;
    }
    v3 = *(char **)(v2 + 28);
    *(_DWORD *)(v2 + 28) = v3 + 56;
    if ( !v3 )
      goto LABEL_20;
    goto LABEL_19;
  }
  *(_DWORD *)(v2 + 28) = v3 + 56;
  if ( v3 + 56 != v4 )
  {
    if ( !v3 )
    {
LABEL_20:
      result = *(_DWORD *)(v2 + 44) + 1;
      *(_DWORD *)(v2 + 44) = result;
      return result;
    }
LABEL_19:
    qmemcpy(v3, a2, 0x38u);
    goto LABEL_20;
  }
  if ( v3 )
    qmemcpy(v3, a2, 0x38u);
  v5 = operator new(0xFF8u);
  if ( *(_DWORD *)(v2 + 44) )
  {
    v14 = *(_DWORD *)(v2 + 32);
    if ( v14 >= *(_DWORD *)(v2 + 36) + 4 * *(_DWORD *)(v2 + 40) - 4 )
    {
      v20 = ((signed int)(v14 - *(_DWORD *)(v2 + 16)) >> 2) + 1;
      v21 = (_DWORD *)sub_1001B2D0((void *)v2, 2 * v20);
      v22 = &v21[v20];
      *v22 = v5;
      sub_1001B380((int)&v54, *(_DWORD *)(v2 + 12), v21);
      v23 = v55;
      v24 = v2 + 4;
      *(_DWORD *)v24 = v54;
      v25 = v56;
      *(_DWORD *)(v24 + 4) = v23;
      v26 = v57;
      *(_DWORD *)(v24 + 8) = v25;
      *(_DWORD *)(v24 + 12) = v26;
      sub_1001B380((int)&v54, (int)v5, v22);
      v27 = v55;
      v28 = v2 + 20;
      *(_DWORD *)v28 = v54;
      v29 = v56;
      *(_DWORD *)(v28 + 4) = v27;
      v30 = v57;
      *(_DWORD *)(v28 + 8) = v29;
      *(_DWORD *)(v28 + 12) = v30;
      result = *(_DWORD *)(v2 + 44) + 1;
      *(_DWORD *)(v2 + 44) = result;
    }
    else
    {
      v15 = (_DWORD *)(v14 + 4);
      *(_DWORD *)(v2 + 32) = v15;
      *v15 = v5;
      sub_1001B380((int)&v54, (int)v5, *(_DWORD **)(v2 + 32));
      v16 = v55;
      v17 = v2 + 20;
      *(_DWORD *)v17 = v54;
      v18 = v56;
      *(_DWORD *)(v17 + 4) = v16;
      v19 = v57;
      *(_DWORD *)(v17 + 8) = v18;
      *(_DWORD *)(v17 + 12) = v19;
      result = *(_DWORD *)(v2 + 44) + 1;
      *(_DWORD *)(v2 + 44) = result;
    }
  }
  else
  {
    *(_DWORD *)(v2 + 40) = 2;
    v6 = operator new(8u);
    *(_DWORD *)(v2 + 36) = v6;
    v6[1] = v5;
    sub_1001B380((int)&v54, (int)v5 + 2016, (_DWORD *)(*(_DWORD *)(v2 + 36) + 4));
    v7 = v54;
    v8 = v56;
    v9 = v2 + 4;
    v10 = v55;
    v11 = v57;
    *(_DWORD *)v9 = v54;
    *(_DWORD *)(v9 + 4) = v10;
    *(_DWORD *)(v9 + 8) = v8;
    *(_DWORD *)(v9 + 12) = v11;
    v12 = v2 + 20;
    *(_DWORD *)(v2 + 20) = v7;
    result = *(_DWORD *)(v2 + 44) + 1;
    *(_DWORD *)(v12 + 4) = v10;
    *(_DWORD *)(v2 + 44) = result;
    *(_DWORD *)(v12 + 8) = v8;
    *(_DWORD *)(v12 + 12) = v11;
  }
  return result;
}

//----- (1001A4A0) --------------------------------------------------------
int __thiscall sub_1001A4A0(int this, int a2, _DWORD *a3)
{
  int v3; // esi@1
  _DWORD *v4; // edi@1
  _DWORD *v5; // eax@1
  int v6; // edx@1
  int v7; // ebp@1
  unsigned int v8; // ecx@3
  int v9; // eax@6
  int v10; // eax@8
  char *v11; // eax@10
  _DWORD *v12; // ebx@10
  char *k; // ebp@10
  int v14; // eax@12
  int result; // eax@12
  _DWORD *v16; // ecx@14
  _DWORD *j; // eax@14
  _DWORD *v18; // ecx@17
  int i; // eax@17
  int v20; // edx@18
  int v21; // [sp+10h] [bp-8h]@8
  int v22; // [sp+14h] [bp-4h]@1
  char *v23; // [sp+1Ch] [bp+4h]@10

  v3 = this;
  v4 = (_DWORD *)a2;
  v5 = *(_DWORD **)(this + 8);
  v6 = *(_DWORD *)(this + 4);
  v7 = (a2 - v6) >> 2;
  v22 = (a2 - v6) >> 2;
  if ( (unsigned int)((*(_DWORD *)(this + 12) - (signed int)v5) >> 2) >= 1 )
  {
    if ( (unsigned int)(((signed int)v5 - a2) >> 2) >= 1 )
    {
      sub_1001B350(v5 - 1, v5, v5);
      v18 = *(_DWORD **)(v3 + 8);
      for ( i = (int)(v18 - 1); i != a2; *v18 = v20 )
      {
        v20 = *(_DWORD *)(i - 4);
        i -= 4;
        --v18;
      }
      if ( a2 != a2 + 4 )
      {
        do
        {
          *v4 = *a3;
          ++v4;
        }
        while ( v4 != (_DWORD *)(a2 + 4) );
      }
    }
    else
    {
      sub_1001B350((_DWORD *)a2, v5, (_DWORD *)(a2 + 4));
      sub_1000F830(*(_DWORD **)(v3 + 8), (_DWORD *)(1 - ((*(_DWORD *)(v3 + 8) - a2) >> 2)), a3);
      v16 = *(_DWORD **)(v3 + 8);
      for ( j = (_DWORD *)a2; j != v16; ++j )
        *j = *a3;
    }
    *(_DWORD *)(v3 + 8) += 4;
    result = *(_DWORD *)(v3 + 4) + 4 * v7;
  }
  else
  {
    if ( !v6 || (v8 = ((signed int)v5 - v6) >> 2, v8 <= 1) )
      v8 = 1;
    if ( v6 )
      v9 = ((signed int)v5 - v6) >> 2;
    else
      v9 = 0;
    v10 = v8 + v9;
    v21 = v10;
    if ( v10 < 0 )
      v10 = 0;
    v11 = (char *)operator new(4 * v10);
    v12 = *(_DWORD **)(v3 + 4);
    v23 = v11;
    for ( k = v11; v12 != v4; k += 4 )
    {
      sub_1001E440(k, v12);
      ++v12;
    }
    sub_1001E440(k, a3);
    sub_1001B350(v4, *(_DWORD **)(v3 + 8), (_DWORD *)k + 1);
    nullsub_1(*(_DWORD *)(v3 + 4), *(_DWORD *)(v3 + 8));
    j__free(*(void **)(v3 + 4));
    *(_DWORD *)(v3 + 12) = &v23[4 * v21];
    v14 = sub_1000F810(v3);
    *(_DWORD *)(v3 + 4) = v23;
    *(_DWORD *)(v3 + 8) = &v23[4 * v14 + 4];
    result = (int)&v23[4 * v22];
  }
  return result;
}
// 1001A990: using guessed type _DWORD __stdcall nullsub_1(_DWORD, _DWORD);

//----- (1001A640) --------------------------------------------------------
_DWORD *__thiscall sub_1001A640(int this, _DWORD *a2, int *a3)
{
  int *v3; // edx@1
  _DWORD *result; // eax@1
  int *v5; // edi@1
  _DWORD *v6; // esi@1
  int v7; // ebx@2
  int v8; // edx@3

  v3 = a3;
  result = a2;
  v5 = *(int **)(this + 8);
  v6 = a2;
  if ( a3 != v5 )
  {
    do
    {
      v7 = *v3;
      ++v3;
      *v6 = v7;
      ++v6;
    }
    while ( v3 != v5 );
  }
  v8 = *(_DWORD *)(this + 8);
  *(_DWORD *)(this + 8) = v6;
  return result;
}

//----- (1001A680) --------------------------------------------------------
int __thiscall sub_1001A680(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)this = &off_1008FA5C;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)(this + 28) = -1;
  *(_WORD *)(this + 24) = 0;
  *(_BYTE *)(this + 32) = 0;
  *(_DWORD *)(this + 36) = 13;
  return result;
}
// 1008FA5C: using guessed type int (__thiscall *off_1008FA5C)(void *, char);

//----- (1001A6B0) --------------------------------------------------------
char __thiscall sub_1001A6B0(int this)
{
  return ~(*(_BYTE *)(this + 24) >> 7) & 1;
}

//----- (1001A6D0) --------------------------------------------------------
signed int __stdcall sub_1001A6D0(int a1, int a2)
{
  return 1;
}

//----- (1001A6E0) --------------------------------------------------------
int __thiscall sub_1001A6E0(int this, int a2, int a3)
{
  int result; // eax@1

  result = a2;
  if ( a2 )
    *(_DWORD *)(this + 20) = a2;
  return result;
}

//----- (1001A710) --------------------------------------------------------
int sub_1001A710()
{
  return 0;
}

//----- (1001A720) --------------------------------------------------------
char sub_1001A720()
{
  return 0;
}

//----- (1001A730) --------------------------------------------------------
int __stdcall sub_1001A730(int a1, int a2)
{
  return 0;
}

//----- (1001A740) --------------------------------------------------------
void *__thiscall sub_1001A740(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_10031530(this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (1001A760) --------------------------------------------------------
int __thiscall sub_1001A760(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)(this + 28) = -1;
  *(_WORD *)(this + 24) = 0;
  *(_BYTE *)(this + 32) = 0;
  *(_DWORD *)(this + 36) = 13;
  *(_BYTE *)(this + 40) = -1;
  *(_DWORD *)(this + 44) = 0;
  *(_DWORD *)(this + 48) = 0;
  *(_BYTE *)(this + 52) = 0;
  *(_DWORD *)this = &off_1008F874;
  return result;
}
// 1008F874: using guessed type int (__thiscall *off_1008F874)(void *, char);

//----- (1001A7A0) --------------------------------------------------------
void __thiscall sub_1001A7A0(void *this)
{
  *(_DWORD *)this = &off_1008F874;
  sub_10031530(this);
}
// 1008F874: using guessed type int (__thiscall *off_1008F874)(void *, char);

//----- (1001A7B0) --------------------------------------------------------
int __thiscall sub_1001A7B0(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)(this + 28) = -1;
  *(_WORD *)(this + 24) = 0;
  *(_BYTE *)(this + 32) = 0;
  *(_DWORD *)(this + 36) = 13;
  *(_BYTE *)(this + 40) = -1;
  *(_DWORD *)(this + 44) = 0;
  *(_DWORD *)(this + 48) = 0;
  *(_BYTE *)(this + 52) = 0;
  *(_BYTE *)(this + 56) = -1;
  *(_DWORD *)(this + 60) = 0;
  *(_DWORD *)(this + 64) = -1;
  *(_DWORD *)(this + 68) = 1;
  *(_DWORD *)(this + 72) = 0;
  *(_DWORD *)(this + 76) = 0;
  *(_DWORD *)(this + 80) = 10;
  *(_DWORD *)(this + 84) = 0;
  *(_DWORD *)(this + 88) = 1065353216;
  *(_DWORD *)this = &off_1008F754;
  return result;
}
// 1008F754: using guessed type int (__thiscall *off_1008F754)(void *, char);

//----- (1001A820) --------------------------------------------------------
_DWORD *__thiscall sub_1001A820(_BYTE *this)
{
  _BYTE *v1; // esi@1
  _DWORD *result; // eax@1

  v1 = this;
  result = operator new(0x40u);
  if ( result )
  {
    result[4] = 0;
    result[3] = 0;
    result[2] = 0;
    result[1] = 0;
    *result = &off_1008FA5C;
    result[5] = 0;
    result[7] = -1;
    *((_WORD *)result + 12) = 0;
    if ( v1[24] & 0x80 )
      *((_WORD *)result + 12) = 128;
    *((_BYTE *)result + 32) = v1[32];
    result[9] = *((_DWORD *)v1 + 9);
    *((_BYTE *)result + 40) = -1;
    result[11] = 0;
    result[12] = 0;
    *((_BYTE *)result + 52) = 0;
    *result = &off_1008F874;
    *((_BYTE *)result + 40) = v1[40];
    result[11] = *((_DWORD *)v1 + 11);
    result[12] = *((_DWORD *)v1 + 12);
    *((_BYTE *)result + 52) = v1[52];
    *result = &off_1008F9FC;
    result[14] = *((_DWORD *)v1 + 14);
    result[15] = *((_DWORD *)v1 + 15);
  }
  else
  {
    result = 0;
  }
  return result;
}
// 1008F874: using guessed type int (__thiscall *off_1008F874)(void *, char);
// 1008F9FC: using guessed type int (__thiscall *off_1008F9FC)(void *, char);
// 1008FA5C: using guessed type int (__thiscall *off_1008FA5C)(void *, char);

//----- (1001A8C0) --------------------------------------------------------
signed int sub_1001A8C0()
{
  return 1;
}

//----- (1001A8D0) --------------------------------------------------------
signed int sub_1001A8D0()
{
  return 8;
}

//----- (1001A8F0) --------------------------------------------------------
int __thiscall sub_1001A8F0(void *this)
{
  int v1; // esi@1
  void *v2; // eax@1
  int result; // eax@2

  v1 = (int)this;
  v2 = operator new(0x174u);
  if ( v2 )
    result = sub_100208C0((int)v2, v1);
  else
    result = 0;
  return result;
}

//----- (1001A950) --------------------------------------------------------
signed int sub_1001A950()
{
  return 16;
}

//----- (1001A960) --------------------------------------------------------
char sub_1001A960()
{
  return 17;
}

//----- (1001A970) --------------------------------------------------------
void *__thiscall sub_1001A970(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_10031580((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (1001A9A0) --------------------------------------------------------
_DWORD *__thiscall sub_1001A9A0(_BYTE *this)
{
  _BYTE *v1; // esi@1
  _DWORD *result; // eax@1

  v1 = this;
  result = operator new(0x6Cu);
  if ( result )
  {
    result[4] = 0;
    result[3] = 0;
    result[2] = 0;
    result[1] = 0;
    *result = &off_1008FA5C;
    result[5] = 0;
    result[7] = -1;
    *((_WORD *)result + 12) = 0;
    if ( v1[24] & 0x80 )
      *((_WORD *)result + 12) = 128;
    *((_BYTE *)result + 32) = v1[32];
    result[9] = *((_DWORD *)v1 + 9);
    *((_BYTE *)result + 40) = -1;
    result[11] = 0;
    result[12] = 0;
    *((_BYTE *)result + 52) = 0;
    *result = &off_1008F874;
    *((_BYTE *)result + 40) = v1[40];
    result[11] = *((_DWORD *)v1 + 11);
    result[12] = *((_DWORD *)v1 + 12);
    *((_BYTE *)result + 52) = v1[52];
    *((_BYTE *)result + 56) = -1;
    result[15] = 0;
    result[16] = -1;
    result[17] = 1;
    result[18] = 0;
    result[19] = 0;
    result[20] = 10;
    result[21] = 0;
    result[22] = 1065353216;
    *result = &off_1008F754;
    *((_BYTE *)result + 56) = v1[56];
    result[15] = *((_DWORD *)v1 + 15);
    result[16] = *((_DWORD *)v1 + 16);
    result[17] = *((_DWORD *)v1 + 17);
    result[18] = *((_DWORD *)v1 + 18);
    result[19] = *((_DWORD *)v1 + 19);
    result[20] = *((_DWORD *)v1 + 20);
    result[21] = *((_DWORD *)v1 + 21);
    result[22] = *((_DWORD *)v1 + 22);
    *result = &off_1008F8D4;
    result[23] = *((_DWORD *)v1 + 23);
    result[24] = *((_DWORD *)v1 + 24);
    result[25] = *((_DWORD *)v1 + 25);
    result[26] = *((_DWORD *)v1 + 26);
  }
  else
  {
    result = 0;
  }
  return result;
}
// 1008F754: using guessed type int (__thiscall *off_1008F754)(void *, char);
// 1008F874: using guessed type int (__thiscall *off_1008F874)(void *, char);
// 1008F8D4: using guessed type int (__thiscall *off_1008F8D4)(void *, char);
// 1008FA5C: using guessed type int (__thiscall *off_1008FA5C)(void *, char);

//----- (1001AAB0) --------------------------------------------------------
signed int sub_1001AAB0()
{
  return 2;
}

//----- (1001AAC0) --------------------------------------------------------
signed int sub_1001AAC0()
{
  return 10;
}

//----- (1001AAD0) --------------------------------------------------------
int __thiscall sub_1001AAD0(int this)
{
  __int64 v1; // rax@1
  int v2; // esi@1
  __int64 v3; // rax@1

  v1 = *(_DWORD *)(this + 104) - *(_DWORD *)(this + 96);
  v2 = (HIDWORD(v1) ^ (*(_DWORD *)(this + 104) - *(_DWORD *)(this + 96))) - HIDWORD(v1);
  v3 = *(_DWORD *)(this + 100) - *(_DWORD *)(this + 92);
  LODWORD(v3) = (HIDWORD(v3) ^ v3) - HIDWORD(v3);
  LOBYTE(v3) = (_DWORD)v3 != v2;
  return v3 + 8;
}

//----- (1001AB00) --------------------------------------------------------
void *__thiscall sub_1001AB00(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_1001A7A0(this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (1001AB20) --------------------------------------------------------
_DWORD *__thiscall sub_1001AB20(_BYTE *this)
{
  _BYTE *v1; // edi@1
  _DWORD *v2; // eax@1
  _DWORD *v3; // esi@1
  int v4; // ecx@4
  _DWORD *result; // eax@4

  v1 = this;
  v2 = operator new(0x80u);
  v3 = v2;
  if ( v2 )
  {
    v2[4] = 0;
    v2[3] = 0;
    v2[2] = 0;
    v2[1] = 0;
    *v2 = &off_1008FA5C;
    v2[5] = 0;
    v2[7] = -1;
    *((_WORD *)v2 + 12) = 0;
    if ( v1[24] & 0x80 )
      *((_WORD *)v2 + 12) = 128;
    *((_BYTE *)v2 + 32) = v1[32];
    v2[9] = *((_DWORD *)v1 + 9);
    v4 = (int)(v2 + 10);
    *(_BYTE *)v4 = -1;
    *(_DWORD *)(v4 + 4) = 0;
    *(_DWORD *)(v4 + 8) = 0;
    *(_BYTE *)(v4 + 12) = 0;
    *v2 = &off_1008F874;
    sub_10015A40((int)(v2 + 10), (int)(v1 + 40));
    *((_BYTE *)v3 + 56) = -1;
    v3[15] = 0;
    v3[16] = -1;
    v3[17] = 1;
    v3[18] = 0;
    v3[19] = 0;
    v3[20] = 10;
    v3[21] = 0;
    v3[22] = 1065353216;
    *v3 = &off_1008F754;
    *((_BYTE *)v3 + 56) = v1[56];
    v3[15] = *((_DWORD *)v1 + 15);
    v3[16] = *((_DWORD *)v1 + 16);
    v3[17] = *((_DWORD *)v1 + 17);
    v3[18] = *((_DWORD *)v1 + 18);
    v3[19] = *((_DWORD *)v1 + 19);
    v3[20] = *((_DWORD *)v1 + 20);
    v3[21] = *((_DWORD *)v1 + 21);
    v3[22] = *((_DWORD *)v1 + 22);
    *v3 = &off_1008F8D4;
    v3[23] = *((_DWORD *)v1 + 23);
    v3[24] = *((_DWORD *)v1 + 24);
    v3[25] = *((_DWORD *)v1 + 25);
    v3[26] = *((_DWORD *)v1 + 26);
    *v3 = &off_1008F814;
    v3[27] = *((_DWORD *)v1 + 27);
    v3[28] = *((_DWORD *)v1 + 28);
    v3[29] = *((_DWORD *)v1 + 29);
    v3[30] = *((_DWORD *)v1 + 30);
    v3[31] = *((_DWORD *)v1 + 31);
    result = v3;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 1008F754: using guessed type int (__thiscall *off_1008F754)(void *, char);
// 1008F814: using guessed type int (__thiscall *off_1008F814)(void *, char);
// 1008F874: using guessed type int (__thiscall *off_1008F874)(void *, char);
// 1008F8D4: using guessed type int (__thiscall *off_1008F8D4)(void *, char);
// 1008FA5C: using guessed type int (__thiscall *off_1008FA5C)(void *, char);

//----- (1001ACA0) --------------------------------------------------------
signed int sub_1001ACA0()
{
  return 11;
}

//----- (1001ACB0) --------------------------------------------------------
int __thiscall sub_1001ACB0(int this)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = *(_DWORD *)(this + 124);
  if ( v1 )
  {
    LOBYTE(v1) = v1 != 1;
    result = v1 + 11;
  }
  else
  {
    result = 10;
  }
  return result;
}

//----- (1001ACD0) --------------------------------------------------------
int __thiscall sub_1001ACD0(void *this)
{
  int v1; // esi@1
  void *v2; // eax@1
  int result; // eax@2

  v1 = (int)this;
  v2 = operator new(0x68u);
  if ( v2 )
    result = sub_1001FFF0(v2, v1);
  else
    result = 0;
  return result;
}

//----- (1001AD30) --------------------------------------------------------
int __thiscall sub_1001AD30(int this)
{
  return *(_WORD *)(this + 96);
}

//----- (1001AD40) --------------------------------------------------------
signed int sub_1001AD40()
{
  return 9;
}

//----- (1001AD50) --------------------------------------------------------
signed int __thiscall sub_1001AD50(int this)
{
  signed int result; // eax@1

  result = 2;
  if ( *(_WORD *)(this + 96) != 2 )
  {
    LOBYTE(result) = *(_BYTE *)(this + 98) != 0;
    result += 3;
  }
  return result;
}

//----- (1001AD70) --------------------------------------------------------
void *__thiscall sub_1001AD70(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_10031540((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (1001AD90) --------------------------------------------------------
_DWORD *__thiscall sub_1001AD90(void *this)
{
  int v1; // esi@1
  _DWORD *v2; // eax@1
  _DWORD *result; // eax@2

  v1 = (int)this;
  v2 = operator new(0x6Cu);
  if ( v2 )
    result = sub_10020130(v2, v1);
  else
    result = 0;
  return result;
}

//----- (1001ADF0) --------------------------------------------------------
signed int sub_1001ADF0()
{
  return 15;
}

//----- (1001AE00) --------------------------------------------------------
_DWORD *__thiscall sub_1001AE00(int this, _DWORD *a2, unsigned int a3, _DWORD *a4)
{
  unsigned int v4; // ebp@1
  int v5; // edi@1
  _DWORD *result; // eax@1
  int v7; // edx@2
  unsigned int v8; // ecx@3
  int v9; // eax@6
  int v10; // eax@8
  _DWORD *v11; // eax@10
  _DWORD *v12; // ecx@10
  _DWORD *l; // eax@10
  _DWORD *v14; // eax@14
  unsigned int v15; // edx@15
  _DWORD *v16; // edi@19
  _DWORD *v17; // edx@19
  _DWORD *v18; // eax@20
  int v19; // ecx@24
  int v20; // eax@26
  int v21; // ebx@28
  _DWORD *v22; // esi@28
  _DWORD *v23; // ecx@29
  _DWORD *v24; // eax@33
  int v25; // ebp@33
  _DWORD *v26; // ecx@37
  _DWORD *k; // eax@37
  int v28; // ebp@41
  _DWORD *v29; // esi@41
  _DWORD *i; // ecx@41
  _DWORD *v31; // ecx@45
  int j; // eax@45
  int v33; // esi@46
  int v34; // [sp+10h] [bp-8h]@1
  int v35; // [sp+14h] [bp-4h]@8
  _DWORD *v36; // [sp+20h] [bp+8h]@10

  v4 = a3;
  v5 = this;
  v34 = this;
  result = *(_DWORD **)(this + 8);
  if ( (*(_DWORD *)(this + 12) - (signed int)result) >> 2 >= a3 )
  {
    if ( result - a2 >= a3 )
    {
      if ( a3 )
      {
        v28 = 4 * a3;
        v29 = *(_DWORD **)(this + 8);
        for ( i = &result[-a3]; i != result; ++v29 )
        {
          if ( v29 )
            *v29 = *i;
          ++i;
        }
        v31 = *(_DWORD **)(v5 + 8);
        for ( j = *(_DWORD *)(v5 + 8) - v28; (_DWORD *)j != a2; *v31 = v33 )
        {
          v33 = *(_DWORD *)(j - 4);
          j -= 4;
          --v31;
        }
        for ( result = a2; result != &a2[v28 / 4u]; ++result )
          *result = *a4;
        *(_DWORD *)(v5 + 8) += v28;
      }
    }
    else
    {
      v21 = 4 * a3;
      v22 = &a2[a3];
      if ( a2 != result )
      {
        v23 = &v22[-v21 / 4u];
        do
        {
          if ( v22 )
          {
            *v22 = *v23;
            v5 = v34;
          }
          ++v23;
          ++v22;
        }
        while ( v23 != result );
      }
      v24 = *(_DWORD **)(v5 + 8);
      v25 = a3 - ((*(_DWORD *)(v5 + 8) - (signed int)a2) >> 2);
      if ( a3 != (*(_DWORD *)(v5 + 8) - (signed int)a2) >> 2 )
      {
        do
        {
          if ( v24 )
            *v24 = *a4;
          ++v24;
          --v25;
        }
        while ( v25 );
      }
      v26 = *(_DWORD **)(v5 + 8);
      for ( k = a2; k != v26; ++k )
        *k = *a4;
      result = (_DWORD *)(v21 + *(_DWORD *)(v5 + 8));
      *(_DWORD *)(v5 + 8) = result;
    }
  }
  else
  {
    v7 = *(_DWORD *)(this + 4);
    if ( !v7 || (v8 = ((signed int)result - v7) >> 2, a3 >= v8) )
      v8 = a3;
    if ( v7 )
      v9 = ((signed int)result - v7) >> 2;
    else
      v9 = 0;
    v10 = v8 + v9;
    v35 = v10;
    if ( v10 < 0 )
      v10 = 0;
    v11 = operator new(4 * v10);
    v36 = v11;
    v12 = v11;
    for ( l = *(_DWORD **)(v5 + 4); l != a2; ++v12 )
    {
      if ( v12 )
        *v12 = *l;
      ++l;
    }
    v14 = v12;
    if ( v4 )
    {
      v15 = v4;
      do
      {
        if ( v14 )
        {
          *v14 = *a4;
          v5 = v34;
        }
        ++v14;
        --v15;
      }
      while ( v15 );
    }
    v16 = *(_DWORD **)(v5 + 8);
    v17 = &v12[v4];
    if ( a2 != v16 )
    {
      v18 = a2;
      do
      {
        if ( v17 )
          *v17 = *v18;
        ++v18;
        ++v17;
      }
      while ( v18 != v16 );
    }
    j__free(*(void **)(v34 + 4));
    *(_DWORD *)(v34 + 12) = &v36[v35];
    v19 = *(_DWORD *)(v34 + 4);
    if ( v19 )
    {
      v20 = *(_DWORD *)(v34 + 8);
      *(_DWORD *)(v34 + 4) = v36;
      result = &v36[v4 + ((v20 - v19) >> 2)];
      *(_DWORD *)(v34 + 8) = result;
    }
    else
    {
      *(_DWORD *)(v34 + 4) = v36;
      result = &v36[v4];
      *(_DWORD *)(v34 + 8) = result;
    }
  }
  return result;
}

//----- (1001B010) --------------------------------------------------------
char __thiscall sub_1001B010(int this)
{
  char v1; // al@1
  char result; // al@2

  v1 = *(_BYTE *)(this + 104);
  if ( *(_BYTE *)(this + 98) )
    result = 2 * (v1 + 11);
  else
    result = 2 * v1 + 21;
  return result;
}

//----- (1001B030) --------------------------------------------------------
void *__thiscall sub_1001B030(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_10031570((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (1001B050) --------------------------------------------------------
int __thiscall sub_1001B050(void *this)
{
  int v1; // esi@1
  void *v2; // eax@1
  int result; // eax@2

  v1 = (int)this;
  v2 = operator new(0x88u);
  if ( v2 )
    result = sub_10020160((int)v2, v1);
  else
    result = 0;
  return result;
}

//----- (1001B0B0) --------------------------------------------------------
int __thiscall sub_1001B0B0(int this, int a2)
{
  int result; // eax@1

  result = *(_BYTE *)(this + 111);
  *(_BYTE *)(result + a2) = 1;
  return result;
}

//----- (1001B0C0) --------------------------------------------------------
signed int sub_1001B0C0()
{
  return 12;
}

//----- (1001B0D0) --------------------------------------------------------
int __usercall sub_1001B0D0@<eax>(int a1@<eax>, int a2@<ecx>)
{
  LOBYTE(a1) = *(_WORD *)(a2 + 96) > 256;
  return a1 + 13;
}

//----- (1001B0E0) --------------------------------------------------------
void *__thiscall sub_1001B0E0(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_10031640((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (1001B100) --------------------------------------------------------
char *__thiscall sub_1001B100(void *this)
{
  int v1; // esi@1
  char *v2; // eax@1
  char *result; // eax@2

  v1 = (int)this;
  v2 = (char *)operator new(0x98u);
  if ( v2 )
    result = sub_100203B0(v2, v1);
  else
    result = 0;
  return result;
}

//----- (1001B160) --------------------------------------------------------
signed int sub_1001B160()
{
  return 17;
}

//----- (1001B170) --------------------------------------------------------
char sub_1001B170()
{
  return 20;
}

//----- (1001B180) --------------------------------------------------------
void *__thiscall sub_1001B180(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_1001B1A0((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (1001B1A0) --------------------------------------------------------
void __thiscall sub_1001B1A0(int this)
{
  int v1; // ebx@1
  unsigned int v2; // eax@1
  signed int v3; // eax@3
  signed int v4; // ecx@4
  int *i; // edi@8
  int v6; // ebp@9

  v1 = this;
  *(_DWORD *)this = &off_1008F6F4;
  v2 = *(_DWORD *)(this + 116);
  if ( v2 )
  {
    if ( *(_BYTE *)(this + 120) )
    {
      v3 = sub_1003DFA0(v2);
      if ( v3 != 1 )
      {
        v4 = 0;
        dword_109D1884 = 0;
        dword_109D1880 = 0;
        dword_109D1888 = 0;
        if ( &dword_109D1880 )
        {
          v4 = v3;
          LOWORD(dword_109D1884) = 0;
          dword_109D1880 = v3;
          dword_109D1888 = 0;
        }
        if ( v4 < 0 )
          unknown_libname_4(v4);
      }
    }
  }
  for ( i = *(int **)(v1 + 104); i != *(int **)(v1 + 108); ++i )
  {
    v6 = *i;
    if ( *i )
    {
      if ( *(_DWORD *)(v6 + 4) && *(_BYTE *)(v6 + 20) )
        j__free(*(void **)(v6 + 4));
      j__free((void *)v6);
    }
  }
  sub_1001A640(v1 + 100, *(_DWORD **)(v1 + 104), *(int **)(v1 + 108));
  j__free(*(void **)(v1 + 104));
  *(_DWORD *)(v1 + 104) = 0;
  *(_DWORD *)(v1 + 108) = 0;
  *(_DWORD *)(v1 + 112) = 0;
  *(_DWORD *)v1 = &off_1008F874;
  sub_10031530((void *)v1);
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 1008F6F4: using guessed type int (__thiscall *off_1008F6F4)(void *, char);
// 1008F874: using guessed type int (__thiscall *off_1008F874)(void *, char);
// 109D1880: using guessed type int dword_109D1880;
// 109D1884: using guessed type int dword_109D1884;
// 109D1888: using guessed type int dword_109D1888;

//----- (1001B2D0) --------------------------------------------------------
int __thiscall sub_1001B2D0(void *this, unsigned int a2)
{
  unsigned int v2; // ebp@1
  void *v3; // esi@1
  size_t v4; // eax@1
  char *v5; // eax@3
  char *v6; // edi@3
  int *v7; // ecx@3
  int v8; // ebx@3
  int v9; // eax@3
  _DWORD *v10; // edx@3
  int v11; // ebp@4

  v2 = a2;
  v3 = this;
  v4 = 4 * a2;
  if ( (4 * a2 & 0x80000000) != 0 )
    v4 = 0;
  v5 = (char *)operator new(v4);
  v6 = v5;
  v7 = (int *)*((_DWORD *)v3 + 4);
  v8 = (int)&v5[4 * (a2 >> 2)];
  v9 = *((_DWORD *)v3 + 8) + 4;
  v10 = (_DWORD *)v8;
  if ( v7 != (int *)v9 )
  {
    do
    {
      v11 = *v7;
      ++v7;
      *v10 = v11;
      ++v10;
    }
    while ( v7 != (int *)v9 );
    v2 = a2;
  }
  j__free(*((void **)v3 + 9));
  *((_DWORD *)v3 + 9) = v6;
  *((_DWORD *)v3 + 10) = v2;
  return v8;
}

//----- (1001B340) --------------------------------------------------------
int __thiscall sub_1001B340(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 12) = 0;
  return result;
}

//----- (1001B350) --------------------------------------------------------
_DWORD *__stdcall sub_1001B350(_DWORD *a1, _DWORD *a2, _DWORD *a3)
{
  _DWORD *v3; // ecx@1
  _DWORD *result; // eax@2

  v3 = a1;
  if ( a1 == a2 )
  {
    result = a3;
  }
  else
  {
    result = a3;
    do
    {
      if ( result )
        *result = *v3;
      ++v3;
      ++result;
    }
    while ( v3 != a2 );
  }
  return result;
}

//----- (1001B380) --------------------------------------------------------
int __thiscall sub_1001B380(int this, int a2, _DWORD *a3)
{
  int result; // eax@1
  int v4; // edx@1

  result = this;
  *(_DWORD *)this = *a3;
  v4 = *a3 + 4088;
  *(_DWORD *)(this + 12) = a3;
  *(_DWORD *)(this + 4) = v4;
  *(_DWORD *)(this + 8) = a2;
  return result;
}

//----- (1001B3B0) --------------------------------------------------------
int __thiscall sub_1001B3B0(_DWORD *this, int a2, int a3)
{
  _DWORD *v3; // esi@1
  int result; // eax@1

  v3 = this;
  sub_1001C8E0((int)this, a2, a3);
  result = a3 + v3[15];
  v3[14] += a2;
  v3[15] = result;
  return result;
}

//----- (1001B3E0) --------------------------------------------------------
int __thiscall sub_1001B3E0(_DWORD *this, int a2, int a3)
{
  _DWORD *v3; // esi@1
  int v4; // edx@1
  int v5; // ecx@1
  int result; // eax@1

  v3 = this;
  sub_1001C8E0((int)this, a2, a3);
  v4 = v3[24];
  v5 = v3[25];
  v3[23] += a2;
  result = a3 + v3[26];
  v3[24] = a3 + v4;
  v3[25] = a2 + v5;
  v3[26] = result;
  return result;
}

//----- (1001B420) --------------------------------------------------------
int __thiscall sub_1001B420(_DWORD *this, int a2, int a3)
{
  _DWORD *v3; // esi@1
  int v4; // edx@1
  int v5; // ecx@1
  int result; // eax@1

  v3 = this;
  sub_1001B3E0(this, a2, a3);
  v4 = v3[28];
  v5 = v3[29];
  v3[27] += a2;
  result = a3 + v3[30];
  v3[28] = a3 + v4;
  v3[29] = a2 + v5;
  v3[30] = result;
  return result;
}

//----- (1001B460) --------------------------------------------------------
signed int __thiscall sub_1001B460(_DWORD *this, int a2, int a3)
{
  _DWORD *v3; // esi@1
  signed int result; // eax@1
  int v5; // edx@2
  int *v6; // ecx@2
  int v7; // edx@2

  v3 = this;
  sub_1001C8E0((int)this, a2, a3);
  result = 0;
  if ( *((_WORD *)v3 + 48) )
  {
    do
    {
      *(_DWORD *)(v3[23] + 8 * result) += a2;
      v5 = v3[23];
      v6 = (int *)(v5 + 8 * result + 4);
      v7 = a3 + *v6;
      ++result;
      *v6 = v7;
    }
    while ( result < *((_WORD *)v3 + 48) );
  }
  return result;
}

//----- (1001B4B0) --------------------------------------------------------
int __thiscall sub_1001B4B0(char *this, int a2, int a3)
{
  char *v3; // esi@1
  int result; // eax@1
  signed int v5; // ecx@1
  int v6; // esi@2

  v3 = this;
  sub_1001C8E0((int)this, a2, a3);
  result = (int)(v3 + 44);
  v5 = 4;
  do
  {
    v6 = *(_DWORD *)(result - 4);
    result += 8;
    *(_DWORD *)(result - 12) = a2 + v6;
    --v5;
    *(_DWORD *)(result - 8) += a3;
  }
  while ( v5 );
  return result;
}

//----- (1001B4F0) --------------------------------------------------------
int __thiscall sub_1001B4F0(_DWORD *this, int a2, int a3)
{
  _DWORD *v3; // esi@1
  int result; // eax@1

  v3 = this;
  sub_1001C8E0((int)this, a2, a3);
  result = a3 + v3[33];
  v3[32] += a2;
  v3[33] = result;
  return result;
}

//----- (1001B530) --------------------------------------------------------
int __thiscall sub_1001B530(int this, int a2, int a3)
{
  int result; // eax@1
  int v4; // edx@2
  int v5; // ebx@2
  _DWORD *v6; // edx@2

  for ( result = 0; result < *(_DWORD *)this; *v6 = a3 + v5 )
  {
    *(_DWORD *)(*(_DWORD *)(this + 4) + 8 * result) += a2;
    v4 = *(_DWORD *)(this + 4);
    v5 = *(_DWORD *)(v4 + 8 * result + 4);
    v6 = (_DWORD *)(v4 + 8 * result++ + 4);
  }
  return result;
}

//----- (1001B570) --------------------------------------------------------
int __thiscall sub_1001B570(_DWORD *this, int a2, int a3)
{
  _DWORD *v3; // esi@1
  int i; // edi@1
  int v5; // ecx@2
  int result; // eax@3

  v3 = this;
  sub_1001C8E0((int)this, a2, a3);
  for ( i = 0; ; ++i )
  {
    v5 = v3[26];
    result = v5 ? (v3[27] - v5) >> 2 : 0;
    if ( i >= result )
      break;
    sub_1001B530(*(_DWORD *)(v3[26] + 4 * i), a2, a3);
  }
  v3[31] = 0;
  return result;
}

//----- (1001B5C0) --------------------------------------------------------
int __thiscall sub_1001B5C0(void *this, int a2, int a3)
{
  void *v3; // esi@1
  int result; // eax@1
  int v5; // esi@1
  int i; // edi@1

  v3 = this;
  sub_1001C8E0((int)this, a2, a3);
  result = *((_DWORD *)v3 + 11);
  v5 = *(_DWORD *)(result + 4);
  for ( i = *(_DWORD *)(result + 8); v5 != i; v5 += 4 )
    result = (*(int (__stdcall **)(int, int))(**(_DWORD **)v5 + 20))(a2, a3);
  return result;
}

//----- (1001B600) --------------------------------------------------------
void *__thiscall sub_1001B600(void *this, int a2, int a3, int a4, int a5)
{
  void *v5; // esi@1
  int v6; // eax@1
  int v7; // ecx@1
  int v8; // ebx@1
  int v9; // edx@1
  int v10; // eax@1
  void *result; // eax@5
  char v12; // [sp+Ch] [bp-10h]@1

  v5 = this;
  v6 = (*(int (__stdcall **)(char *, _DWORD, _DWORD, _DWORD, signed int, signed int))(*(_DWORD *)this + 16))(
         &v12,
         0,
         0,
         0,
         1065353216,
         1065353216);
  v7 = *(_DWORD *)v6;
  v8 = *(_DWORD *)(v6 + 4);
  v9 = *(_DWORD *)(v6 + 8);
  v10 = *(_DWORD *)(v6 + 12);
  if ( a2 < v7 || a2 >= v9 || a3 < v8 || a3 >= v10 )
    result = 0;
  else
    result = v5;
  return result;
}

//----- (1001B660) --------------------------------------------------------
int __fastcall sub_1001B660(int a1, int a2, signed int a3, signed int a4, int a5, int a6)
{
  int v6; // edi@1
  int v7; // ebx@1
  int v8; // ebp@1
  int v9; // esi@1
  int v11; // esi@8
  int v12; // esi@11
  char v13; // [sp+13h] [bp-9h]@11
  unsigned int v14; // [sp+14h] [bp-8h]@1
  unsigned int v15; // [sp+18h] [bp-4h]@4

  v6 = a1;
  v7 = a6;
  v8 = a5;
  v9 = *(_DWORD *)(a1 + 44) / 2;
  if ( sub_10040C90(
         *(_DWORD *)(a1 + 92) - v9 - a5,
         *(_DWORD *)(a1 + 96) - v9 - a6,
         a5 + v9 + *(_DWORD *)(a1 + 100),
         *(_DWORD *)(a1 + 104) + v9 + a6,
         &v14,
         &a6) != 1 )
    return 0;
  if ( !*(_BYTE *)(*(_DWORD *)(v6 + 20) + 356) )
  {
    if ( sub_10040C90(
           v8 + v9 + *(_DWORD *)(v6 + 92),
           v7 + v9 + *(_DWORD *)(v6 + 96),
           *(_DWORD *)(v6 + 100) - v9 - v8,
           *(_DWORD *)(v6 + 104) - v9 - v7,
           &v15,
           &a5) != 1 )
      goto LABEL_17;
    v11 = sub_10040B80(v14, v14, v15, 3);
    if ( (_BYTE)a5 )
      sub_1003DFA0(v15);
    if ( v11 != 1 )
    {
LABEL_17:
      if ( (_BYTE)a6 )
        sub_1003DFA0(v14);
      return 0;
    }
  }
  v12 = sub_100412E0(v14, a3, a4, &v13);
  if ( (_BYTE)a6 )
    sub_1003DFA0(v14);
  if ( v12 != 1 )
    return 0;
  return v13 != 0 ? v6 : 0;
}

//----- (1001B7B0) --------------------------------------------------------
int __fastcall sub_1001B7B0(int a1, int a2, signed int a3, signed int a4, int a5, int a6)
{
  int v6; // esi@1
  int v7; // ebx@1
  int v8; // ebp@1
  int v9; // edi@1
  int v11; // edi@8
  int v12; // eax@11
  int v13; // edi@12
  int v14; // edi@15
  char v15; // [sp+19h] [bp-19h]@15
  unsigned int v16; // [sp+1Ah] [bp-18h]@1
  unsigned int v17; // [sp+1Eh] [bp-14h]@4
  char v18; // [sp+22h] [bp-10h]@11

  v6 = a1;
  v7 = a6;
  v8 = a5;
  v9 = *(_DWORD *)(a1 + 44) / 2;
  if ( sub_10040C90(
         *(_DWORD *)(a1 + 92) - v9 - a5,
         *(_DWORD *)(a1 + 96) - v9 - a6,
         a5 + v9 + *(_DWORD *)(a1 + 100),
         a6 + v9 + *(_DWORD *)(a1 + 104),
         &v16,
         &a5) != 1 )
    return 0;
  if ( !*(_BYTE *)(*(_DWORD *)(v6 + 20) + 356) )
  {
    if ( sub_10040C90(
           v8 + v9 + *(_DWORD *)(v6 + 92),
           *(_DWORD *)(v6 + 96) + v9 + v7,
           *(_DWORD *)(v6 + 100) - v9 - v8,
           *(_DWORD *)(v6 + 104) - v9 - v7,
           &v17,
           &a6) != 1 )
      goto LABEL_21;
    v11 = sub_10040B80(v16, v16, v17, 3);
    if ( (_BYTE)a6 )
      sub_1003DFA0(v17);
    if ( v11 != 1 )
    {
LABEL_21:
      if ( (_BYTE)a5 )
        sub_1003DFA0(v16);
      return 0;
    }
  }
  v12 = (*(int (__thiscall **)(int, char *, _DWORD, _DWORD, _DWORD, signed int, signed int))(*(_DWORD *)v6 + 16))(
          v6,
          &v18,
          0,
          0,
          0,
          1065353216,
          1065353216);
  if ( sub_10040FC0(*(_DWORD *)v12, *(_DWORD *)(v12 + 4), *(_DWORD *)(v12 + 8), *(_DWORD *)(v12 + 12), &v17, &a6) != 1 )
    return 0;
  v13 = sub_10040B80(v16, v16, v17, 1);
  if ( (_BYTE)a6 )
    sub_1003DFA0(v17);
  if ( v13 != 1 )
    return 0;
  v14 = sub_100412E0(v16, a3, a4, &v15);
  if ( (_BYTE)a5 )
    sub_1003DFA0(v16);
  if ( v14 != 1 )
    return 0;
  return v15 != 0 ? v6 : 0;
}

//----- (1001B970) --------------------------------------------------------
unsigned int __thiscall sub_1001B970(unsigned int this, signed int a2, signed int a3, int a4, int a5)
{
  unsigned int v5; // edi@1
  signed int v6; // eax@2
  int v7; // ebx@2
  int v8; // esi@2
  int v9; // eax@2
  int v10; // ecx@2
  bool v11; // cf@2
  bool v12; // zf@2
  int v13; // eax@2
  int v14; // edx@2
  int v15; // edx@5
  int v16; // eax@5
  int v17; // edi@5
  int v18; // ecx@5
  int v19; // esi@5
  int v20; // eax@6
  int v21; // edx@13
  double v22; // st7@23
  double v23; // st7@23
  double v24; // st7@24
  signed __int64 v25; // rax@26
  double v26; // st7@26
  double v27; // st6@26
  double v28; // st6@27
  signed __int64 v29; // rax@29
  double v30; // st6@29
  double v31; // st6@30
  double v32; // st7@32
  double v33; // st7@33
  unsigned int v34; // ebx@35
  int v35; // esi@35
  int v36; // edi@35
  double v37; // st7@35
  double v38; // st7@36
  double v39; // st7@38
  double v40; // st7@39
  double v41; // st7@41
  double v42; // st7@42
  double v43; // st7@44
  double v44; // st7@45
  int v45; // edi@48
  unsigned __int16 v46; // di@54
  int v48; // esi@58
  char v49; // [sp+Eh] [bp-5Ah]@47
  char v50; // [sp+Fh] [bp-59h]@48
  int v51; // [sp+10h] [bp-58h]@2
  float v52; // [sp+14h] [bp-54h]@23
  unsigned int v53; // [sp+18h] [bp-50h]@47
  unsigned int v54; // [sp+1Ch] [bp-4Ch]@1
  int v55; // [sp+20h] [bp-48h]@2
  int v56; // [sp+24h] [bp-44h]@2
  float v57; // [sp+28h] [bp-40h]@23
  float v58; // [sp+2Ch] [bp-3Ch]@26
  float v59; // [sp+30h] [bp-38h]@29
  float v60; // [sp+34h] [bp-34h]@32
  int v61; // [sp+38h] [bp-30h]@2
  int v62; // [sp+3Ch] [bp-2Ch]@2
  int v63; // [sp+40h] [bp-28h]@2
  int v64; // [sp+44h] [bp-24h]@2
  int v65; // [sp+48h] [bp-20h]@26
  int v66; // [sp+4Ch] [bp-1Ch]@29
  int v67; // [sp+50h] [bp-18h]@32
  int v68; // [sp+54h] [bp-14h]@35
  int v69; // [sp+58h] [bp-10h]@44
  int v70; // [sp+5Ch] [bp-Ch]@47
  int v71; // [sp+60h] [bp-8h]@38
  int v72; // [sp+64h] [bp-4h]@41

  v5 = this;
  v54 = this;
  if ( !*(_BYTE *)(*(_DWORD *)(this + 20) + 356) )
  {
    v6 = *(_DWORD *)(this + 44);
    v61 = 0;
    v63 = 0;
    v7 = a5;
    v8 = 1;
    v51 = 1;
    v9 = a5 + v6 / 2;
    v62 = v9;
    v10 = *(_DWORD *)(this + 92);
    v11 = *(_WORD *)(v5 + 96) < 1u;
    v12 = *(_WORD *)(v5 + 96) == 1;
    v64 = -v9;
    v13 = *(_DWORD *)v10;
    v14 = *(_DWORD *)(v10 + 4);
    v55 = *(_DWORD *)v10;
    v56 = v14;
    if ( !v11 && !v12 )
    {
      while ( 1 )
      {
        v15 = v14 - v7;
        v16 = v13 - a4;
        v17 = v10 + 8 * v8;
        v18 = a4 + *(_DWORD *)v17;
        v19 = v7 + *(_DWORD *)(v17 + 4);
        if ( v16 <= v18 )
        {
          if ( v16 == v18 )
          {
            if ( v18 == 0x7FFFFFFF )
            {
              if ( v16 != 0x80000000 )
                --v16;
            }
            else
            {
              ++v18;
            }
          }
        }
        else
        {
          v20 = v18 ^ v16;
          v18 ^= v20;
          v16 = v18 ^ v20;
        }
        if ( v15 <= v19 )
        {
          if ( v15 == v19 )
          {
            if ( v19 == 0x7FFFFFFF )
            {
              if ( v15 != 0x80000000 )
                --v15;
            }
            else
            {
              ++v19;
            }
          }
        }
        else
        {
          v21 = v19 ^ v15;
          v19 ^= v21;
          v15 = v19 ^ v21;
        }
        if ( a2 < v16 || a2 >= v18 || a3 < v15 || a3 >= v19 )
        {
          v35 = v51;
          v34 = v54;
        }
        else
        {
          sub_10026930(v55, v56, *(_DWORD *)v17, *(_DWORD *)(v17 + 4), 2, (int)&v61, (int)&v57);
          v22 = (double)v55;
          v52 = v22;
          v23 = v22 + v57;
          if ( v23 <= 0.0 )
            v24 = v23 - 0.5;
          else
            v24 = v23 + 0.5;
          v25 = (signed __int64)v24;
          v26 = (double)v56;
          v65 = v25;
          v27 = v26 + v58;
          if ( v27 <= 0.0 )
            v28 = v27 - 0.5;
          else
            v28 = v27 + 0.5;
          v29 = (signed __int64)v28;
          v30 = v52 + v59;
          v66 = v29;
          if ( v30 <= 0.0 )
            v31 = v30 - 0.5;
          else
            v31 = v30 + 0.5;
          v32 = v26 + v60;
          v67 = (signed __int64)v31;
          if ( v32 <= 0.0 )
            v33 = v32 - 0.5;
          else
            v33 = v32 + 0.5;
          v34 = v54;
          v35 = v51;
          v68 = (signed __int64)v33;
          v36 = *(_DWORD *)(v54 + 92) + 8 * v51;
          v37 = (double)*(signed int *)v36 + v57;
          if ( v37 <= 0.0 )
            v38 = v37 - 0.5;
          else
            v38 = v37 + 0.5;
          v71 = (signed __int64)v38;
          v39 = (double)*(signed int *)(v36 + 4) + v58;
          if ( v39 <= 0.0 )
            v40 = v39 - 0.5;
          else
            v40 = v39 + 0.5;
          v72 = (signed __int64)v40;
          v41 = (double)*(signed int *)v36 + v59;
          if ( v41 <= 0.0 )
            v42 = v41 - 0.5;
          else
            v42 = v41 + 0.5;
          v69 = (signed __int64)v42;
          v43 = (double)*(signed int *)(v36 + 4) + v60;
          if ( v43 <= 0.0 )
            v44 = v43 - 0.5;
          else
            v44 = v43 + 0.5;
          v70 = (signed __int64)v44;
          if ( sub_10040DE0((int)&v65, 4, 1, &v53, &v49) != 1 )
            return 0;
          v45 = sub_100412E0(v53, a2, a3, &v50);
          if ( v49 )
            sub_1003DFA0(v53);
          if ( v45 != 1 )
            return 0;
          if ( v50 )
            return v34;
        }
        v10 = *(_DWORD *)(v34 + 92);
        v46 = *(_WORD *)(v34 + 96);
        v13 = *(_DWORD *)(v10 + 8 * v35);
        v14 = *(_DWORD *)(v10 + 8 * v35 + 4);
        v8 = v35 + 1;
        v55 = v13;
        v56 = v14;
        v51 = v8;
        if ( v8 >= v46 )
          return 0;
        v7 = a5;
      }
    }
    return 0;
  }
  if ( sub_10040DE0(*(_DWORD *)(this + 92), *(_WORD *)(this + 96), 2, &v54, &v50) != 1 )
    return 0;
  v48 = sub_100412E0(v54, a2, a3, &v49);
  if ( v50 )
    sub_1003DFA0(v54);
  if ( v48 != 1 || !v49 )
    return 0;
  return v5;
}

//----- (1001BD00) --------------------------------------------------------
int __fastcall sub_1001BD00(int a1, int a2, signed int a3, signed int a4, int a5, int a6)
{
  int v6; // esi@1
  int result; // eax@2
  int v8; // edi@3
  char v9; // [sp+6h] [bp-6h]@1
  char v10; // [sp+7h] [bp-5h]@3
  unsigned int v11; // [sp+8h] [bp-4h]@1

  v6 = a1;
  if ( sub_10040DE0(a1 + 40, 4, 2, &v11, &v9) == 1 )
  {
    v8 = sub_100412E0(v11, a3, a4, &v10);
    if ( v9 )
      sub_1003DFA0(v11);
    if ( v8 == 1 )
      result = v10 != 0 ? v6 : 0;
    else
      result = 0;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1001BD90) --------------------------------------------------------
unsigned int __thiscall sub_1001BD90(void *this, signed int a2, signed int a3, int a4, int a5)
{
  unsigned int v5; // esi@1
  __int16 v6; // ax@1
  int v7; // ebx@1
  __int16 v8; // di@1
  unsigned int result; // eax@1

  v5 = (unsigned int)this;
  v6 = sub_10027750((int)this, 1.0, 1.0);
  v7 = *(_DWORD *)(v5 + 92);
  v8 = *(_WORD *)(v5 + 96);
  *(_WORD *)(v5 + 96) = v6;
  *(_DWORD *)(v5 + 92) = dword_109D1864;
  result = sub_1001B970(v5, a2, a3, a4, a5);
  *(_WORD *)(v5 + 96) = v8;
  *(_DWORD *)(v5 + 92) = v7;
  return result;
}
// 109D1864: using guessed type int dword_109D1864;

//----- (1001BDF0) --------------------------------------------------------
int __thiscall sub_1001BDF0(int this, signed int a2, signed int a3, int a4, int a5)
{
  int v5; // esi@1
  int v6; // eax@2
  int j; // edi@5
  int v8; // ecx@6
  int v9; // eax@7
  int v10; // ecx@10
  int v11; // edi@13
  unsigned int v13; // eax@19
  int v14; // eax@23
  unsigned int *v15; // ebx@25
  int i; // edi@29
  int v17; // ecx@30
  int v18; // eax@31
  signed int v19; // eax@35
  signed int v20; // ecx@35
  char v21; // [sp+Eh] [bp-6h]@4
  char v22; // [sp+Fh] [bp-5h]@13
  unsigned int v23; // [sp+10h] [bp-4h]@4

  v5 = this;
  if ( !*(_BYTE *)(*(_DWORD *)(this + 20) + 356)
    || (v6 = *(_DWORD *)(this + 104)) != 0 && ((*(_DWORD *)(this + 108) - v6) & 0xFFFFFFFC) == 4 )
  {
    if ( *(float *)(this + 124) == 1.0 && (v13 = *(_DWORD *)(this + 116)) != 0 )
    {
      if ( sub_100412E0(v13, a2, a3, (char *)&a2) == 1 && (_BYTE)a2 )
        return v5;
    }
    else
    {
      v14 = *(_DWORD *)(this + 104);
      if ( v14 && (*(_DWORD *)(this + 108) - v14) & 0xFFFFFFFC )
      {
        v15 = (unsigned int *)(this + 116);
        if ( *(_DWORD *)(this + 116) && *(_BYTE *)(this + 120) )
          sub_1003DFA0(*(_DWORD *)(this + 116));
        if ( sub_10040FC0(0, 0, 1, 1, (_DWORD *)(v5 + 116), (_BYTE *)(v5 + 120)) == 1 )
        {
          for ( i = 0; ; ++i )
          {
            v17 = *(_DWORD *)(v5 + 104);
            v18 = v17 ? (*(_DWORD *)(v5 + 108) - v17) >> 2 : 0;
            if ( i >= v18 )
              break;
            sub_1001F4F0(*(_DWORD **)(*(_DWORD *)(v5 + 104) + 4 * i), *v15);
          }
          v19 = a3;
          v20 = a2;
          *(_DWORD *)(v5 + 124) = 1065353216;
          if ( sub_100412E0(*v15, v20, v19, &v22) == 1 )
          {
            if ( v22 )
              return v5;
          }
        }
      }
    }
  }
  else if ( sub_10040FC0(0, 0, 1, 1, &v23, &v21) == 1 )
  {
    for ( j = 0; ; ++j )
    {
      v8 = *(_DWORD *)(v5 + 104);
      v9 = v8 ? (*(_DWORD *)(v5 + 108) - v8) >> 2 : 0;
      if ( j >= v9 )
        break;
      v10 = *(_DWORD *)(*(_DWORD *)(v5 + 104) + 4 * j);
      if ( *(_DWORD *)(v10 + 8) != 3 )
        sub_1001F4F0((_DWORD *)v10, v23);
    }
    v11 = sub_100412E0(v23, a2, a3, &v22);
    if ( v21 )
      sub_1003DFA0(v23);
    if ( v11 == 1 && v22 )
      return v5;
  }
  return 0;
}

//----- (1001BFE0) --------------------------------------------------------
int __fastcall sub_1001BFE0(int a1, int a2, signed int a3, signed int a4, int a5, int a6)
{
  int v6; // esi@1
  int v7; // eax@1
  signed int v8; // ecx@1
  signed int v9; // edi@1
  signed int v10; // edx@1
  signed int v11; // eax@1
  int result; // eax@6
  int v13; // edi@9
  char v14; // [sp+18h] [bp-16h]@7
  char v15; // [sp+19h] [bp-15h]@9
  unsigned int v16; // [sp+1Ah] [bp-14h]@7
  char v17; // [sp+1Eh] [bp-10h]@1

  v6 = a1;
  v7 = (*(int (__stdcall **)(char *, _DWORD, _DWORD, _DWORD, signed int, signed int))(*(_DWORD *)a1 + 16))(
         &v17,
         0,
         0,
         0,
         1065353216,
         1065353216);
  v8 = *(_DWORD *)v7;
  v9 = *(_DWORD *)(v7 + 4);
  v10 = *(_DWORD *)(v7 + 8);
  v11 = *(_DWORD *)(v7 + 12);
  if ( !*(_DWORD *)(v6 + 112) )
  {
    if ( a3 >= v8 && a3 < v10 && a4 >= v9 && a4 < v11 )
      return v6;
    return 0;
  }
  if ( sub_10040DE0(v6 + 60, 4, 1, &v16, &v14) != 1 )
    return 0;
  v13 = sub_100412E0(v16, a3, a4, &v15);
  if ( v14 )
    sub_1003DFA0(v16);
  if ( v13 == 1 )
    result = v15 != 0 ? v6 : 0;
  else
    result = 0;
  return result;
}

//----- (1001C0C0) --------------------------------------------------------
int __thiscall sub_1001C0C0(_DWORD *this, int a2, int a3, int a4, int a5)
{
  _DWORD *v5; // ebx@1
  int v6; // eax@1
  int v7; // ecx@1
  int v8; // esi@1
  int v9; // edx@1
  int v10; // eax@1
  int v11; // eax@5
  int v12; // ecx@5
  int v13; // eax@6
  int v14; // eax@8
  int v15; // esi@9
  int v16; // eax@10
  int v17; // ecx@10
  int v18; // ebp@10
  int v19; // edx@10
  int v20; // eax@10
  int result; // eax@14
  int i; // [sp+40h] [bp-14h]@8
  char v23; // [sp+44h] [bp-10h]@1

  v5 = this;
  v6 = (*(int (__stdcall **)(char *, _DWORD, _DWORD, _DWORD, signed int, signed int))(*this + 16))(
         &v23,
         0,
         0,
         0,
         1065353216,
         1065353216);
  v7 = *(_DWORD *)v6;
  v8 = *(_DWORD *)(v6 + 4);
  v9 = *(_DWORD *)(v6 + 8);
  v10 = *(_DWORD *)(v6 + 12);
  if ( a2 >= v7 && a2 < v9 && a3 >= v8 && a3 < v10 )
  {
    v11 = v5[11];
    v12 = *(_DWORD *)(v11 + 4);
    v13 = v12 ? (*(_DWORD *)(v11 + 8) - v12) >> 2 : 0;
    v14 = v13 - 1;
    for ( i = v14; v14 >= 0; i = --v14 )
    {
      v15 = *(_DWORD *)(*(_DWORD *)(v5[11] + 4) + 4 * v14);
      if ( !(*(_BYTE *)(v15 + 24) & 0x80) )
      {
        v16 = (*(int (__thiscall **)(int, char *, _DWORD, _DWORD, _DWORD, signed int, signed int))(*(_DWORD *)v15 + 16))(
                v15,
                &v23,
                0,
                0,
                0,
                1065353216,
                1065353216);
        v17 = *(_DWORD *)v16;
        v18 = *(_DWORD *)(v16 + 4);
        v19 = *(_DWORD *)(v16 + 8);
        v20 = *(_DWORD *)(v16 + 12);
        if ( a2 >= v17 && a2 < v19 && a3 >= v18 && a3 < v20 )
        {
          result = (*(int (__thiscall **)(int, int, int, int, int))(*(_DWORD *)v15 + 12))(v15, a2, a3, a4, a5);
          if ( result )
            return result;
        }
        v14 = i;
      }
    }
  }
  return 0;
}

//----- (1001C1C0) --------------------------------------------------------
int __thiscall sub_1001C1C0(int this, signed int a2, signed int a3, int a4, int a5)
{
  _DWORD *v5; // esi@1
  int v6; // eax@2
  int v7; // edx@2
  long double v8; // st7@3
  int v9; // eax@3
  int v10; // edx@3
  int v11; // eax@3
  int v13[2]; // [sp+24h] [bp-30h]@3
  long double v14; // [sp+2Ch] [bp-28h]@3
  long double v15; // [sp+34h] [bp-20h]@3
  double v16; // [sp+3Ch] [bp-18h]@3
  int v17; // [sp+44h] [bp-10h]@3
  int v18; // [sp+48h] [bp-Ch]@3
  int v19; // [sp+4Ch] [bp-8h]@3
  int v20; // [sp+50h] [bp-4h]@3

  v5 = (_DWORD *)this;
  if ( *(_BYTE *)(this + 412) )
  {
    v8 = -*(double *)(this + 464) * 0.01745329251994;
    v9 = *(_DWORD *)(this + 472);
    v18 = *(_DWORD *)(this + 476);
    v10 = *(_DWORD *)(this + 480);
    v17 = v9;
    v11 = *(_DWORD *)(this + 484);
    v19 = v10;
    v20 = v11;
    *(double *)v13 = cos(v8);
    v14 = sin(v8);
    v15 = v14 * -1.0;
    v16 = *(double *)v13;
    v6 = sub_100268A0((double)a2, (double)a3, (int)v13);
  }
  else
  {
    v6 = a2;
    v7 = a3;
  }
  return sub_1001C0C0(v5, v6, v7, a4, a5);
}

//----- (1001C270) --------------------------------------------------------
void __thiscall sub_1001C270(int this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9)
{
  *(_WORD *)(this + 24) &= 0x91u;
}

//----- (1001C280) --------------------------------------------------------
void __thiscall sub_1001C280(float *this, int a2, int a3, int a4, int a5, int a6, int a7, double a8)
{
  float *v8; // esi@1
  double v9; // st7@2
  char v11; // c0@2

  v8 = this;
  sub_1001C270((int)this, a2, a3, a4, a5, a6, a7, SLODWORD(a8), SHIDWORD(a8));
  if ( *((_DWORD *)v8 + 15) == 15 )
  {
    v9 = v8[19] - a8;
    v8[19] = v9;
    if ( v11 )
      v8[19] = v9 + 360.0;
  }
}

//----- (1001C2F0) --------------------------------------------------------
signed __int64 __thiscall sub_1001C2F0(void *this, int a2, int a3, double a4, double a5, int a6, int a7)
{
  int v7; // esi@1

  v7 = (int)this;
  sub_1001C270((int)this, a2, a3, SLODWORD(a4), SHIDWORD(a4), SLODWORD(a5), SHIDWORD(a5), a6, a7);
  return sub_10026A20(a2, a3, v7 + 56, a4, a5);
}

//----- (1001C350) --------------------------------------------------------
int __thiscall sub_1001C350(float *this, int a2, int a3, double a4, double a5, double a6)
{
  float *v6; // esi@1
  int v7; // ecx@1
  int v8; // edi@1
  int v9; // ebx@1
  int v10; // edi@1
  int v11; // ebx@1
  int result; // eax@1
  int v13; // ecx@1
  int v14; // edi@1
  int v15; // ecx@1
  int v16; // edx@1
  int v17; // [sp+10h] [bp-8h]@1
  int v18; // [sp+14h] [bp-4h]@1

  v6 = this;
  sub_1001C280(this, a2, a3, SLODWORD(a4), SHIDWORD(a4), SLODWORD(a5), SHIDWORD(a5), a6);
  v7 = *((_DWORD *)v6 + 25);
  v8 = *((_DWORD *)v6 + 23);
  v9 = *((_DWORD *)v6 + 26);
  v17 = (v8 + v7) / 2;
  v18 = (v9 + *((_DWORD *)v6 + 24)) / 2;
  v10 = (v7 - v8) / 2;
  v11 = (v9 - *((_DWORD *)v6 + 24)) / 2;
  sub_10026A20(a2, a3, (int)&v17, a4, a5);
  result = v17;
  v13 = v17 - v10;
  v14 = v17 + v10;
  *((_DWORD *)v6 + 23) = v13;
  v15 = v18;
  v16 = v18;
  *((_DWORD *)v6 + 25) = v14;
  *((_DWORD *)v6 + 24) = v16 - v11;
  *((_DWORD *)v6 + 26) = v15 + v11;
  return result;
}

//----- (1001C410) --------------------------------------------------------
signed __int64 __thiscall sub_1001C410(float *this, int a2, int a3, double a4, double a5, double a6)
{
  float *v6; // esi@1
  int v7; // ecx@1
  int v8; // edi@1
  int v9; // ebx@1
  int v10; // edi@1
  int v11; // ebx@1
  int v12; // ecx@1
  int v13; // edi@1
  int v14; // edx@1
  int v15; // ebx@1
  int v17; // [sp+10h] [bp-8h]@1
  int v18; // [sp+14h] [bp-4h]@1

  v6 = this;
  sub_1001C280(this, a2, a3, SLODWORD(a4), SHIDWORD(a4), SLODWORD(a5), SHIDWORD(a5), a6);
  v7 = *((_DWORD *)v6 + 25);
  v8 = *((_DWORD *)v6 + 23);
  v9 = *((_DWORD *)v6 + 26);
  v17 = (v8 + v7) / 2;
  v18 = (v9 + *((_DWORD *)v6 + 24)) / 2;
  v10 = (v7 - v8) / 2;
  v11 = (v9 - *((_DWORD *)v6 + 24)) / 2;
  sub_10026A20(a2, a3, (int)&v17, a4, a5);
  v12 = v17 - v10;
  v13 = v17 + v10;
  *((_DWORD *)v6 + 23) = v12;
  v14 = v18 - v11;
  v15 = v18 + v11;
  *((_DWORD *)v6 + 25) = v13;
  *((_DWORD *)v6 + 26) = v15;
  *((_DWORD *)v6 + 24) = v14;
  sub_10026A20(a2, a3, (int)(v6 + 27), a4, a5);
  return sub_10026A20(a2, a3, (int)(v6 + 29), a4, a5);
}

//----- (1001C510) --------------------------------------------------------
void __thiscall sub_1001C510(float *this, int a2, int a3, double a4, double a5, double a6)
{
  float *v6; // esi@1
  signed int v7; // edi@1
  int v8; // eax@2

  v6 = this;
  sub_1001C280(this, a2, a3, SLODWORD(a4), SHIDWORD(a4), SLODWORD(a5), SHIDWORD(a5), a6);
  v7 = 0;
  if ( *((_WORD *)v6 + 48) )
  {
    do
      v8 = sub_10026A20(a2, a3, *((_DWORD *)v6 + 23) + 8 * v7++, a4, a5);
    while ( v7 < *((_WORD *)v6 + 48) );
  }
}

//----- (1001C590) --------------------------------------------------------
signed __int64 __thiscall sub_1001C590(char *this, int a2, int a3, double a4, double a5, int a6, int a7)
{
  char *v7; // esi@1
  int v8; // esi@1
  signed int v9; // edi@1
  signed __int64 result; // rax@2

  v7 = this;
  sub_1001C270((int)this, a2, a3, SLODWORD(a4), SHIDWORD(a4), SLODWORD(a5), SHIDWORD(a5), a6, a7);
  v8 = (int)(v7 + 40);
  v9 = 4;
  do
  {
    result = sub_10026A20(a2, a3, v8, a4, a5);
    v8 += 8;
    --v9;
  }
  while ( v9 );
  return result;
}

//----- (1001C600) --------------------------------------------------------
int __thiscall sub_1001C600(_DWORD *this, int a2, int a3, double a4, double a5, double a6)
{
  _DWORD *v6; // esi@1
  unsigned __int8 v8; // c0@1
  unsigned __int8 v9; // c3@1
  double v10; // st7@2
  signed int v11; // edx@4
  int result; // eax@6

  v6 = this;
  sub_1001C270((int)this, a2, a3, SLODWORD(a4), SHIDWORD(a4), SLODWORD(a5), SHIDWORD(a5), SLODWORD(a6), SHIDWORD(a6));
  sub_10026A20(a2, a3, (int)(v6 + 32), a4, a5);
  v6[14] = 0;
  if ( v8 | v9 )
    v10 = a6 - 0.5;
  else
    v10 = a6 + 0.5;
  v11 = (unsigned __int64)(signed __int64)v10 + v6[28];
  v6[28] = v11;
  if ( v11 >= 360 )
    v6[28] = v11 - 360;
  result = v6[28];
  if ( result <= -360 )
  {
    result += 360;
    v6[28] = result;
  }
  return result;
}

//----- (1001C6C0) --------------------------------------------------------
int __thiscall sub_1001C6C0(int this, int a2, int a3, double a4, double a5)
{
  int v5; // esi@1
  int v6; // ecx@2
  __int64 v7; // rax@2
  __int64 v8; // rax@2
  __int64 v9; // rax@2
  int v10; // edi@2
  int v11; // ebx@2
  int result; // eax@2
  int v13; // edi@3
  int v14; // [sp+10h] [bp-8h]@2
  int v15; // [sp+14h] [bp-4h]@2

  v5 = this;
  if ( *(_BYTE *)(this + 12) )
  {
    v6 = *(_DWORD *)(this + 4);
    v7 = *(_DWORD *)v6 + *(_DWORD *)(v6 + 8);
    v14 = ((signed int)v7 - HIDWORD(v7)) >> 1;
    v8 = *(_DWORD *)(v6 + 12) + *(_DWORD *)(v6 + 4);
    v15 = ((signed int)v8 - HIDWORD(v8)) >> 1;
    v9 = *(_DWORD *)(v6 + 8) - *(_DWORD *)v6;
    v10 = ((signed int)v9 - HIDWORD(v9)) >> 1;
    v11 = (*(_DWORD *)(v6 + 12) - *(_DWORD *)(v6 + 4)) / 2;
    sub_10026A20(a2, a3, (int)&v14, a4, a5);
    **(_DWORD **)(v5 + 4) = v14 - v10;
    *(_DWORD *)(*(_DWORD *)(v5 + 4) + 4) = v15 - v11;
    result = *(_DWORD *)(v5 + 4);
    *(_DWORD *)(result + 8) = v14 + v10;
    *(_DWORD *)(*(_DWORD *)(v5 + 4) + 12) = v15 + v11;
  }
  else
  {
    result = *(_DWORD *)this;
    v13 = 0;
    if ( *(_DWORD *)this > 0 )
    {
      do
      {
        sub_10026A20(a2, a3, *(_DWORD *)(v5 + 4) + 8 * v13, a4, a5);
        result = *(_DWORD *)v5;
        ++v13;
      }
      while ( v13 < *(_DWORD *)v5 );
    }
  }
  return result;
}

//----- (1001C7C0) --------------------------------------------------------
int __thiscall sub_1001C7C0(float *this, int a2, int a3, double a4, double a5, double a6)
{
  float *v6; // esi@1
  int v7; // edi@1
  int v8; // ecx@2
  int result; // eax@3

  v6 = this;
  sub_1001C280(this, a2, a3, SLODWORD(a4), SHIDWORD(a4), SLODWORD(a5), SHIDWORD(a5), a6);
  v7 = 0;
  *((_DWORD *)v6 + 31) = 0;
  while ( 1 )
  {
    v8 = *((_DWORD *)v6 + 26);
    result = v8 ? (*((_DWORD *)v6 + 27) - v8) >> 2 : 0;
    if ( v7 >= result )
      break;
    sub_1001C6C0(*(_DWORD *)(*((_DWORD *)v6 + 26) + 4 * v7++), a2, a3, a4, a5);
  }
  return result;
}

//----- (1001C840) --------------------------------------------------------
int __thiscall sub_1001C840(void *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9)
{
  void *v9; // edi@1
  int result; // eax@1
  int v11; // ecx@1
  int v12; // ebx@2
  int i; // esi@4

  v9 = this;
  sub_1001C270((int)this, a2, a3, a4, a5, a6, a7, a8, a9);
  result = *((_DWORD *)v9 + 11);
  v11 = *(_DWORD *)(result + 4);
  if ( v11 )
    v12 = (*(_DWORD *)(result + 8) - v11) >> 2;
  else
    v12 = 0;
  for ( i = 0; i < v12; ++i )
    result = (*(int (__stdcall **)(int, int, int, int, int, int, int, int))(**(_DWORD **)(*(_DWORD *)(*((_DWORD *)v9 + 11) + 4)
                                                                                        + 4 * i)
                                                                          + 24))(
               a2,
               a3,
               a4,
               a5,
               a6,
               a7,
               a8,
               a9);
  return result;
}

//----- (1001C8E0) --------------------------------------------------------
void __thiscall sub_1001C8E0(int this, int a2, int a3)
{
  *(_WORD *)(this + 24) &= 0x91u;
}

//----- (1001C8F0) --------------------------------------------------------
char __thiscall sub_1001C8F0(signed int *this, int a2, int a3)
{
  signed int *v3; // esi@1
  signed __int64 v4; // rax@1
  double v5; // st7@2
  double v6; // st7@3

  v3 = this;
  sub_1001C8E0((int)this, a2, a3);
  LOBYTE(v4) = *((_BYTE *)v3 + 52);
  if ( (_BYTE)v4 )
  {
    v5 = (double)v3[11] * *(float *)&a2;
    if ( v5 <= 0.0 )
      v6 = v5 - 0.5;
    else
      v6 = v5 + 0.5;
    v4 = (signed __int64)v6;
    v3[11] = (signed __int64)v6;
    if ( !(unsigned int)(signed __int64)v6 )
      v3[11] = 1;
  }
  return v4;
}

//----- (1001C950) --------------------------------------------------------
char __thiscall sub_1001C950(signed int *this, int a2, int a3)
{
  return sub_1001C8F0(this, a2, a3);
}

//----- (1001C970) --------------------------------------------------------
signed __int64 __thiscall sub_1001C970(signed int *this, int a2, int a3)
{
  signed int *v3; // esi@1
  double v4; // st7@1
  double v5; // st7@2
  signed __int64 v6; // rax@4
  double v7; // st7@4
  double v8; // st7@4
  signed __int64 result; // rax@5

  v3 = this;
  sub_1001C8F0(this, a2, a3);
  v4 = (double)v3[14] * *(float *)&a2;
  if ( v4 <= 0.0 )
    v5 = v4 - 0.5;
  else
    v5 = v4 + 0.5;
  v6 = (signed __int64)v5;
  v7 = (double)v3[15];
  v3[14] = v6;
  v8 = v7 * *(float *)&a3;
  if ( v8 <= 0.0 )
  {
    result = (signed __int64)(v8 - 0.5);
    v3[15] = result;
  }
  else
  {
    result = (signed __int64)(v8 + 0.5);
    v3[15] = result;
  }
  return result;
}

//----- (1001C9F0) --------------------------------------------------------
signed __int64 __thiscall sub_1001C9F0(signed int *this, int a2, int a3)
{
  signed int *v3; // esi@1
  signed int v4; // edi@1
  signed int v5; // ebx@1
  double v6; // st7@1
  double v7; // st7@2
  signed __int64 v8; // rax@4
  double v9; // st7@4
  double v10; // st7@4
  double v11; // st7@5
  double v12; // st7@7
  double v13; // st7@8
  double v14; // st7@10
  signed __int64 result; // rax@11

  v3 = this;
  sub_1001C950(this, a2, a3);
  v4 = v3[23];
  v5 = v3[24];
  v6 = (double)v3[23] * *(float *)&a2;
  if ( v6 <= 0.0 )
    v7 = v6 - 0.5;
  else
    v7 = v6 + 0.5;
  v8 = (signed __int64)v7;
  v9 = (double)v3[24];
  v3[23] = v8;
  v10 = v9 * *(float *)&a3;
  if ( v10 <= 0.0 )
    v11 = v10 - 0.5;
  else
    v11 = v10 + 0.5;
  v3[24] = (signed __int64)v11;
  v12 = (double)(v3[25] - v4) * *(float *)&a2;
  if ( v12 <= 0.0 )
    v13 = v12 - 0.5;
  else
    v13 = v12 + 0.5;
  v3[25] = v3[23] + (unsigned __int64)(signed __int64)v13;
  v14 = (double)(v3[26] - v5) * *(float *)&a3;
  if ( v14 <= 0.0 )
  {
    result = (signed __int64)(v14 - 0.5);
    v3[26] = result + v3[24];
  }
  else
  {
    result = (signed __int64)(v14 + 0.5);
    v3[26] = result + v3[24];
  }
  return result;
}

//----- (1001CAF0) --------------------------------------------------------
signed __int64 __thiscall sub_1001CAF0(int this, int a2, int a3)
{
  int v3; // esi@1
  int v4; // edi@1
  int v5; // ebp@1
  double v6; // st7@1
  double v7; // st7@2
  int v8; // ebx@4
  int v9; // ST18_4@4
  double v10; // st7@4
  double v11; // st7@5
  int v12; // edi@7
  int v13; // eax@7
  double v14; // st7@7
  double v15; // st7@8
  int v16; // ecx@10
  double v17; // st7@10
  signed __int64 result; // rax@11
  int v19; // [sp+18h] [bp-4h]@1

  v3 = this;
  v4 = *(_DWORD *)(this + 96);
  v5 = *(_DWORD *)(this + 92);
  v19 = *(_DWORD *)(this + 96);
  sub_1001C9F0((signed int *)this, a2, a3);
  v6 = (double)(*(_DWORD *)(v3 + 108) - v5) * *(float *)&a2;
  if ( v6 <= 0.0 )
    v7 = v6 - 0.5;
  else
    v7 = v6 + 0.5;
  v8 = *(_DWORD *)(v3 + 92);
  v9 = *(_DWORD *)(v3 + 112) - v4;
  *(_DWORD *)(v3 + 108) = v8 + (unsigned __int64)(signed __int64)v7;
  v10 = (double)v9 * *(float *)&a3;
  if ( v10 <= 0.0 )
    v11 = v10 - 0.5;
  else
    v11 = v10 + 0.5;
  v12 = *(_DWORD *)(v3 + 96);
  v13 = *(_DWORD *)(v3 + 116) - v5;
  *(_DWORD *)(v3 + 112) = v12 + (unsigned __int64)(signed __int64)v11;
  v14 = (double)v13 * *(float *)&a2;
  if ( v14 <= 0.0 )
    v15 = v14 - 0.5;
  else
    v15 = v14 + 0.5;
  v16 = *(_DWORD *)(v3 + 120);
  *(_DWORD *)(v3 + 116) = (unsigned __int64)(signed __int64)v15 + v8;
  v17 = (double)(v16 - v19) * *(float *)&a3;
  if ( v17 <= 0.0 )
  {
    result = (signed __int64)(v17 - 0.5);
    *(_DWORD *)(v3 + 120) = result + v12;
  }
  else
  {
    result = (signed __int64)(v17 + 0.5);
    *(_DWORD *)(v3 + 120) = result + v12;
  }
  return result;
}

//----- (1001CC20) --------------------------------------------------------
int __thiscall sub_1001CC20(signed int *this, int a2, int a3)
{
  signed int *v3; // ebx@1
  signed int v4; // esi@1
  int v5; // ebp@1
  double v6; // st7@1
  double v7; // st7@2
  signed __int64 v8; // rax@4
  double v9; // st7@4
  double v10; // st7@4
  double v11; // st7@5
  signed __int64 v12; // rax@7
  signed int v13; // esi@7
  _DWORD *v14; // edi@8
  double v15; // st7@8
  double v16; // st7@9
  signed int v17; // edi@11
  double v18; // st7@11
  double v19; // st7@12
  signed int v21; // [sp+10h] [bp-8h]@1

  v3 = this;
  sub_1001C950(this, a2, a3);
  v4 = v3[23];
  v5 = *(_DWORD *)(v4 + 4);
  v21 = *(_DWORD *)v4;
  v6 = (double)*(signed int *)v4 * *(float *)&a2;
  if ( v6 <= 0.0 )
    v7 = v6 - 0.5;
  else
    v7 = v6 + 0.5;
  v8 = (signed __int64)v7;
  v9 = (double)*(signed int *)(v4 + 4);
  *(_DWORD *)v4 = v8;
  v10 = v9 * *(float *)&a3;
  if ( v10 <= 0.0 )
    v11 = v10 - 0.5;
  else
    v11 = v10 + 0.5;
  v12 = (signed __int64)v11;
  *(_DWORD *)(v4 + 4) = (signed __int64)v11;
  v13 = 1;
  if ( *((_WORD *)v3 + 48) > 1u )
  {
    do
    {
      v14 = (_DWORD *)v3[23];
      v15 = (double)(v14[2 * v13] - v21) * *(float *)&a2;
      if ( v15 <= 0.0 )
        v16 = v15 - 0.5;
      else
        v16 = v15 + 0.5;
      v14[2 * v13] = (unsigned __int64)(signed __int64)v16 + *v14;
      v17 = v3[23];
      v18 = (double)(*(_DWORD *)(v17 + 8 * v13 + 4) - v5) * *(float *)&a3;
      if ( v18 <= 0.0 )
        v19 = v18 - 0.5;
      else
        v19 = v18 + 0.5;
      v12 = (signed __int64)v19;
      *(_DWORD *)(v17 + 8 * v13++ + 4) = (unsigned __int64)(signed __int64)v19 + *(_DWORD *)(v17 + 4);
    }
    while ( v13 < *((_WORD *)v3 + 48) );
  }
  return v12;
}

//----- (1001CD40) --------------------------------------------------------
signed __int64 __thiscall sub_1001CD40(signed int *this, int a2, int a3)
{
  signed int *v3; // esi@1
  double v4; // st7@1
  double v5; // st7@2
  signed __int64 v6; // rax@4
  double v7; // st7@4
  double v8; // st7@4
  double v9; // st7@5
  double v10; // st7@7
  double v11; // st7@8
  signed __int64 v12; // rax@10
  double v13; // st7@10
  double v14; // st7@10
  signed __int64 result; // rax@11

  v3 = this;
  sub_1001C8E0((int)this, a2, a3);
  v4 = (double)v3[32] * *(float *)&a2;
  if ( v4 <= 0.0 )
    v5 = v4 - 0.5;
  else
    v5 = v4 + 0.5;
  v6 = (signed __int64)v5;
  v7 = (double)v3[33];
  v3[32] = v6;
  v8 = v7 * *(float *)&a3;
  if ( v8 <= 0.0 )
    v9 = v8 - 0.5;
  else
    v9 = v8 + 0.5;
  v3[33] = (signed __int64)v9;
  v10 = (double)v3[26] * *(float *)&a2;
  if ( v10 <= 0.0 )
    v11 = v10 - 0.5;
  else
    v11 = v10 + 0.5;
  v12 = (signed __int64)v11;
  v13 = (double)v3[25];
  v3[26] = v12;
  v14 = v13 * *(float *)&a2;
  if ( v14 <= 0.0 )
  {
    result = (signed __int64)(v14 - 0.5);
    v3[25] = result;
  }
  else
  {
    result = (signed __int64)(v14 + 0.5);
    v3[25] = result;
  }
  return result;
}

//----- (1001CE20) --------------------------------------------------------
int __thiscall sub_1001CE20(int this, float a2, float a3)
{
  int v3; // esi@1
  int v4; // ebp@2
  double v5; // st7@2
  double v6; // st7@3
  int v7; // esi@5
  double v8; // st7@5
  double v9; // st7@6
  int result; // eax@8
  signed int i; // esi@8
  _DWORD *v12; // ebx@9
  double v13; // st7@9
  double v14; // st7@10
  int v15; // ebx@12
  double v16; // st7@12
  double v17; // st7@13
  int v18; // ebp@17
  __int64 v19; // rax@17
  double v20; // st7@17
  signed int v21; // eax@17
  signed int v22; // ebx@17
  double v23; // st7@18
  double v24; // st7@20
  double v25; // st7@21
  double v26; // st7@23
  double v27; // st7@24
  int v28; // esi@26
  double v29; // st7@26
  double v30; // st7@27
  int v31; // esi@29
  double v32; // st7@29
  double v33; // st7@30
  int v34; // edi@32
  double v35; // st7@32
  double v36; // st7@33
  int v37; // [sp+14h] [bp-10h]@2
  int v38; // [sp+14h] [bp-10h]@20
  int v39; // [sp+18h] [bp-Ch]@23

  v3 = *(_DWORD *)(this + 4);
  if ( *(_BYTE *)(this + 12) )
  {
    v18 = (*(_DWORD *)v3 + *(_DWORD *)(v3 + 8)) / 2;
    v19 = *(_DWORD *)(v3 + 4) + *(_DWORD *)(v3 + 12);
    v20 = (double)v18 * a2;
    v21 = v19 - HIDWORD(v19);
    v22 = v21 >> 1;
    if ( v20 <= 0.0 )
      v23 = v20 - 0.5;
    else
      v23 = v20 + 0.5;
    v38 = (signed __int64)v23;
    v24 = (double)(v21 >> 1) * a3;
    if ( v24 <= 0.0 )
      v25 = v24 - 0.5;
    else
      v25 = v24 + 0.5;
    v39 = (signed __int64)v25;
    v26 = (double)(*(_DWORD *)v3 - v18) * a2;
    if ( v26 <= 0.0 )
      v27 = v26 - 0.5;
    else
      v27 = v26 + 0.5;
    *(_DWORD *)v3 = v38 + (unsigned __int64)(signed __int64)v27;
    v28 = *(_DWORD *)(this + 4);
    v29 = (double)(*(_DWORD *)(v28 + 4) - v22) * a3;
    if ( v29 <= 0.0 )
      v30 = v29 - 0.5;
    else
      v30 = v29 + 0.5;
    *(_DWORD *)(v28 + 4) = v39 + (unsigned __int64)(signed __int64)v30;
    v31 = *(_DWORD *)(this + 4);
    v32 = (double)(*(_DWORD *)(v31 + 8) - v18) * a2;
    if ( v32 <= 0.0 )
      v33 = v32 - 0.5;
    else
      v33 = v32 + 0.5;
    *(_DWORD *)(v31 + 8) = v38 + (unsigned __int64)(signed __int64)v33;
    v34 = *(_DWORD *)(this + 4);
    v35 = (double)(*(_DWORD *)(v34 + 12) - v22) * a3;
    if ( v35 <= 0.0 )
      v36 = v35 - 0.5;
    else
      v36 = v35 + 0.5;
    result = v39 + (unsigned __int64)(signed __int64)v36;
    *(_DWORD *)(v34 + 12) = result;
  }
  else
  {
    v4 = *(_DWORD *)(v3 + 4);
    v37 = *(_DWORD *)v3;
    v5 = (double)*(signed int *)v3 * a2;
    if ( v5 <= 0.0 )
      v6 = v5 - 0.5;
    else
      v6 = v5 + 0.5;
    *(_DWORD *)v3 = (signed __int64)v6;
    v7 = *(_DWORD *)(this + 4);
    v8 = (double)*(signed int *)(v7 + 4) * a3;
    if ( v8 <= 0.0 )
      v9 = v8 - 0.5;
    else
      v9 = v8 + 0.5;
    *(_DWORD *)(v7 + 4) = (signed __int64)v9;
    result = *(_DWORD *)this;
    for ( i = 1; i < *(_DWORD *)this; ++i )
    {
      v12 = *(_DWORD **)(this + 4);
      v13 = (double)(v12[2 * i] - v37) * a2;
      if ( v13 <= 0.0 )
        v14 = v13 - 0.5;
      else
        v14 = v13 + 0.5;
      v12[2 * i] = (unsigned __int64)(signed __int64)v14 + *v12;
      v15 = *(_DWORD *)(this + 4);
      v16 = (double)(*(_DWORD *)(v15 + 8 * i + 4) - v4) * a3;
      if ( v16 <= 0.0 )
        v17 = v16 - 0.5;
      else
        v17 = v16 + 0.5;
      *(_DWORD *)(v15 + 8 * i + 4) = (unsigned __int64)(signed __int64)v17 + *(_DWORD *)(v15 + 4);
      result = *(_DWORD *)this;
    }
  }
  return result;
}

//----- (1001D0C0) --------------------------------------------------------
int __thiscall sub_1001D0C0(signed int *this, float a2, float a3)
{
  signed int *v3; // esi@1
  int i; // edi@1
  signed int v5; // ecx@2
  int result; // eax@3

  v3 = this;
  sub_1001C950(this, SLODWORD(a2), SLODWORD(a3));
  for ( i = 0; ; ++i )
  {
    v5 = v3[26];
    result = v5 ? (v3[27] - v5) >> 2 : 0;
    if ( i >= result )
      break;
    sub_1001CE20(*(_DWORD *)(v3[26] + 4 * i), a2, a3);
  }
  v3[31] = 0;
  return result;
}

//----- (1001D110) --------------------------------------------------------
int __thiscall sub_1001D110(void *this, int a2, int a3)
{
  void *v3; // edi@1
  int v4; // ebp@1
  double v5; // st7@1
  double v6; // st7@2
  signed __int64 v7; // rax@4
  double v8; // st7@4
  double v9; // st7@4
  double v10; // st7@5
  _DWORD *v11; // esi@7
  signed int v12; // ebx@7
  double v13; // st7@8
  double v14; // st7@9
  double v15; // st7@11
  double v16; // st7@12
  int result; // eax@14
  int v18; // [sp+14h] [bp-8h]@1

  v3 = this;
  sub_1001C8E0((int)this, a2, a3);
  v4 = *((_DWORD *)v3 + 11);
  v18 = *((_DWORD *)v3 + 10);
  v5 = (double)*((signed int *)v3 + 10) * *(float *)&a2;
  if ( v5 <= 0.0 )
    v6 = v5 - 0.5;
  else
    v6 = v5 + 0.5;
  v7 = (signed __int64)v6;
  v8 = (double)*((signed int *)v3 + 11);
  *((_DWORD *)v3 + 10) = v7;
  v9 = v8 * *(float *)&a3;
  if ( v9 <= 0.0 )
    v10 = v9 - 0.5;
  else
    v10 = v9 + 0.5;
  *((_DWORD *)v3 + 11) = (signed __int64)v10;
  v11 = (char *)v3 + 52;
  v12 = 3;
  do
  {
    v13 = (double)(*(v11 - 1) - v18) * *(float *)&a2;
    if ( v13 <= 0.0 )
      v14 = v13 - 0.5;
    else
      v14 = v13 + 0.5;
    *(v11 - 1) = *((_DWORD *)v3 + 10) + (unsigned __int64)(signed __int64)v14;
    v15 = (double)(*v11 - v4) * *(float *)&a3;
    if ( v15 <= 0.0 )
      v16 = v15 - 0.5;
    else
      v16 = v15 + 0.5;
    v11 += 2;
    result = *((_DWORD *)v3 + 11) + (unsigned __int64)(signed __int64)v16;
    --v12;
    *(v11 - 2) = result;
  }
  while ( v12 );
  return result;
}

//----- (1001D220) --------------------------------------------------------
int __thiscall sub_1001D220(void *this, int a2, int a3)
{
  void *v3; // ebx@1
  int result; // eax@1
  int v5; // ecx@1
  int v6; // edi@2
  int i; // esi@4

  v3 = this;
  sub_1001C8E0((int)this, a2, a3);
  result = *((_DWORD *)v3 + 11);
  v5 = *(_DWORD *)(result + 4);
  if ( v5 )
    v6 = (*(_DWORD *)(result + 8) - v5) >> 2;
  else
    v6 = 0;
  for ( i = 0; i < v6; ++i )
    result = (*(int (__stdcall **)(int, int))(**(_DWORD **)(*(_DWORD *)(*((_DWORD *)v3 + 11) + 4) + 4 * i) + 28))(
               a2,
               a3);
  return result;
}

//----- (1001D280) --------------------------------------------------------
int __thiscall sub_1001D280(int this, float a2, int a3)
{
  *(float *)(this + 408) = *(float *)(this + 408) / a2;
  return sub_1001D220((void *)this, SLODWORD(a2), a3);
}

//----- (1001D2B0) --------------------------------------------------------
signed int __thiscall sub_1001D2B0(int this, int a2)
{
  signed int result; // eax@2

  if ( a2 )
  {
    *(_DWORD *)(this + 28) = -1;
    *(_WORD *)(this + 24) = 0;
    if ( *(_BYTE *)(a2 + 24) & 0x80 )
      *(_WORD *)(this + 24) = 128;
    result = 1;
  }
  else
  {
    result = -9;
  }
  return result;
}

//----- (1001D2F0) --------------------------------------------------------
signed int __thiscall sub_1001D2F0(_BYTE *this, int a2)
{
  _BYTE *v2; // esi@1
  signed int result; // eax@1

  v2 = this;
  result = sub_1001D2B0((int)this, a2);
  if ( result == 1 )
  {
    v2[40] = *(_BYTE *)(a2 + 40);
    *((_DWORD *)v2 + 11) = *(_DWORD *)(a2 + 44);
    *((_DWORD *)v2 + 12) = *(_DWORD *)(a2 + 48);
    v2[52] = *(_BYTE *)(a2 + 52);
    result = 1;
  }
  return result;
}

//----- (1001D330) --------------------------------------------------------
signed int __thiscall sub_1001D330(_BYTE *this, int a2)
{
  _BYTE *v2; // esi@1
  signed int result; // eax@1

  v2 = this;
  result = sub_1001D2F0(this, a2);
  if ( result == 1 )
  {
    v2[56] = *(_BYTE *)(a2 + 56);
    *((_DWORD *)v2 + 15) = *(_DWORD *)(a2 + 60);
    *((_DWORD *)v2 + 16) = *(_DWORD *)(a2 + 64);
    *((_DWORD *)v2 + 17) = *(_DWORD *)(a2 + 68);
    *((_DWORD *)v2 + 18) = *(_DWORD *)(a2 + 72);
    *((_DWORD *)v2 + 19) = *(_DWORD *)(a2 + 76);
    *((_DWORD *)v2 + 20) = *(_DWORD *)(a2 + 80);
    *((_DWORD *)v2 + 21) = *(_DWORD *)(a2 + 84);
    *((_DWORD *)v2 + 22) = *(_DWORD *)(a2 + 88);
    result = 1;
  }
  return result;
}

//----- (1001D390) --------------------------------------------------------
signed int __thiscall sub_1001D390(_BYTE *this, int a2)
{
  _BYTE *v2; // esi@1
  signed int result; // eax@1

  v2 = this;
  result = sub_1001D2F0(this, a2);
  if ( result == 1 )
  {
    *((_DWORD *)v2 + 14) = *(_DWORD *)(a2 + 56);
    *((_DWORD *)v2 + 15) = *(_DWORD *)(a2 + 60);
    result = 1;
  }
  return result;
}

//----- (1001D3C0) --------------------------------------------------------
signed int __thiscall sub_1001D3C0(void *this, int a2)
{
  void *v2; // edi@1
  signed int result; // eax@1

  v2 = this;
  result = sub_1001D2B0((int)this, a2);
  if ( result == 1 )
    qmemcpy((char *)v2 + 40, (const void *)(a2 + 40), 0x20u);
  return result;
}

//----- (1001D3F0) --------------------------------------------------------
signed int __thiscall sub_1001D3F0(_BYTE *this, int a2)
{
  _BYTE *v2; // esi@1
  signed int result; // eax@1

  v2 = this;
  result = sub_1001D330(this, a2);
  if ( result == 1 )
  {
    *((_DWORD *)v2 + 23) = *(_DWORD *)(a2 + 92);
    *((_DWORD *)v2 + 24) = *(_DWORD *)(a2 + 96);
    *((_DWORD *)v2 + 25) = *(_DWORD *)(a2 + 100);
    *((_DWORD *)v2 + 26) = *(_DWORD *)(a2 + 104);
    result = 1;
  }
  return result;
}

//----- (1001D430) --------------------------------------------------------
signed int __thiscall sub_1001D430(_BYTE *this, int a2)
{
  _BYTE *v2; // esi@1
  signed int result; // eax@1

  v2 = this;
  result = sub_1001D3F0(this, a2);
  if ( result == 1 )
  {
    *((_DWORD *)v2 + 27) = *(_DWORD *)(a2 + 108);
    *((_DWORD *)v2 + 28) = *(_DWORD *)(a2 + 112);
    *((_DWORD *)v2 + 29) = *(_DWORD *)(a2 + 116);
    *((_DWORD *)v2 + 30) = *(_DWORD *)(a2 + 120);
    result = 1;
  }
  return result;
}

//----- (1001D470) --------------------------------------------------------
signed int __thiscall sub_1001D470(_BYTE *this, int a2)
{
  _BYTE *v2; // esi@1
  signed int result; // eax@1
  unsigned __int16 v4; // cx@2
  void *v5; // edi@3
  const void *v6; // esi@4
  unsigned int v7; // ecx@4
  char v8; // al@4
  char *v9; // edi@4
  char *v10; // esi@4

  v2 = this;
  result = sub_1001D330(this, a2);
  if ( result == 1 )
  {
    v4 = *((_WORD *)v2 + 48);
    if ( v4 == *(_WORD *)(a2 + 96) && (v5 = (void *)*((_DWORD *)v2 + 23)) != 0 )
    {
      v6 = *(const void **)(a2 + 92);
      v7 = 8 * v4;
      v8 = v7;
      v7 >>= 2;
      qmemcpy(v5, v6, 4 * v7);
      v10 = (char *)v6 + 4 * v7;
      v9 = (char *)v5 + 4 * v7;
      LOBYTE(v7) = v8;
      result = 1;
      qmemcpy(v9, v10, v7 & 3);
    }
    else
    {
      result = -9;
    }
  }
  return result;
}

//----- (1001D4D0) --------------------------------------------------------
signed int __thiscall sub_1001D4D0(_DWORD *this, int a2)
{
  _DWORD *v2; // esi@1
  signed int result; // eax@1

  v2 = this;
  result = sub_1001D2B0((int)this, a2);
  if ( result == 1 )
  {
    v2[25] = *(_DWORD *)(a2 + 100);
    v2[26] = *(_DWORD *)(a2 + 104);
    *((_BYTE *)v2 + 109) = *(_BYTE *)(a2 + 109);
    *((_BYTE *)v2 + 108) = *(_BYTE *)(a2 + 108);
    *((_BYTE *)v2 + 110) = *(_BYTE *)(a2 + 110);
    *((_BYTE *)v2 + 111) = *(_BYTE *)(a2 + 111);
    v2[28] = *(_DWORD *)(a2 + 112);
    *((_BYTE *)v2 + 120) = *(_BYTE *)(a2 + 120);
    v2[32] = *(_DWORD *)(a2 + 128);
    v2[33] = *(_DWORD *)(a2 + 132);
    result = 1;
  }
  return result;
}

//----- (1001D540) --------------------------------------------------------
signed int __thiscall sub_1001D540(int this, int a2)
{
  void *v2; // edi@2
  const void *v3; // esi@3
  unsigned int v4; // ecx@3
  char v5; // al@3
  char *v6; // edi@3
  char *v7; // esi@3
  signed int result; // eax@3

  if ( *(_DWORD *)this == *(_DWORD *)a2 && (v2 = *(void **)(this + 4)) != 0 )
  {
    v3 = *(const void **)(a2 + 4);
    v4 = 8 * *(_DWORD *)this;
    v5 = v4;
    v4 >>= 2;
    qmemcpy(v2, v3, 4 * v4);
    v7 = (char *)v3 + 4 * v4;
    v6 = (char *)v2 + 4 * v4;
    LOBYTE(v4) = v5;
    result = 1;
    qmemcpy(v6, v7, v4 & 3);
  }
  else
  {
    result = -9;
  }
  return result;
}

//----- (1001D580) --------------------------------------------------------
signed int __thiscall sub_1001D580(_BYTE *this, int a2)
{
  _BYTE *v2; // edi@1
  signed int result; // eax@1
  int v4; // eax@2
  int v5; // ebp@3
  int v6; // ecx@5
  int v7; // eax@6
  int v8; // esi@10

  v2 = this;
  result = sub_1001D330(this, a2);
  if ( result == 1 )
  {
    v4 = *((_DWORD *)v2 + 26);
    if ( v4 )
      v5 = (*((_DWORD *)v2 + 27) - v4) >> 2;
    else
      v5 = 0;
    v6 = *(_DWORD *)(a2 + 104);
    if ( v6 )
      v7 = (*(_DWORD *)(a2 + 108) - v6) >> 2;
    else
      v7 = 0;
    if ( v5 == v7 )
    {
      v8 = 0;
      if ( v5 <= 0 )
      {
LABEL_13:
        *((_DWORD *)v2 + 31) = 0;
        result = 1;
      }
      else
      {
        while ( 1 )
        {
          result = sub_1001D540(*(_DWORD *)(*((_DWORD *)v2 + 26) + 4 * v8), *(_DWORD *)(*(_DWORD *)(a2 + 104) + 4 * v8));
          if ( result != 1 )
            break;
          if ( ++v8 >= v5 )
            goto LABEL_13;
        }
      }
    }
    else
    {
      result = -9;
    }
  }
  return result;
}

//----- (1001D600) --------------------------------------------------------
signed int __thiscall sub_1001D600(_DWORD *this, int a2)
{
  int v2; // edi@1
  _DWORD *v3; // esi@1
  signed int result; // eax@1
  int v5; // eax@2
  int v6; // ecx@2
  int v7; // edx@3
  int v8; // eax@5
  int v9; // ecx@5
  int v10; // eax@6
  int v11; // ebp@10
  _BYTE *v12; // esi@13
  int v13; // edi@13
  int v14; // ebx@13
  int v15; // [sp+10h] [bp-8h]@3
  _DWORD *v16; // [sp+14h] [bp-4h]@1

  v2 = a2;
  v3 = this;
  v16 = this;
  result = sub_1001D2B0((int)this, a2);
  if ( result == 1 )
  {
    v5 = v3[11];
    v6 = *(_DWORD *)(v5 + 4);
    if ( v6 )
    {
      v15 = (*(_DWORD *)(v5 + 8) - v6) >> 2;
      v7 = (*(_DWORD *)(v5 + 8) - v6) >> 2;
    }
    else
    {
      v7 = 0;
      v15 = 0;
    }
    v8 = *(_DWORD *)(a2 + 44);
    v9 = *(_DWORD *)(v8 + 4);
    if ( v9 )
      v10 = (*(_DWORD *)(v8 + 8) - v9) >> 2;
    else
      v10 = 0;
    if ( v7 != v10 )
      return -9;
    v11 = 0;
    if ( v7 > 0 )
    {
      while ( 1 )
      {
        v12 = *(_BYTE **)(*(_DWORD *)(v3[11] + 4) + 4 * v11);
        v13 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v2 + 44) + 4) + 4 * v11);
        v14 = (*(int (__thiscall **)(_BYTE *))(*(_DWORD *)v12 + 80))(v12);
        if ( v14 != (*(int (__thiscall **)(int))(*(_DWORD *)v13 + 80))(v13) )
          return -9;
        switch ( v14 )
        {
          case 8:
            result = sub_1001D390(v12, v13);
            goto LABEL_23;
          case 9:
          case 15:
            result = sub_1001D470(v12, v13);
            goto LABEL_23;
          case 10:
            result = sub_1001D3F0(v12, v13);
            goto LABEL_23;
          case 11:
            result = sub_1001D430(v12, v13);
            goto LABEL_23;
          case 12:
            result = sub_1001D4D0(v12, v13);
            goto LABEL_23;
          case 14:
            result = sub_1001D600(v13);
            goto LABEL_23;
          case 16:
            result = sub_1001D3C0(v12, v13);
            goto LABEL_23;
          case 17:
            result = sub_1001D580(v12, v13);
LABEL_23:
            if ( result == 1 )
              goto LABEL_24;
            return result;
          default:
LABEL_24:
            if ( ++v11 >= v15 )
              goto LABEL_25;
            v2 = a2;
            v3 = v16;
            break;
        }
      }
    }
LABEL_25:
    result = 1;
  }
  return result;
}

//----- (1001D750) --------------------------------------------------------
signed int __thiscall sub_1001D750(_DWORD *this, int a2)
{
  int v2; // ebx@1
  _DWORD *v3; // edi@1
  signed int result; // eax@1
  int v5; // ecx@3
  _DWORD *v6; // eax@7
  unsigned int v7; // ebx@8
  int v8; // ST20_4@9
  int *v9; // ST20_4@9
  int v10; // eax@10
  _DWORD *v11; // eax@12
  _DWORD *v12; // eax@12
  int v13; // [sp+10h] [bp-8h]@2
  unsigned int v14; // [sp+14h] [bp-4h]@4

  v2 = a2;
  v3 = this;
  result = sub_1001D600(this, a2);
  if ( result == 1 )
  {
    v3[102] = *(_DWORD *)(a2 + 408);
    v3[94] = *(_DWORD *)(a2 + 376);
    *((_BYTE *)v3 + 380) = *(_BYTE *)(a2 + 380);
    v13 = a2 + 384;
    if ( v3 + 96 != (_DWORD *)(a2 + 384) )
    {
      v5 = *(_DWORD *)(a2 + 388);
      if ( v5 )
        v14 = (*(_DWORD *)(a2 + 392) - v5) >> 2;
      else
        v14 = 0;
      if ( v14 > sub_1000F810((int)(v3 + 96)) )
      {
        v7 = sub_1000F810(v13);
        if ( v7 > sub_1001D9E0((int)(v3 + 96)) )
        {
          nullsub_1(v3[97], v3[98]);
          j__free((void *)v3[97]);
          v2 = a2;
          v10 = sub_1000F810(a2 + 384);
          if ( v10 < 0 )
            v10 = 0;
          v11 = operator new(4 * v10);
          v3[97] = v11;
          v12 = sub_1001B350(*(_DWORD **)(a2 + 388), *(_DWORD **)(a2 + 392), v11);
          v3[98] = v12;
          v3[99] = v12;
        }
        else
        {
          v2 = a2;
          v8 = *(_DWORD *)(a2 + 388);
          v9 = (int *)(v8 + 4 * sub_1000F810((int)(v3 + 96)));
          sub_1001DA00(*(int **)(a2 + 388), v9, (_DWORD *)v3[97]);
          sub_1001B350(v9, *(_DWORD **)(a2 + 392), (_DWORD *)v3[98]);
          v3[98] = v3[97] + 4 * sub_1000F810(a2 + 384);
        }
      }
      else
      {
        v6 = sub_1001DA00(*(int **)(a2 + 388), *(int **)(a2 + 392), (_DWORD *)v3[97]);
        nullsub_1(v6, v3[98]);
        v3[98] = v3[97] + 4 * sub_1000F810(v13);
      }
    }
    v3[100] = *(_DWORD *)(v2 + 400);
    *((_BYTE *)v3 + 412) = *(_BYTE *)(v2 + 412);
    v3[104] = *(_DWORD *)(v2 + 416);
    v3[105] = *(_DWORD *)(v2 + 420);
    v3[106] = *(_DWORD *)(v2 + 424);
    v3[107] = *(_DWORD *)(v2 + 428);
    v3[108] = *(_DWORD *)(v2 + 432);
    v3[109] = *(_DWORD *)(v2 + 436);
    v3[110] = *(_DWORD *)(v2 + 440);
    v3[111] = *(_DWORD *)(v2 + 444);
    v3[112] = *(_DWORD *)(v2 + 448);
    v3[113] = *(_DWORD *)(v2 + 452);
    v3[114] = *(_DWORD *)(v2 + 456);
    v3[115] = *(_DWORD *)(v2 + 460);
    v3[116] = *(_DWORD *)(v2 + 464);
    v3[117] = *(_DWORD *)(v2 + 468);
    v3[118] = *(_DWORD *)(v2 + 472);
    v3[119] = *(_DWORD *)(v2 + 476);
    v3[120] = *(_DWORD *)(v2 + 480);
    v3[121] = *(_DWORD *)(v2 + 484);
    result = 1;
  }
  return result;
}
// 1001A990: using guessed type _DWORD __stdcall nullsub_1(_DWORD, _DWORD);

//----- (1001D9E0) --------------------------------------------------------
int __thiscall sub_1001D9E0(int this)
{
  int v1; // edx@1
  int result; // eax@2

  v1 = *(_DWORD *)(this + 4);
  if ( v1 )
    result = (*(_DWORD *)(this + 12) - v1) >> 2;
  else
    result = 0;
  return result;
}

//----- (1001DA00) --------------------------------------------------------
_DWORD *__cdecl sub_1001DA00(int *a1, int *a2, _DWORD *a3)
{
  int *v3; // ecx@1
  _DWORD *result; // eax@2
  int v5; // esi@3

  v3 = a1;
  if ( a1 == a2 )
  {
    result = a3;
  }
  else
  {
    result = a3;
    do
    {
      v5 = *v3;
      ++v3;
      *result = v5;
      ++result;
    }
    while ( v3 != a2 );
  }
  return result;
}

//----- (1001DA30) --------------------------------------------------------
int __thiscall sub_1001DA30(int this)
{
  int v1; // ecx@1
  int result; // eax@2

  v1 = *(_DWORD *)(this + 20);
  if ( v1 )
    result = (*(int (**)(void))(*(_DWORD *)v1 + 64))();
  else
    result = 0;
  return result;
}

//----- (1001DA40) --------------------------------------------------------
int __thiscall sub_1001DA40(int this, unsigned __int8 a2, int a3)
{
  int result; // eax@2

  if ( a3 )
    result = *(_BYTE *)(*(_BYTE *)(this + 32) + a3);
  else
    result = a2;
  if ( result )
    *(_WORD *)(this + 24) &= 0xFF7Fu;
  else
    *(_BYTE *)(this + 24) |= 0x80u;
  return result;
}

//----- (1001DA70) --------------------------------------------------------
int __thiscall sub_1001DA70(int this)
{
  double v1; // st7@1
  signed int v2; // edi@6
  double v3; // st7@6
  signed __int64 v4; // rax@7
  double v5; // st7@9
  double v6; // st7@10
  int v7; // eax@12
  double v8; // st7@14
  double v10; // [sp+4h] [bp-Ch]@9

  v1 = 1.0;
  if ( *(_BYTE *)(this + 108) )
    v1 = 1.3;
  if ( *(_BYTE *)(this + 109) )
    v1 = v1 * 1.1;
  if ( *(_DWORD *)(this + 104) )
  {
    v10 = (double)*(signed int *)(this + 104);
    v5 = v1 * ((double)*(_WORD *)(this + 96) * v10);
    if ( v5 <= 0.0 )
      v6 = v5 - 0.5;
    else
      v6 = v5 + 0.5;
    *(_DWORD *)(this + 40) = (signed __int64)v6;
    v7 = *(_DWORD *)(this + 100);
    if ( v7 )
    {
      LODWORD(v4) = abs(v4);
      *(_DWORD *)(this + 44) = v4;
    }
    else
    {
      v8 = v10 * 1.5 + 0.5;
      if ( v8 <= 0.0 )
      {
        v4 = (signed __int64)(v8 - 0.5);
        *(_DWORD *)(this + 44) = v4;
      }
      else
      {
        v4 = (signed __int64)(v8 + 0.5);
        *(_DWORD *)(this + 44) = v4;
      }
    }
  }
  else
  {
    v2 = abs(*(_DWORD *)(this + 100));
    v3 = v1 * ((double)(*(_WORD *)(this + 96) + 1) * (double)v2) * 0.6666666666666666 + 0.5;
    if ( v3 <= 0.0 )
    {
      v4 = (signed __int64)(v3 - 0.5);
      *(_DWORD *)(this + 44) = v2;
      *(_DWORD *)(this + 40) = v4;
    }
    else
    {
      v4 = (signed __int64)(v3 + 0.5);
      *(_DWORD *)(this + 44) = v2;
      *(_DWORD *)(this + 40) = v4;
    }
  }
  return v4;
}

//----- (1001DBA0) --------------------------------------------------------
signed int __thiscall sub_1001DBA0(int this, const char *a2, unsigned __int16 a3)
{
  int v3; // ebx@1
  __int16 v4; // ax@9
  char *v5; // eax@10
  signed int result; // eax@11

  v3 = this;
  if ( !a3 || (signed __int16)a3 < -1 || !a2 )
    goto LABEL_16;
  if ( *(_DWORD *)(this + 92) )
    j__free(*(void **)(this + 92));
  *(_WORD *)(v3 + 96) = a3 == -1 ? (unsigned __int16)strlen(a2) : a3;
  v4 = *(_WORD *)(v3 + 96);
  if ( v4 > 0 )
  {
    v5 = (char *)operator new(v4 + 1);
    *(_DWORD *)(v3 + 92) = v5;
    if ( v5 )
    {
      qmemcpy(v5, a2, *(_WORD *)(v3 + 96));
      *(_BYTE *)(*(_WORD *)(v3 + 96) + *(_DWORD *)(v3 + 92)) = 0;
      *(_DWORD *)(v3 + 56) = 0;
      result = 1;
    }
    else
    {
      result = -1;
    }
  }
  else
  {
LABEL_16:
    result = -9;
  }
  return result;
}

//----- (1001DC60) --------------------------------------------------------
int __thiscall sub_1001DC60(int this, _DWORD *a2, _BYTE *a3)
{
  int result; // eax@1

  result = -10;
  if ( *(_DWORD *)this > 0 )
  {
    if ( *(_BYTE *)(this + 12) )
      result = sub_10040C90(
                 **(_DWORD **)(this + 4),
                 *(_DWORD *)(*(_DWORD *)(this + 4) + 4),
                 *(_DWORD *)(*(_DWORD *)(this + 4) + 8),
                 *(_DWORD *)(*(_DWORD *)(this + 4) + 12),
                 a2,
                 a3);
    else
      result = sub_10040DE0(*(_DWORD *)(this + 4), *(_DWORD *)this, *(_DWORD *)(this + 16), a2, a3);
  }
  return result;
}

//----- (1001DCC0) --------------------------------------------------------
signed int __thiscall sub_1001DCC0(int this, int a2)
{
  int v2; // eax@1
  int v3; // esi@2
  int v4; // eax@2
  _DWORD *v5; // edi@2
  int v6; // edx@3
  unsigned int v7; // ecx@4
  int v8; // eax@7
  int v9; // eax@9
  char *v10; // eax@11
  _DWORD *v11; // ebp@11
  char *j; // ebx@11
  int v13; // eax@13
  signed int result; // eax@14
  int v15; // ecx@15
  _DWORD *i; // eax@16
  char *v24; // [sp+0h] [bp-8h]@11
  int v25; // [sp+4h] [bp-4h]@9

  v2 = a2;
  if ( a2 )
  {
    *(_WORD *)(this + 24) &= 0x91u;
    v3 = this + 100;
    *(_DWORD *)(this + 124) = 0;
    a2 = v2;
    v4 = *(_DWORD *)(this + 108);
    v5 = (_DWORD *)v4;
    if ( (unsigned int)((*(_DWORD *)(this + 112) - v4) >> 2) >= 1 )
    {
      sub_1001B350((_DWORD *)v4, (_DWORD *)v4, (_DWORD *)(v4 + 4));
      sub_1000F830(*(_DWORD **)(v3 + 8), (_DWORD *)(1 - ((*(_DWORD *)(v3 + 8) - (signed int)v5) >> 2)), &a2);
      for ( i = *(_DWORD **)(v3 + 8); v5 != i; ++v5 )
        *v5 = a2;
      *(_DWORD *)(v3 + 8) += 4;
      result = 1;
    }
    else
    {
      v6 = *(_DWORD *)(this + 104);
      if ( !v6 || (v7 = (v4 - v6) >> 2, v7 <= 1) )
        v7 = 1;
      if ( v6 )
        v8 = (v4 - v6) >> 2;
      else
        v8 = 0;
      v9 = v7 + v8;
      v25 = v9;
      if ( v9 < 0 )
        v9 = 0;
      v10 = (char *)operator new(4 * v9);
      v11 = *(_DWORD **)(v3 + 4);
      v24 = v10;
      for ( j = v10; v11 != v5; j += 4 )
      {
        sub_1001E440(j, v11);
        ++v11;
      }
      sub_1000F830(j, (_DWORD *)1, &a2);
      sub_1001B350(v5, *(_DWORD **)(v3 + 8), (_DWORD *)j + 1);
      nullsub_1(*(_DWORD *)(v3 + 4), *(_DWORD *)(v3 + 8));
      j__free(*(void **)(v3 + 4));
      v13 = *(_DWORD *)(v3 + 4);
      *(_DWORD *)(v3 + 12) = &v24[4 * v25];
      if ( v13 )
      {
        v15 = *(_DWORD *)(v3 + 8);
        *(_DWORD *)(v3 + 4) = v24;
        *(_DWORD *)(v3 + 8) = &v24[4 * ((v15 - v13) >> 2) + 4];
        result = 1;
      }
      else
      {
        *(_DWORD *)(v3 + 4) = v24;
        *(_DWORD *)(v3 + 8) = v24 + 4;
        result = 1;
      }
    }
  }
  else
  {
    result = -9;
  }
  return result;
}
// 1001A990: using guessed type _DWORD __stdcall nullsub_1(_DWORD, _DWORD);

//----- (1001DEA0) --------------------------------------------------------
int __thiscall sub_1001DEA0(int this)
{
  int v1; // eax@1
  int v2; // edx@2
  int result; // eax@3
  _DWORD **v4; // ecx@4
  int **v5; // esi@5
  int v6; // edx@5

  v1 = *(_DWORD *)(this + 104);
  if ( v1 && (v2 = (*(_DWORD *)(this + 108) - v1) >> 2) != 0 )
  {
    v4 = *(_DWORD ***)(this + 104);
    result = **v4;
    if ( v2 > 1 )
    {
      v5 = v4 + 1;
      v6 = v2 - 1;
      do
      {
        if ( **v5 > result )
          result = **v5;
        ++v5;
        --v6;
      }
      while ( v6 );
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1001DEE0) --------------------------------------------------------
int __thiscall sub_1001DEE0(int this)
{
  int result; // eax@1

  result = 100 * (*(_WORD *)(this + 96) / 3);
  if ( result > 10000 )
    result = 10000;
  return result;
}

//----- (1001DF10) --------------------------------------------------------
unsigned int __thiscall sub_1001DF10(int this)
{
  int v1; // eax@1
  int v2; // esi@1
  int v3; // ebx@1
  unsigned int i; // edi@1
  unsigned int v5; // eax@2

  v1 = *(_DWORD *)(this + 44);
  v2 = *(_DWORD *)(v1 + 4);
  v3 = *(_DWORD *)(v1 + 8);
  for ( i = 0; v2 != v3; v2 += 4 )
  {
    v5 = (*(int (**)(void))(**(_DWORD **)v2 + 60))();
    if ( v5 > i )
      i = v5;
  }
  return i;
}

//----- (1001DF40) --------------------------------------------------------
int __thiscall sub_1001DF40(int this, int a2, int a3)
{
  int v3; // edi@1
  int result; // eax@3
  int v5; // esi@3
  int i; // ebx@3

  v3 = this;
  if ( a2 )
    *(_DWORD *)(this + 20) = a2;
  *(_DWORD *)(this + 40) = a3;
  result = *(_DWORD *)(this + 44);
  v5 = *(_DWORD *)(result + 4);
  for ( i = *(_DWORD *)(result + 8); v5 != i; v5 += 4 )
    result = (*(int (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)v5 + 56))(0, *(_DWORD *)(v3 + 40));
  return result;
}

//----- (1001DF80) --------------------------------------------------------
void __thiscall sub_1001DF80(void *this, char *a2)
{
  void *v2; // esi@1

  v2 = this;
  if ( a2 )
  {
    if ( (signed int)strlen(a2) >= 255 )
    {
      strncpy((char *)v2 + 96, a2, 0xFEu);
      *((_BYTE *)v2 + 350) = 0;
    }
    else
    {
      strcpy((char *)v2 + 96, a2);
    }
  }
}

//----- (1001DFF0) --------------------------------------------------------
signed int __thiscall sub_1001DFF0(int this, int a2)
{
  int v2; // ebx@1
  int v3; // esi@1
  int v4; // ebp@1
  int v5; // eax@1
  signed int v6; // ecx@1
  _DWORD *v7; // edi@1
  int v8; // edx@2
  unsigned int v9; // ecx@3
  int v10; // eax@6
  int v11; // eax@8
  char *v12; // eax@10
  _DWORD *v13; // ebp@10
  char *j; // ebx@10
  int v15; // edx@12
  int v16; // eax@12
  int v17; // ecx@13
  _DWORD *i; // eax@16
  int v27; // [sp+10h] [bp-10h]@1
  char *v28; // [sp+14h] [bp-Ch]@10
  int v29; // [sp+18h] [bp-8h]@8
  int v30; // [sp+1Ch] [bp-4h]@1

  v2 = this;
  v3 = *(_DWORD *)(this + 44);
  v4 = a2;
  v30 = this;
  v5 = *(_DWORD *)(v3 + 8);
  v6 = *(_DWORD *)(v3 + 12) - v5;
  v27 = a2;
  v7 = (_DWORD *)v5;
  if ( (unsigned int)(v6 >> 2) >= 1 )
  {
    sub_1001B350((_DWORD *)v5, (_DWORD *)v5, (_DWORD *)(v5 + 4));
    sub_1000F830(*(_DWORD **)(v3 + 8), (_DWORD *)(1 - ((*(_DWORD *)(v3 + 8) - (signed int)v7) >> 2)), &v27);
    for ( i = *(_DWORD **)(v3 + 8); v7 != i; ++v7 )
      *v7 = v27;
    *(_DWORD *)(v3 + 8) += 4;
  }
  else
  {
    v8 = *(_DWORD *)(v3 + 4);
    if ( !v8 || (v9 = (v5 - v8) >> 2, v9 <= 1) )
      v9 = 1;
    if ( v8 )
      v10 = (v5 - v8) >> 2;
    else
      v10 = 0;
    v11 = v9 + v10;
    v29 = v11;
    if ( v11 < 0 )
      v11 = 0;
    v12 = (char *)operator new(4 * v11);
    v13 = *(_DWORD **)(v3 + 4);
    v28 = v12;
    for ( j = v12; v13 != v7; j += 4 )
    {
      sub_1001E440(j, v13);
      ++v13;
    }
    sub_1000F830(j, (_DWORD *)1, &v27);
    sub_1001B350(v7, *(_DWORD **)(v3 + 8), (_DWORD *)j + 1);
    nullsub_1(*(_DWORD *)(v3 + 4), *(_DWORD *)(v3 + 8));
    j__free(*(void **)(v3 + 4));
    v15 = (int)v28;
    v16 = *(_DWORD *)(v3 + 4);
    *(_DWORD *)(v3 + 12) = &v28[4 * v29];
    if ( v16 )
      v17 = (*(_DWORD *)(v3 + 8) - v16) >> 2;
    else
      v17 = 0;
    v2 = v30;
    v4 = a2;
    *(_DWORD *)(v3 + 4) = v15;
    *(_DWORD *)(v3 + 8) = v15 + 4 * v17 + 4;
  }
  (*(void (__thiscall **)(int, int, _DWORD))(*(_DWORD *)v4 + 56))(v4, v2, *(_DWORD *)(v2 + 40));
  return 1;
}
// 1001A990: using guessed type _DWORD __stdcall nullsub_1(_DWORD, _DWORD);

//----- (1001E1A0) --------------------------------------------------------
signed int __thiscall sub_1001E1A0(int this, int a2, _DWORD *a3, _DWORD *a4)
{
  int v4; // edx@1
  signed int result; // eax@2
  _DWORD **v6; // ecx@3
  _DWORD **v7; // eax@3
  int v8; // eax@7
  int v9; // eax@9

  v4 = *(_DWORD *)(this + 372);
  if ( v4 )
  {
    v6 = *(_DWORD ***)(v4 + 8);
    v7 = *(_DWORD ***)(v4 + 4);
    if ( v7 == v6 )
      goto LABEL_12;
    while ( **v7 != a2 )
    {
      ++v7;
      if ( v7 == v6 )
        return -20;
    }
    v8 = ((signed int)v7 - *(_DWORD *)(v4 + 4)) >> 2;
    if ( v8 >= 0 )
    {
      v9 = *(_DWORD *)(*(_DWORD *)(v4 + 4) + 4 * v8);
      *a3 = v9 + 4;
      *a4 = *(_DWORD *)(v9 + 8);
      result = 1;
    }
    else
    {
LABEL_12:
      result = -20;
    }
  }
  else
  {
    result = -20;
  }
  return result;
}

//----- (1001E220) --------------------------------------------------------
int __thiscall sub_1001E220(int this, int a2)
{
  int result; // eax@1

  result = a2;
  *(_DWORD *)(this + 408) = a2;
  return result;
}

//----- (1001E230) --------------------------------------------------------
int __thiscall sub_1001E230(void *this)
{
  return sub_1001E750((int)this + 376);
}

//----- (1001E240) --------------------------------------------------------
_DWORD *__thiscall sub_1001E240(int this, _BYTE *a2, _DWORD *a3, _DWORD *a4)
{
  _DWORD *result; // eax@5

  if ( a2 )
    *(_BYTE *)(this + 40) = *a2;
  if ( a3 )
    *(_DWORD *)(this + 44) = *a3;
  result = a4;
  if ( a4 )
  {
    result = (_DWORD *)*a4;
    *(_DWORD *)(this + 48) = *a4;
  }
  return result;
}

//----- (1001E270) --------------------------------------------------------
int __thiscall sub_1001E270(_DWORD *this, int a2, int a3, int a4)
{
  int i; // esi@1
  int v5; // ecx@2
  int v6; // edx@2
  int result; // eax@3
  _DWORD *v8; // [sp+10h] [bp-4h]@1

  v8 = this;
  for ( i = 0; ; ++i )
  {
    v5 = v8[11];
    v6 = *(_DWORD *)(v5 + 4);
    result = v6 ? (*(_DWORD *)(v5 + 8) - v6) >> 2 : 0;
    if ( i >= result )
      break;
    (*(void (__stdcall **)(int, int, int))(**(_DWORD **)(*(_DWORD *)(v5 + 4) + 4 * i) + 68))(a2, a3, a4);
  }
  return result;
}

//----- (1001E2C0) --------------------------------------------------------
int __thiscall sub_1001E2C0(int this, _BYTE *a2, _DWORD *a3, int a4)
{
  int result; // eax@5

  if ( a2 )
    *(_BYTE *)(this + 56) = *a2;
  if ( a3 )
    *(_DWORD *)(this + 60) = *a3;
  result = a4;
  if ( a4 )
  {
    *(_DWORD *)(this + 64) = *(_DWORD *)a4;
    *(_DWORD *)(this + 68) = *(_DWORD *)(a4 + 4);
    *(_DWORD *)(this + 72) = *(_DWORD *)(a4 + 8);
    *(_DWORD *)(this + 76) = *(_DWORD *)(a4 + 12);
    *(_DWORD *)(this + 80) = *(_DWORD *)(a4 + 16);
    *(_DWORD *)(this + 84) = *(_DWORD *)(a4 + 20);
    result = *(_DWORD *)(a4 + 24);
    *(_DWORD *)(this + 88) = result;
  }
  return result;
}

//----- (1001E310) --------------------------------------------------------
int __thiscall sub_1001E310(_DWORD *this, int a2, int a3, int a4)
{
  int i; // esi@1
  int v5; // ecx@2
  int v6; // edx@2
  int result; // eax@3
  _DWORD *v8; // [sp+10h] [bp-4h]@1

  v8 = this;
  for ( i = 0; ; ++i )
  {
    v5 = v8[11];
    v6 = *(_DWORD *)(v5 + 4);
    result = v6 ? (*(_DWORD *)(v5 + 8) - v6) >> 2 : 0;
    if ( i >= result )
      break;
    (*(void (__stdcall **)(int, int, int))(**(_DWORD **)(*(_DWORD *)(v5 + 4) + 4 * i) + 72))(a2, a3, a4);
  }
  return result;
}

//----- (1001E360) --------------------------------------------------------
_DWORD *__thiscall sub_1001E360(int this, _BYTE *a2, _DWORD *a3, _DWORD *a4, _BYTE *a5, _BYTE *a6, _DWORD *a7)
{
  _DWORD *result; // eax@19

  if ( a2 )
    *(_BYTE *)(this + 120) = *a2;
  if ( a3 )
    *(_DWORD *)(this + 100) = *a3;
  if ( a4 )
    *(_DWORD *)(this + 104) = *a4;
  if ( a5 )
  {
    if ( *a5 & 1 )
      *(_BYTE *)(this + 108) = 1;
    else
      *(_BYTE *)(this + 108) = 0;
    if ( *a5 & 2 )
      *(_BYTE *)(this + 109) = 1;
    else
      *(_BYTE *)(this + 109) = 0;
    if ( *a5 & 4 )
      *(_BYTE *)(this + 110) = 1;
    else
      *(_BYTE *)(this + 110) = 0;
  }
  if ( a6 )
    *(_BYTE *)(this + 111) = *a6;
  result = a7;
  if ( a7 )
  {
    result = (_DWORD *)*a7;
    *(_DWORD *)(this + 112) = *a7;
  }
  return result;
}

//----- (1001E3E0) --------------------------------------------------------
int __thiscall sub_1001E3E0(_DWORD *this, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int i; // esi@1
  int result; // eax@2
  int v9; // edx@2
  int v10; // ecx@3
  _DWORD *v11; // [sp+10h] [bp-4h]@1

  v11 = this;
  for ( i = 0; ; ++i )
  {
    result = v11[11];
    v9 = *(_DWORD *)(result + 4);
    v10 = v9 ? (*(_DWORD *)(result + 8) - v9) >> 2 : 0;
    if ( i >= v10 )
      break;
    (*(void (__stdcall **)(int, int, int, int, int, int))(**(_DWORD **)(*(_DWORD *)(result + 4) + 4 * i) + 76))(
      a2,
      a3,
      a4,
      a5,
      a6,
      a7);
  }
  return result;
}

//----- (1001E440) --------------------------------------------------------
_DWORD *__cdecl sub_1001E440(_DWORD *a1, _DWORD *a2)
{
  _DWORD *result; // eax@1

  result = a1;
  if ( a1 )
    *a1 = *a2;
  return result;
}

//----- (1001E460) --------------------------------------------------------
int __thiscall sub_1001E460(int this)
{
  int v1; // ebp@1
  int v2; // esi@1
  void *v3; // eax@1
  _DWORD *v4; // ST00_4@1
  int v5; // eax@1
  signed int v6; // ecx@1
  _DWORD *v7; // edi@1
  int v8; // ecx@2
  int v9; // ebx@4
  int v10; // eax@6
  bool v11; // sf@6
  int v12; // eax@6
  _DWORD *v13; // ebx@8
  int v14; // eax@8
  int result; // eax@8
  _DWORD *v16; // ecx@9
  _DWORD *i; // eax@9
  char v25; // [sp+13h] [bp-1Dh]@0
  int v26; // [sp+14h] [bp-1Ch]@1
  _DWORD *v27; // [sp+18h] [bp-18h]@8
  int v28; // [sp+1Ch] [bp-14h]@1
  int v29; // [sp+20h] [bp-10h]@1
  int v30; // [sp+2Ch] [bp-4h]@1

  v1 = this;
  v2 = this + 8;
  *(_DWORD *)this = 0;
  *(_BYTE *)(this + 4) = 0;
  v29 = this;
  v28 = v2;
  *(_BYTE *)v2 = v25;
  v3 = operator new(0);
  *(_DWORD *)(v2 + 4) = v3;
  *(_DWORD *)(v2 + 8) = v3;
  *(_DWORD *)(v2 + 12) = v3;
  v30 = 0;
  sub_10020D10(v2, 0x100u);
  *(_DWORD *)(v1 + 24) = 2;
  v4 = *(_DWORD **)(v2 + 8);
  v30 = 1;
  v26 = 0;
  sub_1001AE00(v2, v4, 1u, &v26);
  v5 = *(_DWORD *)(v2 + 8);
  v6 = *(_DWORD *)(v2 + 12) - v5;
  v26 = 0xFFFFFF;
  v7 = (_DWORD *)v5;
  if ( (unsigned int)(v6 >> 2) >= 1 )
  {
    sub_1001B350((_DWORD *)v5, (_DWORD *)v5, (_DWORD *)(v5 + 4));
    sub_1000F830(*(_DWORD **)(v2 + 8), (_DWORD *)(1 - ((*(_DWORD *)(v2 + 8) - (signed int)v7) >> 2)), &v26);
    v16 = *(_DWORD **)(v2 + 8);
    for ( i = v7; i != v16; ++i )
      *i = v26;
    *(_DWORD *)(v2 + 8) += 4;
    result = v1;
  }
  else
  {
    v8 = *(_DWORD *)(v2 + 4);
    if ( v8 && (unsigned int)((v5 - v8) >> 2) > 1 )
      v9 = sub_1000F810(v2);
    else
      v9 = 1;
    v10 = sub_1000F810(v2);
    v11 = v9 + v10 < 0;
    v12 = v9 + v10;
    v28 = v12;
    if ( v11 )
      v12 = 0;
    v13 = operator new(4 * v12);
    v27 = sub_1001B350(*(_DWORD **)(v2 + 4), v7, v13);
    sub_1000F830(v27, (_DWORD *)1, &v26);
    sub_1001B350(v7, *(_DWORD **)(v2 + 8), v27 + 1);
    nullsub_1(*(_DWORD *)(v2 + 4), *(_DWORD *)(v2 + 8));
    j__free(*(void **)(v2 + 4));
    *(_DWORD *)(v2 + 12) = &v13[v28];
    v14 = sub_1000F810(v2);
    *(_DWORD *)(v2 + 4) = v13;
    *(_DWORD *)(v2 + 8) = &v13[v14 + 1];
    result = v1;
  }
  return result;
}
// 1001A990: using guessed type _DWORD __stdcall nullsub_1(_DWORD, _DWORD);

//----- (1001E670) --------------------------------------------------------
int __thiscall sub_1001E670(int this, int a2)
{
  char v2; // al@1
  int v3; // edi@1
  int v4; // ebx@1
  int v5; // esi@1
  void *v6; // eax@1
  int v7; // ebp@1
  int v8; // ecx@2
  int v9; // eax@3
  int v10; // eax@6
  int result; // eax@10

  v2 = a2;
  v3 = this;
  v4 = 0;
  v5 = this + 8;
  *(_DWORD *)this = 0;
  *(_BYTE *)(this + 4) = 0;
  *(_BYTE *)v5 = v2;
  v6 = operator new(0);
  *(_DWORD *)(v5 + 4) = v6;
  *(_DWORD *)(v5 + 8) = v6;
  *(_DWORD *)(v5 + 12) = v6;
  sub_10020D10(v5, 0x100u);
  v7 = a2;
  while ( 1 )
  {
    v8 = *(_DWORD *)(v7 + 12);
    v9 = v8 ? (*(_DWORD *)(v7 + 16) - v8) >> 2 : 0;
    if ( v4 >= v9 )
      break;
    v10 = *(_DWORD *)(v5 + 4);
    a2 = *(_DWORD *)(*(_DWORD *)(v7 + 12) + 4 * v4);
    if ( !v10 || ((*(_DWORD *)(v5 + 8) - v10) & 0xFFFFFFFC) != 1016 )
      sub_1001AE00(v5, *(_DWORD **)(v5 + 8), 1u, &a2);
    ++v4;
  }
  result = v3;
  *(_DWORD *)(v3 + 24) = *(_DWORD *)(v7 + 24);
  return result;
}

//----- (1001E750) --------------------------------------------------------
int __thiscall sub_1001E750(int this)
{
  int v1; // esi@1
  int v2; // eax@2
  int v3; // ebp@3
  void *v4; // eax@5
  void *v5; // ebx@5
  int v6; // eax@6
  int v7; // edx@6
  unsigned int v8; // ecx@7
  void *v10; // [sp+8h] [bp-8h]@5
  int v11; // [sp+Ch] [bp-4h]@9

  v1 = this;
  if ( !*(_DWORD *)this )
  {
    v2 = *(_DWORD *)(this + 12);
    if ( v2 )
      v3 = (*(_DWORD *)(this + 16) - v2) >> 2;
    else
      v3 = 0;
    v4 = operator new(4 * v3);
    v5 = v4;
    v10 = v4;
    if ( v3 > 0 )
    {
      v6 = (int)v4 + 2;
      v7 = v3;
      do
      {
        v6 += 4;
        v8 = *(_DWORD *)(-2 - (_DWORD)v5 + *(_DWORD *)(v1 + 12) + v6 - 4);
        *(_BYTE *)(v6 - 6) = v8;
        *(_BYTE *)(v6 - 5) = BYTE1(v8);
        *(_BYTE *)(v6 - 4) = v8 >> 16;
        *(_BYTE *)(v6 - 3) = 0;
        --v7;
      }
      while ( v7 );
      v5 = v10;
    }
    if ( sub_1003E870(v3, (int)v5, (int)&v11, (_BYTE *)(v1 + 4)) != 1 )
      return 0;
    *(_DWORD *)v1 = v11;
    j__free(v5);
  }
  return *(_DWORD *)v1;
}

//----- (1001E800) --------------------------------------------------------
char __thiscall sub_1001E800(int this, int a2)
{
  int v2; // edi@1
  int v3; // eax@1
  int v4; // esi@1
  int v5; // eax@3
  _DWORD *v6; // ecx@4
  _DWORD *i; // eax@4
  int v8; // eax@14

  v2 = this;
  v3 = *(_DWORD *)(this + 12);
  v4 = this + 8;
  if ( v3 && ((*(_DWORD *)(this + 16) - v3) & 0xFFFFFFFC) == 1016 )
  {
    LOBYTE(v5) = -1;
  }
  else
  {
    v6 = *(_DWORD **)(this + 16);
    for ( i = *(_DWORD **)(v4 + 4); i != v6; ++i )
    {
      if ( *i == a2 )
        break;
    }
    if ( v6 == i || (v5 = ((signed int)i - *(_DWORD *)(v4 + 4)) >> 2, v5 < 0) )
    {
      sub_1001AE00(v4, *(_DWORD **)(v4 + 8), 1u, &a2);
      if ( *(_DWORD *)v2 )
      {
        if ( *(_BYTE *)(v2 + 4) && sub_1003DFA0(*(_DWORD *)v2) != 1 )
        {
          LOBYTE(v5) = -1;
          return v5;
        }
        *(_DWORD *)v2 = 0;
      }
      v8 = *(_DWORD *)(v4 + 4);
      if ( v8 )
        v5 = ((*(_DWORD *)(v4 + 8) - v8) >> 2) - 1;
      else
        LOBYTE(v5) = -1;
    }
  }
  return v5;
}

//----- (1001E8B0) --------------------------------------------------------
signed int __thiscall sub_1001E8B0(int this, int a2, int a3)
{
  int v3; // edi@1
  int v4; // ecx@1
  int v5; // edx@1
  int v6; // esi@1
  int v10; // eax@3
  signed int result; // eax@5
  int v12; // ebx@8
  int v13; // edi@8
  unsigned __int16 v14; // dx@9
  int v15; // eax@9

  v3 = this;
  v4 = *(_DWORD *)(this + 12);
  v5 = *(_DWORD *)(v3 + 16);
  v6 = v3 + 8;
  v10 = *(_DWORD *)(v3 + 16);
  *(_DWORD *)(v3 + 16) = v4;
  if ( *(_DWORD *)v3 )
  {
    if ( *(_BYTE *)(v3 + 4) )
    {
      result = sub_1003DFA0(*(_DWORD *)v3);
      if ( result != 1 )
        return result;
    }
    *(_DWORD *)v3 = 0;
  }
  if ( a3 > 0 )
  {
    v12 = a3;
    v13 = a2 + 1;
    do
    {
      HIBYTE(v14) = *(_BYTE *)(v13 + 1);
      LOBYTE(v14) = *(_BYTE *)v13;
      v15 = *(_DWORD *)(v6 + 4);
      a3 = *(_BYTE *)(v13 - 1) | (v14 << 8);
      if ( !v15 || ((*(_DWORD *)(v6 + 8) - v15) & 0xFFFFFFFC) != 1016 )
        sub_1001AE00(v6, *(_DWORD **)(v6 + 8), 1u, &a3);
      v13 += 4;
      --v12;
    }
    while ( v12 );
  }
  return 1;
}

//----- (1001E960) --------------------------------------------------------
int __thiscall sub_1001E960(int this, int a2, int a3)
{
  int v3; // ebp@1
  int v4; // edx@1
  int result; // eax@2
  int v6; // ecx@6
  int v7; // edx@9
  int v8; // edi@9
  unsigned int v9; // ebx@10

  v3 = this;
  v4 = *(_DWORD *)(this + 12);
  if ( v4 )
    result = (*(_DWORD *)(this + 16) - v4) >> 2;
  else
    result = 0;
  if ( a2 )
  {
    if ( a3 < result )
    {
      v6 = a3 - result;
      result -= a3;
    }
    else
    {
      v6 = result;
    }
    if ( result > 0 )
    {
      v7 = a2 + 2;
      v8 = result;
      do
      {
        v7 += 4;
        v9 = *(_DWORD *)(-2 - a2 + *(_DWORD *)(v3 + 12) + v7 - 4);
        *(_BYTE *)(v7 - 6) = v9;
        *(_BYTE *)(v7 - 5) = BYTE1(v9);
        *(_BYTE *)(v7 - 4) = v9 >> 16;
        *(_BYTE *)(v7 - 3) = 0;
        --v8;
      }
      while ( v8 );
    }
    result = v6;
  }
  return result;
}

//----- (1001EA90) --------------------------------------------------------
int __cdecl sub_1001EA90(const char *a1)
{
  __int64 v1; // rax@1
  unsigned int v2; // kr04_4@1

  v1 = 0i64;
  v2 = strlen(a1) + 1;
  if ( (signed int)(v2 - 1) > 0 )
  {
    do
    {
      if ( a1[HIDWORD(v1)] == 92 )
        break;
      LODWORD(v1) = v1 + 1;
      ++HIDWORD(v1);
    }
    while ( SHIDWORD(v1) < (signed int)(v2 - 1) );
  }
  return v1;
}

//----- (1001EAC0) --------------------------------------------------------
int __thiscall sub_1001EAC0(_DWORD *this, char *a2, int a3, char a4)
{
  _DWORD *v4; // esi@1
  int v5; // ebp@1
  int v6; // eax@1
  _DWORD *v7; // edx@1
  int v8; // edi@2
  const char *v9; // esi@3
  int result; // eax@12
  unsigned int v11; // [sp+10h] [bp-114h]@1
  int v12; // [sp+18h] [bp-10Ch]@1
  _DWORD *v13; // [sp+20h] [bp-104h]@1
  char v14[256]; // [sp+24h] [bp-100h]@1

  v4 = this;
  v5 = sub_1001EA90(a2);
  v11 = strlen(a2);
  strncpy(v14, a2, v5 + 1);
  v6 = v4[11];
  v14[v5] = 0;
  v7 = *(_DWORD **)(v6 + 4);
  v13 = *(_DWORD **)(v6 + 8);
  v12 = *(_DWORD *)(v6 + 4);
  if ( v7 != v13 )
  {
    do
    {
      v8 = *v7;
      if ( (*(int (__thiscall **)(_DWORD))(*(_DWORD *)*v7 + 80))(*v7) == 14 )
      {
        v9 = (const char *)(v8 + 96);
        if ( a4 )
        {
          if ( !strcmp(v14, v9) )
          {
            if ( v11 == v5 )
            {
              if ( *(_DWORD *)a3 == 1 )
                return v8;
              --*(_DWORD *)a3;
            }
            else
            {
              result = sub_1001EAC0(&a2[v5 + 1], a3, 0);
              if ( result )
                return result;
            }
          }
          result = sub_1001EAC0(a2, a3, 1);
          if ( result )
            return result;
        }
        else if ( !strcmp(v14, v9) )
        {
          if ( v11 != v5 )
            return sub_1001EAC0(&a2[v5 + 1], a3, 0);
          if ( *(_DWORD *)a3 == 1 )
            return v8;
          --*(_DWORD *)a3;
        }
      }
      v7 = (_DWORD *)(v12 + 4);
      v12 += 4;
    }
    while ( (_DWORD *)v12 != v13 );
  }
  return 0;
}
// 1001EAC0: using guessed type char var_100[256];

//----- (1001EC60) --------------------------------------------------------
signed int __thiscall sub_1001EC60(int this, const char *a2, int a3, int a4, _DWORD *a5)
{
  const char *v5; // ebp@1
  int v6; // edx@1
  unsigned int v7; // kr08_4@1
  unsigned int v8; // ecx@4
  char *v9; // ebx@6
  const char *v10; // edi@8
  size_t v11; // esi@10
  int v12; // eax@14
  _DWORD *i; // ebp@14
  int v14; // esi@15
  int v16; // [sp+10h] [bp-10h]@1
  _DWORD *v17; // [sp+1Ch] [bp-4h]@14
  signed int v18; // [sp+24h] [bp+4h]@10

  v5 = (const char *)(this + 96);
  v16 = this;
  v7 = strlen((const char *)(this + 96)) + 1;
  v6 = v7 - 1;
  if ( v7 == 1 )
    v6 = 2;
  if ( a2 )
    v8 = strlen(a2) + 1;
  else
    v8 = 0;
  v9 = (char *)operator new(v8 + v6 + 1);
  *v9 = 0;
  if ( a2 )
  {
    strcpy(v9, a2);
    strcat(v9, (const char *)&unk_100F0024);
  }
  v10 = v5;
  if ( strlen(v5) == 0 )
    v10 = (const char *)&unk_100F0024;
  v18 = 0;
  strcat(v9, v10);
  v11 = strlen(v9) + 1;
  if ( a3 )
  {
    if ( (signed int)(*a5 + v11) > a4 )
      goto LABEL_14;
    strncpy((char *)(a3 + *a5), v9, v11);
  }
  v18 = 1;
LABEL_14:
  *a5 += v11;
  v12 = *(_DWORD *)(v16 + 44);
  v17 = *(_DWORD **)(v12 + 8);
  for ( i = *(_DWORD **)(v12 + 4); i != v17; ++i )
  {
    v14 = *i;
    if ( (*(int (__thiscall **)(_DWORD))(*(_DWORD *)*i + 80))(*i) == 14 )
      v18 += (*(int (__thiscall **)(int, char *, int, int, _DWORD *))(*(_DWORD *)v14 + 96))(v14, v9, a3, a4, a5);
  }
  j__free(v9);
  return v18;
}

//----- (1001EDE0) --------------------------------------------------------
int __thiscall sub_1001EDE0(int this, int a2, int a3, int a4, int *a5)
{
  int v5; // eax@1
  _DWORD *v6; // ebx@1
  int v7; // ebp@1
  _DWORD *i; // edi@1
  int v9; // esi@2
  int v10; // eax@6

  v5 = *(_DWORD *)(this + 44);
  v6 = *(_DWORD **)(v5 + 8);
  v7 = 0;
  for ( i = *(_DWORD **)(v5 + 4); i != v6; ++i )
  {
    v9 = *i;
    if ( (*(int (__thiscall **)(_DWORD))(*(_DWORD *)*i + 80))(*i) == 14 )
      v7 += (*(int (__thiscall **)(int, int, int, int, int *))(*(_DWORD *)v9 + 96))(v9, a2, a3, a4, a5);
  }
  if ( a3 )
  {
    v10 = *a5;
    if ( *a5 + 1 <= a4 )
    {
      if ( v10 )
        *(_BYTE *)(v10 + a3) = 0;
    }
  }
  if ( *a5 )
    ++*a5;
  return v7;
}

//----- (1001EE60) --------------------------------------------------------
signed int __thiscall sub_1001EE60(int this, int a2, const char *a3, int a4, int a5, _DWORD *a6)
{
  int v6; // ebx@1
  int v7; // edx@1
  unsigned int v8; // kr08_4@1
  unsigned int v9; // ecx@4
  char *v10; // ebp@6
  const char *v11; // edi@8
  signed int v12; // edi@10
  int v13; // eax@10
  int v14; // ecx@11
  int v15; // eax@13
  int v16; // ecx@13
  int v17; // edx@13
  int v18; // esi@13
  int v19; // eax@13
  int v20; // ebx@26
  _DWORD *v21; // eax@26
  _DWORD *i; // ebx@26
  int v23; // esi@27
  int *v25; // [sp+0h] [bp-34h]@11
  int v26; // [sp+8h] [bp-2Ch]@11
  int v27; // [sp+Ch] [bp-28h]@11
  unsigned int v28; // [sp+20h] [bp-14h]@10
  _DWORD *v29; // [sp+2Ch] [bp-8h]@11

  v6 = this;
  v8 = strlen((const char *)(this + 96)) + 1;
  v7 = v8 - 1;
  if ( v8 == 1 )
    v7 = 2;
  if ( a3 )
    v9 = strlen(a3) + 1;
  else
    v9 = 0;
  v10 = (char *)operator new(v9 + v7 + 1);
  *v10 = 0;
  if ( a3 )
  {
    strcpy(v10, a3);
    strcat(v10, (const char *)&unk_100F0024);
  }
  v11 = (const char *)(v6 + 96);
  if ( strlen((const char *)(v6 + 96)) == 0 )
    v11 = (const char *)&unk_100F0024;
  strcat(v10, v11);
  v28 = strlen(v10) + 1;
  v12 = 0;
  v13 = (*(int (__thiscall **)(int))(*(_DWORD *)v6 + 64))(v6);
  if ( v13 )
  {
    v14 = v13 + 416;
    LOBYTE(v13) = *(_BYTE *)(v13 + 412);
    v27 = v14;
    v26 = v13;
    v25 = (int *)&v29;
  }
  else
  {
    v27 = 0;
    v26 = 0;
    v25 = (int *)&v29;
  }
  v15 = (*(int (__thiscall **)(int, int *, signed int, int, int))(*(_DWORD *)v6 + 16))(v6, v25, 1, v26, v27);
  v16 = *(_DWORD *)v15;
  v17 = *(_DWORD *)(v15 + 4);
  v18 = *(_DWORD *)(v15 + 8);
  v19 = *(_DWORD *)(v15 + 12);
  if ( v16 || v18 || v17 || v19 )
  {
    if ( v16 < *(_DWORD *)a2 || v17 < *(_DWORD *)(a2 + 4) || v18 > *(_DWORD *)(a2 + 8) || v19 > *(_DWORD *)(a2 + 12) )
    {
      v20 = *(_DWORD *)(v6 + 44);
      v12 = 0;
      v21 = *(_DWORD **)(v20 + 4);
      v29 = *(_DWORD **)(v20 + 8);
      for ( i = v21; i != v29; ++i )
      {
        v23 = *i;
        if ( (*(int (__fastcall **)(_DWORD, int))(*(_DWORD *)*i + 80))(*i, v17) == 14 )
          v12 += (*(int (__thiscall **)(int, int, char *, int, int, _DWORD *))(*(_DWORD *)v23 + 100))(
                   v23,
                   a2,
                   v10,
                   a4,
                   a5,
                   a6);
      }
    }
    else if ( a4 )
    {
      if ( (signed int)(*a6 + v28) > a5 )
      {
        v12 = 0;
        *a6 += v28;
      }
      else
      {
        strncpy((char *)(a4 + *a6), v10, v28);
        v12 = 1;
        *a6 += v28;
      }
    }
    else
    {
      v12 = 1;
      *a6 += v28;
    }
  }
  j__free(v10);
  return v12;
}

//----- (1001F080) --------------------------------------------------------
int __thiscall sub_1001F080(int this, int a2, int a3, int a4, int a5, int *a6)
{
  int v6; // eax@1
  _DWORD *v7; // ebx@1
  int v8; // ebp@1
  _DWORD *i; // edi@1
  int v10; // esi@2
  int v11; // eax@6

  v6 = *(_DWORD *)(this + 44);
  v7 = *(_DWORD **)(v6 + 8);
  v8 = 0;
  for ( i = *(_DWORD **)(v6 + 4); i != v7; ++i )
  {
    v10 = *i;
    if ( (*(int (__thiscall **)(_DWORD))(*(_DWORD *)*i + 80))(*i) == 14 )
      v8 += (*(int (__thiscall **)(int, int, int, int, int, int *))(*(_DWORD *)v10 + 100))(v10, a2, a3, a4, a5, a6);
  }
  if ( a4 )
  {
    v11 = *a6;
    if ( *a6 + 1 <= a5 )
    {
      if ( v11 )
        *(_BYTE *)(v11 + a4) = 0;
    }
  }
  if ( *a6 )
    ++*a6;
  return v8;
}

//----- (1001F100) --------------------------------------------------------
signed int __thiscall sub_1001F100(void *this, int a2, char a3, int a4)
{
  void *v4; // edi@1
  int v5; // ebx@1
  __int16 v7; // ax@3
  int v8; // ecx@4
  int v9; // esi@6
  int v10; // ebp@6
  int v11; // ebp@7
  int v12; // ST14_4@12
  int v13; // esi@13
  int v14; // ecx@14
  int v15; // edx@18
  int v16; // eax@18
  int v17; // ecx@18
  int v18; // eax@19
  int v19; // ebx@19
  int v20; // edx@19
  int v21; // edi@19
  int v22; // eax@30
  int v23; // eax@32
  int v24; // eax@34
  int v25; // esi@37
  int v26; // ebp@37
  int v27; // ebp@38
  int v28; // ecx@40
  int v29; // ecx@41
  int v30; // edx@45
  int v31; // eax@45
  int v32; // ecx@45
  int v33; // eax@46
  int v34; // ebx@46
  int v35; // edx@46
  int v36; // edi@46
  int v37; // eax@57
  int v38; // eax@59
  int v39; // [sp+18h] [bp-10h]@14
  int v40; // [sp+1Ch] [bp-Ch]@18
  int v41; // [sp+20h] [bp-8h]@18
  int v42; // [sp+24h] [bp-4h]@18

  v4 = this;
  v5 = (*(int (**)(void))(*(_DWORD *)this + 64))();
  if ( !v5 )
    return -1;
  v7 = *((_WORD *)v4 + 12);
  if ( v7 & 0x10 && (v8 = *((_DWORD *)v4 + 7), v8 > 0) )
  {
    if ( a3 )
    {
      v9 = *(_DWORD *)(v5 + 404);
      v10 = sub_10015A60(*(_DWORD *)(v5 + 404), a2);
      if ( v10 != sub_1000F810(v9) )
      {
        v11 = *(_DWORD *)(*(_DWORD *)(v9 + 4) + 4 * v10);
        if ( v11 )
          ++*(_DWORD *)(v11 + 12);
      }
      sub_10031A30(*(_DWORD **)(v5 + 404), *((_DWORD *)v4 + 7));
      v8 = a2;
      *((_DWORD *)v4 + 7) = a2;
    }
    else if ( a2 == -1 || a2 == v8 )
    {
      v12 = *((_DWORD *)v4 + 7);
      *((_WORD *)v4 + 12) = v7 & 0xFFEF;
      sub_10031A30(*(_DWORD **)(v5 + 404), v12);
      *((_DWORD *)v4 + 7) = -1;
    }
    v13 = a4;
    if ( !a4 )
      return 1;
    LOBYTE(v8) = *(_BYTE *)(v5 + 412);
    (*(void (__thiscall **)(void *, int *, _DWORD, int, int, signed int, signed int))(*(_DWORD *)v4 + 16))(
      v4,
      &v39,
      0,
      v8,
      v5 + 416,
      1065353216,
      1065353216);
    v14 = *(_DWORD *)a4;
    if ( !*(_DWORD *)a4 && !*(_DWORD *)(a4 + 8) && !*(_DWORD *)(a4 + 4) && !*(_DWORD *)(a4 + 12) )
    {
      v15 = v40;
      v16 = v41;
      *(_DWORD *)a4 = v39;
      v17 = v42;
      *(_DWORD *)(a4 + 4) = v15;
      *(_DWORD *)(a4 + 8) = v16;
      *(_DWORD *)(a4 + 12) = v17;
      return 1;
    }
    v18 = v39;
    v19 = v42;
    v20 = v40;
    v21 = v41;
    if ( !v39 && !v41 && !v40 && !v42 )
      return 1;
    if ( !v14 && !*(_DWORD *)(a4 + 8) && !*(_DWORD *)(a4 + 4) && !*(_DWORD *)(a4 + 12) )
    {
      *(_DWORD *)a4 = v39;
      *(_DWORD *)(a4 + 4) = v20;
      *(_DWORD *)(a4 + 8) = v21;
      *(_DWORD *)(a4 + 12) = v19;
      return 1;
    }
    if ( v14 < v39 )
      v18 = *(_DWORD *)a4;
    *(_DWORD *)a4 = v18;
    v22 = *(_DWORD *)(a4 + 4);
    if ( v22 >= v20 )
      v22 = v20;
    *(_DWORD *)(a4 + 4) = v22;
    v23 = *(_DWORD *)(a4 + 8);
    if ( v23 <= v21 )
      v23 = v21;
    *(_DWORD *)(a4 + 8) = v23;
    v24 = *(_DWORD *)(a4 + 12);
    if ( v24 <= v19 )
    {
      *(_DWORD *)(a4 + 12) = v19;
      return 1;
    }
  }
  else
  {
    if ( !a3 )
      return 1;
    LOBYTE(v7) = v7 | 0x10;
    *((_WORD *)v4 + 12) = v7;
    v25 = *(_DWORD *)(v5 + 404);
    v26 = sub_10015A60(*(_DWORD *)(v5 + 404), a2);
    if ( v26 != sub_1000F810(v25) )
    {
      v27 = *(_DWORD *)(*(_DWORD *)(v25 + 4) + 4 * v26);
      if ( v27 )
        ++*(_DWORD *)(v27 + 12);
    }
    v13 = a4;
    v28 = a2;
    *((_DWORD *)v4 + 7) = a2;
    if ( !a4 )
      return 1;
    LOBYTE(v28) = *(_BYTE *)(v5 + 412);
    (*(void (__thiscall **)(void *, int *, _DWORD, int, int, signed int, signed int))(*(_DWORD *)v4 + 16))(
      v4,
      &v39,
      0,
      v28,
      v5 + 416,
      1065353216,
      1065353216);
    v29 = *(_DWORD *)a4;
    if ( !*(_DWORD *)a4 && !*(_DWORD *)(a4 + 8) && !*(_DWORD *)(a4 + 4) && !*(_DWORD *)(a4 + 12) )
    {
      v30 = v40;
      v31 = v41;
      *(_DWORD *)a4 = v39;
      v32 = v42;
      *(_DWORD *)(a4 + 4) = v30;
      *(_DWORD *)(a4 + 8) = v31;
      *(_DWORD *)(a4 + 12) = v32;
      return 1;
    }
    v33 = v39;
    v34 = v42;
    v35 = v40;
    v36 = v41;
    if ( !v39 && !v41 && !v40 && !v42 )
      return 1;
    if ( !v29 && !*(_DWORD *)(a4 + 8) && !*(_DWORD *)(a4 + 4) && !*(_DWORD *)(a4 + 12) )
    {
      *(_DWORD *)a4 = v39;
      *(_DWORD *)(a4 + 4) = v35;
      *(_DWORD *)(a4 + 8) = v36;
      *(_DWORD *)(a4 + 12) = v34;
      return 1;
    }
    if ( v29 < v39 )
      v33 = *(_DWORD *)a4;
    *(_DWORD *)a4 = v33;
    v37 = *(_DWORD *)(a4 + 4);
    if ( v37 >= v35 )
      v37 = v35;
    *(_DWORD *)(a4 + 4) = v37;
    v38 = *(_DWORD *)(a4 + 8);
    if ( v38 <= v36 )
      v38 = v36;
    *(_DWORD *)(a4 + 8) = v38;
    v24 = *(_DWORD *)(a4 + 12);
    if ( v24 <= v34 )
      v24 = v34;
  }
  *(_DWORD *)(v13 + 12) = v24;
  return 1;
}

//----- (1001F410) --------------------------------------------------------
signed int __thiscall sub_1001F410(int this, int a2, int a3, int a4)
{
  __int16 v4; // ax@1
  int v5; // esi@2
  int v6; // ecx@10
  int v7; // esi@10
  int v8; // edi@10
  signed int result; // eax@12

  v4 = *(_WORD *)(this + 24);
  if ( !(v4 & 0x10) || (v5 = *(_DWORD *)(this + 28), v5 <= 0) )
  {
    if ( !(_BYTE)a3 )
      goto LABEL_10;
    LOBYTE(v4) = v4 | 0x10;
    *(_WORD *)(this + 24) = v4;
    goto LABEL_9;
  }
  if ( (_BYTE)a3 )
  {
LABEL_9:
    *(_DWORD *)(this + 28) = a2;
    goto LABEL_10;
  }
  if ( a2 == -1 || a2 == v5 )
  {
    *(_DWORD *)(this + 28) = -1;
    *(_WORD *)(this + 24) = v4 & 0xFFEF;
  }
LABEL_10:
  v6 = *(_DWORD *)(this + 44);
  v7 = *(_DWORD *)(v6 + 4);
  v8 = *(_DWORD *)(v6 + 8);
  if ( v7 == v8 )
  {
    result = 1;
  }
  else
  {
    do
    {
      (*(void (__stdcall **)(int, int, int))(**(_DWORD **)v7 + 32))(a2, a3, a4);
      v7 += 4;
    }
    while ( v7 != v8 );
    result = 1;
  }
  return result;
}

//----- (1001F4A0) --------------------------------------------------------
signed int __thiscall sub_1001F4A0(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // esi@1
  int v6; // edi@1
  signed int result; // eax@3

  v4 = *(_DWORD *)(this + 44);
  v5 = *(_DWORD *)(v4 + 4);
  v6 = *(_DWORD *)(v4 + 8);
  if ( v5 == v6 )
  {
    result = 1;
  }
  else
  {
    do
    {
      (*(void (__stdcall **)(int, int, int))(**(_DWORD **)v5 + 32))(a2, a3, a4);
      v5 += 4;
    }
    while ( v5 != v6 );
    result = 1;
  }
  return result;
}

//----- (1001F4F0) --------------------------------------------------------
int __thiscall sub_1001F4F0(_DWORD *this, unsigned int a2)
{
  _DWORD *v2; // esi@1
  int result; // eax@1
  int v4; // eax@3
  signed int v5; // esi@5
  char v6; // [sp+7h] [bp-5h]@1
  unsigned int v7; // [sp+8h] [bp-4h]@1

  v2 = this;
  result = sub_1001DC60((int)this, &v7, &v6);
  if ( result == 1 )
  {
    if ( v2[2] == 5 )
      v4 = sub_10040B80(a2, v7, 0, 5);
    else
      v4 = sub_10040B80(a2, a2, v7, v2[2]);
    v5 = v4;
    if ( v4 == 1 )
    {
      if ( v6 )
        v5 = sub_1003DFA0(v7);
    }
    else if ( v6 )
    {
      sub_1003DFA0(v7);
      return v5;
    }
    result = v5;
  }
  return result;
}

//----- (1001F580) --------------------------------------------------------
int __thiscall sub_1001F580(int this, int a2, int a3)
{
  int result; // eax@1
  int v4; // esi@1
  int i; // edi@1

  result = *(_DWORD *)(this + 44);
  v4 = *(_DWORD *)(result + 4);
  for ( i = *(_DWORD *)(result + 8); v4 != i; v4 += 4 )
    result = (*(int (__stdcall **)(int, int))(**(_DWORD **)v4 + 36))(a2, a3);
  return result;
}

//----- (1001F5B0) --------------------------------------------------------
char __thiscall sub_1001F5B0(int this)
{
  int v1; // eax@1
  int v2; // esi@1
  int v3; // edi@1
  char result; // al@4

  v1 = *(_DWORD *)(this + 44);
  v2 = *(_DWORD *)(v1 + 4);
  v3 = *(_DWORD *)(v1 + 8);
  if ( v2 == v3 )
  {
LABEL_4:
    result = 0;
  }
  else
  {
    while ( !(unsigned __int8)(*(int (**)(void))(**(_DWORD **)v2 + 40))() )
    {
      v2 += 4;
      if ( v2 == v3 )
        goto LABEL_4;
    }
    result = 1;
  }
  return result;
}

//----- (1001F5E0) --------------------------------------------------------
int __thiscall sub_1001F5E0(void *this, int a2)
{
  void *v2; // edi@1
  int v3; // eax@1
  int v4; // esi@1
  int v5; // ecx@1
  int v6; // ebx@1
  int v7; // edx@1
  int v8; // ebp@1
  int v9; // eax@6
  bool v10; // sf@7
  unsigned __int8 v11; // of@7
  int v12; // eax@9
  int v14; // [sp+30h] [bp-14h]@4
  char v15; // [sp+34h] [bp-10h]@1

  v2 = this;
  v3 = (*(int (__stdcall **)(char *, _DWORD, _DWORD, _DWORD, signed int, signed int))(*(_DWORD *)this + 16))(
         &v15,
         0,
         0,
         0,
         1065353216,
         1065353216);
  v4 = *((_DWORD *)v2 + 5);
  v5 = *(_DWORD *)v3;
  v6 = *(_DWORD *)(v3 + 4);
  v7 = *(_DWORD *)(v3 + 8);
  v8 = *(_DWORD *)(v3 + 12);
  if ( *(_DWORD *)(v4 + 352) && v4 && *(_DWORD *)(v4 + 20) )
  {
    v2 = (void *)*((_DWORD *)v2 + 5);
    v14 = 0;
    do
    {
      if ( !*(_DWORD *)(v4 + 352) )
        break;
      v9 = (*(int (__thiscall **)(int, char *, _DWORD, _DWORD, _DWORD, signed int, signed int))(*(_DWORD *)v4 + 16))(
             v4,
             &v15,
             0,
             0,
             0,
             1065353216,
             1065353216);
      v5 = *(_DWORD *)v9;
      v6 = *(_DWORD *)(v9 + 4);
      v7 = *(_DWORD *)(v9 + 8);
      v8 = *(_DWORD *)(v9 + 12);
      v2 = (void *)v4;
      v4 = *(_DWORD *)(v4 + 20);
      if ( !*(_DWORD *)(v4 + 20) )
        break;
      v11 = __OFSUB__(v14 + 1, 100);
      v10 = v14++ - 99 < 0;
    }
    while ( v10 ^ v11 );
  }
  switch ( *((_DWORD *)v2 + 88) )
  {
    case 5:
      v12 = v6;
      v5 = (v7 + v5) / 2;
      goto LABEL_19;
    case 7:
      v5 = v7;
      goto LABEL_11;
    case 2:
LABEL_11:
      v12 = v6;
      goto LABEL_19;
    case 8:
      v5 = v7;
      break;
    case 6:
      v12 = v8;
      v5 = (v7 + v5) / 2;
      goto LABEL_19;
    case 9:
      v5 = v7;
      goto LABEL_15;
    case 4:
LABEL_15:
      v12 = v8;
      goto LABEL_19;
    case 0xA:
      v5 = *((_DWORD *)v2 + 90);
      v12 = *((_DWORD *)v2 + 91);
      goto LABEL_19;
    default:
      v5 = (v7 + v5) / 2;
      break;
    case 3:
      break;
  }
  v12 = (v6 + v8) / 2;
LABEL_19:
  *(_DWORD *)a2 = v5;
  *(_DWORD *)(a2 + 4) = v12;
  return a2;
}

//----- (1001F720) --------------------------------------------------------
char __thiscall sub_1001F720(int this, int a2)
{
  char result; // al@1

  result = *(_BYTE *)(*(_BYTE *)(this + 40) + a2);
  *(_BYTE *)(this + 40) = result;
  return result;
}

//----- (1001F740) --------------------------------------------------------
char __thiscall sub_1001F740(_BYTE *this, int a2)
{
  _BYTE *v2; // esi@1
  int v3; // eax@1

  v2 = this;
  LOBYTE(v3) = sub_1001F720((int)this, a2);
  if ( *((_DWORD *)v2 + 15) != 1 )
  {
    v3 = v2[56];
    v2[56] = *(_BYTE *)(v3 + a2);
  }
  return v3;
}

//----- (1001F770) --------------------------------------------------------
char __thiscall sub_1001F770(int this, int a2)
{
  char result; // al@1

  result = *(_BYTE *)(*(_BYTE *)(this + 120) + a2);
  *(_BYTE *)(this + 120) = result;
  return result;
}

//----- (1001F790) --------------------------------------------------------
int __thiscall sub_1001F790(int this, int a2)
{
  int v2; // ebx@1
  int result; // eax@1
  int v4; // ecx@1
  int v5; // edi@2
  int i; // esi@4

  v2 = this;
  result = *(_DWORD *)(this + 44);
  v4 = *(_DWORD *)(result + 4);
  if ( v4 )
    v5 = (*(_DWORD *)(result + 8) - v4) >> 2;
  else
    v5 = 0;
  for ( i = 0; i < v5; ++i )
    result = (*(int (__stdcall **)(int))(**(_DWORD **)(*(_DWORD *)(*(_DWORD *)(v2 + 44) + 4) + 4 * i) + 44))(a2);
  return result;
}

//----- (1001F7E0) --------------------------------------------------------
int __thiscall sub_1001F7E0(_DWORD *this, int a2)
{
  _DWORD *v2; // ebp@1
  int result; // eax@1
  int v4; // ecx@1
  int v5; // edi@2
  int i; // ecx@4

  v2 = this;
  sub_1001F790((int)this, a2);
  result = v2[101];
  v4 = *(_DWORD *)(result + 4);
  if ( v4 )
    v5 = (*(_DWORD *)(result + 8) - v4) >> 2;
  else
    v5 = 0;
  for ( i = 0; i < v5; *(_BYTE *)(result + 2) = *(_BYTE *)(*(_BYTE *)(result + 2) + a2) )
  {
    result = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v2[101] + 4) + 4 * i) + 4);
    *(_BYTE *)result = *(_BYTE *)(*(_BYTE *)result + a2);
    *(_BYTE *)(result + 1) = *(_BYTE *)(*(_BYTE *)(result + 1) + a2);
    ++i;
  }
  return result;
}

//----- (1001F850) --------------------------------------------------------
int __thiscall sub_1001F850(int this, int a2)
{
  int v2; // ebx@1
  int result; // eax@1
  int v4; // ecx@1
  int v5; // edi@2
  int i; // esi@4

  v2 = this;
  result = *(_DWORD *)(this + 44);
  v4 = *(_DWORD *)(result + 4);
  if ( v4 )
    v5 = (*(_DWORD *)(result + 8) - v4) >> 2;
  else
    v5 = 0;
  for ( i = 0; i < v5; ++i )
    result = (*(int (__stdcall **)(int))(**(_DWORD **)(*(_DWORD *)(*(_DWORD *)(v2 + 44) + 4) + 4 * i) + 52))(a2);
  return result;
}

//----- (1001F8A0) --------------------------------------------------------
int __thiscall sub_1001F8A0(int this, double a2, double a3, double a4, double a5, double a6, double a7)
{
  int v7; // esi@1
  long double v8; // ST38_8@1
  long double v9; // ST30_8@1
  long double v10; // ST38_8@1
  long double v11; // st7@1
  double v12; // ST00_8@1
  long double v13; // ST38_8@1
  double v14; // ST00_8@1
  long double v15; // st7@1
  unsigned int v16; // ecx@1
  unsigned int v17; // edx@1
  long double v18; // ST18_8@1
  double v19; // ST20_8@1
  long double v20; // ST30_8@1
  long double v21; // ST38_8@1
  long double v22; // ST28_8@1
  long double v23; // st7@1
  int result; // eax@1

  v7 = this;
  *(_DWORD *)(this + 8) = LODWORD(a2);
  *(double *)(this + 40) = a3 * 0.01745329251994328;
  *(_DWORD *)(this + 12) = HIDWORD(a2);
  *(double *)(this + 16) = a3;
  *(double *)(this + 48) = a2 * 0.01745329251994328;
  *(double *)(this + 80) = a6;
  *(double *)(this + 88) = a7;
  *(double *)(this + 24) = a4 * 0.01745329251994328;
  *(_DWORD *)this = off_1008FB50;
  *(double *)(this + 32) = a5 * 0.01745329251994328;
  *(long double *)(this + 96) = sqrt(1.0 - a7 * a7 / (a6 * a6));
  v8 = __FYL2X__(sub_1001FCE0(this, a4 * 0.01745329251994328), 0.69314718055994528623);
  v9 = v8 - __FYL2X__(sub_1001FCE0(v7, *(double *)(v7 + 32)), 0.69314718055994528623);
  v10 = __FYL2X__(sub_1001FD10(v7, *(double *)(v7 + 24)), 0.69314718055994528623);
  v11 = sub_1001FD10(v7, *(double *)(v7 + 32));
  v12 = *(double *)(v7 + 24);
  *(long double *)(v7 + 56) = v9 / (v10 - __FYL2X__(v11, 0.69314718055994528623));
  v13 = sub_1001FCE0(v7, v12);
  v14 = *(double *)(v7 + 48);
  *(long double *)(v7 + 64) = v13
                            / (pow(sub_1001FD10(v7, *(double *)(v7 + 24)), *(double *)(v7 + 56))
                             * *(double *)(v7 + 56));
  v15 = sub_1001FCB0(v7, v14);
  v16 = *(_DWORD *)(v7 + 96);
  v17 = *(_DWORD *)(v7 + 100);
  *(long double *)(v7 + 72) = v15;
  v18 = pow(COERCE_LONG_DOUBLE(__PAIR__(v17, v16)), 8.0);
  v19 = pow(COERCE_LONG_DOUBLE(__PAIR__(v17, v16)), 6.0);
  v20 = v18 * 0.07232142857142856 + v19 * 0.05833333333333333;
  v21 = v18 * 0.02653149801587302;
  v22 = pow(COERCE_LONG_DOUBLE(__PAIR__(v17, v16)), 4.0);
  *(long double *)(v7 + 104) = pow(COERCE_LONG_DOUBLE(__PAIR__(v17, v16)), 2.0) * 0.5
                             + v22 * 0.2083333333333333
                             + v19 * 0.08333333333333333
                             + v18 * 0.03611111111111111
                             - v20;
  v23 = v19 * 0.1208333333333333 + v22 * 0.1458333333333333 + v18 * 0.07039930555555556;
  result = v7;
  *(long double *)(v7 + 112) = v23 + v23 - v21 * 4.0;
  *(long double *)(v7 + 120) = v20 * 4.0;
  *(long double *)(v7 + 128) = v21 * 8.0;
  return result;
}
// 1008FB50: using guessed type int (__stdcall *off_1008FB50[2])(double, double, int, int);

//----- (1001FAF0) --------------------------------------------------------
int __thiscall sub_1001FAF0(void *this, double a2, double a3, int a4, int a5)
{
  int v5; // esi@1
  double v6; // st7@1
  int result; // eax@1
  double v8; // [sp+10h] [bp+4h]@1

  v5 = (int)this;
  v8 = sub_1001FCB0((int)this, a2 * 0.01745329251994328);
  v6 = sub_1001FC70(v5, a3 * 0.01745329251994328);
  result = a4;
  *(long double *)a4 = sin(v6) * v8;
  *(long double *)a5 = *(double *)(v5 + 72) - cos(v6) * v8;
  return result;
}

//----- (1001FB50) --------------------------------------------------------
int __thiscall sub_1001FB50(int this, double a2, double a3, int a4, int a5)
{
  double v5; // st7@2
  __int64 v6; // rt1@4
  double v8; // st7@4
  unsigned __int8 v9; // c0@4
  unsigned __int8 v10; // c3@4
  long double v11; // st6@5
  double v12; // st7@7
  char v14; // c0@7
  int result; // eax@11
  long double v16; // st7@11
  long double v17; // st7@11
  long double v18; // st6@11
  double v19; // [sp+4h] [bp-10h]@4
  double v20; // [sp+Ch] [bp-8h]@4
  double v21; // [sp+18h] [bp+4h]@7

  if ( *(double *)(this + 56) <= 0.0 )
    v5 = -1.0;
  else
    v5 = 1.0;
  v19 = *(double *)(this + 72) - a3;
  v20 = sqrt(v19 * v19 + a2 * a2) * v5;
  v6 = *(_QWORD *)(this + 56);
  v8 = a2;
  if ( v9 | v10 )
  {
    v8 = -a2;
    v11 = a3 - *(double *)(this + 72);
  }
  else
  {
    v11 = v19;
  }
  v12 = atan2(v11, v8) / *(double *)(this + 56) + *(double *)(this + 40);
  v21 = v12;
  if ( v14 )
  {
    v12 = v12 + 6.28318530717958;
    v21 = v12;
  }
  if ( v12 > 3.14159265358979 )
    v21 = v12 - 6.28318530717958;
  result = a4;
  v16 = atan2(1.0, pow(v20 / (*(double *)(this + 80) * *(double *)(this + 64)), 1.0 / *(double *)(this + 56)));
  v17 = 1.570796326794895 - (v16 + v16);
  v18 = cos(v17 + v17);
  *(long double *)a4 = (sin(v17 + v17)
                      * (((v18 * *(double *)(this + 128) + *(double *)(this + 120)) * v18 + *(double *)(this + 112))
                       * v18
                       + *(double *)(this + 104))
                      + v17)
                     * 57.29577951308239;
  *(double *)a5 = v21 * 57.29577951308239;
  return result;
}

//----- (1001FC70) --------------------------------------------------------
double __thiscall sub_1001FC70(int this, double a2)
{
  double v2; // st7@1

  v2 = a2 - *(double *)(this + 40);
  if ( v2 < -3.14159265358979 )
    v2 = v2 + 6.28318530717958;
  if ( v2 > 3.14159265358979 )
    v2 = v2 - 6.28318530717958;
  return v2 * *(double *)(this + 56);
}

//----- (1001FCB0) --------------------------------------------------------
long double __thiscall sub_1001FCB0(int this, double a2)
{
  return pow(sub_1001FD10(this, a2), *(double *)(this + 56)) * *(double *)(this + 80) * *(double *)(this + 64);
}

//----- (1001FCE0) --------------------------------------------------------
long double __thiscall sub_1001FCE0(int this, double a2)
{
  long double v2; // st7@1

  v2 = sin(a2);
  return cos(a2) / sqrt(1.0 - *(double *)(this + 96) * *(double *)(this + 96) * v2 * v2);
}

//----- (1001FD10) --------------------------------------------------------
long double __thiscall sub_1001FD10(int this, double a2)
{
  double v3; // [sp+Ch] [bp+4h]@1

  v3 = sin(a2);
  return sqrt(pow((v3 * *(double *)(this + 96) + 1.0) / (1.0 - v3 * *(double *)(this + 96)), *(double *)(this + 96)) * ((1.0 - v3) / (v3 + 1.0)));
}

//----- (1001FD60) --------------------------------------------------------
int __thiscall sub_1001FD60(int this, double a2, double a3, double a4)
{
  long double v4; // ST08_8@1
  long double v5; // ST10_8@1
  long double v6; // ST18_8@1
  long double v7; // ST28_8@1
  long double v8; // ST30_8@1
  long double v9; // ST20_8@1
  long double v10; // st7@1
  int result; // eax@1

  *(_DWORD *)(this + 32) = LODWORD(a3);
  *(double *)(this + 24) = a2 * 0.01745329251994328;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(double *)(this + 16) = a2;
  *(_DWORD *)(this + 40) = LODWORD(a4);
  *(_DWORD *)this = off_1008FB88;
  *(_DWORD *)(this + 36) = HIDWORD(a3);
  *(_DWORD *)(this + 44) = HIDWORD(a4);
  v4 = sqrt(1.0 - a4 * a4 / (a3 * a3));
  *(long double *)(this + 48) = v4;
  v5 = pow(v4, 8.0);
  v6 = pow(v4, 6.0);
  v7 = v5 * 0.07232142857142856 + v6 * 0.05833333333333333;
  v8 = v5 * 0.02653149801587302;
  v9 = pow(v4, 4.0);
  *(long double *)(this + 56) = pow(v4, 2.0) * 0.5
                              + v9 * 0.2083333333333333
                              + v6 * 0.08333333333333333
                              + v5 * 0.03611111111111111
                              - v7;
  v10 = v6 * 0.1208333333333333 + v9 * 0.1458333333333333 + v5 * 0.07039930555555556;
  result = this;
  *(long double *)(this + 64) = v10 + v10 - v8 * 4.0;
  *(long double *)(this + 72) = v7 * 4.0;
  *(long double *)(this + 80) = v8 * 8.0;
  return result;
}
// 1008FB88: using guessed type int (__stdcall *off_1008FB88[2])(double, double, int, int);

//----- (1001FEC0) --------------------------------------------------------
int __thiscall sub_1001FEC0(int this, double a2, double a3, int a4, int a5)
{
  int result; // eax@1
  double v6; // [sp+4h] [bp+4h]@1

  result = a4;
  v6 = sin(a2 * 0.01745329251994328);
  *(double *)a4 = (a3 * 0.01745329251994328 - *(double *)(this + 24)) * *(double *)(this + 32);
  *(long double *)a5 = __FYL2X__(
                         pow(
                           (1.0 - v6 * *(double *)(this + 48)) / (v6 * *(double *)(this + 48) + 1.0),
                           *(double *)(this + 48))
                       * ((v6 + 1.0)
                        / (1.0 - v6)),
                         0.69314718055994528623)
                     * (*(double *)(this + 32)
                      * 0.5);
  return result;
}

//----- (1001FF50) --------------------------------------------------------
int __thiscall sub_1001FF50(int this, double a2, double a3, int a4, int a5)
{
  double v5; // st7@1
  int result; // eax@5
  double v7; // st6@5
  long double v10; // st6@5
  long double v11; // st6@5
  long double v12; // st5@5

  v5 = a2 / *(double *)(this + 32) + *(double *)(this + 24);
  if ( v5 < -3.14159265358979 )
    v5 = v5 + 6.28318530717958;
  if ( v5 > 3.14159265358979 )
    v5 = v5 - 6.28318530717958;
  result = a4;
  v7 = -(a3 / *(double *)(this + 32)) * 1.442695040888963387;
  _ST5 = v7;
  __asm { frndint }
  v10 = atan2(1.0, __F2XM1__(v7 - _ST5) + 1.0);
  v11 = 1.570796326794895 - (v10 + v10);
  v12 = cos(v11 + v11);
  *(long double *)a4 = (sin(v11 + v11)
                      * (((v12 * *(double *)(this + 80) + *(double *)(this + 72)) * v12 + *(double *)(this + 64)) * v12
                       + *(double *)(this + 56))
                      + v11)
                     * 57.29577951308239;
  *(double *)a5 = v5 * 57.29577951308239;
  return result;
}

//----- (1001FFF0) --------------------------------------------------------
int __thiscall sub_1001FFF0(void *this, int a2)
{
  int v2; // ebx@1
  unsigned __int16 v3; // ax@1
  void *v4; // eax@2

  v2 = (int)this;
  sub_10020DF0((int)this, a2);
  sub_10015540(v2 + 40);
  *(_DWORD *)v2 = &off_1008F874;
  sub_10015A40(v2 + 40, a2 + 40);
  *(_BYTE *)(v2 + 56) = -1;
  *(_DWORD *)(v2 + 60) = 0;
  sub_1001A0A0(v2 + 64);
  *(_DWORD *)v2 = &off_1008F754;
  *(_BYTE *)(v2 + 56) = *(_BYTE *)(a2 + 56);
  *(_DWORD *)(v2 + 60) = *(_DWORD *)(a2 + 60);
  sub_10015600(v2 + 64, a2 + 64);
  *(_DWORD *)v2 = &off_1008F998;
  v3 = *(_WORD *)(a2 + 96);
  *(_WORD *)(v2 + 96) = v3;
  if ( v3 <= 0u )
  {
    *(_DWORD *)(v2 + 92) = 0;
  }
  else
  {
    v4 = operator new(8 * v3);
    *(_DWORD *)(v2 + 92) = v4;
    if ( !v4 )
    {
      dword_109D18A4 = 0;
      dword_109D18A0 = 0;
      dword_109D18A8 = 0;
      if ( &dword_109D18A0 )
      {
        LOWORD(dword_109D18A4) = 9;
        dword_109D18A0 = -1;
        dword_109D18A8 = 0;
        unknown_libname_4(-1);
      }
    }
    qmemcpy(*(void **)(v2 + 92), *(const void **)(a2 + 92), 8 * *(_WORD *)(v2 + 96));
  }
  *(_BYTE *)(v2 + 98) = *(_BYTE *)(a2 + 98);
  *(_DWORD *)(v2 + 100) = *(_DWORD *)(a2 + 100);
  return v2;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 1008F754: using guessed type int (__thiscall *off_1008F754)(void *, char);
// 1008F874: using guessed type int (__thiscall *off_1008F874)(void *, char);
// 1008F998: using guessed type int (__thiscall *off_1008F998)(void *, char);
// 109D18A0: using guessed type int dword_109D18A0;
// 109D18A4: using guessed type int dword_109D18A4;
// 109D18A8: using guessed type int dword_109D18A8;

//----- (10020130) --------------------------------------------------------
_DWORD *__thiscall sub_10020130(_DWORD *this, int a2)
{
  _DWORD *v2; // esi@1

  v2 = this;
  sub_1001FFF0(this, a2);
  *v2 = &off_1008F934;
  v2[26] = *(_DWORD *)(a2 + 104);
  return v2;
}
// 1008F934: using guessed type int (__thiscall *off_1008F934)(void *, char);

//----- (10020160) --------------------------------------------------------
int __thiscall sub_10020160(int this, int a2)
{
  int v2; // esi@1
  __int16 v3; // ax@3
  void *v4; // eax@4

  v2 = this;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)this = &off_1008FA5C;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)(this + 28) = -1;
  *(_WORD *)(this + 24) = 0;
  if ( *(_BYTE *)(a2 + 24) & 0x80 )
    *(_WORD *)(this + 24) = 128;
  *(_BYTE *)(this + 32) = *(_BYTE *)(a2 + 32);
  *(_DWORD *)(this + 36) = *(_DWORD *)(a2 + 36);
  *(_DWORD *)(this + 100) = 0;
  *(_DWORD *)(this + 104) = 0;
  *(_BYTE *)(this + 108) = 0;
  *(_BYTE *)(this + 109) = 0;
  *(_BYTE *)(this + 110) = 0;
  *(_BYTE *)(this + 111) = 0;
  *(_DWORD *)(this + 112) = 0;
  *(_DWORD *)this = &off_1008F7B4;
  *(_DWORD *)(this + 100) = *(_DWORD *)(a2 + 100);
  *(_DWORD *)(this + 104) = *(_DWORD *)(a2 + 104);
  *(_BYTE *)(this + 109) = *(_BYTE *)(a2 + 109);
  *(_BYTE *)(this + 108) = *(_BYTE *)(a2 + 108);
  *(_BYTE *)(this + 110) = *(_BYTE *)(a2 + 110);
  *(_BYTE *)(this + 111) = *(_BYTE *)(a2 + 111);
  *(_DWORD *)(this + 112) = *(_DWORD *)(a2 + 112);
  *(_WORD *)(this + 96) = *(_WORD *)(a2 + 96);
  *(_DWORD *)(this + 116) = *(_DWORD *)(a2 + 116);
  *(_BYTE *)(this + 120) = *(_BYTE *)(a2 + 120);
  *(_DWORD *)(this + 128) = *(_DWORD *)(a2 + 128);
  v3 = *(_WORD *)(this + 96);
  *(_DWORD *)(this + 132) = *(_DWORD *)(a2 + 132);
  *(_DWORD *)(this + 124) = *(_DWORD *)(a2 + 124);
  if ( v3 )
  {
    v4 = operator new(v3 + 1);
    *(_DWORD *)(v2 + 92) = v4;
    if ( !v4 )
    {
      dword_109D18A4 = 0;
      dword_109D18A0 = 0;
      dword_109D18A8 = 0;
      if ( &dword_109D18A0 )
      {
        LOWORD(dword_109D18A4) = 12;
        dword_109D18A0 = -1;
        dword_109D18A8 = 0;
        unknown_libname_4(-1);
      }
    }
    strncpy(*(char **)(v2 + 92), *(const char **)(a2 + 92), *(_WORD *)(v2 + 96) + 1);
  }
  else
  {
    *(_DWORD *)(this + 92) = 0;
  }
  *(_DWORD *)(v2 + 40) = *(_DWORD *)(a2 + 40);
  *(_DWORD *)(v2 + 44) = *(_DWORD *)(a2 + 44);
  *(_DWORD *)(v2 + 56) = 0;
  return v2;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 1008F7B4: using guessed type int (__thiscall *off_1008F7B4)(void *, char);
// 1008FA5C: using guessed type int (__thiscall *off_1008FA5C)(void *, char);
// 109D18A0: using guessed type int dword_109D18A0;
// 109D18A4: using guessed type int dword_109D18A4;
// 109D18A8: using guessed type int dword_109D18A8;

//----- (100202E0) --------------------------------------------------------
int __thiscall sub_100202E0(int this, int a2)
{
  int v2; // ebx@1
  void *v3; // eax@2
  int v4; // eax@3
  int v5; // ecx@3
  int v6; // edx@3
  int v7; // esi@4
  int v8; // eax@5
  int v9; // ecx@5
  int v10; // edx@5
  int v11; // esi@6

  v2 = this;
  *(_DWORD *)this = *(_DWORD *)a2;
  *(_DWORD *)(this + 8) = *(_DWORD *)(a2 + 8);
  *(_BYTE *)(this + 12) = *(_BYTE *)(a2 + 12);
  *(_DWORD *)(this + 16) = *(_DWORD *)(a2 + 16);
  *(_BYTE *)(this + 20) = 1;
  if ( *(_DWORD *)a2 <= 0 )
  {
    *(_DWORD *)(this + 4) = 0;
  }
  else
  {
    v3 = operator new(8 * *(_DWORD *)a2);
    *(_DWORD *)(v2 + 4) = v3;
    qmemcpy(v3, *(const void **)(a2 + 4), 8 * *(_DWORD *)a2);
    if ( *(_BYTE *)(v2 + 12) )
    {
      v4 = *(_DWORD *)(v2 + 4);
      v5 = *(_DWORD *)v4;
      v6 = *(_DWORD *)(v4 + 8);
      if ( *(_DWORD *)v4 > v6 )
      {
        *(_DWORD *)v4 = v6 ^ v5;
        v7 = v6 ^ v5 ^ *(_DWORD *)(v4 + 8);
        *(_DWORD *)(v4 + 8) = v7;
        *(_DWORD *)v4 ^= v7;
      }
      v8 = *(_DWORD *)(v2 + 4);
      v9 = *(_DWORD *)(v8 + 4);
      v10 = *(_DWORD *)(v8 + 12);
      if ( v9 > v10 )
      {
        *(_DWORD *)(v8 + 4) = v10 ^ v9;
        v11 = v10 ^ v9 ^ *(_DWORD *)(v8 + 12);
        *(_DWORD *)(v8 + 12) = v11;
        *(_DWORD *)(v8 + 4) ^= v11;
        return v2;
      }
    }
  }
  return v2;
}

//----- (100203B0) --------------------------------------------------------
char *__thiscall sub_100203B0(char *this, int a2)
{
  int v2; // ebp@1
  char *v3; // esi@1
  int v4; // edi@1
  int v5; // eax@1
  _DWORD *v6; // eax@4
  int v7; // eax@4
  int v8; // ecx@4
  int i; // edi@4
  int v10; // ecx@5
  int v11; // eax@6
  void *v12; // eax@9
  int v13; // eax@10
  _DWORD *v14; // edx@12
  int v16; // [sp+10h] [bp-18h]@4
  char *v17; // [sp+14h] [bp-14h]@1
  char *v18; // [sp+18h] [bp-10h]@4
  int v19; // [sp+24h] [bp-4h]@1

  v2 = a2;
  v3 = this;
  v17 = this;
  sub_10020DF0((int)this, a2);
  sub_10015540((int)(v3 + 40));
  *(_DWORD *)v3 = &off_1008F874;
  sub_10015A40((int)(v3 + 40), v2 + 40);
  v4 = (int)(v3 + 56);
  v19 = 1;
  *(_BYTE *)v4 = -1;
  *(_DWORD *)(v4 + 4) = 0;
  sub_1001A0A0((int)(v3 + 64));
  *(_DWORD *)v3 = &off_1008F754;
  sub_10020DB0((int)(v3 + 56), v2 + 56);
  v5 = *(_DWORD *)(v2 + 104);
  v19 = 2;
  if ( v5 )
    a2 = (*(_DWORD *)(v2 + 108) - v5) >> 2;
  else
    a2 = 0;
  v18 = v3 + 100;
  v16 = 0;
  v3[100] = a2;
  v6 = operator new(0);
  *((_DWORD *)v3 + 26) = v6;
  sub_1000F830(v6, 0, &v16);
  v7 = *((_DWORD *)v3 + 26);
  *((_DWORD *)v3 + 27) = v7;
  *((_DWORD *)v3 + 28) = v7;
  LOBYTE(v19) = 3;
  sub_10020D10((int)(v3 + 100), a2);
  *(_DWORD *)v3 = &off_1008F6F4;
  *((_DWORD *)v3 + 23) = *(_DWORD *)(v2 + 92);
  v8 = *(_DWORD *)(v2 + 96);
  *((_DWORD *)v3 + 32) = 0;
  LOBYTE(v19) = 4;
  *((_DWORD *)v3 + 24) = v8;
  *((_DWORD *)v3 + 29) = 0;
  *((_DWORD *)v3 + 31) = 0;
  *((_DWORD *)v3 + 34) = 0;
  *((_DWORD *)v3 + 35) = 0;
  *((_DWORD *)v3 + 33) = 0;
  *((_DWORD *)v3 + 36) = 0;
  for ( i = 0; ; ++i )
  {
    v10 = *(_DWORD *)(v2 + 104);
    v11 = v10 ? (*(_DWORD *)(v2 + 108) - v10) >> 2 : 0;
    if ( i >= v11 )
      break;
    v12 = operator new(0x18u);
    a2 = (int)v12;
    LOBYTE(v19) = 5;
    if ( v12 )
      v13 = sub_100202E0((int)v12, *(_DWORD *)(*(_DWORD *)(v2 + 104) + 4 * i));
    else
      v13 = 0;
    v14 = (_DWORD *)*((_DWORD *)v3 + 27);
    a2 = v13;
    LOBYTE(v19) = 4;
    sub_1001AE00((int)(v3 + 100), v14, 1u, &a2);
  }
  return v3;
}
// 1008F6F4: using guessed type int (__thiscall *off_1008F6F4)(void *, char);
// 1008F754: using guessed type int (__thiscall *off_1008F754)(void *, char);
// 1008F874: using guessed type int (__thiscall *off_1008F874)(void *, char);

//----- (10020540) --------------------------------------------------------
int __thiscall sub_10020540(void *this, int a2)
{
  int v2; // ebp@1
  signed int v3; // ecx@1
  bool v4; // zf@1
  int v5; // eax@3
  int v6; // esi@3
  _BYTE *v7; // edi@6
  int v8; // eax@9
  _DWORD *v9; // esi@10
  int v10; // eax@13
  int v11; // esi@13
  int i; // edi@13
  int v13; // eax@14
  _DWORD *v14; // esi@16
  _DWORD *v15; // eax@17
  int v16; // eax@17
  _DWORD *v17; // eax@21
  int v18; // edx@22
  int v19; // eax@25
  int v20; // ecx@26
  int v21; // edi@27
  _BYTE *v22; // eax@28
  int v23; // esi@28
  _DWORD *v24; // eax@29
  int v25; // eax@29
  int v26; // esi@31
  _DWORD *v27; // eax@32
  int v28; // edx@33
  char v30; // [sp+13h] [bp-1Dh]@11
  _DWORD *v31; // [sp+14h] [bp-1Ch]@4
  int v32; // [sp+18h] [bp-18h]@11
  int v33; // [sp+1Ch] [bp-14h]@1
  _DWORD *v34; // [sp+20h] [bp-10h]@10
  int v35; // [sp+2Ch] [bp-4h]@3

  v2 = (int)this;
  v3 = -1;
  *(_DWORD *)(v2 + 16) = 0;
  *(_DWORD *)(v2 + 12) = 0;
  *(_DWORD *)(v2 + 8) = 0;
  *(_DWORD *)(v2 + 4) = 0;
  *(_DWORD *)v2 = &off_1008FA5C;
  *(_DWORD *)(v2 + 20) = 0;
  *(_DWORD *)(v2 + 28) = -1;
  *(_WORD *)(v2 + 24) = 0;
  v4 = (*(_BYTE *)(a2 + 24) & 0x80) == 0;
  v33 = v2;
  if ( !v4 )
    *(_WORD *)(v2 + 24) = 128;
  *(_BYTE *)(v2 + 32) = *(_BYTE *)(a2 + 32);
  *(_DWORD *)(v2 + 36) = *(_DWORD *)(a2 + 36);
  *(_BYTE *)(v2 + 48) = 0;
  *(_WORD *)(v2 + 50) = 1;
  *(_BYTE *)(v2 + 52) = 0;
  *(_BYTE *)(v2 + 53) = 0;
  *(_WORD *)(v2 + 54) = 0;
  *(_BYTE *)(v2 + 56) = 1;
  *(_DWORD *)(v2 + 60) = 0;
  *(_BYTE *)(v2 + 64) = 44;
  *(_BYTE *)(v2 + 65) = 0;
  *(_WORD *)(v2 + 66) = 0;
  *(_WORD *)(v2 + 68) = 10;
  *(_BYTE *)(v2 + 70) = 0;
  *(_BYTE *)(v2 + 71) = 0;
  *(_BYTE *)(v2 + 72) = 0;
  *(_WORD *)(v2 + 74) = 0;
  *(_BYTE *)(v2 + 73) = 12;
  *(_WORD *)(v2 + 76) = -1;
  *(_WORD *)(v2 + 78) = 1;
  *(_WORD *)(v2 + 80) = 0;
  *(_DWORD *)(v2 + 84) = 0;
  *(_WORD *)(v2 + 88) = 10;
  *(_WORD *)(v2 + 90) = 0;
  *(_DWORD *)(v2 + 92) = 1065353216;
  *(_DWORD *)v2 = &off_1008FB90;
  v5 = *(_DWORD *)(a2 + 44);
  v35 = 0;
  v6 = *(_DWORD *)(v5 + 4);
  if ( v6 )
    v31 = (_DWORD *)((*(_DWORD *)(v5 + 8) - v6) >> 2);
  else
    v31 = 0;
  v7 = (_BYTE *)(a2 + 96);
  *(_BYTE *)(v2 + 96) = 0;
  do
  {
    if ( !v3 )
      break;
    v4 = *v7++ == 0;
    --v3;
  }
  while ( !v4 );
  qmemcpy((void *)(v2 + 96), &v7[-~v3], ~v3);
  *(_DWORD *)(v2 + 40) = 0;
  *(_DWORD *)(v2 + 352) = *(_DWORD *)(a2 + 352);
  *(_BYTE *)(v2 + 356) = *(_BYTE *)(a2 + 356);
  v8 = (int)v31;
  *(_DWORD *)(v2 + 360) = *(_DWORD *)(a2 + 360);
  *(_DWORD *)(v2 + 364) = *(_DWORD *)(a2 + 364);
  if ( v8 )
  {
    v9 = operator new(0x10u);
    v34 = v9;
    LOBYTE(v35) = 1;
    if ( v9 )
    {
      v32 = 0;
      sub_10020C80(v9, 0, &v32, &v30);
      LOBYTE(v35) = 2;
      sub_10020D10((int)v9, (unsigned int)v31);
    }
    else
    {
      v9 = 0;
    }
    *(_DWORD *)(v2 + 44) = v9;
    LOBYTE(v35) = 0;
    v10 = *(_DWORD *)(a2 + 44);
    v11 = *(_DWORD *)(v10 + 4);
    for ( i = *(_DWORD *)(v10 + 8); v11 != i; v11 += 4 )
    {
      v13 = (*(int (**)(void))(**(_DWORD **)v11 + 4))();
      sub_1001DFF0(v2, v13);
    }
  }
  else
  {
    v14 = operator new(0x10u);
    v34 = v14;
    LOBYTE(v35) = 3;
    if ( v14 )
    {
      v32 = 0;
      *(_BYTE *)v14 = a2;
      v15 = operator new(0);
      v14[1] = v15;
      sub_1000F830(v15, 0, &v32);
      v16 = v14[1];
      v14[2] = v16;
      v14[3] = v16;
      LOBYTE(v35) = 4;
      sub_10020D10((int)v14, 0xAu);
    }
    else
    {
      v14 = 0;
    }
    LOBYTE(v35) = 0;
    *(_DWORD *)(v2 + 44) = v14;
  }
  if ( *(_DWORD *)(a2 + 368) )
  {
    v17 = operator new(8u);
    if ( v17 )
    {
      v18 = *(_DWORD *)(a2 + 368);
      *v17 = *(_DWORD *)v18;
      v17[1] = *(_DWORD *)(v18 + 4);
      *(_DWORD *)(v2 + 368) = v17;
    }
    else
    {
      *(_DWORD *)(v2 + 368) = 0;
    }
  }
  else
  {
    *(_DWORD *)(v2 + 368) = 0;
  }
  v19 = *(_DWORD *)(a2 + 372);
  if ( v19 )
  {
    v20 = *(_DWORD *)(v19 + 4);
    if ( v20 )
    {
      v21 = (*(_DWORD *)(v19 + 8) - v20) >> 2;
      if ( v21 > 0 )
      {
        v22 = operator new(0x10u);
        v23 = (int)v22;
        v34 = v22;
        LOBYTE(v35) = 5;
        if ( v22 )
        {
          v32 = 0;
          *v22 = a2;
          v24 = operator new(0);
          *(_DWORD *)(v23 + 4) = v24;
          sub_1000F830(v24, 0, &v32);
          v25 = *(_DWORD *)(v23 + 4);
          *(_DWORD *)(v23 + 8) = v25;
          *(_DWORD *)(v23 + 12) = v25;
          LOBYTE(v35) = 6;
          sub_10020D10(v23, v21);
        }
        else
        {
          v23 = 0;
        }
        *(_DWORD *)(v2 + 372) = v23;
        v26 = 0;
        for ( LOBYTE(v35) = 0; v26 < v21; ++v26 )
        {
          v31 = *(_DWORD **)(*(_DWORD *)(*(_DWORD *)(a2 + 372) + 4) + 4 * v26);
          v27 = operator new(0x10u);
          if ( v27 )
          {
            *v27 = *v31;
            v27[1] = v31[1];
            v27[2] = v31[2];
            v28 = (int)v31;
            v31 = v27;
            v27[3] = *(_DWORD *)(v28 + 12);
          }
          else
          {
            v31 = 0;
          }
          sub_1001AE00(*(_DWORD *)(v2 + 372), *(_DWORD **)(*(_DWORD *)(v2 + 372) + 8), 1u, &v31);
        }
      }
    }
  }
  else
  {
    *(_DWORD *)(v2 + 372) = 0;
  }
  return v2;
}
// 1008FA5C: using guessed type int (__thiscall *off_1008FA5C)(void *, char);
// 1008FB90: using guessed type int (__thiscall *off_1008FB90)(void *, char);

//----- (100208C0) --------------------------------------------------------
int __thiscall sub_100208C0(int this, int a2)
{
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)this = &off_1008FA5C;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)(this + 28) = -1;
  *(_WORD *)(this + 24) = 0;
  if ( *(_BYTE *)(a2 + 24) & 0x80 )
    *(_WORD *)(this + 24) = 128;
  *(_BYTE *)(this + 32) = *(_BYTE *)(a2 + 32);
  *(_DWORD *)(this + 36) = *(_DWORD *)(a2 + 36);
  *(_DWORD *)(this + 72) = *(_DWORD *)(a2 + 72);
  *(_DWORD *)(this + 76) = *(_DWORD *)(a2 + 76);
  *(_DWORD *)(this + 92) = *(_DWORD *)(a2 + 92);
  *(_DWORD *)(this + 80) = *(_DWORD *)(a2 + 80);
  *(_DWORD *)(this + 84) = *(_DWORD *)(a2 + 84);
  *(_DWORD *)(this + 88) = *(_DWORD *)(a2 + 88);
  *(_DWORD *)(this + 96) = *(_DWORD *)(a2 + 96);
  *(_DWORD *)(this + 100) = *(_DWORD *)(a2 + 100);
  *(_DWORD *)this = &off_1008F694;
  *(_DWORD *)(this + 40) = *(_DWORD *)(a2 + 40);
  *(_DWORD *)(this + 44) = *(_DWORD *)(a2 + 44);
  *(_DWORD *)(this + 48) = *(_DWORD *)(a2 + 48);
  *(_DWORD *)(this + 52) = *(_DWORD *)(a2 + 52);
  *(_DWORD *)(this + 56) = *(_DWORD *)(a2 + 56);
  *(_DWORD *)(this + 60) = *(_DWORD *)(a2 + 60);
  *(_DWORD *)(this + 64) = *(_DWORD *)(a2 + 64);
  *(_DWORD *)(this + 68) = *(_DWORD *)(a2 + 68);
  *(_BYTE *)(this + 368) = 0;
  strcpy((char *)(this + 108), (const char *)(a2 + 108));
  *(_DWORD *)(this + 104) = *(_DWORD *)(a2 + 104);
  *(_DWORD *)(this + 364) = *(_DWORD *)(a2 + 364);
  return this;
}
// 1008F694: using guessed type int (__thiscall *off_1008F694)(void *, char);
// 1008FA5C: using guessed type int (__thiscall *off_1008FA5C)(void *, char);

//----- (100209B0) --------------------------------------------------------
_DWORD *__thiscall sub_100209B0(_DWORD *this, int a2)
{
  _DWORD *v2; // esi@1
  _BYTE *v3; // eax@1
  void *v4; // eax@2
  int v5; // eax@2
  char v7; // [sp+Fh] [bp-15h]@0
  int v8; // [sp+10h] [bp-14h]@1

  v2 = this;
  sub_10020540(this, a2);
  sub_1001E670((int)(v2 + 94), a2 + 376);
  v2[104] = 0;
  v2[106] = 0;
  v2[108] = 0;
  v2[110] = 0;
  v2[112] = 0;
  v2[114] = 0;
  v2[116] = 0;
  v2[118] = 0;
  v2[120] = 0;
  v2[105] = 0;
  v2[107] = 0;
  v2[109] = 0;
  v2[111] = 0;
  v2[113] = 0;
  v2[115] = 0;
  v2[117] = 0;
  v2[119] = 0;
  v2[121] = 0;
  *v2 = &off_1008FBF8;
  v3 = operator new(0x14u);
  v8 = (int)v3;
  if ( v3 )
  {
    *v3 = v7;
    v4 = operator new(0);
    *(_DWORD *)(v8 + 4) = v4;
    *(_DWORD *)(v8 + 8) = v4;
    *(_DWORD *)(v8 + 12) = v4;
    sub_10020D10(v8, 0);
    v5 = v8;
    *(_DWORD *)(v8 + 16) = 0;
  }
  else
  {
    v5 = 0;
  }
  v2[101] = v5;
  v2[102] = *(_DWORD *)(a2 + 408);
  *((_BYTE *)v2 + 412) = *(_BYTE *)(a2 + 412);
  v2[104] = *(_DWORD *)(a2 + 416);
  v2[105] = *(_DWORD *)(a2 + 420);
  v2[106] = *(_DWORD *)(a2 + 424);
  v2[107] = *(_DWORD *)(a2 + 428);
  v2[108] = *(_DWORD *)(a2 + 432);
  v2[109] = *(_DWORD *)(a2 + 436);
  v2[110] = *(_DWORD *)(a2 + 440);
  v2[111] = *(_DWORD *)(a2 + 444);
  v2[112] = *(_DWORD *)(a2 + 448);
  v2[113] = *(_DWORD *)(a2 + 452);
  v2[114] = *(_DWORD *)(a2 + 456);
  v2[115] = *(_DWORD *)(a2 + 460);
  v2[116] = *(_DWORD *)(a2 + 464);
  v2[117] = *(_DWORD *)(a2 + 468);
  v2[118] = *(_DWORD *)(a2 + 472);
  v2[119] = *(_DWORD *)(a2 + 476);
  v2[120] = *(_DWORD *)(a2 + 480);
  v2[121] = *(_DWORD *)(a2 + 484);
  v2[10] = v2;
  return v2;
}
// 1008FBF8: using guessed type int (__thiscall *off_1008FBF8)(void *, char);

//----- (10020BD0) --------------------------------------------------------
void *__thiscall sub_10020BD0(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100317D0((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (10020C80) --------------------------------------------------------
_DWORD *__thiscall sub_10020C80(_DWORD *this, int a2, _DWORD *a3, _BYTE *a4)
{
  _DWORD *v4; // esi@1
  int v5; // eax@1
  _DWORD *v6; // eax@3
  int v7; // ecx@4
  int v8; // eax@8

  v4 = this;
  v5 = a2;
  *(_BYTE *)this = *a4;
  if ( a2 < 0 )
    v5 = 0;
  v6 = operator new(4 * v5);
  v4[1] = v6;
  if ( a2 )
  {
    v7 = a2;
    do
    {
      if ( v6 )
        *v6 = *a3;
      ++v6;
      --v7;
    }
    while ( v7 );
  }
  v8 = v4[1] + 4 * a2;
  v4[2] = v8;
  v4[3] = v8;
  return v4;
}

//----- (10020CE0) --------------------------------------------------------
int __thiscall sub_10020CE0(int this)
{
  int v1; // esi@1
  int result; // eax@1

  v1 = this;
  j__free(*(void **)(this + 4));
  result = 0;
  *(_DWORD *)(v1 + 4) = 0;
  *(_DWORD *)(v1 + 8) = 0;
  *(_DWORD *)(v1 + 12) = 0;
  return result;
}

//----- (10020D10) --------------------------------------------------------
unsigned int __thiscall sub_10020D10(int this, unsigned int a2)
{
  int v2; // esi@1
  int v3; // ecx@1
  unsigned int result; // eax@2
  unsigned int v5; // eax@5
  _DWORD *v6; // eax@7
  _DWORD *v7; // edx@7
  _DWORD *v8; // edi@7
  _DWORD *v9; // eax@7
  _DWORD *i; // ecx@7
  int v11; // ecx@11
  int v12; // eax@13

  v2 = this;
  v3 = *(_DWORD *)(this + 4);
  if ( v3 )
    result = (*(_DWORD *)(v2 + 12) - v3) >> 2;
  else
    result = 0;
  if ( result < a2 )
  {
    v5 = a2;
    if ( (a2 & 0x80000000) != 0 )
      v5 = 0;
    v6 = operator new(4 * v5);
    v7 = *(_DWORD **)(v2 + 8);
    v8 = v6;
    v9 = *(_DWORD **)(v2 + 4);
    for ( i = v8; v9 != v7; ++i )
    {
      if ( i )
        *i = *v9;
      ++v9;
    }
    j__free(*(void **)(v2 + 4));
    *(_DWORD *)(v2 + 12) = &v8[a2];
    v11 = *(_DWORD *)(v2 + 4);
    if ( v11 )
    {
      v12 = *(_DWORD *)(v2 + 8);
      *(_DWORD *)(v2 + 4) = v8;
      result = (v12 - v11) >> 2;
      *(_DWORD *)(v2 + 8) = &v8[result];
    }
    else
    {
      result = 0;
      *(_DWORD *)(v2 + 4) = v8;
      *(_DWORD *)(v2 + 8) = v8;
    }
  }
  return result;
}

//----- (10020DB0) --------------------------------------------------------
int __thiscall sub_10020DB0(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_BYTE *)this = *(_BYTE *)a2;
  *(_DWORD *)(this + 4) = *(_DWORD *)(a2 + 4);
  *(_DWORD *)(this + 8) = *(_DWORD *)(a2 + 8);
  *(_DWORD *)(this + 12) = *(_DWORD *)(a2 + 12);
  *(_DWORD *)(this + 16) = *(_DWORD *)(a2 + 16);
  *(_DWORD *)(this + 20) = *(_DWORD *)(a2 + 20);
  *(_DWORD *)(this + 24) = *(_DWORD *)(a2 + 24);
  *(_DWORD *)(this + 28) = *(_DWORD *)(a2 + 28);
  *(_DWORD *)(this + 32) = *(_DWORD *)(a2 + 32);
  return result;
}

//----- (10020DF0) --------------------------------------------------------
int __thiscall sub_10020DF0(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 20) = 0;
  *(_WORD *)(this + 24) = 0;
  *(_DWORD *)this = &off_1008FA5C;
  *(_DWORD *)(this + 28) = -1;
  if ( *(_BYTE *)(a2 + 24) & 0x80 )
    *(_WORD *)(this + 24) = 128;
  *(_BYTE *)(this + 32) = *(_BYTE *)(a2 + 32);
  *(_DWORD *)(this + 36) = *(_DWORD *)(a2 + 36);
  return result;
}
// 1008FA5C: using guessed type int (__thiscall *off_1008FA5C)(void *, char);

//----- (10020E40) --------------------------------------------------------
int __thiscall sub_10020E40(void *this)
{
  int v1; // esi@1
  void *v2; // eax@1
  int result; // eax@2

  v1 = (int)this;
  v2 = operator new(0x178u);
  if ( v2 )
    result = sub_10020540(v2, v1);
  else
    result = 0;
  return result;
}

//----- (10020EA0) --------------------------------------------------------
int __thiscall sub_10020EA0(int this)
{
  return *(_DWORD *)(this + 40);
}

//----- (10020EB0) --------------------------------------------------------
signed int sub_10020EB0()
{
  return 14;
}

//----- (10020EC0) --------------------------------------------------------
char sub_10020EC0()
{
  return 15;
}

//----- (10020ED0) --------------------------------------------------------
void *__thiscall sub_10020ED0(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_10031670((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (10020EF0) --------------------------------------------------------
_DWORD *__thiscall sub_10020EF0(void *this)
{
  int v1; // esi@1
  _DWORD *v2; // eax@1
  _DWORD *result; // eax@2

  v1 = (int)this;
  v2 = operator new(0x1E8u);
  if ( v2 )
    result = sub_100209B0(v2, v1);
  else
    result = 0;
  return result;
}

//----- (10020F50) --------------------------------------------------------
signed int sub_10020F50()
{
  return 13;
}

//----- (10020F60) --------------------------------------------------------
char sub_10020F60()
{
  return 16;
}

//----- (10020F70) --------------------------------------------------------
int __cdecl sub_10020F70(int a1, _BYTE *a2, int a3)
{
  int result; // eax@1
  int v4; // esi@1
  _BYTE *v5; // edx@2
  int v6; // ecx@3
  unsigned __int8 v7; // [sp+7h] [bp-5h]@1

  result = a1;
  v4 = a3;
  v7 = BYTE3(a1);
  if ( a3 > 0 )
  {
    v5 = a2;
    do
    {
      v6 = v7 ^ *v5++;
      result = dword_1008FC60[v6] ^ (result << 8);
      --v4;
      v7 = BYTE3(result);
    }
    while ( v4 );
  }
  return result;
}
// 1008FC60: using guessed type int dword_1008FC60[];

//----- (10020FC0) --------------------------------------------------------
int __thiscall sub_10020FC0(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = 0;
  *(_BYTE *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)(this + 24) = 0;
  *(_DWORD *)(this + 28) = 0;
  return result;
}

//----- (10020FE0) --------------------------------------------------------
void __thiscall sub_10020FE0(int this)
{
  if ( *(_DWORD *)(this + 24) )
    j__free(*(void **)(this + 24));
}

//----- (10020FF0) --------------------------------------------------------
int __thiscall sub_10020FF0(int this, int a2, int a3, size_t a4)
{
  int v4; // esi@1
  signed int v5; // edi@4
  void *v6; // eax@8
  int result; // eax@12

  v4 = this;
  if ( !a2 || !a4 )
    return -9;
  *(_DWORD *)this = a2;
  *(_DWORD *)(this + 8) = a3;
  *(_DWORD *)(this + 12) = a4;
  if ( (signed int)a4 <= 65534 )
  {
    v5 = a4;
    *(_BYTE *)(this + 4) = 0;
  }
  else
  {
    v5 = 65534;
    *(_BYTE *)(this + 4) = 1;
  }
  if ( *(_DWORD *)(this + 24) )
  {
    if ( *(_DWORD *)(this + 28) >= v5 )
      goto LABEL_11;
    j__free(*(void **)(this + 24));
    v6 = operator new(v5);
  }
  else
  {
    v6 = operator new(v5);
  }
  *(_DWORD *)(v4 + 24) = v6;
  *(_DWORD *)(v4 + 28) = v5;
LABEL_11:
  if ( *(_DWORD *)(v4 + 24) )
  {
    result = sub_1003E690(*(_DWORD *)v4, *(_DWORD *)(v4 + 8), 0);
    if ( result == 1 )
    {
      if ( *(_BYTE *)(v4 + 4) )
        result = sub_1003E560(*(_DWORD *)v4, *(void **)(v4 + 24), *(_DWORD *)(v4 + 28));
      else
        result = sub_1003E560(*(_DWORD *)v4, *(void **)(v4 + 24), a4);
      if ( result == 1 )
      {
        *(_DWORD *)(v4 + 16) = 0;
        *(_DWORD *)(v4 + 20) = 0;
      }
    }
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (100210D0) --------------------------------------------------------
int __thiscall sub_100210D0(int this, int a2)
{
  int v2; // ebx@1
  int v3; // ecx@2
  int result; // eax@2
  int v5; // edx@3
  unsigned int v6; // eax@4
  int v7; // edx@6
  int v8; // ecx@6
  int v9; // ecx@7
  int v10; // eax@9
  int v11; // esi@10
  int v12; // ecx@11
  int v13; // ecx@14
  int v14; // eax@15

  v2 = this;
  if ( *(_BYTE *)(this + 4) )
  {
    v5 = *(_DWORD *)(this + 20);
    if ( v5 + a2 <= 65534 )
    {
      v14 = *(_DWORD *)(this + 24);
      *(_DWORD *)(this + 20) = v5 + a2;
      result = v5 + v14;
      *(_DWORD *)(this + 16) += a2;
    }
    else
    {
      v6 = 65534 - v5;
      if ( 65534 != v5 )
        qmemcpy(*(void **)(this + 24), (const void *)(v5 + *(_DWORD *)(this + 24)), v6);
      v7 = *(_DWORD *)(this + 16);
      v8 = *(_DWORD *)(this + 12);
      if ( v7 + 65534 <= v8 )
        v9 = 65534;
      else
        v9 = v8 - v7;
      v10 = sub_1003E560(*(_DWORD *)v2, (void *)(*(_DWORD *)(v2 + 24) + v6), v9 - v6);
      if ( v10 != 1 )
      {
        v11 = 0;
        dword_109D18B4 = 0;
        dword_109D18B0 = 0;
        dword_109D18B8 = 0;
        if ( &dword_109D18B0 )
        {
          v12 = *(_DWORD *)(v2 + 16);
          v11 = v10;
          LOWORD(dword_109D18B4) = *(_WORD *)v2;
          dword_109D18B0 = v10;
          dword_109D18B8 = v12;
        }
        if ( v11 < 0 )
          unknown_libname_4(v11);
      }
      v13 = *(_DWORD *)(v2 + 16);
      result = *(_DWORD *)(v2 + 24);
      *(_DWORD *)(v2 + 20) = a2;
      *(_DWORD *)(v2 + 16) = a2 + v13;
    }
  }
  else
  {
    v3 = *(_DWORD *)(this + 20);
    result = v3 + *(_DWORD *)(v2 + 24);
    *(_DWORD *)(v2 + 20) = a2 + v3;
    *(_DWORD *)(v2 + 16) += a2;
  }
  return result;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 109D18B0: using guessed type int dword_109D18B0;
// 109D18B4: using guessed type int dword_109D18B4;
// 109D18B8: using guessed type int dword_109D18B8;

//----- (100211F0) --------------------------------------------------------
int sub_100211F0()
{
  int result; // eax@1

  result = 0;
  byte_109D18C4 = -1;
  dword_109D18C8 = 0;
  dword_109D18CC = 0;
  byte_109D18D0 = 0;
  dword_109D1908 = 0;
  dword_109D1904 = 0;
  dword_109D1900 = 0;
  dword_109D18FC = 0;
  dword_109D18E8 = 0;
  dword_109D18EC = 0;
  dword_109D18F0 = 0;
  dword_109D18F4 = 0;
  word_109D18F8 = 0;
  dword_109D190C = 0;
  dword_109D1910 = 0;
  dword_109D18E4 = 0;
  byte_109D1914 = 1;
  byte_109D1915 = 0;
  memset(&unk_109D1918, 0, 0x40u);
  byte_109D1958 = 0;
  dword_109D195C = 0;
  memset(&unk_109D1960, 0, 0x20u);
  dword_109D1980 = 0;
  dword_109D1984 = 0;
  dword_109D1990 = 1065353216;
  dword_109D1994 = 0;
  dword_109D1998 = 0;
  dword_109D199C = 0;
  dword_109D18C0 = 0;
  dword_109D18D4 = 0;
  dword_109D18D8 = 0;
  dword_109D18DC = 0;
  dword_109D18E0 = 0;
  return result;
}
// 109D18C0: using guessed type int dword_109D18C0;
// 109D18C4: using guessed type char byte_109D18C4;
// 109D18C8: using guessed type int dword_109D18C8;
// 109D18CC: using guessed type int dword_109D18CC;
// 109D18D0: using guessed type char byte_109D18D0;
// 109D18D4: using guessed type int dword_109D18D4;
// 109D18D8: using guessed type int dword_109D18D8;
// 109D18DC: using guessed type int dword_109D18DC;
// 109D18E0: using guessed type int dword_109D18E0;
// 109D18E4: using guessed type int dword_109D18E4;
// 109D18E8: using guessed type int dword_109D18E8;
// 109D18EC: using guessed type int dword_109D18EC;
// 109D18F0: using guessed type int dword_109D18F0;
// 109D18F4: using guessed type int dword_109D18F4;
// 109D18F8: using guessed type __int16 word_109D18F8;
// 109D18FC: using guessed type int dword_109D18FC;
// 109D1900: using guessed type int dword_109D1900;
// 109D1904: using guessed type int dword_109D1904;
// 109D1908: using guessed type int dword_109D1908;
// 109D190C: using guessed type int dword_109D190C;
// 109D1910: using guessed type int dword_109D1910;
// 109D1914: using guessed type char byte_109D1914;
// 109D1915: using guessed type char byte_109D1915;
// 109D1958: using guessed type char byte_109D1958;
// 109D195C: using guessed type int dword_109D195C;
// 109D1980: using guessed type int dword_109D1980;
// 109D1984: using guessed type int dword_109D1984;
// 109D1990: using guessed type int dword_109D1990;
// 109D1994: using guessed type int dword_109D1994;
// 109D1998: using guessed type int dword_109D1998;
// 109D199C: using guessed type int dword_109D199C;

//----- (100212D0) --------------------------------------------------------
int __usercall sub_100212D0@<eax>(double a1@<st0>, int a2, int a3, char a4, int a5, unsigned int a6, int a7)
{
  int v7; // esi@1
  int v8; // ST14_4@2
  void **v9; // eax@2
  int v10; // eax@2
  int v11; // esi@6
  int v12; // eax@7
  int v13; // ecx@11
  int v14; // eax@13
  signed int v15; // ecx@14
  int v16; // eax@15
  int v17; // eax@17
  signed int v18; // eax@21
  signed int v19; // ecx@22
  unsigned int v20; // eax@26
  unsigned int v21; // ecx@26
  int v22; // esi@27
  int v23; // ebx@27
  __int64 v24; // ST00_8@30
  int result; // eax@30
  int v26; // [sp+10h] [bp-8Ch]@2
  int v27; // [sp+14h] [bp-88h]@2
  unsigned int v28; // [sp+18h] [bp-84h]@11
  int v29; // [sp+1Ch] [bp-80h]@11
  char v30; // [sp+20h] [bp-7Ch]@13
  char v31; // [sp+28h] [bp-74h]@1
  int v32; // [sp+2Ch] [bp-70h]@1
  int v33; // [sp+30h] [bp-6Ch]@1
  char v34; // [sp+34h] [bp-68h]@1
  char v35; // [sp+38h] [bp-64h]@1
  int v36; // [sp+3Ch] [bp-60h]@6
  char v37; // [sp+40h] [bp-5Ch]@6
  char v38; // [sp+5Ch] [bp-40h]@6
  int v39; // [sp+98h] [bp-4h]@1

  v31 = *(_BYTE *)a7;
  v32 = 1;
  v33 = 0;
  v34 = 0;
  sub_1003DEC0();
  sub_100262C0((int)&v35, (int)&v31, dword_109D183C);
  v39 = 0;
  sub_100158B0((int)&dword_109D17F0, (int)&v35);
  v39 = -1;
  sub_100156E0((int)&v35);
  v7 = sub_1003E110();
  if ( v7 != 1 )
  {
    v8 = dword_109D17F8;
    dword_109D17F0 = 0;
    v9 = (void **)sub_10015560((int)&unk_109D17F4, &v26);
    sub_100155A0(&unk_109D17F4, (int)&v27, *v9, v8);
    sub_100154D0((int)&dword_109D1804);
    sub_100154D0((int)&dword_109D1818);
    v10 = 0;
    dword_109D19A4 = 0;
    dword_109D19A0 = 0;
    dword_109D19A8 = 0;
    v27 = (int)&dword_109D19A0;
    v39 = 1;
    if ( &dword_109D19A0 )
    {
      sub_10015520((int)&dword_109D19A0, v7, 0, 0);
      v10 = dword_109D19A0;
    }
    v39 = -1;
    if ( v10 < 0 )
      unknown_libname_4(v10);
  }
  v35 = *(_BYTE *)a7;
  sub_1001A0A0((int)&v37);
  v36 = 0;
  sub_1003DEC0();
  sub_10026310((int)&v38, (int)&v35, dword_109D183C);
  v39 = 2;
  sub_10026450((int)&dword_109D1804, (int)&v38);
  v39 = -1;
  sub_100156E0((int)&v38);
  v11 = sub_1003E110();
  if ( v11 != 1 )
  {
    sub_100154D0((int)&dword_109D17F0);
    sub_100154D0((int)&dword_109D1804);
    sub_100154D0((int)&dword_109D1818);
    v12 = 0;
    dword_109D19A4 = 0;
    dword_109D19A0 = 0;
    dword_109D19A8 = 0;
    v27 = (int)&dword_109D19A0;
    v39 = 3;
    if ( &dword_109D19A0 )
    {
      sub_10015520((int)&dword_109D19A0, v11, 0, 0);
      v12 = dword_109D19A0;
    }
    v39 = -1;
    if ( v12 < 0 )
      unknown_libname_4(v12);
  }
  v13 = *(_DWORD *)(a5 + 4);
  v28 = *(_DWORD *)a5;
  v29 = v13;
  if ( dword_109D18C0 != 1
    || !sub_10015570((int)&byte_109D18C4, a7)
    || (v14 = sub_10026250((int)&v30, (int)&v28), !(unsigned __int8)sub_10026290((int)&dword_109D18D4, v14)) )
  {
    v15 = *(_DWORD *)(a7 + 8);
    if ( v15 <= 255 )
    {
      if ( byte_109D1834 || (v17 = *(_DWORD *)(dword_109D1830 + 4 * v15)) == 0 || *(_BYTE *)(v17 + 13) != 3 )
        v16 = *(_DWORD *)(dword_109D1830 + 4 * v15);
      else
        v16 = 0;
    }
    else
    {
      v16 = 0;
    }
    v18 = sub_10031CA0(
            (int)&dword_109D18E4,
            a1,
            a3,
            *(_DWORD *)(a7 + 4),
            *(_DWORD *)(*(_DWORD *)(a2 + 388) + 4 * *(_BYTE *)a7),
            v16,
            *(_DWORD *)(a2 + 408));
    if ( v18 != 1 )
    {
      v19 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      if ( &dword_109D19A0 )
      {
        v19 = v18;
        LOWORD(dword_109D19A4) = 0;
        dword_109D19A0 = v18;
        dword_109D19A8 = 0;
      }
      if ( v19 < 0 )
        unknown_libname_4(v19);
    }
  }
  v20 = *(_DWORD *)a5;
  v21 = *(_DWORD *)(a5 + 4);
  LOBYTE(v26) = 0;
  if ( a6 > 1 )
  {
    v22 = a5 + 8;
    v23 = a6 - 1;
    do
    {
      sub_10033460(__PAIR__(v21, v20), *(_DWORD *)v22, *(_DWORD *)(v22 + 4), (int)&dword_109D18E4, v26);
      v20 = *(_DWORD *)v22;
      v21 = *(_DWORD *)(v22 + 4);
      v22 += 8;
      --v23;
      LOBYTE(v26) = 1;
    }
    while ( v23 );
  }
  if ( a4 )
  {
    HIDWORD(v24) = *(_DWORD *)(a5 + 8 * a6 - 4);
    LODWORD(v24) = *(_DWORD *)(a5 + 8 * a6 - 8);
    sub_10033460(v24, *(_DWORD *)a5, *(_DWORD *)(a5 + 4), (int)&dword_109D18E4, 1);
    dword_109D18D4 = -3;
    dword_109D18D8 = -3;
    result = 3;
    dword_109D18C0 = 0;
    dword_109D18DC = 3;
    dword_109D18E0 = 3;
  }
  else
  {
    result = sub_10026750((int)&dword_109D18C0, 1, *(_DWORD *)(a5 + 8 * a6 - 8), *(_DWORD *)(a5 + 8 * a6 - 4), a7);
  }
  return result;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 109D17F0: using guessed type int dword_109D17F0;
// 109D1804: using guessed type int dword_109D1804;
// 109D1818: using guessed type int dword_109D1818;
// 109D1830: using guessed type int dword_109D1830;
// 109D1834: using guessed type char byte_109D1834;
// 109D183C: using guessed type int dword_109D183C;
// 109D18C0: using guessed type int dword_109D18C0;
// 109D18C4: using guessed type char byte_109D18C4;
// 109D18D4: using guessed type int dword_109D18D4;
// 109D18D8: using guessed type int dword_109D18D8;
// 109D18DC: using guessed type int dword_109D18DC;
// 109D18E0: using guessed type int dword_109D18E0;
// 109D18E4: using guessed type int dword_109D18E4;
// 109D19A0: using guessed type int dword_109D19A0;
// 109D19A4: using guessed type int dword_109D19A4;
// 109D19A8: using guessed type int dword_109D19A8;

//----- (100216A0) --------------------------------------------------------
int __usercall sub_100216A0@<eax>(double a1@<st0>, int a2, int a3, signed int a4, signed int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12)
{
  char v12; // al@1
  int v13; // esi@1
  int v14; // ST20_4@2
  void **v15; // eax@2
  int v16; // eax@2
  signed int v17; // esi@6
  signed int v18; // eax@7
  int v19; // eax@13
  signed int v20; // eax@14
  int v21; // eax@15
  int v22; // ecx@17
  signed int v23; // eax@21
  signed int v24; // ecx@22
  int result; // eax@28
  char v26; // [sp+10h] [bp-8Ch]@2
  int v27; // [sp+14h] [bp-88h]@2
  int v28; // [sp+18h] [bp-84h]@11
  int v29; // [sp+1Ch] [bp-80h]@11
  char v30; // [sp+20h] [bp-7Ch]@13
  char v31; // [sp+28h] [bp-74h]@1
  int v32; // [sp+2Ch] [bp-70h]@1
  int v33; // [sp+30h] [bp-6Ch]@1
  char v34; // [sp+34h] [bp-68h]@1
  char v35; // [sp+38h] [bp-64h]@1
  int v36; // [sp+3Ch] [bp-60h]@6
  char v37; // [sp+40h] [bp-5Ch]@6
  char v38; // [sp+5Ch] [bp-40h]@6
  int v39; // [sp+98h] [bp-4h]@1

  v32 = 1;
  v33 = 0;
  v12 = *(_BYTE *)a12;
  v34 = 0;
  v31 = v12;
  sub_1003DEC0();
  sub_100262C0((int)&v35, (int)&v31, dword_109D183C);
  v39 = 0;
  sub_100158B0((int)&dword_109D17F0, (int)&v35);
  v39 = -1;
  sub_100156E0((int)&v35);
  v13 = sub_1003E110();
  if ( v13 != 1 )
  {
    v14 = dword_109D17F8;
    dword_109D17F0 = 0;
    v15 = (void **)sub_10015560((int)&unk_109D17F4, &v26);
    sub_100155A0(&unk_109D17F4, (int)&v27, *v15, v14);
    sub_100154D0((int)&dword_109D1804);
    sub_100154D0((int)&dword_109D1818);
    v16 = 0;
    dword_109D19A4 = 0;
    dword_109D19A0 = 0;
    dword_109D19A8 = 0;
    v27 = (int)&dword_109D19A0;
    v39 = 1;
    if ( &dword_109D19A0 )
    {
      sub_10015520((int)&dword_109D19A0, v13, 0, 0);
      v16 = dword_109D19A0;
    }
    v39 = -1;
    if ( v16 < 0 )
      unknown_libname_4(v16);
  }
  v35 = *(_BYTE *)a12;
  sub_1001A0A0((int)&v37);
  v36 = 0;
  sub_1003DEC0();
  sub_10026310((int)&v38, (int)&v35, dword_109D183C);
  v39 = 2;
  sub_10026450((int)&dword_109D1804, (int)&v38);
  v39 = -1;
  sub_100156E0((int)&v38);
  v17 = sub_1003E110();
  if ( v17 != 1 )
  {
    sub_100154D0((int)&dword_109D17F0);
    sub_100154D0((int)&dword_109D1804);
    sub_100154D0((int)&dword_109D1818);
    v18 = 0;
    dword_109D19A4 = 0;
    dword_109D19A0 = 0;
    dword_109D19A8 = 0;
    if ( &dword_109D19A0 )
    {
      v18 = v17;
      LOWORD(dword_109D19A4) = 0;
      dword_109D19A0 = v17;
      dword_109D19A8 = 0;
    }
    if ( v18 < 0 )
      unknown_libname_4(v18);
  }
  v28 = a8;
  v29 = a9;
  if ( dword_109D18C0 != 1
    || !sub_10015570((int)&byte_109D18C4, a12)
    || (v19 = sub_10026250((int)&v30, (int)&v28), !(unsigned __int8)sub_10026290((int)&dword_109D18D4, v19)) )
  {
    v20 = *(_DWORD *)(a12 + 8);
    if ( v20 <= 255 )
    {
      if ( byte_109D1834 || (v22 = *(_DWORD *)(dword_109D1830 + 4 * v20)) == 0 || *(_BYTE *)(v22 + 13) != 3 )
        v21 = *(_DWORD *)(dword_109D1830 + 4 * v20);
      else
        v21 = 0;
    }
    else
    {
      v21 = 0;
    }
    v23 = sub_10031CA0(
            (int)&dword_109D18E4,
            a1,
            a3,
            *(_DWORD *)(a12 + 4),
            *(_DWORD *)(*(_DWORD *)(a2 + 388) + 4 * *(_BYTE *)a12),
            v21,
            *(_DWORD *)(a2 + 408));
    if ( v23 != 1 )
    {
      v24 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      if ( &dword_109D19A0 )
      {
        v24 = v23;
        LOWORD(dword_109D19A4) = 0;
        dword_109D19A0 = v23;
        dword_109D19A8 = 0;
      }
      if ( v24 < 0 )
        unknown_libname_4(v24);
    }
  }
  sub_10033D30(a4, a5, a6, a7, a8, a9, a10, a11, (int)&dword_109D18E4);
  dword_109D18C0 = 1;
  if ( a12 )
    sub_10015A40((int)&byte_109D18C4, a12);
  result = a10 - 3;
  dword_109D18D8 = a11 - 3;
  dword_109D18E0 = a11 + 3;
  dword_109D18DC = a10 + 3;
  dword_109D18D4 = a10 - 3;
  return result;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 109D17F0: using guessed type int dword_109D17F0;
// 109D1804: using guessed type int dword_109D1804;
// 109D1818: using guessed type int dword_109D1818;
// 109D1830: using guessed type int dword_109D1830;
// 109D1834: using guessed type char byte_109D1834;
// 109D183C: using guessed type int dword_109D183C;
// 109D18C0: using guessed type int dword_109D18C0;
// 109D18C4: using guessed type char byte_109D18C4;
// 109D18D4: using guessed type int dword_109D18D4;
// 109D18D8: using guessed type int dword_109D18D8;
// 109D18DC: using guessed type int dword_109D18DC;
// 109D18E0: using guessed type int dword_109D18E0;
// 109D18E4: using guessed type int dword_109D18E4;
// 109D19A0: using guessed type int dword_109D19A0;
// 109D19A4: using guessed type int dword_109D19A4;
// 109D19A8: using guessed type int dword_109D19A8;

//----- (10021A20) --------------------------------------------------------
void __usercall sub_10021A20(double a1@<st0>, int a2, int a3, char a4, int a5, unsigned int a6, int a7)
{
  void *v7; // ebp@3
  unsigned int v8; // esi@3
  int v9; // edi@4
  int v10; // [sp+4h] [bp-98h]@3
  int (__stdcall **v11)(int, int); // [sp+Ch] [bp-90h]@2
  char v12; // [sp+10h] [bp-8Ch]@3
  int v13; // [sp+30h] [bp-6Ch]@3
  int v14; // [sp+34h] [bp-68h]@3
  int v15; // [sp+38h] [bp-64h]@3
  int v16; // [sp+3Ch] [bp-60h]@3
  int v17; // [sp+40h] [bp-5Ch]@3
  int v18; // [sp+44h] [bp-58h]@3
  int v19; // [sp+48h] [bp-54h]@3
  char v20; // [sp+4Ch] [bp-50h]@3
  char v21; // [sp+4Dh] [bp-4Fh]@3
  char v22; // [sp+4Eh] [bp-4Eh]@2
  int v23; // [sp+50h] [bp-4Ch]@3
  int v24; // [sp+54h] [bp-48h]@3
  int v25; // [sp+58h] [bp-44h]@3
  int v26; // [sp+5Ch] [bp-40h]@3
  int v27; // [sp+60h] [bp-3Ch]@3
  int v28; // [sp+64h] [bp-38h]@3
  int v29; // [sp+68h] [bp-34h]@3
  int v30; // [sp+6Ch] [bp-30h]@2
  int v31; // [sp+70h] [bp-2Ch]@2
  int v32; // [sp+74h] [bp-28h]@2
  int v33; // [sp+78h] [bp-24h]@2
  __int16 v34; // [sp+7Ch] [bp-20h]@2
  int v35; // [sp+80h] [bp-1Ch]@2
  int v36; // [sp+84h] [bp-18h]@2
  int v37; // [sp+88h] [bp-14h]@2
  int v38; // [sp+8Ch] [bp-10h]@2
  int v39; // [sp+90h] [bp-Ch]@2
  int v40; // [sp+94h] [bp-8h]@2
  char v41; // [sp+98h] [bp-4h]@3

  if ( a6 == 2 )
  {
    v38 = 0;
    v37 = 0;
    v36 = 0;
    v35 = 0;
    v30 = 0;
    v31 = 0;
    v32 = 0;
    v33 = 0;
    v34 = 0;
    v39 = 0;
    v40 = 0;
    v11 = off_10090060;
    sub_10034270((int)&v11, a1, a2, a3, a7);
    v22 = 1;
    sub_10034A30(*(int **)a5, *(_DWORD *)(a5 + 4), *(_DWORD *)(a5 + 8), *(_DWORD *)(a5 + 12), (int)&v11);
  }
  else
  {
    v38 = 0;
    v37 = 0;
    v36 = 0;
    v35 = 0;
    v30 = 0;
    v31 = 0;
    v32 = 0;
    v33 = 0;
    v34 = 0;
    v39 = 0;
    v40 = 0;
    v11 = off_10090060;
    memset(&v12, 0, 0x20u);
    v13 = 0;
    v14 = 0;
    v17 = 0;
    v15 = 0;
    v18 = 0;
    v16 = 0;
    v19 = 0;
    v20 = 1;
    v21 = 0;
    v22 = 0;
    v23 = 1065353216;
    v24 = 0;
    v25 = 0;
    v26 = 0;
    v27 = 0;
    v28 = 0;
    v41 = 0;
    v29 = 0;
    v7 = operator new(8 * a6);
    qmemcpy(v7, (const void *)a5, 4 * (8 * a6 >> 2));
    v10 = (int)v7;
    v8 = 1;
    if ( a6 > 1 )
    {
      v9 = (int)v7 + 8;
      do
      {
        sub_10034270((int)&v11, a1, a2, a3, a7);
        if ( v8 == a6 - 1 )
          v22 = 1;
        sub_10034A30(*(int **)v10, *(_DWORD *)(v10 + 4), *(_DWORD *)v9, *(_DWORD *)(v9 + 4), (int)&v11);
        v10 = v9;
        ++v8;
        v9 += 8;
      }
      while ( v8 < a6 );
    }
    if ( a4 )
    {
      sub_10034270((int)&v11, a1, a2, a3, a7);
      sub_10034A30(
        *((int **)v7 + 2 * a6 - 2),
        *((_DWORD *)v7 + 2 * a6 - 1),
        *(_DWORD *)v7,
        *((_DWORD *)v7 + 1),
        (int)&v11);
    }
    j__free(v7);
  }
}
// 10090060: using guessed type int (__stdcall *off_10090060[2])(int, int);

//----- (10021CA0) --------------------------------------------------------
void __usercall sub_10021CA0(double a1@<st0>, int a2, int *a3, char a4, int a5, unsigned int a6, int a7)
{
  signed int v7; // eax@1
  int v8; // edx@6
  int v9; // eax@8
  int *v10; // esi@12
  char v11; // cl@12
  double v12; // st7@12
  double v13; // st7@13
  double v14; // st7@14
  int v15; // ebx@20
  int v16; // ST10_4@21
  void **v17; // eax@21
  int v18; // eax@21
  int v19; // ebp@25
  int v20; // edi@26
  int v21; // ebx@26
  signed int v22; // eax@30
  signed int v23; // ecx@31
  int v24; // ebx@35
  int v25; // ST10_4@36
  void **v26; // eax@36
  int v27; // eax@36
  int v28; // ebp@40
  double v29; // st7@40
  double v30; // st7@41
  signed __int64 v31; // rax@43
  double v32; // st7@43
  double v33; // st7@43
  double v34; // st7@44
  unsigned int v35; // ebx@46
  int v36; // edi@47
  double v37; // st7@49
  double v38; // st7@50
  int v39; // ebp@52
  double v40; // st7@52
  double v41; // st7@53
  signed int v42; // eax@58
  int v43; // [sp+Ch] [bp-44h]@36
  char v44; // [sp+14h] [bp-3Ch]@12
  int v45; // [sp+18h] [bp-38h]@12
  int v46; // [sp+1Ch] [bp-34h]@12
  char v47; // [sp+20h] [bp-30h]@12
  char v48; // [sp+24h] [bp-2Ch]@20
  int v49; // [sp+4Ch] [bp-4h]@20

  v7 = *(_DWORD *)(a7 + 8);
  if ( !v7 || v7 == 5 )
  {
    v10 = a3;
    v44 = *(_BYTE *)a7;
    v11 = *(_BYTE *)(a7 + 12);
    v45 = *(_DWORD *)(a7 + 4);
    v12 = *((float *)a3 + 3);
    v46 = v7;
    v47 = v11;
    if ( v11 )
    {
      v13 = v12 * (double)v45;
      v14 = v13 <= 0.0 ? v13 - 0.5 : v13 + 0.5;
      v45 = (signed __int64)v14;
      if ( !v45 )
        v45 = 1;
    }
    if ( *((float *)a3 + 1) != 1.0 || *((float *)a3 + 2) != 1.0 )
    {
      sub_1003DEC0();
      sub_100262C0((int)&v48, (int)&v44, dword_109D183C);
      v49 = 2;
      sub_100158B0((int)&dword_109D17F0, (int)&v48);
      v49 = -1;
      sub_100156E0((int)&v48);
      v24 = sub_1003E110();
      if ( v24 != 1 )
      {
        v25 = dword_109D17F8;
        dword_109D17F0 = 0;
        v26 = (void **)sub_10015560((int)&unk_109D17F4, &a7);
        sub_100155A0(&unk_109D17F4, (int)&v43, *v26, v25);
        sub_100154D0((int)&dword_109D1804);
        sub_100154D0((int)&dword_109D1818);
        v27 = 0;
        dword_109D19A4 = 0;
        dword_109D19A0 = 0;
        dword_109D19A8 = 0;
        a3 = &dword_109D19A0;
        v49 = 3;
        if ( &dword_109D19A0 )
        {
          sub_10015520((int)&dword_109D19A0, v24, 0, 0);
          v27 = dword_109D19A0;
        }
        if ( v27 < 0 )
          unknown_libname_4(v27);
      }
      v28 = a5;
      v29 = (double)*(signed int *)a5 * *((float *)v10 + 1);
      if ( v29 <= 0.0 )
        v30 = v29 - 0.5;
      else
        v30 = v29 + 0.5;
      v31 = (signed __int64)v30;
      v32 = (double)*(signed int *)(a5 + 4);
      v43 = v31;
      v33 = v32 * *((float *)v10 + 2);
      if ( v33 <= 0.0 )
        v34 = v33 - 0.5;
      else
        v34 = v33 + 0.5;
      v35 = (signed __int64)v34;
      sub_1003DEC0();
      sub_1003FB80(*v10, v43, v35);
      if ( a6 > 1 )
      {
        v36 = v28 + 8;
        --a6;
        while ( 1 )
        {
          a3 = (int *)(*(_DWORD *)(v36 + 4) - *(_DWORD *)(v28 + 4));
          v37 = (double)(signed int)a3 * *((float *)v10 + 2);
          v38 = v37 <= 0.0 ? v37 - 0.5 : v37 + 0.5;
          v39 = (signed __int64)v38;
          a3 = (int *)(*(_DWORD *)v36 - *(_DWORD *)a5);
          v40 = (double)(signed int)a3 * *((float *)v10 + 1);
          v41 = v40 <= 0.0 ? v40 - 0.5 : v40 + 0.5;
          sub_1003F860(*v10, v43 + (unsigned __int64)(signed __int64)v41, v35 + v39);
          v36 += 8;
          if ( !--a6 )
            break;
          v28 = a5;
        }
      }
      if ( a4 )
        sub_1003F860(*v10, v43, v35);
      v42 = sub_1003E110();
      if ( v42 == 1 )
        goto LABEL_63;
      v23 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      if ( &dword_109D19A0 )
      {
        v23 = v42;
        LOWORD(dword_109D19A4) = 0;
        dword_109D19A0 = v42;
        dword_109D19A8 = 0;
      }
      if ( v23 >= 0 )
        goto LABEL_63;
    }
    else
    {
      sub_1003DEC0();
      sub_100262C0((int)&v48, (int)&v44, dword_109D183C);
      v49 = 0;
      sub_100158B0((int)&dword_109D17F0, (int)&v48);
      v49 = -1;
      sub_100156E0((int)&v48);
      v15 = sub_1003E110();
      if ( v15 != 1 )
      {
        v16 = dword_109D17F8;
        dword_109D17F0 = 0;
        v17 = (void **)sub_10015560((int)&unk_109D17F4, &a3);
        sub_100155A0(&unk_109D17F4, (int)&a2, *v17, v16);
        sub_100154D0((int)&dword_109D1804);
        sub_100154D0((int)&dword_109D1818);
        v18 = 0;
        dword_109D19A4 = 0;
        dword_109D19A0 = 0;
        dword_109D19A8 = 0;
        a3 = &dword_109D19A0;
        v49 = 1;
        if ( &dword_109D19A0 )
        {
          sub_10015520((int)&dword_109D19A0, v15, 0, 0);
          v18 = dword_109D19A0;
        }
        if ( v18 < 0 )
          unknown_libname_4(v18);
      }
      sub_1003DEC0();
      v19 = a5;
      sub_1003FB80(*v10, *(_DWORD *)a5, *(_DWORD *)(a5 + 4));
      if ( a6 > 1 )
      {
        v20 = v19 + 8;
        v21 = a6 - 1;
        do
        {
          sub_1003F860(*v10, *(_DWORD *)v20, *(_DWORD *)(v20 + 4));
          v20 += 8;
          --v21;
        }
        while ( v21 );
      }
      if ( a4 )
        sub_1003F860(*v10, *(_DWORD *)v19, *(_DWORD *)(v19 + 4));
      v22 = sub_1003E110();
      if ( v22 == 1 )
        goto LABEL_63;
      v23 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      if ( &dword_109D19A0 )
      {
        v23 = v22;
        LOWORD(dword_109D19A4) = 0;
        dword_109D19A0 = v22;
        dword_109D19A8 = 0;
      }
      if ( v23 >= 0 )
        goto LABEL_63;
    }
    unknown_libname_4(v23);
LABEL_63:
    dword_109D18C0 = 0;
    dword_109D18D4 = -3;
    dword_109D18D8 = -3;
    dword_109D18DC = 3;
    dword_109D18E0 = 3;
    return;
  }
  if ( v7 >= 6
    && v7 <= 255
    && (byte_109D1834 || (v8 = *(_DWORD *)(dword_109D1830 + 4 * v7)) == 0 || *(_BYTE *)(v8 + 13) != 3)
    && (v9 = *(_DWORD *)(dword_109D1830 + 4 * v7)) != 0
    && *(_BYTE *)(v9 + 13) == 3 )
  {
    sub_10021A20(a1, a2, (int)a3, a4, a5, a6, a7);
  }
  else
  {
    sub_100212D0(a1, a2, (int)a3, a4, a5, a6, a7);
  }
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 109D17F0: using guessed type int dword_109D17F0;
// 109D1804: using guessed type int dword_109D1804;
// 109D1818: using guessed type int dword_109D1818;
// 109D1830: using guessed type int dword_109D1830;
// 109D1834: using guessed type char byte_109D1834;
// 109D183C: using guessed type int dword_109D183C;
// 109D18C0: using guessed type int dword_109D18C0;
// 109D18D4: using guessed type int dword_109D18D4;
// 109D18D8: using guessed type int dword_109D18D8;
// 109D18DC: using guessed type int dword_109D18DC;
// 109D18E0: using guessed type int dword_109D18E0;
// 109D19A0: using guessed type int dword_109D19A0;
// 109D19A4: using guessed type int dword_109D19A4;
// 109D19A8: using guessed type int dword_109D19A8;

//----- (10022210) --------------------------------------------------------
int __cdecl sub_10022210(int a1, int a2, int a3, unsigned int a4, int a5, int a6)
{
  int v6; // edx@1
  double v7; // st7@1
  int v8; // esi@1
  char v9; // al@1
  double v10; // st7@2
  double v11; // st7@3
  double v12; // st7@8
  int v13; // edi@9
  double v14; // st7@10
  int v15; // ebx@10
  double v16; // st7@10
  double v17; // st7@11
  double v18; // st7@13
  unsigned int v19; // esi@16
  double v20; // st7@17
  double v21; // st7@18
  double v22; // st7@20
  signed int v23; // eax@26
  signed int v24; // ecx@27
  int v25; // ecx@31
  int v26; // ecx@31
  int (**v27)(); // eax@31
  __int16 v28; // dx@31
  int v29; // eax@31
  signed int v30; // eax@32
  signed int v31; // ecx@33
  int v32; // esi@40
  int v33; // esi@40
  int v34; // eax@41
  int v35; // esi@45
  int v36; // ST14_4@46
  void **v37; // eax@46
  int v38; // eax@46
  signed int v39; // eax@50
  signed int v40; // ecx@51
  int v41; // ecx@55
  int v42; // eax@55
  int v43; // eax@55
  int v44; // ecx@55
  int v45; // esi@56
  int v46; // esi@56
  int v47; // eax@57
  int v48; // esi@61
  int v49; // ST14_4@62
  void **v50; // eax@62
  int v51; // eax@62
  signed int v52; // eax@66
  signed int v53; // ecx@67
  int v55; // [sp+8h] [bp-A0h]@9
  char v56; // [sp+Fh] [bp-99h]@26
  int *v57; // [sp+10h] [bp-98h]@46
  char v58; // [sp+14h] [bp-94h]@1
  int v59; // [sp+18h] [bp-90h]@1
  int v60; // [sp+1Ch] [bp-8Ch]@1
  char v61; // [sp+20h] [bp-88h]@1
  int (**v62)(); // [sp+24h] [bp-84h]@31
  int v63; // [sp+28h] [bp-80h]@31
  int v64; // [sp+2Ch] [bp-7Ch]@31
  int v65; // [sp+30h] [bp-78h]@31
  __int16 v66; // [sp+34h] [bp-74h]@31
  int v67; // [sp+38h] [bp-70h]@31
  int v68; // [sp+3Ch] [bp-6Ch]@31
  int v69; // [sp+40h] [bp-68h]@31
  int v70; // [sp+44h] [bp-64h]@31
  int v71; // [sp+48h] [bp-60h]@31
  int v72; // [sp+4Ch] [bp-5Ch]@31
  int v73; // [sp+58h] [bp-50h]@10
  int v74; // [sp+5Ch] [bp-4Ch]@40
  int v75; // [sp+60h] [bp-48h]@40
  char v76; // [sp+64h] [bp-44h]@40
  int *v77; // [sp+68h] [bp-40h]@41
  int v78; // [sp+6Ch] [bp-3Ch]@55
  int v79; // [sp+70h] [bp-38h]@55
  int v80; // [sp+74h] [bp-34h]@55
  int v81; // [sp+78h] [bp-30h]@55
  __int16 v82; // [sp+7Ch] [bp-2Ch]@55
  int v83; // [sp+80h] [bp-28h]@55
  int v84; // [sp+84h] [bp-24h]@55
  int v85; // [sp+88h] [bp-20h]@55
  int v86; // [sp+8Ch] [bp-1Ch]@55
  int v87; // [sp+90h] [bp-18h]@55
  int v88; // [sp+94h] [bp-14h]@55
  int v89; // [sp+98h] [bp-10h]@46
  int v90; // [sp+A4h] [bp-4h]@40

  v6 = *(_DWORD *)(a5 + 4);
  v7 = *(float *)(a2 + 12);
  v8 = *(_DWORD *)(a5 + 8);
  v9 = *(_BYTE *)(a5 + 12);
  v58 = *(_BYTE *)a5;
  v59 = v6;
  v60 = v8;
  v61 = v9;
  if ( v9 )
  {
    v10 = v7 * (double)v59;
    v11 = v10 <= 0.0 ? v10 - 0.5 : v10 + 0.5;
    v59 = (signed __int64)v11;
    if ( !v59 )
      v59 = 1;
  }
  if ( *(float *)(a2 + 4) != 1.0 || (v12 = *(float *)(a2 + 8), v12 != 1.0) )
  {
    v14 = (double)*(signed int *)a3;
    v15 = *(_DWORD *)(a3 + 4);
    v73 = *(_DWORD *)a3;
    v16 = v14 * *(float *)(a2 + 4);
    if ( v16 <= 0.0 )
      v17 = v16 - 0.5;
    else
      v17 = v16 + 0.5;
    *(_DWORD *)dword_109D1864 = (signed __int64)v17;
    v18 = (double)*(signed int *)(a3 + 4) * *(float *)(a2 + 8);
    if ( v18 <= 0.0 )
      v12 = v18 - 0.5;
    else
      v12 = v18 + 0.5;
    v19 = 1;
    for ( *(_DWORD *)(dword_109D1864 + 4) = (signed __int64)v12; v19 < a4; ++v19 )
    {
      v55 = *(_DWORD *)(a3 + 8 * v19) - v73;
      v20 = (double)v55 * *(float *)(a2 + 4);
      if ( v20 <= 0.0 )
        v21 = v20 - 0.5;
      else
        v21 = v20 + 0.5;
      *(_DWORD *)(dword_109D1864 + 8 * v19) = *(_DWORD *)dword_109D1864 + (unsigned __int64)(signed __int64)v21;
      v55 = *(_DWORD *)(a3 + 8 * v19 + 4) - v15;
      v22 = (double)v55 * *(float *)(a2 + 8);
      if ( v22 <= 0.0 )
        v12 = v22 - 0.5;
      else
        v12 = v22 + 0.5;
      *(_DWORD *)(dword_109D1864 + 8 * v19 + 4) = (unsigned __int64)(signed __int64)v12
                                                + *(_DWORD *)(dword_109D1864 + 4);
    }
    v8 = v60;
    v55 = dword_109D1864;
    v13 = dword_109D1864;
  }
  else
  {
    v13 = a3;
    v55 = a3;
  }
  if ( *(_DWORD *)(a6 + 4) == 15 )
  {
    v55 = 0;
    v23 = sub_10040DE0(v13, a4, 1, &v55, &v56);
    if ( v23 != 1 )
    {
      v24 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      if ( &dword_109D19A0 )
      {
        v24 = v23;
        dword_109D19A0 = v23;
        LOWORD(dword_109D19A4) = 0;
        dword_109D19A8 = 0;
      }
      if ( v24 < 0 )
        unknown_libname_4(v24);
    }
    v63 = 1065353216;
    v25 = *(_DWORD *)(a2 + 20);
    v64 = 1065353216;
    v67 = v25;
    v68 = *(_DWORD *)(a2 + 24);
    v69 = *(_DWORD *)(a2 + 28);
    v26 = *(_DWORD *)(a2 + 12);
    v27 = *(int (***)())a2;
    v70 = *(_DWORD *)(a2 + 32);
    v28 = *(_WORD *)(a2 + 16);
    v62 = v27;
    v29 = *(_DWORD *)(a2 + 36);
    v66 = v28;
    v71 = v29;
    v65 = v26;
    v72 = *(_DWORD *)(a2 + 40);
    sub_1003B6A0(a1, (int)&v62, v55, a6);
    if ( v56 )
    {
      v30 = sub_1003DFA0(v55);
      if ( v30 != 1 )
      {
        v31 = 0;
        dword_109D19A4 = 0;
        dword_109D19A0 = 0;
        dword_109D19A8 = 0;
        if ( &dword_109D19A0 )
        {
          v31 = v30;
          dword_109D19A0 = v30;
          LOWORD(dword_109D19A4) = 0;
          dword_109D19A8 = 0;
        }
        if ( v31 < 0 )
          unknown_libname_4(v31);
      }
    }
    sub_10021CA0(v12, a1, (int *)&v62, 1, v13, a4, (int)&v58);
  }
  else if ( v8 && v8 != 5 )
  {
    LOBYTE(v73) = 0;
    v74 = 1;
    v75 = 5;
    v76 = 0;
    sub_1003DEC0();
    v32 = dword_109D183C;
    sub_100156C0((int)&v62);
    v90 = 5;
    sub_10015540((int)&v66);
    v62 = &off_1008F66C;
    sub_10015A40((int)&v66, (int)&v73);
    v65 = v32;
    v90 = 6;
    sub_100158B0((int)&dword_109D17F0, (int)&v62);
    v90 = -1;
    sub_100156E0((int)&v62);
    v33 = sub_1003E110();
    if ( v33 != 1 )
    {
      sub_100154D0((int)&dword_109D17F0);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v34 = 0;
      v77 = &dword_109D19A0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      v90 = 7;
      if ( &dword_109D19A0 )
      {
        sub_10015520((int)&dword_109D19A0, v33, 0, 0);
        v34 = dword_109D19A0;
      }
      v90 = -1;
      if ( v34 < 0 )
        unknown_libname_4(v34);
    }
    sub_1003DEC0();
    sub_10026310((int)&v62, a6, dword_109D183C);
    v90 = 8;
    sub_10026450((int)&dword_109D1804, (int)&v62);
    v90 = -1;
    sub_100156E0((int)&v62);
    v35 = sub_1003E110();
    if ( v35 != 1 )
    {
      v36 = dword_109D17F8;
      dword_109D17F0 = 0;
      v37 = (void **)sub_10015560((int)&unk_109D17F4, &v77);
      sub_100155A0(&unk_109D17F4, (int)&v89, *v37, v36);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v38 = 0;
      v57 = &dword_109D19A0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      v90 = 9;
      if ( &dword_109D19A0 )
      {
        sub_10015520((int)&dword_109D19A0, v35, 0, 0);
        v38 = dword_109D19A0;
      }
      v90 = -1;
      if ( v38 < 0 )
        unknown_libname_4(v38);
    }
    v39 = sub_1003F320(*(_DWORD *)a2, v55, a4);
    if ( v39 != 1 )
    {
      v40 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      if ( &dword_109D19A0 )
      {
        v40 = v39;
        LOWORD(dword_109D19A4) = 0;
        dword_109D19A0 = v39;
        dword_109D19A8 = 0;
      }
      if ( v40 < 0 )
        unknown_libname_4(v40);
    }
    v79 = 1065353216;
    v80 = 1065353216;
    v83 = *(_DWORD *)(a2 + 20);
    v84 = *(_DWORD *)(a2 + 24);
    v85 = *(_DWORD *)(a2 + 28);
    v41 = *(_DWORD *)(a2 + 12);
    v42 = *(_DWORD *)a2;
    v86 = *(_DWORD *)(a2 + 32);
    v82 = *(_WORD *)(a2 + 16);
    v78 = v42;
    v43 = *(_DWORD *)(a2 + 36);
    v81 = v41;
    v44 = *(_DWORD *)(a2 + 40);
    v87 = v43;
    v88 = v44;
    sub_10021CA0(v12, a1, &v78, 1, v55, a4, (int)&v58);
  }
  else
  {
    sub_1003DEC0();
    v45 = dword_109D183C;
    sub_100156C0((int)&v62);
    v90 = 0;
    sub_10015540((int)&v66);
    v62 = &off_1008F66C;
    sub_10015A40((int)&v66, (int)&v58);
    v65 = v45;
    v90 = 1;
    sub_100158B0((int)&dword_109D17F0, (int)&v62);
    v90 = -1;
    sub_100156E0((int)&v62);
    v46 = sub_1003E110();
    if ( v46 != 1 )
    {
      sub_100154D0((int)&dword_109D17F0);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v47 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      v57 = &dword_109D19A0;
      v90 = 2;
      if ( &dword_109D19A0 )
      {
        sub_10015520((int)&dword_109D19A0, v46, 0, 0);
        v47 = dword_109D19A0;
      }
      v90 = -1;
      if ( v47 < 0 )
        unknown_libname_4(v47);
    }
    sub_1003DEC0();
    sub_10026310((int)&v62, a6, dword_109D183C);
    v90 = 3;
    sub_10026450((int)&dword_109D1804, (int)&v62);
    v90 = -1;
    sub_100156E0((int)&v62);
    v48 = sub_1003E110();
    if ( v48 != 1 )
    {
      v49 = dword_109D17F8;
      dword_109D17F0 = 0;
      v50 = (void **)sub_10015560((int)&unk_109D17F4, &v57);
      sub_100155A0(&unk_109D17F4, (int)&v73, *v50, v49);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v51 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      v73 = (int)&dword_109D19A0;
      v90 = 4;
      if ( &dword_109D19A0 )
      {
        sub_10015520((int)&dword_109D19A0, v48, 0, 0);
        v51 = dword_109D19A0;
      }
      v90 = -1;
      if ( v51 < 0 )
        unknown_libname_4(v51);
    }
    v52 = sub_1003F320(*(_DWORD *)a2, v55, a4);
    if ( v52 != 1 )
    {
      v53 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      if ( &dword_109D19A0 )
      {
        v53 = v52;
        dword_109D19A0 = v52;
        LOWORD(dword_109D19A4) = 0;
        dword_109D19A8 = 0;
      }
      if ( v53 < 0 )
        unknown_libname_4(v53);
    }
  }
  dword_109D18C0 = 0;
  return sub_10026270((int)&dword_109D18D4, -3, -3, 3, 3);
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 1008F66C: using guessed type int (*off_1008F66C)();
// 109D17F0: using guessed type int dword_109D17F0;
// 109D1804: using guessed type int dword_109D1804;
// 109D1818: using guessed type int dword_109D1818;
// 109D183C: using guessed type int dword_109D183C;
// 109D1864: using guessed type int dword_109D1864;
// 109D18C0: using guessed type int dword_109D18C0;
// 109D18D4: using guessed type int dword_109D18D4;
// 109D19A0: using guessed type int dword_109D19A0;
// 109D19A4: using guessed type int dword_109D19A4;
// 109D19A8: using guessed type int dword_109D19A8;

//----- (10022AA0) --------------------------------------------------------
int __cdecl sub_10022AA0(int a1, int a2, signed int a3, signed int a4, int a5, int a6, int a7, int a8)
{
  double v8; // st7@1
  double v9; // st7@2
  int v10; // ebx@4
  double v11; // st7@4
  double v12; // st7@5
  int v13; // edi@7
  double v14; // st7@7
  double v15; // st7@8
  int v16; // esi@10
  double v17; // st7@10
  double v18; // st7@11
  int v19; // ecx@13
  int v20; // esi@13
  int v21; // eax@14
  int v22; // ecx@15
  int v23; // ecx@19
  int (**v24)(); // eax@19
  __int16 v25; // dx@19
  int v26; // eax@19
  int v27; // ecx@19
  signed int v28; // eax@20
  signed int v29; // ecx@21
  int v30; // ecx@25
  char v31; // dl@28
  double v32; // st7@28
  char v33; // al@28
  double v34; // st7@29
  double v35; // st7@30
  int v36; // esi@34
  int v37; // esi@34
  int v38; // eax@35
  int v39; // esi@39
  int v40; // ST28_4@40
  void **v41; // eax@40
  int v42; // eax@40
  signed int v43; // eax@44
  signed int v44; // ecx@45
  int v45; // eax@49
  int v46; // esi@51
  int v47; // esi@51
  int v48; // eax@52
  int v49; // esi@56
  int v50; // esi@56
  int v51; // eax@57
  signed int v52; // eax@61
  signed int v53; // ecx@62
  signed int v54; // eax@66
  int v55; // ecx@69
  int v56; // eax@71
  int v57; // edx@75
  char v58; // al@75
  double v59; // st7@75
  double v60; // st7@76
  double v61; // st7@77
  int v62; // esi@81
  int v63; // esi@81
  int v64; // eax@82
  int v65; // esi@86
  int v66; // ST28_4@87
  void **v67; // eax@87
  int v68; // eax@87
  int v69; // ebp@91
  unsigned int v70; // esi@91
  int v71; // eax@93
  int v72; // ecx@94
  signed int v73; // eax@98
  int v75; // [sp+Ch] [bp-154h]@10
  char v76; // [sp+13h] [bp-14Dh]@14
  int *v77; // [sp+14h] [bp-14Ch]@1
  int v78; // [sp+18h] [bp-148h]@40
  char v79; // [sp+1Ch] [bp-144h]@28
  int v80; // [sp+20h] [bp-140h]@28
  int v81; // [sp+24h] [bp-13Ch]@28
  char v82; // [sp+28h] [bp-138h]@28
  int v83; // [sp+2Ch] [bp-134h]@13
  unsigned int v84; // [sp+30h] [bp-130h]@13
  int v85; // [sp+34h] [bp-12Ch]@13
  int v86; // [sp+38h] [bp-128h]@13
  int (**v87)(); // [sp+4Ch] [bp-114h]@34
  int v88; // [sp+58h] [bp-108h]@34
  char v89; // [sp+5Ch] [bp-104h]@34
  int (**v90)(); // [sp+80h] [bp-E0h]@19
  int v91; // [sp+84h] [bp-DCh]@19
  int v92; // [sp+88h] [bp-D8h]@19
  int v93; // [sp+8Ch] [bp-D4h]@19
  __int16 v94; // [sp+90h] [bp-D0h]@19
  int v95; // [sp+94h] [bp-CCh]@19
  int v96; // [sp+98h] [bp-C8h]@19
  int v97; // [sp+9Ch] [bp-C4h]@19
  int v98; // [sp+A0h] [bp-C0h]@19
  int v99; // [sp+A4h] [bp-BCh]@19
  int v100; // [sp+A8h] [bp-B8h]@19
  int (__stdcall **v101)(int, int); // [sp+B4h] [bp-ACh]@73
  char v102; // [sp+F6h] [bp-6Ah]@73
  int v103; // [sp+15Ch] [bp-4h]@34

  v77 = (int *)((a3 + a5) / 2);
  v8 = (double)(signed int)v77 * *(float *)(a2 + 4);
  if ( v8 <= 0.0 )
    v9 = v8 - 0.5;
  else
    v9 = v8 + 0.5;
  v10 = (signed __int64)v9;
  v11 = (double)((a6 + a4) / 2) * *(float *)(a2 + 8);
  if ( v11 <= 0.0 )
    v12 = v11 - 0.5;
  else
    v12 = v11 + 0.5;
  v13 = (signed __int64)v12;
  v14 = (double)((a5 - a3) / 2) * *(float *)(a2 + 4);
  if ( v14 <= 0.0 )
    v15 = v14 - 0.5;
  else
    v15 = v14 + 0.5;
  v16 = (signed __int64)v15;
  v75 = (a6 - a4) / 2;
  v17 = (double)v75 * *(float *)(a2 + 8);
  if ( v17 <= 0.0 )
    v18 = v17 - 0.5;
  else
    v18 = v17 + 0.5;
  v19 = v10 - v16;
  v20 = v10 + v16;
  v83 = v19;
  v84 = v13 - (unsigned __int64)(signed __int64)v18;
  v86 = v13 + (unsigned __int64)(signed __int64)v18;
  v85 = v20;
  if ( *(_DWORD *)(a8 + 4) == 15 )
  {
    v75 = 0;
    v21 = sub_10040C90(v83, v84, v20, v86, &v75, &v76);
    if ( v21 != 1 )
    {
      v22 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      if ( &dword_109D19A0 )
      {
        v22 = v21;
        LOWORD(dword_109D19A4) = 0;
        dword_109D19A0 = v21;
        dword_109D19A8 = 0;
      }
      if ( v22 < 0 )
        unknown_libname_4(v22);
    }
    v91 = 1065353216;
    v92 = 1065353216;
    v95 = *(_DWORD *)(a2 + 20);
    v96 = *(_DWORD *)(a2 + 24);
    v97 = *(_DWORD *)(a2 + 28);
    v23 = *(_DWORD *)(a2 + 12);
    v24 = *(int (***)())a2;
    v98 = *(_DWORD *)(a2 + 32);
    v25 = *(_WORD *)(a2 + 16);
    v90 = v24;
    v26 = *(_DWORD *)(a2 + 36);
    v93 = v23;
    v27 = *(_DWORD *)(a2 + 40);
    v94 = v25;
    v99 = v26;
    v100 = v27;
    sub_1003B6A0(a1, (int)&v90, v75, a8);
    if ( v76 )
    {
      v28 = sub_1003DFA0(v75);
      if ( v28 != 1 )
      {
        v29 = 0;
        dword_109D19A4 = 0;
        dword_109D19A0 = 0;
        dword_109D19A8 = 0;
        if ( &dword_109D19A0 )
        {
          v29 = v28;
          LOWORD(dword_109D19A4) = 0;
          dword_109D19A0 = v28;
          dword_109D19A8 = 0;
        }
        if ( v29 < 0 )
          unknown_libname_4(v29);
      }
    }
    v30 = *(_DWORD *)(a7 + 8);
    if ( v30 && v30 != 5 )
    {
      sub_100216A0(v18, a1, a2, a3, a4, a5, a6, (int)v77, a4, (int)v77, a4, a7);
      goto LABEL_105;
    }
    v31 = *(_BYTE *)a7;
    v81 = *(_DWORD *)(a7 + 8);
    v32 = *(float *)(a2 + 12);
    v79 = v31;
    v33 = *(_BYTE *)(a7 + 12);
    v80 = *(_DWORD *)(a7 + 4);
    v82 = v33;
    if ( v33 )
    {
      v34 = v32 * (double)v80;
      v35 = v34 <= 0.0 ? v34 - 0.5 : v34 + 0.5;
      v80 = (signed __int64)v35;
      if ( !v80 )
        v80 = 1;
    }
    sub_1003DEC0();
    v36 = dword_109D183C;
    sub_100156C0((int)&v87);
    v103 = 0;
    sub_10015540((int)&v89);
    v87 = &off_1008F66C;
    sub_10015A40((int)&v89, (int)&v79);
    v88 = v36;
    v103 = 1;
    sub_100158B0((int)&dword_109D17F0, (int)&v87);
    v103 = -1;
    sub_100156E0((int)&v87);
    v37 = sub_1003E110();
    if ( v37 != 1 )
    {
      sub_100154D0((int)&dword_109D17F0);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v77 = &dword_109D19A0;
      v38 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      v103 = 2;
      if ( &dword_109D19A0 )
      {
        sub_10015520((int)&dword_109D19A0, v37, 0, 0);
        v38 = dword_109D19A0;
      }
      v103 = -1;
      if ( v38 < 0 )
        unknown_libname_4(v38);
    }
    sub_1003DEC0();
    sub_10026310((int)&v87, a8, dword_109D183C);
    v103 = 3;
    sub_10026450((int)&dword_109D1804, (int)&v87);
    v103 = -1;
    sub_100156E0((int)&v87);
    v39 = sub_1003E110();
    if ( v39 != 1 )
    {
      v40 = dword_109D17F8;
      dword_109D17F0 = 0;
      v41 = (void **)sub_10015560((int)&unk_109D17F4, &v77);
      sub_100155A0(&unk_109D17F4, (int)&v78, *v41, v40);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v78 = (int)&dword_109D19A0;
      v42 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      v103 = 4;
      if ( &dword_109D19A0 )
      {
        sub_10015520((int)&dword_109D19A0, v39, 0, 0);
        v42 = dword_109D19A0;
      }
      v103 = -1;
      if ( v42 < 0 )
        unknown_libname_4(v42);
    }
    v43 = sub_1003EEB0(*(_DWORD *)a2, v83, v84, v85, v86);
    if ( v43 != 1 )
    {
      v44 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      if ( &dword_109D19A0 )
      {
        v44 = v43;
        dword_109D19A0 = v43;
        LOWORD(dword_109D19A4) = 0;
        dword_109D19A8 = 0;
      }
      if ( v44 < 0 )
      {
LABEL_104:
        unknown_libname_4(v44);
        goto LABEL_105;
      }
    }
  }
  else
  {
    v45 = *(_DWORD *)(a7 + 8);
    if ( v45 && v45 != 5 )
    {
      v79 = 0;
      v80 = 1;
      v81 = 5;
      v82 = 0;
      sub_1003DEC0();
      v46 = dword_109D183C;
      sub_100156C0((int)&v87);
      v103 = 10;
      sub_10015540((int)&v89);
      v87 = &off_1008F66C;
      sub_10015A40((int)&v89, (int)&v79);
      v88 = v46;
      v103 = 11;
      sub_100158B0((int)&dword_109D17F0, (int)&v87);
      v103 = -1;
      sub_100156E0((int)&v87);
      v47 = sub_1003E110();
      if ( v47 != 1 )
      {
        sub_100154D0((int)&dword_109D17F0);
        sub_100154D0((int)&dword_109D1804);
        sub_100154D0((int)&dword_109D1818);
        v48 = 0;
        v78 = (int)&dword_109D19A0;
        dword_109D19A4 = 0;
        dword_109D19A0 = 0;
        dword_109D19A8 = 0;
        v103 = 12;
        if ( &dword_109D19A0 )
        {
          sub_10015520((int)&dword_109D19A0, v47, 0, 0);
          v48 = dword_109D19A0;
        }
        v103 = -1;
        if ( v48 < 0 )
          unknown_libname_4(v48);
      }
      sub_1003DEC0();
      v49 = dword_109D183C;
      sub_100156C0((int)&v90);
      v103 = 13;
      sub_1001A0D0((int)&v94);
      v90 = &off_10090068;
      sub_10020DB0((int)&v94, a8);
      v93 = v49;
      v103 = 14;
      sub_10026450((int)&dword_109D1804, (int)&v90);
      v103 = -1;
      sub_100156E0((int)&v90);
      v50 = sub_1003E110();
      if ( v50 != 1 )
      {
        sub_100154D0((int)&dword_109D17F0);
        sub_100154D0((int)&dword_109D1804);
        sub_100154D0((int)&dword_109D1818);
        v78 = (int)&dword_109D19A0;
        v51 = 0;
        dword_109D19A4 = 0;
        dword_109D19A0 = 0;
        dword_109D19A8 = 0;
        v103 = 15;
        if ( &dword_109D19A0 )
        {
          sub_10015520((int)&dword_109D19A0, v50, 0, 0);
          v51 = dword_109D19A0;
        }
        v103 = -1;
        if ( v51 < 0 )
          unknown_libname_4(v51);
      }
      v52 = sub_1003EEB0(*(_DWORD *)a2, v83, v84, v85, v86);
      if ( v52 != 1 )
      {
        v53 = 0;
        dword_109D19A4 = 0;
        dword_109D19A0 = 0;
        dword_109D19A8 = 0;
        if ( &dword_109D19A0 )
        {
          v53 = v52;
          dword_109D19A0 = v52;
          LOWORD(dword_109D19A4) = 0;
          dword_109D19A8 = 0;
        }
        if ( v53 < 0 )
          unknown_libname_4(v53);
      }
      v54 = *(_DWORD *)(a7 + 8);
      if ( v54 >= 6
        && v54 <= 255
        && (byte_109D1834 || (v55 = *(_DWORD *)(dword_109D1830 + 4 * v54)) == 0 || *(_BYTE *)(v55 + 13) != 3)
        && (v56 = *(_DWORD *)(dword_109D1830 + 4 * v54)) != 0
        && *(_BYTE *)(v56 + 13) == 3 )
      {
        sub_100266F0((int)&v101, v18, a1, a2, a7);
        v101 = &off_10090064;
        v102 = 1;
        sub_10034EB0(a3, a4, a5, a6, (signed int)v77, a4, (signed int)v77, a4, (int)&v101);
        sub_10026750((int)&dword_109D18C0, 0, 0, 0, 0);
      }
      else
      {
        sub_100216A0(v18, a1, a2, a3, a4, a5, a6, (int)v77, a4, (int)v77, a4, a7);
      }
    }
    else
    {
      v57 = *(_DWORD *)(a7 + 4);
      v79 = *(_BYTE *)a7;
      v81 = v45;
      v58 = *(_BYTE *)(a7 + 12);
      v59 = *(float *)(a2 + 12);
      v80 = v57;
      v82 = v58;
      if ( v58 )
      {
        v60 = v59 * (double)v80;
        v61 = v60 <= 0.0 ? v60 - 0.5 : v60 + 0.5;
        v80 = (signed __int64)v61;
        if ( !v80 )
          v80 = 1;
      }
      sub_1003DEC0();
      v62 = dword_109D183C;
      sub_100156C0((int)&v87);
      v103 = 5;
      sub_10015540((int)&v89);
      v87 = &off_1008F66C;
      sub_10015A40((int)&v89, (int)&v79);
      v88 = v62;
      v103 = 6;
      sub_100158B0((int)&dword_109D17F0, (int)&v87);
      v103 = -1;
      sub_100156E0((int)&v87);
      v63 = sub_1003E110();
      if ( v63 != 1 )
      {
        sub_100154D0((int)&dword_109D17F0);
        sub_100154D0((int)&dword_109D1804);
        sub_100154D0((int)&dword_109D1818);
        v78 = (int)&dword_109D19A0;
        v64 = 0;
        dword_109D19A4 = 0;
        dword_109D19A0 = 0;
        dword_109D19A8 = 0;
        v103 = 7;
        if ( &dword_109D19A0 )
        {
          sub_10015520((int)&dword_109D19A0, v63, 0, 0);
          v64 = dword_109D19A0;
        }
        v103 = -1;
        if ( v64 < 0 )
          unknown_libname_4(v64);
      }
      sub_1003DEC0();
      sub_10026310((int)&v90, a8, dword_109D183C);
      v103 = 8;
      sub_10026450((int)&dword_109D1804, (int)&v90);
      v103 = -1;
      sub_100156E0((int)&v90);
      v65 = sub_1003E110();
      if ( v65 != 1 )
      {
        v66 = dword_109D17F8;
        dword_109D17F0 = 0;
        v67 = (void **)sub_10015560((int)&unk_109D17F4, &v78);
        sub_100155A0(&unk_109D17F4, (int)&v75, *v67, v66);
        sub_100154D0((int)&dword_109D1804);
        sub_100154D0((int)&dword_109D1818);
        v78 = (int)&dword_109D19A0;
        v68 = 0;
        dword_109D19A4 = 0;
        dword_109D19A0 = 0;
        dword_109D19A8 = 0;
        v103 = 9;
        if ( &dword_109D19A0 )
        {
          sub_10015520((int)&dword_109D19A0, v65, 0, 0);
          v68 = dword_109D19A0;
        }
        v103 = -1;
        if ( v68 < 0 )
          unknown_libname_4(v68);
      }
      v69 = v83;
      v70 = v84;
      if ( v83 != v85 || v84 != v86 )
      {
        v73 = sub_1003EEB0(*(_DWORD *)a2, v83, v84, v85, v86);
      }
      else
      {
        v71 = sub_1003FB80(*(_DWORD *)a2, v83, v84);
        if ( v71 != 1 )
        {
          v72 = 0;
          dword_109D19A4 = 0;
          dword_109D19A0 = 0;
          dword_109D19A8 = 0;
          if ( &dword_109D19A0 )
          {
            v72 = v71;
            dword_109D19A0 = v71;
            LOWORD(dword_109D19A4) = 0;
            dword_109D19A8 = 0;
          }
          if ( v72 < 0 )
            unknown_libname_4(v72);
        }
        v73 = sub_1003F860(*(_DWORD *)a2, v69 + 1, v70);
      }
      if ( v73 != 1 )
      {
        v44 = 0;
        dword_109D19A4 = 0;
        dword_109D19A0 = 0;
        dword_109D19A8 = 0;
        if ( &dword_109D19A0 )
        {
          v44 = v73;
          dword_109D19A0 = v73;
          LOWORD(dword_109D19A4) = 0;
          dword_109D19A8 = 0;
        }
        if ( v44 < 0 )
          goto LABEL_104;
      }
    }
  }
LABEL_105:
  dword_109D18C0 = 0;
  return sub_10026270((int)&dword_109D18D4, -3, -3, 3, 3);
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 1008F66C: using guessed type int (*off_1008F66C)();
// 10090064: using guessed type int (__stdcall *off_10090064)(int, int);
// 10090068: using guessed type int (*off_10090068)();
// 109D17F0: using guessed type int dword_109D17F0;
// 109D1804: using guessed type int dword_109D1804;
// 109D1818: using guessed type int dword_109D1818;
// 109D1830: using guessed type int dword_109D1830;
// 109D1834: using guessed type char byte_109D1834;
// 109D183C: using guessed type int dword_109D183C;
// 109D18C0: using guessed type int dword_109D18C0;
// 109D18D4: using guessed type int dword_109D18D4;
// 109D19A0: using guessed type int dword_109D19A0;
// 109D19A4: using guessed type int dword_109D19A4;
// 109D19A8: using guessed type int dword_109D19A8;

//----- (10023710) --------------------------------------------------------
int __cdecl sub_10023710(int a1, int a2, int a3, int a4, int a5, int a6, signed int a7, signed int a8, signed int a9, signed int a10, int a11)
{
  double v11; // st7@1
  double v12; // st7@2
  double v13; // st7@4
  double v14; // st7@5
  int v15; // ebp@7
  double v16; // st7@7
  double v17; // st7@8
  int v18; // esi@10
  double v19; // st7@10
  double v20; // st7@11
  double v21; // st7@13
  double v22; // st7@14
  double v23; // st7@16
  double v24; // st7@17
  double v25; // st7@19
  double v26; // st7@20
  double v27; // st7@22
  double v28; // st7@23
  int v29; // edx@31
  int v30; // ecx@31
  char v31; // al@31
  double v32; // st7@31
  double v33; // st7@32
  double v34; // st7@33
  int v35; // esi@37
  int v36; // esi@37
  int v37; // eax@38
  int v38; // esi@42
  int v39; // esi@42
  int v40; // eax@43
  int result; // eax@47
  int v42; // eax@48
  int v43; // edx@53
  char v44; // al@53
  double v45; // st7@53
  double v46; // st7@54
  double v47; // st7@55
  int v48; // ebx@59
  int v49; // edi@61
  int v50; // esi@61
  int v51; // eax@61
  signed int v52; // ecx@71
  int v53; // eax@71
  int v54; // eax@72
  signed int v55; // eax@72
  double v56; // st7@77
  unsigned __int8 v58; // c0@77
  unsigned __int8 v59; // c3@77
  double v60; // st6@78
  double v61; // st7@81
  signed __int64 v62; // rax@83
  int v63; // edi@91
  int v64; // esi@91
  int v65; // eax@91
  signed int v66; // ecx@101
  int v67; // eax@102
  signed int v68; // eax@102
  double v69; // st7@107
  unsigned __int8 v71; // c0@107
  unsigned __int8 v72; // c3@107
  double v73; // st6@108
  double v74; // st7@111
  signed __int64 v75; // rax@113
  int v76; // esi@119
  int v77; // eax@120
  int v78; // esi@126
  int v79; // eax@127
  int v80; // eax@131
  int v81; // ecx@134
  signed int v82; // [sp+10h] [bp-114h]@63
  signed int v83; // [sp+10h] [bp-114h]@93
  signed int v84; // [sp+14h] [bp-110h]@72
  signed int v85; // [sp+18h] [bp-10Ch]@13
  signed int v86; // [sp+1Ch] [bp-108h]@13
  signed int v87; // [sp+20h] [bp-104h]@13
  signed int v88; // [sp+24h] [bp-100h]@13
  signed int v89; // [sp+28h] [bp-FCh]@16
  signed int v90; // [sp+2Ch] [bp-F8h]@19
  signed int v91; // [sp+30h] [bp-F4h]@22
  signed int v92; // [sp+34h] [bp-F0h]@25
  int v93; // [sp+38h] [bp-ECh]@4
  double v94; // [sp+40h] [bp-E4h]@73
  signed int v95; // [sp+40h] [bp-E4h]@102
  double v96; // [sp+48h] [bp-DCh]@31
  int v97; // [sp+50h] [bp-D4h]@31
  char v98; // [sp+54h] [bp-D0h]@31
  char v99; // [sp+58h] [bp-CCh]@53
  int v100; // [sp+5Ch] [bp-C8h]@53
  int v101; // [sp+60h] [bp-C4h]@53
  char v102; // [sp+64h] [bp-C0h]@53
  int (**v103)(); // [sp+68h] [bp-BCh]@37
  int v104; // [sp+6Ch] [bp-B8h]@42
  int v105; // [sp+70h] [bp-B4h]@42
  int v106; // [sp+74h] [bp-B0h]@37
  int v107; // [sp+78h] [bp-ACh]@37
  int v108; // [sp+7Ch] [bp-A8h]@42
  int v109; // [sp+80h] [bp-A4h]@42
  int v110; // [sp+84h] [bp-A0h]@42
  int v111; // [sp+88h] [bp-9Ch]@42
  int (**v112)(); // [sp+8Ch] [bp-98h]@42
  int v113; // [sp+98h] [bp-8Ch]@42
  char v114; // [sp+9Ch] [bp-88h]@42
  char v115; // [sp+C0h] [bp-64h]@126
  int v116; // [sp+C4h] [bp-60h]@126
  char v117; // [sp+C8h] [bp-5Ch]@126
  char v118; // [sp+E4h] [bp-40h]@126
  int v119; // [sp+120h] [bp-4h]@37

  v11 = (double)((a5 + a3) / 2) * *(float *)(a2 + 4);
  if ( v11 <= 0.0 )
    v12 = v11 - 0.5;
  else
    v12 = v11 + 0.5;
  v93 = (signed __int64)v12;
  v13 = (double)((a4 + a6) / 2) * *(float *)(a2 + 8);
  if ( v13 <= 0.0 )
    v14 = v13 - 0.5;
  else
    v14 = v13 + 0.5;
  v15 = (signed __int64)v14;
  v16 = (double)((a5 - a3) / 2) * *(float *)(a2 + 4);
  if ( v16 <= 0.0 )
    v17 = v16 - 0.5;
  else
    v17 = v16 + 0.5;
  v18 = (signed __int64)v17;
  v19 = (double)((a6 - a4) / 2) * *(float *)(a2 + 8);
  if ( v19 <= 0.0 )
    v20 = v19 - 0.5;
  else
    v20 = v19 + 0.5;
  v88 = v15 + (unsigned __int64)(signed __int64)v20;
  v85 = v93 - v18;
  v86 = v15 - (unsigned __int64)(signed __int64)v20;
  v87 = v93 + v18;
  v21 = (double)(a7 - a3) * *(float *)(a2 + 4);
  if ( v21 <= 0.0 )
    v22 = v21 - 0.5;
  else
    v22 = v21 + 0.5;
  v89 = v93 - v18 + (unsigned __int64)(signed __int64)v22;
  v23 = (double)(a8 - a4) * *(float *)(a2 + 8);
  if ( v23 <= 0.0 )
    v24 = v23 - 0.5;
  else
    v24 = v23 + 0.5;
  v90 = v86 + (unsigned __int64)(signed __int64)v24;
  v25 = (double)(a9 - a3) * *(float *)(a2 + 4);
  if ( v25 <= 0.0 )
    v26 = v25 - 0.5;
  else
    v26 = v25 + 0.5;
  v91 = v85 + (unsigned __int64)(signed __int64)v26;
  v27 = (double)(a10 - a4) * *(float *)(a2 + 8);
  if ( v27 <= 0.0 )
    v28 = v27 - 0.5;
  else
    v28 = v27 + 0.5;
  v92 = v86 + (unsigned __int64)(signed __int64)v28;
  if ( abs(v85 - v87) <= 2 && abs(v86 - v88) <= 2 || v93 == v89 && v15 == v90 || v93 == v91 && v15 == v92 )
  {
    v29 = *(_DWORD *)(a11 + 4);
    LOBYTE(v96) = *(_BYTE *)a11;
    v30 = *(_DWORD *)(a11 + 8);
    v31 = *(_BYTE *)(a11 + 12);
    HIDWORD(v96) = v29;
    v97 = v30;
    v32 = *(float *)(a2 + 12);
    v98 = v31;
    if ( v31 )
    {
      v33 = v32 * (double)SHIDWORD(v96);
      v34 = v33 <= 0.0 ? v33 - 0.5 : v33 + 0.5;
      HIDWORD(v96) = (signed __int64)v34;
      if ( !HIDWORD(v96) )
        HIDWORD(v96) = 1;
    }
    sub_1003DEC0();
    v35 = dword_109D183C;
    sub_100156C0((int)&v103);
    v119 = 0;
    sub_10015540((int)&v107);
    v103 = &off_1008F66C;
    sub_10015A40((int)&v107, (int)&v96);
    v106 = v35;
    v119 = 1;
    sub_100158B0((int)&dword_109D17F0, (int)&v103);
    v119 = -1;
    sub_100156E0((int)&v103);
    v36 = sub_1003E110();
    if ( v36 != 1 )
    {
      sub_100154D0((int)&dword_109D17F0);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v37 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      v119 = 2;
      if ( &dword_109D19A0 )
      {
        sub_10015520((int)&dword_109D19A0, v36, 0, 0);
        v37 = dword_109D19A0;
      }
      v119 = -1;
      if ( v37 < 0 )
        unknown_libname_4(v37);
    }
    LOBYTE(v103) = 0;
    v105 = -1;
    v106 = 1;
    v107 = 0;
    v108 = 0;
    v109 = 10;
    v110 = 0;
    v111 = 1065353216;
    v104 = 1;
    sub_1003DEC0();
    v38 = dword_109D183C;
    sub_100156C0((int)&v112);
    v119 = 3;
    sub_1001A0D0((int)&v114);
    v112 = &off_10090068;
    sub_10020DB0((int)&v114, (int)&v103);
    v113 = v38;
    v119 = 4;
    sub_10026450((int)&dword_109D1804, (int)&v112);
    v119 = -1;
    sub_100156E0((int)&v112);
    v39 = sub_1003E110();
    if ( v39 != 1 )
    {
      sub_100154D0((int)&dword_109D17F0);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v40 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      v119 = 5;
      if ( &dword_109D19A0 )
      {
        sub_10015520((int)&dword_109D19A0, v39, 0, 0);
        v40 = dword_109D19A0;
      }
      if ( v40 < 0 )
        unknown_libname_4(v40);
    }
    return sub_1003EEB0(*(_DWORD *)a2, v85, v86, v85 + 1, v86 + 1);
  }
  v42 = *(_DWORD *)(a11 + 8);
  if ( v42 && v42 != 5 )
  {
    if ( sub_10026400((int)&dword_109D17F0, *(_DWORD *)(a11 + 8)) )
      result = sub_100267A0(v28, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11);
    else
      result = sub_100216A0(v28, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11);
    return result;
  }
  v43 = *(_DWORD *)(a11 + 4);
  v99 = *(_BYTE *)a11;
  v101 = v42;
  v44 = *(_BYTE *)(a11 + 12);
  v45 = *(float *)(a2 + 12);
  v100 = v43;
  v102 = v44;
  if ( v44 )
  {
    v46 = v45 * (double)v100;
    v47 = v46 <= 0.0 ? v46 - 0.5 : v46 + 0.5;
    v100 = (signed __int64)v47;
    if ( !v100 )
      v100 = 1;
  }
  v48 = v93;
  if ( abs(v93 - v89) == 1 && abs(v15 - v90) == 1 )
  {
    v49 = v87 - v85;
    v50 = v89 - v93;
    v51 = v90 - v15;
    LODWORD(v96) = v89;
    if ( v89 - v93 < 0 )
    {
      if ( v51 <= 0 )
      {
        v82 = 2;
LABEL_69:
        if ( v93 != v89 || v15 != v90 )
        {
          v54 = v90 - v15;
          v84 = v54;
          v55 = v50 * v50 + v54 * v54;
          if ( v55 <= 0 )
          {
            v52 = v93;
            v53 = v15;
          }
          else
          {
            v94 = (double)(v49 * v50 / (signed __int16)sub_10070280(v55));
            if ( v89 == v93 )
            {
              if ( v82 == 1 )
              {
                v52 = v93;
                v53 = v15 - v49;
              }
              else
              {
                v53 = v49 + v15;
                v52 = v93;
              }
            }
            else
            {
              v56 = (double)v84 * v94 / (double)(signed int)abs(v50);
              if ( v58 | v59 )
                v60 = v94 - 0.5;
              else
                v60 = v94 + 0.5;
              if ( v56 <= 0.0 )
                v61 = v56 - 0.5;
              else
                v61 = v56 + 0.5;
              v62 = (signed __int64)v61;
              if ( v82 == 2 || v82 == 3 )
                LODWORD(v62) = -(signed int)v62;
              v53 = v15 + v62;
              v52 = v93 + (unsigned __int64)(signed __int64)v60;
            }
          }
        }
        else
        {
          v52 = v89;
          v53 = v90;
        }
        v48 = v93;
        v89 = v52;
        v90 = v53;
        goto LABEL_89;
      }
    }
    else if ( v51 < 0 )
    {
      v82 = 1;
      goto LABEL_69;
    }
    if ( v50 > 0 || (v82 = 3, v51 <= 0) )
      v82 = 4;
    goto LABEL_69;
  }
LABEL_89:
  if ( abs(v48 - v91) == 1 && abs(v15 - v92) == 1 )
  {
    v63 = v87 - v85;
    v64 = v91 - v93;
    v65 = v92 - v15;
    LODWORD(v96) = v91;
    if ( v91 - v93 < 0 )
    {
      if ( v65 <= 0 )
      {
        v83 = 2;
LABEL_99:
        if ( v93 != v91 || v15 != v92 )
        {
          v67 = v92 - v15;
          v95 = v67;
          v68 = v64 * v64 + v67 * v67;
          if ( v68 <= 0 )
          {
            v66 = v93;
          }
          else
          {
            v96 = (double)(v63 * v64 / (signed __int16)sub_10070280(v68));
            if ( v91 == v93 )
            {
              if ( v83 == 1 )
              {
                v15 -= v63;
                v66 = v93;
              }
              else
              {
                v66 = v93;
                v15 += v63;
              }
            }
            else
            {
              v69 = (double)v95 * v96 / (double)(signed int)abs(v64);
              if ( v71 | v72 )
                v73 = v96 - 0.5;
              else
                v73 = v96 + 0.5;
              if ( v69 <= 0.0 )
                v74 = v69 - 0.5;
              else
                v74 = v69 + 0.5;
              v75 = (signed __int64)v74;
              if ( v83 == 2 || v83 == 3 )
                LODWORD(v75) = -(signed int)v75;
              v66 = v93 + (unsigned __int64)(signed __int64)v73;
              v15 += v75;
            }
          }
        }
        else
        {
          v66 = v91;
          v15 = v92;
        }
        v91 = v66;
        v92 = v15;
        goto LABEL_119;
      }
    }
    else if ( v65 < 0 )
    {
      v83 = 1;
      goto LABEL_99;
    }
    if ( v64 > 0 || (v83 = 3, v65 <= 0) )
      v83 = 4;
    goto LABEL_99;
  }
LABEL_119:
  sub_1003DEC0();
  sub_100262C0((int)&v103, (int)&v99, dword_109D183C);
  v119 = 6;
  sub_100158B0((int)&dword_109D17F0, (int)&v103);
  v119 = -1;
  sub_100156E0((int)&v103);
  v76 = sub_1003E110();
  if ( v76 != 1 )
  {
    sub_100154D0((int)&dword_109D17F0);
    sub_100154D0((int)&dword_109D1804);
    sub_100154D0((int)&dword_109D1818);
    v77 = 0;
    dword_109D19A4 = 0;
    dword_109D19A0 = 0;
    dword_109D19A8 = 0;
    v119 = 7;
    if ( &dword_109D19A0 )
    {
      sub_10015520((int)&dword_109D19A0, v76, 0, 0);
      v77 = dword_109D19A0;
    }
    v119 = -1;
    if ( v77 < 0 )
      unknown_libname_4(v77);
  }
  if ( v89 != v91 || v90 != v92 )
  {
    v80 = sub_1003E920(*(_DWORD *)a2, v85, v86, v87, v88, v89, v90, v91, v92);
  }
  else
  {
    v115 = 0;
    sub_1001A0A0((int)&v117);
    v116 = 1;
    sub_1003DEC0();
    sub_10026310((int)&v118, (int)&v115, dword_109D183C);
    v119 = 8;
    sub_10026450((int)&dword_109D1804, (int)&v118);
    v119 = -1;
    sub_100156E0((int)&v118);
    v78 = sub_1003E110();
    if ( v78 != 1 )
    {
      sub_100154D0((int)&dword_109D17F0);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v79 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      v119 = 9;
      if ( &dword_109D19A0 )
      {
        sub_10015520((int)&dword_109D19A0, v78, 0, 0);
        v79 = dword_109D19A0;
      }
      v119 = -1;
      if ( v79 < 0 )
        unknown_libname_4(v79);
    }
    v80 = sub_1003EEB0(*(_DWORD *)a2, v85, v86, v87, v88);
  }
  if ( v80 != 1 )
  {
    v81 = 0;
    dword_109D19A4 = 0;
    dword_109D19A0 = 0;
    dword_109D19A8 = 0;
    v119 = 10;
    if ( &dword_109D19A0 )
    {
      sub_10015520((int)&dword_109D19A0, v80, 0, 0);
      v81 = dword_109D19A0;
    }
    v119 = -1;
    if ( v81 < 0 )
      unknown_libname_4(v81);
  }
  return sub_10026750((int)&dword_109D18C0, 0, 0, 0, 0);
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 1008F66C: using guessed type int (*off_1008F66C)();
// 10090068: using guessed type int (*off_10090068)();
// 109D17F0: using guessed type int dword_109D17F0;
// 109D1804: using guessed type int dword_109D1804;
// 109D1818: using guessed type int dword_109D1818;
// 109D183C: using guessed type int dword_109D183C;
// 109D18C0: using guessed type int dword_109D18C0;
// 109D19A0: using guessed type int dword_109D19A0;
// 109D19A4: using guessed type int dword_109D19A4;
// 109D19A8: using guessed type int dword_109D19A8;

//----- (10024340) --------------------------------------------------------
int __cdecl sub_10024340(int a1, int a2, int a3, int a4, int a5, int a6, signed int a7, int a8, int a9, int a10, int a11)
{
  signed int v11; // edx@1
  int v12; // ebp@1
  int result; // eax@7
  int v14; // edi@7
  int v15; // esi@7
  int v16; // eax@17
  int v17; // edx@17
  int v18; // esi@25
  int v19; // edx@25
  int v20; // eax@25
  int v21; // [sp+10h] [bp-28h]@1
  int v22; // [sp+14h] [bp-24h]@1
  int v23; // [sp+18h] [bp-20h]@1
  int v24; // [sp+1Ch] [bp-1Ch]@1
  int v25; // [sp+20h] [bp-18h]@1
  int v26; // [sp+24h] [bp-14h]@1
  int v27; // [sp+28h] [bp-10h]@1
  int v28; // [sp+2Ch] [bp-Ch]@1
  int v29; // [sp+30h] [bp-8h]@1
  int v30; // [sp+34h] [bp-4h]@1

  v21 = a3;
  v23 = a3;
  v29 = a3;
  v11 = a7;
  *(_DWORD *)a11 = (a3 + a1) / 2;
  v25 = a1;
  v27 = a1;
  *(_DWORD *)(a11 + 4) = (a4 + a2) / 2;
  v24 = a2;
  v26 = a2;
  v12 = a9;
  *(_DWORD *)(a11 + 8) = a5;
  v22 = a4;
  v28 = a4;
  v30 = a4;
  *(_DWORD *)(a11 + 12) = a6;
  if ( a7 != a10 || a5 == a8 && a6 == a9 )
    goto LABEL_11;
  if ( a7 != 1 )
  {
    if ( a7 == 2 )
    {
      if ( a5 < a8 )
        goto LABEL_11;
    }
    else
    {
      if ( a7 != 3 )
      {
        if ( a5 <= a8 && a6 >= a9 )
          goto LABEL_17;
        goto LABEL_11;
      }
      if ( a5 > a8 )
        goto LABEL_11;
    }
    if ( a6 <= a9 )
      goto LABEL_17;
LABEL_11:
    result = 2;
    v14 = 0;
    v15 = a11 + 16;
    goto LABEL_19;
  }
  if ( a5 < a8 )
    goto LABEL_11;
  if ( a6 >= a9 )
  {
LABEL_17:
    v16 = *(&v21 + 2 * a10);
    v17 = *(&v22 + 2 * a10);
    *(_DWORD *)(a11 + 24) = a8;
    *(_DWORD *)(a11 + 28) = a9;
    *(_DWORD *)(a11 + 16) = v16;
    *(_DWORD *)(a11 + 20) = v17;
    return 4;
  }
  result = 2;
  v14 = 0;
  v15 = a11 + 16;
LABEL_19:
  while ( v11 != a10 || !v14 )
  {
    ++result;
    *(_DWORD *)v15 = *(&v21 + 2 * v11);
    *(_DWORD *)(v15 + 4) = *(&v22 + 2 * v11);
    v15 += 8;
    if ( ++v11 == 5 )
      v11 = 1;
    if ( ++v14 >= 5 )
      return result;
    v12 = a9;
  }
  v18 = *(&v21 + 2 * v11);
  v19 = *(&v22 + 2 * v11);
  *(_DWORD *)(a11 + 8 * result) = v18;
  *(_DWORD *)(a11 + 8 * result + 4) = v19;
  v20 = result + 1;
  *(_DWORD *)(a11 + 8 * v20) = a8;
  *(_DWORD *)(a11 + 8 * v20 + 4) = v12;
  return v20 + 1;
}

//----- (10024490) --------------------------------------------------------
void __cdecl sub_10024490(int a1, int a2, signed int a3, signed int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12)
{
  double v12; // st7@1
  double v13; // st7@2
  __int64 v14; // rdi@4
  double v15; // st7@4
  double v16; // st7@5
  double v17; // st7@7
  double v18; // st7@8
  double v19; // st7@10
  double v20; // st7@11
  int v21; // ebx@13
  int v22; // ebp@13
  double v23; // st7@13
  double v24; // st7@14
  double v25; // st7@16
  double v26; // st7@17
  double v27; // st7@19
  double v28; // st7@20
  double v29; // st7@22
  double v30; // st7@23
  int v31; // ecx@31
  int v32; // eax@33
  double v33; // st7@39
  __int64 v34; // rax@39
  int v35; // ecx@39
  int v36; // ebp@41
  double v37; // rax@47
  __int16 v38; // cx@47
  int v39; // ebp@48
  signed int v40; // eax@51
  signed int v41; // ecx@52
  int v42; // edi@56
  signed int v43; // eax@56
  signed int v44; // ecx@57
  int v45; // eax@62
  int v46; // edi@65
  int v47; // edi@65
  int v48; // ST4C_4@66
  void **v49; // eax@66
  int v50; // ST4C_4@66
  void **v51; // eax@66
  int v52; // eax@66
  int v53; // edi@70
  int v54; // edi@70
  int v55; // ST4C_4@71
  void **v56; // eax@71
  int v57; // ST4C_4@71
  void **v58; // eax@71
  int v59; // eax@71
  signed int v60; // edi@75
  signed int v61; // ebp@75
  signed int v62; // eax@75
  signed int v63; // ecx@76
  signed int v64; // eax@81
  int v65; // ecx@84
  int v66; // eax@86
  float v67; // edx@90
  char v68; // al@90
  double v69; // st7@90
  double v70; // st7@91
  double v71; // st7@92
  int v72; // esi@96
  signed int v73; // esi@96
  int v74; // ST4C_4@97
  void **v75; // eax@97
  signed int v76; // eax@97
  int v77; // esi@101
  int v78; // esi@101
  int v79; // ST4C_4@102
  void **v80; // eax@102
  int v81; // eax@102
  signed int v82; // eax@106
  signed int v83; // ecx@107
  double v84; // [sp+8h] [bp-1B8h]@13
  unsigned int v85; // [sp+10h] [bp-1B0h]@39
  int v86; // [sp+14h] [bp-1ACh]@48
  int v87; // [sp+18h] [bp-1A8h]@13
  int v88; // [sp+1Ch] [bp-1A4h]@13
  int v89; // [sp+20h] [bp-1A0h]@13
  int v90; // [sp+24h] [bp-19Ch]@13
  double v91; // [sp+28h] [bp-198h]@16
  double v92; // [sp+30h] [bp-190h]@22
  int v93; // [sp+38h] [bp-188h]@10
  int v94; // [sp+3Ch] [bp-184h]@13
  double v95; // [sp+40h] [bp-180h]@39
  float v96; // [sp+48h] [bp-178h]@4
  float v97; // [sp+4Ch] [bp-174h]@7
  float v98; // [sp+50h] [bp-170h]@31
  float v99; // [sp+54h] [bp-16Ch]@48
  int v100; // [sp+58h] [bp-168h]@65
  char v101; // [sp+5Ch] [bp-164h]@65
  double v102; // [sp+60h] [bp-160h]@39
  char v103; // [sp+69h] [bp-157h]@48
  char v104; // [sp+6Ah] [bp-156h]@48
  char v105; // [sp+6Bh] [bp-155h]@48
  int (**v106)(); // [sp+6Ch] [bp-154h]@65
  int v107; // [sp+78h] [bp-148h]@65
  char v108; // [sp+7Ch] [bp-144h]@65
  float v109; // [sp+A0h] [bp-120h]@48
  float v110; // [sp+A4h] [bp-11Ch]@48
  int v111; // [sp+A8h] [bp-118h]@47
  int v112; // [sp+ACh] [bp-114h]@47
  int v113; // [sp+B0h] [bp-110h]@47
  int v114; // [sp+B4h] [bp-10Ch]@47
  __int16 v115; // [sp+B8h] [bp-108h]@47
  int v116; // [sp+BCh] [bp-104h]@47
  int v117; // [sp+C0h] [bp-100h]@47
  int v118; // [sp+C4h] [bp-FCh]@47
  int v119; // [sp+C8h] [bp-F8h]@47
  int v120; // [sp+CCh] [bp-F4h]@47
  int v121; // [sp+D0h] [bp-F0h]@47
  double v122; // [sp+D4h] [bp-ECh]@48
  double v123; // [sp+DCh] [bp-E4h]@48
  double v124; // [sp+E4h] [bp-DCh]@48
  int (__stdcall **v125)(int, int); // [sp+114h] [bp-ACh]@88
  char v126; // [sp+156h] [bp-6Ah]@88
  int v127; // [sp+174h] [bp-4Ch]@88
  int v128; // [sp+178h] [bp-48h]@88
  int v129; // [sp+17Ch] [bp-44h]@88
  int v130; // [sp+180h] [bp-40h]@88
  __int16 v131; // [sp+184h] [bp-3Ch]@88
  int v132; // [sp+188h] [bp-38h]@88
  int v133; // [sp+18Ch] [bp-34h]@88
  int v134; // [sp+190h] [bp-30h]@88
  int v135; // [sp+194h] [bp-2Ch]@88
  int v136; // [sp+198h] [bp-28h]@88
  int v137; // [sp+19Ch] [bp-24h]@88
  int v138; // [sp+1BCh] [bp-4h]@65

  v12 = (double)((a5 + a3) / 2) * *(float *)(a2 + 4);
  if ( v12 <= 0.0 )
    v13 = v12 - 0.5;
  else
    v13 = v12 + 0.5;
  LODWORD(v14) = (signed __int64)v13;
  LODWORD(v96) = (signed __int64)v13;
  v15 = (double)((a4 + a6) / 2) * *(float *)(a2 + 8);
  if ( v15 <= 0.0 )
    v16 = v15 - 0.5;
  else
    v16 = v15 + 0.5;
  HIDWORD(v14) = (signed __int64)v16;
  LODWORD(v97) = (signed __int64)v16;
  v17 = (double)((a5 - a3) / 2) * *(float *)(a2 + 4);
  if ( v17 <= 0.0 )
    v18 = v17 - 0.5;
  else
    v18 = v17 + 0.5;
  v93 = (signed __int64)v18;
  v19 = (double)((a6 - a4) / 2) * *(float *)(a2 + 8);
  if ( v19 <= 0.0 )
    v20 = v19 - 0.5;
  else
    v20 = v19 + 0.5;
  v94 = (signed __int64)v20;
  v21 = v14 - v93;
  v22 = HIDWORD(v14) - v94;
  v89 = v14 + v93;
  v90 = HIDWORD(v14) + v94;
  LODWORD(v84) = a7 - a3;
  v87 = v14 - v93;
  v88 = HIDWORD(v14) - v94;
  v23 = (double)(a7 - a3) * *(float *)(a2 + 4);
  if ( v23 <= 0.0 )
    v24 = v23 - 0.5;
  else
    v24 = v23 + 0.5;
  LODWORD(v91) = v21 + (unsigned __int64)(signed __int64)v24;
  LODWORD(v84) = a8 - a4;
  v25 = (double)(a8 - a4) * *(float *)(a2 + 8);
  if ( v25 <= 0.0 )
    v26 = v25 - 0.5;
  else
    v26 = v25 + 0.5;
  HIDWORD(v91) = v22 + (unsigned __int64)(signed __int64)v26;
  LODWORD(v84) = a9 - a3;
  v27 = (double)(a9 - a3) * *(float *)(a2 + 4);
  if ( v27 <= 0.0 )
    v28 = v27 - 0.5;
  else
    v28 = v27 + 0.5;
  LODWORD(v92) = v21 + (unsigned __int64)(signed __int64)v28;
  LODWORD(v84) = a10 - a4;
  v29 = (double)(a10 - a4) * *(float *)(a2 + 8);
  if ( v29 <= 0.0 )
    v30 = v29 - 0.5;
  else
    v30 = v29 + 0.5;
  HIDWORD(v92) = (unsigned __int64)(signed __int64)v30 + v22;
  if ( abs(v21 - v89) <= 2 && abs(v22 - v90) <= 2
    || abs(v14 - LODWORD(v91)) <= 2
    || abs(HIDWORD(v14) - HIDWORD(v91)) <= 2
    || abs(v14 - LODWORD(v92)) <= 2
    || abs(HIDWORD(v14) - ((unsigned __int64)(signed __int64)v30 + v22)) <= 2 )
  {
    sub_10022AA0(a1, a2, a3, a4, a5, a6, a11, a12);
    return;
  }
  v98 = *(float *)&v91;
  v31 = HIDWORD(v91) - HIDWORD(v14);
  if ( LODWORD(v91) - (signed int)v14 < 0 )
  {
    if ( v31 <= 0 )
    {
      v32 = 2;
      goto LABEL_39;
    }
  }
  else if ( v31 < 0 )
  {
    v32 = 1;
    goto LABEL_39;
  }
  if ( LODWORD(v91) - (signed int)v14 > 0 || (v32 = 3, v31 <= 0) )
    v32 = 4;
LABEL_39:
  v85 = v32;
  v95 = (double)v94;
  v33 = (double)v93;
  v84 = v33;
  LODWORD(v34) = sub_10026B20(v14, SHIDWORD(v14), v33, v95, v91, v32);
  v102 = *(double *)&v34;
  v98 = *(float *)&v92;
  v35 = HIDWORD(v92) - HIDWORD(v14);
  if ( LODWORD(v92) - (signed int)v14 < 0 )
  {
    if ( v35 <= 0 )
    {
      v36 = 2;
      goto LABEL_47;
    }
LABEL_44:
    if ( LODWORD(v92) - (signed int)v14 > 0 || (v36 = 3, v35 <= 0) )
      v36 = 4;
    goto LABEL_47;
  }
  if ( v35 >= 0 )
    goto LABEL_44;
  v36 = 1;
LABEL_47:
  LODWORD(v37) = sub_10026B20(v14, SHIDWORD(v14), v84, v95, v92, v36);
  v95 = v37;
  v112 = 1065353216;
  v113 = 1065353216;
  v116 = *(_DWORD *)(a2 + 20);
  v117 = *(_DWORD *)(a2 + 24);
  v118 = *(_DWORD *)(a2 + 28);
  HIDWORD(v37) = *(_DWORD *)(a2 + 32);
  v111 = *(_DWORD *)a2;
  v38 = *(_WORD *)(a2 + 16);
  v119 = HIDWORD(v37);
  HIDWORD(v37) = *(_DWORD *)(a2 + 12);
  v115 = v38;
  v114 = HIDWORD(v37);
  HIDWORD(v37) = *(_DWORD *)(a2 + 36);
  v121 = *(_DWORD *)(a2 + 40);
  LODWORD(v37) = *(_DWORD *)(a12 + 4);
  v120 = HIDWORD(v37);
  if ( LODWORD(v37) == 15 )
  {
    v39 = sub_10024340(
            v87,
            v88,
            v89,
            v90,
            SLODWORD(v102),
            SHIDWORD(v102),
            v85,
            SLODWORD(v95),
            SHIDWORD(v95),
            v36,
            (int)&v122);
    v85 = 0;
    LODWORD(v84) = 0;
    v86 = 0;
    sub_1003DEC0();
    sub_10040C90(v87, v88, v89, v90, &v85, &v104);
    sub_10040DE0((int)&v122, v39, 1, &v84, &v105);
    v122 = v102;
    v124 = v95;
    v123 = *(double *)&v14;
    sub_10040DE0((int)&v122, 3, 1, &v86, &v103);
    sub_10040B80(v85, v85, LODWORD(v84), 1);
    v98 = (double)SLODWORD(v91);
    v99 = (double)SHIDWORD(v91);
    v109 = (double)SLODWORD(v96);
    v110 = (double)SLODWORD(v97);
    v96 = (double)SLODWORD(v92);
    v97 = (double)SHIDWORD(v92);
    v33 = sub_10026CA0(v98, v99, v109, v110, v96, v97);
    if ( v33 >= 180.0 )
      sub_10040B80(v85, v85, v86, 2);
    else
      sub_10040B80(v85, v85, v86, 3);
    v40 = sub_1003E110();
    if ( v40 != 1 )
    {
      v41 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      if ( &dword_109D19A0 )
      {
        v41 = v40;
        LOWORD(dword_109D19A4) = 0;
        dword_109D19A0 = v40;
        dword_109D19A8 = 0;
      }
      if ( v41 < 0 )
        unknown_libname_4(v41);
    }
    v42 = a12;
    sub_1003B6A0(a1, (int)&v111, v85, a12);
    sub_1003DEC0();
    sub_1003DFA0(v86);
    sub_1003DFA0(LODWORD(v84));
    sub_1003DFA0(v85);
    v43 = sub_1003E110();
    if ( v43 != 1 )
    {
      v44 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      if ( &dword_109D19A0 )
      {
        v44 = v43;
        LOWORD(dword_109D19A4) = 0;
        dword_109D19A0 = v43;
        dword_109D19A8 = 0;
      }
      if ( v44 < 0 )
        unknown_libname_4(v44);
    }
  }
  else
  {
    v42 = a12;
  }
  v45 = *(_DWORD *)(a11 + 8);
  if ( v45 && v45 != 5 )
  {
    if ( *(_DWORD *)(v42 + 4) )
    {
      v60 = HIDWORD(v92);
      v61 = LODWORD(v92);
    }
    else
    {
      LOBYTE(v98) = 0;
      LODWORD(v99) = 1;
      v100 = 5;
      v101 = 0;
      sub_1003DEC0();
      v46 = dword_109D183C;
      sub_100156C0((int)&v106);
      v138 = 5;
      sub_10015540((int)&v108);
      v106 = &off_1008F66C;
      sub_10015A40((int)&v108, (int)&v98);
      v107 = v46;
      v138 = 6;
      sub_100158B0((int)&dword_109D17F0, (int)&v106);
      v138 = -1;
      sub_100156E0((int)&v106);
      v47 = sub_1003E110();
      if ( v47 != 1 )
      {
        v48 = dword_109D17F8;
        dword_109D17F0 = 0;
        v49 = (void **)sub_10015560((int)&unk_109D17F4, &v84);
        sub_100155A0(&unk_109D17F4, (int)&v86, *v49, v48);
        v50 = dword_109D180C;
        dword_109D1804 = 0;
        v51 = (void **)sub_10015560((int)&unk_109D1808, &v84);
        sub_100155A0(&unk_109D1808, (int)&v86, *v51, v50);
        sub_100154D0((int)&dword_109D1818);
        LODWORD(v84) = &dword_109D19A0;
        v52 = 0;
        dword_109D19A4 = 0;
        dword_109D19A0 = 0;
        dword_109D19A8 = 0;
        v138 = 7;
        if ( &dword_109D19A0 )
        {
          sub_10015520((int)&dword_109D19A0, v47, 0, 0);
          v52 = dword_109D19A0;
        }
        v138 = -1;
        if ( v52 < 0 )
          unknown_libname_4(v52);
      }
      sub_1003DEC0();
      v53 = dword_109D183C;
      sub_100156C0((int)&v106);
      v138 = 8;
      sub_1001A0D0((int)&v108);
      v106 = &off_10090068;
      sub_10020DB0((int)&v108, a12);
      v107 = v53;
      v138 = 9;
      sub_10026450((int)&dword_109D1804, (int)&v106);
      v138 = -1;
      sub_100156E0((int)&v106);
      v54 = sub_1003E110();
      if ( v54 != 1 )
      {
        v55 = dword_109D17F8;
        dword_109D17F0 = 0;
        v56 = (void **)sub_10015560((int)&unk_109D17F4, &v84);
        sub_100155A0(&unk_109D17F4, (int)&v86, *v56, v55);
        v57 = dword_109D180C;
        dword_109D1804 = 0;
        v58 = (void **)sub_10015560((int)&unk_109D1808, &v84);
        sub_100155A0(&unk_109D1808, (int)&v86, *v58, v57);
        sub_100154D0((int)&dword_109D1818);
        LODWORD(v84) = &dword_109D19A0;
        v59 = 0;
        dword_109D19A4 = 0;
        dword_109D19A0 = 0;
        dword_109D19A8 = 0;
        v138 = 10;
        if ( &dword_109D19A0 )
        {
          sub_10015520((int)&dword_109D19A0, v54, 0, 0);
          v59 = dword_109D19A0;
        }
        v138 = -1;
        if ( v59 < 0 )
          unknown_libname_4(v59);
      }
      v60 = HIDWORD(v92);
      v61 = LODWORD(v92);
      v62 = sub_1003EC20(*(_DWORD *)a2, v87, v88, v89, v90, SLODWORD(v91), SHIDWORD(v91), SLODWORD(v92), SHIDWORD(v92));
      if ( v62 != 1 )
      {
        v63 = 0;
        dword_109D19A4 = 0;
        dword_109D19A0 = 0;
        dword_109D19A8 = 0;
        if ( &dword_109D19A0 )
        {
          v63 = v62;
          LOWORD(dword_109D19A4) = 0;
          dword_109D19A0 = v62;
          dword_109D19A8 = 0;
        }
        if ( v63 < 0 )
          unknown_libname_4(v63);
      }
    }
    v122 = v95;
    v64 = *(_DWORD *)(a11 + 8);
    v123 = v102;
    if ( v64 >= 6
      && v64 <= 255
      && (byte_109D1834 || (v65 = *(_DWORD *)(dword_109D1830 + 4 * v64)) == 0 || *(_BYTE *)(v65 + 13) != 3)
      && (v66 = *(_DWORD *)(dword_109D1830 + 4 * v64)) != 0
      && *(_BYTE *)(v66 + 13) == 3 )
    {
      v135 = 0;
      v134 = 0;
      v133 = 0;
      v132 = 0;
      v127 = 0;
      v128 = 0;
      v129 = 0;
      v130 = 0;
      v131 = 0;
      v136 = 0;
      v137 = 0;
      v125 = off_10090060;
      sub_10034270((int)&v125, v33, a1, (int)&v111, a11);
      v125 = &off_10090064;
      v126 = 1;
      sub_10034EB0(v87, v88, v89, v90, SLODWORD(v91), SHIDWORD(v91), v61, v60, (int)&v125);
      dword_109D18D4 = -3;
      dword_109D18D8 = -3;
      dword_109D18DC = 3;
      dword_109D18E0 = 3;
      dword_109D18C0 = 0;
      sub_10021A20(v33, a1, (int)&v111, 0, (int)&v122, 2u, a11);
    }
    else
    {
      sub_100216A0(v33, a1, (int)&v111, v87, v88, v89, v90, SLODWORD(v91), SHIDWORD(v91), v61, v60, a11);
      sub_100212D0(v33, a1, (int)&v111, 0, (int)&v122, 2u, a11);
    }
  }
  else
  {
    v67 = *(float *)(a11 + 4);
    LOBYTE(v98) = *(_BYTE *)a11;
    v100 = v45;
    v68 = *(_BYTE *)(a11 + 12);
    v69 = *(float *)(a2 + 12);
    v99 = v67;
    v101 = v68;
    if ( v68 )
    {
      v70 = v69 * (double)SLODWORD(v99);
      v71 = v70 <= 0.0 ? v70 - 0.5 : v70 + 0.5;
      LODWORD(v99) = (signed __int64)v71;
      if ( v99 == 0.0 )
        LODWORD(v99) = 1;
    }
    sub_1003DEC0();
    v72 = dword_109D183C;
    sub_100156C0((int)&v106);
    v138 = 0;
    sub_10015540((int)&v108);
    v106 = &off_1008F66C;
    sub_10015A40((int)&v108, (int)&v98);
    v107 = v72;
    v138 = 1;
    sub_100158B0((int)&dword_109D17F0, (int)&v106);
    v138 = -1;
    sub_100156E0((int)&v106);
    v73 = sub_1003E110();
    if ( v73 != 1 )
    {
      v74 = dword_109D17F8;
      dword_109D17F0 = 0;
      v75 = (void **)sub_10015560((int)&unk_109D17F4, &v84);
      sub_100155A0(&unk_109D17F4, (int)&v86, *v75, v74);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v76 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      if ( &dword_109D19A0 )
      {
        v76 = v73;
        LOWORD(dword_109D19A4) = 0;
        dword_109D19A0 = v73;
        dword_109D19A8 = 0;
      }
      if ( v76 < 0 )
        unknown_libname_4(v76);
    }
    sub_1003DEC0();
    v77 = dword_109D183C;
    sub_100156C0((int)&v106);
    v138 = 2;
    sub_1001A0D0((int)&v108);
    v106 = &off_10090068;
    sub_10020DB0((int)&v108, v42);
    v107 = v77;
    v138 = 3;
    sub_10026450((int)&dword_109D1804, (int)&v106);
    v138 = -1;
    sub_100156E0((int)&v106);
    v78 = sub_1003E110();
    if ( v78 != 1 )
    {
      v79 = dword_109D17F8;
      dword_109D17F0 = 0;
      v80 = (void **)sub_10015560((int)&unk_109D17F4, &v84);
      sub_100155A0(&unk_109D17F4, (int)&v86, *v80, v79);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v81 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      LODWORD(v84) = &dword_109D19A0;
      v138 = 4;
      if ( &dword_109D19A0 )
      {
        sub_10015520((int)&dword_109D19A0, v78, 0, 0);
        v81 = dword_109D19A0;
      }
      if ( v81 < 0 )
        unknown_libname_4(v81);
    }
    v82 = sub_1003EC20(*(_DWORD *)a2, v87, v88, v89, v90, SLODWORD(v91), SHIDWORD(v91), SLODWORD(v92), SHIDWORD(v92));
    if ( v82 != 1 )
    {
      v83 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      if ( &dword_109D19A0 )
      {
        v83 = v82;
        LOWORD(dword_109D19A4) = 0;
        dword_109D19A0 = v82;
        dword_109D19A8 = 0;
      }
      if ( v83 < 0 )
        unknown_libname_4(v83);
    }
  }
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 1008F66C: using guessed type int (*off_1008F66C)();
// 10090060: using guessed type int (__stdcall *off_10090060[2])(int, int);
// 10090064: using guessed type int (__stdcall *off_10090064)(int, int);
// 10090068: using guessed type int (*off_10090068)();
// 109D17F0: using guessed type int dword_109D17F0;
// 109D1804: using guessed type int dword_109D1804;
// 109D1818: using guessed type int dword_109D1818;
// 109D1830: using guessed type int dword_109D1830;
// 109D1834: using guessed type char byte_109D1834;
// 109D183C: using guessed type int dword_109D183C;
// 109D18C0: using guessed type int dword_109D18C0;
// 109D18D4: using guessed type int dword_109D18D4;
// 109D18D8: using guessed type int dword_109D18D8;
// 109D18DC: using guessed type int dword_109D18DC;
// 109D18E0: using guessed type int dword_109D18E0;
// 109D19A0: using guessed type int dword_109D19A0;
// 109D19A4: using guessed type int dword_109D19A4;
// 109D19A8: using guessed type int dword_109D19A8;

//----- (10025410) --------------------------------------------------------
void __cdecl sub_10025410(int a1, int a2, signed int a3, signed int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12)
{
  double v12; // st7@1
  double v13; // st7@2
  double v14; // st7@4
  double v15; // st7@5
  int v16; // edi@7
  double v17; // st7@7
  double v18; // st7@8
  double v19; // st7@10
  double v20; // st7@11
  int v21; // ebp@13
  int v22; // ebx@13
  double v23; // st7@13
  double v24; // st7@14
  double v25; // st7@16
  double v26; // st7@17
  double v27; // st7@19
  double v28; // st7@20
  double v29; // st7@22
  double v30; // st7@23
  int v31; // ecx@31
  int v32; // ebp@33
  double v33; // st7@39
  int v34; // edx@39
  int v35; // ecx@39
  int v36; // edi@41
  double v37; // rax@47
  int v38; // ecx@47
  int v39; // ecx@47
  int v40; // edi@48
  signed int v41; // eax@48
  signed int v42; // ecx@49
  signed int v43; // eax@53
  signed int v44; // ecx@54
  int v45; // eax@58
  int v46; // ebp@61
  int v47; // ebp@61
  int v48; // ST40_4@62
  void **v49; // eax@62
  int v50; // ST40_4@62
  void **v51; // eax@62
  int v52; // eax@62
  int v53; // ebp@66
  int v54; // ebp@66
  int v55; // ST40_4@67
  void **v56; // eax@67
  int v57; // eax@67
  signed int v58; // ebp@71
  signed int v59; // eax@71
  signed int v60; // ecx@72
  signed int v61; // eax@77
  int v62; // ecx@80
  int v63; // eax@82
  char v64; // cl@86
  int v65; // edx@86
  double v66; // st7@86
  char v67; // al@86
  double v68; // st7@87
  double v69; // st7@88
  int v70; // edi@92
  int v71; // edi@92
  int v72; // ST40_4@93
  void **v73; // eax@93
  int v74; // eax@93
  int v75; // edi@97
  int v76; // edi@97
  int v77; // ST40_4@98
  void **v78; // eax@98
  int v79; // eax@98
  signed int v80; // eax@102
  signed int v81; // ecx@103
  double v82; // [sp+10h] [bp-1B8h]@13
  int v83; // [sp+18h] [bp-1B0h]@13
  int v84; // [sp+1Ch] [bp-1ACh]@13
  int v85; // [sp+20h] [bp-1A8h]@13
  int v86; // [sp+24h] [bp-1A4h]@13
  double v87; // [sp+28h] [bp-1A0h]@16
  double v88; // [sp+30h] [bp-198h]@22
  int v89; // [sp+38h] [bp-190h]@10
  int v90; // [sp+3Ch] [bp-18Ch]@13
  int v91; // [sp+40h] [bp-188h]@4
  int v92; // [sp+44h] [bp-184h]@7
  int v93; // [sp+48h] [bp-180h]@39
  double v94; // [sp+50h] [bp-178h]@39
  int v95; // [sp+58h] [bp-170h]@31
  int v96; // [sp+5Ch] [bp-16Ch]@39
  int v97; // [sp+60h] [bp-168h]@86
  char v98; // [sp+64h] [bp-164h]@86
  char v99; // [sp+6Ah] [bp-15Eh]@48
  char v100; // [sp+6Bh] [bp-15Dh]@48
  int (**v101)(); // [sp+6Ch] [bp-15Ch]@61
  int v102; // [sp+78h] [bp-150h]@61
  char v103; // [sp+7Ch] [bp-14Ch]@61
  int v104; // [sp+A0h] [bp-128h]@47
  int v105; // [sp+A4h] [bp-124h]@47
  int v106; // [sp+A8h] [bp-120h]@47
  int v107; // [sp+ACh] [bp-11Ch]@47
  __int16 v108; // [sp+B0h] [bp-118h]@47
  int v109; // [sp+B4h] [bp-114h]@47
  int v110; // [sp+B8h] [bp-110h]@47
  int v111; // [sp+BCh] [bp-10Ch]@47
  int v112; // [sp+C0h] [bp-108h]@47
  int v113; // [sp+C4h] [bp-104h]@47
  int v114; // [sp+C8h] [bp-100h]@47
  char v115; // [sp+CCh] [bp-FCh]@61
  int v116; // [sp+D0h] [bp-F8h]@61
  int v117; // [sp+D4h] [bp-F4h]@61
  char v118; // [sp+D8h] [bp-F0h]@61
  double v119; // [sp+DCh] [bp-ECh]@48
  int v120; // [sp+E4h] [bp-E4h]@77
  int v121; // [sp+E8h] [bp-E0h]@77
  int v122; // [sp+ECh] [bp-DCh]@77
  int v123; // [sp+F0h] [bp-D8h]@77
  int (__stdcall **v124)(int, int); // [sp+11Ch] [bp-ACh]@84
  char v125; // [sp+15Eh] [bp-6Ah]@84
  int v126; // [sp+17Ch] [bp-4Ch]@84
  int v127; // [sp+180h] [bp-48h]@84
  int v128; // [sp+184h] [bp-44h]@84
  int v129; // [sp+188h] [bp-40h]@84
  __int16 v130; // [sp+18Ch] [bp-3Ch]@84
  int v131; // [sp+190h] [bp-38h]@84
  int v132; // [sp+194h] [bp-34h]@84
  int v133; // [sp+198h] [bp-30h]@84
  int v134; // [sp+19Ch] [bp-2Ch]@84
  int v135; // [sp+1A0h] [bp-28h]@84
  int v136; // [sp+1A4h] [bp-24h]@84
  int v137; // [sp+1C4h] [bp-4h]@61

  v12 = (double)((a5 + a3) / 2) * *(float *)(a2 + 4);
  if ( v12 <= 0.0 )
    v13 = v12 - 0.5;
  else
    v13 = v12 + 0.5;
  v91 = (signed __int64)v13;
  v14 = (double)((a4 + a6) / 2) * *(float *)(a2 + 8);
  if ( v14 <= 0.0 )
    v15 = v14 - 0.5;
  else
    v15 = v14 + 0.5;
  v16 = (signed __int64)v15;
  v92 = (signed __int64)v15;
  v17 = (double)((a5 - a3) / 2) * *(float *)(a2 + 4);
  if ( v17 <= 0.0 )
    v18 = v17 - 0.5;
  else
    v18 = v17 + 0.5;
  v89 = (signed __int64)v18;
  v19 = (double)((a6 - a4) / 2) * *(float *)(a2 + 8);
  if ( v19 <= 0.0 )
    v20 = v19 - 0.5;
  else
    v20 = v19 + 0.5;
  v90 = (signed __int64)v20;
  v21 = v16 - v90;
  v22 = v91 - v89;
  v86 = v16 + v90;
  v83 = v91 - v89;
  LODWORD(v82) = a7 - a3;
  v84 = v16 - v90;
  v85 = v91 + v89;
  v23 = (double)(a7 - a3) * *(float *)(a2 + 4);
  if ( v23 <= 0.0 )
    v24 = v23 - 0.5;
  else
    v24 = v23 + 0.5;
  LODWORD(v87) = v22 + (unsigned __int64)(signed __int64)v24;
  LODWORD(v82) = a8 - a4;
  v25 = (double)(a8 - a4) * *(float *)(a2 + 8);
  if ( v25 <= 0.0 )
    v26 = v25 - 0.5;
  else
    v26 = v25 + 0.5;
  HIDWORD(v87) = v21 + (unsigned __int64)(signed __int64)v26;
  LODWORD(v82) = a9 - a3;
  v27 = (double)(a9 - a3) * *(float *)(a2 + 4);
  if ( v27 <= 0.0 )
    v28 = v27 - 0.5;
  else
    v28 = v27 + 0.5;
  LODWORD(v88) = v22 + (unsigned __int64)(signed __int64)v28;
  LODWORD(v82) = a10 - a4;
  v29 = (double)(a10 - a4) * *(float *)(a2 + 8);
  if ( v29 <= 0.0 )
    v30 = v29 - 0.5;
  else
    v30 = v29 + 0.5;
  HIDWORD(v88) = (unsigned __int64)(signed __int64)v30 + v21;
  if ( abs(v22 - v85) <= 2 && abs(v21 - v86) <= 2
    || abs(v91 - LODWORD(v87)) <= 2
    || abs(v16 - HIDWORD(v87)) <= 2
    || abs(v91 - LODWORD(v88)) <= 2
    || abs(v16 - ((unsigned __int64)(signed __int64)v30 + v21)) <= 2 )
  {
    sub_10022AA0(a1, a2, a3, a4, a5, a6, a11, a12);
    return;
  }
  v95 = LODWORD(v87);
  v31 = HIDWORD(v87) - v16;
  if ( LODWORD(v87) - v91 < 0 )
  {
    if ( v31 <= 0 )
    {
      v32 = 2;
      goto LABEL_39;
    }
  }
  else if ( v31 < 0 )
  {
    v32 = 1;
    goto LABEL_39;
  }
  if ( LODWORD(v87) - v91 > 0 || (v32 = 3, v31 <= 0) )
    v32 = 4;
LABEL_39:
  v94 = (double)v90;
  v33 = (double)v89;
  v82 = v33;
  v95 = sub_10026B20(v91, v16, v33, v94, v87, v32);
  v96 = v34;
  v93 = LODWORD(v88);
  v35 = HIDWORD(v88) - v16;
  if ( LODWORD(v88) - v91 < 0 )
  {
    if ( v35 <= 0 )
    {
      v36 = 2;
      goto LABEL_47;
    }
LABEL_44:
    if ( LODWORD(v88) - v91 > 0 || (v36 = 3, v35 <= 0) )
      v36 = 4;
    goto LABEL_47;
  }
  if ( v35 >= 0 )
    goto LABEL_44;
  v36 = 1;
LABEL_47:
  LODWORD(v37) = sub_10026B20(v91, v92, v82, v94, v88, v36);
  v94 = v37;
  v38 = *(_DWORD *)(a2 + 20);
  v105 = 1065353216;
  v109 = v38;
  v106 = 1065353216;
  v110 = *(_DWORD *)(a2 + 24);
  v111 = *(_DWORD *)(a2 + 28);
  v39 = *(_DWORD *)(a2 + 12);
  LODWORD(v37) = *(_DWORD *)a2;
  v112 = *(_DWORD *)(a2 + 32);
  WORD2(v37) = *(_WORD *)(a2 + 16);
  v104 = LODWORD(v37);
  LODWORD(v37) = *(_DWORD *)(a2 + 36);
  v108 = WORD2(v37);
  v113 = LODWORD(v37);
  v107 = v39;
  LODWORD(v37) = *(_DWORD *)(a12 + 4);
  v114 = *(_DWORD *)(a2 + 40);
  if ( LODWORD(v37) == 15 )
  {
    v40 = sub_10024340(v83, v84, v85, v86, v95, v96, v32, SLODWORD(v94), SHIDWORD(v94), v36, (int)&v119);
    v93 = 0;
    LODWORD(v82) = 0;
    sub_1003DEC0();
    sub_10040C90(v83, v84, v85, v86, &v93, &v100);
    sub_10040DE0((int)&v119, v40, 1, &v82, &v99);
    sub_10040B80(v93, v93, LODWORD(v82), 1);
    v41 = sub_1003E110();
    if ( v41 != 1 )
    {
      v42 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      if ( &dword_109D19A0 )
      {
        v42 = v41;
        LOWORD(dword_109D19A4) = 0;
        dword_109D19A0 = v41;
        dword_109D19A8 = 0;
      }
      if ( v42 < 0 )
        unknown_libname_4(v42);
    }
    sub_1003B6A0(a1, (int)&v104, v93, a12);
    sub_1003DEC0();
    sub_1003DFA0(LODWORD(v82));
    sub_1003DFA0(v93);
    v43 = sub_1003E110();
    if ( v43 != 1 )
    {
      v44 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      if ( &dword_109D19A0 )
      {
        v44 = v43;
        LOWORD(dword_109D19A4) = 0;
        dword_109D19A0 = v43;
        dword_109D19A8 = 0;
      }
      if ( v44 < 0 )
        unknown_libname_4(v44);
    }
  }
  v45 = *(_DWORD *)(a11 + 8);
  if ( v45 && v45 != 5 )
  {
    if ( *(_DWORD *)(a12 + 4) )
    {
      v58 = HIDWORD(v88);
    }
    else
    {
      v115 = 0;
      v116 = 1;
      v117 = 5;
      v118 = 0;
      sub_1003DEC0();
      v46 = dword_109D183C;
      sub_100156C0((int)&v101);
      v137 = 6;
      sub_10015540((int)&v103);
      v101 = &off_1008F66C;
      sub_10015A40((int)&v103, (int)&v115);
      v102 = v46;
      v137 = 7;
      sub_100158B0((int)&dword_109D17F0, (int)&v101);
      v137 = -1;
      sub_100156E0((int)&v101);
      v47 = sub_1003E110();
      if ( v47 != 1 )
      {
        v48 = dword_109D17F8;
        dword_109D17F0 = 0;
        v49 = (void **)sub_10015560((int)&unk_109D17F4, &v82);
        sub_100155A0(&unk_109D17F4, (int)&v93, *v49, v48);
        v50 = dword_109D180C;
        dword_109D1804 = 0;
        v51 = (void **)sub_10015560((int)&unk_109D1808, &v82);
        sub_100155A0(&unk_109D1808, (int)&v93, *v51, v50);
        sub_100154D0((int)&dword_109D1818);
        LODWORD(v82) = &dword_109D19A0;
        v52 = 0;
        dword_109D19A4 = 0;
        dword_109D19A0 = 0;
        dword_109D19A8 = 0;
        v137 = 8;
        if ( &dword_109D19A0 )
        {
          sub_10015520((int)&dword_109D19A0, v47, 0, 0);
          v52 = dword_109D19A0;
        }
        v137 = -1;
        if ( v52 < 0 )
          unknown_libname_4(v52);
      }
      sub_1003DEC0();
      v53 = dword_109D183C;
      sub_100156C0((int)&v101);
      v137 = 9;
      sub_1001A0D0((int)&v103);
      v101 = &off_10090068;
      sub_10020DB0((int)&v103, a12);
      v102 = v53;
      v137 = 10;
      sub_10026450((int)&dword_109D1804, (int)&v101);
      v137 = -1;
      sub_100156E0((int)&v101);
      v54 = sub_1003E110();
      if ( v54 != 1 )
      {
        v55 = dword_109D17F8;
        dword_109D17F0 = 0;
        v56 = (void **)sub_10015560((int)&unk_109D17F4, &v82);
        sub_100155A0(&unk_109D17F4, (int)&v93, *v56, v55);
        sub_100154D0((int)&dword_109D1804);
        sub_100154D0((int)&dword_109D1818);
        v57 = 0;
        LODWORD(v82) = &dword_109D19A0;
        dword_109D19A4 = 0;
        dword_109D19A0 = 0;
        dword_109D19A8 = 0;
        v137 = 11;
        if ( &dword_109D19A0 )
        {
          sub_10015520((int)&dword_109D19A0, v54, 0, 0);
          v57 = dword_109D19A0;
        }
        v137 = -1;
        if ( v57 < 0 )
          unknown_libname_4(v57);
      }
      v58 = HIDWORD(v88);
      v59 = sub_1003EFE0(*(_DWORD *)a2, v83, v84, v85, v86, SLODWORD(v87), SHIDWORD(v87), SLODWORD(v88), SHIDWORD(v88));
      if ( v59 != 1 )
      {
        v60 = 0;
        dword_109D19A4 = 0;
        dword_109D19A0 = 0;
        dword_109D19A8 = 0;
        if ( &dword_109D19A0 )
        {
          v60 = v59;
          LOWORD(dword_109D19A4) = 0;
          dword_109D19A0 = v59;
          dword_109D19A8 = 0;
        }
        if ( v60 < 0 )
          unknown_libname_4(v60);
      }
    }
    v119 = v94;
    v121 = v92;
    v61 = *(_DWORD *)(a11 + 8);
    v120 = v91;
    v122 = v95;
    v123 = v96;
    if ( v61 >= 6
      && v61 <= 255
      && (byte_109D1834 || (v62 = *(_DWORD *)(dword_109D1830 + 4 * v61)) == 0 || *(_BYTE *)(v62 + 13) != 3)
      && (v63 = *(_DWORD *)(dword_109D1830 + 4 * v61)) != 0
      && *(_BYTE *)(v63 + 13) == 3 )
    {
      v134 = 0;
      v133 = 0;
      v132 = 0;
      v131 = 0;
      v126 = 0;
      v127 = 0;
      v128 = 0;
      v129 = 0;
      v130 = 0;
      v135 = 0;
      v136 = 0;
      v124 = off_10090060;
      sub_10034270((int)&v124, v33, a1, (int)&v104, a11);
      v124 = &off_10090064;
      v125 = 1;
      sub_10034EB0(v83, v84, v85, v86, SLODWORD(v87), SHIDWORD(v87), SLODWORD(v88), v58, (int)&v124);
      dword_109D18D4 = -3;
      dword_109D18D8 = -3;
      dword_109D18DC = 3;
      dword_109D18E0 = 3;
      dword_109D18C0 = 0;
      sub_10021A20(v33, a1, (int)&v104, 0, (int)&v119, 3u, a11);
    }
    else
    {
      sub_100216A0(v33, a1, (int)&v104, v83, v84, v85, v86, SLODWORD(v87), SHIDWORD(v87), SLODWORD(v88), v58, a11);
      sub_100212D0(v33, a1, (int)&v104, 0, (int)&v119, 3u, a11);
    }
  }
  else
  {
    v64 = *(_BYTE *)a11;
    v65 = *(_DWORD *)(a11 + 4);
    v66 = *(float *)(a2 + 12);
    v97 = *(_DWORD *)(a11 + 8);
    v67 = *(_BYTE *)(a11 + 12);
    LOBYTE(v95) = v64;
    v96 = v65;
    v98 = v67;
    if ( v67 )
    {
      v68 = v66 * (double)v96;
      v69 = v68 <= 0.0 ? v68 - 0.5 : v68 + 0.5;
      v96 = (signed __int64)v69;
      if ( !v96 )
        v96 = 1;
    }
    sub_1003DEC0();
    v70 = dword_109D183C;
    sub_100156C0((int)&v101);
    v137 = 0;
    sub_10015540((int)&v103);
    v101 = &off_1008F66C;
    sub_10015A40((int)&v103, (int)&v95);
    v102 = v70;
    v137 = 1;
    sub_100158B0((int)&dword_109D17F0, (int)&v101);
    v137 = -1;
    sub_100156E0((int)&v101);
    v71 = sub_1003E110();
    if ( v71 != 1 )
    {
      v72 = dword_109D17F8;
      dword_109D17F0 = 0;
      v73 = (void **)sub_10015560((int)&unk_109D17F4, &v82);
      sub_100155A0(&unk_109D17F4, (int)&v93, *v73, v72);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      LODWORD(v82) = &dword_109D19A0;
      v74 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      v137 = 2;
      if ( &dword_109D19A0 )
      {
        sub_10015520((int)&dword_109D19A0, v71, 0, 0);
        v74 = dword_109D19A0;
      }
      v137 = -1;
      if ( v74 < 0 )
        unknown_libname_4(v74);
    }
    sub_1003DEC0();
    v75 = dword_109D183C;
    sub_100156C0((int)&v101);
    v137 = 3;
    sub_1001A0D0((int)&v103);
    v101 = &off_10090068;
    sub_10020DB0((int)&v103, a12);
    v102 = v75;
    v137 = 4;
    sub_10026450((int)&dword_109D1804, (int)&v101);
    v137 = -1;
    sub_100156E0((int)&v101);
    v76 = sub_1003E110();
    if ( v76 != 1 )
    {
      v77 = dword_109D17F8;
      dword_109D17F0 = 0;
      v78 = (void **)sub_10015560((int)&unk_109D17F4, &v82);
      sub_100155A0(&unk_109D17F4, (int)&v93, *v78, v77);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v79 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      LODWORD(v82) = &dword_109D19A0;
      v137 = 5;
      if ( &dword_109D19A0 )
      {
        sub_10015520((int)&dword_109D19A0, v76, 0, 0);
        v79 = dword_109D19A0;
      }
      if ( v79 < 0 )
        unknown_libname_4(v79);
    }
    v80 = sub_1003EFE0(*(_DWORD *)a2, v83, v84, v85, v86, SLODWORD(v87), SHIDWORD(v87), SLODWORD(v88), SHIDWORD(v88));
    if ( v80 != 1 )
    {
      v81 = 0;
      dword_109D19A4 = 0;
      dword_109D19A0 = 0;
      dword_109D19A8 = 0;
      if ( &dword_109D19A0 )
      {
        v81 = v80;
        LOWORD(dword_109D19A4) = 0;
        dword_109D19A0 = v80;
        dword_109D19A8 = 0;
      }
      if ( v81 < 0 )
        unknown_libname_4(v81);
    }
  }
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 1008F66C: using guessed type int (*off_1008F66C)();
// 10090060: using guessed type int (__stdcall *off_10090060[2])(int, int);
// 10090064: using guessed type int (__stdcall *off_10090064)(int, int);
// 10090068: using guessed type int (*off_10090068)();
// 109D17F0: using guessed type int dword_109D17F0;
// 109D1804: using guessed type int dword_109D1804;
// 109D1818: using guessed type int dword_109D1818;
// 109D1830: using guessed type int dword_109D1830;
// 109D1834: using guessed type char byte_109D1834;
// 109D183C: using guessed type int dword_109D183C;
// 109D18C0: using guessed type int dword_109D18C0;
// 109D18D4: using guessed type int dword_109D18D4;
// 109D18D8: using guessed type int dword_109D18D8;
// 109D18DC: using guessed type int dword_109D18DC;
// 109D18E0: using guessed type int dword_109D18E0;
// 109D19A0: using guessed type int dword_109D19A0;
// 109D19A4: using guessed type int dword_109D19A4;
// 109D19A8: using guessed type int dword_109D19A8;

//----- (10026250) --------------------------------------------------------
int __thiscall sub_10026250(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = *(_DWORD *)a2;
  *(_DWORD *)(this + 4) = *(_DWORD *)(a2 + 4);
  return result;
}

//----- (10026270) --------------------------------------------------------
int __thiscall sub_10026270(int this, int a2, int a3, int a4, int a5)
{
  int result; // eax@1

  *(_DWORD *)this = a2;
  result = a4;
  *(_DWORD *)(this + 4) = a3;
  *(_DWORD *)(this + 8) = a4;
  *(_DWORD *)(this + 12) = a5;
  return result;
}

//----- (10026290) --------------------------------------------------------
int __thiscall sub_10026290(int this, int a2)
{
  int v2; // eax@3
  int result; // eax@5

  result = 0;
  if ( *(_DWORD *)a2 >= *(_DWORD *)this && *(_DWORD *)a2 < *(_DWORD *)(this + 8) )
  {
    v2 = *(_DWORD *)(a2 + 4);
    if ( v2 >= *(_DWORD *)(this + 4) && v2 < *(_DWORD *)(this + 12) )
      result = 1;
  }
  return result;
}

//----- (100262C0) --------------------------------------------------------
int __thiscall sub_100262C0(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 4) = 0;
  *(_BYTE *)(this + 8) = 1;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)(this + 24) = 0;
  *(_BYTE *)(this + 28) = 0;
  *(_BYTE *)(this + 16) = -1;
  *(_DWORD *)this = &off_1008F66C;
  *(_BYTE *)(this + 16) = *(_BYTE *)a2;
  *(_DWORD *)(this + 20) = *(_DWORD *)(a2 + 4);
  *(_DWORD *)(this + 24) = *(_DWORD *)(a2 + 8);
  *(_BYTE *)(this + 28) = *(_BYTE *)(a2 + 12);
  *(_DWORD *)(this + 12) = a3;
  return result;
}
// 1008F66C: using guessed type int (*off_1008F66C)();

//----- (10026310) --------------------------------------------------------
int __thiscall sub_10026310(int this, int a2, int a3)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 4) = 0;
  *(_BYTE *)(this + 8) = 1;
  *(_BYTE *)(this + 16) = -1;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)(this + 32) = 0;
  *(_DWORD *)(this + 36) = 0;
  *(_DWORD *)(this + 44) = 0;
  *(_DWORD *)(this + 24) = -1;
  *(_DWORD *)(this + 28) = 1;
  *(_DWORD *)(this + 40) = 10;
  *(_DWORD *)(this + 48) = 1065353216;
  *(_DWORD *)this = &off_10090068;
  *(_BYTE *)(this + 16) = *(_BYTE *)a2;
  *(_DWORD *)(this + 20) = *(_DWORD *)(a2 + 4);
  *(_DWORD *)(this + 24) = *(_DWORD *)(a2 + 8);
  *(_DWORD *)(this + 28) = *(_DWORD *)(a2 + 12);
  *(_DWORD *)(this + 32) = *(_DWORD *)(a2 + 16);
  *(_DWORD *)(this + 36) = *(_DWORD *)(a2 + 20);
  *(_DWORD *)(this + 40) = *(_DWORD *)(a2 + 24);
  *(_DWORD *)(this + 44) = *(_DWORD *)(a2 + 28);
  *(_DWORD *)(this + 48) = *(_DWORD *)(a2 + 32);
  *(_DWORD *)(this + 12) = a3;
  return result;
}
// 10090068: using guessed type int (*off_10090068)();

//----- (10026390) --------------------------------------------------------
int __thiscall sub_10026390(int this)
{
  int v1; // esi@1
  int result; // eax@1
  int v3; // [sp+4h] [bp-4h]@1

  v1 = this;
  v3 = 0;
  result = sub_1003E800(
             (*(_DWORD *)(this + 20) & 0xF) != 0,
             *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 12) + 12) + 4 * *(_BYTE *)(this + 16)),
             &v3,
             (_BYTE *)(this + 8));
  *(_DWORD *)(v1 + 4) = v3;
  return result;
}

//----- (100263E0) --------------------------------------------------------
signed int __thiscall sub_100263E0(int this, int a2)
{
  return sub_1003FBC0(a2, *(_DWORD *)(this + 4));
}

//----- (10026400) --------------------------------------------------------
bool __thiscall sub_10026400(int this, signed int a2)
{
  bool result; // al@2
  int v3; // eax@5
  int v4; // eax@7

  if ( a2 >= 6 )
  {
    if ( a2 <= 255
      && (*(_BYTE *)(this + 68) || (v3 = *(_DWORD *)(*(_DWORD *)(this + 64) + 4 * a2)) == 0 || *(_BYTE *)(v3 + 13) != 3)
      && (v4 = *(_DWORD *)(*(_DWORD *)(this + 64) + 4 * a2)) != 0 )
    {
      result = *(_BYTE *)(v4 + 13) == 3;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10026450) --------------------------------------------------------
_DWORD *__thiscall sub_10026450(int this, int a2)
{
  int v2; // ebp@1
  int v3; // edi@1
  _DWORD *result; // eax@2
  int *v5; // ebx@3
  int i; // esi@3
  int v7; // eax@7
  char v8; // dl@11
  int v9; // eax@11
  int v10; // ecx@11
  int v11; // edx@11
  int v12; // ST04_4@11
  char v13; // [sp+10h] [bp-44h]@11
  int (**v14)(); // [sp+14h] [bp-40h]@11
  unsigned int v15; // [sp+18h] [bp-3Ch]@11
  char v16; // [sp+1Ch] [bp-38h]@11
  int v17; // [sp+20h] [bp-34h]@11
  char v18; // [sp+24h] [bp-30h]@11
  int v19; // [sp+50h] [bp-4h]@11

  v2 = this;
  v3 = a2;
  if ( !*(_DWORD *)(this + 12) || (result = (_DWORD *)sub_10015570(a2 + 16, **(_DWORD **)(this + 8) + 24)) == 0 )
  {
    v5 = *(int **)(v2 + 8);
    for ( i = *v5; (int *)i != v5; i = *(_DWORD *)i )
    {
      if ( sub_10015570(i + 24, v3 + 16) )
        break;
    }
    if ( i == *(_DWORD *)(v2 + 8) )
    {
      (**(void (__thiscall ***)(_DWORD))v3)(v3);
      v7 = *(_DWORD *)(v2 + 12);
      if ( v7 )
      {
        if ( v7 == *(_BYTE *)(v2 + 16) - 1 )
          sub_10015870((_DWORD *)(v2 + 4), (int)&a2, *(void **)(*(_DWORD *)(v2 + 8) + 4));
      }
      (*(void (__thiscall **)(int, int))(*(_DWORD *)v3 + 4))(v3, *(_DWORD *)v2);
      result = sub_10026620((_DWORD *)(v2 + 4), &a2, **(_DWORD **)(v2 + 8), v3);
      *(_BYTE *)(v3 + 8) = 0;
    }
    else
    {
      v8 = *(_BYTE *)(i + 16);
      v15 = *(_DWORD *)(i + 12);
      v16 = v8;
      v14 = &off_1008F688;
      v9 = *(_DWORD *)(i + 20);
      v19 = 0;
      v17 = v9;
      sub_100265E0((int)&v18, i + 24);
      v14 = &off_10090068;
      *(_BYTE *)(i + 16) = 0;
      **(_DWORD **)(i + 4) = *(_DWORD *)i;
      v10 = *(_DWORD *)i;
      v11 = *(_DWORD *)(i + 4);
      v19 = 1;
      *(_DWORD *)(v10 + 4) = v11;
      sub_10015B60((void *)(i + 8), 0);
      j__free((void *)i);
      --*(_DWORD *)(v2 + 12);
      sub_10026620((_DWORD *)(v2 + 4), &v13, **(_DWORD **)(v2 + 8), (int)&v14);
      v12 = *(_DWORD *)v2;
      v16 = 0;
      sub_1003FBC0(v12, v15);
      result = (_DWORD *)v15;
      v14 = &off_1008F688;
      if ( v15 && v16 )
        result = (_DWORD *)sub_1003DFA0(v15);
    }
  }
  return result;
}
// 1008F688: using guessed type int (*off_1008F688)();
// 10090068: using guessed type int (*off_10090068)();

//----- (100265E0) --------------------------------------------------------
int __thiscall sub_100265E0(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 8) = *(_DWORD *)(a2 + 8);
  *(_DWORD *)(this + 12) = *(_DWORD *)(a2 + 12);
  *(_DWORD *)(this + 16) = *(_DWORD *)(a2 + 16);
  *(_DWORD *)(this + 20) = *(_DWORD *)(a2 + 20);
  *(_DWORD *)(this + 24) = *(_DWORD *)(a2 + 24);
  *(_DWORD *)(this + 28) = *(_DWORD *)(a2 + 28);
  *(_DWORD *)(this + 32) = *(_DWORD *)(a2 + 32);
  *(_BYTE *)this = *(_BYTE *)a2;
  *(_DWORD *)(this + 4) = *(_DWORD *)(a2 + 4);
  return result;
}

//----- (10026620) --------------------------------------------------------
_DWORD *__thiscall sub_10026620(_DWORD *this, _DWORD *a2, int a3, int a4)
{
  _DWORD *v4; // ebx@1
  _DWORD *v5; // ebp@1
  _DWORD *v6; // esi@1
  _DWORD *v7; // eax@1
  _DWORD *v8; // eax@3
  _DWORD *result; // eax@5

  v4 = this;
  v5 = *(_DWORD **)(a3 + 4);
  v6 = operator new(0x3Cu);
  v7 = (_DWORD *)a3;
  if ( !a3 )
    v7 = v6;
  *v6 = v7;
  v8 = v5;
  if ( !v5 )
    v8 = v6;
  v6[1] = v8;
  *(_DWORD *)(a3 + 4) = v6;
  *(_DWORD *)v6[1] = v6;
  sub_10026680((int)(v6 + 2), a4);
  ++v4[2];
  result = a2;
  *a2 = v6;
  return result;
}

//----- (10026680) --------------------------------------------------------
int __cdecl sub_10026680(int a1, int a2)
{
  int result; // eax@1

  result = a1;
  if ( a1 )
  {
    *(_DWORD *)(a1 + 4) = *(_DWORD *)(a2 + 4);
    *(_BYTE *)(a1 + 8) = *(_BYTE *)(a2 + 8);
    *(_DWORD *)a1 = &off_1008F688;
    *(_DWORD *)(a1 + 12) = *(_DWORD *)(a2 + 12);
    *(_DWORD *)(a1 + 24) = *(_DWORD *)(a2 + 24);
    *(_DWORD *)(a1 + 28) = *(_DWORD *)(a2 + 28);
    *(_DWORD *)(a1 + 32) = *(_DWORD *)(a2 + 32);
    *(_DWORD *)(a1 + 36) = *(_DWORD *)(a2 + 36);
    *(_DWORD *)(a1 + 40) = *(_DWORD *)(a2 + 40);
    *(_DWORD *)(a1 + 44) = *(_DWORD *)(a2 + 44);
    *(_DWORD *)(a1 + 48) = *(_DWORD *)(a2 + 48);
    *(_BYTE *)(a1 + 16) = *(_BYTE *)(a2 + 16);
    *(_DWORD *)(a1 + 20) = *(_DWORD *)(a2 + 20);
    *(_DWORD *)a1 = &off_10090068;
  }
  return result;
}
// 1008F688: using guessed type int (*off_1008F688)();
// 10090068: using guessed type int (*off_10090068)();

//----- (100266F0) --------------------------------------------------------
int __userpurge sub_100266F0@<eax>(int a1@<ecx>, double a2@<st0>, int a3, int a4, int a5)
{
  int v5; // esi@1

  v5 = a1;
  *(_DWORD *)(a1 + 128) = 0;
  *(_DWORD *)(a1 + 124) = 0;
  *(_DWORD *)(a1 + 120) = 0;
  *(_DWORD *)(a1 + 116) = 0;
  *(_DWORD *)(a1 + 96) = 0;
  *(_DWORD *)(a1 + 100) = 0;
  *(_DWORD *)(a1 + 104) = 0;
  *(_DWORD *)(a1 + 108) = 0;
  *(_WORD *)(a1 + 112) = 0;
  *(_DWORD *)(a1 + 132) = 0;
  *(_DWORD *)(a1 + 136) = 0;
  *(_DWORD *)a1 = off_10090060;
  sub_10034270(a1, a2, a3, a4, a5);
  return v5;
}
// 10090060: using guessed type int (__stdcall *off_10090060[2])(int, int);

//----- (10026750) --------------------------------------------------------
int __thiscall sub_10026750(int this, int a2, int a3, int a4, int a5)
{
  int result; // eax@3

  *(_DWORD *)this = a2;
  if ( a5 )
  {
    *(_BYTE *)(this + 4) = *(_BYTE *)a5;
    *(_DWORD *)(this + 8) = *(_DWORD *)(a5 + 4);
    *(_DWORD *)(this + 12) = *(_DWORD *)(a5 + 8);
    *(_BYTE *)(this + 16) = *(_BYTE *)(a5 + 12);
  }
  result = a3 + 3;
  *(_DWORD *)(this + 20) = a3 - 3;
  *(_DWORD *)(this + 28) = a3 + 3;
  *(_DWORD *)(this + 24) = a4 - 3;
  *(_DWORD *)(this + 32) = a4 + 3;
  return result;
}

//----- (100267A0) --------------------------------------------------------
signed int __usercall sub_100267A0@<eax>(double a1@<st0>, int a2, int a3, int a4, int a5, int a6, int a7, signed int a8, signed int a9, signed int a10, signed int a11, int a12)
{
  signed int result; // eax@1
  int (__stdcall **v13)(int, int); // [sp+4h] [bp-A0h]@1
  char v14; // [sp+46h] [bp-5Eh]@1
  int v15; // [sp+64h] [bp-40h]@1
  int v16; // [sp+68h] [bp-3Ch]@1
  int v17; // [sp+6Ch] [bp-38h]@1
  int v18; // [sp+70h] [bp-34h]@1
  __int16 v19; // [sp+74h] [bp-30h]@1
  int v20; // [sp+78h] [bp-2Ch]@1
  int v21; // [sp+7Ch] [bp-28h]@1
  int v22; // [sp+80h] [bp-24h]@1
  int v23; // [sp+84h] [bp-20h]@1
  int v24; // [sp+88h] [bp-1Ch]@1
  int v25; // [sp+8Ch] [bp-18h]@1

  v23 = 0;
  v22 = 0;
  v21 = 0;
  v20 = 0;
  v15 = 0;
  v16 = 0;
  v17 = 0;
  v18 = 0;
  v19 = 0;
  v24 = 0;
  v25 = 0;
  v13 = off_10090060;
  sub_10034270((int)&v13, a1, a2, a3, a12);
  v13 = &off_10090064;
  v14 = 1;
  sub_10034EB0(a4, a5, a6, a7, a8, a9, a10, a11, (int)&v13);
  dword_109D18D4 = -3;
  dword_109D18D8 = -3;
  result = 3;
  dword_109D18C0 = 0;
  dword_109D18DC = 3;
  dword_109D18E0 = 3;
  return result;
}
// 10090060: using guessed type int (__stdcall *off_10090060[2])(int, int);
// 10090064: using guessed type int (__stdcall *off_10090064)(int, int);
// 109D18C0: using guessed type int dword_109D18C0;
// 109D18D4: using guessed type int dword_109D18D4;
// 109D18D8: using guessed type int dword_109D18D8;
// 109D18DC: using guessed type int dword_109D18DC;
// 109D18E0: using guessed type int dword_109D18E0;

//----- (100268A0) --------------------------------------------------------
int __cdecl sub_100268A0(double a1, double a2, int a3)
{
  double v3; // st5@1
  double v4; // st5@2

  v3 = (a2 - *(double *)(a3 + 40)) * *(double *)(a3 + 8)
     + (a1 - *(double *)(a3 + 32)) * *(double *)a3
     + *(double *)(a3 + 32);
  if ( v3 <= 0.0 )
    v4 = v3 - 0.5;
  else
    v4 = v3 + 0.5;
  return (signed __int64)v4;
}

//----- (10026930) --------------------------------------------------------
void __cdecl sub_10026930(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  long double v7; // st5@1
  int v8; // ecx@4
  int v9; // eax@5
  int v10; // esi@8
  int v11; // ecx@9
  int v12; // eax@9
  double v13; // st7@10
  float v14; // [sp+10h] [bp+4h]@2
  float v15; // [sp+18h] [bp+Ch]@2

  v7 = sqrt((double)(a3 - a1) * (double)(a3 - a1) + (double)(a4 - a2) * (double)(a4 - a2));
  if ( v7 != 0.0 && ((v15 = (double)(a3 - a1) / v7, v14 = (double)(a4 - a2) / v7, v15 != 0.0) || v14 != 0.0) )
  {
    v10 = a5;
    if ( a5 > 0 )
    {
      v11 = a7;
      v12 = a6 + 4;
      do
      {
        v13 = (double)*(signed int *)(v12 - 4);
        v12 += 8;
        v11 += 8;
        --v10;
        *(float *)(v11 - 8) = v13 * v15 - (double)*(signed int *)(v12 - 8) * v14;
        *(float *)(a7 - a6 + v12 - 8) = (double)*(signed int *)(v12 - 8) * v15 + (double)*(signed int *)(v12 - 12) * v14;
      }
      while ( v10 );
    }
  }
  else
  {
    v8 = a5;
    if ( a5 > 0 )
    {
      v9 = a7;
      do
      {
        *(_DWORD *)v9 = 0;
        *(_DWORD *)(v9 + 4) = 0;
        v9 += 8;
        --v8;
      }
      while ( v8 );
    }
  }
}

//----- (10026A20) --------------------------------------------------------
signed __int64 __cdecl sub_10026A20(int a1, int a2, int a3, double a4, double a5)
{
  double v5; // st7@1
  double v6; // st6@1
  double v7; // st5@1
  double v8; // st5@2
  int v9; // edi@4
  double v10; // st7@4
  signed __int64 result; // rax@5

  v5 = (double)(*(_DWORD *)a3 - a1);
  v6 = (double)(*(_DWORD *)(a3 + 4) - a2);
  v7 = v5 * a4 + (double)a1 - v6 * a5;
  if ( v7 <= 0.0 )
    v8 = v7 - 0.5;
  else
    v8 = v7 + 0.5;
  v9 = (signed __int64)v8;
  v10 = v6 * a4 + v5 * a5 + (double)a2;
  if ( v10 <= 0.0 )
  {
    result = (signed __int64)(v10 - 0.5);
    *(_DWORD *)a3 = v9;
    *(_DWORD *)(a3 + 4) = result;
  }
  else
  {
    result = (signed __int64)(v10 + 0.5);
    *(_DWORD *)a3 = v9;
    *(_DWORD *)(a3 + 4) = result;
  }
  return result;
}

//----- (10026AC0) --------------------------------------------------------
long double __cdecl sub_10026AC0(float a1, float a2, float a3, float a4, float a5, float a6)
{
  double v6; // st7@1
  double v7; // st5@1
  long double v8; // st6@1
  long double result; // st7@2
  float v10; // [sp+14h] [bp+14h]@3

  v6 = a6 - a4;
  v7 = a5 - a3;
  v8 = sqrt(v7 * v7 + v6 * v6);
  if ( v8 == 0.0 )
  {
    result = 3.4028235e38;
  }
  else
  {
    v10 = v7;
    result = fabs(((a4 - a2) * v10 - (a3 - a1) * v6) / v8);
  }
  return result;
}

//----- (10026B20) --------------------------------------------------------
int __cdecl sub_10026B20(int a1, int a2, double a3, double a4, double a5, int a6)
{
  int result; // eax@1
  int v7; // ecx@2
  double v8; // st7@2
  long double v9; // st4@2
  double v10; // st7@4
  double v11; // st7@8
  unsigned __int8 v13; // c0@10
  unsigned __int8 v14; // c3@10
  long double v15; // st6@11
  long double v16; // [sp+14h] [bp+Ch]@3
  double v17; // [sp+24h] [bp+1Ch]@2

  result = LODWORD(a5);
  if ( __PAIR__(a2, a1) != *(_QWORD *)&a5 )
  {
    v7 = LODWORD(a5) - a1;
    v8 = (double)(HIDWORD(a5) - a2);
    v17 = (double)(LODWORD(a5) - a1);
    v9 = v17 * v17 * a4 * a4 + v8 * v8 * a3 * a3;
    if ( v9 <= 0.0 )
    {
      result = a1;
    }
    else
    {
      v16 = v17 * a3 * a4 / sqrt(v9);
      if ( v7 )
      {
        if ( v13 | v14 )
          v15 = v16 - 0.5;
        else
          v15 = v16 + 0.5;
        result = a1 + (unsigned __int64)(signed __int64)v15;
      }
      else
      {
        v10 = (double)a2;
        if ( a6 == 1 )
        {
          if ( v10 - a4 > 0.0 )
            return a1;
          return a1;
        }
        v11 = v10 + a4;
        if ( v11 <= 0.0 )
          return a1;
        result = a1;
      }
    }
  }
  return result;
}

//----- (10026CA0) --------------------------------------------------------
double __cdecl sub_10026CA0(float a1, float a2, float a3, float a4, float a5, float a6)
{
  long double v6; // st7@1
  double result; // st7@3
  double v8; // st7@4
  long double v9; // st6@6
  double v10; // st6@9

  v6 = a2 - a4;
  if ( v6 != 0.0 || a1 - a3 != 0.0 )
  {
    v8 = atan2(a1 - a3, v6) * 57.2957795130823;
    if ( v8 < 0.0 )
      v8 = v8 + 360.0;
    v9 = a6 - a4;
    if ( v9 != 0.0 || a5 - a3 != 0.0 )
    {
      v10 = atan2(a5 - a3, v9) * 57.2957795130823;
      if ( v10 < 0.0 )
        v10 = v10 + 360.0;
      result = v8 - v10;
      if ( result < 0.0 )
        result = result + 360.0;
    }
    else
    {
      result = 0.0;
    }
  }
  else
  {
    result = 0.0;
  }
  return result;
}

//----- (10026D70) --------------------------------------------------------
bool __cdecl sub_10026D70(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, float a9, float a10)
{
  float v10; // ST30_4@1
  float v11; // ST34_4@1
  float v12; // ST38_4@1
  float v13; // ST3C_4@1
  float v14; // ST28_4@1
  float v15; // ST2C_4@1
  double v16; // st7@1
  double v17; // st6@1
  double v18; // st6@2
  int v19; // edi@4
  double v20; // st6@4
  double v21; // st6@5
  int v22; // esi@7
  double v23; // st6@7
  double v24; // st6@8
  int v25; // ebp@10
  double v26; // st6@10
  double v27; // st6@11
  int v28; // esi@13
  int v29; // edi@13
  double v30; // st6@13
  double v31; // st6@14
  double v32; // st6@16
  double v33; // st6@17
  double v34; // st6@19
  double v35; // st6@20
  int v36; // edi@22
  double v37; // st6@22
  double v38; // st6@23
  int v40; // [sp+38h] [bp-10h]@16
  int v41; // [sp+3Ch] [bp-Ch]@19

  v10 = (double)(a3 + a1) * 0.5;
  v11 = (double)(a4 + a2) * 0.5;
  v12 = (double)a5;
  v13 = (double)a6;
  v14 = (double)a7;
  v15 = (double)a8;
  v16 = sub_10026CA0(v12, v13, v10, v11, v14, v15);
  v17 = (double)((a3 + a1) / 2) * a9;
  if ( v17 <= 0.0 )
    v18 = v17 - 0.5;
  else
    v18 = v17 + 0.5;
  v19 = (signed __int64)v18;
  v20 = (double)((a4 + a2) / 2) * a10;
  if ( v20 <= 0.0 )
    v21 = v20 - 0.5;
  else
    v21 = v20 + 0.5;
  v22 = (signed __int64)v21;
  v23 = (double)((a3 - a1) / 2) * a9;
  if ( v23 <= 0.0 )
    v24 = v23 - 0.5;
  else
    v24 = v23 + 0.5;
  v25 = (signed __int64)v24;
  v26 = (double)((a4 - a2) / 2) * a10;
  if ( v26 <= 0.0 )
    v27 = v26 - 0.5;
  else
    v27 = v26 + 0.5;
  v28 = v22 - (unsigned __int64)(signed __int64)v27;
  v29 = v19 - v25;
  v30 = (double)(a5 - a1) * a9;
  if ( v30 <= 0.0 )
    v31 = v30 - 0.5;
  else
    v31 = v30 + 0.5;
  v40 = v29 + (unsigned __int64)(signed __int64)v31;
  v32 = (double)(a6 - a2) * a10;
  if ( v32 <= 0.0 )
    v33 = v32 - 0.5;
  else
    v33 = v32 + 0.5;
  v41 = v28 + (unsigned __int64)(signed __int64)v33;
  v34 = (double)(a7 - a1) * a9;
  if ( v34 <= 0.0 )
    v35 = v34 - 0.5;
  else
    v35 = v34 + 0.5;
  v36 = (unsigned __int64)(signed __int64)v35 + v29;
  v37 = (double)(a8 - a2) * a10;
  if ( v37 <= 0.0 )
    v38 = v37 - 0.5;
  else
    v38 = v37 + 0.5;
  return v40 == v36 && v41 == v28 + (unsigned int)(signed __int64)v38 && v16 < 90.0;
}

//----- (10026FF0) --------------------------------------------------------
double __cdecl sub_10026FF0(double a1)
{
  double result; // st7@1
  char v3; // c0@1

  result = a1;
  if ( v3 )
  {
    if ( a1 <= -90.0 )
    {
      do
        result = result + 180.0;
      while ( result <= -90.0 );
    }
  }
  else if ( a1 >= 90.0 )
  {
    do
      result = result - 180.0;
    while ( result >= 90.0 );
  }
  return result;
}

//----- (10027050) --------------------------------------------------------
int __cdecl sub_10027050(int a1, int a2)
{
  int v2; // esi@1
  int v3; // edi@1
  int v4; // ebx@1
  int v5; // edx@1
  signed int v6; // ebp@1
  int v7; // eax@4
  int result; // eax@11
  int v9; // [sp+18h] [bp-8h]@1

  v2 = *(_DWORD *)(a2 + 4);
  v3 = *(_DWORD *)a2;
  v4 = *(_DWORD *)(a2 + 4);
  v9 = *(_DWORD *)a2;
  v5 = a2 + 8;
  v6 = 3;
  do
  {
    if ( *(_DWORD *)v5 < v3 )
      v3 = *(_DWORD *)v5;
    v7 = *(_DWORD *)(v5 + 4);
    if ( v7 < v2 )
      v2 = *(_DWORD *)(v5 + 4);
    if ( *(_DWORD *)v5 > v9 )
      v9 = *(_DWORD *)v5;
    if ( v7 > v4 )
      v4 = *(_DWORD *)(v5 + 4);
    v5 += 8;
    --v6;
  }
  while ( v6 );
  result = a1;
  *(_DWORD *)a1 = v3;
  *(_DWORD *)(a1 + 4) = v2;
  *(_DWORD *)(a1 + 8) = v9;
  *(_DWORD *)(a1 + 12) = v4;
  return result;
}

//----- (100270C0) --------------------------------------------------------
int __cdecl sub_100270C0(int a1, int a2, int a3)
{
  int v3; // ST2C_4@1
  int v4; // ST30_4@1
  int v5; // ST38_4@1
  int v6; // eax@1
  int v7; // ST34_4@1
  int v8; // edx@1
  int v9; // ecx@1
  int v10; // eax@1
  double v11; // st7@1
  int v12; // edx@1
  int v13; // eax@1
  double v14; // st7@1
  int v15; // edx@1
  int v16; // eax@1
  double v17; // st7@1
  int v18; // edx@1
  int v19; // eax@1
  int v20; // edx@1
  int v21; // eax@1
  int v22; // ecx@1
  int v23; // edx@1
  int v24; // edi@1
  int result; // eax@1
  int v26; // ecx@1
  char v27; // [sp+34h] [bp-30h]@1
  int v28; // [sp+40h] [bp-24h]@1
  int v29; // [sp+44h] [bp-20h]@1
  int v30; // [sp+48h] [bp-1Ch]@1
  int v31; // [sp+4Ch] [bp-18h]@1
  int v32; // [sp+50h] [bp-14h]@1
  int v33; // [sp+54h] [bp-10h]@1
  int v34; // [sp+58h] [bp-Ch]@1
  int v35; // [sp+5Ch] [bp-8h]@1
  int v36; // [sp+60h] [bp-4h]@1

  v3 = *(_DWORD *)(a3 + 32);
  v4 = *(_DWORD *)(a3 + 36);
  v5 = *(_DWORD *)(a3 + 44);
  v6 = *(_DWORD *)(a3 + 64);
  v7 = *(_DWORD *)(a3 + 40);
  v8 = *(_DWORD *)(a3 + 60);
  *(_DWORD *)(a3 + 32) = *(_DWORD *)(a3 + 56);
  v9 = *(_DWORD *)(a3 + 68);
  *(_DWORD *)(a3 + 40) = v6;
  *(_DWORD *)(a3 + 36) = v8;
  *(_DWORD *)(a3 + 44) = v9;
  v10 = sub_100268A0((double)*(signed int *)a2, (double)*(signed int *)(a2 + 4), a3);
  v11 = (double)*(signed int *)(a2 + 12);
  v29 = v10;
  v30 = v12;
  v13 = sub_100268A0((double)*(signed int *)(a2 + 8), v11, a3);
  v14 = (double)*(signed int *)(a2 + 4);
  v31 = v13;
  v32 = v15;
  v16 = sub_100268A0((double)*(signed int *)(a2 + 8), v14, a3);
  v17 = (double)*(signed int *)(a2 + 12);
  v33 = v16;
  v34 = v18;
  v19 = sub_100268A0((double)*(signed int *)a2, v17, a3);
  v36 = v20;
  v35 = v19;
  v21 = sub_10027050((int)&v27, (int)&v29);
  v22 = *(_DWORD *)v21;
  v23 = *(_DWORD *)(v21 + 4);
  v24 = *(_DWORD *)(v21 + 8);
  v28 = *(_DWORD *)(v21 + 12);
  *(_DWORD *)(a3 + 32) = v3;
  *(_DWORD *)(a3 + 36) = v4;
  *(_DWORD *)(a3 + 40) = v7;
  result = a1;
  *(_DWORD *)(a3 + 44) = v5;
  *(_DWORD *)a1 = v22;
  v26 = v28;
  *(_DWORD *)(a1 + 4) = v23;
  *(_DWORD *)(a1 + 8) = v24;
  *(_DWORD *)(a1 + 12) = v26;
  return result;
}

//----- (100271F0) --------------------------------------------------------
int __cdecl sub_100271F0(int a1, int a2, int a3, int a4, int a5, float a6, float a7)
{
  int v7; // ebx@1
  int v8; // ecx@1
  int v9; // edx@1
  double v10; // st7@1
  unsigned __int8 v12; // c0@1
  unsigned __int8 v13; // c3@1
  double v14; // st7@2
  double v15; // st7@4
  double v16; // st7@5
  int v17; // edx@7
  double v18; // st7@7
  unsigned __int8 v20; // c0@7
  unsigned __int8 v21; // c3@7
  double v22; // st7@8
  double v23; // st7@10
  double v24; // st7@11
  int v25; // edx@13
  double v26; // st7@13
  unsigned __int8 v28; // c0@13
  unsigned __int8 v29; // c3@13
  double v30; // st7@14
  double v31; // st7@16
  double v32; // st7@17
  double v33; // st7@19
  double v34; // st6@20
  double v35; // st6@22
  double v36; // st6@23
  signed __int64 v37; // rax@25
  double v38; // st6@25
  double v39; // st6@26
  double v40; // st6@28
  double v41; // st6@29
  signed __int64 v42; // rax@31
  double v43; // st6@31
  double v44; // st6@32
  double v45; // st6@34
  double v46; // st6@35
  signed __int64 v47; // rax@37
  double v48; // st6@37
  double v49; // st6@38
  double v50; // st6@40
  double v51; // st6@41
  double v52; // st7@44
  double v53; // st7@46
  double v54; // st7@47
  int v55; // eax@49
  float v57; // [sp+28h] [bp-3Ch]@13
  float v58; // [sp+2Ch] [bp-38h]@7
  float v59; // [sp+30h] [bp-34h]@1
  int v60; // [sp+34h] [bp-30h]@1
  int v61; // [sp+38h] [bp-2Ch]@1
  int v62; // [sp+44h] [bp-20h]@7
  int v63; // [sp+48h] [bp-1Ch]@13
  int v64; // [sp+4Ch] [bp-18h]@19
  int v65; // [sp+50h] [bp-14h]@25
  int v66; // [sp+54h] [bp-10h]@31
  int v67; // [sp+58h] [bp-Ch]@37
  int v68; // [sp+5Ch] [bp-8h]@43
  int v69; // [sp+60h] [bp-4h]@49

  v7 = sub_100268A0((double)a4 * a6, (double)a5 * a7, a3);
  v8 = *(_DWORD *)a2;
  v60 = v7;
  v61 = v9;
  v10 = (double)(v8 - a4) * a6;
  v59 = v10;
  if ( v12 | v13 )
    v14 = v10 - 0.5;
  else
    v14 = v10 + 0.5;
  v15 = (double)(signed int)(v7 + (unsigned __int64)(signed __int64)v14) / a6;
  if ( v15 <= 0.0 )
    v16 = v15 - 0.5;
  else
    v16 = v15 + 0.5;
  v17 = *(_DWORD *)(a2 + 4) - a5;
  v62 = (signed __int64)v16;
  v18 = (double)v17 * a7;
  v58 = v18;
  if ( v20 | v21 )
    v22 = v18 - 0.5;
  else
    v22 = v18 + 0.5;
  v23 = (double)(signed int)(v61 + (unsigned __int64)(signed __int64)v22) / a7;
  if ( v23 <= 0.0 )
    v24 = v23 - 0.5;
  else
    v24 = v23 + 0.5;
  v25 = *(_DWORD *)(a2 + 8);
  v63 = (signed __int64)v24;
  v26 = (double)(v25 - a4) * a6;
  v57 = v26;
  if ( v28 | v29 )
    v30 = v26 - 0.5;
  else
    v30 = v26 + 0.5;
  v31 = (double)(signed int)(v60 + (unsigned __int64)(signed __int64)v30) / a6;
  if ( v31 <= 0.0 )
    v32 = v31 - 0.5;
  else
    v32 = v31 + 0.5;
  v64 = (signed __int64)v32;
  v33 = (double)(*(_DWORD *)(a2 + 12) - a5) * a7;
  if ( v33 <= 0.0 )
    v34 = v33 - 0.5;
  else
    v34 = v33 + 0.5;
  v35 = (double)(signed int)(v61 + (unsigned __int64)(signed __int64)v34) / a7;
  if ( v35 <= 0.0 )
    v36 = v35 - 0.5;
  else
    v36 = v35 + 0.5;
  v37 = (signed __int64)v36;
  v38 = v57;
  v65 = v37;
  if ( v57 <= 0.0 )
    v39 = v38 - 0.5;
  else
    v39 = v38 + 0.5;
  v40 = (double)(signed int)(v60 + (unsigned __int64)(signed __int64)v39) / a6;
  if ( v40 <= 0.0 )
    v41 = v40 - 0.5;
  else
    v41 = v40 + 0.5;
  v42 = (signed __int64)v41;
  v43 = v58;
  v66 = v42;
  if ( v58 <= 0.0 )
    v44 = v43 - 0.5;
  else
    v44 = v43 + 0.5;
  v45 = (double)(signed int)(v61 + (unsigned __int64)(signed __int64)v44) / a7;
  if ( v45 <= 0.0 )
    v46 = v45 - 0.5;
  else
    v46 = v45 + 0.5;
  v47 = (signed __int64)v46;
  v48 = v59;
  v67 = v47;
  if ( v59 <= 0.0 )
    v49 = v48 - 0.5;
  else
    v49 = v48 + 0.5;
  v50 = (double)(signed int)(v60 + (unsigned __int64)(signed __int64)v49) / a6;
  if ( v50 <= 0.0 )
    v51 = v50 - 0.5;
  else
    v51 = v50 + 0.5;
  v68 = (signed __int64)v51;
  if ( v33 <= 0.0 )
    v52 = v33 - 0.5;
  else
    v52 = v33 + 0.5;
  v53 = (double)(signed int)(v61 + (unsigned __int64)(signed __int64)v52) / a7;
  if ( v53 <= 0.0 )
    v54 = v53 - 0.5;
  else
    v54 = v53 + 0.5;
  v69 = (signed __int64)v54;
  v55 = sub_10027050((int)&v60, (int)&v62);
  *(_DWORD *)a1 = *(_DWORD *)v55;
  *(_DWORD *)(a1 + 4) = *(_DWORD *)(v55 + 4);
  *(_DWORD *)(a1 + 8) = *(_DWORD *)(v55 + 8);
  *(_DWORD *)(a1 + 12) = *(_DWORD *)(v55 + 12);
  return a1;
}

//----- (10027560) --------------------------------------------------------
int __thiscall sub_10027560(int this, char a2, __int16 a3, _WORD *a4)
{
  int v4; // esi@1
  signed int v5; // eax@1
  signed int v6; // ecx@2

  v4 = this;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)this = &off_1008FA5C;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)(this + 28) = -1;
  *(_WORD *)(this + 24) = 0;
  *(_BYTE *)(this + 32) = 0;
  *(_DWORD *)(this + 36) = 13;
  sub_10015540(this + 40);
  *(_DWORD *)v4 = &off_1008F874;
  *(_BYTE *)(v4 + 56) = -1;
  *(_DWORD *)(v4 + 60) = 0;
  sub_1001A0A0(v4 + 64);
  *(_DWORD *)v4 = &off_1008F998;
  *(_DWORD *)(v4 + 92) = 0;
  *(_WORD *)(v4 + 96) = 0;
  v5 = sub_10027670(v4, a3, a4);
  if ( v5 != 1 )
  {
    v6 = 0;
    dword_109D19B4 = 0;
    dword_109D19B0 = 0;
    dword_109D19B8 = 0;
    if ( &dword_109D19B0 )
    {
      v6 = v5;
      LOWORD(dword_109D19B4) = 9;
      dword_109D19B0 = v5;
      dword_109D19B8 = 0;
    }
    if ( v6 < 0 )
      unknown_libname_4(v6);
  }
  *(_DWORD *)(v4 + 100) = 2;
  *(_BYTE *)(v4 + 98) = a2;
  if ( !a2 )
    *(_DWORD *)(v4 + 60) = 1;
  return v4;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 1008F874: using guessed type int (__thiscall *off_1008F874)(void *, char);
// 1008F998: using guessed type int (__thiscall *off_1008F998)(void *, char);
// 1008FA5C: using guessed type int (__thiscall *off_1008FA5C)(void *, char);
// 109D19B0: using guessed type int dword_109D19B0;
// 109D19B4: using guessed type int dword_109D19B4;
// 109D19B8: using guessed type int dword_109D19B8;

//----- (10027670) --------------------------------------------------------
signed int __thiscall sub_10027670(int this, __int16 a2, _WORD *a3)
{
  int v3; // esi@1
  void *v5; // edi@5
  _WORD *v6; // eax@7
  signed int v7; // ecx@8
  int v8; // edx@9

  v3 = this;
  if ( a2 < 2 )
    return -9;
  if ( *(_DWORD *)(this + 92) )
    j__free(*(void **)(this + 92));
  v5 = operator new(8 * a2);
  *(_DWORD *)(v3 + 92) = v5;
  if ( !v5 )
    return -1;
  *(_WORD *)(v3 + 96) = a2;
  v6 = a3;
  if ( !a3 )
  {
    memset(v5, 0, 8 * a2);
    return 1;
  }
  v7 = 0;
  if ( a2 <= 0 )
    return 1;
  do
  {
    v8 = *v6;
    v6 += 2;
    *(_DWORD *)(*(_DWORD *)(v3 + 92) + 8 * v7) = v8;
    *(_DWORD *)(*(_DWORD *)(v3 + 92) + 8 * v7++ + 4) = *(v6 - 1);
  }
  while ( v7 < a2 );
  return 1;
}

//----- (10027730) --------------------------------------------------------
signed int __thiscall sub_10027730(void *this, __int16 a2, _WORD *a3)
{
  return sub_10027670((int)this, a2, a3);
}

//----- (10027750) --------------------------------------------------------
int __thiscall sub_10027750(int this, float a2, float a3)
{
  int v3; // edx@1
  int result; // eax@1
  int v5; // edx@2
  int v6; // eax@4
  int v7; // eax@5
  int v8; // eax@6
  int v9; // [sp+0h] [bp-Ch]@1
  int v10; // [sp+4h] [bp-8h]@1
  int v11; // [sp+8h] [bp-4h]@1

  v9 = dword_109D1864;
  v10 = dword_109D1868;
  v3 = *(_DWORD *)(this + 104);
  result = 0;
  v11 = 0;
  if ( v3 )
  {
    v5 = v3 - 1;
    if ( v5 )
    {
      if ( v5 == 1 )
      {
        HIWORD(v6) = HIWORD(a2);
        LOWORD(v6) = *(_WORD *)(this + 96);
        sub_1003C650(v6, *(_DWORD *)(this + 92), a2, a3, (int)&v9);
        result = v11;
      }
    }
    else
    {
      v7 = *(_DWORD *)(this + 92);
      LOWORD(this) = *(_WORD *)(this + 96);
      sub_1003C310(this, v7, a2, a3, (int)&v9);
      result = v11;
    }
  }
  else
  {
    v8 = *(_DWORD *)(this + 92);
    LOWORD(this) = *(_WORD *)(this + 96);
    sub_1003BFF0(this, v8, a2, a3, (int)&v9);
    result = v11;
  }
  return result;
}
// 109D1864: using guessed type int dword_109D1864;
// 109D1868: using guessed type int dword_109D1868;

//----- (10027800) --------------------------------------------------------
int __thiscall sub_10027800(int this, int a2, _WORD *a3, int a4, char a5, int a6)
{
  int v6; // esi@1
  void *v7; // edi@5
  _WORD *v8; // eax@5
  int i; // ecx@6
  int v10; // edx@7
  int v11; // eax@9
  int v12; // ecx@9
  int v13; // edx@9
  int v14; // edi@10
  int v15; // eax@11
  int v16; // ecx@11
  int v17; // edx@11
  int v18; // edi@12

  v6 = this;
  *(_DWORD *)this = a2;
  *(_DWORD *)(this + 8) = a4;
  *(_BYTE *)(this + 12) = a5;
  *(_DWORD *)(this + 16) = a6;
  *(_BYTE *)(this + 20) = 1;
  if ( a5 )
  {
    if ( a2 != 2 )
    {
      dword_109D19B4 = 0;
      dword_109D19B0 = 0;
      dword_109D19B8 = 0;
      if ( &dword_109D19B0 )
      {
        LOWORD(dword_109D19B4) = 17;
        dword_109D19B0 = -9;
        dword_109D19B8 = 0;
        unknown_libname_4(-9);
      }
    }
  }
  v7 = operator new(8 * *(_DWORD *)v6);
  v8 = a3;
  *(_DWORD *)(v6 + 4) = v7;
  if ( a3 )
  {
    for ( i = 0; i < a2; ++i )
    {
      v10 = *v8;
      v8 += 2;
      *(_DWORD *)(*(_DWORD *)(v6 + 4) + 8 * i) = v10;
      *(_DWORD *)(*(_DWORD *)(v6 + 4) + 8 * i + 4) = *(v8 - 1);
    }
    if ( a5 )
    {
      v11 = *(_DWORD *)(v6 + 4);
      v12 = *(_DWORD *)v11;
      v13 = *(_DWORD *)(v11 + 8);
      if ( *(_DWORD *)v11 > v13 )
      {
        *(_DWORD *)v11 = v13 ^ v12;
        v14 = v13 ^ v12 ^ *(_DWORD *)(v11 + 8);
        *(_DWORD *)(v11 + 8) = v14;
        *(_DWORD *)v11 ^= v14;
      }
      v15 = *(_DWORD *)(v6 + 4);
      v16 = *(_DWORD *)(v15 + 4);
      v17 = *(_DWORD *)(v15 + 12);
      if ( v16 > v17 )
      {
        *(_DWORD *)(v15 + 4) = v17 ^ v16;
        v18 = v17 ^ v16 ^ *(_DWORD *)(v15 + 12);
        *(_DWORD *)(v15 + 12) = v18;
        *(_DWORD *)(v15 + 4) ^= v18;
        return v6;
      }
    }
  }
  else
  {
    memset(v7, 0, 4 * ((unsigned int)(8 * a2) >> 2));
  }
  return v6;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 109D19B0: using guessed type int dword_109D19B0;
// 109D19B4: using guessed type int dword_109D19B4;
// 109D19B8: using guessed type int dword_109D19B8;

//----- (10027930) --------------------------------------------------------
int __thiscall sub_10027930(int this, int a2, int a3, char a4, int a5, char a6, int a7)
{
  int v7; // esi@1
  int result; // eax@5

  v7 = this;
  *(_DWORD *)(this + 8) = a5;
  *(_DWORD *)(this + 16) = a7;
  *(_DWORD *)this = a2;
  *(_BYTE *)(this + 12) = a6;
  *(_BYTE *)(this + 20) = a4;
  if ( !a6 )
  {
LABEL_6:
    *(_DWORD *)(v7 + 4) = a3;
    return v7;
  }
  if ( a2 != 2 )
  {
    dword_109D19B4 = 0;
    dword_109D19B0 = 0;
    dword_109D19B8 = 0;
    if ( !&dword_109D19B0 )
    {
      result = this;
      *(_DWORD *)(this + 4) = a3;
      return result;
    }
    LOWORD(dword_109D19B4) = 17;
    dword_109D19B0 = -9;
    dword_109D19B8 = 0;
    unknown_libname_4(-9);
    goto LABEL_6;
  }
  result = this;
  *(_DWORD *)(this + 4) = a3;
  return result;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 109D19B0: using guessed type int dword_109D19B0;
// 109D19B4: using guessed type int dword_109D19B4;
// 109D19B8: using guessed type int dword_109D19B8;

//----- (100279D0) --------------------------------------------------------
int __thiscall sub_100279D0(int this, char *a2, int a3)
{
  int v3; // esi@1
  void *v4; // edi@1
  void *v5; // eax@2
  int v6; // eax@2
  _DWORD *v7; // eax@5
  _DWORD *v8; // edx@5
  _DWORD *v9; // ebp@5
  _DWORD *v10; // eax@5
  _DWORD *i; // ecx@5
  int v12; // ecx@9
  int v13; // eax@11
  _DWORD *v15; // [sp+Ch] [bp-14h]@5

  v3 = this;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)(this + 28) = -1;
  *(_WORD *)(this + 24) = 0;
  *(_BYTE *)(this + 32) = 0;
  *(_DWORD *)(this + 36) = 13;
  *(_BYTE *)(this + 48) = 0;
  *(_WORD *)(this + 50) = 1;
  *(_BYTE *)(this + 52) = 0;
  *(_BYTE *)(this + 53) = 0;
  *(_WORD *)(this + 54) = 0;
  *(_BYTE *)(this + 56) = 1;
  *(_DWORD *)(this + 60) = 0;
  *(_BYTE *)(this + 64) = 44;
  *(_BYTE *)(this + 65) = 0;
  *(_WORD *)(this + 66) = 0;
  *(_WORD *)(this + 68) = 10;
  *(_BYTE *)(this + 70) = 0;
  *(_BYTE *)(this + 71) = 0;
  *(_BYTE *)(this + 72) = 0;
  *(_WORD *)(this + 74) = 0;
  *(_BYTE *)(this + 73) = 12;
  *(_WORD *)(this + 76) = -1;
  *(_WORD *)(this + 78) = 1;
  *(_WORD *)(this + 80) = 0;
  *(_DWORD *)(this + 84) = 0;
  *(_WORD *)(this + 88) = 10;
  *(_WORD *)(this + 90) = 0;
  *(_DWORD *)(this + 92) = 1065353216;
  *(_DWORD *)this = &off_1008FB90;
  v4 = operator new(0x10u);
  if ( v4 )
  {
    *(_BYTE *)v4 = a3;
    v5 = operator new(0);
    *((_DWORD *)v4 + 1) = v5;
    *((_DWORD *)v4 + 2) = v5;
    *((_DWORD *)v4 + 3) = v5;
    v6 = a3;
    if ( (unsigned int)a3 > 0 )
    {
      if ( a3 < 0 )
        v6 = 0;
      v7 = operator new(4 * v6);
      v8 = (_DWORD *)*((_DWORD *)v4 + 2);
      v9 = v7;
      v10 = (_DWORD *)*((_DWORD *)v4 + 1);
      v15 = v9;
      for ( i = v9; v10 != v8; ++i )
      {
        if ( i )
        {
          *i = *v10;
          v9 = v15;
        }
        ++v10;
      }
      j__free(*((void **)v4 + 1));
      v12 = *((_DWORD *)v4 + 1);
      *((_DWORD *)v4 + 3) = &v9[a3];
      if ( v12 )
      {
        v13 = *((_DWORD *)v4 + 2);
        *((_DWORD *)v4 + 1) = v9;
        *((_DWORD *)v4 + 2) = &v9[(v13 - v12) >> 2];
      }
      else
      {
        *((_DWORD *)v4 + 1) = v9;
        *((_DWORD *)v4 + 2) = v9;
      }
    }
  }
  else
  {
    v4 = 0;
  }
  *(_DWORD *)(v3 + 44) = v4;
  sub_1001DF80((void *)v3, a2);
  *(_DWORD *)(v3 + 352) = 0;
  *(_BYTE *)(v3 + 356) = 0;
  *(_DWORD *)(v3 + 40) = 0;
  *(_DWORD *)(v3 + 360) = 0;
  *(_DWORD *)(v3 + 364) = 0;
  *(_DWORD *)(v3 + 368) = 0;
  *(_DWORD *)(v3 + 372) = 0;
  return v3;
}
// 1008FB90: using guessed type int (__thiscall *off_1008FB90)(void *, char);

//----- (10027BA0) --------------------------------------------------------
_DWORD *__thiscall sub_10027BA0(_DWORD *this, char *a2, int a3)
{
  _DWORD *v3; // esi@1
  _BYTE *v4; // eax@1
  _BYTE *v5; // edi@1
  void *v6; // eax@2
  char v8; // [sp+Fh] [bp-15h]@0

  v3 = this;
  sub_100279D0((int)this, a2, a3);
  sub_1001E460((int)(v3 + 94));
  v3[104] = 0;
  v3[106] = 0;
  v3[108] = 0;
  v3[110] = 0;
  v3[112] = 0;
  v3[114] = 0;
  v3[116] = 0;
  v3[118] = 0;
  v3[120] = 0;
  v3[105] = 0;
  v3[107] = 0;
  v3[109] = 0;
  v3[111] = 0;
  v3[113] = 0;
  v3[115] = 0;
  v3[117] = 0;
  v3[119] = 0;
  v3[121] = 0;
  *v3 = &off_1008FBF8;
  v4 = operator new(0x14u);
  v5 = v4;
  if ( v4 )
  {
    *v4 = v8;
    v6 = operator new(0);
    *((_DWORD *)v5 + 1) = v6;
    *((_DWORD *)v5 + 2) = v6;
    *((_DWORD *)v5 + 3) = v6;
    *((_DWORD *)v5 + 4) = 0;
  }
  else
  {
    v5 = 0;
  }
  v3[101] = v5;
  *((_BYTE *)v3 + 412) = 0;
  v3[102] = 0;
  v3[10] = v3;
  return v3;
}
// 1008FBF8: using guessed type int (__thiscall *off_1008FBF8)(void *, char);

//----- (10027CD0) --------------------------------------------------------
int __thiscall sub_10027CD0(int this, int a2, int a3, int a4, long double *a5, const char *a6, int a7, int *a8, signed int a9)
{
  int v9; // ebx@1
  int v10; // eax@1
  int v11; // ecx@2
  int v12; // esi@6
  int v13; // edx@8
  int v14; // eax@8
  long double v15; // st7@10
  signed int v16; // edi@10
  long double v18; // [sp+Ch] [bp-28h]@10
  long double v19; // [sp+1Ch] [bp-18h]@10

  v9 = this;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)(this + 28) = -1;
  *(_WORD *)(this + 24) = 0;
  *(_BYTE *)(this + 32) = 0;
  *(_DWORD *)(this + 36) = 13;
  *(_DWORD *)(this + 72) = 0;
  *(_DWORD *)(this + 76) = 0;
  *(_DWORD *)(this + 92) = 0;
  *(_DWORD *)(this + 80) = 0;
  *(_DWORD *)(this + 84) = 0;
  *(_DWORD *)(this + 88) = 0;
  *(_DWORD *)(this + 96) = -1;
  *(_DWORD *)(this + 100) = 0;
  *(_DWORD *)this = &off_1008F694;
  strcpy((char *)(this + 108), a6);
  *(_BYTE *)(this + 368) = 1;
  v10 = sub_10027E80(this, (char *)a6, a7, a8, a9);
  if ( v10 != 1 )
  {
    v11 = 0;
    dword_109D19B4 = 0;
    dword_109D19B0 = 0;
    dword_109D19B8 = 0;
    if ( &dword_109D19B0 )
    {
      v11 = v10;
      LOWORD(dword_109D19B4) = 16;
      dword_109D19B0 = v10;
      dword_109D19B8 = 0;
    }
    if ( v11 < 0 )
      unknown_libname_4(v11);
  }
  v12 = v9 + 48;
  *(_DWORD *)(v9 + 40) = a2;
  *(_DWORD *)(v9 + 44) = a3;
  *(_DWORD *)(v9 + 48) = a2;
  if ( a4 )
  {
    *(_DWORD *)(v9 + 52) = a3 + *(_DWORD *)(a4 + 4);
    *(_DWORD *)(v9 + 56) = a2 + *(_DWORD *)a4;
    *(_DWORD *)(v9 + 60) = a3 + *(_DWORD *)(a4 + 4);
    *(_DWORD *)(v9 + 64) = a2 + *(_DWORD *)a4;
  }
  else
  {
    v13 = a3 + *(_DWORD *)(v9 + 76);
    v14 = *(_DWORD *)(v9 + 72) + a2;
    *(_DWORD *)(v9 + 52) = v13;
    *(_DWORD *)(v9 + 56) = v14;
    *(_DWORD *)(v9 + 60) = v13;
    *(_DWORD *)(v9 + 64) = v14;
  }
  *(_DWORD *)(v9 + 68) = a3;
  if ( a5 )
  {
    v15 = *a5;
    v16 = 3;
    v19 = cos(v15);
    v18 = sin(v15);
    do
    {
      sub_10026A20(*(_DWORD *)(v9 + 40), *(_DWORD *)(v9 + 44), v12, v19, v18);
      v12 += 8;
      --v16;
    }
    while ( v16 );
  }
  return v9;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 1008F694: using guessed type int (__thiscall *off_1008F694)(void *, char);
// 109D19B0: using guessed type int dword_109D19B0;
// 109D19B4: using guessed type int dword_109D19B4;
// 109D19B8: using guessed type int dword_109D19B8;

//----- (10027E80) --------------------------------------------------------
int __thiscall sub_10027E80(int this, char *a2, int a3, int *a4, signed int a5)
{
  int v5; // esi@1
  int result; // eax@1

  *(_DWORD *)(this + 364) = a5;
  v5 = this + 72;
  result = sub_10041400(a2, a3, (int)a4, this + 104, this + 72);
  if ( result == 1 )
  {
    result = sub_10027EE0(v5, a5, a3, *a4);
    if ( result == 1 )
      result = sub_10016270((int)&dword_109D17F0);
  }
  return result;
}
// 109D17F0: using guessed type int dword_109D17F0;

//----- (10027EE0) --------------------------------------------------------
int __thiscall sub_10027EE0(int this, signed int a2, unsigned int a3, int a4)
{
  int v4; // esi@1
  signed int v5; // ebx@2
  bool v6; // zf@2
  int result; // eax@4
  int v8; // edi@9

  v4 = this;
  if ( *(_DWORD *)(this + 8) )
  {
    v5 = a2;
    v6 = a2 == -1;
    *(_DWORD *)(this + 28) = ((*(_DWORD *)this * *(_DWORD *)(this + 20) + 7) >> 3)
                           + (((*(_DWORD *)this * *(_DWORD *)(this + 20) + 7) >> 3) & 1);
    if ( v6 )
    {
LABEL_18:
      *(_DWORD *)(this + 24) = -1;
LABEL_19:
      result = 1;
    }
    else
    {
      switch ( 0 )
      {
        case 24:
        case 32:
          *(_DWORD *)(this + 24) = v5;
          return 1;
        case 15:
          *(_DWORD *)(this + 24) = (v5 & 0xF8 | ((v5 & 0xF800 | (v5 >> 3) & 0x1F0000) >> 3)) >> 3;
          return 1;
        case 16:
          *(_DWORD *)(this + 24) = (v5 & 0xF8 | ((v5 & 0xFC00 | (v5 >> 3) & 0x1F0000) >> 2)) >> 3;
          return 1;
        case 8:
          if ( !a3 )
            goto LABEL_18;
          result = sub_1003E870(a4, a3, (int)&a3, &a2);
          if ( result != 1 )
            return result;
          v8 = sub_1003F840();
          if ( v8 == 1 )
          {
            v6 = (_BYTE)a2 == 0;
            *(_DWORD *)(v4 + 24) = a4;
            if ( v6 )
              goto LABEL_19;
            if ( !a3 )
              goto LABEL_19;
            result = sub_1003DFA0(a3);
            if ( result == 1 )
              goto LABEL_19;
          }
          else
          {
            if ( (_BYTE)a2 )
            {
              if ( a3 )
                sub_1003DFA0(a3);
            }
            result = v8;
          }
          break;
        default:
          goto LABEL_20;
      }
    }
  }
  else
  {
LABEL_20:
    result = -9;
  }
  return result;
}

//----- (100280A0) --------------------------------------------------------
int __thiscall sub_100280A0(void *this, int a2, int a3, signed int a4, _DWORD *a5, char *a6, int a7, int a8, int a9)
{
  int v9; // ebp@2
  int v10; // edx@7
  signed int *v11; // esi@7
  int v12; // ecx@7
  int v13; // edi@8
  char *v14; // eax@8
  int v15; // ebx@10
  int result; // eax@21
  int v17; // ebx@30
  int v18; // ebx@32
  int v19; // eax@34
  int v20; // edi@39
  int v21; // eax@39
  int i; // ecx@40
  int v23; // eax@51
  signed int v24; // ecx@51
  int j; // edi@51
  signed int v26; // ebp@62
  signed int v27; // edi@63
  int *v28; // ebp@72
  int v29; // edi@74
  int v30; // edi@78
  int v31; // edi@82
  int v32; // edi@86
  int v33; // [sp+10h] [bp-3Ch]@7
  int v34; // [sp+14h] [bp-38h]@7
  signed int v35; // [sp+14h] [bp-38h]@45
  signed int k; // [sp+14h] [bp-38h]@56
  int v37; // [sp+18h] [bp-34h]@1
  char *v38; // [sp+1Ch] [bp-30h]@7
  char *v39; // [sp+20h] [bp-2Ch]@7
  char *v40; // [sp+24h] [bp-28h]@7
  char *v41; // [sp+28h] [bp-24h]@7
  char *v42; // [sp+2Ch] [bp-20h]@7
  int v43; // [sp+30h] [bp-1Ch]@7
  int v44; // [sp+34h] [bp-18h]@32
  signed int v45; // [sp+3Ch] [bp-10h]@7
  int v46; // [sp+48h] [bp-4h]@44
  int v47; // [sp+48h] [bp-4h]@45
  int v48; // [sp+50h] [bp+4h]@75
  int v49; // [sp+50h] [bp+4h]@79
  int v50; // [sp+50h] [bp+4h]@83
  int v51; // [sp+50h] [bp+4h]@87
  int v52; // [sp+58h] [bp+Ch]@75
  int v53; // [sp+58h] [bp+Ch]@79
  int v54; // [sp+58h] [bp+Ch]@83
  int v55; // [sp+58h] [bp+Ch]@87
  int v56; // [sp+5Ch] [bp+10h]@75
  int v57; // [sp+5Ch] [bp+10h]@79
  int v58; // [sp+5Ch] [bp+10h]@83
  int v59; // [sp+5Ch] [bp+10h]@87
  int v60; // [sp+60h] [bp+14h]@8
  int v61; // [sp+60h] [bp+14h]@28
  int v62; // [sp+64h] [bp+18h]@75
  int v63; // [sp+64h] [bp+18h]@79
  int v64; // [sp+64h] [bp+18h]@83
  int v65; // [sp+64h] [bp+18h]@87
  int v66; // [sp+68h] [bp+1Ch]@75
  int v67; // [sp+68h] [bp+1Ch]@79
  int v68; // [sp+68h] [bp+1Ch]@83
  int v69; // [sp+68h] [bp+1Ch]@87

  v37 = (int)this;
  if ( a5 && (v9 = (int)a6) != 0 && a7 && a8 && a3 && *(_DWORD *)a3 )
  {
    v10 = *(_DWORD *)a6;
    v42 = *(char **)(a3 + 4);
    v41 = *(char **)(a3 + 8);
    v40 = *(char **)(a3 + 12);
    v39 = *(char **)(a3 + 16);
    v11 = *(signed int **)(a3 + 20);
    v45 = 0;
    v38 = *(char **)(a3 + 24);
    v12 = *a5;
    v43 = *(_DWORD *)a6;
    v33 = *(_DWORD *)a6;
    v34 = *a5;
    if ( a4 > 1 )
    {
      v13 = a6 - (char *)a5;
      v60 = a4 - 1;
      v14 = (char *)(a5 + 1);
      while ( 1 )
      {
        v15 = *(_DWORD *)&v14[v13];
        if ( v15 < v10 )
          v10 = *(_DWORD *)&v14[v13];
        if ( v15 > v33 )
          v33 = *(_DWORD *)&v14[v13];
        if ( *(_DWORD *)v14 < v12 )
          v12 = *(_DWORD *)v14;
        if ( *(_DWORD *)v14 > v34 )
          v34 = *(_DWORD *)v14;
        v14 += 4;
        if ( !--v60 )
          break;
        v13 = v9 - (_DWORD)a5;
      }
      v43 = v10;
    }
    if ( v33 >= *(_DWORD *)(a2 + 24) )
    {
      if ( v10 <= *(_DWORD *)(a2 + 32) )
      {
        if ( v34 >= *(_DWORD *)(a2 + 20) )
        {
          if ( v12 <= *(_DWORD *)(a2 + 28) )
          {
            v61 = v10;
            if ( v10 < *(_DWORD *)(a2 + 24) )
              v61 = *(_DWORD *)(a2 + 24);
            v17 = v33;
            if ( v33 > *(_DWORD *)(a2 + 32) )
              v17 = *(_DWORD *)(a2 + 32);
            v44 = *(_DWORD *)(a2 + 20);
            v18 = v17 - v61 + 1;
            if ( v12 >= *(_DWORD *)(a2 + 20) )
              v44 = v12;
            v19 = v34;
            if ( v34 > *(_DWORD *)(a2 + 28) )
              v19 = *(_DWORD *)(a2 + 28);
            if ( v18 > 4000 || v19 - v44 + 1 > 4000 )
            {
LABEL_91:
              result = -9;
            }
            else
            {
              if ( v10 >= v33 )
              {
                v26 = 0;
                if ( a4 <= 0 )
                {
                  v27 = 0;
                }
                else
                {
                  v27 = 0;
                  do
                  {
                    if ( *a5 < v12 )
                    {
                      v12 = *a5;
                      v45 = v26;
                    }
                    if ( *a5 > v34 )
                    {
                      v34 = *a5;
                      v27 = v26;
                    }
                    ++v26;
                    ++a5;
                  }
                  while ( v26 < a4 );
                }
                *(_DWORD *)v42 = v12;
                *(_DWORD *)v40 = *(_DWORD *)(a7 + 4 * v45);
                *v11 = *(_DWORD *)(a8 + 4 * v45);
                *(_DWORD *)v41 = v34;
                *(_DWORD *)v39 = *(_DWORD *)(a7 + 4 * v27);
                *(_DWORD *)v38 = *(_DWORD *)(a8 + 4 * v27);
              }
              else
              {
                v20 = 0;
                v21 = a4 - 1;
                if ( a4 > 0 )
                {
                  for ( i = 4 * v21; *(_DWORD *)(i + v9) != v10 || *(_DWORD *)(v9 + 4 * v20) <= v10; i = v46 )
                  {
                    v21 = v20;
                    v46 = 4 * v20++;
                    if ( v20 >= a4 )
                      break;
                  }
                }
                v47 = v21;
                v35 = a4;
                if ( a4 > 0 )
                {
                  do
                  {
                    if ( v20 >= a4 )
                      v20 = 0;
                    sub_10028720(v21, v20, v61, v18, (int)a5, v9, a7, a8, (int)v42, (int)v40, (int)v11);
                    if ( *(_DWORD *)(v9 + 4 * v20) == v33 )
                      break;
                    v21 = v20++;
                    --v35;
                  }
                  while ( v35 > 0 );
                  v10 = v43;
                }
                v23 = v47;
                v24 = a4;
                for ( j = v47 - 1; v24 > 0; --j )
                {
                  if ( j < 0 )
                    j = a4 - 1;
                  if ( *(_DWORD *)(v9 + 4 * j) > v10 )
                    break;
                  v23 = j;
                  --v24;
                }
                for ( k = a4; k > 0; --k )
                {
                  if ( j < 0 )
                    j = a4 - 1;
                  sub_10028720(v23, j, v61, v18, (int)a5, v9, a7, a8, (int)v41, (int)v39, (int)v38);
                  if ( *(_DWORD *)(v9 + 4 * j) == v33 )
                    break;
                  v23 = j--;
                }
              }
              v28 = (int *)a2;
              result = sub_10041360(*(_DWORD *)a2);
              if ( result == 1 )
              {
                sub_1003DEC0();
                switch ( *(_DWORD *)(v37 + 20) )
                {
                  case 8:
                    v29 = 0;
                    if ( v18 > 0 )
                    {
                      v52 = v38 - (char *)v11;
                      v56 = v39 - (char *)v11;
                      v62 = v40 - (char *)v11;
                      v66 = v41 - (char *)v11;
                      v48 = v42 - (char *)v11;
                      do
                      {
                        sub_10028820(
                          v37,
                          (int)v28,
                          a3,
                          *(signed int *)((char *)v11 + v48),
                          *(signed int *)((char *)v11 + v66),
                          v29++ + v61,
                          *(signed int *)((char *)v11 + v62),
                          *(signed int *)((char *)v11 + v56),
                          *v11,
                          *(signed int *)((char *)v11 + v52),
                          a9);
                        ++v11;
                      }
                      while ( v29 < v18 );
                    }
                    break;
                  case 0xF:
                  case 0x10:
                    v30 = 0;
                    if ( v18 > 0 )
                    {
                      v53 = v38 - (char *)v11;
                      v57 = v39 - (char *)v11;
                      v63 = v40 - (char *)v11;
                      v67 = v41 - (char *)v11;
                      v49 = v42 - (char *)v11;
                      do
                      {
                        sub_10028AA0(
                          v37,
                          (int)v28,
                          a3,
                          *(signed int *)((char *)v11 + v49),
                          *(signed int *)((char *)v11 + v67),
                          v30++ + v61,
                          *(signed int *)((char *)v11 + v63),
                          *(signed int *)((char *)v11 + v57),
                          *v11,
                          *(signed int *)((char *)v11 + v53),
                          a9);
                        ++v11;
                      }
                      while ( v30 < v18 );
                    }
                    break;
                  case 0x18:
                    v31 = 0;
                    if ( v18 > 0 )
                    {
                      v54 = v38 - (char *)v11;
                      v58 = v39 - (char *)v11;
                      v64 = v40 - (char *)v11;
                      v68 = v41 - (char *)v11;
                      v50 = v42 - (char *)v11;
                      do
                      {
                        sub_10028D20(
                          v37,
                          (int)v28,
                          a3,
                          *(signed int *)((char *)v11 + v50),
                          *(signed int *)((char *)v11 + v68),
                          v31++ + v61,
                          *(signed int *)((char *)v11 + v64),
                          *(signed int *)((char *)v11 + v58),
                          *v11,
                          *(signed int *)((char *)v11 + v54),
                          a9);
                        ++v11;
                      }
                      while ( v31 < v18 );
                    }
                    break;
                  case 0x20:
                    v32 = 0;
                    if ( v18 > 0 )
                    {
                      v55 = v38 - (char *)v11;
                      v59 = v39 - (char *)v11;
                      v65 = v40 - (char *)v11;
                      v69 = v41 - (char *)v11;
                      v51 = v42 - (char *)v11;
                      do
                      {
                        sub_10028FC0(
                          v37,
                          (int)v28,
                          a3,
                          *(signed int *)((char *)v11 + v51),
                          *(signed int *)((char *)v11 + v69),
                          v32++ + v61,
                          *(signed int *)((char *)v11 + v65),
                          *(signed int *)((char *)v11 + v59),
                          *v11,
                          *(signed int *)((char *)v11 + v55),
                          a9);
                        ++v11;
                      }
                      while ( v32 < v18 );
                    }
                    break;
                  default:
                    goto LABEL_91;
                }
                result = sub_1003E110();
                if ( result == 1 )
                  result = sub_100413D0(*v28);
              }
            }
          }
          else
          {
            result = 1;
          }
        }
        else
        {
          result = 1;
        }
      }
      else
      {
        result = 1;
      }
    }
    else
    {
      result = 1;
    }
  }
  else
  {
    result = -12;
  }
  return result;
}

//----- (10028720) --------------------------------------------------------
int __stdcall sub_10028720(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11)
{
  int v11; // esi@1
  int v12; // edi@1
  int v13; // ebp@1
  int v14; // ebx@1
  int v15; // edx@1
  signed int v16; // ecx@1
  int v17; // eax@2
  signed int v18; // esi@4
  int result; // eax@6
  int v20; // edx@6
  int v21; // ecx@6
  char *v22; // edx@7
  int v23; // [sp+14h] [bp+4h]@2
  int v24; // [sp+18h] [bp+8h]@1
  int v25; // [sp+18h] [bp+8h]@6
  int v26; // [sp+24h] [bp+14h]@7
  int v27; // [sp+2Ch] [bp+1Ch]@2
  int v28; // [sp+30h] [bp+20h]@2

  v11 = a1;
  v12 = a2;
  v13 = *(_DWORD *)(a8 + 4 * a1);
  v14 = *(_DWORD *)(a7 + 4 * a1);
  v15 = *(_DWORD *)(a6 + 4 * a1);
  v16 = *(_DWORD *)(a6 + 4 * a2) - v15;
  v24 = *(_DWORD *)(a6 + 4 * a1);
  if ( v16 <= 0 )
  {
    v17 = 0;
    v28 = 0;
    v27 = 0;
    v23 = 0;
  }
  else
  {
    v23 = (*(_DWORD *)(a7 + 4 * v12) - v14) / v16;
    v27 = (*(_DWORD *)(a8 + 4 * v12) - v13) / v16;
    v17 = ((*(_DWORD *)(a5 + 4 * v12) - *(_DWORD *)(a5 + 4 * v11)) << 16) / v16;
    v15 = v24;
    v28 = ((*(_DWORD *)(a5 + 4 * v12) - *(_DWORD *)(a5 + 4 * v11)) << 16) / v16;
  }
  v18 = *(_DWORD *)(a5 + 4 * v11) << 16;
  if ( v17 >= 0 )
    v28 = v17 + 1;
  result = a3;
  v20 = v15 - a3;
  v21 = v16 + 1;
  v25 = v20;
  if ( v21 > 0 )
  {
    v26 = v21;
    v22 = (char *)(a11 + 4 * v20);
    result = v25;
    do
    {
      if ( result >= 0 && result < a4 )
      {
        *(_DWORD *)&v22[a10 - a11] = v14;
        *(_DWORD *)v22 = v13;
        *(_DWORD *)&v22[a9 - a11] = v18 >> 16;
      }
      v22 += 4;
      v14 += v23;
      v13 += v27;
      v18 += v28;
      ++result;
      --v26;
    }
    while ( v26 );
  }
  return result;
}

//----- (10028820) --------------------------------------------------------
int __thiscall sub_10028820(int this, int a2, int a3, int a4, int a5, int a6, signed int a7, int a8, signed int a9, int a10, int a11)
{
  int v11; // ebx@1
  int result; // eax@1
  int v13; // esi@4
  int v14; // edx@4
  signed int v15; // ecx@9
  signed int v16; // edi@10
  signed int v17; // ebp@10
  int v18; // eax@13
  int v19; // eax@16
  int v20; // esi@16
  int v21; // ecx@16
  int v22; // ecx@19
  char v23; // al@19
  int v24; // edx@22
  int v25; // edx@22
  int v26; // eax@22
  int v27; // ecx@28
  int v28; // edx@30
  int v29; // edx@30
  char v30; // [sp+13h] [bp-29h]@0
  int v31; // [sp+14h] [bp-28h]@1
  int v32; // [sp+1Ch] [bp-20h]@1
  int v33; // [sp+24h] [bp-18h]@22
  int v34; // [sp+28h] [bp-14h]@22
  int v35; // [sp+2Ch] [bp-10h]@22
  int v36; // [sp+30h] [bp-Ch]@22
  int v37; // [sp+34h] [bp-8h]@22
  int v38; // [sp+38h] [bp-4h]@22
  char v39; // [sp+44h] [bp+8h]@2
  int v40; // [sp+4Ch] [bp+10h]@10
  int v41; // [sp+58h] [bp+1Ch]@10
  int v42; // [sp+5Ch] [bp+20h]@18
  int v43; // [sp+5Ch] [bp+20h]@27

  v11 = this;
  v32 = *(_DWORD *)(this + 8);
  result = *(_DWORD *)(this + 24);
  v31 = *(_DWORD *)(a3 + 28);
  if ( result == -1 )
  {
    v39 = 0;
  }
  else
  {
    v39 = 1;
    v30 = *(_DWORD *)(this + 24);
  }
  v13 = a5;
  v14 = a4;
  if ( a4 <= a5 )
  {
    result = a6;
    if ( a6 >= *(_DWORD *)(a2 + 24) && a6 <= *(_DWORD *)(a2 + 32) )
    {
      result = *(_DWORD *)(a2 + 20);
      if ( a5 >= result && a4 <= *(_DWORD *)(a2 + 28) )
      {
        v15 = a5 - a4;
        if ( a5 - a4 <= 0 )
        {
          v17 = a9;
          v41 = 0;
          v40 = 0;
          v16 = a7;
        }
        else
        {
          v16 = a7 + 0x8000;
          v40 = (a8 - a7) / v15;
          v14 = a4;
          v17 = a9 + 0x8000;
          v41 = (a10 - a9) / v15;
          result = *(_DWORD *)(a2 + 20);
        }
        if ( v14 < result )
        {
          v18 = result - v14;
          v14 = *(_DWORD *)(a2 + 20);
          v16 += v40 * v18;
          v17 += v41 * v18;
          a4 = *(_DWORD *)(a2 + 20);
        }
        if ( v13 > *(_DWORD *)(a2 + 28) )
          v13 = *(_DWORD *)(a2 + 28);
        v19 = v13 - v14 + 1;
        v20 = 0;
        v21 = v19;
        if ( v39 )
        {
          result = v19 - 1;
          if ( v21 <= 0 )
            return result;
          v42 = result + 1;
          do
          {
            v22 = *(_DWORD *)(v11 + 28) * (v17 >> 16) + v32;
            v17 += v41;
            v23 = *(_BYTE *)((v16 >> 16) + v22);
            v16 += v40;
            if ( v23 == v30 )
            {
              if ( v20 )
              {
                v24 = *(_DWORD *)(v11 + 16);
                v35 = v31;
                v37 = v24;
                v36 = ((8 * v20 + 7) >> 3) + (((8 * v20 + 7) >> 3) & 1);
                v25 = *(_DWORD *)a2;
                v33 = v20;
                v34 = 1;
                v38 = 8;
                sub_10041BA0(v25, a4, a6, (int)&v33);
                v26 = v20 + a4;
                v20 = 0;
                a4 = v26;
              }
              ++a4;
            }
            else
            {
              *(_BYTE *)(++v20 + v31 - 1) = v23;
            }
            result = v42-- - 1;
          }
          while ( v42 );
        }
        else
        {
          result = v19 - 1;
          if ( v21 <= 0 )
            return result;
          v43 = result + 1;
          do
          {
            v27 = *(_DWORD *)(v11 + 28) * (v17 >> 16) + v32;
            v17 += v41;
            *(_BYTE *)(v20 + v31) = *(_BYTE *)((v16 >> 16) + v27);
            v16 += v40;
            ++v20;
            result = v43-- - 1;
          }
          while ( v43 );
        }
        if ( v20 )
        {
          v33 = v20;
          v28 = *(_DWORD *)(v11 + 16);
          v35 = v31;
          v36 = ((8 * v20 + 7) >> 3) + (((8 * v20 + 7) >> 3) & 1);
          v37 = v28;
          v34 = 1;
          v29 = *(_DWORD *)a2;
          v38 = 8;
          result = sub_10041BA0(v29, a4, a6, (int)&v33);
        }
      }
    }
  }
  return result;
}

//----- (10028AA0) --------------------------------------------------------
int __thiscall sub_10028AA0(int this, int a2, int a3, int a4, int a5, int a6, signed int a7, int a8, signed int a9, int a10, int a11)
{
  int v11; // ebx@1
  int result; // eax@1
  int v13; // edx@4
  int v14; // ecx@4
  signed int v15; // esi@9
  signed int v16; // edi@10
  signed int v17; // ebp@10
  int v18; // esi@12
  int v19; // eax@14
  int v20; // esi@16
  __int16 v21; // ax@19
  int v22; // eax@22
  int v23; // edx@27
  __int16 v24; // ax@28
  int v25; // eax@31
  char v26; // [sp+13h] [bp-25h]@2
  int v27; // [sp+14h] [bp-24h]@1
  int v28; // [sp+18h] [bp-20h]@1
  __int16 v29; // [sp+1Ch] [bp-1Ch]@0
  int v30; // [sp+20h] [bp-18h]@22
  int v31; // [sp+24h] [bp-14h]@22
  int v32; // [sp+28h] [bp-10h]@22
  int v33; // [sp+2Ch] [bp-Ch]@22
  int v34; // [sp+30h] [bp-8h]@22
  int v35; // [sp+34h] [bp-4h]@22
  int v36; // [sp+48h] [bp+10h]@18
  int v37; // [sp+48h] [bp+10h]@27
  int v38; // [sp+54h] [bp+1Ch]@10
  int v39; // [sp+5Ch] [bp+24h]@10

  v11 = this;
  v28 = *(_DWORD *)(this + 8);
  result = *(_DWORD *)(this + 24);
  v27 = *(_DWORD *)(a3 + 28);
  if ( result == -1 )
  {
    v26 = 0;
  }
  else
  {
    v26 = 1;
    v29 = *(_DWORD *)(this + 24);
  }
  v13 = a5;
  v14 = a4;
  if ( a4 <= a5 )
  {
    result = a2;
    if ( a6 >= *(_DWORD *)(a2 + 24)
      && a6 <= *(_DWORD *)(a2 + 32)
      && a5 >= *(_DWORD *)(a2 + 20)
      && a4 <= *(_DWORD *)(a2 + 28) )
    {
      v15 = a5 - a4;
      if ( a5 - a4 <= 0 )
      {
        v17 = a9;
        v39 = 0;
        v38 = 0;
        v16 = a7;
      }
      else
      {
        v16 = a7 + 0x8000;
        v38 = (a8 - a7) / v15;
        v13 = a5;
        v17 = a9 + 0x8000;
        v39 = (a10 - a9) / v15;
        result = a2;
      }
      v18 = *(_DWORD *)(result + 20);
      if ( a4 < v18 )
      {
        a4 = *(_DWORD *)(result + 20);
        v16 += v38 * (v18 - v14);
        v17 += v39 * (v18 - v14);
        result = a2;
        v14 = v18;
      }
      v19 = *(_DWORD *)(result + 28);
      if ( v13 > v19 )
        v13 = v19;
      v20 = 0;
      if ( v26 )
      {
        result = v13 - v14;
        if ( v13 - v14 + 1 <= 0 )
          return result;
        v36 = result + 1;
        do
        {
          v21 = *(_WORD *)(v28 + 2 * ((v16 >> 16) + *(_DWORD *)v11 * (v17 >> 16)));
          v16 += v38;
          v17 += v39;
          if ( v21 == v29 )
          {
            if ( v20 )
            {
              v35 = *(_DWORD *)(v11 + 20);
              v32 = *(_DWORD *)(a3 + 28);
              v30 = v20;
              v33 = ((v20 * v35 + 7) >> 3) + (((v20 * v35 + 7) >> 3) & 1);
              v31 = 1;
              v34 = 0;
              sub_10041BA0(*(_DWORD *)a2, v14, a6, (int)&v30);
              v22 = v20 + a4;
              v20 = 0;
              v14 = v22;
            }
            a4 = ++v14;
          }
          else
          {
            *(_WORD *)(v27 + 2 * ++v20 - 2) = v21;
          }
          result = v36-- - 1;
        }
        while ( v36 );
      }
      else
      {
        result = v13 - v14;
        if ( v13 - v14 + 1 <= 0 )
          return result;
        v23 = *(_DWORD *)(a3 + 28);
        v20 = result + 1;
        v37 = result + 1;
        do
        {
          v23 += 2;
          v24 = *(_WORD *)(v28 + 2 * ((v16 >> 16) + *(_DWORD *)v11 * (v17 >> 16)));
          v16 += v38;
          *(_WORD *)(v23 - 2) = v24;
          v17 += v39;
          result = v37-- - 1;
        }
        while ( v37 );
        LOWORD(v14) = a4;
      }
      if ( v20 )
      {
        v25 = *(_DWORD *)(v11 + 20);
        v35 = v25;
        v32 = *(_DWORD *)(a3 + 28);
        v30 = v20;
        v33 = ((v20 * v25 + 7) >> 3) + (((v20 * v25 + 7) >> 3) & 1);
        v31 = 1;
        v34 = 0;
        result = sub_10041BA0(*(_DWORD *)a2, v14, a6, (int)&v30);
      }
    }
  }
  return result;
}

//----- (10028D20) --------------------------------------------------------
int __thiscall sub_10028D20(int this, int a2, int a3, int a4, int a5, int a6, signed int a7, int a8, signed int a9, int a10, int a11)
{
  int result; // eax@1
  int v12; // ebx@4
  int v13; // esi@4
  int v14; // edx@8
  signed int v15; // ecx@9
  signed int v16; // edi@10
  signed int v17; // ebp@10
  int v18; // ecx@10
  int *v19; // ecx@16
  int v20; // edx@16
  int v21; // esi@16
  int v22; // edx@17
  int v23; // eax@19
  int v24; // eax@19
  int v25; // ST00_4@22
  int v26; // edx@26
  int v27; // eax@28
  int v28; // eax@28
  int v29; // ecx@30
  int v30; // [sp+0h] [bp-30h]@1
  int v31; // [sp+8h] [bp-28h]@1
  int v32; // [sp+Ch] [bp-24h]@1
  int v33; // [sp+14h] [bp-1Ch]@0
  int v34; // [sp+18h] [bp-18h]@22
  int v35; // [sp+1Ch] [bp-14h]@22
  int v36; // [sp+20h] [bp-10h]@22
  int v37; // [sp+24h] [bp-Ch]@22
  int v38; // [sp+28h] [bp-8h]@22
  int v39; // [sp+2Ch] [bp-4h]@22
  char v40; // [sp+38h] [bp+8h]@2
  int v41; // [sp+40h] [bp+10h]@10
  int v42; // [sp+4Ch] [bp+1Ch]@10
  int v43; // [sp+50h] [bp+20h]@18
  int v44; // [sp+50h] [bp+20h]@27

  v32 = *(_DWORD *)(this + 8);
  v31 = this;
  v30 = *(_DWORD *)(a3 + 28);
  result = *(_DWORD *)(this + 24);
  if ( result == -1 )
  {
    v40 = 0;
  }
  else
  {
    v40 = 1;
    v33 = *(_DWORD *)(this + 24);
  }
  v12 = a4;
  v13 = a5;
  if ( a4 <= a5 )
  {
    result = a6;
    if ( a6 >= *(_DWORD *)(a2 + 24) && a6 <= *(_DWORD *)(a2 + 32) )
    {
      result = *(_DWORD *)(a2 + 20);
      if ( a5 >= result )
      {
        v14 = *(_DWORD *)(a2 + 28);
        if ( a4 <= v14 )
        {
          v15 = a5 - a4;
          if ( a5 - a4 <= 0 )
          {
            v17 = a9;
            v16 = a7;
            v18 = 0;
            v42 = 0;
            v41 = 0;
          }
          else
          {
            v16 = a7 + 0x8000;
            v41 = (a8 - a7) / v15;
            v14 = *(_DWORD *)(a2 + 28);
            v17 = a9 + 0x8000;
            v18 = (a10 - a9) / v15;
            result = *(_DWORD *)(a2 + 20);
            v42 = v18;
          }
          if ( a4 < result )
          {
            v16 += v41 * (result - a4);
            v12 = result;
            v17 += v18 * (result - a4);
            v14 = *(_DWORD *)(a2 + 28);
            a4 = result;
          }
          if ( v13 > v14 )
            v13 = v14;
          v19 = (int *)v30;
          v20 = v13 - v12 + 1;
          v21 = 0;
          result = v20;
          if ( v40 )
          {
            v22 = v20 - 1;
            if ( result <= 0 )
              return result;
            v43 = v22 + 1;
            do
            {
              v23 = 3 * (v16 >> 16);
              v16 += v41;
              v24 = *(_DWORD *)(v23 + *(_DWORD *)(v31 + 28) * (v17 >> 16) + v32) & 0xFFFFFF;
              v17 += v42;
              if ( v24 == v33 )
              {
                if ( v21 )
                {
                  v36 = v30;
                  v37 = ((24 * v21 + 7) >> 3) + (((24 * v21 + 7) >> 3) & 1);
                  v25 = *(_DWORD *)a2;
                  v34 = v21;
                  v35 = 1;
                  v39 = 24;
                  v38 = 0;
                  sub_10041BA0(v25, a4, a6, (int)&v34);
                  v19 = (int *)v30;
                  a4 += v21;
                  v21 = 0;
                }
                ++a4;
              }
              else
              {
                *v19 = v24;
                v19 = (int *)((char *)v19 + 3);
                ++v21;
              }
              result = v43-- - 1;
            }
            while ( v43 );
          }
          else
          {
            v26 = v20 - 1;
            if ( result <= 0 )
              return result;
            v21 = v26 + 1;
            v44 = v26 + 1;
            do
            {
              v27 = 3 * (v16 >> 16);
              v16 += v41;
              v19 = (int *)((char *)v19 + 3);
              v28 = *(_DWORD *)(v27 + *(_DWORD *)(v31 + 28) * (v17 >> 16) + v32) & 0xFFFFFF;
              v17 += v42;
              *(int *)((char *)v19 - 3) = v28;
              result = v44-- - 1;
            }
            while ( v44 );
          }
          if ( v21 )
          {
            v36 = v30;
            v34 = v21;
            v37 = ((24 * v21 + 7) >> 3) + (((24 * v21 + 7) >> 3) & 1);
            v29 = *(_DWORD *)a2;
            v35 = 1;
            v39 = 24;
            v38 = 0;
            result = sub_10041BA0(v29, a4, a6, (int)&v34);
          }
        }
      }
    }
  }
  return result;
}

//----- (10028FC0) --------------------------------------------------------
int __thiscall sub_10028FC0(int this, int a2, int a3, int a4, int a5, int a6, signed int a7, int a8, signed int a9, int a10, int a11)
{
  int result; // eax@1
  int v12; // ebx@4
  int v13; // esi@4
  int *v14; // ecx@5
  signed int v15; // edi@10
  signed int v16; // ebp@10
  int v17; // edx@12
  int v18; // ebx@13
  int v19; // eax@16
  int v20; // esi@16
  int v21; // edx@16
  int v22; // eax@19
  int v23; // ecx@22
  int v24; // edx@27
  int v25; // eax@28
  int v26; // ecx@31
  char v27; // [sp+3h] [bp-29h]@2
  int v28; // [sp+4h] [bp-28h]@1
  _DWORD *v29; // [sp+8h] [bp-24h]@1
  int v30; // [sp+Ch] [bp-20h]@1
  int v31; // [sp+10h] [bp-1Ch]@0
  int v32; // [sp+14h] [bp-18h]@22
  int v33; // [sp+18h] [bp-14h]@22
  int v34; // [sp+1Ch] [bp-10h]@22
  int v35; // [sp+20h] [bp-Ch]@22
  int v36; // [sp+24h] [bp-8h]@22
  int v37; // [sp+28h] [bp-4h]@22
  int v38; // [sp+38h] [bp+Ch]@10
  signed int v39; // [sp+3Ch] [bp+10h]@9
  int v40; // [sp+3Ch] [bp+10h]@10
  int v41; // [sp+4Ch] [bp+20h]@18
  int v42; // [sp+4Ch] [bp+20h]@27

  v30 = *(_DWORD *)(this + 8);
  v29 = (_DWORD *)this;
  v28 = *(_DWORD *)(a3 + 28);
  result = *(_DWORD *)(this + 24);
  if ( result == -1 )
  {
    v27 = 0;
  }
  else
  {
    v27 = 1;
    v31 = *(_DWORD *)(this + 24);
  }
  v12 = a4;
  v13 = a5;
  if ( a4 <= a5 )
  {
    v14 = (int *)a2;
    result = a6;
    if ( a6 >= *(_DWORD *)(a2 + 24)
      && a6 <= *(_DWORD *)(a2 + 32)
      && a5 >= *(_DWORD *)(a2 + 20)
      && a4 <= *(_DWORD *)(a2 + 28) )
    {
      v39 = a5 - a4;
      if ( v13 - a4 <= 0 )
      {
        v16 = a9;
        v15 = a7;
        v40 = 0;
        v38 = 0;
      }
      else
      {
        v15 = a7 + 0x8000;
        v38 = (a8 - a7) / (v13 - a4);
        v16 = a9 + 0x8000;
        v40 = (a10 - a9) / v39;
      }
      v17 = *(_DWORD *)(a2 + 20);
      if ( v12 < v17 )
      {
        v18 = v17 - v12;
        v15 += v38 * v18;
        v16 += v40 * v18;
        v12 = *(_DWORD *)(a2 + 20);
      }
      if ( v13 > *(_DWORD *)(a2 + 28) )
        v13 = *(_DWORD *)(a2 + 28);
      v19 = v13 - v12 + 1;
      v20 = 0;
      v21 = v19;
      if ( v27 )
      {
        result = v19 - 1;
        if ( v21 <= 0 )
          return result;
        v41 = result + 1;
        do
        {
          v22 = *(_DWORD *)(v30 + 4 * ((v15 >> 16) + *v29 * (v16 >> 16)));
          v15 += v38;
          v16 += v40;
          if ( v22 == v31 )
          {
            if ( v20 )
            {
              v23 = *v14;
              v32 = v20;
              v33 = 1;
              v34 = *(_DWORD *)(a3 + 28);
              v37 = 32;
              v36 = 0;
              v35 = ((32 * v20 + 7) >> 3) + (((32 * v20 + 7) >> 3) & 1);
              sub_10041BA0(v23, v12, a6, (int)&v32);
              v14 = (int *)a2;
              v12 += v20;
              v20 = 0;
            }
            ++v12;
          }
          else
          {
            *(_DWORD *)(v28 + 4 * ++v20 - 4) = v22;
          }
          result = v41-- - 1;
        }
        while ( v41 );
      }
      else
      {
        result = v19 - 1;
        if ( v21 <= 0 )
          return result;
        v24 = *(_DWORD *)(a3 + 28);
        v20 = result + 1;
        v42 = result + 1;
        do
        {
          v24 += 4;
          v25 = *(_DWORD *)(v30 + 4 * ((v15 >> 16) + *v29 * (v16 >> 16)));
          v15 += v38;
          *(_DWORD *)(v24 - 4) = v25;
          v16 += v40;
          result = v42-- - 1;
        }
        while ( v42 );
        v14 = (int *)a2;
      }
      if ( v20 )
      {
        v32 = v20;
        v26 = *v14;
        v34 = *(_DWORD *)(a3 + 28);
        v35 = ((32 * v20 + 7) >> 3) + (((32 * v20 + 7) >> 3) & 1);
        v33 = 1;
        v37 = 32;
        v36 = 0;
        result = sub_10041BA0(v26, v12, a6, (int)&v32);
      }
    }
  }
  return result;
}

//----- (10029230) --------------------------------------------------------
signed int __thiscall sub_10029230(void **this)
{
  void **v1; // esi@1
  char *v2; // eax@3
  signed int result; // eax@4

  v1 = this;
  if ( *this )
    j__free(*this);
  v2 = (char *)operator new(0x1B584u);
  *v1 = v2;
  if ( v2 )
  {
    v1[1] = v2 + 16004;
    v1[2] = v2 + 32004;
    v1[3] = v2 + 48004;
    v1[7] = v2;
    v1[4] = v2 + 64004;
    v1[5] = v2 + 80004;
    v1[6] = v2 + 96004;
    result = 1;
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (100292A0) --------------------------------------------------------
void __thiscall sub_100292A0(void **this)
{
  void **v1; // esi@1

  v1 = this;
  if ( *this )
  {
    j__free(*this);
    *v1 = 0;
  }
}

//----- (100292C0) --------------------------------------------------------
int __thiscall sub_100292C0(int this, int a2, int a3, char a4, int a5, float a6, float a7)
{
  int v7; // esi@1
  __int16 v8; // ax@1
  int v9; // ecx@2
  int v10; // eax@2
  int v11; // edi@2
  int v12; // ecx@2
  int v13; // edx@3
  int v14; // ecx@3
  int v15; // ecx@10
  int v16; // eax@10
  int v17; // edi@11
  int v18; // edx@11
  int v19; // ecx@11
  int v20; // ecx@19
  int v21; // eax@20
  int result; // eax@20
  int v23; // esi@22
  char v24; // [sp+8h] [bp-8h]@20

  v7 = this;
  v8 = *(_WORD *)(this + 24);
  if ( v8 & 2 )
    goto LABEL_18;
  v9 = *(_DWORD *)(this + 56);
  LOBYTE(v8) = v8 | 2;
  *(_WORD *)(v7 + 24) = v8;
  v10 = *(_DWORD *)(v7 + 60);
  v11 = v9 + 3;
  v12 = v9 - 3;
  *(_DWORD *)(v7 + 8) = v10 - 3;
  *(_DWORD *)(v7 + 4) = v12;
  *(_DWORD *)(v7 + 12) = v11;
  *(_DWORD *)(v7 + 16) = v10 + 3;
  if ( v12 > v11 )
  {
    *(_DWORD *)(v7 + 4) = v11 ^ v12;
    v13 = v11 ^ v12 ^ *(_DWORD *)(v7 + 12);
    *(_DWORD *)(v7 + 12) = v13;
    v14 = v13 ^ *(_DWORD *)(v7 + 4);
LABEL_9:
    *(_DWORD *)(v7 + 4) = v14;
    goto LABEL_10;
  }
  if ( v12 != v11 )
    goto LABEL_10;
  if ( v11 != 0x7FFFFFFF )
  {
    *(_DWORD *)(v7 + 12) = v11 + 1;
    goto LABEL_10;
  }
  if ( v12 != 0x80000000 )
  {
    v14 = v12 - 1;
    goto LABEL_9;
  }
LABEL_10:
  v15 = *(_DWORD *)(v7 + 8);
  v16 = *(_DWORD *)(v7 + 16);
  if ( v15 > v16 )
  {
    v17 = v16 ^ *(_DWORD *)(v7 + 8);
    *(_DWORD *)(v7 + 8) = v17;
    v18 = v17 ^ *(_DWORD *)(v7 + 16);
    *(_DWORD *)(v7 + 16) = v18;
    v19 = v18 ^ *(_DWORD *)(v7 + 8);
LABEL_17:
    *(_DWORD *)(v7 + 8) = v19;
    goto LABEL_18;
  }
  if ( v15 != v16 )
    goto LABEL_18;
  if ( v16 != 0x7FFFFFFF )
  {
    *(_DWORD *)(v7 + 16) = v16 + 1;
    goto LABEL_18;
  }
  if ( v15 != 0x80000000 )
  {
    v19 = v15 - 1;
    goto LABEL_17;
  }
LABEL_18:
  if ( a4 )
  {
    v20 = *(_DWORD *)(v7 + 20);
    if ( *(_DWORD *)(v20 + 352) )
    {
      v21 = sub_1001F5E0((void *)v20, (int)&v24);
      sub_100271F0(a2, v7 + 4, a5, *(_DWORD *)v21, *(_DWORD *)(v21 + 4), a6, a7);
      result = a2;
    }
    else
    {
      sub_100270C0(a2, v7 + 4, a5);
      result = a2;
    }
  }
  else
  {
    result = a2;
    v23 = v7 + 4;
    *(_DWORD *)a2 = *(_DWORD *)v23;
    *(_DWORD *)(a2 + 4) = *(_DWORD *)(v23 + 4);
    *(_DWORD *)(a2 + 8) = *(_DWORD *)(v23 + 8);
    *(_DWORD *)(a2 + 12) = *(_DWORD *)(v23 + 12);
  }
  return result;
}

//----- (10029410) --------------------------------------------------------
int __thiscall sub_10029410(int this, int a2, int a3, char a4, int a5, float a6, float a7)
{
  int v7; // esi@1
  __int16 v8; // ax@1
  int v9; // eax@2
  int v10; // edx@2
  int v11; // ecx@4
  int v12; // eax@5
  int result; // eax@5
  int v14; // esi@7
  char v15; // [sp+4h] [bp-10h]@2

  v7 = this;
  v8 = *(_WORD *)(this + 24);
  if ( !(v8 & 2) )
  {
    LOBYTE(v8) = v8 | 2;
    *(_WORD *)(this + 24) = v8;
    v9 = sub_10027050((int)&v15, this + 40);
    v10 = v7 + 4;
    *(_DWORD *)v10 = *(_DWORD *)v9;
    *(_DWORD *)(v10 + 4) = *(_DWORD *)(v9 + 4);
    *(_DWORD *)(v10 + 8) = *(_DWORD *)(v9 + 8);
    *(_DWORD *)(v10 + 12) = *(_DWORD *)(v9 + 12);
  }
  if ( a4 )
  {
    v11 = *(_DWORD *)(v7 + 20);
    if ( *(_DWORD *)(v11 + 352) )
    {
      v12 = sub_1001F5E0((void *)v11, (int)&v15);
      sub_100271F0(a2, v7 + 4, a5, *(_DWORD *)v12, *(_DWORD *)(v12 + 4), a6, a7);
      result = a2;
    }
    else
    {
      sub_100270C0(a2, v7 + 4, a5);
      result = a2;
    }
  }
  else
  {
    result = a2;
    v14 = v7 + 4;
    *(_DWORD *)a2 = *(_DWORD *)v14;
    *(_DWORD *)(a2 + 4) = *(_DWORD *)(v14 + 4);
    *(_DWORD *)(a2 + 8) = *(_DWORD *)(v14 + 8);
    *(_DWORD *)(a2 + 12) = *(_DWORD *)(v14 + 12);
  }
  return result;
}

//----- (100294F0) --------------------------------------------------------
int __userpurge sub_100294F0@<eax>(int a1@<ecx>, int a2@<ebx>, int a3@<ebp>, double a4@<st0>, int a5, int a6, char a7, int a8, float a9, float a10)
{
  int v10; // edi@1
  signed int v11; // ecx@2
  int v12; // eax@2
  int v13; // edx@3
  int v14; // ebx@3
  int v15; // ecx@3
  int v16; // esi@3
  int v17; // ecx@4
  int v18; // edx@4
  int v19; // ebx@4
  int v20; // ecx@5
  int v21; // eax@5
  int v22; // edx@6
  int v23; // ecx@6
  int v24; // ecx@13
  int v25; // eax@13
  int v26; // ebx@14
  int v27; // edx@14
  int v28; // ecx@14
  int v29; // eax@22
  int v30; // eax@24
  signed int v31; // edi@24
  int v32; // ecx@25
  int v33; // ecx@27
  int *v34; // edi@31
  int v35; // edx@34
  int v36; // eax@34
  int v37; // edi@34
  int v38; // ebp@34
  int v39; // ebx@34
  double v40; // st7@34
  int v41; // ST30_4@34
  signed __int64 v42; // rax@34
  int v43; // edi@34
  int v44; // ebx@34
  signed int v45; // eax@34
  int v46; // ebx@34
  int v47; // eax@36
  int v48; // ecx@36
  int v49; // edx@36
  int v50; // edi@36
  int v51; // ebp@36
  int v52; // ecx@47
  int v53; // ecx@49
  int v54; // ecx@51
  int v55; // ecx@54
  int v56; // edx@54
  int v57; // edi@54
  int v58; // eax@54
  int v59; // ecx@65
  int v60; // ecx@67
  int v61; // ecx@69
  signed int v62; // eax@71
  int v63; // ecx@74
  int v64; // eax@76
  int v65; // eax@78
  signed int v66; // edi@78
  int v67; // edi@79
  int v68; // ecx@81
  int v69; // ST30_4@86
  signed int v70; // ebp@87
  float v71; // eax@87
  double v72; // st7@89
  double v73; // st7@90
  signed int v74; // ebx@92
  double v75; // st7@92
  double v76; // st7@93
  int v77; // edi@95
  int v78; // eax@96
  int v79; // eax@97
  int v80; // eax@100
  bool v81; // zf@105
  int v82; // ecx@108
  int v83; // edi@108
  int v84; // edx@108
  int v85; // ecx@112
  int v86; // eax@113
  int result; // eax@113
  int v88; // edi@115
  int v89; // [sp+10h] [bp-30h]@2
  int v90; // [sp+1Ch] [bp-24h]@88
  int v91; // [sp+20h] [bp-20h]@1
  float v92; // [sp+24h] [bp-1Ch]@87
  int v93; // [sp+28h] [bp-18h]@34
  char v94; // [sp+30h] [bp-10h]@34
  int v95; // [sp+3Ch] [bp-4h]@34

  v10 = a1;
  v91 = a1;
  if ( *(_BYTE *)(a1 + 24) & 2 )
    goto LABEL_111;
  v11 = *(_DWORD *)(a1 + 44);
  v89 = a2;
  v12 = v11 / 2;
  if ( v11 & 1 )
  {
    v17 = v12 + *(_DWORD *)(v10 + 104);
    v18 = v12 + *(_DWORD *)(v10 + 100);
    v19 = *(_DWORD *)(v10 + 96) - v12;
    v16 = v10 + 4;
    *(_DWORD *)v16 = *(_DWORD *)(v10 + 92) - v12;
    *(_DWORD *)(v16 + 4) = v19;
    *(_DWORD *)(v16 + 8) = v18;
    *(_DWORD *)(v16 + 12) = v17;
  }
  else
  {
    v13 = v12 + *(_DWORD *)(v10 + 104);
    v14 = v12 + *(_DWORD *)(v10 + 100);
    v15 = *(_DWORD *)(v10 + 96) - v12 + 1;
    v16 = v10 + 4;
    *(_DWORD *)v16 = *(_DWORD *)(v10 + 92) - v12 + 1;
    *(_DWORD *)(v16 + 4) = v15;
    *(_DWORD *)(v16 + 8) = v14;
    *(_DWORD *)(v16 + 12) = v13;
  }
  v20 = *(_DWORD *)v16;
  v21 = *(_DWORD *)(v16 + 8);
  if ( *(_DWORD *)v16 > v21 )
  {
    *(_DWORD *)v16 = v21 ^ v20;
    v22 = v21 ^ v20 ^ *(_DWORD *)(v16 + 8);
    *(_DWORD *)(v16 + 8) = v22;
    v23 = v22 ^ *(_DWORD *)v16;
LABEL_12:
    *(_DWORD *)v16 = v23;
    goto LABEL_13;
  }
  if ( *(_DWORD *)v16 != v21 )
    goto LABEL_13;
  if ( v21 != 0x7FFFFFFF )
  {
    *(_DWORD *)(v16 + 8) = v21 + 1;
    goto LABEL_13;
  }
  if ( v20 != 0x80000000 )
  {
    v23 = v20 - 1;
    goto LABEL_12;
  }
LABEL_13:
  v24 = *(_DWORD *)(v16 + 4);
  v25 = *(_DWORD *)(v16 + 12);
  if ( v24 > v25 )
  {
    v26 = v25 ^ *(_DWORD *)(v16 + 4);
    *(_DWORD *)(v16 + 4) = v26;
    v27 = v26 ^ *(_DWORD *)(v16 + 12);
    *(_DWORD *)(v16 + 12) = v27;
    v28 = v27 ^ *(_DWORD *)(v16 + 4);
LABEL_20:
    *(_DWORD *)(v16 + 4) = v28;
    goto LABEL_21;
  }
  if ( v24 == v25 )
  {
    if ( v25 == 0x7FFFFFFF )
    {
      if ( v24 != 0x80000000 )
      {
        v28 = v24 - 1;
        goto LABEL_20;
      }
    }
    else
    {
      *(_DWORD *)(v16 + 12) = v25 + 1;
    }
  }
LABEL_21:
  if ( *(_DWORD *)(v10 + 48) < 6
    || (v29 = sub_1002D040((int)&dword_109D1830, *(_DWORD *)(v10 + 48))) == 0
    || *(_BYTE *)(v29 + 13) != 3 )
  {
    v62 = *(_DWORD *)(v10 + 48);
    if ( v62 < 6 )
      goto LABEL_110;
    if ( v62 > 255 )
      goto LABEL_110;
    if ( !byte_109D1834 )
    {
      v63 = *(_DWORD *)(dword_109D1830 + 4 * v62);
      if ( v63 )
      {
        if ( *(_BYTE *)(v63 + 13) == 3 )
          goto LABEL_110;
      }
    }
    v64 = *(_DWORD *)(dword_109D1830 + 4 * v62);
    if ( !v64 || *(_BYTE *)(v64 + 13) != 1 )
      goto LABEL_110;
    v65 = (*(int (__fastcall **)(int, int, int, int))(*(_DWORD *)v10 + 64))(v10, dword_109D1830, a3, v89);
    v66 = *(_DWORD *)(v10 + 48);
    if ( v66 <= 255 )
    {
      if ( byte_109D1834 || (v68 = *(_DWORD *)(dword_109D1830 + 4 * v66)) == 0 || *(_BYTE *)(v68 + 13) != 3 )
        v67 = *(_DWORD *)(dword_109D1830 + 4 * v66);
      else
        v67 = 0;
    }
    else
    {
      v67 = 0;
    }
    if ( v65 )
      v69 = *(_DWORD *)(v65 + 408);
    (*(void (__thiscall **)(int))(*(_DWORD *)v67 + 4))(v67);
    v92 = a4;
    v70 = 0;
    LODWORD(v71) = *(_BYTE *)(v67 + 20);
    v95 = 0;
    if ( SLODWORD(v71) <= 0 )
    {
LABEL_106:
      if ( v70 + v95 <= 0 || v70 <= 0 )
        goto LABEL_110;
      v82 = *(_DWORD *)(v16 + 12);
      v83 = *(_DWORD *)(v16 + 4) - v70 / 2;
      v84 = v70 / 2 + *(_DWORD *)(v16 + 8);
      *(_DWORD *)v16 -= v70 / 2;
      *(_DWORD *)(v16 + 4) = v83;
      *(_DWORD *)(v16 + 8) = v84;
      v61 = v70 / 2 + v82;
      goto LABEL_109;
    }
    *(float *)&v93 = v71;
    v90 = v67 + 36;
    while ( 1 )
    {
      v72 = (double)*(signed int *)(v90 - 4) * v92;
      if ( v72 <= 0.0 )
        v73 = v72 - 0.5;
      else
        v73 = v72 + 0.5;
      v74 = (signed __int64)v73;
      v75 = (double)*(signed int *)(v90 + 4) * v92;
      if ( v75 <= 0.0 )
        v76 = v75 - 0.5;
      else
        v76 = v75 + 0.5;
      v77 = (signed __int64)v76;
      if ( *(_BYTE *)v90 )
      {
        if ( *(_BYTE *)v90 != 1 )
        {
          if ( v74 - v77 > v70 )
            v70 = v74 - v77;
          goto LABEL_105;
        }
        v80 = v74 / 2;
        if ( v74 / 2 - v77 > v70 )
          v70 = v80 - v77;
        v78 = v77 + v80;
      }
      else
      {
        v78 = v77 + v74;
      }
      v79 = -v78;
      if ( v79 < v95 )
        v95 = v79;
LABEL_105:
      v81 = v93 == 1;
      v90 += 20;
      --v93;
      if ( v81 )
        goto LABEL_106;
    }
  }
  v30 = (*(int (__thiscall **)(int, int, int))(*(_DWORD *)v10 + 64))(v10, a3, v89);
  v31 = *(_DWORD *)(v10 + 48);
  if ( v31 <= 255 )
  {
    if ( byte_109D1834 || (v33 = *(_DWORD *)(dword_109D1830 + 4 * v31)) == 0 || *(_BYTE *)(v33 + 13) != 3 )
      v32 = *(_DWORD *)(dword_109D1830 + 4 * v31);
    else
      v32 = 0;
  }
  else
  {
    v32 = 0;
  }
  v34 = *(int **)(v32 + 48);
  if ( v30 )
    (*(void (__cdecl **)(signed int, signed int))(*(_DWORD *)v32 + 4))(1065353216, *(_DWORD *)(v30 + 408));
  else
    (*(void (__cdecl **)(signed int, signed int))(*(_DWORD *)v32 + 4))(1065353216, 1065353216);
  v35 = *v34;
  *(float *)&v93 = a4;
  v36 = (*(int (__thiscall **)(int *, char *, _DWORD, _DWORD, _DWORD, signed int, signed int))(v35 + 16))(
          v34,
          &v94,
          0,
          0,
          0,
          1065353216,
          1065353216);
  v37 = *(_DWORD *)v36;
  v38 = *(_DWORD *)(v36 + 4);
  v39 = *(_DWORD *)(v36 + 8);
  v40 = *(float *)&v93 - 1.0;
  v95 = *(_DWORD *)(v36 + 12);
  v41 = (signed __int64)((double)(v95 - v38) * v40 * 0.5);
  v93 = v39 - v37;
  v42 = (signed __int64)((double)(v39 - v37) * v40 * 0.5);
  v43 = v37 - v42;
  v44 = v42 + v39;
  v45 = v41 + v95 - (v38 - v41);
  v46 = v44 - v43;
  if ( v46 > v45 )
    v45 = v46;
  v47 = v45 / 2;
  v48 = *(_DWORD *)v16 - v47;
  v49 = *(_DWORD *)(v91 + 8) - v47;
  v50 = v47 + *(_DWORD *)v16;
  v51 = *(_DWORD *)(v91 + 8) + v47;
  if ( *(_DWORD *)v16 != v47 || v50 || *(_DWORD *)(v91 + 8) != v47 || v51 )
  {
    if ( *(_DWORD *)v16 || *(_DWORD *)(v16 + 8) || *(_DWORD *)(v16 + 4) || *(_DWORD *)(v16 + 12) )
    {
      if ( *(_DWORD *)v16 < v48 )
        v48 = *(_DWORD *)v16;
      *(_DWORD *)v16 = v48;
      v52 = *(_DWORD *)(v16 + 4);
      if ( v52 >= v49 )
        v52 = v49;
      *(_DWORD *)(v16 + 4) = v52;
      v53 = *(_DWORD *)(v16 + 8);
      if ( v53 <= v50 )
        v53 = v50;
      *(_DWORD *)(v16 + 8) = v53;
      v54 = *(_DWORD *)(v16 + 12);
      if ( v54 <= v51 )
        v54 = v51;
      *(_DWORD *)(v16 + 12) = v54;
    }
    else
    {
      *(_DWORD *)v16 = v48;
      *(_DWORD *)(v16 + 4) = v49;
      *(_DWORD *)(v16 + 8) = v50;
      *(_DWORD *)(v16 + 12) = v51;
    }
  }
  v55 = *(_DWORD *)(v91 + 12) - v47;
  v56 = *(_DWORD *)(v91 + 16) - v47;
  v57 = v47 + *(_DWORD *)(v91 + 12);
  v58 = *(_DWORD *)(v91 + 16) + v47;
  if ( !v55 && !v57 && !v56 && !v58 )
    goto LABEL_110;
  if ( *(_DWORD *)v16 || *(_DWORD *)(v16 + 8) || *(_DWORD *)(v16 + 4) || *(_DWORD *)(v16 + 12) )
  {
    if ( *(_DWORD *)v16 < v55 )
      v55 = *(_DWORD *)v16;
    *(_DWORD *)v16 = v55;
    v59 = *(_DWORD *)(v16 + 4);
    if ( v59 >= v56 )
      v59 = v56;
    *(_DWORD *)(v16 + 4) = v59;
    v60 = *(_DWORD *)(v16 + 8);
    if ( v60 <= v57 )
      v60 = v57;
    *(_DWORD *)(v16 + 8) = v60;
    v61 = *(_DWORD *)(v16 + 12);
    if ( v61 <= v58 )
      v61 = v58;
LABEL_109:
    *(_DWORD *)(v16 + 12) = v61;
    goto LABEL_110;
  }
  *(_DWORD *)v16 = v55;
  *(_DWORD *)(v16 + 4) = v56;
  *(_DWORD *)(v16 + 8) = v57;
  *(_DWORD *)(v16 + 12) = v58;
LABEL_110:
  v10 = v91;
  *(_BYTE *)(v10 + 24) |= 2u;
LABEL_111:
  if ( a7 )
  {
    v85 = *(_DWORD *)(v10 + 20);
    if ( *(_DWORD *)(v85 + 352) )
    {
      v86 = sub_1001F5E0((void *)v85, (int)&v93);
      sub_100271F0(a5, v10 + 4, a8, *(_DWORD *)v86, *(_DWORD *)(v86 + 4), a9, a10);
      result = a5;
    }
    else
    {
      sub_100270C0(a5, v10 + 4, a8);
      result = a5;
    }
  }
  else
  {
    result = a5;
    v88 = v10 + 4;
    *(_DWORD *)a5 = *(_DWORD *)v88;
    *(_DWORD *)(a5 + 4) = *(_DWORD *)(v88 + 4);
    *(_DWORD *)(a5 + 8) = *(_DWORD *)(v88 + 8);
    *(_DWORD *)(a5 + 12) = *(_DWORD *)(v88 + 12);
  }
  return result;
}
// 100294F0: could not find valid save-restore pair for ebx
// 100294F0: could not find valid save-restore pair for ebp
// 109D1830: using guessed type int dword_109D1830;
// 109D1834: using guessed type char byte_109D1834;

//----- (10029A60) --------------------------------------------------------
// local variable allocation has failed, the output may be wrong!
int __userpurge sub_10029A60@<eax>(int a1@<ecx>, int a2@<ebx>, int a3@<ebp>, int a4, int a5, char a6, int a7, float a8, float a9)
{
  int v9; // edi@1
  int v10; // ecx@2
  int v11; // esi@2
  signed int v12; // kr00_4@2
  signed int v13; // kr04_4@2
  int v14; // eax@2
  int v15; // ecx@2
  int v16; // edx@2
  int v17; // ebx@2
  int v18; // ebp@2
  int v19; // eax@2
  int v20; // ecx@2
  int v21; // esi@4
  unsigned int v22; // ecx@10
  int v23; // ST4C_4@10 OVERLAPPED
  double v24; // st7@10
  double v25; // rax@10
  unsigned __int64 v26; // ST44_8@10 OVERLAPPED
  int v27; // ST40_4@10
  int v28; // eax@10
  int v29; // ecx@10
  int v30; // eax@10
  int v31; // ecx@10
  int v32; // edx@10
  int v33; // eax@18
  int v34; // edx@18
  int v35; // ecx@19
  int v36; // esi@36
  int v37; // ecx@36
  int v38; // edx@37
  int v39; // ecx@37
  int v40; // ecx@44
  int v41; // eax@44
  int v42; // edx@45
  int v43; // ecx@45
  int v44; // edi@53
  int v45; // ebx@53
  int v46; // ebp@53
  int v47; // eax@53
  int v48; // edi@54
  int v49; // ebx@61
  int v50; // edx@72
  int v51; // eax@75
  int v52; // eax@77
  int v53; // ecx@79
  int v54; // eax@79
  int v55; // ecx@82
  int v56; // eax@82
  int v57; // edx@84
  int v58; // ebx@84
  int v59; // edx@86
  int v60; // eax@86
  int v61; // edx@87
  int v62; // eax@87
  int v63; // ecx@89
  int v64; // eax@89
  int v65; // edi@90
  int v66; // ecx@90
  int v67; // ecx@97
  int v68; // eax@97
  int v69; // edx@98
  int v70; // ecx@98
  int v71; // eax@107
  int v72; // ebx@111
  int v73; // edi@111
  int v74; // ebp@111
  int v75; // eax@111
  int v76; // edi@119
  int v77; // ebp@126
  int v78; // eax@137
  int v79; // eax@140
  int v80; // eax@142
  int v81; // ecx@144
  int v82; // eax@144
  bool v83; // sf@147
  unsigned __int8 v84; // of@147
  int v85; // ebp@150
  int v86; // ecx@150
  int v87; // ebx@150
  int v88; // edi@150
  int v89; // eax@150
  int v90; // edx@152
  bool v91; // zf@153
  int v92; // ebp@158
  int v93; // edx@165
  int v94; // ecx@177
  int v95; // eax@180
  int v96; // ecx@180
  int v97; // eax@182
  int v98; // eax@184
  int v99; // edi@188
  int v100; // ebx@188
  int v101; // ebp@188
  int v102; // eax@188
  int v103; // edi@189
  int v104; // ebx@196
  int v105; // ecx@207
  int v106; // eax@210
  int v107; // eax@212
  int v108; // eax@218
  int v109; // edx@220
  int v110; // eax@220
  signed int v111; // edi@220
  int v112; // ecx@221
  int v113; // ecx@223
  int *v114; // edi@227
  int v115; // edx@230
  int v116; // eax@230
  double v117; // st7@230
  int v118; // ebx@230
  int v119; // ebp@230
  int v120; // ecx@230
  int v121; // edx@230
  signed __int64 v122; // rax@230
  int v123; // edi@230
  int v124; // ebp@230
  double v125; // st7@230
  int v126; // ebx@230
  double v127; // st7@231
  double v128; // st7@233
  double v129; // st7@234
  double v130; // st7@236
  double v131; // st7@237
  double v132; // st7@239
  double v133; // st7@240
  int v134; // ebp@242
  signed int v135; // eax@242
  int v136; // edi@244
  int v137; // ebx@244
  int v138; // ebp@244
  int v139; // eax@244
  int v140; // ecx@244
  int v141; // ecx@249
  int v142; // edx@249
  int v143; // eax@252
  int v144; // ecx@254
  int v145; // eax@254
  int v146; // ecx@256
  int v147; // eax@256
  int v148; // ebx@259
  int v149; // ebp@259
  int v150; // eax@259
  int v151; // edi@259
  int v152; // ecx@264
  int v153; // eax@267
  int v154; // ecx@269
  int v155; // eax@269
  int v156; // eax@271
  double v157; // st7@275
  double v158; // st6@275
  unsigned int v159; // ebp@277
  int v160; // eax@277
  int v161; // edi@277
  int v162; // ebx@277
  int v163; // ebp@277
  int v164; // eax@277
  int v165; // eax@282
  int v166; // eax@285
  int v167; // eax@287
  int v168; // ecx@289
  int v169; // eax@289
  double v170; // st7@293
  double v171; // st6@293
  unsigned int v172; // ebp@295
  int v173; // eax@295
  int v174; // edi@295
  int v175; // ebx@295
  int v176; // ebp@295
  int v177; // eax@295
  int v178; // eax@300
  int v179; // eax@303
  int v180; // eax@305
  int v181; // ecx@307
  int v182; // eax@307
  int v183; // eax@310
  int v184; // edx@312
  int v185; // eax@312
  signed int v186; // edi@312
  int v187; // edi@313
  int v188; // ecx@315
  signed int v189; // ebp@322
  char v190; // al@322
  double v191; // st7@324
  double v192; // st7@325
  signed int v193; // ebx@327
  double v194; // st7@327
  double v195; // st7@328
  int v196; // edi@330
  int v197; // eax@331
  int v198; // eax@332
  int v199; // eax@335
  int v200; // ecx@340
  int v201; // ecx@343
  int v202; // edi@343
  int v203; // edx@343
  int v204; // edi@344
  int v205; // ebx@344
  double v206; // st7@345
  double v207; // st6@345
  int v208; // edi@347
  int v209; // edx@347
  int v210; // ebp@347
  int v211; // eax@368
  int v212; // edx@368
  int v213; // eax@368
  int v214; // eax@369
  int v215; // ecx@371
  int v216; // eax@371
  int v217; // ecx@373
  int v218; // eax@373
  int v219; // ecx@375
  int v220; // eax@375
  int v221; // edi@378
  int v222; // ebx@378
  double v223; // st7@379
  double v224; // st6@379
  int v225; // ecx@383
  int v226; // eax@383
  int v227; // ecx@383
  int v228; // eax@384
  int v229; // ecx@386
  int v230; // eax@386
  int v231; // ecx@388
  int v232; // eax@388
  int v233; // ebx@393
  int v234; // edi@393
  int v235; // edx@393
  int v236; // eax@393
  int v237; // ecx@395
  int v238; // eax@396
  int result; // eax@396
  int v240; // edi@398
  int v241; // [sp+10h] [bp-B4h]@2
  int v242; // [sp+14h] [bp-B0h]@2
  int v243; // [sp+20h] [bp-A4h]@2
  int v244; // [sp+24h] [bp-A0h]@2
  int v245; // [sp+28h] [bp-9Ch]@2
  int v246; // [sp+2Ch] [bp-98h]@2
  int v247; // [sp+30h] [bp-94h]@12
  double v248; // [sp+34h] [bp-90h]@18
  double v249; // [sp+3Ch] [bp-88h]@2
  int v250[2]; // [sp+44h] [bp-80h]@10
  double v251; // [sp+54h] [bp-70h]@10
  int v252; // [sp+5Ch] [bp-68h]@228
  int v253; // [sp+64h] [bp-60h]@2
  int v254; // [sp+68h] [bp-5Ch]@2
  int v255; // [sp+6Ch] [bp-58h]@220
  int v256; // [sp+70h] [bp-54h]@220
  int v257; // [sp+74h] [bp-50h]@220
  int v258; // [sp+78h] [bp-4Ch]@220
  int v259; // [sp+7Ch] [bp-48h]@347
  int v260; // [sp+80h] [bp-44h]@347
  int v261; // [sp+84h] [bp-40h]@347
  int v262; // [sp+88h] [bp-3Ch]@347
  int v263[2]; // [sp+8Ch] [bp-38h]@10
  int v264; // [sp+9Ch] [bp-28h]@1
  int v265; // [sp+A0h] [bp-24h]@2
  int v266; // [sp+A4h] [bp-20h]@277
  int v267; // [sp+A8h] [bp-1Ch]@277
  int v268; // [sp+ACh] [bp-18h]@277
  int v269; // [sp+B0h] [bp-14h]@277
  int v270; // [sp+B4h] [bp-10h]@277
  int v271; // [sp+B8h] [bp-Ch]@277
  int v272; // [sp+BCh] [bp-8h]@277
  int v273; // [sp+C0h] [bp-4h]@277

  v9 = a1;
  v264 = a1;
  if ( *(_BYTE *)(a1 + 24) & 2 )
    goto LABEL_394;
  v10 = *(_DWORD *)(a1 + 100);
  v246 = 0;
  v245 = 0;
  v244 = 0;
  v243 = 0;
  v11 = *(_DWORD *)(v9 + 92);
  v242 = a2;
  v265 = *(_DWORD *)(v9 + 44) / 2;
  v12 = v11 + v10;
  v241 = a3;
  v13 = *(_DWORD *)(v9 + 96) + *(_DWORD *)(v9 + 104);
  v14 = v10 - v11;
  v15 = *(_DWORD *)(v9 + 112);
  v16 = *(_DWORD *)(v9 + 96);
  v254 = abs(v14) / 2;
  v253 = abs(*(_DWORD *)(v9 + 104) - v16) / 2;
  v17 = v12 / 2;
  v18 = v13 / 2;
  v19 = *(_DWORD *)(v9 + 108) - v12 / 2;
  v20 = v15 - v13 / 2;
  LODWORD(v249) = v12 / 2;
  HIDWORD(v249) = v13 / 2;
  if ( v19 < 0 )
  {
    if ( v20 <= 0 )
    {
      v21 = 2;
      goto LABEL_10;
    }
  }
  else if ( v20 < 0 )
  {
    v21 = 1;
    goto LABEL_10;
  }
  if ( v19 > 0 || (v21 = 3, v20 <= 0) )
    v21 = 4;
LABEL_10:
  v22 = *(_DWORD *)(v9 + 108);
  v23 = *(_DWORD *)(v9 + 112);
  *(double *)v263 = (double)v253;
  v24 = (double)v254;
  v25 = (double)v253;
  v26 = __PAIR__(v22, HIDWORD(v25));
  v251 = v24;
  v27 = LODWORD(v25);
  v28 = sub_10026B20(v12 / 2, v13 / 2, v24, *(double *)((char *)&v26 - 4), *(double *)(&v23 - 1), v21);
  v29 = *(_DWORD *)(v9 + 120);
  v250[0] = v28;
  v30 = *(_DWORD *)(v9 + 116) - v17;
  v31 = v29 - v18;
  v250[1] = v32;
  if ( v30 < 0 )
  {
    if ( v31 <= 0 )
    {
      v247 = 2;
      goto LABEL_18;
    }
  }
  else if ( v31 < 0 )
  {
    v247 = 1;
    goto LABEL_18;
  }
  if ( v30 > 0 || (v247 = 3, v31 <= 0) )
    v247 = 4;
LABEL_18:
  v33 = sub_10026B20(v12 / 2, v13 / 2, v251, *(double *)v263, *(double *)(v9 + 116), v247);
  v263[0] = v33;
  v263[1] = v34;
  LODWORD(v248) = v21;
  if ( v21 != v247 )
    goto LABEL_81;
  v35 = v250[0];
  if ( v250[0] == v33 )
  {
    if ( v250[1] == v34 )
      goto LABEL_81;
    v35 = v250[0];
  }
  if ( v21 != 1 )
  {
    if ( v21 == 2 )
    {
      if ( v35 >= v33 && v250[1] <= v34 )
        goto LABEL_36;
LABEL_84:
      v57 = v250[0];
      v36 = v9 + 4;
      *(_DWORD *)(v36 + 4) = v250[1];
      v58 = v17 - v254;
      *(_DWORD *)v36 = v57;
      *(_DWORD *)(v36 + 8) = v58;
      goto LABEL_88;
    }
    if ( v21 == 3 )
    {
      if ( v35 <= v33 && v250[1] <= v34 )
        goto LABEL_36;
      goto LABEL_86;
    }
    if ( v250[0] <= v33 && v250[1] >= v34 )
      goto LABEL_36;
LABEL_81:
    if ( v21 == 1 )
    {
LABEL_82:
      v55 = v250[1];
      v36 = v9 + 4;
      *(_DWORD *)v36 = v250[0];
      v56 = v253;
      *(_DWORD *)(v36 + 4) = v55;
      *(_DWORD *)(v36 + 8) = v17;
      v18 -= v56;
LABEL_88:
      *(_DWORD *)(v36 + 12) = v18;
LABEL_89:
      v63 = *(_DWORD *)v36;
      v64 = *(_DWORD *)(v36 + 8);
      if ( *(_DWORD *)v36 <= v64 )
      {
        if ( *(_DWORD *)v36 != v64 )
          goto LABEL_97;
        if ( v64 != 0x7FFFFFFF )
        {
          *(_DWORD *)(v36 + 8) = v64 + 1;
          goto LABEL_97;
        }
        if ( v63 == 0x80000000 )
        {
LABEL_97:
          v67 = *(_DWORD *)(v36 + 4);
          v68 = *(_DWORD *)(v36 + 12);
          if ( v67 > v68 )
          {
            *(_DWORD *)(v36 + 4) = v68 ^ v67;
            v69 = v68 ^ v67 ^ *(_DWORD *)(v36 + 12);
            *(_DWORD *)(v36 + 12) = v69;
            v70 = v69 ^ *(_DWORD *)(v36 + 4);
LABEL_104:
            *(_DWORD *)(v36 + 4) = v70;
            goto LABEL_105;
          }
          if ( v67 == v68 )
          {
            if ( v68 == 0x7FFFFFFF )
            {
              if ( v67 != 0x80000000 )
              {
                v70 = v67 - 1;
                goto LABEL_104;
              }
            }
            else
            {
              *(_DWORD *)(v36 + 12) = v68 + 1;
            }
          }
LABEL_105:
          LODWORD(v251) = 0;
          while ( 1 )
          {
            if ( LODWORD(v248) == 4 )
              v71 = 1;
            else
              v71 = LODWORD(v248) + 1;
            LODWORD(v248) = v71;
            if ( v71 == v247 )
            {
              if ( v71 == 1 )
              {
                v85 = v263[0];
                v86 = v263[1];
                v87 = HIDWORD(v249);
                v88 = v254 + LODWORD(v249);
                v244 = v263[1];
                v89 = v263[0];
                goto LABEL_156;
              }
              if ( v71 == 2 )
              {
                v86 = v263[1];
                v89 = v263[0];
                v88 = LODWORD(v249);
                v87 = HIDWORD(v249) - v253;
                v90 = v263[1];
                v85 = v263[0];
                v244 = v263[1];
              }
              else
              {
                v86 = v263[1];
                v91 = v71 == 3;
                v89 = v263[0];
                v85 = v263[0];
                if ( v91 )
                {
                  v90 = v263[1];
                  v88 = LODWORD(v249) - v254;
                  v87 = HIDWORD(v249);
                  v244 = v263[1];
                }
                else
                {
                  v88 = LODWORD(v249);
                  v244 = v263[1];
                  v87 = v253 + HIDWORD(v249);
LABEL_156:
                  v90 = v244;
                }
              }
              if ( v89 <= v88 )
              {
                if ( v89 == v88 )
                {
                  if ( v88 == 0x7FFFFFFF )
                  {
                    if ( v89 != 0x80000000 )
                      v85 = v89 - 1;
                  }
                  else
                  {
                    ++v88;
                  }
                }
              }
              else
              {
                v92 = v88 ^ v89;
                v88 ^= v89 ^ v88;
                v85 = v88 ^ v92;
              }
              if ( v86 > v87 )
              {
                v93 = v87 ^ v86;
                v87 ^= v86 ^ v87;
                v90 = v87 ^ v93;
                goto LABEL_171;
              }
              if ( v86 == v87 )
              {
                if ( v87 == 0x7FFFFFFF )
                {
                  if ( v86 != 0x80000000 )
                  {
                    v90 = v86 - 1;
LABEL_171:
                    v244 = v90;
                  }
                }
                else
                {
                  ++v87;
                }
              }
              if ( v85 || v88 || v90 || v87 )
              {
                if ( (unsigned __int8)sub_1002CF90(v36) )
                {
                  v94 = v244;
                  *(_DWORD *)v36 = v85;
                  *(_DWORD *)(v36 + 4) = v94;
                  *(_DWORD *)(v36 + 8) = v88;
                  *(_DWORD *)(v36 + 12) = v87;
                }
                else
                {
                  if ( *(_DWORD *)v36 < v85 )
                    v85 = *(_DWORD *)v36;
                  v95 = *(_DWORD *)(v36 + 4);
                  v96 = v244;
                  v84 = __OFSUB__(v95, v244);
                  v83 = v95 - v244 < 0;
                  *(_DWORD *)v36 = v85;
                  if ( !(v83 ^ v84) )
                    v95 = v96;
                  *(_DWORD *)(v36 + 4) = v95;
                  v97 = *(_DWORD *)(v36 + 8);
                  if ( v97 <= v88 )
                    v97 = v88;
                  *(_DWORD *)(v36 + 8) = v97;
                  v98 = *(_DWORD *)(v36 + 12);
                  if ( v98 <= v87 )
                    v98 = v87;
                  *(_DWORD *)(v36 + 12) = v98;
                }
              }
LABEL_187:
              if ( *(_DWORD *)(v264 + 124) == 2 )
              {
                v99 = LODWORD(v249) - v265;
                v100 = HIDWORD(v249) - v265;
                v101 = v265 + LODWORD(v249);
                v102 = HIDWORD(v249) + v265;
                v246 = HIDWORD(v249) + v265;
                if ( LODWORD(v249) - v265 <= v265 + LODWORD(v249) )
                {
                  if ( LODWORD(v249) - v265 == v265 + LODWORD(v249) )
                  {
                    if ( v101 == 0x7FFFFFFF )
                    {
                      if ( v99 != 0x80000000 )
                        --v99;
                    }
                    else
                    {
                      ++v101;
                    }
                  }
                }
                else
                {
                  v103 = v101 ^ v99;
                  v101 ^= v103;
                  v99 = v101 ^ v103;
                }
                if ( v100 <= v102 )
                {
                  if ( v100 == v102 )
                  {
                    if ( v102 == 0x7FFFFFFF )
                    {
                      if ( v100 != 0x80000000 )
                        --v100;
                    }
                    else
                    {
                      v246 = ++v102;
                    }
                  }
                }
                else
                {
                  v104 = v102 ^ v100;
                  v102 ^= v104;
                  v246 = v102;
                  v100 = v102 ^ v104;
                }
                if ( v99 || v101 || v100 || v102 )
                {
                  if ( (unsigned __int8)sub_1002CF90(v36) )
                  {
                    v105 = v246;
                    *(_DWORD *)v36 = v99;
                    *(_DWORD *)(v36 + 4) = v100;
                    *(_DWORD *)(v36 + 8) = v101;
                    *(_DWORD *)(v36 + 12) = v105;
                    goto LABEL_217;
                  }
                  if ( *(_DWORD *)v36 < v99 )
                    v99 = *(_DWORD *)v36;
                  v106 = *(_DWORD *)(v36 + 4);
                  *(_DWORD *)v36 = v99;
                  if ( v106 >= v100 )
                    v106 = v100;
                  *(_DWORD *)(v36 + 4) = v106;
                  v107 = *(_DWORD *)(v36 + 8);
                  if ( v107 <= v101 )
                    v107 = v101;
                  v53 = v246;
                  *(_DWORD *)(v36 + 8) = v107;
                  v54 = *(_DWORD *)(v36 + 12);
                  if ( v54 <= v53 )
LABEL_215:
                    v54 = v53;
LABEL_216:
                  *(_DWORD *)(v36 + 12) = v54;
                  goto LABEL_217;
                }
              }
              goto LABEL_217;
            }
            if ( v71 == 1 )
              break;
            if ( v71 == 2 )
            {
              v75 = HIDWORD(v249);
              v73 = LODWORD(v249);
              v74 = HIDWORD(v249) - v253;
              v72 = LODWORD(v249) - v254;
              goto LABEL_117;
            }
            if ( v71 != 3 )
            {
              v75 = HIDWORD(v249);
              v73 = LODWORD(v249);
              v74 = v253 + HIDWORD(v249);
              v72 = v254 + LODWORD(v249);
              goto LABEL_117;
            }
            v74 = HIDWORD(v249);
            v72 = LODWORD(v249);
            v73 = LODWORD(v249) - v254;
            v75 = v253 + HIDWORD(v249);
            v246 = v253 + HIDWORD(v249);
LABEL_118:
            if ( v73 <= v72 )
            {
              if ( v73 == v72 )
              {
                if ( v72 == 0x7FFFFFFF )
                {
                  if ( v73 != 0x80000000 )
                    --v73;
                }
                else
                {
                  ++v72;
                }
              }
            }
            else
            {
              v76 = v72 ^ v73;
              v72 ^= v76;
              v73 = v72 ^ v76;
            }
            if ( v74 <= v75 )
            {
              if ( v74 == v75 )
              {
                if ( v75 == 0x7FFFFFFF )
                {
                  if ( v74 != 0x80000000 )
                    --v74;
                }
                else
                {
                  v246 = ++v75;
                }
              }
            }
            else
            {
              v77 = v75 ^ v74;
              v75 ^= v77;
              v246 = v75;
              v74 = v75 ^ v77;
            }
            if ( v73 || v72 || v74 || v75 )
            {
              if ( (unsigned __int8)sub_1002CF90(v36) )
              {
                v78 = v246;
                *(_DWORD *)v36 = v73;
                *(_DWORD *)(v36 + 4) = v74;
                *(_DWORD *)(v36 + 8) = v72;
                *(_DWORD *)(v36 + 12) = v78;
              }
              else
              {
                if ( *(_DWORD *)v36 < v73 )
                  v73 = *(_DWORD *)v36;
                v79 = *(_DWORD *)(v36 + 4);
                *(_DWORD *)v36 = v73;
                if ( v79 >= v74 )
                  v79 = v74;
                *(_DWORD *)(v36 + 4) = v79;
                v80 = *(_DWORD *)(v36 + 8);
                if ( v80 <= v72 )
                  v80 = v72;
                v81 = v246;
                *(_DWORD *)(v36 + 8) = v80;
                v82 = *(_DWORD *)(v36 + 12);
                if ( v82 <= v81 )
                  v82 = v81;
                *(_DWORD *)(v36 + 12) = v82;
              }
            }
            v84 = __OFSUB__(LODWORD(v251) + 1, 5);
            v83 = LODWORD(v251)++ - 4 < 0;
            if ( !(v83 ^ v84) )
              goto LABEL_187;
          }
          v72 = LODWORD(v249);
          v73 = v254 + LODWORD(v249);
          v74 = HIDWORD(v249);
          v75 = HIDWORD(v249) - v253;
LABEL_117:
          v246 = v75;
          goto LABEL_118;
        }
        v66 = v63 - 1;
      }
      else
      {
        v65 = v64 ^ *(_DWORD *)v36;
        *(_DWORD *)v36 = v65;
        *(_DWORD *)(v36 + 8) = v65 ^ v64;
        v66 = v65 ^ v64 ^ *(_DWORD *)v36;
      }
      *(_DWORD *)v36 = v66;
      goto LABEL_97;
    }
    if ( v21 == 2 )
      goto LABEL_84;
    if ( v21 != 3 )
    {
      v61 = v250[1];
      v36 = v9 + 4;
      v62 = v17 + v254;
      *(_DWORD *)v36 = v250[0];
      *(_DWORD *)(v36 + 4) = v61;
      *(_DWORD *)(v36 + 8) = v62;
      goto LABEL_88;
    }
LABEL_86:
    v59 = v250[1];
    v36 = v9 + 4;
    v60 = v18 + v253;
    *(_DWORD *)v36 = v250[0];
    *(_DWORD *)(v36 + 4) = v59;
    *(_DWORD *)(v36 + 8) = v17;
    *(_DWORD *)(v36 + 12) = v60;
    goto LABEL_89;
  }
  if ( v35 < v33 || v250[1] < v34 )
    goto LABEL_82;
LABEL_36:
  v36 = v9 + 4;
  *(_DWORD *)v36 = v250[0];
  *(_DWORD *)(v36 + 4) = v250[1];
  *(_DWORD *)(v36 + 8) = v33;
  *(_DWORD *)(v36 + 12) = v34;
  v37 = *(_DWORD *)(v9 + 4);
  if ( v37 > v33 )
  {
    *(_DWORD *)v36 = v33 ^ v37;
    v38 = v33 ^ v37 ^ *(_DWORD *)(v9 + 12);
    *(_DWORD *)(v9 + 12) = v38;
    v39 = v38 ^ *(_DWORD *)v36;
LABEL_43:
    *(_DWORD *)v36 = v39;
    goto LABEL_44;
  }
  if ( v37 != v33 )
    goto LABEL_44;
  if ( v33 != 0x7FFFFFFF )
  {
    *(_DWORD *)(v9 + 12) = v33 + 1;
    goto LABEL_44;
  }
  if ( v37 != 0x80000000 )
  {
    v39 = v37 - 1;
    goto LABEL_43;
  }
LABEL_44:
  v40 = *(_DWORD *)(v9 + 8);
  v41 = *(_DWORD *)(v9 + 16);
  if ( v40 > v41 )
  {
    *(_DWORD *)(v9 + 8) = v41 ^ v40;
    v42 = v41 ^ v40 ^ *(_DWORD *)(v9 + 16);
    *(_DWORD *)(v9 + 16) = v42;
    v43 = v42 ^ *(_DWORD *)(v9 + 8);
LABEL_51:
    *(_DWORD *)(v9 + 8) = v43;
    goto LABEL_52;
  }
  if ( v40 == v41 )
  {
    if ( v41 == 0x7FFFFFFF )
    {
      if ( v40 != 0x80000000 )
      {
        v43 = v40 - 1;
        goto LABEL_51;
      }
    }
    else
    {
      *(_DWORD *)(v9 + 16) = v41 + 1;
    }
  }
LABEL_52:
  if ( *(_DWORD *)(v9 + 124) == 2 )
  {
    v44 = LODWORD(v249) - v265;
    v45 = HIDWORD(v249) - v265;
    v46 = v265 + LODWORD(v249);
    v47 = HIDWORD(v249) + v265;
    v246 = HIDWORD(v249) + v265;
    if ( LODWORD(v249) - v265 <= v265 + LODWORD(v249) )
    {
      if ( LODWORD(v249) - v265 == v265 + LODWORD(v249) )
      {
        if ( v46 == 0x7FFFFFFF )
        {
          if ( v44 != 0x80000000 )
            --v44;
        }
        else
        {
          ++v46;
        }
      }
    }
    else
    {
      v48 = v46 ^ v44;
      v46 ^= v48;
      v44 = v46 ^ v48;
    }
    if ( v45 <= v47 )
    {
      if ( v45 == v47 )
      {
        if ( v47 == 0x7FFFFFFF )
        {
          if ( v45 != 0x80000000 )
            --v45;
        }
        else
        {
          v246 = ++v47;
        }
      }
    }
    else
    {
      v49 = v47 ^ v45;
      v47 ^= v49;
      v246 = v47;
      v45 = v47 ^ v49;
    }
    if ( v44 || v46 || v45 || v47 )
    {
      if ( !(unsigned __int8)sub_1002CF90(v36) )
      {
        if ( *(_DWORD *)v36 < v44 )
          v44 = *(_DWORD *)v36;
        v51 = *(_DWORD *)(v36 + 4);
        *(_DWORD *)v36 = v44;
        if ( v51 >= v45 )
          v51 = v45;
        *(_DWORD *)(v36 + 4) = v51;
        v52 = *(_DWORD *)(v36 + 8);
        if ( v52 <= v46 )
          v52 = v46;
        v53 = v246;
        *(_DWORD *)(v36 + 8) = v52;
        v54 = *(_DWORD *)(v36 + 12);
        if ( v54 <= v53 )
          goto LABEL_215;
        goto LABEL_216;
      }
      v50 = v246;
      *(_DWORD *)v36 = v44;
      *(_DWORD *)(v36 + 4) = v45;
      *(_DWORD *)(v36 + 8) = v46;
      *(_DWORD *)(v36 + 12) = v50;
    }
  }
LABEL_217:
  if ( *(_DWORD *)(v264 + 48) < 6
    || (v108 = sub_1002D040((int)&dword_109D1830, *(_DWORD *)(v264 + 48))) == 0
    || *(_BYTE *)(v108 + 13) != 3 )
  {
    if ( *(_DWORD *)(v264 + 48) < 6 )
      goto LABEL_393;
    v183 = sub_1002D040((int)&dword_109D1830, *(_DWORD *)(v264 + 48));
    if ( !v183 || *(_BYTE *)(v183 + 13) != 1 )
      goto LABEL_393;
    v184 = *(_DWORD *)v264;
    v246 = 0;
    v245 = 0;
    v244 = 0;
    v243 = 0;
    v185 = (*(int (__thiscall **)(int, int, int))(v184 + 64))(v264, v241, v242);
    v186 = *(_DWORD *)(v264 + 48);
    if ( v186 <= 255 )
    {
      if ( byte_109D1834 || (v188 = *(_DWORD *)(dword_109D1830 + 4 * v186)) == 0 || *(_BYTE *)(v188 + 13) != 3 )
        v187 = *(_DWORD *)(dword_109D1830 + 4 * v186);
      else
        v187 = 0;
    }
    else
    {
      v187 = 0;
    }
    LODWORD(v249) = v187;
    if ( v185 )
      v252 = *(_DWORD *)(v185 + 408);
    else
      v252 = 1065353216;
    (*(void (__thiscall **)(int))(*(_DWORD *)v187 + 4))(v187);
    *(float *)&v251 = v24;
    v189 = 0;
    v255 = 0;
    v256 = 0;
    v257 = 0;
    v258 = 0;
    v190 = *(_BYTE *)(v187 + 20);
    v253 = 0;
    if ( v190 )
    {
      v247 = v187 + 36;
      do
      {
        v191 = (double)*(signed int *)(v247 - 4) * *(float *)&v251;
        if ( v191 <= 0.0 )
          v192 = v191 - 0.5;
        else
          v192 = v191 + 0.5;
        v193 = (signed __int64)v192;
        v194 = (double)*(signed int *)(v247 + 4) * *(float *)&v251;
        if ( v194 <= 0.0 )
          v195 = v194 - 0.5;
        else
          v195 = v194 + 0.5;
        v196 = (signed __int64)v195;
        if ( *(_BYTE *)v247 )
        {
          if ( *(_BYTE *)v247 != 1 )
          {
            if ( v193 - v196 > v189 )
            {
              v189 = v193 - v196;
              v256 = v193 - v196;
            }
            goto LABEL_340;
          }
          v199 = v193 / 2;
          if ( v193 / 2 - v196 > v189 )
          {
            v189 = v199 - v196;
            v256 = v199 - v196;
          }
          v197 = v196 + v199;
        }
        else
        {
          v197 = v196 + v193;
        }
        v198 = -v197;
        if ( v198 < v258 )
          v258 = v198;
LABEL_340:
        v200 = *(_BYTE *)(LODWORD(v248) + 20);
        v84 = __OFSUB__(v253 + 1, v200);
        v83 = v253++ + 1 - v200 < 0;
        v247 += 20;
      }
      while ( v83 ^ v84 );
    }
    if ( v189 + v258 > 0 && v189 > 0 )
    {
      v201 = *(_DWORD *)(v36 + 12);
      v202 = *(_DWORD *)(v36 + 4) - v189 / 2;
      v203 = v189 / 2 + *(_DWORD *)(v36 + 8);
      *(_DWORD *)v36 -= v189 / 2;
      *(_DWORD *)(v36 + 4) = v202;
      *(_DWORD *)(v36 + 8) = v203;
      *(_DWORD *)(v36 + 12) = v189 / 2 + v201;
    }
    v204 = v250[0];
    v205 = v250[1];
    LODWORD(v251) = v250[0] - LODWORD(v249);
    HIDWORD(v251) = v250[1] - HIDWORD(v249);
    *(float *)&v248 = sqrt((double)(v250[0] - LODWORD(v249)) * (double)(v250[0] - LODWORD(v249)) + (double)(v250[1] - HIDWORD(v249))
                                                                                                 * (double)(v250[1] - HIDWORD(v249)));
    if ( *(float *)&v248 == 0.0 )
    {
      v206 = 0.0;
      v207 = 0.0;
    }
    else
    {
      v206 = (double)SLODWORD(v251) / *(float *)&v248;
      v207 = (double)SHIDWORD(v251) / *(float *)&v248;
    }
    v251 = v207;
    v260 = v250[1] + v189;
    *(double *)v250 = v206;
    v259 = v204;
    sub_10026A20(v204, v205, (int)&v259, v206, v207);
    v261 = v204 + v257;
    v262 = v205 + v258;
    sub_10026A20(v204, v205, (int)&v261, v206, v207);
    v208 = v260;
    v209 = v259;
    v210 = v262;
    v243 = v259;
    v244 = v260;
    v245 = v261;
    v246 = v262;
    if ( v259 <= v261 )
    {
      if ( v259 != v261 )
        goto LABEL_355;
      if ( v261 != 0x7FFFFFFF )
      {
        v245 = v261 + 1;
        goto LABEL_355;
      }
      if ( v259 == 0x80000000 )
      {
LABEL_355:
        if ( v260 > v262 )
        {
          v210 = v262 ^ v260 ^ v262;
          v246 = v210;
          v208 = v210 ^ v260 ^ v262;
LABEL_362:
          v244 = v208;
          goto LABEL_363;
        }
        if ( v260 == v262 )
        {
          if ( v262 == 0x7FFFFFFF )
          {
            if ( v260 != 0x80000000 )
            {
              v208 = v260 - 1;
              goto LABEL_362;
            }
          }
          else
          {
            v210 = v262 + 1;
            v246 = v262 + 1;
          }
        }
LABEL_363:
        if ( v209 || v245 || v208 || v210 )
        {
          if ( (unsigned __int8)sub_1002CF90(v36) )
          {
            v211 = v244;
            *(_DWORD *)v36 = v243;
            v212 = v245;
            *(_DWORD *)(v36 + 4) = v211;
            v213 = v246;
            *(_DWORD *)(v36 + 8) = v212;
            *(_DWORD *)(v36 + 12) = v213;
          }
          else
          {
            v214 = *(_DWORD *)v36;
            if ( *(_DWORD *)v36 >= v243 )
              v214 = v243;
            v215 = v244;
            *(_DWORD *)v36 = v214;
            v216 = *(_DWORD *)(v36 + 4);
            if ( v216 >= v215 )
              v216 = v215;
            v217 = v245;
            *(_DWORD *)(v36 + 4) = v216;
            v218 = *(_DWORD *)(v36 + 8);
            if ( v218 <= v217 )
              v218 = v217;
            v219 = v246;
            *(_DWORD *)(v36 + 8) = v218;
            v220 = *(_DWORD *)(v36 + 12);
            if ( v220 <= v219 )
              v220 = v219;
            *(_DWORD *)(v36 + 12) = v220;
          }
        }
        v221 = v263[0];
        v222 = v263[1];
        v250[0] = v263[0] - LODWORD(v249);
        v250[1] = v263[1] - HIDWORD(v249);
        *(float *)&v248 = sqrt((double)(v263[0] - LODWORD(v249)) * (double)(v263[0] - LODWORD(v249)) + (double)(v263[1] - HIDWORD(v249)) * (double)(v263[1] - HIDWORD(v249)));
        if ( *(float *)&v248 == 0.0 )
        {
          v223 = 0.0;
          v224 = 0.0;
        }
        else
        {
          v223 = (double)v250[0] / *(float *)&v248;
          v224 = (double)v250[1] / *(float *)&v248;
        }
        v251 = v224;
        *(double *)v250 = v223;
        v259 = v263[0] + v255;
        v260 = v263[1] + v256;
        sub_10026A20(v263[0], v263[1], (int)&v259, v223, v224);
        v261 = v221 + v257;
        v262 = v222 + v258;
        sub_10026A20(v221, v222, (int)&v261, v223, v224);
        v243 = v259;
        v246 = v262;
        v244 = v260;
        v245 = v261;
        sub_1002CFC0((int)&v243);
        if ( (unsigned __int8)sub_1002CF90((int)&v243) )
          goto LABEL_393;
        if ( (unsigned __int8)sub_1002CF90(v36) )
        {
          v225 = v244;
          *(_DWORD *)v36 = v243;
          v226 = v245;
          *(_DWORD *)(v36 + 4) = v225;
          v227 = v246;
          *(_DWORD *)(v36 + 8) = v226;
          *(_DWORD *)(v36 + 12) = v227;
          goto LABEL_393;
        }
        v228 = *(_DWORD *)v36;
        if ( *(_DWORD *)v36 >= v243 )
          v228 = v243;
        v229 = v244;
        *(_DWORD *)v36 = v228;
        v230 = *(_DWORD *)(v36 + 4);
        if ( v230 >= v229 )
          v230 = v229;
        v231 = v245;
        *(_DWORD *)(v36 + 4) = v230;
        v232 = *(_DWORD *)(v36 + 8);
        if ( v232 <= v231 )
          v232 = v231;
        v181 = v246;
        *(_DWORD *)(v36 + 8) = v232;
        v182 = *(_DWORD *)(v36 + 12);
        if ( v182 > v181 )
        {
LABEL_392:
          *(_DWORD *)(v36 + 12) = v182;
          goto LABEL_393;
        }
LABEL_391:
        v182 = v181;
        goto LABEL_392;
      }
      v209 = v259 - 1;
    }
    else
    {
      v245 = v259 ^ v261 ^ v261;
      v209 = v245 ^ v259 ^ v261;
    }
    v243 = v209;
    goto LABEL_355;
  }
  v109 = *(_DWORD *)v264;
  v258 = 0;
  v257 = 0;
  v256 = 0;
  v255 = 0;
  v110 = (*(int (__thiscall **)(int, int, int))(v109 + 64))(v264, v241, v242);
  v111 = *(_DWORD *)(v264 + 48);
  if ( v111 <= 255 )
  {
    if ( byte_109D1834 || (v113 = *(_DWORD *)(dword_109D1830 + 4 * v111)) == 0 || *(_BYTE *)(v113 + 13) != 3 )
      v112 = *(_DWORD *)(dword_109D1830 + 4 * v111);
    else
      v112 = 0;
  }
  else
  {
    v112 = 0;
  }
  v114 = *(int **)(v112 + 48);
  if ( v110 )
    v252 = *(_DWORD *)(v110 + 408);
  else
    v252 = 1065353216;
  (*(void (__cdecl **)(signed int, int))(*(_DWORD *)v112 + 4))(1065353216, v252);
  v115 = *v114;
  *(float *)&v247 = v24;
  v116 = (*(int (__thiscall **)(int *, double *, _DWORD, _DWORD, _DWORD, signed int, signed int))(v115 + 16))(
           v114,
           &v251,
           0,
           0,
           0,
           1065353216,
           1065353216);
  v117 = *(float *)&v247 - 1.0;
  v118 = *(_DWORD *)(v116 + 4);
  v119 = *(_DWORD *)(v116 + 8);
  v120 = *(_DWORD *)(v116 + 12);
  v255 = *(_DWORD *)v116;
  v121 = *(_DWORD *)(v116 + 4);
  v246 = v120;
  v256 = v121;
  v257 = *(_DWORD *)(v116 + 8);
  v258 = *(_DWORD *)(v116 + 12);
  LODWORD(v248) = (signed __int64)((double)(v120 - v118) * v117 * 0.5);
  LODWORD(v251) = v119 - v255;
  v122 = (signed __int64)((double)(v119 - v255) * v117 * 0.5);
  v123 = v255 - v122;
  v124 = v122 + v119;
  v125 = (double)v255 * *(float *)&v247;
  v126 = v118 - LODWORD(v248);
  v246 = LODWORD(v248) + v120;
  if ( v125 <= 0.0 )
    v127 = v125 - 0.5;
  else
    v127 = v125 + 0.5;
  v255 = (signed __int64)v127;
  v128 = (double)v256 * *(float *)&v247;
  if ( v128 <= 0.0 )
    v129 = v128 - 0.5;
  else
    v129 = v128 + 0.5;
  v256 = (signed __int64)v129;
  v130 = (double)v257 * *(float *)&v247;
  if ( v130 <= 0.0 )
    v131 = v130 - 0.5;
  else
    v131 = v130 + 0.5;
  v257 = (signed __int64)v131;
  v132 = (double)v258 * *(float *)&v247;
  if ( v132 <= 0.0 )
    v133 = v132 - 0.5;
  else
    v133 = v132 + 0.5;
  v258 = (signed __int64)v133;
  sub_1002CFC0((int)&v255);
  v134 = v124 - v123;
  v135 = v246 - v126;
  if ( v134 > v246 - v126 )
    v135 = v134;
  v136 = v135 / 2;
  v137 = *(_DWORD *)v36 - v135 / 2;
  v138 = *(_DWORD *)(v264 + 8) - v135 / 2;
  v139 = v135 / 2 + *(_DWORD *)v36;
  v140 = v136 + *(_DWORD *)(v264 + 8);
  v245 = v136 + *(_DWORD *)v36;
  v246 = v140;
  if ( v137 || v139 || v138 || v140 )
  {
    if ( (unsigned __int8)sub_1002CF90(v36) )
    {
      v141 = v245;
      v142 = v246;
      *(_DWORD *)v36 = v137;
      *(_DWORD *)(v36 + 4) = v138;
      *(_DWORD *)(v36 + 8) = v141;
      *(_DWORD *)(v36 + 12) = v142;
    }
    else
    {
      if ( *(_DWORD *)v36 < v137 )
        v137 = *(_DWORD *)v36;
      v143 = *(_DWORD *)(v36 + 4);
      *(_DWORD *)v36 = v137;
      if ( v143 >= v138 )
        v143 = v138;
      v144 = v245;
      *(_DWORD *)(v36 + 4) = v143;
      v145 = *(_DWORD *)(v36 + 8);
      if ( v145 <= v144 )
        v145 = v144;
      v146 = v246;
      *(_DWORD *)(v36 + 8) = v145;
      v147 = *(_DWORD *)(v36 + 12);
      if ( v147 <= v146 )
        v147 = v146;
      *(_DWORD *)(v36 + 12) = v147;
    }
  }
  v148 = *(_DWORD *)(v264 + 12) - v136;
  v149 = *(_DWORD *)(v264 + 16) - v136;
  v150 = v136 + *(_DWORD *)(v264 + 12);
  v151 = *(_DWORD *)(v264 + 16) + v136;
  v245 = v150;
  if ( v148 || v150 || v149 || v151 )
  {
    if ( (unsigned __int8)sub_1002CF90(v36) )
    {
      v152 = v245;
      *(_DWORD *)v36 = v148;
      *(_DWORD *)(v36 + 4) = v149;
      *(_DWORD *)(v36 + 8) = v152;
      *(_DWORD *)(v36 + 12) = v151;
    }
    else
    {
      if ( *(_DWORD *)v36 < v148 )
        v148 = *(_DWORD *)v36;
      v153 = *(_DWORD *)(v36 + 4);
      *(_DWORD *)v36 = v148;
      if ( v153 >= v149 )
        v153 = v149;
      v154 = v245;
      *(_DWORD *)(v36 + 4) = v153;
      v155 = *(_DWORD *)(v36 + 8);
      if ( v155 <= v154 )
        v155 = v154;
      *(_DWORD *)(v36 + 8) = v155;
      v156 = *(_DWORD *)(v36 + 12);
      if ( v156 <= v151 )
        v156 = v151;
      *(_DWORD *)(v36 + 12) = v156;
    }
  }
  v243 = v250[0] + v255;
  v244 = v250[1] + v256;
  v245 = v250[0] + v257;
  v246 = v250[1] + v258;
  LODWORD(v251) = v250[0] - LODWORD(v249);
  HIDWORD(v251) = v250[1] - HIDWORD(v249);
  *(float *)&v248 = sqrt((double)(v250[0] - LODWORD(v249)) * (double)(v250[0] - LODWORD(v249)) + (double)(v250[1] - HIDWORD(v249))
                                                                                               * (double)(v250[1] - HIDWORD(v249)));
  if ( *(float *)&v248 == 0.0 )
  {
    v157 = 0.0;
    v158 = 0.0;
  }
  else
  {
    v157 = (double)SLODWORD(v251) / *(float *)&v248;
    v158 = (double)SHIDWORD(v251) / *(float *)&v248;
  }
  v248 = -v157;
  v251 = v158;
  v159 = HIDWORD(v251);
  v266 = v243;
  v267 = v244;
  sub_10026A20(v250[0], v250[1], (int)&v266, v158, v248);
  v268 = v245;
  v269 = v244;
  sub_10026A20(v250[0], v250[1], (int)&v268, COERCE_DOUBLE(__PAIR__(v159, LODWORD(v251))), v248);
  v270 = v245;
  v271 = v246;
  sub_10026A20(v250[0], v250[1], (int)&v270, COERCE_DOUBLE(__PAIR__(v159, LODWORD(v251))), v248);
  v272 = v243;
  v273 = v246;
  sub_10026A20(v250[0], v250[1], (int)&v272, COERCE_DOUBLE(__PAIR__(v159, LODWORD(v251))), v248);
  v160 = sub_10027050((int)v250, (int)&v266);
  v161 = *(_DWORD *)v160;
  v162 = *(_DWORD *)(v160 + 4);
  v163 = *(_DWORD *)(v160 + 8);
  v164 = *(_DWORD *)(v160 + 12);
  v246 = v164;
  if ( v161 || v163 || v162 || v164 )
  {
    if ( (unsigned __int8)sub_1002CF90(v36) )
    {
      v165 = v246;
      *(_DWORD *)v36 = v161;
      *(_DWORD *)(v36 + 4) = v162;
      *(_DWORD *)(v36 + 8) = v163;
      *(_DWORD *)(v36 + 12) = v165;
    }
    else
    {
      if ( *(_DWORD *)v36 < v161 )
        v161 = *(_DWORD *)v36;
      v166 = *(_DWORD *)(v36 + 4);
      *(_DWORD *)v36 = v161;
      if ( v166 >= v162 )
        v166 = v162;
      *(_DWORD *)(v36 + 4) = v166;
      v167 = *(_DWORD *)(v36 + 8);
      if ( v167 <= v163 )
        v167 = v163;
      v168 = v246;
      *(_DWORD *)(v36 + 8) = v167;
      v169 = *(_DWORD *)(v36 + 12);
      if ( v169 <= v168 )
        v169 = v168;
      *(_DWORD *)(v36 + 12) = v169;
    }
  }
  v243 = v263[0] + v255;
  v244 = v263[1] + v256;
  v245 = v263[0] + v257;
  v246 = v263[1] + v258;
  v250[0] = v263[0] - LODWORD(v249);
  v250[1] = v263[1] - HIDWORD(v249);
  *(float *)&v248 = sqrt((double)(v263[0] - LODWORD(v249)) * (double)(v263[0] - LODWORD(v249)) + (double)(v263[1] - HIDWORD(v249))
                                                                                               * (double)(v263[1] - HIDWORD(v249)));
  if ( *(float *)&v248 == 0.0 )
  {
    v170 = 0.0;
    v171 = 0.0;
  }
  else
  {
    v170 = (double)v250[0] / *(float *)&v248;
    v171 = (double)v250[1] / *(float *)&v248;
  }
  v248 = -v170;
  v251 = v171;
  v172 = HIDWORD(v251);
  v266 = v243;
  v267 = v244;
  sub_10026A20(v263[0], v263[1], (int)&v266, v171, v248);
  v268 = v245;
  v269 = v244;
  sub_10026A20(v263[0], v263[1], (int)&v268, COERCE_DOUBLE(__PAIR__(v172, LODWORD(v251))), v248);
  v270 = v245;
  v271 = v246;
  sub_10026A20(v263[0], v263[1], (int)&v270, COERCE_DOUBLE(__PAIR__(v172, LODWORD(v251))), v248);
  v272 = v243;
  v273 = v246;
  sub_10026A20(v263[0], v263[1], (int)&v272, COERCE_DOUBLE(__PAIR__(v172, LODWORD(v251))), v248);
  v173 = sub_10027050((int)v263, (int)&v266);
  v174 = *(_DWORD *)v173;
  v175 = *(_DWORD *)(v173 + 4);
  v176 = *(_DWORD *)(v173 + 8);
  v177 = *(_DWORD *)(v173 + 12);
  v246 = v177;
  if ( !v174 && !v176 && !v175 && !v177 )
    goto LABEL_393;
  if ( !(unsigned __int8)sub_1002CF90(v36) )
  {
    if ( *(_DWORD *)v36 < v174 )
      v174 = *(_DWORD *)v36;
    v179 = *(_DWORD *)(v36 + 4);
    *(_DWORD *)v36 = v174;
    if ( v179 >= v175 )
      v179 = v175;
    *(_DWORD *)(v36 + 4) = v179;
    v180 = *(_DWORD *)(v36 + 8);
    if ( v180 <= v176 )
      v180 = v176;
    v181 = v246;
    *(_DWORD *)(v36 + 8) = v180;
    v182 = *(_DWORD *)(v36 + 12);
    if ( v182 > v181 )
      goto LABEL_392;
    goto LABEL_391;
  }
  v178 = v246;
  *(_DWORD *)v36 = v174;
  *(_DWORD *)(v36 + 4) = v175;
  *(_DWORD *)(v36 + 8) = v176;
  *(_DWORD *)(v36 + 12) = v178;
LABEL_393:
  v233 = *(_DWORD *)(v36 + 4) - (v265 + 1);
  v234 = v265 + 1 + *(_DWORD *)(v36 + 8);
  v235 = v265 + 1 + *(_DWORD *)(v36 + 12);
  v236 = v264;
  *(_DWORD *)v36 -= v265 + 1;
  *(_DWORD *)(v36 + 4) = v233;
  *(_DWORD *)(v36 + 8) = v234;
  *(_DWORD *)(v36 + 12) = v235;
  *(_BYTE *)(v236 + 24) |= 2u;
  v9 = v236;
LABEL_394:
  if ( a6 )
  {
    v237 = *(_DWORD *)(v9 + 20);
    if ( *(_DWORD *)(v237 + 352) )
    {
      v238 = sub_1001F5E0((void *)v237, (int)v263);
      sub_100271F0(a4, v9 + 4, a7, *(_DWORD *)v238, *(_DWORD *)(v238 + 4), a8, a9);
      result = a4;
    }
    else
    {
      sub_100270C0(a4, v9 + 4, a7);
      result = a4;
    }
  }
  else
  {
    result = a4;
    v240 = v9 + 4;
    *(_DWORD *)a4 = *(_DWORD *)v240;
    *(_DWORD *)(a4 + 4) = *(_DWORD *)(v240 + 4);
    *(_DWORD *)(a4 + 8) = *(_DWORD *)(v240 + 8);
    *(_DWORD *)(a4 + 12) = *(_DWORD *)(v240 + 12);
  }
  return result;
}
// 10029A60: could not find valid save-restore pair for ebx
// 10029A60: could not find valid save-restore pair for ebp
// 10029A60: failed to expand linear variable anonymous1
// 10029A60: failed to expand linear variable anonymous0
// 109D1830: using guessed type int dword_109D1830;
// 109D1834: using guessed type char byte_109D1834;

//----- (1002B000) --------------------------------------------------------
int __userpurge sub_1002B000@<eax>(int a1@<ecx>, double a2@<st0>, int a3, int a4, char a5, int a6, float a7, float a8)
{
  int v8; // esi@1
  char v9; // al@1
  int result; // eax@3
  int v11; // esi@3
  int v12; // eax@4
  int v13; // ecx@4
  int v14; // edi@4
  int v15; // ebx@4
  int v16; // edx@4
  char v17; // cl@6
  int v18; // eax@6
  int v19; // eax@9
  int v20; // ecx@9
  int v21; // ebx@9
  int v22; // edx@9
  int v23; // ebx@9
  int v24; // ecx@10
  int v25; // eax@17
  int v26; // ecx@24
  int v27; // eax@24
  int v28; // edx@24
  int v29; // ebx@24
  int v30; // ebx@27
  int v31; // eax@27
  int v32; // ebx@32
  int v33; // ecx@36
  int v34; // eax@41
  int v35; // ecx@43
  int v36; // eax@43
  int v37; // ecx@49
  int v38; // edi@49
  int v39; // ebx@49
  unsigned __int16 v40; // ax@49
  int v41; // eax@49
  int v42; // ecx@49
  int v43; // eax@49
  unsigned __int16 v44; // dx@50
  int v45; // eax@50
  int v46; // edi@52
  int v47; // ebx@59
  int *v48; // edx@66
  int v49; // ebx@77
  int v50; // edi@77
  signed int v51; // eax@84
  int v52; // ecx@87
  int v53; // ecx@89
  int v54; // edx@91
  int v55; // eax@91
  signed int v56; // ecx@91
  int v57; // ecx@92
  int v58; // edx@94
  int v59; // edi@98
  int v60; // eax@101
  double v61; // st7@101
  double v62; // st7@102
  double v63; // st7@104
  double v64; // st7@105
  double v65; // st7@107
  double v66; // st7@108
  double v67; // st7@110
  double v68; // st7@111
  int j; // ebx@113
  int v70; // eax@115
  int v71; // ecx@115
  long double v72; // st5@115
  int v73; // eax@118
  int v74; // ecx@118
  int v75; // edx@118
  unsigned int v76; // edi@118
  int v77; // eax@118
  int v78; // ecx@118
  bool v79; // zf@118
  int v80; // edx@118
  int v81; // edi@118
  int v82; // edi@122
  _DWORD *v83; // edx@122
  int v84; // eax@126
  int v85; // eax@129
  int v86; // ecx@131
  int v87; // eax@131
  int v88; // ecx@133
  int v89; // edi@137
  int v90; // edx@137
  int v91; // eax@137
  int v92; // ecx@137
  int v93; // ST68_4@137
  int v94; // ebx@137
  double v95; // st7@138
  double v96; // st6@138
  int v97; // edx@140
  int v98; // eax@140
  unsigned int v99; // edi@140
  unsigned int v100; // ebx@140
  int v101; // eax@140
  int v102; // ecx@140
  int v103; // edx@140
  int v104; // edi@140
  int v105; // ebx@140
  int v106; // ebx@144
  int v107; // eax@151
  int v108; // eax@153
  int v109; // ecx@155
  int v110; // eax@155
  int v111; // ecx@160
  int v112; // eax@162
  int v113; // eax@164
  signed int v114; // ecx@164
  int v115; // edi@165
  int v116; // edx@167
  char v117; // al@175
  int v118; // edi@176
  double v119; // st7@178
  double v120; // st7@179
  signed int v121; // ebx@181
  double v122; // st7@181
  double v123; // st7@182
  int v124; // edi@184
  int v125; // eax@185
  int v126; // eax@186
  int v127; // eax@189
  int v128; // ecx@194
  bool v129; // sf@194
  unsigned __int8 v130; // of@194
  int v131; // ecx@195
  unsigned __int16 v132; // ax@195
  int v133; // eax@199
  int v134; // edx@199
  long double v135; // st5@199
  int v136; // eax@202
  unsigned int v137; // ebx@202
  unsigned int v138; // edi@202
  int v139; // eax@202
  int v140; // edi@202
  int v141; // ebx@202
  int v142; // edx@202
  int v143; // eax@220
  int *v144; // ecx@220
  int v145; // edx@224
  int v146; // eax@227
  int v147; // eax@229
  int v148; // edx@229
  int v149; // eax@231
  int v150; // ecx@234
  int v151; // edi@235
  int v152; // edx@235
  int v153; // ecx@235
  int v154; // ST68_4@235
  int v155; // eax@235
  double v156; // st7@236
  double v157; // st6@236
  int v158; // eax@238
  unsigned int v159; // ebx@238
  int v160; // edx@238
  unsigned int v161; // edi@238
  int v162; // eax@238
  int v163; // edi@238
  int v164; // ebx@238
  int v165; // edx@238
  int v166; // ecx@252
  int v167; // eax@256
  int v168; // eax@263
  int v169; // eax@265
  int v170; // ecx@272
  int v171; // eax@273
  int v172; // esi@275
  int v173; // [sp+20h] [bp-84h]@6
  float v174; // [sp+20h] [bp-84h]@99
  float v175; // [sp+20h] [bp-84h]@137
  _BYTE *i; // [sp+20h] [bp-84h]@173
  float v177; // [sp+20h] [bp-84h]@235
  int v178; // [sp+24h] [bp-80h]@9
  float v179; // [sp+24h] [bp-80h]@175
  signed int v180; // [sp+2Ch] [bp-78h]@6
  float v181; // [sp+2Ch] [bp-78h]@101
  int v182; // [sp+2Ch] [bp-78h]@165
  int v183; // [sp+34h] [bp-70h]@1
  int v184; // [sp+38h] [bp-6Ch]@1
  int v185; // [sp+3Ch] [bp-68h]@1
  int v186; // [sp+40h] [bp-64h]@1
  int v187; // [sp+44h] [bp-60h]@115
  int v188; // [sp+48h] [bp-5Ch]@115
  double v189; // [sp+4Ch] [bp-58h]@4
  int v190; // [sp+54h] [bp-50h]@101
  int v191; // [sp+58h] [bp-4Ch]@118
  int v192; // [sp+5Ch] [bp-48h]@118
  int v193; // [sp+60h] [bp-44h]@118
  int v194; // [sp+64h] [bp-40h]@202
  int v195; // [sp+68h] [bp-3Ch]@202
  int v196[2]; // [sp+6Ch] [bp-38h]@202
  double v197; // [sp+74h] [bp-30h]@4
  int v198; // [sp+84h] [bp-20h]@118
  int v199; // [sp+88h] [bp-1Ch]@118
  int v200; // [sp+8Ch] [bp-18h]@118
  int v201; // [sp+90h] [bp-14h]@118
  int v202; // [sp+94h] [bp-10h]@118
  int v203; // [sp+98h] [bp-Ch]@118
  int v204; // [sp+9Ch] [bp-8h]@118
  int v205; // [sp+A0h] [bp-4h]@118

  v8 = a1;
  v9 = *(_BYTE *)(a1 + 24);
  v186 = 0;
  v185 = 0;
  v184 = 0;
  v183 = 0;
  if ( v9 & 2 )
    goto LABEL_271;
  (*(void (**)(void))(*(_DWORD *)a1 + 64))();
  if ( !*(_WORD *)(v8 + 96) )
  {
    result = a3;
    v11 = v8 + 4;
    *(_DWORD *)(v11 + 12) = 0;
    *(_DWORD *)(v11 + 8) = 0;
    *(_DWORD *)(v11 + 4) = 0;
    *(_DWORD *)v11 = 0;
    *(_DWORD *)a3 = 0;
    *(_DWORD *)(a3 + 4) = *(_DWORD *)(v11 + 4);
    *(_DWORD *)(a3 + 8) = *(_DWORD *)(v11 + 8);
    *(_DWORD *)(a3 + 12) = *(_DWORD *)(v11 + 12);
    return result;
  }
  v12 = *(_DWORD *)(v8 + 92);
  v13 = *(_DWORD *)(v8 + 44);
  v14 = *(_DWORD *)v12;
  v15 = *(_DWORD *)(v12 + 4);
  HIDWORD(v197) = *(_DWORD *)(v12 + 4);
  v16 = *(_DWORD *)(v8 + 44) / 2;
  LODWORD(v189) = *(_DWORD *)(v8 + 44) / 2;
  if ( !LODWORD(v189) )
  {
    v16 = 1;
    LODWORD(v189) = 1;
  }
  v17 = ~(_BYTE)v13;
  v18 = v17 & 1;
  v173 = v17 & 1;
  v180 = 0;
  if ( *(_WORD *)(v8 + 96) )
  {
    while ( 1 )
    {
      v19 = v15;
      v20 = v14;
      v21 = *(_DWORD *)(v8 + 92) + 8 * v180;
      v178 = v21;
      v22 = *(_DWORD *)v21;
      v23 = *(_DWORD *)(v21 + 4);
      v186 = v23;
      if ( v14 <= v22 )
      {
        if ( v14 == v22 )
        {
          if ( v22 == 0x7FFFFFFF )
          {
            if ( v14 != 0x80000000 )
              v20 = v14 - 1;
          }
          else
          {
            ++v22;
          }
        }
      }
      else
      {
        v24 = v14 ^ v22;
        v22 ^= v14 ^ v22;
        v20 = v22 ^ v24;
      }
      if ( SHIDWORD(v197) <= v23 )
      {
        if ( HIDWORD(v197) == v23 )
        {
          if ( v23 == 0x7FFFFFFF )
          {
            if ( HIDWORD(v197) != 0x80000000 )
              v19 = HIDWORD(v197) - 1;
          }
          else
          {
            v186 = ++v23;
          }
        }
      }
      else
      {
        v25 = HIDWORD(v197) ^ v23;
        v23 ^= HIDWORD(v197) ^ v23;
        v186 = v23;
        v19 = v23 ^ v25;
      }
      if ( *(_DWORD *)(v8 + 48) )
      {
        v26 = v20 - v173;
        v27 = v19 - v173;
        v28 = v22 + 1;
        v29 = v23 + 1;
      }
      else
      {
        v26 = v20 - (v173 + LODWORD(v189));
        v27 = v19 - (LODWORD(v189) + v173);
        v28 = LODWORD(v189) + v22;
        v29 = LODWORD(v189) + v186;
      }
      v186 = v29;
      v14 = *(_DWORD *)v178;
      HIDWORD(v197) = *(_DWORD *)(v178 + 4);
      if ( v180++ )
      {
        if ( v26 || v28 || v27 || v186 )
        {
          v32 = *(_DWORD *)(v8 + 4);
          if ( v32 || *(_DWORD *)(v8 + 12) || *(_DWORD *)(v8 + 8) || *(_DWORD *)(v8 + 16) )
          {
            if ( v32 < v26 )
              v26 = *(_DWORD *)(v8 + 4);
            *(_DWORD *)(v8 + 4) = v26;
            if ( *(_DWORD *)(v8 + 8) < v27 )
              v27 = *(_DWORD *)(v8 + 8);
            *(_DWORD *)(v8 + 8) = v27;
            v34 = *(_DWORD *)(v8 + 12);
            if ( v34 <= v28 )
              v34 = v28;
            v35 = v186;
            *(_DWORD *)(v8 + 12) = v34;
            v36 = *(_DWORD *)(v8 + 16);
            if ( v36 <= v35 )
              v36 = v35;
            *(_DWORD *)(v8 + 16) = v36;
          }
          else
          {
            *(_DWORD *)(v8 + 4) = v26;
            v33 = v186;
            *(_DWORD *)(v8 + 8) = v27;
            *(_DWORD *)(v8 + 12) = v28;
            *(_DWORD *)(v8 + 16) = v33;
          }
        }
      }
      else
      {
        v30 = v8 + 4;
        *(_DWORD *)(v8 + 4) = v26;
        *(_DWORD *)(v30 + 4) = v27;
        v31 = v186;
        *(_DWORD *)(v30 + 8) = v28;
        *(_DWORD *)(v30 + 12) = v31;
      }
      if ( v180 >= *(_WORD *)(v8 + 96) )
        break;
      v15 = HIDWORD(v197);
    }
    v18 = v173;
    v16 = LODWORD(v189);
    v15 = HIDWORD(v197);
  }
  if ( *(_DWORD *)(v8 + 48) )
  {
    v38 = v14 - v18;
    v44 = *(_WORD *)(v8 + 96);
    v39 = v15 - v18;
    v45 = *(_DWORD *)(v8 + 92);
    v184 = v39;
    v42 = *(_DWORD *)(v45 + 8 * v44 - 8) + 1;
    v43 = *(_DWORD *)(v45 + 8 * v44 - 4) + 1;
  }
  else
  {
    v37 = *(_DWORD *)(v8 + 92);
    v38 = v18 + v14 - v16;
    v39 = v18 + v15 - v16;
    v40 = *(_WORD *)(v8 + 96);
    v184 = v39;
    v41 = v37 + 8 * v40;
    v42 = v16 + *(_DWORD *)(v41 - 8);
    v43 = v16 + *(_DWORD *)(v41 - 4);
  }
  if ( v38 <= v42 )
  {
    if ( v38 == v42 )
    {
      if ( v42 == 0x7FFFFFFF )
      {
        if ( v38 != 0x80000000 )
          --v38;
      }
      else
      {
        ++v42;
      }
    }
  }
  else
  {
    v46 = v42 ^ v38;
    v42 ^= v46;
    v38 = v42 ^ v46;
  }
  if ( v39 > v43 )
  {
    v47 = v43 ^ v39;
    v43 ^= v47;
    v39 = v43 ^ v47;
LABEL_65:
    v184 = v39;
    goto LABEL_66;
  }
  if ( v39 == v43 )
  {
    if ( v43 == 0x7FFFFFFF )
    {
      if ( v39 != 0x80000000 )
      {
        --v39;
        goto LABEL_65;
      }
    }
    else
    {
      ++v43;
    }
  }
LABEL_66:
  v48 = (int *)(v8 + 4);
  if ( v38 || v42 || v39 || v43 )
  {
    if ( *v48 || *(_DWORD *)(v8 + 12) || *(_DWORD *)(v8 + 8) || *(_DWORD *)(v8 + 16) )
    {
      if ( *v48 < v38 )
        v38 = *v48;
      v49 = v184;
      *v48 = v38;
      v50 = *(_DWORD *)(v8 + 8);
      if ( v50 >= v49 )
        v50 = v49;
      *(_DWORD *)(v8 + 8) = v50;
      if ( *(_DWORD *)(v8 + 12) > v42 )
        v42 = *(_DWORD *)(v8 + 12);
      *(_DWORD *)(v8 + 12) = v42;
      if ( *(_DWORD *)(v8 + 16) > v43 )
        v43 = *(_DWORD *)(v8 + 16);
    }
    else
    {
      *v48 = v38;
      *(_DWORD *)(v8 + 8) = v184;
      *(_DWORD *)(v8 + 12) = v42;
    }
    *(_DWORD *)(v8 + 16) = v43;
  }
  v51 = *(_DWORD *)(v8 + 48);
  if ( v51 < 6
    || v51 > 255
    || !byte_109D1834 && (v52 = *(_DWORD *)(dword_109D1830 + 4 * v51)) != 0 && *(_BYTE *)(v52 + 13) == 3
    || (v53 = *(_DWORD *)(dword_109D1830 + 4 * v51)) == 0
    || *(_BYTE *)(v53 + 13) != 3 )
  {
    if ( v51 < 6 )
      goto LABEL_270;
    if ( v51 > 255 )
      goto LABEL_270;
    if ( !byte_109D1834 )
    {
      v111 = *(_DWORD *)(dword_109D1830 + 4 * v51);
      if ( v111 )
      {
        if ( *(_BYTE *)(v111 + 13) == 3 )
          goto LABEL_270;
      }
    }
    v112 = *(_DWORD *)(dword_109D1830 + 4 * v51);
    if ( !v112 || *(_BYTE *)(v112 + 13) != 1 )
      goto LABEL_270;
    v113 = (*(int (__fastcall **)(int, int))(*(_DWORD *)v8 + 64))(v8, dword_109D1830);
    v114 = *(_DWORD *)(v8 + 48);
    if ( v114 <= 255 )
    {
      if ( byte_109D1834 || (v116 = *(_DWORD *)(dword_109D1830 + 4 * v114)) == 0 || *(_BYTE *)(v116 + 13) != 3 )
        v182 = *(_DWORD *)(dword_109D1830 + 4 * v114);
      else
        v182 = 0;
      v115 = v182;
    }
    else
    {
      v115 = 0;
      v182 = 0;
    }
    if ( v113 )
    {
      i = *(_BYTE **)(v113 + 408);
      (*(void (__thiscall **)(int, signed int, _BYTE *))(*(_DWORD *)v115 + 4))(v115, 1065353216, i);
    }
    else
    {
      *(float *)&i = 1.0;
      (*(void (__thiscall **)(int, signed int, _BYTE *))(*(_DWORD *)v115 + 4))(v115, 1065353216, (_BYTE *)1065353216);
    }
    v179 = a2;
    v190 = 0;
    v191 = 0;
    v192 = 0;
    v193 = 0;
    v117 = *(_BYTE *)(v115 + 20);
    LODWORD(v189) = 0;
    if ( !v117 )
    {
LABEL_195:
      v131 = 0;
      v132 = *(_WORD *)(v8 + 96);
      LODWORD(v189) = 0;
      if ( v132 - 1 > 0 )
      {
        while ( 1 )
        {
          if ( !(v131 & 1) )
          {
            v133 = *(_DWORD *)(v8 + 92);
            v134 = *(_DWORD *)(v133 + 8 * v131 + 8) - *(_DWORD *)(v133 + 8 * v131);
            v188 = *(_DWORD *)(v133 + 8 * v131 + 12) - *(_DWORD *)(v133 + 8 * v131 + 4);
            v187 = v134;
            v135 = sqrt((double)v134 * (double)v134 + (double)v188 * (double)v188);
            if ( v135 == 0.0 )
            {
              *(float *)&i = 0.0;
              v179 = 0.0;
            }
            else
            {
              *(float *)&i = (double)v187 / v135;
              v179 = (double)v188 / v135;
            }
          }
          v136 = *(_DWORD *)(v8 + 92) + 8 * v131;
          v197 = v179;
          v137 = LODWORD(v197);
          v194 = v190 + *(_DWORD *)v136;
          v138 = HIDWORD(v197);
          v195 = v191 + *(_DWORD *)(v136 + 4);
          sub_10026A20(*(_DWORD *)v136, *(_DWORD *)(v136 + 4), (int)&v194, *(float *)&i, v179);
          v139 = *(_DWORD *)(v8 + 92) + 8 * LODWORD(v189);
          v196[0] = v192 + *(_DWORD *)v139;
          v196[1] = v193 + *(_DWORD *)(v139 + 4);
          sub_10026A20(
            *(_DWORD *)v139,
            *(_DWORD *)(v139 + 4),
            (int)v196,
            *(float *)&i,
            COERCE_DOUBLE(__PAIR__(v138, v137)));
          v140 = v195;
          v141 = v196[1];
          v142 = v194;
          v185 = v196[0];
          if ( v194 <= v196[0] )
          {
            if ( v194 == v196[0] )
            {
              if ( v196[0] == 0x7FFFFFFF )
              {
                if ( v194 != 0x80000000 )
                  v142 = v194 - 1;
              }
              else
              {
                v185 = v196[0] + 1;
              }
            }
          }
          else
          {
            v185 = v194 ^ v196[0] ^ v196[0];
            v142 = v185 ^ v194 ^ v196[0];
          }
          if ( v195 <= v196[1] )
          {
            if ( v195 == v196[1] )
            {
              if ( v196[1] == 0x7FFFFFFF )
              {
                if ( v195 != 0x80000000 )
                  v140 = v195 - 1;
              }
              else
              {
                v141 = v196[1] + 1;
              }
            }
          }
          else
          {
            v141 = v196[1] ^ v195 ^ v196[1];
            v140 = v141 ^ v195 ^ v196[1];
          }
          if ( v142 || v185 || v140 || v141 )
          {
            v143 = *(_DWORD *)(v8 + 4);
            v144 = (int *)(v8 + 4);
            if ( v143 || *(_DWORD *)(v8 + 12) || *(_DWORD *)(v8 + 8) || *(_DWORD *)(v8 + 16) )
            {
              if ( v143 < v142 )
                v142 = *(_DWORD *)(v8 + 4);
              v146 = *(_DWORD *)(v8 + 8);
              *v144 = v142;
              if ( v146 < v140 )
                v140 = v146;
              v147 = *(_DWORD *)(v8 + 12);
              v148 = v185;
              v130 = __OFSUB__(v147, v185);
              v79 = v147 == v185;
              v129 = v147 - v185 < 0;
              *(_DWORD *)(v8 + 8) = v140;
              if ( (unsigned __int8)(v129 ^ v130) | v79 )
                v147 = v148;
              *(_DWORD *)(v8 + 12) = v147;
              v149 = *(_DWORD *)(v8 + 16);
              if ( v149 <= v141 )
                v149 = v141;
              *(_DWORD *)(v8 + 16) = v149;
            }
            else
            {
              *v144 = v142;
              v145 = v185;
              *(_DWORD *)(v8 + 8) = v140;
              *(_DWORD *)(v8 + 12) = v145;
              *(_DWORD *)(v8 + 16) = v141;
            }
          }
          v150 = *(_WORD *)(v8 + 96) - 1;
          if ( ++LODWORD(v189) >= v150 )
            break;
          v131 = LODWORD(v189);
        }
      }
      v151 = *(_DWORD *)(v8 + 92);
      v152 = *(_WORD *)(v8 + 96);
      v153 = v151 + 8 * (unsigned __int16)v152 - 8;
      v154 = *(_DWORD *)(v151 + 8 * (unsigned __int16)v152 - 4);
      v155 = *(_DWORD *)v153;
      LODWORD(v197) = *(_DWORD *)(v151 + 8 * (unsigned __int16)v152 - 16);
      HIDWORD(v197) = *(_DWORD *)(v151 + 8 * (unsigned __int16)v152 - 12);
      v187 = v155 - LODWORD(v197);
      v188 = v154 - HIDWORD(v197);
      v177 = sqrt((double)v187 * (double)v187 + (double)(v154 - HIDWORD(v197)) * (double)(v154 - HIDWORD(v197)));
      if ( v177 == 0.0 )
      {
        v156 = 0.0;
        v157 = 0.0;
      }
      else
      {
        v156 = (double)v187 / v177;
        v157 = (double)v188 / v177;
      }
      v158 = *(_DWORD *)v153;
      v197 = v157;
      v159 = LODWORD(v197);
      v194 = v190 + v158;
      v160 = *(_DWORD *)(v151 + 8 * v152 - 4);
      v161 = HIDWORD(v197);
      v195 = v191 + v160;
      sub_10026A20(*(_DWORD *)v153, *(_DWORD *)(v153 + 4), (int)&v194, v156, v157);
      v162 = *(_DWORD *)(v8 + 92) + 8 * *(_WORD *)(v8 + 96);
      v196[0] = v192 + *(_DWORD *)(v162 - 8);
      v196[1] = v193 + *(_DWORD *)(v162 - 4);
      sub_10026A20(*(_DWORD *)(v162 - 8), *(_DWORD *)(v162 - 4), (int)v196, v156, COERCE_DOUBLE(__PAIR__(v161, v159)));
      v163 = v195;
      v164 = v196[1];
      v165 = v194;
      v185 = v196[0];
      if ( v194 <= v196[0] )
      {
        if ( v194 == v196[0] )
        {
          if ( v196[0] == 0x7FFFFFFF )
          {
            if ( v194 != 0x80000000 )
              v165 = v194 - 1;
          }
          else
          {
            v185 = v196[0] + 1;
          }
        }
      }
      else
      {
        v185 = v194 ^ v196[0] ^ v196[0];
        v165 = v185 ^ v194 ^ v196[0];
      }
      if ( v195 <= v196[1] )
      {
        if ( v195 == v196[1] )
        {
          if ( v196[1] == 0x7FFFFFFF )
          {
            if ( v195 != 0x80000000 )
              v163 = v195 - 1;
          }
          else
          {
            v164 = v196[1] + 1;
          }
        }
      }
      else
      {
        v164 = v196[1] ^ v195 ^ v196[1];
        v163 = v164 ^ v195 ^ v196[1];
      }
      v166 = v185;
      if ( !v165 && !v185 && !v163 && !v164 )
        goto LABEL_270;
      v167 = *(_DWORD *)(v8 + 4);
      if ( !v167 && !*(_DWORD *)(v8 + 12) && !*(_DWORD *)(v8 + 8) && !*(_DWORD *)(v8 + 16) )
      {
        *(_DWORD *)(v8 + 4) = v165;
        *(_DWORD *)(v8 + 8) = v163;
        *(_DWORD *)(v8 + 12) = v166;
        *(_DWORD *)(v8 + 16) = v164;
        goto LABEL_270;
      }
      if ( v167 < v165 )
        v165 = *(_DWORD *)(v8 + 4);
      v168 = *(_DWORD *)(v8 + 8);
      *(_DWORD *)(v8 + 4) = v165;
      if ( v168 < v163 )
        v163 = v168;
      v169 = *(_DWORD *)(v8 + 12);
      *(_DWORD *)(v8 + 8) = v163;
      if ( v169 <= v166 )
        v169 = v166;
      *(_DWORD *)(v8 + 12) = v169;
      v110 = *(_DWORD *)(v8 + 16);
      if ( v110 <= v164 )
        v110 = v164;
LABEL_269:
      *(_DWORD *)(v8 + 16) = v110;
      goto LABEL_270;
    }
    v118 = v115 + 36;
    for ( i = (_BYTE *)v118; ; v118 = (int)i )
    {
      v119 = (double)*(signed int *)(v118 - 4) * v179;
      v120 = v119 <= 0.0 ? v119 - 0.5 : v119 + 0.5;
      v121 = (signed __int64)v120;
      v122 = (double)*(signed int *)(v118 + 4) * v179;
      v123 = v122 <= 0.0 ? v122 - 0.5 : v122 + 0.5;
      v124 = (signed __int64)v123;
      if ( !*i )
        break;
      if ( *i == 1 )
      {
        v127 = v121 / 2;
        if ( v121 / 2 - v124 > v191 )
          v191 = v127 - v124;
        v125 = v124 + v127;
        goto LABEL_186;
      }
      if ( v121 - v124 > v191 )
        v191 = v121 - v124;
LABEL_194:
      v128 = *(_BYTE *)(v182 + 20);
      v130 = __OFSUB__(LODWORD(v189) + 1, v128);
      v129 = LODWORD(v189)++ + 1 - v128 < 0;
      i += 20;
      if ( !(v129 ^ v130) )
        goto LABEL_195;
    }
    v125 = v124 + v121;
LABEL_186:
    v126 = -v125;
    if ( v126 < v193 )
      v193 = v126;
    goto LABEL_194;
  }
  v54 = *(_DWORD *)v8;
  v186 = 0;
  v185 = 0;
  v184 = 0;
  v183 = 0;
  v55 = (*(int (__thiscall **)(int))(v54 + 64))(v8);
  v56 = *(_DWORD *)(v8 + 48);
  if ( v56 <= 255 )
  {
    if ( byte_109D1834 || (v58 = *(_DWORD *)(dword_109D1830 + 4 * v56)) == 0 || *(_BYTE *)(v58 + 13) != 3 )
      v57 = *(_DWORD *)(dword_109D1830 + 4 * v56);
    else
      v57 = 0;
  }
  else
  {
    v57 = 0;
  }
  v59 = *(_DWORD *)(v57 + 48);
  if ( v55 )
  {
    v174 = *(float *)(v55 + 408);
    (*(void (__stdcall **)(signed int, float))(*(_DWORD *)v57 + 4))(1065353216, COERCE_FLOAT(LODWORD(v174)));
  }
  else
  {
    v174 = 1.0;
    (*(void (__stdcall **)(signed int, float))(*(_DWORD *)v57 + 4))(1065353216, COERCE_FLOAT(1065353216));
  }
  v181 = a2;
  v60 = (*(int (__thiscall **)(int, int *, _DWORD, _DWORD, _DWORD, signed int, signed int))(*(_DWORD *)v59 + 16))(
          v59,
          &v190,
          0,
          0,
          0,
          1065353216,
          1065353216);
  v183 = *(_DWORD *)v60;
  v184 = *(_DWORD *)(v60 + 4);
  v185 = *(_DWORD *)(v60 + 8);
  v61 = (double)v183 * v181;
  v186 = *(_DWORD *)(v60 + 12);
  if ( v61 <= 0.0 )
    v62 = v61 - 0.5;
  else
    v62 = v61 + 0.5;
  v183 = (signed __int64)v62;
  v63 = (double)v184 * v181;
  if ( v63 <= 0.0 )
    v64 = v63 - 0.5;
  else
    v64 = v63 + 0.5;
  v184 = (signed __int64)v64;
  v65 = (double)v185 * v181;
  if ( v65 <= 0.0 )
    v66 = v65 - 0.5;
  else
    v66 = v65 + 0.5;
  v185 = (signed __int64)v66;
  v67 = (double)v186 * v181;
  if ( v67 <= 0.0 )
    v68 = v67 - 0.5;
  else
    v68 = v67 + 0.5;
  v186 = (signed __int64)v68;
  sub_1002CFC0((int)&v183);
  for ( j = 0; j < *(_WORD *)(v8 + 96) - 1; ++j )
  {
    if ( !(j & 1) )
    {
      v70 = *(_DWORD *)(v8 + 92);
      v71 = *(_DWORD *)(v70 + 8 * j + 8) - *(_DWORD *)(v70 + 8 * j);
      v188 = *(_DWORD *)(v70 + 8 * j + 12) - *(_DWORD *)(v70 + 8 * j + 4);
      v187 = v71;
      v72 = sqrt((double)v71 * (double)v71 + (double)v188 * (double)v188);
      if ( v72 == 0.0 )
      {
        v181 = 0.0;
        v174 = 0.0;
      }
      else
      {
        v181 = (double)v187 / v72;
        v174 = (double)v188 / v72;
      }
    }
    v73 = *(_DWORD *)(v8 + 92) + 8 * j;
    v74 = *(_DWORD *)v73;
    v190 = *(_DWORD *)v73 + v183;
    v75 = *(_DWORD *)(v73 + 4);
    v189 = v174;
    v191 = v75 + v184;
    v192 = v74 + v185;
    v76 = HIDWORD(v189);
    v193 = v75 + v186;
    v198 = v190;
    v199 = v75 + v184;
    sub_10026A20(*(_DWORD *)v73, *(_DWORD *)(v73 + 4), (int)&v198, v181, v174);
    v200 = v192;
    v201 = v191;
    sub_10026A20(
      *(_DWORD *)(*(_DWORD *)(v8 + 92) + 8 * j),
      *(_DWORD *)(*(_DWORD *)(v8 + 92) + 8 * j + 4),
      (int)&v200,
      v181,
      COERCE_DOUBLE(__PAIR__(v76, LODWORD(v189))));
    v202 = v192;
    v203 = v193;
    sub_10026A20(
      *(_DWORD *)(*(_DWORD *)(v8 + 92) + 8 * j),
      *(_DWORD *)(*(_DWORD *)(v8 + 92) + 8 * j + 4),
      (int)&v202,
      v181,
      COERCE_DOUBLE(__PAIR__(v76, LODWORD(v189))));
    v204 = v190;
    v205 = v193;
    sub_10026A20(
      *(_DWORD *)(*(_DWORD *)(v8 + 92) + 8 * j),
      *(_DWORD *)(*(_DWORD *)(v8 + 92) + 8 * j + 4),
      (int)&v204,
      v181,
      COERCE_DOUBLE(__PAIR__(v76, LODWORD(v189))));
    v77 = sub_10027050((int)&v197, (int)&v198);
    v78 = *(_DWORD *)v77;
    v79 = *(_DWORD *)v77 == 0;
    v191 = *(_DWORD *)(v77 + 4);
    v80 = *(_DWORD *)(v77 + 8);
    v192 = *(_DWORD *)(v77 + 8);
    v81 = *(_DWORD *)(v77 + 12);
    v193 = *(_DWORD *)(v77 + 12);
    if ( !v79 || v80 || v191 || v81 )
    {
      v82 = *(_DWORD *)(v8 + 4);
      v83 = (_DWORD *)(v8 + 4);
      if ( v82 || *(_DWORD *)(v8 + 12) || *(_DWORD *)(v8 + 8) || *(_DWORD *)(v8 + 16) )
      {
        if ( v82 < v78 )
          v78 = *(_DWORD *)(v8 + 4);
        v85 = *(_DWORD *)(v8 + 8);
        *v83 = v78;
        if ( v85 >= v191 )
          v85 = v191;
        v86 = v192;
        *(_DWORD *)(v8 + 8) = v85;
        v87 = *(_DWORD *)(v8 + 12);
        if ( v87 <= v86 )
          v87 = v86;
        v88 = v193;
        *(_DWORD *)(v8 + 12) = v87;
        v84 = *(_DWORD *)(v8 + 16);
        if ( v84 <= v88 )
          v84 = v88;
      }
      else
      {
        *v83 = *(_DWORD *)v77;
        *(_DWORD *)(v8 + 8) = *(_DWORD *)(v77 + 4);
        *(_DWORD *)(v8 + 12) = *(_DWORD *)(v77 + 8);
        v84 = *(_DWORD *)(v77 + 12);
      }
      *(_DWORD *)(v8 + 16) = v84;
    }
  }
  v89 = *(_DWORD *)(v8 + 92);
  v90 = *(_WORD *)(v8 + 96);
  v91 = *(_DWORD *)(v89 + 8 * (unsigned __int16)v90 - 8);
  v92 = v89 + 8 * (unsigned __int16)v90 - 8;
  v93 = *(_DWORD *)(v89 + 8 * (unsigned __int16)v90 - 4);
  LODWORD(v197) = *(_DWORD *)(v89 + 8 * (unsigned __int16)v90 - 16);
  v94 = *(_DWORD *)(v89 + 8 * (unsigned __int16)v90 - 12);
  v187 = v91 - LODWORD(v197);
  v188 = v93 - v94;
  v175 = sqrt((double)v187 * (double)v187 + (double)(v93 - v94) * (double)(v93 - v94));
  if ( v175 == 0.0 )
  {
    v95 = 0.0;
    v96 = 0.0;
  }
  else
  {
    v95 = (double)v187 / v175;
    v96 = (double)v188 / v175;
  }
  v97 = *(_DWORD *)(v89 + 8 * v90 - 4);
  v98 = *(_DWORD *)v92;
  v189 = v96;
  v191 = v97 + v184;
  v192 = v98 + v185;
  v99 = HIDWORD(v189);
  v190 = v98 + v183;
  v198 = v98 + v183;
  v100 = LODWORD(v189);
  v193 = v97 + v186;
  v199 = v97 + v184;
  sub_10026A20(*(_DWORD *)v92, *(_DWORD *)(v92 + 4), (int)&v198, v95, v96);
  v200 = v192;
  v201 = v191;
  sub_10026A20(
    *(_DWORD *)(*(_DWORD *)(v8 + 92) + 8 * *(_WORD *)(v8 + 96) - 8),
    *(_DWORD *)(*(_DWORD *)(v8 + 92) + 8 * *(_WORD *)(v8 + 96) - 4),
    (int)&v200,
    v95,
    COERCE_DOUBLE(__PAIR__(v99, v100)));
  v202 = v192;
  v203 = v193;
  sub_10026A20(
    *(_DWORD *)(*(_DWORD *)(v8 + 92) + 8 * *(_WORD *)(v8 + 96) - 8),
    *(_DWORD *)(*(_DWORD *)(v8 + 92) + 8 * *(_WORD *)(v8 + 96) - 4),
    (int)&v202,
    v95,
    COERCE_DOUBLE(__PAIR__(v99, v100)));
  v204 = v190;
  v205 = v193;
  sub_10026A20(
    *(_DWORD *)(*(_DWORD *)(v8 + 92) + 8 * *(_WORD *)(v8 + 96) - 8),
    *(_DWORD *)(*(_DWORD *)(v8 + 92) + 8 * *(_WORD *)(v8 + 96) - 4),
    (int)&v204,
    v95,
    COERCE_DOUBLE(__PAIR__(v99, v100)));
  v101 = sub_10027050((int)&v197, (int)&v198);
  v102 = *(_DWORD *)v101;
  v79 = *(_DWORD *)v101 == 0;
  v103 = *(_DWORD *)(v101 + 4);
  v104 = *(_DWORD *)(v101 + 8);
  v105 = *(_DWORD *)(v101 + 12);
  v193 = *(_DWORD *)(v101 + 12);
  if ( v79 && !v104 && !v103 && !v105 )
    goto LABEL_270;
  v106 = *(_DWORD *)(v8 + 4);
  if ( v106 || *(_DWORD *)(v8 + 12) || *(_DWORD *)(v8 + 8) || *(_DWORD *)(v8 + 16) )
  {
    if ( v106 < v102 )
      v102 = *(_DWORD *)(v8 + 4);
    v107 = *(_DWORD *)(v8 + 8);
    *(_DWORD *)(v8 + 4) = v102;
    if ( v107 >= v103 )
      v107 = v103;
    *(_DWORD *)(v8 + 8) = v107;
    v108 = *(_DWORD *)(v8 + 12);
    if ( v108 <= v104 )
      v108 = v104;
    v109 = v193;
    *(_DWORD *)(v8 + 12) = v108;
    v110 = *(_DWORD *)(v8 + 16);
    if ( v110 <= v109 )
      v110 = v109;
    goto LABEL_269;
  }
  *(_DWORD *)(v8 + 4) = *(_DWORD *)v101;
  *(_DWORD *)(v8 + 8) = *(_DWORD *)(v101 + 4);
  *(_DWORD *)(v8 + 12) = *(_DWORD *)(v101 + 8);
  *(_DWORD *)(v8 + 16) = *(_DWORD *)(v101 + 12);
LABEL_270:
  *(_BYTE *)(v8 + 24) |= 2u;
LABEL_271:
  if ( a5 )
  {
    v170 = *(_DWORD *)(v8 + 20);
    if ( *(_DWORD *)(v170 + 352) )
    {
      v171 = sub_1001F5E0((void *)v170, (int)&v197);
      sub_100271F0(a3, v8 + 4, a6, *(_DWORD *)v171, *(_DWORD *)(v171 + 4), a7, a8);
      result = a3;
    }
    else
    {
      sub_100270C0(a3, v8 + 4, a6);
      result = a3;
    }
  }
  else
  {
    result = a3;
    v172 = v8 + 4;
    *(_DWORD *)a3 = *(_DWORD *)v172;
    *(_DWORD *)(a3 + 4) = *(_DWORD *)(v172 + 4);
    *(_DWORD *)(a3 + 8) = *(_DWORD *)(v172 + 8);
    *(_DWORD *)(a3 + 12) = *(_DWORD *)(v172 + 12);
  }
  return result;
}
// 109D1830: using guessed type int dword_109D1830;
// 109D1834: using guessed type char byte_109D1834;

//----- (1002C030) --------------------------------------------------------
int __userpurge sub_1002C030@<eax>(int a1@<ecx>, double a2@<st0>, int a3, int a4, char a5, int a6, float a7, float a8)
{
  int v8; // esi@1
  int v9; // ecx@3
  int v10; // eax@4
  int result; // eax@4
  __int16 v12; // ax@7
  int v13; // ebx@7
  __int16 v14; // di@7
  int v15; // eax@7
  int v16; // ecx@7
  int v17; // edx@7
  int v18; // ebp@7
  int v19; // eax@7
  int v20; // [sp+4h] [bp-10h]@4

  v8 = a1;
  if ( *(_BYTE *)(a1 + 24) & 2 )
  {
    if ( a5 )
    {
      v9 = *(_DWORD *)(a1 + 20);
      if ( *(_DWORD *)(v9 + 352) )
      {
        v10 = sub_1001F5E0((void *)v9, (int)&v20);
        sub_100271F0(a3, v8 + 4, a6, *(_DWORD *)v10, *(_DWORD *)(v10 + 4), a7, a8);
        result = a3;
      }
      else
      {
        sub_100270C0(a3, v8 + 4, a6);
        result = a3;
      }
    }
    else
    {
      result = a3;
      *(_DWORD *)a3 = *(_DWORD *)(a1 + 4);
      *(_DWORD *)(a3 + 4) = *(_DWORD *)(a1 + 8);
      *(_DWORD *)(a3 + 8) = *(_DWORD *)(a1 + 12);
      *(_DWORD *)(a3 + 12) = *(_DWORD *)(a1 + 16);
    }
  }
  else
  {
    v12 = sub_10027750(a1, 1.0, 1.0);
    v13 = *(_DWORD *)(v8 + 92);
    v14 = *(_WORD *)(v8 + 96);
    *(_WORD *)(v8 + 96) = v12;
    *(_DWORD *)(v8 + 92) = dword_109D1864;
    v15 = sub_1002B000(v8, a2, (int)&v20, 0, a5, a6, 1.0, 1.0);
    v16 = *(_DWORD *)v15;
    v17 = *(_DWORD *)(v15 + 4);
    v18 = *(_DWORD *)(v15 + 8);
    v19 = *(_DWORD *)(v15 + 12);
    *(_WORD *)(v8 + 96) = v14;
    *(_DWORD *)(v8 + 92) = v13;
    *(_DWORD *)a3 = v16;
    *(_DWORD *)(a3 + 4) = v17;
    *(_DWORD *)(a3 + 8) = v18;
    *(_DWORD *)(a3 + 12) = v19;
    result = a3;
  }
  return result;
}
// 109D1864: using guessed type int dword_109D1864;

//----- (1002C150) --------------------------------------------------------
int __thiscall sub_1002C150(int this, int a2, int a3, char a4, int a5, float a6, float a7)
{
  int v7; // esi@1
  __int16 v8; // ax@1
  signed int v9; // ecx@3
  int v10; // eax@5
  signed int v11; // kr00_4@7
  int v12; // eax@7
  int v13; // edi@7
  signed int v14; // ebx@8
  int v15; // eax@13
  int v16; // ST6C_4@13
  int v17; // ecx@13
  int v18; // edx@13
  int v19; // eax@14
  int v20; // edx@14
  int v21; // ecx@14
  int v22; // ecx@21
  int v23; // eax@21
  int v24; // eax@22
  int v25; // edx@22
  int v26; // ecx@22
  int v27; // eax@29
  int v28; // ecx@29
  int v29; // eax@29
  int v30; // edx@30
  long double v31; // st7@30
  long double v32; // ST6C_8@30
  int v33; // edx@30
  int v34; // edx@30
  int v35; // edx@30
  int v36; // edx@30
  int v37; // eax@30
  int v38; // ecx@30
  int v39; // edx@30
  int v40; // eax@30
  int v41; // ecx@30
  int v42; // edx@30
  int v43; // eax@30
  int v44; // edx@30
  __int16 v45; // ax@31
  int v46; // ecx@34
  int v47; // eax@35
  int result; // eax@35
  int v49; // esi@37
  int v50; // [sp+10h] [bp-40h]@3
  signed int v51; // [sp+14h] [bp-3Ch]@3
  double v52; // [sp+20h] [bp-30h]@30
  int v53; // [sp+30h] [bp-20h]@30
  int v54; // [sp+34h] [bp-1Ch]@30
  int v55; // [sp+38h] [bp-18h]@30
  int v56; // [sp+3Ch] [bp-14h]@30
  int v57; // [sp+40h] [bp-10h]@30
  int v58; // [sp+44h] [bp-Ch]@30
  int v59; // [sp+48h] [bp-8h]@30
  int v60; // [sp+4Ch] [bp-4h]@30

  v7 = this;
  v8 = *(_WORD *)(this + 24);
  if ( v8 & 2 )
    goto LABEL_33;
  if ( v8 & 8 )
  {
    v9 = *(_DWORD *)(this + 52);
    v50 = *(_DWORD *)(v7 + 48);
    v51 = v9;
  }
  else
  {
    sub_1001DA70(this);
    v50 = *(_DWORD *)(v7 + 40);
    v51 = *(_DWORD *)(v7 + 44);
    v9 = *(_DWORD *)(v7 + 44);
  }
  v10 = *(_DWORD *)(v7 + 116) & 7;
  if ( v10 != 2 )
    v10 = v10 == 6;
  v11 = v50 * v10;
  v12 = *(_DWORD *)(v7 + 116) & 0x18;
  v13 = v11 / 2;
  if ( v12 == 8 )
  {
    v14 = v9;
  }
  else if ( v12 == 24 )
  {
    v9 = v51;
    v14 = (signed __int64)((double)v51 * 0.80000001);
  }
  else
  {
    v14 = 0;
  }
  if ( !*(_DWORD *)(v7 + 112) )
  {
    v15 = *(_DWORD *)(v7 + 132) - v14;
    v16 = v15 + v9;
    v17 = *(_DWORD *)(v7 + 128) - v13;
    *(_DWORD *)(v7 + 8) = v15;
    v18 = v17 + v50;
    *(_DWORD *)(v7 + 16) = v16;
    *(_DWORD *)(v7 + 4) = v17;
    *(_DWORD *)(v7 + 12) = v17 + v50;
    if ( v17 <= v17 + v50 )
    {
      if ( v17 != v18 )
        goto LABEL_21;
      if ( v18 != 0x7FFFFFFF )
      {
        *(_DWORD *)(v7 + 12) = v18 + 1;
        goto LABEL_21;
      }
      if ( v17 == 0x80000000 )
      {
LABEL_21:
        v22 = *(_DWORD *)(v7 + 8);
        v23 = *(_DWORD *)(v7 + 16);
        if ( v22 > v23 )
        {
          v24 = v23 ^ v22;
          *(_DWORD *)(v7 + 8) = v24;
          v25 = v24 ^ *(_DWORD *)(v7 + 16);
          *(_DWORD *)(v7 + 16) = v25;
          v26 = v25 ^ *(_DWORD *)(v7 + 8);
LABEL_28:
          *(_DWORD *)(v7 + 8) = v26;
          goto LABEL_29;
        }
        if ( v22 == v23 )
        {
          if ( v23 == 0x7FFFFFFF )
          {
            if ( v22 != 0x80000000 )
            {
              v26 = v22 - 1;
              goto LABEL_28;
            }
          }
          else
          {
            *(_DWORD *)(v7 + 16) = v23 + 1;
          }
        }
LABEL_29:
        v27 = *(_DWORD *)(v7 + 128) - v13;
        v28 = *(_DWORD *)(v7 + 132) - v14;
        *(_DWORD *)(v7 + 60) = v27;
        *(_DWORD *)(v7 + 68) = v27;
        v29 = v50 + v27;
        *(_DWORD *)(v7 + 64) = v28 + v51;
        *(_DWORD *)(v7 + 72) = v28;
        *(_DWORD *)(v7 + 76) = v29;
        *(_DWORD *)(v7 + 80) = v28;
        *(_DWORD *)(v7 + 84) = v29;
        *(_DWORD *)(v7 + 88) = v28 + v51;
        goto LABEL_31;
      }
      v21 = v17 - 1;
    }
    else
    {
      v19 = v18 ^ *(_DWORD *)(v7 + 4);
      *(_DWORD *)(v7 + 4) = v19;
      v20 = v19 ^ *(_DWORD *)(v7 + 12);
      *(_DWORD *)(v7 + 12) = v20;
      v21 = v20 ^ *(_DWORD *)(v7 + 4);
    }
    *(_DWORD *)(v7 + 4) = v21;
    goto LABEL_21;
  }
  v30 = *(_DWORD *)(v7 + 132) - v14;
  v31 = (double)*(signed int *)(v7 + 112) * -0.01745329251994;
  v53 = *(_DWORD *)(v7 + 128) - v13;
  v54 = v9 + v30;
  v52 = cos(v31);
  v32 = sin(v31);
  sub_10026A20(*(_DWORD *)(v7 + 128), *(_DWORD *)(v7 + 132), (int)&v53, v52, v32);
  v33 = *(_DWORD *)(v7 + 132) - v14;
  v55 = *(_DWORD *)(v7 + 128) - v13;
  v56 = v33;
  sub_10026A20(*(_DWORD *)(v7 + 128), *(_DWORD *)(v7 + 132), (int)&v55, v52, v32);
  v34 = *(_DWORD *)(v7 + 132) - v14;
  v57 = v50 + *(_DWORD *)(v7 + 128) - v13;
  v58 = v34;
  sub_10026A20(*(_DWORD *)(v7 + 128), *(_DWORD *)(v7 + 132), (int)&v57, v52, v32);
  v35 = *(_DWORD *)(v7 + 132);
  v59 = v50 + *(_DWORD *)(v7 + 128) - v13;
  v60 = v51 + v35 - v14;
  sub_10026A20(*(_DWORD *)(v7 + 128), *(_DWORD *)(v7 + 132), (int)&v59, v52, v32);
  v36 = v54;
  v37 = v55;
  *(_DWORD *)(v7 + 60) = v53;
  v38 = v56;
  *(_DWORD *)(v7 + 64) = v36;
  v39 = v57;
  *(_DWORD *)(v7 + 68) = v37;
  v40 = v58;
  *(_DWORD *)(v7 + 72) = v38;
  v41 = v59;
  *(_DWORD *)(v7 + 76) = v39;
  v42 = v60;
  *(_DWORD *)(v7 + 80) = v40;
  *(_DWORD *)(v7 + 84) = v41;
  *(_DWORD *)(v7 + 88) = v42;
  v43 = sub_10027050((int)&v52, (int)&v53);
  v44 = v7 + 4;
  *(_DWORD *)v44 = *(_DWORD *)v43;
  *(_DWORD *)(v44 + 4) = *(_DWORD *)(v43 + 4);
  *(_DWORD *)(v44 + 8) = *(_DWORD *)(v43 + 8);
  *(_DWORD *)(v44 + 12) = *(_DWORD *)(v43 + 12);
LABEL_31:
  v45 = *(_WORD *)(v7 + 24);
  if ( v45 & 8 )
  {
    LOBYTE(v45) = v45 | 2;
    *(_WORD *)(v7 + 24) = v45;
  }
LABEL_33:
  if ( a4 )
  {
    v46 = *(_DWORD *)(v7 + 20);
    if ( *(_DWORD *)(v46 + 352) )
    {
      v47 = sub_1001F5E0((void *)v46, (int)&v52);
      sub_100271F0(a2, v7 + 4, a5, *(_DWORD *)v47, *(_DWORD *)(v47 + 4), a6, a7);
      result = a2;
    }
    else
    {
      sub_100270C0(a2, v7 + 4, a5);
      result = a2;
    }
  }
  else
  {
    result = a2;
    v49 = v7 + 4;
    *(_DWORD *)a2 = *(_DWORD *)v49;
    *(_DWORD *)(a2 + 4) = *(_DWORD *)(v49 + 4);
    *(_DWORD *)(a2 + 8) = *(_DWORD *)(v49 + 8);
    *(_DWORD *)(a2 + 12) = *(_DWORD *)(v49 + 12);
  }
  return result;
}

//----- (1002C520) --------------------------------------------------------
int __thiscall sub_1002C520(int this, int a2, int a3, char a4, int a5, float a6, float a7)
{
  int v7; // edi@1
  int v8; // ebp@1
  int v9; // esi@2
  int v10; // eax@2
  int v11; // eax@5
  int v12; // ecx@6
  int v13; // ecx@9
  int v14; // ebx@9
  int v15; // edi@9
  int v16; // eax@9
  int v17; // ecx@15
  int v18; // esi@15
  int v19; // edi@15
  int v20; // edx@15
  int v21; // edx@16
  int v22; // esi@23
  int v23; // edx@29
  int v24; // esi@29
  int v25; // ecx@29
  int v26; // edi@29
  int v27; // ebx@49
  int v28; // ecx@50
  int v29; // eax@53
  int *v30; // ebp@53
  int v31; // edi@57
  int v32; // eax@64
  int v33; // eax@66
  int v34; // eax@68
  int v35; // edi@71
  int v36; // eax@75
  int v37; // ecx@75
  int v38; // ecx@82
  int v39; // ecx@84
  int v40; // ecx@90
  int v41; // ecx@97
  int v42; // ecx@101
  int v43; // edi@104
  int v44; // edx@105
  int v45; // ebx@105
  int v46; // eax@106
  int v47; // ecx@107
  int v48; // edx@116
  __int16 v49; // ax@119
  int v50; // ecx@124
  int v51; // eax@125
  int result; // eax@125
  int v53; // edi@127
  char v54; // [sp+Fh] [bp-31h]@2
  int v55; // [sp+10h] [bp-30h]@1
  int v56; // [sp+14h] [bp-2Ch]@4
  signed int v57; // [sp+18h] [bp-28h]@2
  int v58; // [sp+1Ch] [bp-24h]@9
  int v59; // [sp+20h] [bp-20h]@12
  int v60; // [sp+24h] [bp-1Ch]@9
  char v61; // [sp+28h] [bp-18h]@125
  int v62; // [sp+2Ch] [bp-14h]@9
  int v63; // [sp+30h] [bp-10h]@2
  int v64; // [sp+34h] [bp-Ch]@2
  int v65; // [sp+38h] [bp-8h]@2
  int v66; // [sp+3Ch] [bp-4h]@2

  v7 = this;
  v8 = 0;
  v55 = this;
  if ( *(_BYTE *)(this + 24) & 2 )
    goto LABEL_123;
  v9 = 0;
  v10 = *(_DWORD *)(this + 92) / 2;
  v66 = 0;
  v65 = 0;
  v64 = 0;
  v63 = 0;
  v54 = 1;
  v57 = v10;
  if ( !v10 )
    v57 = 1;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 4) = 0;
  v56 = 0;
LABEL_5:
  v11 = *(_DWORD *)(v7 + 104);
  if ( v11 )
    v12 = (*(_DWORD *)(v7 + 108) - v11) >> 2;
  else
    v12 = 0;
  if ( v56 < v12 )
  {
    v13 = *(_DWORD *)(*(_DWORD *)(v55 + 104) + 4 * v56);
    v14 = *(_DWORD *)(v13 + 4);
    v15 = *(_DWORD *)(v13 + 8);
    v58 = v14;
    v16 = *(_DWORD *)v14;
    v62 = *(_DWORD *)(v14 + 4);
    v60 = v15;
    if ( v15 == 1 || v15 == 4 )
    {
      v54 = 0;
      v8 = 0;
    }
    v59 = *(_DWORD *)v13;
    if ( *(_DWORD *)v13 <= 0 )
    {
      v28 = v55;
      v27 = v64;
      goto LABEL_52;
    }
    while ( 1 )
    {
      v17 = *(_DWORD *)(v14 + 8 * v8);
      v18 = v62;
      v19 = *(_DWORD *)(v14 + 8 * v8 + 4);
      v20 = v16;
      if ( v16 <= v17 )
      {
        if ( v16 == v17 )
        {
          if ( v17 == 0x7FFFFFFF )
          {
            if ( v16 != 0x80000000 )
              v20 = v16 - 1;
          }
          else
          {
            ++v17;
          }
        }
      }
      else
      {
        v21 = v16 ^ v17;
        v17 ^= v16 ^ v17;
        v20 = v17 ^ v21;
      }
      if ( v62 <= v19 )
      {
        if ( v62 == v19 )
        {
          if ( v19 == 0x7FFFFFFF )
          {
            if ( v62 != 0x80000000 )
              v18 = v62 - 1;
          }
          else
          {
            ++v19;
          }
        }
      }
      else
      {
        v22 = v62 ^ v19;
        v19 ^= v62 ^ v19;
        v18 = v19 ^ v22;
      }
      v23 = v20 - v57;
      v24 = v18 - v57;
      v25 = v57 - 1 + v17;
      v26 = v57 - 1 + v19;
      v16 = *(_DWORD *)(v14 + 8 * v8);
      v62 = *(_DWORD *)(v14 + 8 * v8 + 4);
      if ( !v8 )
        break;
      if ( v23 || v25 || v24 || v26 )
      {
        if ( !v63 && !v65 && !v64 && !v66 )
          break;
        if ( v63 >= v23 )
          v63 = v23;
        if ( v64 < v24 )
          v24 = v64;
        v64 = v24;
        if ( v65 > v25 )
          v25 = v65;
        v65 = v25;
        if ( v66 > v26 )
          v26 = v66;
        v9 = v26;
        v66 = v26;
      }
      else
      {
        v9 = v66;
      }
LABEL_49:
      v27 = v64;
      if ( ++v8 >= v59 )
      {
        v28 = v55;
        v15 = v60;
LABEL_52:
        switch ( v15 )
        {
          case 1:
            v29 = *(_DWORD *)(v28 + 4);
            v30 = (int *)(v28 + 4);
            if ( !v29 && !*(_DWORD *)(v28 + 12) && !*(_DWORD *)(v28 + 8) && !*(_DWORD *)(v28 + 16) )
              goto LABEL_118;
            v31 = v65;
            if ( v63 || v65 || v27 || v9 )
            {
              if ( v29 <= v63 )
                v29 = v63;
              *v30 = v29;
              v32 = *(_DWORD *)(v28 + 8);
              if ( v32 <= v27 )
                v32 = v27;
              *(_DWORD *)(v28 + 8) = v32;
              v33 = *(_DWORD *)(v28 + 12);
              if ( v33 >= v31 )
                v33 = v31;
              *(_DWORD *)(v28 + 12) = v33;
              v34 = *(_DWORD *)(v28 + 16);
              if ( v34 >= v9 )
                v34 = v9;
              v7 = v55;
              *(_DWORD *)(v28 + 16) = v34;
              v8 = 0;
              ++v56;
            }
            else
            {
              v7 = v55;
              *(_DWORD *)(v28 + 16) = 0;
              *(_DWORD *)(v28 + 12) = 0;
              *(_DWORD *)(v28 + 8) = 0;
              *v30 = 0;
              ++v56;
              v8 = 0;
            }
            goto LABEL_5;
          case 2:
            v35 = v65;
            if ( !v63 && !v65 && !v27 && !v9 )
              goto LABEL_118;
            v36 = v28 + 4;
            v37 = *(_DWORD *)(v28 + 4);
            if ( !v37 && !*(_DWORD *)(v36 + 8) && !*(_DWORD *)(v36 + 4) && !*(_DWORD *)(v36 + 12) )
            {
              *(_DWORD *)v36 = v63;
              *(_DWORD *)(v36 + 4) = v27;
              *(_DWORD *)(v36 + 8) = v35;
              goto LABEL_117;
            }
            if ( v37 >= v63 )
              v37 = v63;
            *(_DWORD *)v36 = v37;
            v38 = *(_DWORD *)(v36 + 4);
            if ( v38 >= v27 )
              v38 = v27;
            *(_DWORD *)(v36 + 4) = v38;
            v39 = *(_DWORD *)(v36 + 8);
            if ( v39 > v35 )
              goto LABEL_101;
            goto LABEL_100;
          case 3:
            v35 = v65;
            if ( !v63 && !v65 && !v27 && !v9 )
              goto LABEL_118;
            v36 = v28 + 4;
            v40 = *(_DWORD *)(v28 + 4);
            if ( v40 || *(_DWORD *)(v36 + 8) || *(_DWORD *)(v36 + 4) || *(_DWORD *)(v36 + 12) )
            {
              if ( v40 >= v63 )
                v40 = v63;
              *(_DWORD *)v36 = v40;
              v41 = *(_DWORD *)(v36 + 4);
              if ( v41 >= v27 )
                v41 = v27;
              *(_DWORD *)(v36 + 4) = v41;
              v39 = *(_DWORD *)(v36 + 8);
              if ( v39 <= v35 )
LABEL_100:
                v39 = v35;
LABEL_101:
              *(_DWORD *)(v36 + 8) = v39;
              v42 = *(_DWORD *)(v36 + 12);
              if ( v42 <= v9 )
                v42 = v9;
              v7 = v55;
              *(_DWORD *)(v36 + 12) = v42;
              v8 = 0;
              ++v56;
            }
            else
            {
              *(_DWORD *)v36 = v63;
              *(_DWORD *)(v36 + 4) = v27;
              *(_DWORD *)(v36 + 8) = v35;
LABEL_117:
              *(_DWORD *)(v36 + 12) = v9;
LABEL_118:
              v7 = v55;
              v8 = 0;
              ++v56;
            }
            break;
          case 4:
            v43 = *(_DWORD *)(v28 + 4);
            if ( v65 <= v43 )
              goto LABEL_118;
            v44 = v63;
            v45 = *(_DWORD *)(v55 + 12);
            if ( v63 >= v45 )
              goto LABEL_118;
            v46 = *(_DWORD *)(v55 + 8);
            if ( v9 <= v46 )
              goto LABEL_118;
            v47 = *(_DWORD *)(v55 + 16);
            if ( v64 >= v47 )
              goto LABEL_118;
            if ( v64 < v46 )
              *(_DWORD *)(v55 + 8) = v64;
            if ( v9 > v47 )
              *(_DWORD *)(v55 + 16) = v9;
            if ( v44 < v43 )
              *(_DWORD *)(v55 + 4) = v44;
            if ( v65 >= v45 )
              goto LABEL_118;
            v7 = v55;
            *(_DWORD *)(v55 + 12) = v65;
            v8 = 0;
            ++v56;
            goto LABEL_5;
          case 5:
            v48 = v65;
            v36 = v28 + 4;
            *(_DWORD *)v36 = v63;
            *(_DWORD *)(v36 + 4) = v27;
            *(_DWORD *)(v36 + 8) = v48;
            goto LABEL_117;
          default:
            goto LABEL_118;
        }
        goto LABEL_5;
      }
      v14 = v58;
    }
    v64 = v24;
    v9 = v26;
    v63 = v23;
    v65 = v25;
    v66 = v26;
    goto LABEL_49;
  }
  *(_BYTE *)(v7 + 24) |= 2u;
  v49 = *(_WORD *)(v7 + 24);
  if ( v54 )
    LOBYTE(v49) = v49 | 8;
  else
    v49 &= 0xFFF7u;
  *(_WORD *)(v7 + 24) = v49;
LABEL_123:
  if ( a4 )
  {
    v50 = *(_DWORD *)(v7 + 20);
    if ( *(_DWORD *)(v50 + 352) )
    {
      v51 = sub_1001F5E0((void *)v50, (int)&v61);
      sub_100271F0(a2, v7 + 4, a5, *(_DWORD *)v51, *(_DWORD *)(v51 + 4), a6, a7);
      result = a2;
    }
    else
    {
      sub_100270C0(a2, v7 + 4, a5);
      result = a2;
    }
  }
  else
  {
    result = a2;
    v53 = v7 + 4;
    *(_DWORD *)a2 = *(_DWORD *)v53;
    *(_DWORD *)(a2 + 4) = *(_DWORD *)(v53 + 4);
    *(_DWORD *)(a2 + 8) = *(_DWORD *)(v53 + 8);
    *(_DWORD *)(a2 + 12) = *(_DWORD *)(v53 + 12);
  }
  return result;
}

//----- (1002CA00) --------------------------------------------------------
int __thiscall sub_1002CA00(int this, int a2, char a3, char a4, int a5, float a6, float a7)
{
  int v7; // ebx@1
  int v8; // edx@1
  int v9; // eax@3
  int *v10; // edi@3
  int v11; // ecx@3
  int v12; // eax@3
  int *v13; // esi@3
  int v14; // ecx@3
  int v15; // ebp@3
  int v16; // eax@4
  int v17; // edi@4
  int v18; // edx@4
  int v19; // eax@4
  int v20; // eax@9
  int v21; // edx@9
  int v22; // eax@9
  int v23; // eax@10
  int v24; // ecx@12
  int v25; // eax@12
  int v26; // ecx@14
  int v27; // eax@14
  int v28; // ecx@16
  int v29; // eax@16
  int v30; // eax@23
  int result; // eax@23
  int v32; // ebx@25
  int v33; // eax@26
  int v34; // esi@26
  int v35; // eax@28
  int v36; // ecx@28
  bool v37; // zf@28
  int v38; // esi@28
  int v39; // edi@28
  int v40; // ebx@28
  int v41; // eax@46
  int v42; // eax@48
  int v43; // eax@50
  int v44; // eax@62
  int v45; // [sp+30h] [bp-44h]@1
  int v46; // [sp+38h] [bp-3Ch]@26
  int v47; // [sp+40h] [bp-34h]@3
  int v48; // [sp+44h] [bp-30h]@1
  int v49; // [sp+48h] [bp-2Ch]@1
  int v50; // [sp+4Ch] [bp-28h]@1
  int v51; // [sp+50h] [bp-24h]@1
  char v52; // [sp+54h] [bp-20h]@3
  int v53; // [sp+60h] [bp-14h]@28
  char v54; // [sp+64h] [bp-10h]@28
  char v55; // [sp+7Ch] [bp+8h]@26

  v7 = this;
  v8 = 0;
  v45 = this;
  v51 = 0;
  v50 = 0;
  v49 = 0;
  v48 = 0;
  if ( a3 )
  {
    v33 = *(_DWORD *)(this + 44);
    v55 = 0;
    v34 = *(_DWORD *)(v33 + 4);
    v47 = *(_DWORD *)(v33 + 8);
    v46 = v34;
    if ( v34 == v47 )
      goto LABEL_64;
    while ( *(_BYTE *)(*(_DWORD *)v34 + 24) & 0x80 )
    {
LABEL_55:
      v34 = v46 + 4;
      v46 += 4;
      if ( v46 == v47 )
      {
        if ( (v8 || v50 || v49 || v51) && a4 )
        {
          if ( *(_DWORD *)(v7 + 352) )
          {
            v44 = sub_1001F5E0((void *)v7, (int)&v45);
            sub_100271F0(a2, (int)&v48, a5, *(_DWORD *)v44, *(_DWORD *)(v44 + 4), a6, a7);
            result = a2;
          }
          else
          {
            sub_100270C0(a2, (int)&v48, a5);
            result = a2;
          }
          return result;
        }
LABEL_64:
        result = a2;
        *(_DWORD *)a2 = v8;
        *(_DWORD *)(a2 + 4) = v49;
        *(_DWORD *)(a2 + 8) = v50;
        *(_DWORD *)(a2 + 12) = v51;
        return result;
      }
    }
    v35 = (*(int (__stdcall **)(char *, signed int, _DWORD, _DWORD, signed int, signed int))(**(_DWORD **)v34 + 16))(
            &v54,
            1,
            0,
            0,
            1065353216,
            1065353216);
    v36 = *(_DWORD *)v35;
    v37 = *(_DWORD *)v35 == 0;
    v38 = *(_DWORD *)(v35 + 4);
    v39 = *(_DWORD *)(v35 + 8);
    v40 = *(_DWORD *)(v35 + 12);
    v53 = *(_DWORD *)(v35 + 12);
    if ( !v37 || v39 || v38 || v40 )
    {
      if ( !v55 )
      {
        v8 = *(_DWORD *)v35;
        v55 = 1;
        v48 = *(_DWORD *)v35;
        v49 = *(_DWORD *)(v35 + 4);
        v50 = *(_DWORD *)(v35 + 8);
        v51 = *(_DWORD *)(v35 + 12);
LABEL_54:
        v7 = v45;
        goto LABEL_55;
      }
      if ( v36 || v39 || v38 || v40 )
      {
        v8 = v48;
        if ( !v48 )
        {
          if ( !v50 && !v49 && !v51 )
          {
            v8 = *(_DWORD *)v35;
            v48 = *(_DWORD *)v35;
            v49 = *(_DWORD *)(v35 + 4);
            v50 = *(_DWORD *)(v35 + 8);
            v51 = *(_DWORD *)(v35 + 12);
            goto LABEL_54;
          }
          v40 = v53;
        }
        if ( v48 >= v36 )
        {
          v8 = v36;
          v48 = v36;
        }
        v41 = v49;
        if ( v49 >= v38 )
          v41 = v38;
        v49 = v41;
        v42 = v50;
        if ( v50 <= v39 )
          v42 = v39;
        v50 = v42;
        v43 = v51;
        if ( v51 <= v40 )
          v43 = v40;
        v51 = v43;
        goto LABEL_54;
      }
    }
    v8 = v48;
    goto LABEL_54;
  }
  if ( !(*(_BYTE *)(this + 24) & 2) )
  {
    v9 = *(_DWORD *)(this + 44);
    v10 = *(int **)(v9 + 4);
    v11 = *v10;
    v47 = *(_DWORD *)(v9 + 8);
    v12 = (*(int (__stdcall **)(char *, _DWORD, _DWORD, _DWORD, signed int, signed int))(*(_DWORD *)v11 + 16))(
            &v52,
            0,
            0,
            0,
            1065353216,
            1065353216);
    v13 = (int *)(v7 + 4);
    v14 = v7 + 4;
    v15 = (int)(v10 + 1);
    *(_DWORD *)v14 = *(_DWORD *)v12;
    *(_DWORD *)(v14 + 4) = *(_DWORD *)(v12 + 4);
    *(_DWORD *)(v14 + 8) = *(_DWORD *)(v12 + 8);
    for ( *(_DWORD *)(v14 + 12) = *(_DWORD *)(v12 + 12); v15 != v47; v15 += 4 )
    {
      v16 = (*(int (__stdcall **)(char *, _DWORD, _DWORD, _DWORD, signed int, signed int))(**(_DWORD **)v15 + 16))(
              &v52,
              0,
              0,
              0,
              1065353216,
              1065353216);
      v48 = *(_DWORD *)v16;
      v17 = *(_DWORD *)(v16 + 4);
      v49 = *(_DWORD *)(v16 + 4);
      v18 = *(_DWORD *)(v16 + 8);
      v50 = *(_DWORD *)(v16 + 8);
      v19 = *(_DWORD *)(v16 + 12);
      v51 = v19;
      if ( v48 || v18 || v17 || v19 )
      {
        if ( (unsigned __int8)sub_1002CF90(v7 + 4) )
        {
          v20 = v49;
          *v13 = v48;
          v21 = v50;
          *(_DWORD *)(v7 + 8) = v20;
          v22 = v51;
          *(_DWORD *)(v7 + 12) = v21;
          *(_DWORD *)(v7 + 16) = v22;
        }
        else
        {
          v23 = *v13;
          if ( *v13 >= v48 )
            v23 = v48;
          v24 = v49;
          *v13 = v23;
          v25 = *(_DWORD *)(v7 + 8);
          if ( v25 >= v24 )
            v25 = v24;
          v26 = v50;
          *(_DWORD *)(v7 + 8) = v25;
          v27 = *(_DWORD *)(v7 + 12);
          if ( v27 <= v26 )
            v27 = v26;
          v28 = v51;
          *(_DWORD *)(v7 + 12) = v27;
          v29 = *(_DWORD *)(v7 + 16);
          if ( v29 <= v28 )
            v29 = v28;
          *(_DWORD *)(v7 + 16) = v29;
        }
      }
    }
    *(_BYTE *)(v7 + 24) |= 2u;
  }
  if ( a4 )
  {
    if ( *(_DWORD *)(v7 + 352) )
    {
      v30 = sub_1001F5E0((void *)v7, (int)&v45);
      sub_100271F0(a2, v7 + 4, a5, *(_DWORD *)v30, *(_DWORD *)(v30 + 4), a6, a7);
      result = a2;
    }
    else
    {
      sub_100270C0(a2, v7 + 4, a5);
      result = a2;
    }
  }
  else
  {
    result = a2;
    v32 = v7 + 4;
    *(_DWORD *)a2 = *(_DWORD *)v32;
    *(_DWORD *)(a2 + 4) = *(_DWORD *)(v32 + 4);
    *(_DWORD *)(a2 + 8) = *(_DWORD *)(v32 + 8);
    *(_DWORD *)(a2 + 12) = *(_DWORD *)(v32 + 12);
  }
  return result;
}

//----- (1002CDE0) --------------------------------------------------------
int __thiscall sub_1002CDE0(int this, int a2, char a3, int a4, int a5, float a6, float a7)
{
  sub_1002CA00(this, a2, a3, *(_BYTE *)(this + 412), this + 416, a6, a7);
  return a2;
}

//----- (1002CE10) --------------------------------------------------------
int __thiscall sub_1002CE10(int this, float a2, float a3)
{
  int v3; // esi@1
  int v4; // ebp@3
  double v5; // st7@3
  int v6; // edi@3
  double v7; // st7@4
  int v8; // ebx@6
  double v9; // st7@6
  double v10; // st7@7
  int result; // eax@9
  int v12; // ecx@9
  __int16 v13; // dx@9
  int v14; // [sp+4h] [bp-10h]@3
  int v15; // [sp+8h] [bp-Ch]@3
  char v16[4]; // [sp+Ch] [bp-8h]@3
  int v17; // [sp+10h] [bp-4h]@3

  v3 = this;
  if ( *(_BYTE *)(this + 24) & 8 || a2 != 1.0 )
  {
    result = 1;
  }
  else
  {
    v14 = *(_DWORD *)(this + 100);
    v15 = *(_DWORD *)(this + 104);
    v4 = *(_DWORD *)(this + 108);
    *(_DWORD *)v16 = *(_DWORD *)(this + 108);
    v5 = (double)v15 * a2;
    v6 = *(_DWORD *)(this + 112);
    v17 = *(_DWORD *)(this + 112);
    if ( v5 <= 0.0 )
      v7 = v5 - 0.30000001;
    else
      v7 = v5 + 0.30000001;
    v8 = (signed __int64)v7;
    v9 = (double)v14 * a3;
    if ( v9 <= 0.0 )
      v10 = v9 - 0.30000001;
    else
      v10 = v9 + 0.30000001;
    result = sub_100408C0(
               (signed __int64)v10,
               v8,
               10 * v6,
               v4,
               v16[1],
               v16[2],
               *(_DWORD *)(dword_109D182C + 4 * (unsigned __int8)v16[3]),
               *(char **)(this + 92),
               *(_WORD *)(this + 96),
               (int)&v14);
    v12 = v15;
    *(_DWORD *)(v3 + 48) = v14;
    v13 = *(_WORD *)(v3 + 24) & 0xFFFD | 8;
    *(_DWORD *)(v3 + 52) = v12 + 1;
    *(_WORD *)(v3 + 24) = v13;
  }
  return result;
}
// 109D182C: using guessed type int dword_109D182C;

//----- (1002CF20) --------------------------------------------------------
int __thiscall sub_1002CF20(int this, int a2, int a3)
{
  int v3; // eax@1
  int v4; // esi@1
  int v5; // edi@1
  int result; // eax@2

  v3 = *(_DWORD *)(this + 44);
  v4 = *(_DWORD *)(v3 + 4);
  v5 = *(_DWORD *)(v3 + 8);
  if ( v4 == v5 )
  {
LABEL_4:
    result = 1;
  }
  else
  {
    while ( 1 )
    {
      result = (*(int (__stdcall **)(int, int))(**(_DWORD **)v4 + 48))(a2, a3);
      if ( result != 1 )
        break;
      v4 += 4;
      if ( v4 == v5 )
        goto LABEL_4;
    }
  }
  return result;
}

//----- (1002CF60) --------------------------------------------------------
#error "1002CF63: call analysis failed (funcsize=16)"

//----- (1002CF90) --------------------------------------------------------
BOOL __thiscall sub_1002CF90(int this)
{
  return !*(_DWORD *)this && !*(_DWORD *)(this + 8) && !*(_DWORD *)(this + 4) && !*(_DWORD *)(this + 12);
}

//----- (1002CFC0) --------------------------------------------------------
int __thiscall sub_1002CFC0(int this)
{
  int v1; // edx@1
  int v2; // eax@1
  int v3; // edx@2
  int v4; // edx@2
  int v5; // edx@2
  int v6; // edx@9
  int result; // eax@9
  int v8; // eax@10
  int v9; // edx@10

  v1 = *(_DWORD *)this;
  v2 = *(_DWORD *)(this + 8);
  if ( *(_DWORD *)this > v2 )
  {
    v3 = v2 ^ v1;
    *(_DWORD *)this = v3;
    v4 = v3 ^ *(_DWORD *)(this + 8);
    *(_DWORD *)(this + 8) = v4;
    v5 = v4 ^ *(_DWORD *)this;
LABEL_8:
    *(_DWORD *)this = v5;
    goto LABEL_9;
  }
  if ( *(_DWORD *)this != v2 )
    goto LABEL_9;
  if ( v2 != 0x7FFFFFFF )
  {
    *(_DWORD *)(this + 8) = v2 + 1;
    goto LABEL_9;
  }
  if ( v1 != 0x80000000 )
  {
    v5 = v1 - 1;
    goto LABEL_8;
  }
LABEL_9:
  v6 = *(_DWORD *)(this + 4);
  result = *(_DWORD *)(this + 12);
  if ( v6 <= result )
  {
    if ( v6 == result )
    {
      if ( result == 0x7FFFFFFF )
      {
        if ( v6 != 0x80000000 )
          *(_DWORD *)(this + 4) = v6 - 1;
      }
      else
      {
        *(_DWORD *)(this + 12) = ++result;
      }
    }
  }
  else
  {
    v8 = result ^ *(_DWORD *)(this + 4);
    *(_DWORD *)(this + 4) = v8;
    v9 = v8 ^ *(_DWORD *)(this + 12);
    *(_DWORD *)(this + 12) = v9;
    result = v9;
    *(_DWORD *)(this + 4) ^= v9;
  }
  return result;
}

//----- (1002D040) --------------------------------------------------------
int __thiscall sub_1002D040(int this, signed int a2)
{
  int result; // eax@2
  int v3; // eax@4

  if ( a2 <= 255 )
  {
    if ( *(_BYTE *)(this + 4) || (v3 = *(_DWORD *)(*(_DWORD *)this + 4 * a2)) == 0 || *(_BYTE *)(v3 + 13) != 3 )
      result = *(_DWORD *)(*(_DWORD *)this + 4 * a2);
    else
      result = 0;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1002D080) --------------------------------------------------------
signed int __thiscall sub_1002D080(void *this, int a2)
{
  void *v2; // esi@1
  int v3; // eax@1
  char v4; // cl@1
  int v5; // ebx@1
  int v6; // eax@1
  char v7; // cl@1
  int v8; // eax@1
  int v9; // ebx@2
  int v10; // eax@3
  int v11; // ecx@4
  int v12; // edx@4
  int v13; // eax@7
  int v14; // ecx@8
  int v15; // eax@13
  double v16; // st7@15
  int v17; // eax@19
  double v18; // st6@19
  double v19; // st6@20
  double v20; // st7@22
  double v21; // st7@23
  double v22; // st7@25
  double v23; // st7@26
  double v24; // st7@28
  double v25; // st7@29
  int v26; // eax@32
  int v27; // eax@33
  int v28; // edx@34
  int v29; // eax@39
  double v30; // st6@39
  double v31; // st6@40
  double v32; // st7@42
  double v33; // st7@43
  int v34; // edi@45
  double v35; // st7@45
  double v36; // st7@46
  double v37; // st7@48
  double v38; // st7@49
  int v39; // edx@51
  int v40; // eax@52
  int v41; // eax@58
  signed int v42; // ebx@58
  int v43; // edi@58
  int v44; // ST38_4@58
  int v45; // edx@58
  double v46; // st7@58
  double v47; // st7@59
  double v48; // st7@61
  double v49; // st7@62
  double v50; // st7@65
  double v51; // st7@66
  int v52; // edi@68
  double v53; // st7@68
  double v54; // st7@69
  float v56; // [sp+24h] [bp-A0h]@15
  float v57; // [sp+24h] [bp-A0h]@35
  float v58; // [sp+24h] [bp-A0h]@52
  int v59; // [sp+28h] [bp-9Ch]@2
  float v60; // [sp+28h] [bp-9Ch]@15
  float v61; // [sp+28h] [bp-9Ch]@35
  float v62; // [sp+28h] [bp-9Ch]@52
  int v63; // [sp+2Ch] [bp-98h]@1
  char v64; // [sp+33h] [bp-91h]@12
  signed int v65; // [sp+38h] [bp-8Ch]@19
  signed int v66; // [sp+38h] [bp-8Ch]@39
  int v67; // [sp+40h] [bp-84h]@25
  signed int v68; // [sp+40h] [bp-84h]@58
  int v69; // [sp+44h] [bp-80h]@1
  float v70; // [sp+48h] [bp-7Ch]@1
  float v71; // [sp+4Ch] [bp-78h]@1
  int v72; // [sp+50h] [bp-74h]@1
  __int16 v73; // [sp+54h] [bp-70h]@1
  int v74; // [sp+58h] [bp-6Ch]@1
  int v75; // [sp+5Ch] [bp-68h]@1
  int v76; // [sp+60h] [bp-64h]@1
  int v77; // [sp+64h] [bp-60h]@1
  int v78; // [sp+68h] [bp-5Ch]@1
  int v79; // [sp+6Ch] [bp-58h]@1
  char v80; // [sp+70h] [bp-54h]@1
  int v81; // [sp+74h] [bp-50h]@1
  int v82; // [sp+78h] [bp-4Ch]@1
  char v83; // [sp+7Ch] [bp-48h]@1
  char v84; // [sp+80h] [bp-44h]@19
  int v85; // [sp+84h] [bp-40h]@58
  int v86; // [sp+88h] [bp-3Ch]@68
  int v87; // [sp+8Ch] [bp-38h]@71
  int v88; // [sp+90h] [bp-34h]@71
  int v89; // [sp+94h] [bp-30h]@71
  int v90; // [sp+98h] [bp-2Ch]@65
  float v91; // [sp+9Ch] [bp-28h]@65
  float v92; // [sp+A0h] [bp-24h]@65
  int v93; // [sp+A4h] [bp-20h]@65
  __int16 v94; // [sp+A8h] [bp-1Ch]@65
  int v95; // [sp+ACh] [bp-18h]@65
  int v96; // [sp+B0h] [bp-14h]@65
  int v97; // [sp+B4h] [bp-10h]@65
  int v98; // [sp+B8h] [bp-Ch]@65
  int v99; // [sp+BCh] [bp-8h]@65
  int v100; // [sp+C0h] [bp-4h]@65

  v2 = this;
  v3 = (*(int (**)(void))(*(_DWORD *)this + 64))();
  v4 = *((_BYTE *)v2 + 40);
  v5 = v3;
  v6 = *((_DWORD *)v2 + 12);
  v81 = *((_DWORD *)v2 + 11);
  v80 = v4;
  v7 = *((_BYTE *)v2 + 52);
  v82 = v6;
  v8 = *(_DWORD *)(a2 + 20);
  v83 = v7;
  v74 = v8;
  v63 = v5;
  v75 = *(_DWORD *)(a2 + 24);
  v76 = *(_DWORD *)(a2 + 28);
  v70 = *(float *)(a2 + 4);
  v77 = *(_DWORD *)(a2 + 32);
  v69 = *(_DWORD *)a2;
  v73 = *(_WORD *)(a2 + 16);
  v71 = *(float *)(a2 + 8);
  v72 = *(_DWORD *)(a2 + 12);
  v78 = *(_DWORD *)(a2 + 36);
  v79 = *(_DWORD *)(a2 + 40);
  if ( *((_BYTE *)v2 + 24) & 0x10 )
  {
    v9 = *(_DWORD *)(v5 + 404);
    HIBYTE(v73) |= 2u;
    v59 = sub_10015A60(v9, *((_DWORD *)v2 + 7));
    if ( sub_1000F810(v9) != v59 )
    {
      v10 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v9 + 4) + 4 * v59) + 4);
      if ( v10 )
      {
        v11 = *((_DWORD *)v2 + 11);
        v80 = *((_BYTE *)v2 + 40);
        v12 = *((_DWORD *)v2 + 12);
        v81 = v11;
        LOBYTE(v11) = *((_BYTE *)v2 + 52);
        v82 = v12;
        v83 = v11;
        if ( *(_BYTE *)(v10 + 4) & 1 )
          v80 = *(_BYTE *)v10;
      }
    }
    v5 = v63;
  }
  v13 = sub_1003FFC0(dword_109D1838, *((_DWORD *)v2 + 9));
  if ( v13 != 1 )
  {
    v14 = 0;
    dword_109D19C4 = 0;
    dword_109D19C0 = 0;
    dword_109D19C8 = 0;
    if ( &dword_109D19C0 )
    {
      v14 = v13;
      dword_109D19C0 = v13;
      LOWORD(dword_109D19C4) = 0;
      dword_109D19C8 = 0;
    }
    if ( v14 < 0 )
      unknown_libname_4(v14);
  }
  v64 = *(_BYTE *)(v5 + 412);
  if ( *(_BYTE *)(v5 + 412) )
  {
    v26 = *((_DWORD *)v2 + 5);
    v70 = 1.0;
    v71 = 1.0;
    if ( *(_DWORD *)(v26 + 352) )
    {
      v40 = *(_DWORD *)(v26 + 368);
      v58 = *(float *)(a2 + 4);
      v62 = *(float *)(a2 + 8);
      if ( v40 )
      {
        v58 = *(float *)(a2 + 4) * *(float *)v40 + *(float *)(v40 + 4);
        v62 = *(float *)v40 * *(float *)(a2 + 8) + *(float *)(v40 + 4);
        if ( v58 <= 0.0 || v62 <= 0.0 )
        {
          dword_109D19C4 = 0;
          dword_109D19C0 = 0;
          dword_109D19C8 = 0;
          if ( &dword_109D19C0 )
          {
            LOWORD(dword_109D19C4) = 0;
            dword_109D19C0 = -9;
            dword_109D19C8 = 0;
            unknown_libname_4(-9);
          }
        }
        v72 = LODWORD(v58);
      }
      v41 = sub_1001F5E0(*((void **)v2 + 5), (int)&v84);
      v42 = *(_DWORD *)v41;
      v68 = *(_DWORD *)(v41 + 4);
      v43 = sub_100268A0((double)*(signed int *)v41 * *(float *)(a2 + 4), (double)v68 * *(float *)(a2 + 8), v63 + 416);
      v44 = *((_DWORD *)v2 + 14) - v42;
      v85 = v45;
      v46 = (double)v44 * v58;
      if ( v46 <= 0.0 )
        v47 = v46 - 0.5;
      else
        v47 = v46 + 0.5;
      *(_DWORD *)dword_109D1864 = v43 + (unsigned __int64)(signed __int64)v47;
      v48 = (double)(*((_DWORD *)v2 + 15) - v68) * v62;
      if ( v48 <= 0.0 )
        v49 = v48 - 0.5;
      else
        v49 = v48 + 0.5;
      v5 = v63;
      *(_DWORD *)(dword_109D1864 + 4) = v85 + (unsigned __int64)(signed __int64)v49;
    }
    else
    {
      v27 = *(_DWORD *)(v26 + 368);
      if ( v27 )
      {
        v57 = *(float *)(a2 + 4) * *(float *)v27 + *(float *)(v27 + 4);
        v61 = *(float *)v27 * *(float *)(a2 + 8) + *(float *)(v27 + 4);
        if ( v57 <= 0.0 || v61 <= 0.0 )
        {
          dword_109D19C4 = 0;
          dword_109D19C0 = 0;
          dword_109D19C8 = 0;
          if ( &dword_109D19C0 )
          {
            LOWORD(dword_109D19C4) = 0;
            dword_109D19C0 = -9;
            dword_109D19C8 = 0;
            unknown_libname_4(-9);
          }
        }
        v72 = LODWORD(v57);
        v29 = sub_1001F5E0(*((void **)v2 + 5), (int)&v84);
        v30 = *(float *)(a2 + 4) * (double)*(signed int *)v29;
        v66 = *(_DWORD *)(v29 + 4);
        if ( v30 <= 0.0 )
          v31 = v30 - 0.5;
        else
          v31 = v30 + 0.5;
        v32 = *(float *)(a2 + 8) * (double)v66;
        if ( v32 <= 0.0 )
          v33 = v32 - 0.5;
        else
          v33 = v32 + 0.5;
        v34 = (signed __int64)v33;
        v35 = (double)(*((_DWORD *)v2 + 14) - *(_DWORD *)v29) * v57;
        if ( v35 <= 0.0 )
          v36 = v35 - 0.5;
        else
          v36 = v35 + 0.5;
        *(_DWORD *)dword_109D1864 = (signed __int64)v31 + (signed __int64)v36;
        v37 = (double)(*((_DWORD *)v2 + 15) - v66) * v61;
        if ( v37 <= 0.0 )
          v38 = v37 - 0.5;
        else
          v38 = v37 + 0.5;
        *(_DWORD *)(dword_109D1864 + 4) = v34 + (unsigned __int64)(signed __int64)v38;
        *(_DWORD *)dword_109D1864 = sub_100268A0(
                                      (double)*(signed int *)dword_109D1864,
                                      (double)*(signed int *)(dword_109D1864 + 4),
                                      v5 + 416);
        *(_DWORD *)(dword_109D1864 + 4) = v39;
      }
      else
      {
        *(_DWORD *)dword_109D1864 = sub_100268A0(
                                      (double)*((signed int *)v2 + 14) * *(float *)(a2 + 4),
                                      (double)*((signed int *)v2 + 15) * *(float *)(a2 + 8),
                                      v5 + 416);
        *(_DWORD *)(dword_109D1864 + 4) = v28;
      }
    }
  }
  else
  {
    v15 = *(_DWORD *)(*((_DWORD *)v2 + 5) + 368);
    if ( v15 )
    {
      v16 = *(float *)(a2 + 4) * *(float *)v15 + *(float *)(v15 + 4);
      v56 = v16;
      v60 = *(float *)v15 * *(float *)(a2 + 8) + *(float *)(v15 + 4);
      if ( v16 <= 0.0 || v60 <= 0.0 )
      {
        dword_109D19C4 = 0;
        dword_109D19C0 = 0;
        dword_109D19C8 = 0;
        if ( &dword_109D19C0 )
        {
          LOWORD(dword_109D19C4) = 0;
          dword_109D19C0 = -9;
          dword_109D19C8 = 0;
          unknown_libname_4(-9);
        }
      }
      v17 = sub_1001F5E0(*((void **)v2 + 5), (int)&v84);
      v18 = *(float *)(a2 + 4) * (double)*(signed int *)v17;
      v65 = *(_DWORD *)(v17 + 4);
      if ( v18 <= 0.0 )
        v19 = v18 - 0.5;
      else
        v19 = v18 + 0.5;
      v20 = *(float *)(a2 + 8) * (double)v65;
      if ( v20 <= 0.0 )
        v21 = v20 - 0.5;
      else
        v21 = v20 + 0.5;
      v67 = (signed __int64)v21;
      v22 = (double)(*((_DWORD *)v2 + 14) - *(_DWORD *)v17) * v56;
      if ( v22 <= 0.0 )
        v23 = v22 - 0.5;
      else
        v23 = v22 + 0.5;
      *(_DWORD *)dword_109D1864 = (signed __int64)v19 + (signed __int64)v23;
      v24 = (double)(*((_DWORD *)v2 + 15) - v65) * v60;
      if ( v24 <= 0.0 )
        v25 = v24 - 0.5;
      else
        v25 = v24 + 0.5;
      v70 = 1.0;
      *(_DWORD *)(dword_109D1864 + 4) = v67 + (unsigned __int64)(signed __int64)v25;
      v71 = 1.0;
      v72 = LODWORD(v56);
    }
    else
    {
      *(_DWORD *)dword_109D1864 = *((_DWORD *)v2 + 14);
      *(_DWORD *)(dword_109D1864 + 4) = *((_DWORD *)v2 + 15);
    }
  }
  *(_BYTE *)(v5 + 412) = 0;
  v95 = v74;
  v96 = v75;
  v97 = v76;
  v98 = v77;
  v90 = v69;
  v91 = v70;
  v92 = v71;
  v93 = v72;
  v94 = v73;
  v99 = v78;
  v100 = v79;
  v50 = (double)*(signed int *)dword_109D1864 * v70;
  if ( v50 <= 0.0 )
    v51 = v50 - 0.5;
  else
    v51 = v50 + 0.5;
  v52 = (signed __int64)v51;
  v86 = (signed __int64)v51;
  v53 = (double)*(signed int *)(dword_109D1864 + 4) * v71;
  if ( v53 <= 0.0 )
    v54 = v53 - 0.5;
  else
    v54 = v53 + 0.5;
  v87 = (signed __int64)v54;
  v89 = (signed __int64)v54;
  v88 = v52 + 1;
  v91 = 1.0;
  v92 = 1.0;
  sub_10021CA0(v54, v5, &v90, 0, (int)&v86, 2u, (int)&v80);
  *(_BYTE *)(v5 + 412) = v64;
  return 1;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 109D1838: using guessed type int dword_109D1838;
// 109D1864: using guessed type int dword_109D1864;
// 109D19C0: using guessed type int dword_109D19C0;
// 109D19C4: using guessed type int dword_109D19C4;
// 109D19C8: using guessed type int dword_109D19C8;

//----- (1002D860) --------------------------------------------------------
signed int __thiscall sub_1002D860(void *this, int a2)
{
  int v2; // esi@1
  int v3; // eax@1
  int v4; // edx@1
  char v5; // cl@1
  int v6; // ebx@1
  int v7; // eax@1
  int v8; // ecx@1
  int v9; // ecx@1
  int v10; // edx@1
  __int16 v11; // ax@1
  int v12; // ecx@1
  int v13; // edx@1
  int v14; // ecx@1
  int v15; // edx@1
  int v16; // ebx@2
  int v17; // ebx@3
  int v18; // eax@4
  int v19; // ecx@4
  char v20; // dl@4
  int v21; // edx@6
  int v22; // eax@8
  int v23; // ecx@9
  int v24; // ecx@14
  int v25; // ebx@16
  double v26; // st7@16
  int v27; // edx@16
  double v28; // st7@16
  signed int v29; // kr00_4@16
  int v30; // edx@16
  double v31; // st6@16
  signed int v32; // kr04_4@16
  int v33; // edx@16
  int v34; // eax@20
  int v35; // esi@20
  double v36; // st7@20
  double v37; // st7@21
  int v38; // ebx@23
  double v39; // st7@23
  double v40; // st7@24
  int v41; // ebx@26
  double v42; // st7@26
  double v43; // st7@27
  int v44; // esi@29
  double v45; // st7@29
  double v46; // st7@30
  int v47; // esi@32
  double v48; // st7@32
  unsigned __int8 v50; // c0@32
  unsigned __int8 v51; // c3@32
  double v52; // st7@33
  signed __int64 v53; // rax@35
  double v54; // st7@35
  double v55; // st6@36
  signed __int64 v56; // rax@38
  double v57; // st6@38
  double v58; // st6@39
  double v59; // st7@42
  int v60; // eax@45
  int v61; // ecx@51
  int v62; // eax@51
  signed int v63; // kr08_4@51
  signed int v64; // eax@51
  int v65; // edx@51
  signed int v66; // eax@51
  int v67; // ecx@51
  int v68; // edx@51
  int v69; // eax@51
  int v70; // ebx@51
  int v71; // eax@53
  int v72; // edx@53
  int v73; // esi@54
  int v74; // edi@54
  int v75; // eax@55
  int v76; // esi@55
  double v77; // st7@55
  double v78; // st7@56
  double v79; // st7@58
  double v80; // st7@59
  signed __int64 v81; // rax@61
  double v82; // st7@61
  double v83; // st7@62
  int v84; // edi@64
  double v85; // st7@64
  double v86; // st7@65
  int v87; // eax@68
  int v88; // esi@68
  int v89; // edx@68
  int v90; // edi@68
  double v91; // st7@68
  double v92; // st7@69
  double v93; // st7@71
  double v94; // st7@72
  double v95; // st7@75
  unsigned __int8 v97; // c0@75
  unsigned __int8 v98; // c3@75
  double v99; // st7@76
  signed __int64 v100; // rax@78
  double v101; // st7@78
  double v102; // st6@79
  signed __int64 v103; // rax@81
  double v104; // st6@81
  bool v105; // c0@81
  bool v106; // c3@81
  double v107; // st6@82
  double v108; // st7@85
  int v109; // ecx@88
  float v111; // [sp+24h] [bp-98h]@16
  float v112; // [sp+24h] [bp-98h]@45
  float v113; // [sp+28h] [bp-94h]@16
  float v114; // [sp+28h] [bp-94h]@45
  int v115; // [sp+2Ch] [bp-90h]@2
  float v116; // [sp+2Ch] [bp-90h]@32
  int v117; // [sp+2Ch] [bp-90h]@58
  signed int v118; // [sp+2Ch] [bp-90h]@61
  int v119; // [sp+34h] [bp-88h]@16
  int v120; // [sp+38h] [bp-84h]@16
  char v121; // [sp+3Fh] [bp-7Dh]@13
  int v122; // [sp+40h] [bp-7Ch]@16
  int v123; // [sp+44h] [bp-78h]@16
  int v124; // [sp+48h] [bp-74h]@1
  int v125; // [sp+4Ch] [bp-70h]@20
  int v126; // [sp+50h] [bp-6Ch]@20
  int v127; // [sp+54h] [bp-68h]@20
  int v128; // [sp+58h] [bp-64h]@51
  char v129; // [sp+5Ch] [bp-60h]@1
  int v130; // [sp+60h] [bp-5Ch]@1
  int v131; // [sp+64h] [bp-58h]@1
  char v132; // [sp+68h] [bp-54h]@1
  int v133; // [sp+6Ch] [bp-50h]@1
  int v134; // [sp+70h] [bp-4Ch]@1
  int v135; // [sp+74h] [bp-48h]@1
  float v136; // [sp+78h] [bp-44h]@1
  __int16 v137; // [sp+7Ch] [bp-40h]@1
  int v138; // [sp+80h] [bp-3Ch]@1
  int v139; // [sp+84h] [bp-38h]@1
  int v140; // [sp+88h] [bp-34h]@1
  int v141; // [sp+8Ch] [bp-30h]@1
  int v142; // [sp+90h] [bp-2Ch]@1
  int v143; // [sp+94h] [bp-28h]@1
  char v144; // [sp+98h] [bp-24h]@1
  int v145; // [sp+9Ch] [bp-20h]@1
  char v146; // [sp+A0h] [bp-1Ch]@1

  v2 = (int)this;
  v3 = (*(int (**)(void))(*(_DWORD *)this + 64))();
  v4 = *(_DWORD *)(v2 + 44);
  v129 = *(_BYTE *)(v2 + 40);
  v5 = *(_BYTE *)(v2 + 52);
  v130 = v4;
  v6 = v3;
  v7 = *(_DWORD *)(v2 + 48);
  v132 = v5;
  v124 = v6;
  v131 = v7;
  sub_10015600((int)&v146, v2 + 64);
  v8 = *(_DWORD *)(v2 + 60);
  v144 = *(_BYTE *)(v2 + 56);
  v145 = v8;
  v138 = *(_DWORD *)(a2 + 20);
  v139 = *(_DWORD *)(a2 + 24);
  v140 = *(_DWORD *)(a2 + 28);
  v9 = *(_DWORD *)(a2 + 32);
  v10 = *(_DWORD *)a2;
  v134 = *(_DWORD *)(a2 + 4);
  v11 = *(_WORD *)(a2 + 16);
  v141 = v9;
  v12 = *(_DWORD *)(a2 + 8);
  v133 = v10;
  v13 = *(_DWORD *)(a2 + 12);
  v137 = v11;
  LOBYTE(v11) = *(_BYTE *)(v2 + 24);
  v135 = v12;
  v14 = *(_DWORD *)(a2 + 36);
  v136 = *(float *)&v13;
  v15 = *(_DWORD *)(a2 + 40);
  v142 = v14;
  v143 = v15;
  if ( v11 & 0x10 )
  {
    HIBYTE(v137) |= 2u;
    v16 = *(_DWORD *)(v6 + 404);
    v115 = sub_10015A60(v16, *(_DWORD *)(v2 + 28));
    if ( sub_1000F810(v16) != v115 )
    {
      v17 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v16 + 4) + 4 * v115) + 4);
      if ( v17 )
      {
        v18 = *(_DWORD *)(v2 + 44);
        v19 = *(_DWORD *)(v2 + 48);
        v129 = *(_BYTE *)(v2 + 40);
        v20 = *(_BYTE *)(v2 + 52);
        v130 = v18;
        v131 = v19;
        v132 = v20;
        if ( *(_BYTE *)(v17 + 4) & 1 )
          v129 = *(_BYTE *)v17;
        v21 = *(_DWORD *)(v2 + 60);
        v144 = *(_BYTE *)(v2 + 56);
        v145 = v21;
        sub_10015600((int)&v146, v2 + 64);
        if ( *(_BYTE *)(v17 + 4) & 2 )
          v144 = *(_BYTE *)(v17 + 1);
      }
    }
  }
  v22 = sub_1003FFC0(dword_109D1838, *(_DWORD *)(v2 + 36));
  if ( v22 != 1 )
  {
    v23 = 0;
    dword_109D19C4 = 0;
    dword_109D19C0 = 0;
    dword_109D19C8 = 0;
    if ( &dword_109D19C0 )
    {
      v23 = v22;
      dword_109D19C0 = v22;
      LOWORD(dword_109D19C4) = 0;
      dword_109D19C8 = 0;
    }
    if ( v23 < 0 )
      unknown_libname_4(v23);
  }
  v121 = *(_BYTE *)(v124 + 412);
  if ( v121 )
  {
    v112 = *(float *)(a2 + 4);
    v60 = *(_DWORD *)(*(_DWORD *)(v2 + 20) + 368);
    v114 = *(float *)(a2 + 8);
    if ( v60 )
    {
      v112 = *(float *)v60 * *(float *)(a2 + 4) + *(float *)(v60 + 4);
      v114 = *(float *)(a2 + 8) * *(float *)v60 + *(float *)(v60 + 4);
      if ( v112 <= 0.0 || v114 <= 0.0 )
      {
        dword_109D19C4 = 0;
        dword_109D19C0 = 0;
        dword_109D19C8 = 0;
        if ( &dword_109D19C0 )
        {
          LOWORD(dword_109D19C4) = 0;
          dword_109D19C0 = -9;
          dword_109D19C8 = 0;
          unknown_libname_4(-9);
        }
      }
      v136 = v112;
    }
    v61 = *(_DWORD *)(v2 + 100);
    v62 = v61 + *(_DWORD *)(v2 + 92);
    v134 = 1065353216;
    v63 = v62;
    v64 = *(_DWORD *)(v2 + 96) + *(_DWORD *)(v2 + 104);
    v135 = 1065353216;
    v65 = *(_DWORD *)(v2 + 92);
    v126 = v64 / 2;
    v66 = v61 - v65;
    v67 = *(_DWORD *)(v2 + 20);
    v68 = *(_DWORD *)(v2 + 96);
    v127 = v66 / 2;
    v128 = (*(_DWORD *)(v2 + 104) - v68) / 2;
    v69 = *(_DWORD *)(v67 + 352);
    v70 = v63 / 2;
    v125 = v63 / 2;
    if ( v69 )
    {
      v87 = sub_1001F5E0((void *)v67, (int)&v119);
      v122 = *(_DWORD *)v87;
      v88 = v122;
      v123 = *(_DWORD *)(v87 + 4);
      v90 = sub_100268A0((double)v122 * *(float *)(a2 + 4), (double)v123 * *(float *)(a2 + 8), v124 + 416);
      v119 = v70 - v88;
      v91 = (double)(v70 - v88) * v112;
      if ( v91 <= 0.0 )
        v92 = v91 - 0.5;
      else
        v92 = v91 + 0.5;
      v73 = (unsigned __int64)(signed __int64)v92 + v90;
      v119 = v126 - v123;
      v93 = (double)(v126 - v123) * v114;
      if ( v93 <= 0.0 )
        v94 = v93 - 0.5;
      else
        v94 = v93 + 0.5;
      v74 = (unsigned __int64)(signed __int64)v94 + v89;
    }
    else
    {
      if ( *(_DWORD *)(v67 + 368) )
      {
        v75 = sub_1001F5E0((void *)v67, (int)&v119);
        v76 = *(_DWORD *)v75;
        v122 = *(_DWORD *)v75;
        v123 = *(_DWORD *)(v75 + 4);
        v77 = (double)v122 * *(float *)(a2 + 4);
        if ( v77 <= 0.0 )
          v78 = v77 - 0.5;
        else
          v78 = v77 + 0.5;
        v117 = (signed __int64)v78;
        v119 = v70 - v76;
        v79 = (double)(v70 - v76) * v112;
        if ( v79 <= 0.0 )
          v80 = v79 - 0.5;
        else
          v80 = v79 + 0.5;
        v81 = (signed __int64)v80;
        v82 = (double)v123 * *(float *)(a2 + 4);
        v118 = v117 + v81;
        if ( v82 <= 0.0 )
          v83 = v82 - 0.5;
        else
          v83 = v82 + 0.5;
        v84 = (signed __int64)v83;
        v119 = v126 - v123;
        v85 = (double)(v126 - v123) * v114;
        if ( v85 <= 0.0 )
          v86 = v85 - 0.5;
        else
          v86 = v85 + 0.5;
        v71 = sub_100268A0((double)v118, (double)(signed int)(v84 + (unsigned __int64)(signed __int64)v86), v124 + 416);
      }
      else
      {
        v71 = sub_100268A0((double)v125 * *(float *)(a2 + 4), (double)v126 * *(float *)(a2 + 8), v124 + 416);
      }
      v73 = v71;
      v74 = v72;
    }
    v95 = (double)v127 * v112;
    *(float *)&v119 = v95;
    if ( v97 | v98 )
      v99 = v95 - 0.5;
    else
      v99 = v95 + 0.5;
    v100 = (signed __int64)v99;
    v101 = (double)v128 * v114;
    *(_DWORD *)dword_109D1864 = v73 - v100;
    if ( v101 <= 0.0 )
      v102 = v101 - 0.5;
    else
      v102 = v101 + 0.5;
    v103 = (signed __int64)v102;
    v104 = *(float *)&v119;
    v105 = *(float *)&v119 < 0.0;
    v106 = *(float *)&v119 == 0.0;
    *(_DWORD *)(dword_109D1864 + 4) = v74 - v103;
    if ( v105 || v106 )
      v107 = v104 - 0.5;
    else
      v107 = v104 + 0.5;
    *(_DWORD *)(dword_109D1864 + 8) = v73 + (unsigned __int64)(signed __int64)v107;
    if ( v101 <= 0.0 )
      v108 = v101 - 0.5;
    else
      v108 = v101 + 0.5;
    *(_DWORD *)(dword_109D1864 + 12) = v74 + (unsigned __int64)(signed __int64)v108;
  }
  else
  {
    v24 = *(_DWORD *)(*(_DWORD *)(v2 + 20) + 368);
    if ( v24 )
    {
      v25 = *(_DWORD *)(v2 + 100);
      v26 = *(float *)v24;
      v27 = *(_DWORD *)(v2 + 96);
      v122 = (v25 + *(_DWORD *)(v2 + 92)) / 2;
      v28 = v26 * *(float *)(a2 + 4) + *(float *)(v24 + 4);
      v29 = v27 + *(_DWORD *)(v2 + 104);
      v30 = *(_DWORD *)(v2 + 92);
      v123 = v29 / 2;
      v111 = v28;
      v31 = *(float *)v24 * *(float *)(a2 + 8) + *(float *)(v24 + 4);
      v32 = v25 - v30;
      v33 = *(_DWORD *)(v2 + 96);
      v119 = v32 / 2;
      v113 = v31;
      v120 = (*(_DWORD *)(v2 + 104) - v33) / 2;
      if ( v28 <= 0.0 || v113 <= 0.0 )
      {
        dword_109D19C4 = 0;
        dword_109D19C0 = 0;
        dword_109D19C8 = 0;
        if ( &dword_109D19C0 )
        {
          LOWORD(dword_109D19C4) = 0;
          dword_109D19C0 = -9;
          dword_109D19C8 = 0;
          unknown_libname_4(-9);
        }
      }
      v34 = sub_1001F5E0(*(void **)(v2 + 20), (int)&v127);
      v35 = *(_DWORD *)v34;
      v125 = *(_DWORD *)v34;
      v126 = *(_DWORD *)(v34 + 4);
      v36 = (double)v125 * *(float *)(a2 + 4);
      if ( v36 <= 0.0 )
        v37 = v36 - 0.5;
      else
        v37 = v36 + 0.5;
      v38 = (signed __int64)v37;
      v39 = (double)(v122 - v35) * v111;
      if ( v39 <= 0.0 )
        v40 = v39 - 0.5;
      else
        v40 = v39 + 0.5;
      v41 = (unsigned __int64)(signed __int64)v40 + v38;
      v42 = (double)v126 * *(float *)(a2 + 8);
      if ( v42 <= 0.0 )
        v43 = v42 - 0.5;
      else
        v43 = v42 + 0.5;
      v44 = (signed __int64)v43;
      v45 = (double)(v123 - v126) * v113;
      if ( v45 <= 0.0 )
        v46 = v45 - 0.5;
      else
        v46 = v45 + 0.5;
      v47 = (unsigned __int64)(signed __int64)v46 + v44;
      v48 = (double)v119 * v111;
      v116 = v48;
      if ( v50 | v51 )
        v52 = v48 - 0.5;
      else
        v52 = v48 + 0.5;
      v53 = (signed __int64)v52;
      v54 = (double)v120 * v113;
      *(_DWORD *)dword_109D1864 = v41 - v53;
      if ( v54 <= 0.0 )
        v55 = v54 - 0.5;
      else
        v55 = v54 + 0.5;
      v56 = (signed __int64)v55;
      v57 = v116;
      *(_DWORD *)(dword_109D1864 + 4) = v47 - v56;
      if ( v116 <= 0.0 )
        v58 = v57 - 0.5;
      else
        v58 = v57 + 0.5;
      *(_DWORD *)(dword_109D1864 + 8) = v41 + (unsigned __int64)(signed __int64)v58;
      if ( v54 <= 0.0 )
        v59 = v54 - 0.5;
      else
        v59 = v54 + 0.5;
      *(_DWORD *)(dword_109D1864 + 12) = v47 + (unsigned __int64)(signed __int64)v59;
      v134 = 1065353216;
      v135 = 1065353216;
      v136 = v111;
    }
    else
    {
      *(_DWORD *)dword_109D1864 = *(_DWORD *)(v2 + 92);
      *(_DWORD *)(dword_109D1864 + 4) = *(_DWORD *)(v2 + 96);
      *(_DWORD *)(dword_109D1864 + 8) = *(_DWORD *)(v2 + 100);
      *(_DWORD *)(dword_109D1864 + 12) = *(_DWORD *)(v2 + 104);
    }
  }
  v109 = v124;
  *(_BYTE *)(v124 + 412) = 0;
  sub_10022AA0(
    v109,
    (int)&v133,
    *(_DWORD *)dword_109D1864,
    *(_DWORD *)(dword_109D1864 + 4),
    *(_DWORD *)(dword_109D1864 + 8),
    *(_DWORD *)(dword_109D1864 + 12),
    (int)&v129,
    (int)&v144);
  *(_BYTE *)(v124 + 412) = v121;
  return 1;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 109D1838: using guessed type int dword_109D1838;
// 109D1864: using guessed type int dword_109D1864;
// 109D19C0: using guessed type int dword_109D19C0;
// 109D19C4: using guessed type int dword_109D19C4;
// 109D19C8: using guessed type int dword_109D19C8;

//----- (1002E100) --------------------------------------------------------
signed int __thiscall sub_1002E100(void *this, int a2)
{
  int v2; // esi@1
  int v3; // eax@1
  int v4; // edx@1
  char v5; // cl@1
  int v6; // eax@1
  int v7; // ecx@1
  int v8; // ecx@1
  int v9; // edx@1
  __int16 v10; // ax@1
  float v11; // ecx@1
  int v12; // edx@1
  int v13; // ecx@1
  int v14; // edx@1
  int v15; // ebx@2
  int v16; // eax@2
  int v17; // ecx@2
  int v18; // ebx@3
  int v19; // ebx@6
  int v20; // ecx@7
  int v21; // edx@7
  char v22; // al@7
  int v23; // eax@9
  int v24; // eax@11
  int v25; // ecx@12
  int v26; // ecx@17
  __int64 v27; // rax@19
  double v28; // st7@19
  double v29; // st7@19
  signed int v30; // kr08_4@19
  double v31; // st6@19
  int v32; // eax@23
  double v33; // st7@23
  double v34; // st6@23
  double v35; // st6@23
  double v36; // st6@24
  double v37; // st7@26
  double v38; // st7@27
  double v39; // st7@29
  double v40; // st7@30
  int v41; // edi@32
  double v42; // st7@32
  double v43; // st7@33
  int v44; // ebx@35
  double v45; // st7@35
  double v46; // st7@36
  double v47; // st7@38
  double v48; // st7@39
  double v49; // st7@41
  double v50; // st7@42
  double v51; // st7@44
  double v52; // st7@45
  signed __int64 v53; // rax@47
  double v54; // st7@47
  unsigned __int8 v56; // c0@47
  unsigned __int8 v57; // c3@47
  double v58; // st7@48
  signed __int64 v59; // rax@50
  int v60; // ebx@50
  double v61; // st7@50
  double v62; // st6@51
  signed __int64 v63; // rax@53
  double v64; // st6@53
  int v65; // edi@53
  double v66; // st6@54
  double v67; // st7@57
  int v68; // eax@60
  int v69; // ecx@66
  int v70; // eax@66
  signed int v71; // kr04_4@66
  signed int v72; // eax@66
  int v73; // edx@66
  signed int v74; // eax@66
  int v75; // ecx@66
  int v76; // edx@66
  int v77; // eax@66
  int v78; // ebx@66
  int v79; // ebx@68
  int v80; // edx@68
  int v81; // edx@68
  int v82; // edx@68
  int v83; // eax@69
  double v84; // st7@69
  double v85; // st7@70
  signed __int64 v86; // rax@72
  double v87; // st7@72
  double v88; // st6@72
  double v89; // st6@73
  signed __int64 v90; // rax@75
  double v91; // st6@75
  double v92; // st6@76
  double v93; // st6@78
  double v94; // st6@79
  double v95; // st7@81
  double v96; // st7@82
  int v97; // edi@84
  double v98; // st7@84
  double v99; // st7@85
  signed int v100; // ST50_4@87
  int v101; // edi@87
  int v102; // ebx@87
  int v103; // edx@87
  double v104; // st7@87
  double v105; // st7@88
  double v106; // st7@90
  double v107; // st7@91
  int v108; // edx@93
  double v109; // st7@93
  double v110; // st7@94
  double v111; // st7@96
  double v112; // st7@97
  int v113; // edx@99
  int v114; // eax@100
  int v115; // edi@100
  int v116; // edx@100
  double v117; // st7@100
  double v118; // st7@101
  double v119; // st7@103
  double v120; // st7@104
  int v121; // ebx@106
  double v122; // st7@106
  double v123; // st7@107
  double v124; // st7@109
  double v125; // st7@110
  double v126; // st7@112
  double v127; // st7@113
  int v128; // eax@115
  double v129; // st7@115
  double v130; // st7@116
  double v131; // st7@119
  unsigned __int8 v133; // c0@119
  unsigned __int8 v134; // c3@119
  double v135; // st7@120
  signed __int64 v136; // rax@122
  double v137; // st7@122
  double v138; // st6@123
  signed __int64 v139; // rax@125
  double v140; // st6@125
  double v141; // st6@126
  double v142; // st7@129
  int v143; // edi@132
  double v144; // st7@132
  double v145; // st7@133
  int v146; // ebx@135
  double v147; // st7@135
  double v148; // st7@136
  double v149; // st7@139
  double v150; // st7@140
  int v151; // ebx@142
  double v152; // st7@142
  double v153; // st7@143
  double v154; // st7@150
  double v155; // st7@151
  double v156; // st7@153
  double v157; // st7@154
  double v158; // st7@156
  double v159; // st7@157
  double v160; // st7@159
  double v161; // st7@160
  int v162; // eax@162
  int v163; // ecx@162
  int v164; // esi@165
  int v165; // esi@167
  int v167; // [sp+20h] [bp-CCh]@26
  float v168; // [sp+20h] [bp-CCh]@69
  float v169; // [sp+20h] [bp-CCh]@119
  int v170; // [sp+24h] [bp-C8h]@29
  float v171; // [sp+28h] [bp-C4h]@19
  float v172; // [sp+28h] [bp-C4h]@60
  float v173; // [sp+2Ch] [bp-C0h]@19
  float v174; // [sp+2Ch] [bp-C0h]@60
  float v175; // [sp+30h] [bp-BCh]@47
  int v176; // [sp+30h] [bp-BCh]@68
  float v177; // [sp+30h] [bp-BCh]@69
  int v178; // [sp+30h] [bp-BCh]@78
  signed int v179; // [sp+30h] [bp-BCh]@81
  int v180; // [sp+34h] [bp-B8h]@68
  char v181; // [sp+3Bh] [bp-B1h]@16
  int v182; // [sp+3Ch] [bp-B0h]@23
  int v183; // [sp+40h] [bp-ACh]@35
  int v184; // [sp+44h] [bp-A8h]@1
  int v185; // [sp+48h] [bp-A4h]@23
  int v186; // [sp+4Ch] [bp-A0h]@23
  int v187; // [sp+50h] [bp-9Ch]@19
  int v188; // [sp+54h] [bp-98h]@19
  int v189; // [sp+58h] [bp-94h]@1
  float v190; // [sp+5Ch] [bp-90h]@1
  float v191; // [sp+60h] [bp-8Ch]@1
  float v192; // [sp+64h] [bp-88h]@1
  __int16 v193; // [sp+68h] [bp-84h]@1
  int v194; // [sp+6Ch] [bp-80h]@1
  int v195; // [sp+70h] [bp-7Ch]@1
  int v196; // [sp+74h] [bp-78h]@1
  int v197; // [sp+78h] [bp-74h]@1
  int v198; // [sp+7Ch] [bp-70h]@1
  int v199; // [sp+80h] [bp-6Ch]@1
  char v200; // [sp+84h] [bp-68h]@1
  int v201; // [sp+88h] [bp-64h]@1
  int v202; // [sp+8Ch] [bp-60h]@1
  char v203; // [sp+90h] [bp-5Ch]@1
  int v204; // [sp+94h] [bp-58h]@19
  int v205; // [sp+98h] [bp-54h]@66
  int v206; // [sp+9Ch] [bp-50h]@150
  float v207; // [sp+A0h] [bp-4Ch]@150
  float v208; // [sp+A4h] [bp-48h]@150
  float v209; // [sp+A8h] [bp-44h]@150
  __int16 v210; // [sp+ACh] [bp-40h]@150
  int v211; // [sp+B0h] [bp-3Ch]@150
  int v212; // [sp+B4h] [bp-38h]@150
  int v213; // [sp+B8h] [bp-34h]@150
  int v214; // [sp+BCh] [bp-30h]@150
  int v215; // [sp+C0h] [bp-2Ch]@150
  int v216; // [sp+C4h] [bp-28h]@150
  char v217; // [sp+C8h] [bp-24h]@1
  int v218; // [sp+CCh] [bp-20h]@1
  char v219; // [sp+D0h] [bp-1Ch]@1

  v2 = (int)this;
  v3 = (*(int (**)(void))(*(_DWORD *)this + 64))();
  v4 = *(_DWORD *)(v2 + 44);
  v200 = *(_BYTE *)(v2 + 40);
  v5 = *(_BYTE *)(v2 + 52);
  v201 = v4;
  v184 = v3;
  v6 = *(_DWORD *)(v2 + 48);
  v203 = v5;
  v202 = v6;
  sub_10015600((int)&v219, v2 + 64);
  v7 = *(_DWORD *)(v2 + 60);
  v217 = *(_BYTE *)(v2 + 56);
  v218 = v7;
  v194 = *(_DWORD *)(a2 + 20);
  v195 = *(_DWORD *)(a2 + 24);
  v196 = *(_DWORD *)(a2 + 28);
  v8 = *(_DWORD *)(a2 + 32);
  v9 = *(_DWORD *)a2;
  v190 = *(float *)(a2 + 4);
  v10 = *(_WORD *)(a2 + 16);
  v197 = v8;
  v11 = *(float *)(a2 + 8);
  v189 = v9;
  v12 = *(int *)(a2 + 12);
  v193 = v10;
  LOBYTE(v10) = *(_BYTE *)(v2 + 24);
  v191 = v11;
  v13 = *(_DWORD *)(a2 + 36);
  v192 = *(float *)&v12;
  v14 = *(_DWORD *)(a2 + 40);
  v198 = v13;
  v199 = v14;
  if ( v10 & 0x10 )
  {
    HIBYTE(v193) |= 2u;
    v15 = *(_DWORD *)(v184 + 404);
    v16 = sub_10015A60(v15, *(_DWORD *)(v2 + 28));
    v17 = *(_DWORD *)(v15 + 4);
    v18 = v17 ? (*(_DWORD *)(v15 + 8) - v17) >> 2 : 0;
    if ( v18 != v16 )
    {
      v19 = *(_DWORD *)(*(_DWORD *)(v17 + 4 * v16) + 4);
      if ( v19 )
      {
        v20 = *(_DWORD *)(v2 + 44);
        v21 = *(_DWORD *)(v2 + 48);
        v200 = *(_BYTE *)(v2 + 40);
        v22 = *(_BYTE *)(v2 + 52);
        v201 = v20;
        v202 = v21;
        v203 = v22;
        if ( *(_BYTE *)(v19 + 4) & 1 )
          v200 = *(_BYTE *)v19;
        v23 = *(_DWORD *)(v2 + 60);
        v217 = *(_BYTE *)(v2 + 56);
        v218 = v23;
        sub_10015600((int)&v219, v2 + 64);
        if ( *(_BYTE *)(v19 + 4) & 2 )
          v217 = *(_BYTE *)(v19 + 1);
      }
    }
  }
  v24 = sub_1003FFC0(dword_109D1838, *(_DWORD *)(v2 + 36));
  if ( v24 != 1 )
  {
    v25 = 0;
    dword_109D19C4 = 0;
    dword_109D19C0 = 0;
    dword_109D19C8 = 0;
    if ( &dword_109D19C0 )
    {
      v25 = v24;
      dword_109D19C0 = v24;
      LOWORD(dword_109D19C4) = 0;
      dword_109D19C8 = 0;
    }
    if ( v25 < 0 )
      unknown_libname_4(v25);
  }
  v181 = *(_BYTE *)(v184 + 412);
  if ( *(_BYTE *)(v184 + 412) )
  {
    v172 = *(float *)(a2 + 4);
    v68 = *(_DWORD *)(*(_DWORD *)(v2 + 20) + 368);
    v174 = *(float *)(a2 + 8);
    if ( v68 )
    {
      v172 = *(float *)v68 * *(float *)(a2 + 4) + *(float *)(v68 + 4);
      v174 = *(float *)(a2 + 8) * *(float *)v68 + *(float *)(v68 + 4);
      if ( v172 <= 0.0 || v174 <= 0.0 )
      {
        dword_109D19C4 = 0;
        dword_109D19C0 = 0;
        dword_109D19C8 = 0;
        if ( &dword_109D19C0 )
        {
          LOWORD(dword_109D19C4) = 0;
          dword_109D19C0 = -9;
          dword_109D19C8 = 0;
          unknown_libname_4(-9);
        }
      }
      v192 = v172;
    }
    v69 = *(_DWORD *)(v2 + 100);
    v70 = v69 + *(_DWORD *)(v2 + 92);
    v190 = 1.0;
    v71 = v70;
    v72 = *(_DWORD *)(v2 + 96) + *(_DWORD *)(v2 + 104);
    v191 = 1.0;
    v73 = *(_DWORD *)(v2 + 92);
    v188 = v72 / 2;
    v74 = v69 - v73;
    v75 = *(_DWORD *)(v2 + 20);
    v76 = *(_DWORD *)(v2 + 96);
    v204 = v74 / 2;
    v205 = (*(_DWORD *)(v2 + 104) - v76) / 2;
    v77 = *(_DWORD *)(v75 + 352);
    v78 = v71 / 2;
    v187 = v71 / 2;
    if ( v77 )
    {
      v114 = sub_1001F5E0((void *)v75, (int)&v185);
      v182 = *(_DWORD *)v114;
      v183 = *(_DWORD *)(v114 + 4);
      v115 = sub_100268A0((double)v182 * *(float *)(a2 + 4), (double)v183 * *(float *)(a2 + 8), v184 + 416);
      v186 = v116;
      v117 = (double)(v78 - v182) * v172;
      if ( v117 <= 0.0 )
        v118 = v117 - 0.5;
      else
        v118 = v117 + 0.5;
      v176 = v115 + (unsigned __int64)(signed __int64)v118;
      v119 = (double)(v188 - v183) * v174;
      if ( v119 <= 0.0 )
        v120 = v119 - 0.5;
      else
        v120 = v119 + 0.5;
      v121 = v182;
      v180 = (unsigned __int64)(signed __int64)v120 + v186;
      v122 = (double)(*(_DWORD *)(v2 + 108) - v182) * v172;
      if ( v122 <= 0.0 )
        v123 = v122 - 0.5;
      else
        v123 = v122 + 0.5;
      *(_DWORD *)(dword_109D1864 + 16) = v115 + (unsigned __int64)(signed __int64)v123;
      v124 = (double)(*(_DWORD *)(v2 + 112) - v183) * v174;
      if ( v124 <= 0.0 )
        v125 = v124 - 0.5;
      else
        v125 = v124 + 0.5;
      *(_DWORD *)(dword_109D1864 + 20) = (unsigned __int64)(signed __int64)v125 + v186;
      v126 = (double)(*(_DWORD *)(v2 + 116) - v121) * v172;
      if ( v126 <= 0.0 )
        v127 = v126 - 0.5;
      else
        v127 = v126 + 0.5;
      v128 = v183;
      *(_DWORD *)(dword_109D1864 + 24) = (unsigned __int64)(signed __int64)v127 + v115;
      v129 = (double)(*(_DWORD *)(v2 + 120) - v128) * v174;
      if ( v129 <= 0.0 )
        v130 = v129 - 0.5;
      else
        v130 = v129 + 0.5;
      *(_DWORD *)(dword_109D1864 + 28) = (unsigned __int64)(signed __int64)v130 + v186;
    }
    else if ( *(_DWORD *)(v75 + 368) )
    {
      v83 = sub_1001F5E0((void *)v75, (int)&v185);
      v182 = *(_DWORD *)v83;
      v168 = *(float *)(a2 + 8);
      v183 = *(_DWORD *)(v83 + 4);
      v177 = (double)v182;
      v84 = *(float *)(a2 + 4) * v177;
      if ( v84 <= 0.0 )
        v85 = v84 - 0.5;
      else
        v85 = v84 + 0.5;
      v86 = (signed __int64)v85;
      v87 = (double)v183;
      v185 = v86;
      v88 = v87 * v168;
      if ( v88 <= 0.0 )
        v89 = v88 - 0.5;
      else
        v89 = v88 + 0.5;
      v90 = (signed __int64)v89;
      v91 = v177 * *(float *)(a2 + 4);
      v186 = v90;
      if ( v91 <= 0.0 )
        v92 = v91 - 0.5;
      else
        v92 = v91 + 0.5;
      v178 = (signed __int64)v92;
      v93 = (double)(v78 - v182) * v172;
      if ( v93 <= 0.0 )
        v94 = v93 - 0.5;
      else
        v94 = v93 + 0.5;
      v95 = v87 * *(float *)(a2 + 4);
      v179 = v178 + (unsigned __int64)(signed __int64)v94;
      if ( v95 <= 0.0 )
        v96 = v95 - 0.5;
      else
        v96 = v95 + 0.5;
      v97 = (signed __int64)v96;
      v98 = (double)(v188 - v183) * v174;
      if ( v98 <= 0.0 )
        v99 = v98 - 0.5;
      else
        v99 = v98 + 0.5;
      v100 = v97 + (unsigned __int64)(signed __int64)v99;
      v101 = v184 + 416;
      v102 = v182;
      v176 = sub_100268A0((double)v179, (double)v100, v184 + 416);
      v180 = v103;
      v104 = (double)(*(_DWORD *)(v2 + 108) - v182) * v172;
      if ( v104 <= 0.0 )
        v105 = v104 - 0.5;
      else
        v105 = v104 + 0.5;
      *(_DWORD *)(dword_109D1864 + 16) = (unsigned __int64)(signed __int64)v105 + v185;
      v106 = (double)(*(_DWORD *)(v2 + 112) - v183) * v174;
      if ( v106 <= 0.0 )
        v107 = v106 - 0.5;
      else
        v107 = v106 + 0.5;
      *(_DWORD *)(dword_109D1864 + 20) = (unsigned __int64)(signed __int64)v107 + v186;
      *(_DWORD *)(dword_109D1864 + 16) = sub_100268A0(
                                           (double)*(signed int *)(dword_109D1864 + 16),
                                           (double)*(signed int *)(dword_109D1864 + 20),
                                           v101);
      *(_DWORD *)(dword_109D1864 + 20) = v108;
      v109 = (double)(*(_DWORD *)(v2 + 116) - v102) * v172;
      if ( v109 <= 0.0 )
        v110 = v109 - 0.5;
      else
        v110 = v109 + 0.5;
      *(_DWORD *)(dword_109D1864 + 24) = (unsigned __int64)(signed __int64)v110 + v185;
      v111 = (double)(*(_DWORD *)(v2 + 120) - v183) * v174;
      if ( v111 <= 0.0 )
        v112 = v111 - 0.5;
      else
        v112 = v111 + 0.5;
      *(_DWORD *)(dword_109D1864 + 28) = (unsigned __int64)(signed __int64)v112 + v186;
      *(_DWORD *)(dword_109D1864 + 24) = sub_100268A0(
                                           (double)*(signed int *)(dword_109D1864 + 24),
                                           (double)*(signed int *)(dword_109D1864 + 28),
                                           v101);
      *(_DWORD *)(dword_109D1864 + 28) = v113;
    }
    else
    {
      v79 = v184 + 416;
      v176 = sub_100268A0((double)v187 * *(float *)(a2 + 4), (double)v188 * *(float *)(a2 + 8), v184 + 416);
      v180 = v80;
      *(_DWORD *)(dword_109D1864 + 16) = sub_100268A0(
                                           (double)*(signed int *)(v2 + 108) * *(float *)(a2 + 4),
                                           (double)*(signed int *)(v2 + 112) * *(float *)(a2 + 8),
                                           v184 + 416);
      *(_DWORD *)(dword_109D1864 + 20) = v81;
      *(_DWORD *)(dword_109D1864 + 24) = sub_100268A0(
                                           (double)*(signed int *)(v2 + 116) * *(float *)(a2 + 4),
                                           (double)*(signed int *)(v2 + 120) * *(float *)(a2 + 8),
                                           v79);
      *(_DWORD *)(dword_109D1864 + 28) = v82;
    }
    v131 = (double)v204 * v172;
    v169 = v131;
    if ( v133 | v134 )
      v135 = v131 - 0.5;
    else
      v135 = v131 + 0.5;
    v136 = (signed __int64)v135;
    v137 = (double)v205 * v174;
    *(_DWORD *)dword_109D1864 = v176 - v136;
    if ( v137 <= 0.0 )
      v138 = v137 - 0.5;
    else
      v138 = v137 + 0.5;
    v139 = (signed __int64)v138;
    v140 = v169;
    *(_DWORD *)(dword_109D1864 + 4) = v180 - v139;
    if ( v169 <= 0.0 )
      v141 = v140 - 0.5;
    else
      v141 = v140 + 0.5;
    *(_DWORD *)(dword_109D1864 + 8) = v176 + (unsigned __int64)(signed __int64)v141;
    if ( v137 <= 0.0 )
      v142 = v137 - 0.5;
    else
      v142 = v137 + 0.5;
    *(_DWORD *)(dword_109D1864 + 12) = v180 + (unsigned __int64)(signed __int64)v142;
  }
  else
  {
    v26 = *(_DWORD *)(*(_DWORD *)(v2 + 20) + 368);
    if ( v26 )
    {
      v27 = *(_DWORD *)(v2 + 92) + *(_DWORD *)(v2 + 100);
      LODWORD(v27) = v27 - HIDWORD(v27);
      HIDWORD(v27) = *(_DWORD *)(v2 + 96);
      v28 = *(float *)v26 * *(float *)(a2 + 4);
      v204 = (signed int)v27 >> 1;
      v29 = v28 + *(float *)(v26 + 4);
      v30 = HIDWORD(v27) + *(_DWORD *)(v2 + 104);
      v171 = v29;
      v31 = *(float *)v26 * *(float *)(a2 + 8) + *(float *)(v26 + 4);
      HIDWORD(v27) = *(_DWORD *)(v2 + 96);
      v187 = (*(_DWORD *)(v2 + 100) - *(_DWORD *)(v2 + 92)) / 2;
      v173 = v31;
      v188 = (*(_DWORD *)(v2 + 104) - HIDWORD(v27)) / 2;
      if ( v29 <= 0.0 || v173 <= 0.0 )
      {
        dword_109D19C4 = 0;
        dword_109D19C0 = 0;
        dword_109D19C8 = 0;
        if ( &dword_109D19C0 )
        {
          LOWORD(dword_109D19C4) = 0;
          dword_109D19C0 = -9;
          dword_109D19C8 = 0;
          unknown_libname_4(-9);
        }
      }
      v32 = sub_1001F5E0(*(void **)(v2 + 20), (int)&v182);
      v33 = *(float *)(a2 + 8);
      v34 = *(float *)(a2 + 4);
      v185 = *(_DWORD *)v32;
      v35 = v34 * (double)v185;
      v186 = *(_DWORD *)(v32 + 4);
      if ( v35 <= 0.0 )
        v36 = v35 - 0.5;
      else
        v36 = v35 + 0.5;
      v37 = v33 * (double)v186;
      v167 = (signed __int64)v36;
      if ( v37 <= 0.0 )
        v38 = v37 - 0.5;
      else
        v38 = v37 + 0.5;
      v170 = (signed __int64)v38;
      v39 = (double)(v204 - v185) * v171;
      if ( v39 <= 0.0 )
        v40 = v39 - 0.5;
      else
        v40 = v39 + 0.5;
      v41 = v186;
      v182 = v167 + (unsigned __int64)(signed __int64)v40;
      v42 = (double)(v30 / 2 - v186) * v173;
      if ( v42 <= 0.0 )
        v43 = v42 - 0.5;
      else
        v43 = v42 + 0.5;
      v44 = v185;
      v183 = v170 + (unsigned __int64)(signed __int64)v43;
      v45 = (double)(*(_DWORD *)(v2 + 108) - v185) * v171;
      if ( v45 <= 0.0 )
        v46 = v45 - 0.5;
      else
        v46 = v45 + 0.5;
      *(_DWORD *)(dword_109D1864 + 16) = v167 + (unsigned __int64)(signed __int64)v46;
      v47 = (double)(*(_DWORD *)(v2 + 112) - v41) * v173;
      if ( v47 <= 0.0 )
        v48 = v47 - 0.5;
      else
        v48 = v47 + 0.5;
      *(_DWORD *)(dword_109D1864 + 20) = v170 + (unsigned __int64)(signed __int64)v48;
      v49 = (double)(*(_DWORD *)(v2 + 116) - v44) * v171;
      if ( v49 <= 0.0 )
        v50 = v49 - 0.5;
      else
        v50 = v49 + 0.5;
      *(_DWORD *)(dword_109D1864 + 24) = v167 + (unsigned __int64)(signed __int64)v50;
      v51 = (double)(*(_DWORD *)(v2 + 120) - v41) * v173;
      if ( v51 <= 0.0 )
        v52 = v51 - 0.5;
      else
        v52 = v51 + 0.5;
      v53 = (signed __int64)v52;
      v54 = (double)v187 * v171;
      *(_DWORD *)(dword_109D1864 + 28) = v170 + v53;
      v175 = v54;
      if ( v56 | v57 )
        v58 = v54 - 0.5;
      else
        v58 = v54 + 0.5;
      v59 = (signed __int64)v58;
      v60 = v182;
      v61 = (double)v188 * v173;
      *(_DWORD *)dword_109D1864 = v182 - v59;
      if ( v61 <= 0.0 )
        v62 = v61 - 0.5;
      else
        v62 = v61 + 0.5;
      v63 = (signed __int64)v62;
      v64 = v175;
      v65 = v183;
      *(_DWORD *)(dword_109D1864 + 4) = v183 - v63;
      if ( v175 <= 0.0 )
        v66 = v64 - 0.5;
      else
        v66 = v64 + 0.5;
      *(_DWORD *)(dword_109D1864 + 8) = (unsigned __int64)(signed __int64)v66 + v60;
      if ( v61 <= 0.0 )
        v67 = v61 - 0.5;
      else
        v67 = v61 + 0.5;
      *(_DWORD *)(dword_109D1864 + 12) = (unsigned __int64)(signed __int64)v67 + v65;
      v190 = 1.0;
      v191 = 1.0;
      v192 = v171;
    }
    else
    {
      *(_DWORD *)dword_109D1864 = *(_DWORD *)(v2 + 92);
      *(_DWORD *)(dword_109D1864 + 4) = *(_DWORD *)(v2 + 96);
      *(_DWORD *)(dword_109D1864 + 8) = *(_DWORD *)(v2 + 100);
      *(_DWORD *)(dword_109D1864 + 12) = *(_DWORD *)(v2 + 104);
      *(_DWORD *)(dword_109D1864 + 16) = *(_DWORD *)(v2 + 108);
      *(_DWORD *)(dword_109D1864 + 20) = *(_DWORD *)(v2 + 112);
      *(_DWORD *)(dword_109D1864 + 24) = *(_DWORD *)(v2 + 116);
      *(_DWORD *)(dword_109D1864 + 28) = *(_DWORD *)(v2 + 120);
    }
  }
  *(_BYTE *)(v184 + 412) = 0;
  v143 = dword_109D1864;
  v144 = (double)*(signed int *)(dword_109D1864 + 16) * v190;
  if ( v144 <= 0.0 )
    v145 = v144 - 0.5;
  else
    v145 = v144 + 0.5;
  v146 = (signed __int64)v145;
  v147 = (double)*(signed int *)(dword_109D1864 + 24) * v190;
  if ( v147 <= 0.0 )
    v148 = v147 - 0.5;
  else
    v148 = v147 + 0.5;
  if ( abs(v146 - (unsigned __int64)(signed __int64)v148) >= 2 )
  {
    v149 = (double)*(signed int *)(dword_109D1864 + 20) * v191;
    v150 = v149 <= 0.0 ? v149 - 0.5 : v149 + 0.5;
    v151 = (signed __int64)v150;
    v152 = (double)*(signed int *)(dword_109D1864 + 28) * v191;
    v153 = v152 <= 0.0 ? v152 - 0.5 : v152 + 0.5;
    if ( abs(v151 - (unsigned __int64)(signed __int64)v153) >= 2 )
      goto LABEL_167;
  }
  if ( *(_DWORD *)(v2 + 108) == *(_DWORD *)(v2 + 116) && *(_DWORD *)(v2 + 112) == *(_DWORD *)(v2 + 120) || v190 == 1.0 )
    goto LABEL_167;
  if ( !sub_10026D70(
          *(_DWORD *)(v2 + 92),
          *(_DWORD *)(v2 + 96),
          *(_DWORD *)(v2 + 100),
          *(_DWORD *)(v2 + 104),
          *(_DWORD *)(v2 + 108),
          *(_DWORD *)(v2 + 112),
          *(_DWORD *)(v2 + 116),
          *(_DWORD *)(v2 + 120),
          v190,
          v191) )
  {
    v143 = dword_109D1864;
LABEL_167:
    v165 = *(_DWORD *)(v2 + 124);
    if ( v165 )
    {
      if ( v165 == 1 )
      {
        v164 = v184;
        sub_10024490(
          v184,
          (int)&v189,
          *(_DWORD *)v143,
          *(_DWORD *)(v143 + 4),
          *(_DWORD *)(v143 + 8),
          *(_DWORD *)(v143 + 12),
          *(_DWORD *)(v143 + 16),
          *(_DWORD *)(v143 + 20),
          *(_DWORD *)(v143 + 24),
          *(_DWORD *)(v143 + 28),
          (int)&v200,
          (int)&v217);
      }
      else
      {
        v164 = v184;
        sub_10025410(
          v184,
          (int)&v189,
          *(_DWORD *)v143,
          *(_DWORD *)(v143 + 4),
          *(_DWORD *)(v143 + 8),
          *(_DWORD *)(v143 + 12),
          *(_DWORD *)(v143 + 16),
          *(_DWORD *)(v143 + 20),
          *(_DWORD *)(v143 + 24),
          *(_DWORD *)(v143 + 28),
          (int)&v200,
          (int)&v217);
      }
    }
    else
    {
      v164 = v184;
      sub_10023710(
        v184,
        (int)&v189,
        *(_DWORD *)v143,
        *(_DWORD *)(v143 + 4),
        *(_DWORD *)(v143 + 8),
        *(_DWORD *)(v143 + 12),
        *(_DWORD *)(v143 + 16),
        *(_DWORD *)(v143 + 20),
        *(_DWORD *)(v143 + 24),
        *(_DWORD *)(v143 + 28),
        (int)&v200);
    }
    goto LABEL_172;
  }
  v211 = v194;
  v212 = v195;
  v213 = v196;
  v214 = v197;
  v206 = v189;
  v207 = v190;
  v208 = v191;
  v209 = v192;
  v210 = v193;
  v215 = v198;
  v216 = v199;
  v154 = (double)*(signed int *)(dword_109D1864 + 16) * v190;
  if ( v154 <= 0.0 )
    v155 = v154 - 0.5;
  else
    v155 = v154 + 0.5;
  *(_DWORD *)dword_109D1864 = (signed __int64)v155;
  v156 = (double)*(signed int *)(dword_109D1864 + 20) * v191;
  if ( v156 <= 0.0 )
    v157 = v156 - 0.5;
  else
    v157 = v156 + 0.5;
  *(_DWORD *)(dword_109D1864 + 4) = (signed __int64)v157;
  v158 = (double)*(signed int *)(dword_109D1864 + 24) * v190;
  if ( v158 <= 0.0 )
    v159 = v158 - 0.5;
  else
    v159 = v158 + 0.5;
  *(_DWORD *)(dword_109D1864 + 8) = (signed __int64)v159;
  v160 = (double)*(signed int *)(dword_109D1864 + 28) * v191;
  if ( v160 <= 0.0 )
    v161 = v160 - 0.5;
  else
    v161 = v160 + 0.5;
  *(_DWORD *)(dword_109D1864 + 12) = (signed __int64)v161;
  v162 = dword_109D1864;
  v163 = *(_DWORD *)(dword_109D1864 + 8);
  if ( *(_DWORD *)dword_109D1864 == v163 && *(_DWORD *)(dword_109D1864 + 4) == *(_DWORD *)(dword_109D1864 + 12) )
  {
    *(_DWORD *)(dword_109D1864 + 8) = v163 + 1;
    v162 = dword_109D1864;
  }
  v164 = v184;
  v207 = 1.0;
  v208 = 1.0;
  v209 = 1.0;
  sub_10021CA0(v161, v184, &v206, 0, v162, 2u, (int)&v200);
LABEL_172:
  *(_BYTE *)(v164 + 412) = v181;
  return 1;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 109D1838: using guessed type int dword_109D1838;
// 109D1864: using guessed type int dword_109D1864;
// 109D19C0: using guessed type int dword_109D19C0;
// 109D19C4: using guessed type int dword_109D19C4;
// 109D19C8: using guessed type int dword_109D19C8;

//----- (1002F1E0) --------------------------------------------------------
signed int __thiscall sub_1002F1E0(int this, int a2)
{
  signed int result; // eax@2
  signed int v3; // ecx@5

  if ( *(_BYTE *)(this + 12) )
    result = sub_1003EEB0(
               a2,
               **(_DWORD **)(this + 4),
               *(_DWORD *)(*(_DWORD *)(this + 4) + 4),
               *(_DWORD *)(*(_DWORD *)(this + 4) + 8),
               *(_DWORD *)(*(_DWORD *)(this + 4) + 12));
  else
    result = sub_1003F320(a2, *(_DWORD *)(this + 4), *(_DWORD *)this);
  if ( result != 1 )
  {
    v3 = 0;
    dword_109D19C4 = 0;
    dword_109D19C0 = 0;
    dword_109D19C8 = 0;
    if ( &dword_109D19C0 )
    {
      v3 = result;
      LOWORD(dword_109D19C4) = 0;
      dword_109D19C0 = result;
      dword_109D19C8 = 0;
    }
    if ( v3 < 0 )
      result = unknown_libname_4(v3);
  }
  return result;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 109D19C0: using guessed type int dword_109D19C0;
// 109D19C4: using guessed type int dword_109D19C4;
// 109D19C8: using guessed type int dword_109D19C8;

//----- (1002F270) --------------------------------------------------------
int __cdecl sub_1002F270(int a1, int a2, int a3, int a4, float a5, float a6)
{
  int v6; // eax@1
  int v7; // esi@7
  int v8; // ecx@7
  int v9; // ST28_4@7
  int v10; // eax@7
  int v11; // esi@7
  signed int v12; // kr04_4@7
  int v13; // edi@7
  int v14; // esi@7
  double v15; // st7@9
  double v16; // st7@10
  int v17; // edi@12
  double v18; // st7@12
  int v19; // ebx@13
  int v20; // eax@15
  double v21; // st7@15
  double v22; // st7@16
  double v23; // st7@18
  double v24; // st7@19
  signed __int64 v25; // rax@21
  double v26; // st7@21
  double v27; // st7@22
  int v28; // ebx@24
  double v29; // st7@24
  int v30; // eax@27
  int v31; // edx@27
  int v32; // eax@29
  double v33; // st7@29
  double v34; // st7@30
  double v35; // st7@32
  double v36; // st7@33
  signed __int64 v37; // rax@35
  double v38; // st7@35
  double v39; // st7@36
  int v40; // edi@38
  double v41; // st7@38
  double v42; // st7@39
  int v43; // eax@42
  signed int v44; // ST30_4@42
  int v45; // edx@42
  double v46; // st7@42
  double v47; // st7@43
  double v48; // st7@46
  double v49; // st7@47
  double v50; // st7@50
  unsigned __int8 v52; // c0@50
  unsigned __int8 v53; // c3@50
  double v54; // st7@51
  signed __int64 v55; // rax@53
  double v56; // st7@53
  double v57; // st6@54
  signed __int64 v58; // rax@56
  double v59; // st6@56
  double v60; // st6@57
  int result; // eax@60
  int v62; // eax@64
  int v63; // edx@64
  double v64; // st7@64
  double v65; // st7@65
  signed __int64 v66; // rax@67
  double v67; // st7@67
  double v68; // st7@68
  signed int j; // edi@70
  double v70; // st7@71
  double v71; // st7@72
  int v72; // ecx@74
  double v73; // st7@74
  double v74; // st7@75
  int v75; // eax@79
  int v76; // edi@79
  double v77; // st7@79
  double v78; // st7@80
  int v79; // ebx@82
  double v80; // st7@82
  double v81; // st7@83
  double v82; // st7@85
  double v83; // st7@86
  double v84; // st7@88
  double v85; // st7@89
  signed int v86; // edi@91
  double v87; // st7@92
  double v88; // st7@93
  double v89; // st7@95
  double v90; // st7@96
  int i; // edi@102
  int v92; // edx@103
  int v93; // eax@105
  double v94; // st7@105
  double v95; // st7@106
  double v96; // st7@108
  double v97; // st7@109
  int v98; // ebx@111
  int v99; // edi@112
  double v100; // st7@113
  double v101; // st7@114
  double v102; // st7@116
  double v103; // st7@117
  signed int v104; // eax@119
  int v105; // edx@119
  int v106; // eax@121
  int v107; // edi@121
  bool v108; // zf@121
  bool v109; // sf@121
  int v110; // edx@121
  double v111; // st7@122
  double v112; // st7@123
  double v113; // st7@125
  double v114; // st7@126
  float v115; // [sp+20h] [bp-2Ch]@1
  float v116; // [sp+24h] [bp-28h]@1
  int v117; // [sp+28h] [bp-24h]@18
  int v118; // [sp+28h] [bp-24h]@32
  int v119; // [sp+28h] [bp-24h]@42
  int v120; // [sp+28h] [bp-24h]@82
  int v121; // [sp+2Ch] [bp-20h]@85
  signed int v122; // [sp+30h] [bp-1Ch]@79
  signed int v123; // [sp+30h] [bp-1Ch]@105
  signed int v124; // [sp+30h] [bp-1Ch]@121
  signed int v125; // [sp+34h] [bp-18h]@15
  signed int v126; // [sp+34h] [bp-18h]@29
  signed int v127; // [sp+34h] [bp-18h]@42
  signed int v128; // [sp+34h] [bp-18h]@79
  signed int v129; // [sp+34h] [bp-18h]@105
  signed int v130; // [sp+34h] [bp-18h]@121
  float v131; // [sp+38h] [bp-14h]@50
  int v132; // [sp+3Ch] [bp-10h]@7
  int v133; // [sp+40h] [bp-Ch]@7
  int v134; // [sp+44h] [bp-8h]@7
  int v135; // [sp+48h] [bp-4h]@7

  v115 = a5;
  v6 = *(_DWORD *)(a2 + 368);
  v116 = a6;
  if ( v6 )
  {
    v115 = a5 * *(float *)v6 + *(float *)(v6 + 4);
    v116 = a6 * *(float *)v6 + *(float *)(v6 + 4);
    if ( v115 <= 0.0 || v116 <= 0.0 )
    {
      dword_109D19C4 = 0;
      dword_109D19C0 = 0;
      dword_109D19C8 = 0;
      if ( &dword_109D19C0 )
      {
        LOWORD(dword_109D19C4) = 0;
        dword_109D19C0 = -9;
        dword_109D19C8 = 0;
        unknown_libname_4(-9);
      }
    }
  }
  if ( *(_BYTE *)(a3 + 12) )
  {
    v7 = *(_DWORD *)(a3 + 4);
    v8 = *(_DWORD *)(v7 + 8);
    v9 = *(_DWORD *)v7;
    v10 = *(_DWORD *)(v7 + 12);
    v11 = *(_DWORD *)(v7 + 4);
    v12 = v11 + v10;
    v134 = (v8 - v9) / 2;
    v135 = (v10 - v11) / 2;
    LOBYTE(v10) = *(_BYTE *)(a1 + 412);
    v13 = (v8 + v9) / 2;
    v14 = v12 / 2;
    v132 = (v8 + v9) / 2;
    v133 = v12 / 2;
    if ( (_BYTE)v10 )
    {
      if ( !*(_DWORD *)(a2 + 352) )
      {
        if ( *(_DWORD *)(a2 + 368) )
        {
          v32 = sub_1001F5E0((void *)a2, (int)&v132);
          v126 = *(_DWORD *)(v32 + 4);
          v33 = (double)*(signed int *)v32 * a5;
          if ( v33 <= 0.0 )
            v34 = v33 - 0.5;
          else
            v34 = v33 + 0.5;
          v118 = (signed __int64)v34;
          v35 = (double)(v13 - *(_DWORD *)v32) * v115;
          if ( v35 <= 0.0 )
            v36 = v35 - 0.5;
          else
            v36 = v35 + 0.5;
          v37 = (signed __int64)v36;
          v38 = (double)v126 * a5;
          v132 = v118 + v37;
          if ( v38 <= 0.0 )
            v39 = v38 - 0.5;
          else
            v39 = v38 + 0.5;
          v40 = (signed __int64)v39;
          v41 = (double)(v14 - v126) * v116;
          if ( v41 <= 0.0 )
            v42 = v41 - 0.5;
          else
            v42 = v41 + 0.5;
          v133 = v40 + (unsigned __int64)(signed __int64)v42;
          v30 = sub_100268A0((double)v132, (double)(signed int)(v40 + (unsigned __int64)(signed __int64)v42), a1 + 416);
        }
        else
        {
          v30 = sub_100268A0((double)v132 * a5, (double)v133 * a6, a1 + 416);
        }
        v17 = v30;
        v19 = v31;
        goto LABEL_50;
      }
      v43 = sub_1001F5E0((void *)a2, (int)&v132);
      v44 = *(_DWORD *)v43;
      v127 = *(_DWORD *)(v43 + 4);
      v119 = sub_100268A0((double)*(signed int *)v43 * a5, (double)v127 * a6, a1 + 416);
      v132 = v119;
      v28 = v45;
      v46 = (double)(v13 - v44) * v115;
      if ( v46 <= 0.0 )
        v47 = v46 - 0.5;
      else
        v47 = v46 + 0.5;
      v17 = (unsigned __int64)(signed __int64)v47 + v119;
      v29 = (double)(v14 - v127);
    }
    else
    {
      if ( !*(_DWORD *)(a2 + 368) )
      {
        v15 = (double)v132 * a5;
        if ( v15 <= 0.0 )
          v16 = v15 - 0.5;
        else
          v16 = v15 + 0.5;
        v17 = (signed __int64)v16;
        v18 = (double)v133 * a6;
        if ( v18 <= 0.0 )
          v19 = (signed __int64)(v18 - 0.5);
        else
          v19 = (signed __int64)(v18 + 0.5);
LABEL_50:
        v50 = (double)v134 * v115;
        v131 = v50;
        if ( v52 | v53 )
          v54 = v50 - 0.5;
        else
          v54 = v50 + 0.5;
        v55 = (signed __int64)v54;
        v56 = (double)v135 * v116;
        *(_DWORD *)a4 = v17 - v55;
        if ( v56 <= 0.0 )
          v57 = v56 - 0.5;
        else
          v57 = v56 + 0.5;
        v58 = (signed __int64)v57;
        v59 = v131;
        *(_DWORD *)(a4 + 4) = v19 - v58;
        if ( v131 <= 0.0 )
          v60 = v59 - 0.5;
        else
          v60 = v59 + 0.5;
        *(_DWORD *)(a4 + 8) = v17 + (unsigned __int64)(signed __int64)v60;
        if ( v56 <= 0.0 )
        {
          result = v19 + (unsigned __int64)(signed __int64)(v56 - 0.5);
          *(_DWORD *)(a4 + 12) = result;
        }
        else
        {
          result = v19 + (unsigned __int64)(signed __int64)(v56 + 0.5);
          *(_DWORD *)(a4 + 12) = result;
        }
        return result;
      }
      v20 = sub_1001F5E0((void *)a2, (int)&v132);
      v125 = *(_DWORD *)(v20 + 4);
      v21 = (double)*(signed int *)v20 * a5;
      if ( v21 <= 0.0 )
        v22 = v21 - 0.5;
      else
        v22 = v21 + 0.5;
      v117 = (signed __int64)v22;
      v23 = (double)(v13 - *(_DWORD *)v20) * v115;
      if ( v23 <= 0.0 )
        v24 = v23 - 0.5;
      else
        v24 = v23 + 0.5;
      v25 = (signed __int64)v24;
      v26 = (double)v125 * a6;
      v17 = v25 + v117;
      if ( v26 <= 0.0 )
        v27 = v26 - 0.5;
      else
        v27 = v26 + 0.5;
      v28 = (signed __int64)v27;
      v29 = (double)(v14 - v125);
    }
    v48 = v29 * v116;
    if ( v48 <= 0.0 )
      v49 = v48 - 0.5;
    else
      v49 = v48 + 0.5;
    v19 = (unsigned __int64)(signed __int64)v49 + v28;
    goto LABEL_50;
  }
  if ( *(_BYTE *)(a1 + 412) )
  {
    if ( *(_DWORD *)(a2 + 352) )
    {
      v106 = sub_1001F5E0((void *)a2, (int)&v134);
      v124 = *(_DWORD *)v106;
      v130 = *(_DWORD *)(v106 + 4);
      v134 = sub_100268A0((double)*(signed int *)v106 * a5, (double)v130 * a6, a1 + 416);
      result = *(_DWORD *)a3;
      v107 = 0;
      v108 = *(_DWORD *)a3 == 0;
      v109 = *(_DWORD *)a3 < 0;
      v135 = v110;
      if ( !v109 && !v108 )
      {
        do
        {
          v111 = (double)(*(_DWORD *)(*(_DWORD *)(a3 + 4) + 8 * v107) - v124) * v115;
          if ( v111 <= 0.0 )
            v112 = v111 - 0.5;
          else
            v112 = v111 + 0.5;
          *(_DWORD *)(a4 + 8 * v107) = v134 + (unsigned __int64)(signed __int64)v112;
          v113 = (double)(*(_DWORD *)(*(_DWORD *)(a3 + 4) + 8 * v107 + 4) - v130) * v116;
          if ( v113 <= 0.0 )
            v114 = v113 - 0.5;
          else
            v114 = v113 + 0.5;
          *(_DWORD *)(a4 + 8 * v107 + 4) = v135 + (unsigned __int64)(signed __int64)v114;
          result = *(_DWORD *)a3;
          ++v107;
        }
        while ( v107 < *(_DWORD *)a3 );
      }
    }
    else if ( *(_DWORD *)(a2 + 368) )
    {
      v93 = sub_1001F5E0((void *)a2, (int)&v134);
      v123 = *(_DWORD *)v93;
      v129 = *(_DWORD *)(v93 + 4);
      v94 = (double)*(signed int *)v93 * a5;
      if ( v94 <= 0.0 )
        v95 = v94 - 0.5;
      else
        v95 = v94 + 0.5;
      v132 = (signed __int64)v95;
      v96 = (double)v129 * a6;
      if ( v96 <= 0.0 )
        v97 = v96 - 0.5;
      else
        v97 = v96 + 0.5;
      v133 = (signed __int64)v97;
      result = *(_DWORD *)a3;
      v98 = 0;
      if ( *(_DWORD *)a3 > 0 )
      {
        v99 = a4;
        do
        {
          v100 = (double)(*(_DWORD *)(*(_DWORD *)(a3 + 4) + 8 * v98) - v123) * v115;
          if ( v100 <= 0.0 )
            v101 = v100 - 0.5;
          else
            v101 = v100 + 0.5;
          *(_DWORD *)v99 = v132 + (unsigned __int64)(signed __int64)v101;
          v102 = (double)(*(_DWORD *)(*(_DWORD *)(a3 + 4) + 8 * v98 + 4) - v129) * v116;
          if ( v102 <= 0.0 )
            v103 = v102 - 0.5;
          else
            v103 = v102 + 0.5;
          v104 = v133 + (unsigned __int64)(signed __int64)v103;
          *(_DWORD *)(v99 + 4) = v104;
          *(_DWORD *)v99 = sub_100268A0((double)*(signed int *)v99, (double)v104, a1 + 416);
          *(_DWORD *)(v99 + 4) = v105;
          result = *(_DWORD *)a3;
          ++v98;
          v99 += 8;
        }
        while ( v98 < *(_DWORD *)a3 );
      }
    }
    else
    {
      result = *(_DWORD *)a3;
      for ( i = 0; i < *(_DWORD *)a3; ++i )
      {
        *(_DWORD *)(a4 + 8 * i) = sub_100268A0(
                                    (double)*(signed int *)(*(_DWORD *)(a3 + 4) + 8 * i) * a5,
                                    (double)*(signed int *)(*(_DWORD *)(a3 + 4) + 8 * i + 4) * a6,
                                    a1 + 416);
        *(_DWORD *)(a4 + 8 * i + 4) = v92;
        result = *(_DWORD *)a3;
      }
    }
  }
  else if ( *(_DWORD *)(a2 + 368) )
  {
    v75 = sub_1001F5E0((void *)a2, (int)&v134);
    v122 = *(_DWORD *)v75;
    v76 = *(_DWORD *)(v75 + 4);
    v128 = *(_DWORD *)(v75 + 4);
    v77 = (double)*(signed int *)v75 * a5;
    if ( v77 <= 0.0 )
      v78 = v77 - 0.5;
    else
      v78 = v77 + 0.5;
    v79 = (signed __int64)v78;
    v120 = (signed __int64)v78;
    v80 = (double)v128 * a6;
    if ( v80 <= 0.0 )
      v81 = v80 - 0.5;
    else
      v81 = v80 + 0.5;
    v121 = (signed __int64)v81;
    v82 = (double)(**(_DWORD **)(a3 + 4) - v122) * v115;
    if ( v82 <= 0.0 )
      v83 = v82 - 0.5;
    else
      v83 = v82 + 0.5;
    *(_DWORD *)a4 = v79 + (unsigned __int64)(signed __int64)v83;
    v84 = (double)(*(_DWORD *)(*(_DWORD *)(a3 + 4) + 4) - v76) * v116;
    if ( v84 <= 0.0 )
      v85 = v84 - 0.5;
    else
      v85 = v84 + 0.5;
    v86 = 1;
    *(_DWORD *)(a4 + 4) = v121 + (unsigned __int64)(signed __int64)v85;
    for ( result = *(_DWORD *)a3; v86 < *(_DWORD *)a3; ++v86 )
    {
      v87 = (double)(*(_DWORD *)(*(_DWORD *)(a3 + 4) + 8 * v86) - v122) * v115;
      if ( v87 <= 0.0 )
        v88 = v87 - 0.5;
      else
        v88 = v87 + 0.5;
      *(_DWORD *)(a4 + 8 * v86) = v120 + (unsigned __int64)(signed __int64)v88;
      v89 = (double)(*(_DWORD *)(*(_DWORD *)(a3 + 4) + 8 * v86 + 4) - v128) * v116;
      if ( v89 <= 0.0 )
        v90 = v89 - 0.5;
      else
        v90 = v89 + 0.5;
      *(_DWORD *)(a4 + 8 * v86 + 4) = v121 + (unsigned __int64)(signed __int64)v90;
      result = *(_DWORD *)a3;
    }
  }
  else
  {
    v62 = *(_DWORD *)(a3 + 4);
    v63 = *(_DWORD *)(v62 + 4);
    v134 = *(_DWORD *)v62;
    v132 = v134;
    v133 = v63;
    v135 = v63;
    v64 = (double)v134 * a5;
    if ( v64 <= 0.0 )
      v65 = v64 - 0.5;
    else
      v65 = v64 + 0.5;
    v66 = (signed __int64)v65;
    v67 = (double)v135 * a6;
    *(_DWORD *)a4 = v66;
    if ( v67 <= 0.0 )
      v68 = v67 - 0.5;
    else
      v68 = v67 + 0.5;
    *(_DWORD *)(a4 + 4) = (signed __int64)v68;
    result = *(_DWORD *)a3;
    for ( j = 1; j < *(_DWORD *)a3; ++j )
    {
      v70 = (double)(*(_DWORD *)(*(_DWORD *)(a3 + 4) + 8 * j) - v132) * a5;
      if ( v70 <= 0.0 )
        v71 = v70 - 0.5;
      else
        v71 = v70 + 0.5;
      v72 = v133;
      *(_DWORD *)(a4 + 8 * j) = *(_DWORD *)a4 + (unsigned __int64)(signed __int64)v71;
      v73 = (double)(*(_DWORD *)(*(_DWORD *)(a3 + 4) + 8 * j + 4) - v72) * a6;
      if ( v73 <= 0.0 )
        v74 = v73 - 0.5;
      else
        v74 = v73 + 0.5;
      *(_DWORD *)(a4 + 8 * j + 4) = *(_DWORD *)(a4 + 4) + (unsigned __int64)(signed __int64)v74;
      result = *(_DWORD *)a3;
    }
  }
  return result;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 109D19C0: using guessed type int dword_109D19C0;
// 109D19C4: using guessed type int dword_109D19C4;
// 109D19C8: using guessed type int dword_109D19C8;

//----- (1002FCF0) --------------------------------------------------------
signed int __thiscall sub_1002FCF0(void *this, int a2)
{
  int v2; // esi@1
  int v3; // edi@1
  int v4; // eax@1
  void *v5; // edx@3
  int v6; // ebx@3
  int v7; // edx@3
  int v8; // eax@5
  double v9; // st7@6
  int v10; // edi@10
  int v11; // eax@10
  int v12; // ecx@10
  int v13; // edi@11
  int v14; // edi@14
  char v15; // al@15
  void *v16; // edx@15
  int v17; // edx@17
  int v18; // eax@19
  int v19; // ecx@20
  int v20; // edi@26
  int v21; // edi@26
  int v22; // eax@27
  int v23; // edi@33
  int v24; // edi@33
  int v25; // eax@34
  int *v26; // ecx@34
  int v27; // edi@36
  int v28; // edi@41
  int v29; // edi@41
  int v30; // edi@48
  signed int v31; // edi@50
  unsigned int *v32; // ebx@56
  signed int v33; // eax@58
  signed int v34; // ecx@59
  int v35; // eax@63
  int v36; // ecx@64
  signed int i; // ebp@68
  int v38; // edi@69
  int v39; // eax@73
  double v40; // st7@86
  double v41; // st7@87
  double v42; // st7@90
  double v43; // st7@91
  signed int j; // ebp@94
  int v45; // edi@95
  unsigned int *v46; // ebx@102
  signed int v47; // ebp@102
  signed int v48; // eax@104
  signed int v49; // ecx@105
  int v50; // eax@109
  int v51; // ecx@110
  int v52; // edi@115
  unsigned int v53; // ST14_4@115
  int v54; // edi@115
  int v55; // eax@119
  int v56; // edx@130
  __int16 v57; // cx@130
  int v58; // edx@130
  int v59; // eax@130
  int v60; // edx@130
  int v61; // edi@132
  _DWORD *v62; // eax@133
  int v63; // ST10_4@134
  int *v64; // eax@134
  signed int v65; // edi@140
  int v66; // ST14_4@141
  void **v67; // eax@141
  signed int v68; // eax@141
  int v69; // eax@145
  int v70; // ecx@146
  int v71; // edi@150
  int v72; // eax@150
  double v73; // st7@151
  double v74; // st7@152
  double v75; // st7@154
  int v76; // ecx@157
  int v77; // eax@157
  int (**v78)(); // ebp@159
  int v79; // ebx@159
  int v80; // edi@159
  bool v81; // zf@159
  double v82; // st7@161
  double v83; // st7@162
  double v84; // st7@164
  double v85; // st7@165
  int v86; // ebp@167
  double v87; // st7@167
  double v88; // st7@168
  unsigned int v89; // edi@170
  double v90; // st7@170
  unsigned int v91; // esi@171
  int v92; // eax@173
  int v93; // esi@173
  double v94; // st6@173
  double v95; // st6@174
  double v96; // st7@176
  double v97; // st7@177
  double v98; // st7@179
  double v99; // st7@180
  double v100; // st7@182
  double v101; // st7@183
  double v102; // st7@185
  double v103; // st7@186
  double v104; // st7@188
  __int16 v105; // dx@193
  int v106; // eax@193
  unsigned int v107; // edx@193
  int v108; // eax@195
  double v109; // st6@195
  double v110; // st6@196
  double v111; // st7@198
  double v112; // st7@199
  int v113; // esi@201
  double v114; // st7@201
  double v115; // st7@202
  double v116; // st7@204
  double v117; // st7@205
  __int16 v118; // dx@207
  double v119; // st7@207
  double v120; // st7@208
  double v121; // st7@210
  double v122; // st7@211
  int v123; // eax@214
  int v124; // edx@214
  double v125; // st7@214
  double v126; // st7@215
  double v127; // st7@217
  double v128; // st7@218
  double v129; // st7@220
  double v130; // st7@221
  double v131; // st7@223
  double v132; // st7@224
  int v133; // ebx@227
  int v134; // ebx@227
  int v135; // eax@228
  signed int v136; // eax@232
  signed int v137; // ecx@233
  int v139; // [sp+24h] [bp-D4h]@24
  void *v140; // [sp+28h] [bp-D0h]@2
  float v141; // [sp+2Ch] [bp-CCh]@5
  int v142; // [sp+30h] [bp-C8h]@3
  int v143; // [sp+34h] [bp-C4h]@179
  int v144; // [sp+38h] [bp-C0h]@1
  int v145; // [sp+3Ch] [bp-BCh]@173
  int v146; // [sp+40h] [bp-B8h]@3
  void *v147; // [sp+44h] [bp-B4h]@3
  int v148; // [sp+48h] [bp-B0h]@33
  int v149; // [sp+4Ch] [bp-ACh]@33
  char v150; // [sp+54h] [bp-A4h]@98
  int (**v151)(); // [sp+58h] [bp-A0h]@26
  int v152; // [sp+5Ch] [bp-9Ch]@139
  int v153; // [sp+60h] [bp-98h]@139
  int v154; // [sp+64h] [bp-94h]@26
  char v155; // [sp+68h] [bp-90h]@26
  int v156; // [sp+8Ch] [bp-6Ch]@173
  int (**v157)(); // [sp+94h] [bp-64h]@26
  int v158; // [sp+98h] [bp-60h]@26
  int v159; // [sp+9Ch] [bp-5Ch]@26
  int v160; // [sp+A0h] [bp-58h]@26
  int v161; // [sp+A4h] [bp-54h]@26
  int v162; // [sp+A8h] [bp-50h]@26
  int v163; // [sp+ACh] [bp-4Ch]@26
  int v164; // [sp+B0h] [bp-48h]@26
  int v165; // [sp+B4h] [bp-44h]@26
  int v166; // [sp+B8h] [bp-40h]@130
  int v167; // [sp+BCh] [bp-3Ch]@130
  char v168; // [sp+C8h] [bp-30h]@3
  int v169; // [sp+CCh] [bp-2Ch]@3
  char v170; // [sp+D0h] [bp-28h]@3
  int v171; // [sp+F4h] [bp-4h]@26

  v2 = (int)this;
  v3 = (*(int (**)(void))(*(_DWORD *)this + 64))();
  v4 = *(_DWORD *)(v2 + 104);
  v144 = v3;
  if ( !v4 )
    return 1;
  v140 = (void *)((*(_DWORD *)(v2 + 108) - v4) >> 2);
  if ( *(float *)&v140 == 0.0 )
    return 1;
  v5 = *(void **)(v2 + 44);
  v6 = *(_BYTE *)(v3 + 412);
  LOBYTE(v146) = *(_BYTE *)(v2 + 40);
  v142 = v6;
  v147 = v5;
  sub_10015600((int)&v170, v2 + 64);
  v7 = *(_DWORD *)(v2 + 60);
  v168 = *(_BYTE *)(v2 + 56);
  v169 = v7;
  if ( *(_BYTE *)(v3 + 412) )
    v142 = v6 + *(_DWORD *)(v3 + 352) + 1;
  v8 = *(_DWORD *)(*(_DWORD *)(v2 + 20) + 368);
  v141 = *(float *)(a2 + 4);
  if ( v8 )
  {
    v9 = *(float *)v8 * *(float *)(a2 + 4) + *(float *)(v8 + 4);
    v141 = v9;
    if ( v9 <= 0.0 )
    {
      dword_109D19C4 = 0;
      dword_109D19C0 = 0;
      dword_109D19C8 = 0;
      if ( &dword_109D19C0 )
      {
        LOWORD(dword_109D19C4) = 0;
        dword_109D19C0 = -9;
        dword_109D19C8 = 0;
        unknown_libname_4(-9);
      }
    }
  }
  if ( *(_BYTE *)(v2 + 24) & 0x10 )
  {
    v10 = *(_DWORD *)(v3 + 404);
    v11 = sub_10015A60(v10, *(_DWORD *)(v2 + 28));
    v12 = *(_DWORD *)(v10 + 4);
    v13 = v12 ? (*(_DWORD *)(v10 + 8) - v12) >> 2 : 0;
    if ( v13 != v11 )
    {
      v14 = *(_DWORD *)(*(_DWORD *)(v12 + 4 * v11) + 4);
      if ( v14 )
      {
        v15 = *(_BYTE *)(v14 + 4);
        v16 = *(void **)(v2 + 44);
        LOBYTE(v146) = *(_BYTE *)(v2 + 40);
        v147 = v16;
        if ( v15 & 1 )
          LOBYTE(v146) = *(_BYTE *)v14;
        v17 = *(_DWORD *)(v2 + 60);
        v168 = *(_BYTE *)(v2 + 56);
        v169 = v17;
        sub_10015600((int)&v170, v2 + 64);
        if ( *(_BYTE *)(v14 + 4) & 2 )
          v168 = *(_BYTE *)(v14 + 1);
      }
    }
  }
  v18 = sub_1003FFC0(dword_109D1838, *(_DWORD *)(v2 + 36));
  if ( v18 != 1 )
  {
    v19 = 0;
    dword_109D19C4 = 0;
    dword_109D19C0 = 0;
    dword_109D19C8 = 0;
    if ( &dword_109D19C0 )
    {
      v19 = v18;
      LOWORD(dword_109D19C4) = 0;
      dword_109D19C0 = v18;
      dword_109D19C8 = 0;
    }
    if ( v19 < 0 )
      unknown_libname_4(v19);
  }
  v139 = *(_DWORD *)(v2 + 12) - *(_DWORD *)(v2 + 4);
  if ( (signed int)(signed __int64)((double)v139 * v141) >= 3 )
  {
    v139 = *(_DWORD *)(v2 + 16) - *(_DWORD *)(v2 + 8);
    if ( (signed int)(signed __int64)((double)v139 * v141) >= 3 )
    {
      LOBYTE(v157) = 0;
      v159 = -1;
      v160 = 1;
      v161 = 0;
      v162 = 0;
      v163 = 10;
      v164 = 0;
      v165 = 1065353216;
      v158 = 1;
      sub_1003DEC0();
      v20 = dword_109D183C;
      sub_100156C0((int)&v151);
      v171 = 3;
      sub_1001A0D0((int)&v155);
      v151 = &off_10090068;
      sub_10020DB0((int)&v155, (int)&v157);
      v154 = v20;
      v171 = 4;
      sub_10026450((int)&dword_109D1804, (int)&v151);
      v171 = -1;
      sub_100156E0((int)&v151);
      v21 = sub_1003E110();
      if ( v21 != 1 )
      {
        sub_100154D0((int)&dword_109D17F0);
        sub_100154D0((int)&dword_109D1804);
        sub_100154D0((int)&dword_109D1818);
        v139 = (int)&dword_109D19C0;
        v22 = 0;
        dword_109D19C4 = 0;
        dword_109D19C0 = 0;
        dword_109D19C8 = 0;
        v171 = 5;
        if ( &dword_109D19C0 )
        {
          sub_10015520((int)&dword_109D19C0, v21, 0, 0);
          v22 = dword_109D19C0;
        }
        v171 = -1;
        if ( v22 < 0 )
          unknown_libname_4(v22);
      }
      if ( v169 != 15 )
      {
        v147 = (void *)1;
        LOBYTE(v146) = v168;
        v148 = 0;
        LOBYTE(v149) = 0;
        sub_1003DEC0();
        v28 = dword_109D183C;
        sub_100156C0((int)&v151);
        v171 = 12;
        sub_10015540((int)&v155);
        v151 = &off_1008F66C;
        sub_10015A40((int)&v155, (int)&v146);
        v154 = v28;
        v171 = 13;
        sub_100158B0((int)&dword_109D17F0, (int)&v151);
        v171 = -1;
        sub_100156E0((int)&v151);
        v29 = sub_1003E110();
        if ( v29 != 1 )
        {
          sub_100154D0((int)&dword_109D17F0);
          sub_100154D0((int)&dword_109D1804);
          sub_100154D0((int)&dword_109D1818);
          v25 = 0;
          dword_109D19C4 = 0;
          dword_109D19C0 = 0;
          dword_109D19C8 = 0;
          v139 = (int)&dword_109D19C0;
          v171 = 14;
          if ( &dword_109D19C0 )
          {
            sub_10015520((int)&dword_109D19C0, v29, 0, 0);
            v25 = dword_109D19C0;
          }
          v171 = -1;
          if ( v25 < 0 )
            goto LABEL_45;
        }
        goto LABEL_46;
      }
      if ( v147 )
      {
        v147 = (void *)1;
        v148 = 0;
        LOBYTE(v149) = 0;
        sub_1003DEC0();
        v23 = dword_109D183C;
        sub_100156C0((int)&v151);
        v171 = 6;
        sub_10015540((int)&v155);
        v151 = &off_1008F66C;
        sub_10015A40((int)&v155, (int)&v146);
        v154 = v23;
        v171 = 7;
        sub_100158B0((int)&dword_109D17F0, (int)&v151);
        v171 = -1;
        sub_100156E0((int)&v151);
        v24 = sub_1003E110();
        if ( v24 == 1 )
          goto LABEL_46;
        sub_100154D0((int)&dword_109D17F0);
        sub_100154D0((int)&dword_109D1804);
        sub_100154D0((int)&dword_109D1818);
        v25 = 0;
        dword_109D19C4 = 0;
        dword_109D19C0 = 0;
        dword_109D19C8 = 0;
        v26 = &dword_109D19C0;
        v139 = (int)&dword_109D19C0;
        v171 = 8;
        if ( !&dword_109D19C0 )
          goto LABEL_39;
      }
      else
      {
        v147 = (void *)1;
        LOBYTE(v146) = v168;
        v148 = 5;
        LOBYTE(v149) = 0;
        sub_1003DEC0();
        v27 = dword_109D183C;
        sub_100156C0((int)&v151);
        v171 = 9;
        sub_10015540((int)&v155);
        v151 = &off_1008F66C;
        sub_10015A40((int)&v155, (int)&v146);
        v154 = v27;
        v171 = 10;
        sub_100158B0((int)&dword_109D17F0, (int)&v151);
        v171 = -1;
        sub_100156E0((int)&v151);
        v24 = sub_1003E110();
        if ( v24 == 1 )
          goto LABEL_46;
        sub_100154D0((int)&dword_109D17F0);
        sub_100154D0((int)&dword_109D1804);
        sub_100154D0((int)&dword_109D1818);
        v25 = 0;
        dword_109D19C4 = 0;
        dword_109D19C0 = 0;
        dword_109D19C8 = 0;
        v26 = &dword_109D19C0;
        v139 = (int)&dword_109D19C0;
        v171 = 11;
        if ( !&dword_109D19C0 )
          goto LABEL_39;
      }
      sub_10015520((int)v26, v24, 0, 0);
      v25 = dword_109D19C0;
LABEL_39:
      v171 = -1;
      if ( v25 < 0 )
LABEL_45:
        unknown_libname_4(v25);
LABEL_46:
      if ( v141 != 1.0 || *(float *)(a2 + 8) != 1.0 )
      {
        v30 = v144;
      }
      else
      {
        v30 = v144;
        if ( !*(_BYTE *)(v144 + 412) )
        {
          if ( *(float *)(v2 + 124) != *(float *)(a2 + 4) || (v31 = 0, !*(_DWORD *)(v2 + 116)) || *(_DWORD *)(v2 + 144) )
          {
            v32 = (unsigned int *)(v2 + 116);
            if ( *(_DWORD *)(v2 + 116) )
            {
              if ( *(_BYTE *)(v2 + 120) )
              {
                v33 = sub_1003DFA0(*(_DWORD *)(v2 + 116));
                if ( v33 != 1 )
                {
                  v34 = 0;
                  dword_109D19C4 = 0;
                  dword_109D19C0 = 0;
                  dword_109D19C8 = 0;
                  if ( &dword_109D19C0 )
                  {
                    v34 = v33;
                    LOWORD(dword_109D19C4) = 0;
                    dword_109D19C0 = v33;
                    dword_109D19C8 = 0;
                  }
                  if ( v34 < 0 )
                    unknown_libname_4(v34);
                }
              }
            }
            v35 = sub_10040FC0(0, 0, 1, 1, (_DWORD *)(v2 + 116), (_BYTE *)(v2 + 120));
            if ( v35 != 1 )
            {
              v36 = 0;
              dword_109D19C4 = 0;
              dword_109D19C0 = 0;
              dword_109D19C8 = 0;
              if ( &dword_109D19C0 )
              {
                v36 = v35;
                LOWORD(dword_109D19C4) = 0;
                dword_109D19C0 = v35;
                dword_109D19C8 = 0;
              }
              if ( v36 < 0 )
                unknown_libname_4(v36);
            }
            for ( i = 0; i < (signed int)v140; ++i )
            {
              v38 = sub_1001F4F0(*(_DWORD **)(*(_DWORD *)(v2 + 104) + 4 * i), *v32);
              if ( v38 != 1 )
              {
                if ( *v32 && *(_BYTE *)(v2 + 120) )
                  sub_1003DFA0(*v32);
                v39 = 0;
                *v32 = 0;
                dword_109D19C4 = 0;
                dword_109D19C0 = 0;
                dword_109D19C8 = 0;
                if ( &dword_109D19C0 )
                {
                  v39 = v38;
                  LOWORD(dword_109D19C4) = 0;
                  dword_109D19C0 = v38;
                  dword_109D19C8 = 0;
                }
                if ( v39 < 0 )
                  unknown_libname_4(v39);
              }
              if ( *(_BYTE *)(v2 + 24) & 8 )
                sub_1002F1E0(*(_DWORD *)(*(_DWORD *)(v2 + 104) + 4 * i), *(_DWORD *)a2);
            }
          }
          else if ( *(_BYTE *)(v2 + 24) & 8 && (signed int)v140 > 0 )
          {
            do
              sub_1002F1E0(*(_DWORD *)(*(_DWORD *)(v2 + 104) + 4 * v31++), *(_DWORD *)a2);
            while ( v31 < (signed int)v140 );
          }
LABEL_129:
          if ( v169 == 15 )
          {
            v158 = 1065353216;
            v159 = 1065353216;
            v162 = *(_DWORD *)(a2 + 20);
            v163 = *(_DWORD *)(a2 + 24);
            v164 = *(_DWORD *)(a2 + 28);
            v56 = *(_DWORD *)(a2 + 32);
            v157 = *(int (***)())a2;
            v57 = *(_WORD *)(a2 + 16);
            v165 = v56;
            v58 = *(_DWORD *)(a2 + 12);
            LOWORD(v161) = v57;
            v160 = v58;
            v59 = *(_DWORD *)(a2 + 40);
            v166 = *(_DWORD *)(a2 + 36);
            v60 = *(_DWORD *)(v2 + 116);
            v167 = v59;
            sub_1003B6A0(v144, (int)&v157, v60, (int)&v168);
          }
          else if ( !v169 )
          {
            sub_1003DEC0();
            v61 = dword_109D183C;
            v158 = 0;
            LOBYTE(v159) = 1;
            v157 = &off_1008F688;
            v171 = 16;
            sub_1001A0D0((int)&v161);
            v157 = &off_10090068;
            sub_10020DB0((int)&v161, (int)&v168);
            v160 = v61;
            v171 = 17;
            if ( (unsigned int)dword_109D1810 <= 0
              || (v62 = sub_10015560((int)&unk_109D1808, &v139), !sub_10015570((int)&v161, *v62 + 24)) )
            {
              v63 = dword_109D180C;
              v64 = sub_10015560((int)&unk_109D1808, &v139);
              sub_10015C80(&v140, *v64, v63, (int)&v157);
              if ( v140 == (void *)dword_109D180C )
              {
                ((void (__thiscall *)(int (***)()))*v157)(&v157);
                if ( dword_109D1810 && dword_109D1810 == byte_109D1814 - 1 )
                  sub_100314D0((int)&unk_109D1808);
                ((void (__thiscall *)(int *, int))v157[1])((int *)&v157, dword_109D1804);
                sub_10031480((int)&unk_109D1808, (int)&v157);
                LOBYTE(v159) = 0;
              }
              else
              {
                sub_10031420((int)&v151, (int)v140 + 8);
                LOBYTE(v171) = 18;
                *((_BYTE *)v140 + 16) = 0;
                sub_10015870(&unk_109D1808, (int)&v139, v140);
                sub_10031480((int)&unk_109D1808, (int)&v151);
                LOBYTE(v153) = 0;
                sub_1003FBC0(dword_109D1804, v152);
                LOBYTE(v171) = 17;
                sub_100156E0((int)&v151);
              }
            }
            v171 = -1;
            sub_100156E0((int)&v157);
            v65 = sub_1003E110();
            if ( v65 != 1 )
            {
              v66 = dword_109D17F8;
              dword_109D17F0 = 0;
              v67 = (void **)sub_10015560((int)&unk_109D17F4, &v139);
              sub_100155A0(&unk_109D17F4, (int)&v140, *v67, v66);
              sub_100154D0((int)&dword_109D1804);
              sub_100154D0((int)&dword_109D1818);
              v68 = 0;
              dword_109D19C4 = 0;
              dword_109D19C0 = 0;
              dword_109D19C8 = 0;
              if ( &dword_109D19C0 )
              {
                v68 = v65;
                LOWORD(dword_109D19C4) = 0;
                dword_109D19C0 = v65;
                dword_109D19C8 = 0;
              }
              if ( v68 < 0 )
                unknown_libname_4(v68);
            }
            v69 = sub_100411B0(*(_DWORD *)a2, *(_DWORD *)(v2 + 116));
            if ( v69 != 1 )
            {
              v70 = 0;
              dword_109D19C4 = 0;
              dword_109D19C0 = 0;
              dword_109D19C8 = 0;
              if ( &dword_109D19C0 )
              {
                v70 = v69;
                LOWORD(dword_109D19C4) = 0;
                dword_109D19C0 = v69;
                dword_109D19C8 = 0;
              }
              if ( v70 < 0 )
                unknown_libname_4(v70);
            }
          }
          v71 = v144;
          *(float *)(v2 + 124) = v141;
          v72 = v142;
          *(_DWORD *)(v2 + 144) = v142;
          *(_DWORD *)(v2 + 128) = *(_DWORD *)(v71 + 464);
          *(_DWORD *)(v2 + 132) = *(_DWORD *)(v71 + 468);
          if ( *(_BYTE *)(v71 + 412) )
          {
            *(_DWORD *)(v2 + 144) = *(_DWORD *)(*(_DWORD *)(v2 + 20) + 352) + v72 + 1;
            v73 = *(double *)(v71 + 448);
            if ( v73 <= 0.0 )
              v74 = v73 - 0.5;
            else
              v74 = v73 + 0.5;
            *(_DWORD *)(v2 + 136) = (signed __int64)v74;
            v75 = *(double *)(v71 + 456);
            if ( v75 <= 0.0 )
              *(_DWORD *)(v2 + 140) = (signed __int64)(v75 - 0.5);
            else
              *(_DWORD *)(v2 + 140) = (signed __int64)(v75 + 0.5);
          }
          return 1;
        }
      }
      if ( *(float *)(v2 + 124) == v141
        && *(_DWORD *)(v2 + 116)
        && *(double *)(v2 + 128) == *(double *)(v30 + 464)
        && *(_DWORD *)(v2 + 144) == v142
        && ((v40 = *(double *)(v30 + 448), v40 <= 0.0) ? (v41 = v40 - 0.5) : (v41 = v40 + 0.5),
            *(_DWORD *)(v2 + 136) == (unsigned int)(signed __int64)v41
         && ((v42 = *(double *)(v30 + 456), v42 <= 0.0) ? (v43 = v42 - 0.5) : (v43 = v42 + 0.5),
             *(_DWORD *)(v2 + 140) == (unsigned int)(signed __int64)v43)) )
      {
        for ( j = 0; j < (signed int)v140; ++j )
        {
          v45 = *(_DWORD *)(*(_DWORD *)(v2 + 104) + 4 * j);
          sub_1002F270(v144, *(_DWORD *)(v2 + 20), v45, dword_109D1864, *(float *)(a2 + 4), *(float *)(a2 + 8));
          sub_10027930(
            (int)&v146,
            *(_DWORD *)v45,
            dword_109D1864,
            0,
            *(_DWORD *)(v45 + 8),
            *(_BYTE *)(v45 + 12),
            *(_DWORD *)(v45 + 16));
          if ( *(_BYTE *)(v2 + 24) & 8 )
            sub_1002F1E0((int)&v146, *(_DWORD *)a2);
          if ( v147 && v150 )
            j__free(v147);
        }
      }
      else
      {
        v46 = (unsigned int *)(v2 + 116);
        v47 = 0;
        if ( *(_DWORD *)(v2 + 116) )
        {
          if ( *(_BYTE *)(v2 + 120) )
          {
            v48 = sub_1003DFA0(*(_DWORD *)(v2 + 116));
            if ( v48 != 1 )
            {
              v49 = 0;
              dword_109D19C4 = 0;
              dword_109D19C0 = 0;
              dword_109D19C8 = 0;
              if ( &dword_109D19C0 )
              {
                v49 = v48;
                LOWORD(dword_109D19C4) = 0;
                dword_109D19C0 = v48;
                dword_109D19C8 = 0;
              }
              if ( v49 < 0 )
                unknown_libname_4(v49);
            }
          }
        }
        v50 = sub_10040FC0(0, 0, 1, 1, (_DWORD *)(v2 + 116), (_BYTE *)(v2 + 120));
        if ( v50 != 1 )
        {
          v51 = 0;
          dword_109D19C4 = 0;
          dword_109D19C0 = 0;
          dword_109D19C8 = 0;
          if ( &dword_109D19C0 )
          {
            v51 = v50;
            LOWORD(dword_109D19C4) = 0;
            dword_109D19C0 = v50;
            dword_109D19C8 = 0;
          }
          if ( v51 < 0 )
            unknown_libname_4(v51);
        }
        if ( (signed int)v140 > 0 )
        {
          do
          {
            v52 = *(_DWORD *)(*(_DWORD *)(v2 + 104) + 4 * v47);
            sub_1002F270(v144, *(_DWORD *)(v2 + 20), v52, dword_109D1864, *(float *)(a2 + 4), *(float *)(a2 + 8));
            sub_10027930(
              (int)&v146,
              *(_DWORD *)v52,
              dword_109D1864,
              0,
              *(_DWORD *)(v52 + 8),
              *(_BYTE *)(v52 + 12),
              *(_DWORD *)(v52 + 16));
            v53 = *v46;
            v171 = 15;
            v54 = sub_1001F4F0(&v146, v53);
            if ( v54 != 1 )
            {
              if ( *v46 && *(_BYTE *)(v2 + 120) )
                sub_1003DFA0(*v46);
              v55 = 0;
              *v46 = 0;
              dword_109D19C4 = 0;
              dword_109D19C0 = 0;
              dword_109D19C8 = 0;
              if ( &dword_109D19C0 )
              {
                v55 = v54;
                LOWORD(dword_109D19C4) = 0;
                dword_109D19C0 = v54;
                dword_109D19C8 = 0;
              }
              if ( v55 < 0 )
                unknown_libname_4(v55);
            }
            if ( *(_BYTE *)(v2 + 24) & 8 )
              sub_1002F1E0((int)&v146, *(_DWORD *)a2);
            v171 = -1;
            if ( v147 && v150 )
              j__free(v147);
            ++v47;
          }
          while ( v47 < (signed int)v140 );
        }
      }
      goto LABEL_129;
    }
  }
  v140 = *(void **)(a2 + 8);
  v76 = *(_DWORD *)(v2 + 20);
  v77 = *(_DWORD *)(v76 + 368);
  if ( v77 )
    *(float *)&v140 = *(float *)v77 * *(float *)(a2 + 8) + *(float *)(v77 + 4);
  v78 = *(int (***)())(v2 + 4);
  v79 = *(_DWORD *)(v2 + 8);
  v80 = *(_DWORD *)(v2 + 12);
  v154 = *(_DWORD *)(v2 + 16);
  v151 = v78;
  v152 = v79;
  v81 = *(_BYTE *)(v144 + 412) == 0;
  v153 = v80;
  if ( v81 )
  {
    if ( v77 )
    {
      v92 = sub_1001F5E0((void *)v76, (int)&v156);
      v144 = *(_DWORD *)v92;
      v93 = *(_DWORD *)(v92 + 4);
      v145 = *(_DWORD *)(v92 + 4);
      v94 = *(float *)(a2 + 4) * (double)v144;
      if ( v94 <= 0.0 )
        v95 = v94 - 0.5;
      else
        v95 = v94 + 0.5;
      v96 = *(float *)(a2 + 8) * (double)v145;
      v142 = (signed __int64)v95;
      if ( v96 <= 0.0 )
        v97 = v96 - 0.5;
      else
        v97 = v96 + 0.5;
      v143 = (signed __int64)v97;
      v139 = (int)v78 - v144;
      v98 = (double)((signed int)v78 - v144) * v141;
      if ( v98 <= 0.0 )
        v99 = v98 - 0.5;
      else
        v99 = v98 + 0.5;
      v139 = v79 - v93;
      v146 = (unsigned __int64)(signed __int64)v99 + v142;
      v100 = (double)(v79 - v93) * *(float *)&v140;
      if ( v100 <= 0.0 )
        v101 = v100 - 0.5;
      else
        v101 = v100 + 0.5;
      v86 = v143 + (unsigned __int64)(signed __int64)v101;
      v139 = v80 - v144;
      v102 = (double)(v80 - v144) * v141;
      if ( v102 <= 0.0 )
        v103 = v102 - 0.5;
      else
        v103 = v102 + 0.5;
      v89 = (unsigned __int64)(signed __int64)v103 + v142;
      v139 = v154 - v93;
      v104 = (double)(v154 - v93) * *(float *)&v140;
      if ( v104 <= 0.0 )
        v91 = (unsigned __int64)(signed __int64)(v104 - 0.5) + v143;
      else
        v91 = (unsigned __int64)(signed __int64)(v104 + 0.5) + v143;
    }
    else
    {
      v82 = (double)(signed int)v151 * *(float *)(a2 + 4);
      if ( v82 <= 0.0 )
        v83 = v82 - 0.5;
      else
        v83 = v82 + 0.5;
      v146 = (signed __int64)v83;
      v84 = (double)v152 * *(float *)(a2 + 8);
      if ( v84 <= 0.0 )
        v85 = v84 - 0.5;
      else
        v85 = v84 + 0.5;
      v86 = (signed __int64)v85;
      v87 = (double)v153 * *(float *)(a2 + 4);
      if ( v87 <= 0.0 )
        v88 = v87 - 0.5;
      else
        v88 = v87 + 0.5;
      v89 = (signed __int64)v88;
      v90 = (double)v154 * *(float *)(a2 + 8);
      if ( v90 <= 0.0 )
        v91 = (signed __int64)(v90 - 0.5);
      else
        v91 = (signed __int64)(v90 + 0.5);
    }
  }
  else if ( *(_DWORD *)(v76 + 352) )
  {
    v123 = sub_1001F5E0((void *)v76, (int)&v156);
    v142 = *(_DWORD *)v123;
    v143 = *(_DWORD *)(v123 + 4);
    v144 = sub_100268A0((double)v142 * *(float *)(a2 + 4), (double)v143 * *(float *)(a2 + 8), v144 + 416);
    v139 = (int)v78 - v142;
    v145 = v124;
    v125 = (double)((signed int)v78 - v142) * v141;
    if ( v125 <= 0.0 )
      v126 = v125 - 0.5;
    else
      v126 = v125 + 0.5;
    v146 = (unsigned __int64)(signed __int64)v126 + v144;
    v139 = v79 - v143;
    v127 = (double)(v79 - v143) * *(float *)&v140;
    if ( v127 <= 0.0 )
      v128 = v127 - 0.5;
    else
      v128 = v127 + 0.5;
    v139 = v80 - v142;
    v86 = v145 + (unsigned __int64)(signed __int64)v128;
    v129 = (double)(v80 - v142) * v141;
    if ( v129 <= 0.0 )
      v130 = v129 - 0.5;
    else
      v130 = v129 + 0.5;
    v89 = v144 + (unsigned __int64)(signed __int64)v130;
    v139 = v154 - v143;
    v131 = (double)(v154 - v143) * *(float *)&v140;
    if ( v131 <= 0.0 )
      v132 = v131 - 0.5;
    else
      v132 = v131 + 0.5;
    v91 = v145 + (unsigned __int64)(signed __int64)v132;
  }
  else
  {
    if ( v77 )
    {
      v108 = sub_1001F5E0((void *)v76, (int)&v156);
      v142 = *(_DWORD *)v108;
      v143 = *(_DWORD *)(v108 + 4);
      v109 = *(float *)(a2 + 4) * (double)v142;
      if ( v109 <= 0.0 )
        v110 = v109 - 0.5;
      else
        v110 = v109 + 0.5;
      v111 = *(float *)(a2 + 8) * (double)v143;
      v156 = (signed __int64)v110;
      if ( v111 <= 0.0 )
        v112 = v111 - 0.5;
      else
        v112 = v111 + 0.5;
      v113 = (signed __int64)v112;
      v139 = (int)v78 - v142;
      v114 = (double)((signed int)v78 - v142) * v141;
      if ( v114 <= 0.0 )
        v115 = v114 - 0.5;
      else
        v115 = v114 + 0.5;
      v146 = v156 + (unsigned __int64)(signed __int64)v115;
      v139 = v79 - v143;
      v116 = (double)(v79 - v143) * *(float *)&v140;
      if ( v116 <= 0.0 )
        v117 = v116 - 0.5;
      else
        v117 = v116 + 0.5;
      v147 = (void *)(v113 + (unsigned __int64)(signed __int64)v117);
      v146 = sub_100268A0((double)v146, (double)(signed int)(v113 + (unsigned __int64)(signed __int64)v117), v144 + 416);
      v139 = v80 - v142;
      LOWORD(v86) = v118;
      v119 = (double)(v80 - v142) * v141;
      if ( v119 <= 0.0 )
        v120 = v119 - 0.5;
      else
        v120 = v119 + 0.5;
      v148 = v156 + (unsigned __int64)(signed __int64)v120;
      v139 = v154 - v143;
      v121 = (double)(v154 - v143) * *(float *)&v140;
      if ( v121 <= 0.0 )
        v122 = v121 - 0.5;
      else
        v122 = v121 + 0.5;
      v149 = v113 + (unsigned __int64)(signed __int64)v122;
      v106 = sub_100268A0((double)v148, (double)(signed int)(v113 + (unsigned __int64)(signed __int64)v122), v144 + 416);
    }
    else
    {
      v146 = sub_100268A0((double)(signed int)v151 * *(float *)(a2 + 4), (double)v152 * *(float *)(a2 + 8), v144 + 416);
      LOWORD(v86) = v105;
      v106 = sub_100268A0((double)v153 * *(float *)(a2 + 4), (double)v154 * *(float *)(a2 + 8), v144 + 416);
    }
    v89 = v106;
    v91 = v107;
  }
  v152 = 1;
  LOBYTE(v151) = v168;
  v153 = 0;
  LOBYTE(v154) = 0;
  sub_1003DEC0();
  v133 = dword_109D183C;
  sub_100156C0((int)&v157);
  v171 = 0;
  sub_10015540((int)&v161);
  v157 = &off_1008F66C;
  sub_10015A40((int)&v161, (int)&v151);
  v160 = v133;
  v171 = 1;
  sub_100158B0((int)&dword_109D17F0, (int)&v157);
  v171 = -1;
  sub_100156E0((int)&v157);
  v134 = sub_1003E110();
  if ( v134 != 1 )
  {
    sub_100154D0((int)&dword_109D17F0);
    sub_100154D0((int)&dword_109D1804);
    sub_100154D0((int)&dword_109D1818);
    v139 = (int)&dword_109D19C0;
    v135 = 0;
    dword_109D19C4 = 0;
    dword_109D19C0 = 0;
    dword_109D19C8 = 0;
    v171 = 2;
    if ( &dword_109D19C0 )
    {
      sub_10015520((int)&dword_109D19C0, v134, 0, 0);
      v135 = dword_109D19C0;
    }
    if ( v135 < 0 )
      unknown_libname_4(v135);
  }
  sub_1003DEC0();
  sub_1003FB80(*(_DWORD *)a2, v146, v86);
  sub_1003F860(*(_DWORD *)a2, v89, v91);
  v136 = sub_1003E110();
  if ( v136 != 1 )
  {
    v137 = 0;
    dword_109D19C4 = 0;
    dword_109D19C0 = 0;
    dword_109D19C8 = 0;
    if ( &dword_109D19C0 )
    {
      v137 = v136;
      dword_109D19C0 = v136;
      LOWORD(dword_109D19C4) = 0;
      dword_109D19C8 = 0;
    }
    if ( v137 < 0 )
      unknown_libname_4(v137);
  }
  return 1;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 1008F66C: using guessed type int (*off_1008F66C)();
// 1008F688: using guessed type int (*off_1008F688)();
// 10090068: using guessed type int (*off_10090068)();
// 109D17F0: using guessed type int dword_109D17F0;
// 109D1804: using guessed type int dword_109D1804;
// 109D1810: using guessed type int dword_109D1810;
// 109D1814: using guessed type char byte_109D1814;
// 109D1818: using guessed type int dword_109D1818;
// 109D1838: using guessed type int dword_109D1838;
// 109D183C: using guessed type int dword_109D183C;
// 109D1864: using guessed type int dword_109D1864;
// 109D19C0: using guessed type int dword_109D19C0;
// 109D19C4: using guessed type int dword_109D19C4;
// 109D19C8: using guessed type int dword_109D19C8;

//----- (10031420) --------------------------------------------------------
int __thiscall sub_10031420(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 4) = *(_DWORD *)(a2 + 4);
  *(_BYTE *)(this + 8) = *(_BYTE *)(a2 + 8);
  *(_DWORD *)this = &off_1008F688;
  *(_DWORD *)(this + 12) = *(_DWORD *)(a2 + 12);
  *(_DWORD *)(this + 24) = *(_DWORD *)(a2 + 24);
  *(_DWORD *)(this + 28) = *(_DWORD *)(a2 + 28);
  *(_DWORD *)(this + 32) = *(_DWORD *)(a2 + 32);
  *(_DWORD *)(this + 36) = *(_DWORD *)(a2 + 36);
  *(_DWORD *)(this + 40) = *(_DWORD *)(a2 + 40);
  *(_DWORD *)(this + 44) = *(_DWORD *)(a2 + 44);
  *(_DWORD *)(this + 48) = *(_DWORD *)(a2 + 48);
  *(_BYTE *)(this + 16) = *(_BYTE *)(a2 + 16);
  *(_DWORD *)(this + 20) = *(_DWORD *)(a2 + 20);
  *(_DWORD *)this = &off_10090068;
  return result;
}
// 1008F688: using guessed type int (*off_1008F688)();
// 10090068: using guessed type int (*off_10090068)();

//----- (10031480) --------------------------------------------------------
int __thiscall sub_10031480(int this, int a2)
{
  int v2; // edi@1
  int v3; // eax@1
  int v4; // esi@1
  _DWORD *v5; // ebx@1
  _DWORD *v6; // eax@1
  _DWORD *v7; // ecx@1
  int result; // eax@5

  v2 = this;
  v3 = *(_DWORD *)(this + 4);
  v4 = *(_DWORD *)v3;
  v5 = *(_DWORD **)(*(_DWORD *)v3 + 4);
  v6 = operator new(0x3Cu);
  v7 = (_DWORD *)v4;
  if ( !v4 )
    v7 = v6;
  *v6 = v7;
  if ( !v5 )
    v5 = v6;
  v6[1] = v5;
  *(_DWORD *)(v4 + 4) = v6;
  *(_DWORD *)v6[1] = v6;
  sub_10026680((int)(v6 + 2), a2);
  result = *(_DWORD *)(v2 + 8) + 1;
  *(_DWORD *)(v2 + 8) = result;
  return result;
}

//----- (100314D0) --------------------------------------------------------
int __thiscall sub_100314D0(int this)
{
  int v1; // edi@1
  _DWORD **v2; // esi@1
  int result; // eax@1

  v1 = this;
  v2 = *(_DWORD ***)(*(_DWORD *)(this + 4) + 4);
  *v2[1] = *v2;
  (*v2)[1] = v2[1];
  sub_100156E0((int)(v2 + 2));
  j__free(v2);
  result = *(_DWORD *)(v1 + 8) - 1;
  *(_DWORD *)(v1 + 8) = result;
  return result;
}

//----- (10031530) --------------------------------------------------------
void __thiscall sub_10031530(void *this)
{
  *(_DWORD *)this = &off_1008FA5C;
}
// 1008FA5C: using guessed type int (__thiscall *off_1008FA5C)(void *, char);

//----- (10031540) --------------------------------------------------------
void __thiscall sub_10031540(int this)
{
  void *v1; // esi@1
  void *v2; // eax@1

  v1 = (void *)this;
  v2 = *(void **)(this + 92);
  *(_DWORD *)this = &off_1008F998;
  if ( v2 )
    j__free(v2);
  *(_DWORD *)v1 = &off_1008F874;
  sub_10031530(v1);
}
// 1008F874: using guessed type int (__thiscall *off_1008F874)(void *, char);
// 1008F998: using guessed type int (__thiscall *off_1008F998)(void *, char);

//----- (10031570) --------------------------------------------------------
void __thiscall sub_10031570(int this)
{
  *(_DWORD *)this = &off_1008F934;
  sub_10031540(this);
}
// 1008F934: using guessed type int (__thiscall *off_1008F934)(void *, char);

//----- (10031580) --------------------------------------------------------
void __thiscall sub_10031580(int this)
{
  int v1; // esi@1
  int v2; // eax@3
  int v3; // ecx@4

  v1 = this;
  *(_DWORD *)this = &off_1008F694;
  if ( *(_BYTE *)(this + 368) )
  {
    sub_10016290((int)&dword_109D17F0);
    if ( *(_DWORD *)(v1 + 104) )
    {
      v2 = sub_10041390(*(_DWORD *)(v1 + 104));
      if ( v2 != 1 )
      {
        v3 = 0;
        dword_109D19D4 = 0;
        dword_109D19D0 = 0;
        dword_109D19D8 = 0;
        if ( &dword_109D19D0 )
        {
          v3 = v2;
          LOWORD(dword_109D19D4) = 0;
          dword_109D19D0 = v2;
          dword_109D19D8 = 0;
        }
        if ( v3 < 0 )
          unknown_libname_4(v3);
      }
    }
  }
  sub_10031530((void *)v1);
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 1008F694: using guessed type int (__thiscall *off_1008F694)(void *, char);
// 109D17F0: using guessed type int dword_109D17F0;
// 109D19D0: using guessed type int dword_109D19D0;
// 109D19D4: using guessed type int dword_109D19D4;
// 109D19D8: using guessed type int dword_109D19D8;

//----- (10031640) --------------------------------------------------------
void __thiscall sub_10031640(int this)
{
  void *v1; // esi@1
  void *v2; // eax@1

  v1 = (void *)this;
  v2 = *(void **)(this + 92);
  *(_DWORD *)this = &off_1008F7B4;
  if ( v2 )
    j__free(v2);
  sub_10031530(v1);
}
// 1008F7B4: using guessed type int (__thiscall *off_1008F7B4)(void *, char);

//----- (10031670) --------------------------------------------------------
void __thiscall sub_10031670(int this)
{
  int v1; // ebp@1
  int v2; // esi@1
  int *v3; // edi@2
  int v4; // ebp@3
  int v5; // esi@11
  void (__stdcall ****i)(_DWORD); // edi@12
  int v7; // edi@16
  void *v11; // eax@18
  int v12; // [sp+10h] [bp-14h]@1

  v1 = this;
  v12 = this;
  *(_DWORD *)this = &off_1008FB90;
  v2 = *(_DWORD *)(this + 372);
  if ( v2 )
  {
    v3 = *(int **)(v2 + 4);
    if ( v3 != *(int **)(v2 + 8) )
    {
      do
      {
        v4 = *v3;
        if ( *v3 )
        {
          if ( *(_BYTE *)(v4 + 12) && *(_DWORD *)(v4 + 8) )
            j__free(*(void **)(v4 + 8));
          j__free((void *)v4);
        }
        ++v3;
      }
      while ( v3 != *(int **)(v2 + 8) );
      v1 = v12;
    }
    sub_1001A640(v2, *(_DWORD **)(v2 + 4), *(int **)(v2 + 8));
    j__free(*(void **)(v2 + 4));
    *(_DWORD *)(v2 + 4) = 0;
    *(_DWORD *)(v2 + 8) = 0;
    *(_DWORD *)(v2 + 12) = 0;
    j__free((void *)v2);
  }
  j__free(*(void **)(v1 + 368));
  v5 = *(_DWORD *)(v1 + 44);
  if ( v5 )
  {
    for ( i = *(void (__stdcall *****)(_DWORD))(v5 + 4); i != *(void (__stdcall *****)(_DWORD))(v5 + 8); ++i )
    {
      if ( *i )
        (***i)(1);
    }
    v7 = *(_DWORD *)(v5 + 4);
    nullsub_1(v7, *(_DWORD *)(v5 + 8));
    v11 = *(void **)(v5 + 4);
    *(_DWORD *)(v5 + 8) = v7;
    j__free(v11);
    *(_DWORD *)(v5 + 4) = 0;
    *(_DWORD *)(v5 + 8) = 0;
    *(_DWORD *)(v5 + 12) = 0;
    j__free((void *)v5);
  }
  sub_10031530((void *)v1);
}
// 1001A990: using guessed type _DWORD __stdcall nullsub_1(_DWORD, _DWORD);
// 1008FB90: using guessed type int (__thiscall *off_1008FB90)(void *, char);

//----- (100317D0) --------------------------------------------------------
void __thiscall sub_100317D0(int this)
{
  int v1; // ebp@1
  int v2; // esi@1
  int *i; // ebx@2
  int v4; // edi@3
  void **j; // edi@9
  int v6; // ecx@17
  int v7; // edx@17
  int v11; // eax@19

  v1 = this;
  *(_DWORD *)this = &off_1008FBF8;
  v2 = *(_DWORD *)(this + 404);
  if ( v2 )
  {
    for ( i = *(int **)(v2 + 4); i != *(int **)(v2 + 8); ++i )
    {
      v4 = *i;
      if ( *i )
      {
        if ( *(_DWORD *)(v4 + 4) && *(_BYTE *)(v4 + 8) )
          j__free(*(void **)(v4 + 4));
        j__free((void *)v4);
      }
    }
    sub_1001A640(v2, *(_DWORD **)(v2 + 4), *(int **)(v2 + 8));
    for ( j = *(void ***)(v2 + 4); j != *(void ***)(v2 + 8); ++j )
    {
      if ( *j )
        sub_100319D0(*j, 1);
    }
    sub_100319F0(v2);
    sub_10020CE0(v2);
    j__free((void *)v2);
  }
  if ( *(_BYTE *)(v1 + 380) && *(_DWORD *)(v1 + 376) )
    sub_1003DFA0(*(_DWORD *)(v1 + 376));
  v6 = *(_DWORD *)(v1 + 392);
  v7 = *(_DWORD *)(v1 + 388);
  v11 = *(_DWORD *)(v1 + 392);
  *(_DWORD *)(v1 + 392) = v7;
  j__free(*(void **)(v1 + 388));
  *(_DWORD *)(v1 + 388) = 0;
  *(_DWORD *)(v1 + 392) = 0;
  *(_DWORD *)(v1 + 396) = 0;
  sub_10031670(v1);
}
// 1008FBF8: using guessed type int (__thiscall *off_1008FBF8)(void *, char);

//----- (100319D0) --------------------------------------------------------
void *__thiscall sub_100319D0(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_10015AB0((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (100319F0) --------------------------------------------------------
int __thiscall sub_100319F0(int this)
{
  int result; // eax@1

  result = *(_DWORD *)(this + 8);
  *(_DWORD *)(this + 8) = *(_DWORD *)(this + 4);
  return result;
}
// 100319F0: could not find valid save-restore pair for edi

//----- (10031A30) --------------------------------------------------------
signed int __thiscall sub_10031A30(_DWORD *this, int a2)
{
  _DWORD *v2; // esi@1
  int v3; // eax@1
  int v4; // edx@1
  int v5; // ecx@2
  int v6; // eax@5
  int v7; // ecx@5
  int v8; // edx@5
  int *v9; // eax@6
  int *v10; // edi@6
  void *v11; // ebx@6
  _DWORD *v12; // ecx@8
  _DWORD *i; // eax@8
  signed int result; // eax@10

  v2 = this;
  v3 = sub_10015A60((int)this, a2);
  v4 = v2[1];
  if ( v4 )
    v5 = (v2[2] - v4) >> 2;
  else
    v5 = 0;
  if ( v3 == v5
    || (v6 = 4 * v3, v7 = *(_DWORD *)(v6 + v4), v8 = *(_DWORD *)(v7 + 12) - 1, *(_DWORD *)(v7 + 12) = v8, v8 > 0) )
  {
    result = -1;
  }
  else
  {
    v9 = (int *)(v2[1] + v6);
    v10 = v9;
    v11 = (void *)*v9;
    if ( *v9 )
    {
      sub_10015AB0(*v9);
      j__free(v11);
    }
    v12 = (_DWORD *)v2[2];
    for ( i = v10 + 1; i != v12; ++i )
      *(i - 1) = *i;
    v2[2] -= 4;
    result = 1;
  }
  return result;
}

//----- (10031AC0) --------------------------------------------------------
int __thiscall sub_10031AC0(int this, int a2)
{
  int result; // eax@1
  int v3; // esi@1

  result = this;
  v3 = this + 24;
  *(_DWORD *)v3 = *(_DWORD *)(a2 + 24);
  *(_DWORD *)(v3 + 4) = *(_DWORD *)(a2 + 28);
  *(_DWORD *)(v3 + 8) = *(_DWORD *)(a2 + 32);
  *(_DWORD *)(v3 + 12) = *(_DWORD *)(a2 + 36);
  *(_DWORD *)(this + 4) = *(_DWORD *)(a2 + 4);
  *(_DWORD *)(this + 8) = *(_DWORD *)(a2 + 8);
  *(_DWORD *)(this + 12) = *(_DWORD *)(a2 + 12);
  *(_DWORD *)(this + 16) = *(_DWORD *)(a2 + 16);
  *(_WORD *)(this + 20) = *(_WORD *)(a2 + 20);
  *(_DWORD *)(this + 40) = *(_DWORD *)(a2 + 40);
  *(_DWORD *)(this + 44) = *(_DWORD *)(a2 + 44);
  *(_DWORD *)this = *(_DWORD *)a2;
  *(_BYTE *)(this + 48) = *(_BYTE *)(a2 + 48);
  *(_BYTE *)(this + 49) = *(_BYTE *)(a2 + 49);
  qmemcpy((void *)(this + 52), (const void *)(a2 + 52), 0x41u);
  *(_DWORD *)(this + 120) = *(_DWORD *)(a2 + 120);
  qmemcpy((void *)(this + 124), (const void *)(a2 + 124), 0x40u);
  return result;
}

//----- (10031BB0) --------------------------------------------------------
int __thiscall sub_10031BB0(int this, int a2)
{
  int result; // eax@1
  int v3; // esi@1

  result = this;
  v3 = this + 24;
  *(_DWORD *)this = *(_DWORD *)a2;
  *(_DWORD *)(this + 4) = *(_DWORD *)(a2 + 4);
  *(_DWORD *)(this + 8) = *(_DWORD *)(a2 + 8);
  *(_DWORD *)(this + 12) = *(_DWORD *)(a2 + 12);
  *(_WORD *)(this + 20) = *(_WORD *)(a2 + 20);
  *(_DWORD *)(this + 16) = *(_DWORD *)(a2 + 16);
  *(_DWORD *)v3 = *(_DWORD *)(a2 + 24);
  *(_DWORD *)(v3 + 4) = *(_DWORD *)(a2 + 28);
  *(_DWORD *)(v3 + 8) = *(_DWORD *)(a2 + 32);
  *(_DWORD *)(v3 + 12) = *(_DWORD *)(a2 + 36);
  *(_DWORD *)(this + 40) = *(_DWORD *)(a2 + 40);
  *(_DWORD *)(this + 44) = *(_DWORD *)(a2 + 44);
  *(_BYTE *)(this + 48) = *(_BYTE *)(a2 + 48);
  *(_BYTE *)(this + 49) = *(_BYTE *)(a2 + 49);
  qmemcpy((void *)(this + 52), (const void *)(a2 + 52), 0x41u);
  *(_DWORD *)(this + 120) = *(_DWORD *)(a2 + 120);
  qmemcpy((void *)(this + 124), (const void *)(a2 + 124), 0x40u);
  return result;
}

//----- (10031CA0) --------------------------------------------------------
signed int __userpurge sub_10031CA0@<eax>(int a1@<ecx>, double a2@<st0>, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // esi@1
  signed int v8; // ebx@1
  signed int result; // eax@2
  char v10; // al@3
  int v11; // edi@6
  int v12; // eax@6
  char v14; // c3@6
  int v15; // edi@8
  double v16; // st7@9
  double v17; // st7@10
  int v18; // eax@13
  int v19; // ebp@13
  _DWORD *v20; // edi@13
  double v21; // st7@14
  double v22; // st7@15
  double v23; // st7@17
  double v24; // st7@18
  int v25; // eax@21
  int v26; // edi@21
  double v27; // st7@21
  double v28; // st6@24
  double v29; // st6@25
  int v30; // ebp@27
  double v31; // st6@27
  double v32; // st6@28
  int v33; // ebx@30
  double v34; // st7@30
  double v35; // st7@31
  signed __int64 v36; // rax@33

  v7 = a1;
  v8 = 0;
  if ( a6 )
  {
    v10 = *(_BYTE *)(a6 + 13);
    if ( v10 == 1 || v10 == 2 )
    {
      *(_DWORD *)(a1 + 176) = a6;
      *(_DWORD *)a1 = 0;
      *(_DWORD *)(a1 + 160) = 0;
      v11 = a1 + 24;
      *(_DWORD *)(a1 + 4) = *(_DWORD *)a3;
      *(_DWORD *)(a1 + 8) = *(_DWORD *)(a3 + 4);
      *(_DWORD *)(a1 + 12) = *(_DWORD *)(a3 + 8);
      *(_WORD *)(a1 + 20) = *(_WORD *)(a3 + 16);
      *(_DWORD *)(a1 + 16) = *(_DWORD *)(a3 + 12);
      *(_DWORD *)v11 = *(_DWORD *)(a3 + 20);
      *(_DWORD *)(v11 + 4) = *(_DWORD *)(a3 + 24);
      *(_DWORD *)(v11 + 8) = *(_DWORD *)(a3 + 28);
      *(_DWORD *)(v11 + 12) = *(_DWORD *)(a3 + 32);
      *(_DWORD *)(a1 + 40) = *(_DWORD *)(a3 + 36);
      *(_DWORD *)(a1 + 44) = *(_DWORD *)(a3 + 40);
      *(_BYTE *)(a1 + 48) = 1;
      *(_DWORD *)(a1 + 120) = a4;
      v12 = *(_DWORD *)(a1 + 16);
      *(_BYTE *)(a1 + 49) = 0;
      *(_BYTE *)(a1 + 116) = 0;
      *(_DWORD *)(a1 + 156) = a5;
      (*(void (__stdcall **)(int, int))(*(_DWORD *)a6 + 4))(v12, a7);
      *(float *)(v7 + 172) = a2;
      if ( v14 )
      {
        result = -28;
      }
      else
      {
        v15 = *(_DWORD *)(v7 + 176);
        if ( *(_BYTE *)(v15 + 13) == 1 )
        {
          *(_DWORD *)(v7 + 180) = v15;
          *(_DWORD *)(v7 + 184) = 0;
          v16 = a2 * (double)*(signed int *)(v15 + 16);
          if ( v16 <= 0.0 )
            v17 = v16 - 0.5;
          else
            v17 = v16 + 0.5;
          *(_DWORD *)(v7 + 52) = (signed __int64)v17;
          if ( *(_BYTE *)(v15 + 20) )
          {
            v18 = v15;
            v19 = 0;
            v20 = (_DWORD *)(v7 + 60);
            do
            {
              v21 = (double)*(signed int *)(v18 + v19 + 24) * *(float *)(v7 + 172);
              if ( v21 <= 0.0 )
                v22 = v21 - 0.5;
              else
                v22 = v21 + 0.5;
              *(v20 - 1) = (signed __int64)v22;
              v23 = (double)*(signed int *)(*(_DWORD *)(v7 + 180) + v19 + 28) * *(float *)(v7 + 172);
              if ( v23 <= 0.0 )
                v24 = v23 - 0.5;
              else
                v24 = v23 + 0.5;
              *v20 = (signed __int64)v24;
              v18 = *(_DWORD *)(v7 + 180);
              ++v8;
              v19 += 20;
              v20 += 2;
            }
            while ( v8 < *(_BYTE *)(v18 + 20) );
          }
          v25 = *(_DWORD *)(v7 + 180);
          v26 = *(_BYTE *)(v25 + 20);
          v27 = (double)(*(_DWORD *)(v25 + 16) + *(_DWORD *)(v25 + 20 * v26 + 8)) * *(float *)(v7 + 172);
          if ( v27 <= 0.0 )
            *(_DWORD *)(v7 + 8 * v26 + 52) = (signed __int64)(v27 - 0.5);
          else
            *(_DWORD *)(v7 + 8 * v26 + 52) = (signed __int64)(v27 + 0.5);
        }
        else
        {
          *(_DWORD *)(v7 + 184) = v15;
          *(_DWORD *)(v7 + 180) = 0;
          v28 = ((double)*(signed int *)(v15 + 20) * 0.5 + (double)*(signed int *)(v15 + 16)) * a2;
          if ( v28 <= 0.0 )
            v29 = v28 - 0.5;
          else
            v29 = v28 + 0.5;
          v30 = (signed __int64)v29;
          *(_DWORD *)(v7 + 52) = v30;
          v31 = (double)(*(_DWORD *)(v15 + 20) + *(_DWORD *)(v15 + 24)) * a2;
          if ( v31 <= 0.0 )
            v32 = v31 - 0.5;
          else
            v32 = v31 + 0.5;
          v33 = (signed __int64)v32;
          *(_DWORD *)(v7 + 56) = v33;
          v34 = a2 * (double)*(signed int *)(v15 + 20);
          if ( v34 <= 0.0 )
            v35 = v34 - 0.5;
          else
            v35 = v34 + 0.5;
          v36 = (signed __int64)v35;
          if ( !(unsigned int)(signed __int64)v35 )
            LODWORD(v36) = 1;
          if ( v33 - v30 <= (signed int)v36 )
          {
            if ( v30 != 2 || (_DWORD)v36 != 1 )
              *(_DWORD *)(v7 + 56) = v33 + 1;
            else
              *(_DWORD *)(v7 + 52) = 1;
          }
        }
        if ( !*(_BYTE *)(*(_DWORD *)(v7 + 176) + 14) )
          *(float *)(v7 + 172) = (double)*(signed int *)(v7 + 120) * *(float *)(v7 + 172);
        result = 1;
      }
    }
    else
    {
      result = -28;
    }
  }
  else
  {
    result = -28;
  }
  return result;
}

//----- (10031F80) --------------------------------------------------------
void __thiscall sub_10031F80(int this, int a2)
{
  int v2; // esi@1
  int v3; // edi@2
  int v4; // ebx@2
  double v6; // st7@2
  unsigned __int8 v7; // c0@2
  unsigned __int8 v8; // c3@2
  double v9; // st7@3
  signed int v10; // ebp@5
  double v11; // st7@5
  double v12; // st7@6
  char v13; // al@8
  int v14; // edi@9
  int v15; // eax@9
  signed int v16; // eax@12
  signed __int64 v17; // rax@13
  int v18; // edi@15
  double v19; // st7@15
  double v20; // st7@16
  signed int v21; // ebx@18
  double v22; // st7@18
  double v23; // st7@19
  int v24; // ecx@24
  float *v25; // edi@24
  long double v26; // st7@25
  float v27; // et1@28
  double v29; // st7@28
  unsigned __int8 v30; // c0@28
  unsigned __int8 v31; // c3@28
  double v32; // st7@29
  int v33; // et1@31
  double v35; // st7@31
  unsigned __int8 v36; // c0@31
  unsigned __int8 v37; // c3@31
  int v38; // [sp+10h] [bp-1Ch]@8
  int v39; // [sp+14h] [bp-18h]@2
  double v40; // [sp+14h] [bp-18h]@24
  int v41; // [sp+1Ch] [bp-10h]@1
  int v42; // [sp+20h] [bp-Ch]@24
  int v43; // [sp+24h] [bp-8h]@1
  int v44; // [sp+28h] [bp-4h]@24
  float v45; // [sp+30h] [bp+4h]@2
  float v46; // [sp+30h] [bp+4h]@25

  v2 = this;
  v41 = 0;
  v43 = 0;
  if ( *(_BYTE *)(*(_DWORD *)(this + 176) + 13) != 1 )
  {
    v18 = *(_DWORD *)(this + 184);
    v19 = (double)*(signed int *)(v18 + 20) * *(float *)(this + 172);
    if ( v19 <= 0.0 )
      v20 = v19 - 0.5;
    else
      v20 = v19 + 0.5;
    v21 = (signed __int64)v20;
    v22 = (double)*(signed int *)(v18 + 28) * *(float *)(this + 172);
    if ( v22 <= 0.0 )
      v23 = v22 - 0.5;
    else
      v23 = v22 + 0.5;
    v38 = (signed __int64)v23;
    v16 = v21;
    v14 = v21 / 2;
    goto LABEL_22;
  }
  v3 = a2;
  v4 = *(_DWORD *)(this + 180);
  v39 = v4 + 20 * a2;
  v45 = (double)*(signed int *)(v4 + 20 * a2 + 32) * *(float *)(this + 172);
  v6 = v45;
  if ( v7 | v8 )
    v9 = v6 - 0.5;
  else
    v9 = v6 + 0.5;
  v10 = (signed __int64)v9;
  v11 = (double)*(signed int *)(v4 + 4 * (5 * v3 + 10)) * *(float *)(this + 172);
  if ( v11 <= 0.0 )
    v12 = v11 - 0.5;
  else
    v12 = v11 + 0.5;
  v38 = (signed __int64)v12;
  v13 = *(_BYTE *)(v39 + 36);
  if ( v13 )
  {
    if ( v13 != 1 )
    {
      v14 = v10;
      v15 = 0;
      goto LABEL_24;
    }
    if ( *(_BYTE *)(v4 + 21) != 1 )
    {
      v14 = (signed __int64)(v45 * 0.5);
      v17 = (signed __int64)(v45 - (double)(v14 + 1) + 0.2);
LABEL_23:
      v15 = -(signed int)v17;
      goto LABEL_24;
    }
    v16 = v10;
    v14 = v10 / 2;
LABEL_22:
    LODWORD(v17) = v16 / 2;
    goto LABEL_23;
  }
  v14 = 0;
  v15 = -v10;
LABEL_24:
  v24 = *(_DWORD *)(this + 212);
  v42 = v14 - v38;
  v25 = (float *)(v2 + 188);
  v44 = v15 - v38;
  sub_10026930(*(_DWORD *)(v2 + 204), *(_DWORD *)(v2 + 208), v24, *(_DWORD *)(v2 + 216), 2, (int)&v41, v2 + 188);
  v40 = fabs(*(float *)(v2 + 188) - (double)(signed int)(signed __int64)*(float *)(v2 + 188));
  if ( v40 < 0.5 )
  {
    v46 = *(float *)(v2 + 192) - (double)(signed int)(signed __int64)*(float *)(v2 + 192);
    v26 = fabs(v46);
    if ( v26 < 0.5 && v40 != 0.0 && v26 != 0.0 )
    {
      v27 = *v25;
      v29 = *v25;
      if ( v30 | v31 )
        v32 = v29 - 1.0;
      else
        v32 = v29 + 1.0;
      *v25 = v32;
      v33 = *(_DWORD *)(v2 + 196);
      v35 = *(float *)(v2 + 196);
      if ( v36 | v37 )
        *(float *)(v2 + 196) = v35 - 1.0;
      else
        *(float *)(v2 + 196) = v35 + 1.0;
    }
  }
}

//----- (10032220) --------------------------------------------------------
signed __int64 __thiscall sub_10032220(int this, int a2)
{
  int v2; // esi@1
  double v3; // st7@1
  double v4; // st7@2
  double v5; // st7@4
  double v6; // st7@5
  signed __int64 result; // rax@7
  int v8; // ecx@7
  double v9; // st7@8
  double v10; // st7@9
  double v11; // st7@11
  double v12; // st7@12
  double v13; // st7@14
  double v14; // st7@15
  double v15; // st7@17

  v2 = this;
  *(_DWORD *)(this + 204) = *(_DWORD *)a2;
  *(_DWORD *)(this + 208) = *(_DWORD *)(a2 + 4);
  *(_DWORD *)(this + 212) = *(_DWORD *)(a2 + 8);
  *(_DWORD *)(this + 216) = *(_DWORD *)(a2 + 12);
  v3 = (double)*(signed int *)a2 * *(float *)(this + 8);
  if ( v3 <= 0.0 )
    v4 = v3 - 0.5;
  else
    v4 = v3 + 0.5;
  *(_DWORD *)(this + 164) = (signed __int64)v4;
  v5 = (double)*(signed int *)(a2 + 4) * *(float *)(this + 12);
  if ( v5 <= 0.0 )
    v6 = v5 - 0.5;
  else
    v6 = v5 + 0.5;
  result = (signed __int64)v6;
  v8 = *(_DWORD *)(this + 176);
  *(_DWORD *)(v2 + 168) = (signed __int64)v6;
  if ( *(_BYTE *)(v8 + 13) == 1 )
  {
    sub_10031F80(v2, 0);
    v9 = (double)*(signed int *)a2 * *(float *)(v2 + 8) + *(float *)(v2 + 188);
    if ( v9 <= 0.0 )
      v10 = v9 - 0.5;
    else
      v10 = v9 + 0.5;
    *(_DWORD *)(v2 + 124) = (signed __int64)v10;
    v11 = (double)*(signed int *)(a2 + 4) * *(float *)(v2 + 12) + *(float *)(v2 + 192);
    if ( v11 <= 0.0 )
      v12 = v11 - 0.5;
    else
      v12 = v11 + 0.5;
    *(_DWORD *)(v2 + 128) = (signed __int64)v12;
    v13 = (double)*(signed int *)a2 * *(float *)(v2 + 8) + *(float *)(v2 + 196);
    if ( v13 <= 0.0 )
      v14 = v13 - 0.5;
    else
      v14 = v13 + 0.5;
    *(_DWORD *)(v2 + 132) = (signed __int64)v14;
    v15 = (double)*(signed int *)(a2 + 4) * *(float *)(v2 + 12) + *(float *)(v2 + 200);
    if ( v15 <= 0.0 )
    {
      result = (signed __int64)(v15 - 0.5);
      *(_DWORD *)(v2 + 136) = result;
    }
    else
    {
      result = (signed __int64)(v15 + 0.5);
      *(_DWORD *)(v2 + 136) = result;
    }
  }
  return result;
}

//----- (100323A0) --------------------------------------------------------
signed int __cdecl sub_100323A0(signed int a1, signed int a2, int a3)
{
  signed int v3; // ebx@1
  int v4; // edi@2
  int v5; // ecx@4
  double v6; // st7@6
  double v7; // st7@7
  signed int v8; // eax@9
  signed int v9; // ecx@10
  char v10; // al@14
  unsigned int v11; // eax@16
  double v12; // st7@18
  double v13; // st7@18
  double v14; // st7@19
  signed __int64 v15; // rax@21
  double v16; // st7@21
  double v17; // st6@21
  double v18; // st6@22
  signed __int64 v19; // rax@24
  double v20; // st6@24
  double v21; // st6@25
  double v22; // st7@27
  double v23; // st7@28
  int v24; // ecx@30
  signed int v25; // eax@30
  signed int v26; // ecx@31
  int v27; // ecx@35
  double v28; // st7@36
  double v29; // st7@37
  signed int v30; // eax@39
  signed int v31; // ecx@40
  double v32; // st7@47
  double v33; // st7@47
  double v34; // st7@48
  signed __int64 v35; // rax@50
  double v36; // st7@50
  double v37; // st6@50
  signed __int64 v38; // rax@51
  double v39; // st6@51
  signed __int64 v40; // rax@52
  double v41; // st7@53
  double v42; // st7@53
  double v43; // st7@54
  signed __int64 v44; // rax@56
  double v45; // st6@56
  double v46; // st6@57
  signed __int64 v47; // rax@59
  double v48; // st6@60
  double v49; // st6@61
  double v50; // st7@63
  double v51; // st7@64
  int v52; // ecx@66
  int v53; // edx@66
  int v54; // eax@66
  int v55; // ecx@66
  int v56; // eax@66
  double v57; // st7@67
  double v58; // st7@68
  signed int v59; // eax@70
  signed int v60; // ecx@71
  int v61; // ecx@75
  unsigned __int8 v62; // al@75
  signed int result; // eax@79
  int v64; // ecx@81
  float v65; // [sp+14h] [bp+4h]@18
  float v66; // [sp+14h] [bp+4h]@47
  float v67; // [sp+14h] [bp+4h]@53

  v3 = a1;
  if ( *(_BYTE *)(a3 + 48) )
  {
    v4 = 0;
    *(_BYTE *)(a3 + 48) = 0;
    *(_DWORD *)a3 = 0;
    *(_DWORD *)(a3 + 164) = a1;
    *(_DWORD *)(a3 + 168) = a2;
  }
  else
  {
    v4 = 0;
  }
  v5 = *(_DWORD *)a3 >> 5;
  if ( *(_BYTE *)(*(_DWORD *)(a3 + 176) + 13) == 2 )
  {
    if ( v5 >= *(_DWORD *)(a3 + 4 * *(_BYTE *)(a3 + 49) + 52) )
    {
      v6 = (double)*(signed int *)(*(_DWORD *)(a3 + 184) + 20) * *(float *)(a3 + 172);
      if ( v6 <= 0.0 )
        v7 = v6 - 0.5;
      else
        v7 = v6 + 0.5;
      v8 = sub_1003EEB0(
             *(_DWORD *)(a3 + 4),
             a1 - (signed int)(signed __int64)v7 / 2,
             a2 - (signed int)(signed __int64)v7 / 2,
             (signed int)(signed __int64)v7 / 2 + a1 + 1,
             (signed int)(signed __int64)v7 / 2 + a2 + 1);
      if ( v8 != 1 )
      {
        v9 = 0;
        dword_109D19E4 = 0;
        dword_109D19E0 = 0;
        dword_109D19E8 = 0;
        if ( &dword_109D19E0 )
        {
          v9 = v8;
          LOWORD(dword_109D19E4) = 0;
          dword_109D19E0 = v8;
          dword_109D19E8 = 0;
        }
        if ( v9 < 0 )
          unknown_libname_4(v9);
      }
      v10 = *(_BYTE *)(a3 + 49);
      *(_DWORD *)a3 = 0;
      if ( !v10 )
        *(_BYTE *)(a3 + 49) = 1;
    }
  }
  else
  {
    v11 = *(_BYTE *)(a3 + 49);
    if ( v5 >= *(_DWORD *)(a3 + 4 * v11 + 52) )
    {
      if ( *(_BYTE *)(a3 + 49) & 1 )
      {
        sub_10031F80(a3, v11 >> 1);
        v12 = (double)a1;
        v65 = v12;
        v13 = v12 + *(float *)(a3 + 188);
        if ( v13 <= 0.0 )
          v14 = v13 - 0.5;
        else
          v14 = v13 + 0.5;
        v15 = (signed __int64)v14;
        v16 = (double)a2;
        *(_DWORD *)(a3 + 148) = v15;
        v17 = v16 + *(float *)(a3 + 192);
        if ( v17 <= 0.0 )
          v18 = v17 - 0.5;
        else
          v18 = v17 + 0.5;
        v19 = (signed __int64)v18;
        v20 = v65 + *(float *)(a3 + 196);
        *(_DWORD *)(a3 + 152) = v19;
        if ( v20 <= 0.0 )
          v21 = v20 - 0.5;
        else
          v21 = v20 + 0.5;
        v22 = v16 + *(float *)(a3 + 200);
        *(_DWORD *)(a3 + 140) = (signed __int64)v21;
        if ( v22 <= 0.0 )
          v23 = v22 - 0.5;
        else
          v23 = v22 + 0.5;
        v24 = *(_DWORD *)(a3 + 4);
        *(_DWORD *)(a3 + 144) = (signed __int64)v23;
        v25 = sub_1003F320(v24, a3 + 124, 4);
        if ( v25 != 1 )
        {
          v26 = 0;
          dword_109D19E4 = 0;
          dword_109D19E0 = 0;
          dword_109D19E8 = 0;
          if ( &dword_109D19E0 )
          {
            v26 = v25;
            LOWORD(dword_109D19E4) = 0;
            dword_109D19E0 = v25;
            dword_109D19E8 = 0;
          }
          if ( v26 < 0 )
            unknown_libname_4(v26);
        }
        v27 = *(_DWORD *)(a3 + 180);
        *(_BYTE *)(a3 + 116) = 0;
        if ( *(_BYTE *)(v27 + 21) == 1 )
        {
          v28 = (double)*(signed int *)(v27 + 20 * ((unsigned int)*(_BYTE *)(a3 + 49) >> 1) + 32) * *(float *)(a3 + 172);
          v29 = v28 <= 0.0 ? v28 - 0.5 : v28 + 0.5;
          v30 = sub_1003EEB0(
                  *(_DWORD *)(a3 + 4),
                  v3 - (signed int)(signed __int64)v29 / 2,
                  a2 - (signed int)(signed __int64)v29 / 2,
                  (signed int)(signed __int64)v29 / 2 + v3 + 1,
                  (signed int)(signed __int64)v29 / 2 + a2 + 1);
          if ( v30 != 1 )
          {
            v31 = 0;
            dword_109D19E4 = 0;
            dword_109D19E0 = 0;
            dword_109D19E8 = 0;
            if ( &dword_109D19E0 )
            {
              v31 = v30;
              LOWORD(dword_109D19E4) = 0;
              dword_109D19E0 = v30;
              dword_109D19E8 = 0;
            }
            if ( v31 < 0 )
              unknown_libname_4(v31);
          }
        }
      }
      else
      {
        if ( v11 != 2 * *(_BYTE *)(*(_DWORD *)(a3 + 180) + 20) )
          v4 = v11 >> 1;
        sub_10031F80(a3, v4);
        if ( *(_DWORD *)(a3 + 4 * *(_BYTE *)(a3 + 49) + 52) )
        {
          v41 = (double)a1;
          v67 = v41;
          v42 = v41 + *(float *)(a3 + 188);
          if ( v42 <= 0.0 )
            v43 = v42 - 0.5;
          else
            v43 = v42 + 0.5;
          v44 = (signed __int64)v43;
          v36 = (double)a2;
          *(_DWORD *)(a3 + 124) = v44;
          v45 = v36 + *(float *)(a3 + 192);
          if ( v45 <= 0.0 )
            v46 = v45 - 0.5;
          else
            v46 = v45 + 0.5;
          v47 = (signed __int64)v46;
          v39 = v67;
          *(_DWORD *)(a3 + 128) = v47;
        }
        else
        {
          v32 = (double)*(signed int *)(a3 + 164);
          v66 = v32;
          v33 = v32 + *(float *)(a3 + 188);
          if ( v33 <= 0.0 )
            v34 = v33 - 0.5;
          else
            v34 = v33 + 0.5;
          v35 = (signed __int64)v34;
          v36 = (double)*(signed int *)(a3 + 168);
          *(_DWORD *)(a3 + 124) = v35;
          v37 = v36 + *(float *)(a3 + 192);
          if ( v37 <= 0.0 )
          {
            v40 = (signed __int64)(v37 - 0.5);
            v39 = v66;
            *(_DWORD *)(a3 + 128) = v40;
          }
          else
          {
            v38 = (signed __int64)(v37 + 0.5);
            v39 = v66;
            *(_DWORD *)(a3 + 128) = v38;
          }
        }
        v48 = v39 + *(float *)(a3 + 196);
        if ( v48 <= 0.0 )
          v49 = v48 - 0.5;
        else
          v49 = v48 + 0.5;
        v50 = v36 + *(float *)(a3 + 200);
        *(_DWORD *)(a3 + 132) = (signed __int64)v49;
        if ( v50 <= 0.0 )
          v51 = v50 - 0.5;
        else
          v51 = v50 + 0.5;
        v52 = *(_DWORD *)(a3 + 124);
        v53 = *(_DWORD *)(a3 + 128);
        *(_DWORD *)(a3 + 136) = (signed __int64)v51;
        v54 = *(_DWORD *)(a3 + 132);
        *(_DWORD *)(a3 + 140) = v52;
        v55 = *(_DWORD *)(a3 + 136);
        *(_DWORD *)(a3 + 148) = v54;
        v56 = *(_DWORD *)(a3 + 180);
        *(_DWORD *)(a3 + 144) = v53;
        *(_DWORD *)(a3 + 152) = v55;
        *(_BYTE *)(a3 + 116) = 1;
        if ( *(_BYTE *)(v56 + 21) == 1 )
        {
          v57 = (double)*(signed int *)(v56 + 20 * v4 + 32) * *(float *)(a3 + 172);
          v58 = v57 <= 0.0 ? v57 - 0.5 : v57 + 0.5;
          v59 = sub_1003EEB0(
                  *(_DWORD *)(a3 + 4),
                  v3 - (signed int)(signed __int64)v58 / 2,
                  a2 - (signed int)(signed __int64)v58 / 2,
                  (signed int)(signed __int64)v58 / 2 + v3 + 1,
                  (signed int)(signed __int64)v58 / 2 + a2 + 1);
          if ( v59 != 1 )
          {
            v60 = 0;
            dword_109D19E4 = 0;
            dword_109D19E0 = 0;
            dword_109D19E8 = 0;
            if ( &dword_109D19E0 )
            {
              v60 = v59;
              dword_109D19E0 = v59;
              LOWORD(dword_109D19E4) = 0;
              dword_109D19E8 = 0;
            }
            if ( v60 < 0 )
              unknown_libname_4(v60);
          }
        }
      }
      v61 = *(_DWORD *)(a3 + 180);
      v62 = *(_BYTE *)(a3 + 49);
      *(_DWORD *)a3 = 0;
      if ( v62 == 2 * *(_BYTE *)(v61 + 20) )
        *(_BYTE *)(a3 + 49) = 1;
      else
        *(_BYTE *)(a3 + 49) = v62 + 1;
    }
  }
  if ( *(_DWORD *)(a3 + 164) == v3 || (result = 45, *(_DWORD *)(a3 + 168) == a2) )
    result = 32;
  v64 = *(_DWORD *)a3;
  *(_DWORD *)(a3 + 164) = v3;
  *(_DWORD *)(a3 + 168) = a2;
  *(_DWORD *)a3 = result + v64;
  return result;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 109D19E0: using guessed type int dword_109D19E0;
// 109D19E4: using guessed type int dword_109D19E4;
// 109D19E8: using guessed type int dword_109D19E8;

//----- (10032950) --------------------------------------------------------
void __thiscall sub_10032950(int this, signed int a2, signed int a3, int a4, int a5)
{
  double v5; // st7@1
  double v6; // st7@2
  double v7; // st7@4
  double v8; // st7@5
  long double v9; // st7@7
  long double v10; // st7@8
  double v11; // st7@12
  double v12; // st7@13
  int v13; // edi@15
  double v14; // st7@15
  double v15; // st7@16

  *(_DWORD *)(this + 160) = 0;
  v5 = (double)(a4 + a2) * *(float *)(this + 8) * 0.5;
  if ( v5 <= 0.0 )
    v6 = v5 - 0.5;
  else
    v6 = v5 + 0.5;
  *(_DWORD *)(this + 224) = (signed __int64)v6;
  v7 = (double)(a3 + a5) * *(float *)(this + 12) * 0.5;
  if ( v7 <= 0.0 )
    v8 = v7 - 0.5;
  else
    v8 = v7 + 0.5;
  *(_DWORD *)(this + 228) = (signed __int64)v8;
  v9 = fabs((double)(a4 - a2) * *(float *)(this + 8)) * 0.04;
  if ( v9 <= 0.0 )
    v10 = v9 - 0.5;
  else
    v10 = v9 + 0.5;
  *(_DWORD *)(this + 220) = (signed __int64)v10;
  if ( !(unsigned int)(signed __int64)v10 )
    *(_DWORD *)(this + 220) = 1;
  v11 = (double)a3 * *(float *)(this + 12);
  if ( v11 <= 0.0 )
    v12 = v11 - 0.5;
  else
    v12 = v11 + 0.5;
  v13 = (signed __int64)v12;
  v14 = (double)a2 * *(float *)(this + 8);
  if ( v14 <= 0.0 )
    v15 = v14 - 0.5;
  else
    v15 = v14 + 0.5;
  sub_10032A90(this, 0, (signed __int64)v15, v13);
}

//----- (10032A90) --------------------------------------------------------
void __thiscall sub_10032A90(int this, int a2, int a3, int a4)
{
  int v4; // edi@2
  int v5; // ebx@2
  double v7; // st7@2
  unsigned __int8 v8; // c0@2
  unsigned __int8 v9; // c3@2
  double v10; // st7@3
  signed int v11; // ebp@5
  double v12; // st7@5
  double v13; // st7@6
  char v14; // al@8
  _DWORD *v15; // edi@9
  int v16; // eax@12
  signed __int64 v17; // rax@13
  int v18; // edi@15
  double v19; // st7@15
  double v20; // st7@16
  signed int v21; // ebx@18
  double v22; // st7@18
  double v23; // st7@19
  int v24; // edx@23
  int v25; // ebx@23
  int v26; // ST00_4@23
  int v27; // [sp+10h] [bp-8h]@8
  int v28; // [sp+14h] [bp-4h]@2
  float v29; // [sp+1Ch] [bp+4h]@2

  *(_DWORD *)(this + 208) = 0;
  *(_DWORD *)(this + 216) = 0;
  if ( *(_BYTE *)(*(_DWORD *)(this + 176) + 13) != 1 )
  {
    v18 = *(_DWORD *)(this + 184);
    v19 = (double)*(signed int *)(v18 + 20) * *(float *)(this + 172);
    if ( v19 <= 0.0 )
      v20 = v19 - 0.5;
    else
      v20 = v19 + 0.5;
    v21 = (signed __int64)v20;
    v22 = (double)*(signed int *)(v18 + 28) * *(float *)(this + 172);
    if ( v22 <= 0.0 )
      v23 = v22 - 0.5;
    else
      v23 = v22 + 0.5;
    v27 = (signed __int64)v23;
    v15 = (_DWORD *)(this + 204);
    *(_DWORD *)(this + 204) = v21 / -2;
    v16 = v21 / 2;
    goto LABEL_22;
  }
  v4 = a2;
  v5 = *(_DWORD *)(this + 180);
  v28 = v5 + 20 * a2;
  v29 = (double)*(signed int *)(v5 + 20 * a2 + 32) * *(float *)(this + 172);
  v7 = v29;
  if ( v8 | v9 )
    v10 = v7 - 0.5;
  else
    v10 = v7 + 0.5;
  v11 = (signed __int64)v10;
  v12 = (double)*(signed int *)(v5 + 4 * (5 * v4 + 10)) * *(float *)(this + 172);
  if ( v12 <= 0.0 )
    v13 = v12 - 0.5;
  else
    v13 = v12 + 0.5;
  v27 = (signed __int64)v13;
  v14 = *(_BYTE *)(v28 + 36);
  if ( v14 )
  {
    if ( v14 != 1 )
    {
      v15 = (_DWORD *)(this + 204);
      *(_DWORD *)(this + 212) = 0;
      *(_DWORD *)(this + 204) = v11;
      goto LABEL_23;
    }
    if ( *(_BYTE *)(v5 + 21) == 1 )
    {
      v15 = (_DWORD *)(this + 204);
      *(_DWORD *)(this + 204) = v11 / 2;
      v16 = v11 / -2;
    }
    else
    {
      v17 = (signed __int64)(v29 * 0.5);
      v15 = (_DWORD *)(this + 204);
      *(_DWORD *)(this + 204) = v17;
      v16 = -(signed int)(signed __int64)(v29 - (double)((signed int)v17 + 1) + 0.2);
    }
LABEL_22:
    *(_DWORD *)(this + 212) = v16;
    goto LABEL_23;
  }
  v15 = (_DWORD *)(this + 204);
  *(_DWORD *)(this + 204) = 0;
  *(_DWORD *)(this + 212) = -v11;
LABEL_23:
  v24 = *(_DWORD *)(this + 228);
  v25 = *(_DWORD *)(this + 212) - v27;
  *v15 -= v27;
  v26 = *(_DWORD *)(this + 224);
  *(_DWORD *)(this + 212) = v25;
  sub_10026930(v26, v24, a3, a4, 2, (int)v15, this + 188);
}

//----- (10032C90) --------------------------------------------------------
signed int __cdecl sub_10032C90(signed int a1, signed int a2, int a3)
{
  signed int v3; // ebx@1
  signed int v4; // ebp@1
  int v5; // esi@1
  int v6; // edx@3
  double v7; // st7@5
  double v8; // st7@6
  signed int v9; // eax@8
  signed int v10; // ecx@9
  char v11; // al@13
  char v12; // cl@15
  unsigned int v13; // eax@15
  int v14; // edi@15
  double v15; // st7@17
  double v16; // st7@17
  double v17; // st7@18
  signed __int64 v18; // rax@20
  double v19; // st7@20
  double v20; // st6@20
  double v21; // st6@21
  signed __int64 v22; // rax@23
  double v23; // st6@23
  double v24; // st6@24
  double v25; // st7@26
  double v26; // st7@27
  int v27; // ecx@29
  signed int v28; // eax@29
  signed int v29; // ecx@30
  int v30; // ecx@34
  double v31; // st7@35
  double v32; // st7@36
  signed int v33; // eax@38
  signed int v34; // ecx@39
  int v35; // ebp@44
  double v36; // st7@47
  double v37; // st7@47
  double v38; // st7@48
  signed __int64 v39; // rax@50
  double v40; // st7@50
  double v41; // st6@50
  signed __int64 v42; // rax@51
  double v43; // st6@51
  signed __int64 v44; // rax@52
  double v45; // st7@53
  double v46; // st7@53
  double v47; // st7@54
  signed __int64 v48; // rax@56
  double v49; // st6@56
  double v50; // st6@57
  signed __int64 v51; // rax@59
  double v52; // st6@60
  double v53; // st6@61
  double v54; // st7@63
  double v55; // st7@64
  int v56; // eax@66
  double v57; // st7@67
  double v58; // st7@68
  signed int v59; // eax@70
  int v60; // ecx@75
  unsigned __int8 v61; // al@75
  double v62; // st7@80
  double v63; // st7@80
  double v64; // st7@81
  signed __int64 v65; // rax@83
  double v66; // st7@83
  double v67; // st7@83
  double v68; // st7@84
  signed __int64 v69; // rax@86
  double v70; // st7@86
  double v71; // st7@87
  signed __int64 v72; // rax@89
  double v73; // st7@89
  double v74; // st7@90
  int v75; // ST08_4@92
  signed int v76; // eax@92
  signed int v77; // ecx@93
  double v78; // st7@97
  double v79; // st7@98
  signed __int64 v80; // rax@100
  double v81; // st7@100
  double v82; // st7@101
  signed __int64 v83; // rax@103
  double v84; // st7@103
  double v85; // st7@104
  signed __int64 v86; // rax@106
  double v87; // st7@106
  double v88; // st7@107
  int v89; // eax@109
  signed int result; // eax@111
  int v91; // ecx@113
  float v92; // [sp+14h] [bp+4h]@83
  float v93; // [sp+18h] [bp+8h]@47
  float v94; // [sp+1Ch] [bp+Ch]@17
  float v95; // [sp+1Ch] [bp+Ch]@53
  float v96; // [sp+1Ch] [bp+Ch]@80

  v3 = a2;
  v4 = a1;
  v5 = a3;
  if ( *(_BYTE *)(a3 + 48) )
  {
    *(_BYTE *)(a3 + 48) = 0;
    *(_DWORD *)a3 = 0;
    *(_DWORD *)(a3 + 160) = 0;
    *(_DWORD *)(a3 + 164) = a1;
    *(_DWORD *)(a3 + 168) = a2;
  }
  v6 = *(_DWORD *)a3 >> 5;
  if ( *(_BYTE *)(*(_DWORD *)(a3 + 176) + 13) == 2 )
  {
    if ( v6 >= *(_DWORD *)(a3 + 4 * *(_BYTE *)(a3 + 49) + 52) )
    {
      v7 = (double)*(signed int *)(*(_DWORD *)(a3 + 184) + 20) * *(float *)(a3 + 172);
      if ( v7 <= 0.0 )
        v8 = v7 - 0.5;
      else
        v8 = v7 + 0.5;
      v9 = sub_1003EEB0(
             *(_DWORD *)(a3 + 4),
             a1 - (signed int)(signed __int64)v8 / 2,
             a2 - (signed int)(signed __int64)v8 / 2,
             (signed int)(signed __int64)v8 / 2 + a1 + 1,
             (signed int)(signed __int64)v8 / 2 + a2 + 1);
      if ( v9 != 1 )
      {
        v10 = 0;
        dword_109D19E4 = 0;
        dword_109D19E0 = 0;
        dword_109D19E8 = 0;
        if ( &dword_109D19E0 )
        {
          v10 = v9;
          LOWORD(dword_109D19E4) = 0;
          dword_109D19E0 = v9;
          dword_109D19E8 = 0;
        }
        if ( v10 < 0 )
          unknown_libname_4(v10);
      }
      v11 = *(_BYTE *)(a3 + 49);
      *(_DWORD *)a3 = 0;
      if ( !v11 )
        *(_BYTE *)(a3 + 49) = 1;
    }
    goto LABEL_110;
  }
  v12 = *(_BYTE *)(a3 + 49);
  v13 = *(_BYTE *)(a3 + 49);
  v14 = *(_DWORD *)(a3 + 4 * v13 + 52);
  if ( v6 >= v14 )
  {
    if ( v12 & 1 )
    {
      sub_10032A90(a3, v13 >> 1, a1, a2);
      v15 = (double)a1;
      v94 = v15;
      v16 = v15 + *(float *)(v5 + 188);
      if ( v16 <= 0.0 )
        v17 = v16 - 0.5;
      else
        v17 = v16 + 0.5;
      v18 = (signed __int64)v17;
      v19 = (double)a2;
      *(_DWORD *)(v5 + 148) = v18;
      v20 = v19 + *(float *)(v5 + 192);
      if ( v20 <= 0.0 )
        v21 = v20 - 0.5;
      else
        v21 = v20 + 0.5;
      v22 = (signed __int64)v21;
      v23 = v94 + *(float *)(v5 + 196);
      *(_DWORD *)(v5 + 152) = v22;
      if ( v23 <= 0.0 )
        v24 = v23 - 0.5;
      else
        v24 = v23 + 0.5;
      v25 = v19 + *(float *)(v5 + 200);
      *(_DWORD *)(v5 + 140) = (signed __int64)v24;
      if ( v25 <= 0.0 )
        v26 = v25 - 0.5;
      else
        v26 = v25 + 0.5;
      v27 = *(_DWORD *)(v5 + 4);
      *(_DWORD *)(v5 + 144) = (signed __int64)v26;
      v28 = sub_1003F320(v27, v5 + 124, 4);
      if ( v28 != 1 )
      {
        v29 = 0;
        dword_109D19E4 = 0;
        dword_109D19E0 = 0;
        dword_109D19E8 = 0;
        if ( &dword_109D19E0 )
        {
          v29 = v28;
          dword_109D19E0 = v28;
          LOWORD(dword_109D19E4) = 0;
          dword_109D19E8 = 0;
        }
        if ( v29 < 0 )
          unknown_libname_4(v29);
      }
      v30 = *(_DWORD *)(v5 + 180);
      *(_BYTE *)(v5 + 116) = 0;
      if ( *(_BYTE *)(v30 + 21) != 1 )
        goto LABEL_75;
      v31 = (double)*(signed int *)(v30 + 20 * ((unsigned int)*(_BYTE *)(v5 + 49) >> 1) + 32) * *(float *)(v5 + 172);
      v32 = v31 <= 0.0 ? v31 - 0.5 : v31 + 0.5;
      v33 = sub_1003EEB0(
              *(_DWORD *)(v5 + 4),
              a1 - (signed int)(signed __int64)v32 / 2,
              a2 - (signed int)(signed __int64)v32 / 2,
              (signed int)(signed __int64)v32 / 2 + a1 + 1,
              (signed int)(signed __int64)v32 / 2 + a2 + 1);
      if ( v33 == 1 )
        goto LABEL_75;
      v34 = 0;
      dword_109D19E4 = 0;
      dword_109D19E0 = 0;
      dword_109D19E8 = 0;
      if ( &dword_109D19E0 )
      {
        v34 = v33;
        dword_109D19E0 = v33;
        LOWORD(dword_109D19E4) = 0;
        dword_109D19E8 = 0;
      }
      if ( v34 >= 0 )
        goto LABEL_75;
    }
    else
    {
      if ( v13 == 2 * *(_BYTE *)(*(_DWORD *)(a3 + 180) + 20) )
        v35 = 0;
      else
        v35 = v13 >> 1;
      if ( v14 )
      {
        sub_10032A90(a3, v35, a1, a2);
        v45 = (double)a1;
        v95 = v45;
        v46 = v45 + *(float *)(v5 + 188);
        if ( v46 <= 0.0 )
          v47 = v46 - 0.5;
        else
          v47 = v46 + 0.5;
        v48 = (signed __int64)v47;
        v40 = (double)a2;
        *(_DWORD *)(v5 + 124) = v48;
        v49 = v40 + *(float *)(v5 + 192);
        if ( v49 <= 0.0 )
          v50 = v49 - 0.5;
        else
          v50 = v49 + 0.5;
        v51 = (signed __int64)v50;
        v43 = v95;
        *(_DWORD *)(v5 + 128) = v51;
      }
      else
      {
        sub_10032A90(a3, v35, *(_DWORD *)(a3 + 164), *(_DWORD *)(a3 + 168));
        v36 = (double)*(signed int *)(a3 + 164);
        v93 = v36;
        v37 = v36 + *(float *)(a3 + 188);
        if ( v37 <= 0.0 )
          v38 = v37 - 0.5;
        else
          v38 = v37 + 0.5;
        v39 = (signed __int64)v38;
        v40 = (double)*(signed int *)(a3 + 168);
        *(_DWORD *)(a3 + 124) = v39;
        v41 = v40 + *(float *)(a3 + 192);
        if ( v41 <= 0.0 )
        {
          v44 = (signed __int64)(v41 - 0.5);
          v43 = v93;
          *(_DWORD *)(a3 + 128) = v44;
        }
        else
        {
          v42 = (signed __int64)(v41 + 0.5);
          v43 = v93;
          *(_DWORD *)(a3 + 128) = v42;
        }
      }
      v52 = v43 + *(float *)(v5 + 196);
      if ( v52 <= 0.0 )
        v53 = v52 - 0.5;
      else
        v53 = v52 + 0.5;
      v54 = v40 + *(float *)(v5 + 200);
      *(_DWORD *)(v5 + 132) = (signed __int64)v53;
      if ( v54 <= 0.0 )
        v55 = v54 - 0.5;
      else
        v55 = v54 + 0.5;
      *(_DWORD *)(v5 + 136) = (signed __int64)v55;
      v56 = *(_DWORD *)(v5 + 180);
      *(_BYTE *)(v5 + 116) = 1;
      if ( *(_BYTE *)(v56 + 21) != 1 )
        goto LABEL_75;
      v57 = (double)*(signed int *)(v56 + 20 * v35 + 32) * *(float *)(v5 + 172);
      v58 = v57 <= 0.0 ? v57 - 0.5 : v57 + 0.5;
      v59 = sub_1003EEB0(
              *(_DWORD *)(v5 + 4),
              a1 - (signed int)(signed __int64)v58 / 2,
              v3 - (signed int)(signed __int64)v58 / 2,
              (signed int)(signed __int64)v58 / 2 + a1 + 1,
              (signed int)(signed __int64)v58 / 2 + v3 + 1);
      if ( v59 == 1 )
        goto LABEL_75;
      v34 = 0;
      dword_109D19E4 = 0;
      dword_109D19E0 = 0;
      dword_109D19E8 = 0;
      if ( &dword_109D19E0 )
      {
        v34 = v59;
        dword_109D19E0 = v59;
        LOWORD(dword_109D19E4) = 0;
        dword_109D19E8 = 0;
      }
      if ( v34 >= 0 )
        goto LABEL_75;
    }
    unknown_libname_4(v34);
LABEL_75:
    v60 = *(_DWORD *)(v5 + 180);
    v61 = *(_BYTE *)(v5 + 49);
    *(_DWORD *)v5 = 0;
    *(_DWORD *)(v5 + 160) = 0;
    if ( v61 == 2 * *(_BYTE *)(v60 + 20) )
    {
      v4 = a1;
      *(_BYTE *)(v5 + 49) = 1;
    }
    else
    {
      v4 = a1;
      *(_BYTE *)(v5 + 49) = v61 + 1;
    }
    goto LABEL_110;
  }
  if ( v12 & 1 && v6 >= *(_DWORD *)(a3 + 220) * (*(_DWORD *)(a3 + 160) + 1) )
  {
    sub_10032A90(a3, v13 >> 1, a1, a2);
    v62 = (double)a1;
    v96 = v62;
    v63 = v62 + *(float *)(v5 + 188);
    if ( v63 <= 0.0 )
      v64 = v63 - 0.5;
    else
      v64 = v63 + 0.5;
    v65 = (signed __int64)v64;
    v66 = (double)a2;
    *(_DWORD *)(v5 + 148) = v65;
    v92 = v66;
    v67 = v66 + *(float *)(v5 + 192);
    if ( v67 <= 0.0 )
      v68 = v67 - 0.5;
    else
      v68 = v67 + 0.5;
    v69 = (signed __int64)v68;
    v70 = v96 + *(float *)(v5 + 196);
    *(_DWORD *)(v5 + 152) = v69;
    if ( v70 <= 0.0 )
      v71 = v70 - 0.5;
    else
      v71 = v70 + 0.5;
    v72 = (signed __int64)v71;
    v73 = v92 + *(float *)(v5 + 200);
    *(_DWORD *)(v5 + 140) = v72;
    if ( v73 <= 0.0 )
      v74 = v73 - 0.5;
    else
      v74 = v73 + 0.5;
    v75 = *(_DWORD *)(v5 + 4);
    *(_DWORD *)(v5 + 144) = (signed __int64)v74;
    v76 = sub_1003F320(v75, v5 + 124, 4);
    if ( v76 != 1 )
    {
      v77 = 0;
      dword_109D19E4 = 0;
      dword_109D19E0 = 0;
      dword_109D19E8 = 0;
      if ( &dword_109D19E0 )
      {
        v77 = v76;
        dword_109D19E0 = v76;
        LOWORD(dword_109D19E4) = 0;
        dword_109D19E8 = 0;
      }
      if ( v77 < 0 )
        unknown_libname_4(v77);
    }
    v78 = v96 + *(float *)(v5 + 188);
    if ( v78 <= 0.0 )
      v79 = v78 - 0.5;
    else
      v79 = v78 + 0.5;
    v80 = (signed __int64)v79;
    v81 = v92 + *(float *)(v5 + 192);
    *(_DWORD *)(v5 + 124) = v80;
    if ( v81 <= 0.0 )
      v82 = v81 - 0.5;
    else
      v82 = v81 + 0.5;
    v83 = (signed __int64)v82;
    v84 = v96 + *(float *)(v5 + 196);
    *(_DWORD *)(v5 + 128) = v83;
    if ( v84 <= 0.0 )
      v85 = v84 - 0.5;
    else
      v85 = v84 + 0.5;
    v86 = (signed __int64)v85;
    v87 = v92 + *(float *)(v5 + 200);
    *(_DWORD *)(v5 + 132) = v86;
    if ( v87 <= 0.0 )
      v88 = v87 - 0.5;
    else
      v88 = v87 + 0.5;
    *(_DWORD *)(v5 + 136) = (signed __int64)v88;
    v89 = *(_DWORD *)(v5 + 160) + 1;
    *(_BYTE *)(v5 + 116) = 1;
    *(_DWORD *)(v5 + 160) = v89;
  }
LABEL_110:
  if ( *(_DWORD *)(v5 + 164) == v4 || (result = 45, *(_DWORD *)(v5 + 168) == v3) )
    result = 32;
  v91 = *(_DWORD *)v5;
  *(_DWORD *)(v5 + 164) = v4;
  *(_DWORD *)(v5 + 168) = v3;
  *(_DWORD *)v5 = result + v91;
  return result;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 109D19E0: using guessed type int dword_109D19E0;
// 109D19E4: using guessed type int dword_109D19E4;
// 109D19E8: using guessed type int dword_109D19E8;

//----- (10033460) --------------------------------------------------------
int __cdecl sub_10033460(__int64 a1, unsigned int a2, unsigned int a3, int a4, char a5)
{
  double v5; // st7@1
  double v6; // st7@2
  double v7; // st7@4
  double v8; // st7@5
  double v9; // st7@7
  double v10; // st7@8
  double v11; // st7@10
  double v12; // st7@11
  int v13; // eax@16
  double v14; // st7@20
  double v15; // st7@20
  double v16; // st7@21
  signed __int64 v17; // rax@23
  double v18; // st7@23
  double v19; // st6@23
  double v20; // st6@24
  signed __int64 v21; // rax@26
  double v22; // st6@26
  double v23; // st6@27
  double v24; // st7@29
  double v25; // st7@30
  int v26; // edx@34
  int v27; // ecx@34
  int v28; // ecx@34
  int v29; // eax@34
  signed int v30; // eax@34
  signed int v31; // ecx@35
  int v32; // eax@45
  int v33; // ecx@46
  int v34; // eax@50
  signed int v35; // ecx@51
  double v36; // st7@53
  double v37; // st7@53
  double v38; // st7@54
  signed __int64 v39; // rax@56
  double v40; // st7@56
  double v41; // st6@56
  double v42; // st6@57
  signed __int64 v43; // rax@59
  double v44; // st6@59
  double v45; // st6@60
  double v46; // st7@62
  double v47; // st7@63
  double v48; // st7@71
  double v49; // st7@72
  double v50; // st7@75
  double v51; // st7@77
  double v52; // st7@78
  signed __int64 v53; // rax@80
  double v54; // st7@80
  int v55; // ebx@80
  double v56; // st7@81
  signed __int64 v57; // rax@83
  int v58; // esi@83
  int v59; // edi@83
  double v60; // st7@83
  double v61; // st7@83
  double v62; // st7@84
  signed __int64 v63; // rax@86
  double v64; // st7@86
  double v65; // st6@86
  double v66; // st6@87
  signed __int64 v67; // rax@89
  double v68; // st6@89
  double v69; // st6@90
  double v70; // st7@92
  double v71; // st7@93
  int v72; // edx@95
  signed int v73; // eax@95
  signed int v74; // ecx@96
  signed int v75; // eax@100
  int v76; // eax@105
  float v78; // [sp+10h] [bp-1E0h]@20
  float v79; // [sp+10h] [bp-1E0h]@53
  signed int v80; // [sp+10h] [bp-1E0h]@74
  float v81; // [sp+14h] [bp-1DCh]@77
  float v82; // [sp+14h] [bp-1DCh]@83
  __int64 v83; // [sp+1Ch] [bp-1D4h]@1
  unsigned int v84; // [sp+24h] [bp-1CCh]@1
  unsigned int v85; // [sp+28h] [bp-1C8h]@1
  int v86; // [sp+2Ch] [bp-1C4h]@74
  int v87; // [sp+30h] [bp-1C0h]@83
  __int64 v88; // [sp+34h] [bp-1BCh]@34
  __int64 v89; // [sp+3Ch] [bp-1B4h]@34
  __int64 v90; // [sp+44h] [bp-1ACh]@34
  int v91; // [sp+4Ch] [bp-1A4h]@86
  int v92; // [sp+50h] [bp-1A0h]@89
  char v93; // [sp+54h] [bp-19Ch]@1
  float v94; // [sp+5Ch] [bp-194h]@1
  float v95; // [sp+60h] [bp-190h]@4
  int v96; // [sp+85h] [bp-16Bh]@17
  char v97; // [sp+C8h] [bp-128h]@39
  __int64 v98; // [sp+D0h] [bp-120h]@23
  __int64 v99; // [sp+D8h] [bp-118h]@29
  int v100; // [sp+E0h] [bp-110h]@62
  int v101; // [sp+E4h] [bp-10Ch]@65
  int v102; // [sp+E8h] [bp-108h]@56
  int v103; // [sp+ECh] [bp-104h]@59
  float v104; // [sp+100h] [bp-F0h]@71
  int v105; // [sp+104h] [bp-ECh]@15
  int v106; // [sp+108h] [bp-E8h]@17
  float v107; // [sp+110h] [bp-E0h]@20
  float v108; // [sp+114h] [bp-DCh]@23
  float v109; // [sp+118h] [bp-D8h]@26
  float v110; // [sp+11Ch] [bp-D4h]@29
  char v111; // [sp+134h] [bp-BCh]@105

  v83 = a1;
  v84 = a2;
  v85 = a3;
  sub_10031AC0((int)&v93, a4);
  sub_10032220((int)&v93, (int)&v83);
  v5 = (double)(signed int)a1 * v94;
  if ( v5 <= 0.0 )
    v6 = v5 - 0.5;
  else
    v6 = v5 + 0.5;
  LODWORD(v83) = (signed __int64)v6;
  v7 = (double)SHIDWORD(a1) * v95;
  if ( v7 <= 0.0 )
    v8 = v7 - 0.5;
  else
    v8 = v7 + 0.5;
  HIDWORD(v83) = (signed __int64)v8;
  v9 = (double)(signed int)(a2 - a1) * v94;
  if ( v9 <= 0.0 )
    v10 = v9 - 0.5;
  else
    v10 = v9 + 0.5;
  v84 = v83 + (signed __int64)v10;
  v11 = (double)(signed int)(a3 - HIDWORD(a1)) * v95;
  if ( v11 <= 0.0 )
    v12 = v11 - 0.5;
  else
    v12 = v11 + 0.5;
  v85 = HIDWORD(v83) + (unsigned __int64)(signed __int64)v12;
  if ( a5 && *(_BYTE *)(a4 + 116) )
  {
    if ( *(_BYTE *)(v105 + 13) == 2 )
    {
      v13 = 0;
    }
    else if ( (unsigned __int8)v96 == 2 * *(_BYTE *)(v106 + 20) )
    {
      v13 = 0;
    }
    else
    {
      v13 = (unsigned int)(unsigned __int8)v96 >> 1;
    }
    sub_10031F80((int)&v93, v13);
    v14 = (double)(signed int)v83;
    v78 = v14;
    v15 = v14 + v107;
    if ( v15 <= 0.0 )
      v16 = v15 - 0.5;
    else
      v16 = v15 + 0.5;
    v17 = (signed __int64)v16;
    v18 = (double)SHIDWORD(v83);
    LODWORD(v98) = v17;
    v19 = v18 + v108;
    if ( v19 <= 0.0 )
      v20 = v19 - 0.5;
    else
      v20 = v19 + 0.5;
    v21 = (signed __int64)v20;
    v22 = v78 + v109;
    HIDWORD(v98) = v21;
    if ( v22 <= 0.0 )
      v23 = v22 - 0.5;
    else
      v23 = v22 + 0.5;
    v24 = v18 + v110;
    LODWORD(v99) = (signed __int64)v23;
    if ( v24 <= 0.0 )
      v25 = v24 - 0.5;
    else
      v25 = v24 + 0.5;
    HIDWORD(v99) = (signed __int64)v25;
    sub_1003DEC0();
    if ( *(_BYTE *)(*(_DWORD *)(a4 + 180) + 21) == 1 )
      sub_1003F320(*(_DWORD *)(a4 + 4), a4 + 124, 4);
    v26 = *(_DWORD *)(a4 + 140);
    v88 = v83;
    HIDWORD(v89) = *(_DWORD *)(a4 + 144);
    v90 = v99;
    v27 = *(_DWORD *)(a4 + 4);
    LODWORD(v89) = v26;
    sub_1003F320(v27, (int)&v88, 3);
    v28 = *(_DWORD *)(a4 + 148);
    v88 = v83;
    HIDWORD(v89) = *(_DWORD *)(a4 + 152);
    v90 = v98;
    v29 = *(_DWORD *)(a4 + 4);
    LODWORD(v89) = v28;
    sub_1003F320(v29, (int)&v88, 3);
    v30 = sub_1003E110();
    if ( v30 != 1 )
    {
      v31 = 0;
      dword_109D19E4 = 0;
      dword_109D19E0 = 0;
      dword_109D19E8 = 0;
      if ( &dword_109D19E0 )
      {
        v31 = v30;
        LOWORD(dword_109D19E4) = 0;
        dword_109D19E0 = v30;
        dword_109D19E8 = 0;
      }
      if ( v31 < 0 )
        unknown_libname_4(v31);
    }
  }
  sub_1003CAC0(v83, SHIDWORD(v83), v84, v85, (void (__cdecl *)(int, int, int))sub_100323A0, (int)&v93);
  if ( !v97 || *(_BYTE *)(v105 + 13) == 2 )
    goto LABEL_105;
  sub_10031F80((int)&v93, (unsigned int)(unsigned __int8)v96 >> 1);
  if ( v107 == 0.0 && v108 == 0.0 && v109 == 0.0 && v110 == 0.0 )
  {
    v32 = sub_1003FB80(*(_DWORD *)(a4 + 4), v99, SWORD2(v99));
    if ( v32 != 1 )
    {
      v33 = 0;
      dword_109D19E4 = 0;
      dword_109D19E0 = 0;
      dword_109D19E8 = 0;
      if ( &dword_109D19E0 )
      {
        v33 = v32;
        dword_109D19E0 = v32;
        LOWORD(dword_109D19E4) = 0;
        dword_109D19E8 = 0;
      }
      if ( v33 < 0 )
        unknown_libname_4(v33);
    }
    v34 = sub_1003F860(*(_DWORD *)(a4 + 4), v84, v85);
    if ( v34 == 1 )
      goto LABEL_105;
    v35 = 0;
    dword_109D19E4 = 0;
    dword_109D19E0 = 0;
    dword_109D19E8 = 0;
    if ( !&dword_109D19E0 )
      goto LABEL_69;
    goto LABEL_68;
  }
  v36 = (double)(signed int)v84;
  v79 = v36;
  v37 = v36 + v107;
  if ( v37 <= 0.0 )
    v38 = v37 - 0.5;
  else
    v38 = v37 + 0.5;
  v39 = (signed __int64)v38;
  v40 = (double)(signed int)v85;
  v102 = v39;
  v41 = v40 + v108;
  if ( v41 <= 0.0 )
    v42 = v41 - 0.5;
  else
    v42 = v41 + 0.5;
  v43 = (signed __int64)v42;
  v44 = v79 + v109;
  v103 = v43;
  if ( v44 <= 0.0 )
    v45 = v44 - 0.5;
  else
    v45 = v44 + 0.5;
  v46 = v40 + v110;
  v100 = (signed __int64)v45;
  if ( v46 <= 0.0 )
    v47 = v46 - 0.5;
  else
    v47 = v46 + 0.5;
  v101 = (signed __int64)v47;
  if ( *(_BYTE *)(v106 + 21) )
  {
    v48 = (double)*(signed int *)(v106 + 20 * ((unsigned int)(unsigned __int8)v96 >> 1) + 32) * v104;
    if ( v48 <= 0.0 )
      v49 = v48 - 0.5;
    else
      v49 = v48 + 0.5;
    v80 = (signed __int64)v49;
    *(float *)&v86 = sqrt((double)(signed int)(v84 - v83) * (double)(signed int)(v84 - v83) + (double)(signed int)(v85 - HIDWORD(v83))
                                                                                            * (double)(signed int)(v85 - HIDWORD(v83)));
    if ( *(float *)&v86 == 0.0 )
    {
      v50 = 0.0;
      *(float *)&v86 = 0.0;
    }
    else
    {
      v50 = (double)(signed int)(v84 - v83) / *(float *)&v86;
      *(float *)&v86 = (double)(signed int)(v85 - HIDWORD(v83)) / *(float *)&v86;
    }
    v81 = (double)v80;
    v51 = v50 * v81;
    if ( v51 <= 0.0 )
      v52 = v51 - 0.5;
    else
      v52 = v51 + 0.5;
    v53 = (signed __int64)v52;
    v54 = *(float *)&v86 * v81;
    v55 = v53;
    if ( v54 <= 0.0 )
      v56 = v54 - 0.5;
    else
      v56 = v54 + 0.5;
    v57 = (signed __int64)v56;
    v58 = v84 - v55;
    v59 = v85 - (unsigned __int64)(signed __int64)v56;
    v86 = v84 - v55;
    v60 = (double)(signed int)(v84 - v55);
    v88 = v98;
    v82 = v60;
    v61 = v60 + v107;
    v87 = v85 - v57;
    v89 = v99;
    if ( v61 <= 0.0 )
      v62 = v61 - 0.5;
    else
      v62 = v61 + 0.5;
    v63 = (signed __int64)v62;
    v64 = (double)v87;
    v91 = v63;
    v65 = v108 + v64;
    if ( v65 <= 0.0 )
      v66 = v65 - 0.5;
    else
      v66 = v65 + 0.5;
    v67 = (signed __int64)v66;
    v68 = v109 + v82;
    v92 = v67;
    if ( v68 <= 0.0 )
      v69 = v68 - 0.5;
    else
      v69 = v68 + 0.5;
    v70 = v64 + v110;
    LODWORD(v90) = (signed __int64)v69;
    if ( v70 <= 0.0 )
      v71 = v70 - 0.5;
    else
      v71 = v70 + 0.5;
    v72 = *(_DWORD *)(a4 + 4);
    HIDWORD(v90) = (signed __int64)v71;
    v73 = sub_1003F320(v72, (int)&v88, 4);
    if ( v73 != 1 )
    {
      v74 = 0;
      dword_109D19E4 = 0;
      dword_109D19E0 = 0;
      dword_109D19E8 = 0;
      if ( &dword_109D19E0 )
      {
        v74 = v73;
        dword_109D19E0 = v73;
        LOWORD(dword_109D19E4) = 0;
        dword_109D19E8 = 0;
      }
      if ( v74 < 0 )
        unknown_libname_4(v74);
    }
    v75 = sub_1003EEB0(*(_DWORD *)(a4 + 4), v58 - v80 / 2, v59 - v80 / 2, v58 + v80 / 2 + 1, v59 + v80 / 2 + 1);
    if ( v75 != 1 )
    {
      v35 = 0;
      dword_109D19E4 = 0;
      dword_109D19E0 = 0;
      dword_109D19E8 = 0;
      if ( &dword_109D19E0 )
      {
        v35 = v75;
        dword_109D19E0 = v75;
        LOWORD(dword_109D19E4) = 0;
        dword_109D19E8 = 0;
      }
      if ( v35 < 0 )
        goto LABEL_104;
    }
    goto LABEL_105;
  }
  v34 = sub_1003F320(*(_DWORD *)(a4 + 4), (int)&v98, 4);
  if ( v34 == 1 )
    goto LABEL_105;
  v35 = 0;
  dword_109D19E4 = 0;
  dword_109D19E0 = 0;
  dword_109D19E8 = 0;
  if ( &dword_109D19E0 )
  {
LABEL_68:
    v35 = v34;
    dword_109D19E0 = v34;
    LOWORD(dword_109D19E4) = 0;
    dword_109D19E8 = 0;
  }
LABEL_69:
  if ( v35 < 0 )
LABEL_104:
    unknown_libname_4(v35);
LABEL_105:
  v76 = sub_10031AC0((int)&v111, (int)&v93);
  return sub_10031BB0(a4, v76);
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 109D19E0: using guessed type int dword_109D19E0;
// 109D19E4: using guessed type int dword_109D19E4;
// 109D19E8: using guessed type int dword_109D19E8;

//----- (10033D30) --------------------------------------------------------
int __cdecl sub_10033D30(signed int a1, signed int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9)
{
  double v9; // st7@1
  double v10; // st7@2
  double v11; // st7@4
  double v12; // st7@5
  double v13; // st7@7
  double v14; // st7@8
  int v15; // ebx@10
  double v16; // st7@10
  double v17; // st7@11
  int v18; // edi@13
  int v19; // esi@13
  double v20; // st7@13
  double v21; // st7@14
  double v22; // st7@16
  double v23; // st7@17
  double v24; // st7@19
  double v25; // st7@20
  signed int v26; // ebx@22
  double v27; // st7@22
  double v28; // st7@23
  signed int v29; // ebp@25
  int v30; // ecx@26
  int v31; // eax@28
  int v32; // eax@34
  int v33; // edx@34
  int v34; // ebx@34
  int v35; // esi@34
  double v36; // st7@35
  double v37; // st7@35
  double v38; // st7@36
  signed __int64 v39; // rax@38
  double v40; // st7@38
  double v41; // st6@38
  double v42; // st6@39
  signed __int64 v43; // rax@41
  double v44; // st6@41
  double v45; // st6@42
  double v46; // st7@44
  double v47; // st7@45
  signed int v48; // eax@47
  signed int v49; // ecx@48
  double v50; // st7@53
  double v51; // st7@54
  signed int v52; // eax@56
  signed int v53; // ecx@57
  int v54; // eax@61
  float v56; // [sp+2Ch] [bp-1E0h]@35
  int v57; // [sp+30h] [bp-1DCh]@4
  int v58; // [sp+34h] [bp-1D8h]@7
  signed int v59; // [sp+38h] [bp-1D4h]@10
  signed int v60; // [sp+3Ch] [bp-1D0h]@13
  signed int v61; // [sp+40h] [bp-1CCh]@34
  signed int v62; // [sp+44h] [bp-1C8h]@34
  int v63; // [sp+50h] [bp-1BCh]@13
  signed int v64; // [sp+58h] [bp-1B4h]@16
  signed int v65; // [sp+5Ch] [bp-1B0h]@19
  char v66; // [sp+68h] [bp-1A4h]@25
  int v67; // [sp+6Ch] [bp-1A0h]@47
  int v68; // [sp+99h] [bp-173h]@34
  char v69; // [sp+DCh] [bp-130h]@25
  char v70; // [sp+E4h] [bp-128h]@47
  int v71; // [sp+F4h] [bp-118h]@44
  int v72; // [sp+F8h] [bp-114h]@47
  int v73; // [sp+FCh] [bp-110h]@38
  int v74; // [sp+100h] [bp-10Ch]@41
  float v75; // [sp+114h] [bp-F8h]@53
  int v76; // [sp+118h] [bp-F4h]@34
  int v77; // [sp+11Ch] [bp-F0h]@52
  float v78; // [sp+124h] [bp-E8h]@35
  float v79; // [sp+128h] [bp-E4h]@38
  float v80; // [sp+12Ch] [bp-E0h]@41
  float v81; // [sp+130h] [bp-DCh]@44
  int v82; // [sp+148h] [bp-C4h]@26
  int v83; // [sp+14Ch] [bp-C0h]@26
  char v84; // [sp+150h] [bp-BCh]@61

  v9 = (double)((a3 + a1) / 2) * *(float *)(a9 + 8);
  if ( v9 <= 0.0 )
    v10 = v9 - 0.5;
  else
    v10 = v9 + 0.5;
  v57 = (signed __int64)v10;
  v11 = (double)((a4 + a2) / 2) * *(float *)(a9 + 12);
  if ( v11 <= 0.0 )
    v12 = v11 - 0.5;
  else
    v12 = v11 + 0.5;
  v58 = (signed __int64)v12;
  v13 = (double)((a3 - a1) / 2) * *(float *)(a9 + 8);
  if ( v13 <= 0.0 )
    v14 = v13 - 0.5;
  else
    v14 = v13 + 0.5;
  v15 = (signed __int64)v14;
  v59 = (signed __int64)v14;
  v16 = (double)((a4 - a2) / 2) * *(float *)(a9 + 12);
  if ( v16 <= 0.0 )
    v17 = v16 - 0.5;
  else
    v17 = v16 + 0.5;
  v60 = (signed __int64)v17;
  v18 = v57 - v15;
  v19 = v58 - v60;
  v63 = v57 + v15;
  v20 = (double)(a5 - a1) * *(float *)(a9 + 8);
  if ( v20 <= 0.0 )
    v21 = v20 - 0.5;
  else
    v21 = v20 + 0.5;
  v64 = v18 + (unsigned __int64)(signed __int64)v21;
  v22 = (double)(a6 - a2) * *(float *)(a9 + 12);
  if ( v22 <= 0.0 )
    v23 = v22 - 0.5;
  else
    v23 = v22 + 0.5;
  v65 = v19 + (unsigned __int64)(signed __int64)v23;
  v24 = (double)(a7 - a1) * *(float *)(a9 + 8);
  if ( v24 <= 0.0 )
    v25 = v24 - 0.5;
  else
    v25 = v24 + 0.5;
  v26 = (unsigned __int64)(signed __int64)v25 + v18;
  v27 = (double)(a8 - a2) * *(float *)(a9 + 12);
  if ( v27 <= 0.0 )
    v28 = v27 - 0.5;
  else
    v28 = v27 + 0.5;
  v29 = (unsigned __int64)(signed __int64)v28 + v19;
  sub_10031AC0((int)&v66, a9);
  sub_10032950((int)&v66, a1, a2, a3, a4);
  sub_1003DC80(v18, v19, v63, v58 + v60, v64, v65, v26, v29, (void (__cdecl *)(int, int, int))sub_10032C90, (int)&v66);
  if ( !v69 )
    goto LABEL_61;
  v30 = v29 - v83;
  if ( v26 - v82 >= 0 )
  {
    if ( v30 < 0 )
    {
      v31 = 1;
      goto LABEL_34;
    }
LABEL_31:
    if ( v26 - v82 > 0 || (v31 = 3, v30 <= 0) )
      v31 = 4;
    goto LABEL_34;
  }
  if ( v30 > 0 )
    goto LABEL_31;
  v31 = 2;
LABEL_34:
  v32 = sub_10026B20(v82, v83, (double)v59, (double)v60, COERCE_DOUBLE(__PAIR__(v29, v26)), v31);
  v34 = v33;
  v35 = v32;
  v61 = v32;
  v62 = v33;
  sub_10032A90((int)&v66, (unsigned int)(unsigned __int8)v68 >> 1, v32, v33);
  if ( *(_BYTE *)(v76 + 13) != 2 )
  {
    v36 = (double)v61;
    v56 = v36;
    v37 = v36 + v78;
    if ( v37 <= 0.0 )
      v38 = v37 - 0.5;
    else
      v38 = v37 + 0.5;
    v39 = (signed __int64)v38;
    v40 = (double)v62;
    v73 = v39;
    v41 = v40 + v79;
    if ( v41 <= 0.0 )
      v42 = v41 - 0.5;
    else
      v42 = v41 + 0.5;
    v43 = (signed __int64)v42;
    v44 = v56 + v80;
    v74 = v43;
    if ( v44 <= 0.0 )
      v45 = v44 - 0.5;
    else
      v45 = v44 + 0.5;
    v46 = v40 + v81;
    v71 = (signed __int64)v45;
    if ( v46 <= 0.0 )
      v47 = v46 - 0.5;
    else
      v47 = v46 + 0.5;
    v72 = (signed __int64)v47;
    v48 = sub_1003F320(v67, (int)&v70, 4);
    if ( v48 != 1 )
    {
      v49 = 0;
      dword_109D19E4 = 0;
      dword_109D19E0 = 0;
      dword_109D19E8 = 0;
      if ( &dword_109D19E0 )
      {
        v49 = v48;
        LOWORD(dword_109D19E4) = 0;
        dword_109D19E0 = v48;
        dword_109D19E8 = 0;
      }
      if ( v49 < 0 )
        unknown_libname_4(v49);
    }
    if ( *(_BYTE *)(v77 + 21) == 1 )
    {
      v50 = (double)*(signed int *)(v77 + 20 * ((unsigned int)(unsigned __int8)v68 >> 1) + 32) * v75;
      v51 = v50 <= 0.0 ? v50 - 0.5 : v50 + 0.5;
      v52 = sub_1003EEB0(
              v67,
              v35 - (signed int)(signed __int64)v51 / 2,
              v34 - (signed int)(signed __int64)v51 / 2,
              (signed int)(signed __int64)v51 / 2 + v35 + 1,
              (signed int)(signed __int64)v51 / 2 + v34 + 1);
      if ( v52 != 1 )
      {
        v53 = 0;
        dword_109D19E4 = 0;
        dword_109D19E0 = 0;
        dword_109D19E8 = 0;
        if ( &dword_109D19E0 )
        {
          v53 = v52;
          LOWORD(dword_109D19E4) = 0;
          dword_109D19E0 = v52;
          dword_109D19E8 = 0;
        }
        if ( v53 < 0 )
          unknown_libname_4(v53);
      }
    }
  }
LABEL_61:
  v54 = sub_10031AC0((int)&v84, (int)&v66);
  return sub_10031BB0(a9, v54);
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 109D19E0: using guessed type int dword_109D19E0;
// 109D19E4: using guessed type int dword_109D19E4;
// 109D19E8: using guessed type int dword_109D19E8;

//----- (10034270) --------------------------------------------------------
signed int __userpurge sub_10034270@<eax>(int a1@<ecx>, double a2@<st0>, int a3, int a4, int a5)
{
  int v5; // esi@1
  signed int v6; // eax@1
  int v7; // eax@2
  int v8; // ecx@4
  int v9; // ecx@10
  signed int result; // eax@12
  int v11; // edi@13

  v5 = a1;
  v6 = *(_DWORD *)(a5 + 8);
  if ( v6 <= 255 )
  {
    if ( byte_109D1834 || (v8 = *(_DWORD *)(dword_109D1830 + 4 * v6)) == 0 || *(_BYTE *)(v8 + 13) != 3 )
      v7 = *(_DWORD *)(dword_109D1830 + 4 * v6);
    else
      v7 = 0;
  }
  else
  {
    v7 = 0;
  }
  if ( a3 && v7 )
  {
    *(_DWORD *)(v5 + 88) = v7;
    *(_DWORD *)(v5 + 92) = a3;
    *(_DWORD *)(v5 + 96) = *(_DWORD *)a4;
    *(_DWORD *)(v5 + 100) = *(_DWORD *)(a4 + 4);
    *(_DWORD *)(v5 + 104) = *(_DWORD *)(a4 + 8);
    *(_WORD *)(v5 + 112) = *(_WORD *)(a4 + 16);
    *(_DWORD *)(v5 + 108) = *(_DWORD *)(a4 + 12);
    v9 = v5 + 116;
    *(_DWORD *)v9 = *(_DWORD *)(a4 + 20);
    *(_DWORD *)(v9 + 4) = *(_DWORD *)(a4 + 24);
    *(_DWORD *)(v9 + 8) = *(_DWORD *)(a4 + 28);
    *(_DWORD *)(v9 + 12) = *(_DWORD *)(a4 + 32);
    *(_DWORD *)(v5 + 132) = *(_DWORD *)(a4 + 36);
    *(_DWORD *)(v5 + 136) = *(_DWORD *)(a4 + 40);
    *(_BYTE *)(v5 + 64) = 1;
    *(_BYTE *)(v5 + 65) = 0;
    *(_DWORD *)(v5 + 68) = 1065353216;
    *(_DWORD *)(v5 + 72) = 0;
    *(_BYTE *)(v5 + 66) = 0;
    *(_BYTE *)(v5 + 140) = *(_BYTE *)a5;
    memset((void *)(v5 + 4), 0, 0x20u);
    if ( *(_BYTE *)(*(_DWORD *)(v5 + 88) + 42) & 8 )
      *(_WORD *)(v5 + 112) &= 0xFEFFu;
    result = sub_100343D0(v5, a2);
    if ( result == 1 )
    {
      (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v5 + 88) + 4))(
        *(_DWORD *)(v5 + 108),
        *(_DWORD *)(*(_DWORD *)(v5 + 92) + 408));
      v11 = *(_DWORD *)(v5 + 88);
      *(_DWORD *)(v5 + 76) = 0;
      *(_DWORD *)(v5 + 80) = (signed __int64)((double)*(signed int *)(v11 + 16) * a2 * 32.0 + 0.5);
      *(_DWORD *)(v5 + 84) = (signed __int64)((double)*(signed int *)(v11 + 20) * a2 * 32.0 + 0.5);
      result = 1;
    }
  }
  else
  {
    result = -28;
  }
  return result;
}
// 109D1830: using guessed type int dword_109D1830;
// 109D1834: using guessed type char byte_109D1834;

//----- (100343D0) --------------------------------------------------------
signed int __usercall sub_100343D0@<eax>(int a1@<ecx>, double a2@<st0>)
{
  int v2; // esi@1
  int v3; // eax@1
  int v4; // edi@1
  int v5; // ST10_4@1
  float v6; // ST20_4@3
  signed int result; // eax@2

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 88);
  v4 = *(_DWORD *)(v3 + 52);
  sub_1001D750(*(_DWORD **)(v3 + 52), *(_DWORD *)(v3 + 48));
  v5 = *(_DWORD *)(v2 + 92);
  *(_DWORD *)(v2 + 60) = v4;
  sub_1001DF40(v4, v5, v5);
  (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v2 + 88) + 4))(
    *(_DWORD *)(v2 + 108),
    *(_DWORD *)(*(_DWORD *)(v2 + 92) + 408));
  if ( a2 == 0.0 )
  {
    result = -28;
  }
  else
  {
    v6 = a2;
    (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v2 + 60) + 28))(LODWORD(v6), LODWORD(v6));
    (*(void (__stdcall **)(int, _DWORD, _DWORD))(**(_DWORD **)(v2 + 60) + 68))(v2 + 140, 0, 0);
    (*(void (__stdcall **)(int, _DWORD, _DWORD))(**(_DWORD **)(v2 + 60) + 72))(v2 + 140, 0, 0);
    (*(void (__stdcall **)(int, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))(**(_DWORD **)(v2 + 60) + 76))(
      v2 + 140,
      0,
      0,
      0,
      0,
      0);
    result = 1;
  }
  return result;
}

//----- (10034470) --------------------------------------------------------
int __thiscall sub_10034470(int this, int a2, int a3)
{
  int v3; // esi@1
  double v4; // st7@2
  int result; // eax@6
  int v6; // ecx@7
  float v7; // [sp+24h] [bp-10h]@1
  float v8; // [sp+24h] [bp-10h]@2
  float v9; // [sp+28h] [bp-Ch]@2
  int v10; // [sp+2Ch] [bp-8h]@1
  int v11; // [sp+30h] [bp-4h]@1

  v3 = this;
  v11 = *(_DWORD *)(this + 48) - *(_DWORD *)(this + 40);
  v10 = *(_DWORD *)(this + 44) - *(_DWORD *)(this + 36);
  v7 = sqrt((double)v10 * (double)v10 + (double)v11 * (double)v11);
  if ( v7 == 0.0 )
  {
    v4 = 0.0;
    v8 = 0.0;
    v9 = 0.0;
  }
  else
  {
    v4 = (double)v10 / v7;
    v9 = v4;
    v8 = (double)v11 / v7;
  }
  if ( v4 != *(float *)(this + 68) || (v4 = v8, v8 != *(float *)(this + 72)) )
  {
    sub_100343D0(this, v4);
    *(float *)(v3 + 72) = v8;
    v6 = *(_DWORD *)(v3 + 60);
    *(float *)(v3 + 68) = v9;
    result = (*(int (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)v6 + 24))(
               0,
               0,
               *(unsigned __int64 *)&v9,
               *(unsigned __int64 *)&v9 >> 32,
               *(unsigned __int64 *)&v8,
               *(unsigned __int64 *)&v8 >> 32,
               0,
               0);
    *(_DWORD *)(v3 + 28) = 0;
    *(_DWORD *)(v3 + 32) = 0;
    *(_BYTE *)(v3 + 65) = 1;
  }
  else
  {
    result = (*(int (__stdcall **)(int, int))(**(_DWORD **)(this + 60) + 20))(
               -*(_DWORD *)(this + 28),
               -*(_DWORD *)(this + 32));
    *(_BYTE *)(v3 + 65) = 1;
    *(_DWORD *)(v3 + 28) = 0;
    *(_DWORD *)(v3 + 32) = 0;
  }
  return result;
}

//----- (10034580) --------------------------------------------------------
int __thiscall sub_10034580(int this, int a2, int a3)
{
  int v3; // esi@1
  int v4; // ebx@1
  __int64 v5; // rax@1
  signed int v6; // ecx@1
  int v7; // eax@1
  double v8; // st7@2
  double v9; // st7@4
  int result; // eax@6
  int v11; // ecx@7
  int v12; // [sp+24h] [bp-8h]@1
  float v13; // [sp+28h] [bp-4h]@2
  float v14; // [sp+30h] [bp+4h]@1
  float v15; // [sp+30h] [bp+4h]@4

  v3 = this;
  v4 = *(_DWORD *)(this + 148);
  v5 = *(_DWORD *)(this + 144) + *(_DWORD *)(this + 152);
  v6 = v5 - HIDWORD(v5);
  v7 = (v4 + *(_DWORD *)(v3 + 156)) / 2;
  v12 = a2 - (v6 >> 1);
  v14 = sqrt((double)v12 * (double)v12 + (double)(a3 - v7) * (double)(a3 - v7));
  if ( v14 == 0.0 )
  {
    v8 = 0.0;
    v13 = 0.0;
  }
  else
  {
    v8 = (double)v12 / v14;
    v13 = (double)(a3 - v7) / v14;
  }
  v15 = -v8;
  v9 = v13;
  if ( v13 != *(float *)(v3 + 68) || (v9 = v15, v15 != *(float *)(v3 + 72)) )
  {
    sub_100343D0(v3, v9);
    *(float *)(v3 + 72) = v15;
    v11 = *(_DWORD *)(v3 + 60);
    *(float *)(v3 + 68) = v13;
    result = (*(int (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)v11 + 24))(
               0,
               0,
               *(unsigned __int64 *)&v13,
               *(unsigned __int64 *)&v13 >> 32,
               *(unsigned __int64 *)&v15,
               *(unsigned __int64 *)&v15 >> 32,
               0,
               0);
    *(_DWORD *)(v3 + 28) = 0;
    *(_DWORD *)(v3 + 32) = 0;
    *(_BYTE *)(v3 + 65) = 1;
  }
  else
  {
    result = (*(int (__stdcall **)(int, int))(**(_DWORD **)(v3 + 60) + 20))(
               -*(_DWORD *)(v3 + 28),
               -*(_DWORD *)(v3 + 32));
    *(_BYTE *)(v3 + 65) = 1;
    *(_DWORD *)(v3 + 28) = 0;
    *(_DWORD *)(v3 + 32) = 0;
  }
  return result;
}

//----- (100346C0) --------------------------------------------------------
unsigned int __cdecl sub_100346C0(double a1, int a2)
{
  int v2; // edi@2
  int v3; // ebx@2
  void (__thiscall **v4)(_DWORD, _DWORD, _DWORD); // eax@2
  signed int v5; // eax@5
  unsigned int v6; // ecx@7
  unsigned int result; // eax@7
  int v8; // ecx@8
  int v9; // eax@8
  int v10; // edx@8
  int v11; // eax@8
  signed int v12; // edi@9
  double v13; // st7@9
  double v14; // st7@10
  signed __int64 v15; // rax@12
  double v16; // st7@12
  double v17; // st7@12
  double v18; // st7@13
  int v19; // edx@15
  int v20; // ecx@15
  int v21; // eax@15
  int v22; // ecx@16
  double v23; // st7@20
  int v24; // ebx@20
  int v25; // edi@20
  int *v26; // edx@20
  signed int v27; // ecx@21
  int v28; // eax@23
  double v29; // [sp+20h] [bp-60h]@31
  double v30; // [sp+28h] [bp-58h]@2
  int v31; // [sp+3Ch] [bp-44h]@20
  unsigned __int64 v32; // [sp+48h] [bp-38h]@20
  char v33; // [sp+50h] [bp-30h]@9
  int v34; // [sp+54h] [bp-2Ch]@9
  int v35; // [sp+5Ch] [bp-24h]@9
  unsigned __int64 v36; // [sp+60h] [bp-20h]@9
  int v37; // [sp+68h] [bp-18h]@12
  int v38; // [sp+6Ch] [bp-14h]@15
  int v39; // [sp+70h] [bp-10h]@16
  int v40; // [sp+74h] [bp-Ch]@16
  int v41; // [sp+78h] [bp-8h]@16
  int v42; // [sp+7Ch] [bp-4h]@20

  if ( *(_BYTE *)(a2 + 64) )
  {
    v2 = HIDWORD(a1);
    v3 = LODWORD(a1);
    v4 = *(void (__thiscall ***)(_DWORD, _DWORD, _DWORD))a2;
    v30 = a1;
    *(_DWORD *)(a2 + 76) = 0;
    *(_BYTE *)(a2 + 64) = 0;
    *(double *)(a2 + 20) = a1;
    *(double *)(a2 + 52) = a1;
    (*v4)(a2, LODWORD(v30), HIDWORD(v30));
  }
  else
  {
    v2 = HIDWORD(a1);
    v3 = LODWORD(a1);
  }
  if ( *(_DWORD *)(a2 + 52) == v3 || (v5 = 45, *(_DWORD *)(a2 + 56) == v2) )
    v5 = 32;
  v6 = *(_DWORD *)(a2 + 80);
  result = v5 + *(_DWORD *)(a2 + 76);
  *(_DWORD *)(a2 + 76) = result;
  if ( result >= v6 )
  {
    v8 = *(_DWORD *)(a2 + 60);
    v9 = v2 - *(_DWORD *)(a2 + 32);
    *(_DWORD *)(a2 + 20) = v3;
    *(_DWORD *)(a2 + 24) = v2;
    (*(void (__stdcall **)(int, int))(*(_DWORD *)v8 + 20))(v3 - *(_DWORD *)(a2 + 28), v9);
    v10 = *(_DWORD *)(a2 + 24);
    v11 = *(_DWORD *)(a2 + 88);
    *(_DWORD *)(a2 + 28) = *(_DWORD *)(a2 + 20);
    *(_DWORD *)(a2 + 32) = v10;
    if ( *(_BYTE *)(v11 + 42) & 8 )
    {
      (*(void (__stdcall **)(char *, _DWORD, _DWORD, _DWORD, signed int, signed int))(**(_DWORD **)(v11 + 48) + 16))(
        &v33,
        0,
        0,
        0,
        1065353216,
        1065353216);
      v12 = v35 - v34;
      v13 = (double)*(signed int *)(a2 + 44) * *(float *)(a2 + 100);
      v36 = __PAIR__(HIDWORD(a1), v3);
      if ( v13 <= 0.0 )
        v14 = v13 - 0.5;
      else
        v14 = v13 + 0.5;
      v15 = (signed __int64)v14;
      v16 = (double)*(signed int *)(a2 + 48);
      v37 = v15;
      v17 = v16 * *(float *)(a2 + 104);
      if ( v17 <= 0.0 )
        v18 = v17 - 0.5;
      else
        v18 = v17 + 0.5;
      v19 = *(_DWORD *)(a2 + 88);
      v20 = (signed __int64)v18;
      v38 = (signed __int64)v18;
      v21 = *(_BYTE *)(v19 + 40) & 0xF;
      if ( *(_BYTE *)(v19 + 40) & 0xF )
      {
        v39 = LODWORD(a1);
        if ( v21 == 2 )
        {
          v41 = v37;
          v40 = HIDWORD(a1) - v12;
          v22 = v20 - v12;
        }
        else
        {
          v22 = v20 - v12 / 2;
          v40 = v12 / 2 + HIDWORD(a1);
          v41 = v37;
        }
      }
      else
      {
        v39 = LODWORD(a1);
        v22 = v12 + v20;
        v40 = v12 + HIDWORD(a1);
        v41 = v37;
      }
      v23 = *(float *)(a2 + 72);
      v42 = v22;
      sub_10026A20(v3, SHIDWORD(v36), (int)&v39, *(float *)(a2 + 68), v23);
      sub_10026A20(v37, v38, (int)&v41, *(float *)(a2 + 68), *(float *)(a2 + 72));
      v25 = HIDWORD(v36);
      v24 = v36;
      v32 = v36;
      v26 = &v38;
      v31 = 3;
      do
      {
        v27 = *(v26 - 1);
        if ( v27 < v24 )
          v24 = *(v26 - 1);
        v28 = *v26;
        if ( *v26 < v25 )
          v25 = *v26;
        if ( v27 > (signed int)v32 )
          LODWORD(v32) = *(v26 - 1);
        if ( v28 > SHIDWORD(v32) )
          HIDWORD(v32) = v28;
        v26 += 2;
        --v31;
      }
      while ( v31 );
      sub_100359E0(a2, v24, v25, v32, SHIDWORD(v32));
      v2 = HIDWORD(a1);
      v3 = LODWORD(a1);
    }
    else
    {
      (*(void (__stdcall **)(double *, _DWORD, _DWORD, _DWORD, signed int, signed int))(**(_DWORD **)(a2 + 60) + 16))(
        &v29,
        0,
        0,
        0,
        1065353216,
        1065353216);
      sub_100359E0(a2, SLODWORD(v29), SHIDWORD(v29), SLODWORD(v30), SHIDWORD(v30));
    }
    result = *(_DWORD *)(a2 + 84);
    *(_DWORD *)(a2 + 80) += result;
  }
  *(_DWORD *)(a2 + 56) = v2;
  *(_DWORD *)(a2 + 52) = v3;
  return result;
}

//----- (10034960) --------------------------------------------------------
unsigned int __cdecl sub_10034960(int a1, int a2, int a3)
{
  signed int v3; // eax@4
  unsigned int v4; // ecx@6
  unsigned int result; // eax@6
  void (__thiscall **v6)(_DWORD); // eax@7
  int *v7; // ecx@7
  int v8; // ebx@7
  int v9; // edx@7
  int v10; // edx@7
  int v11; // ecx@7
  int v12; // [sp-20h] [bp-30h]@7
  int v13; // [sp-1Ch] [bp-2Ch]@7
  int v14; // [sp-18h] [bp-28h]@7
  int v15; // [sp-14h] [bp-24h]@7
  int v16; // [sp-10h] [bp-20h]@7
  int v17; // [sp-Ch] [bp-1Ch]@7
  int v18; // [sp-8h] [bp-18h]@7
  int v19; // [sp-4h] [bp-14h]@7

  if ( *(_BYTE *)(a3 + 64) )
  {
    *(_DWORD *)(a3 + 76) = 0;
    *(_BYTE *)(a3 + 64) = 0;
    *(_DWORD *)(a3 + 20) = a1;
    *(_DWORD *)(a3 + 24) = a2;
    *(_DWORD *)(a3 + 52) = a1;
    *(_DWORD *)(a3 + 56) = a2;
  }
  if ( *(_DWORD *)(a3 + 52) == a1 || (v3 = 45, *(_DWORD *)(a3 + 56) == a2) )
    v3 = 32;
  v4 = *(_DWORD *)(a3 + 80);
  result = v3 + *(_DWORD *)(a3 + 76);
  *(_DWORD *)(a3 + 76) = result;
  if ( result >= v4 )
  {
    v6 = *(void (__thiscall ***)(_DWORD))a3;
    v19 = a2;
    v18 = a1;
    *(_DWORD *)(a3 + 20) = a1;
    *(_DWORD *)(a3 + 24) = a2;
    (*v6)(a3);
    v7 = *(int **)(a3 + 60);
    v8 = *(_DWORD *)(a3 + 28);
    v17 = *(_DWORD *)(a3 + 24) - *(_DWORD *)(a3 + 32);
    v9 = *v7;
    v16 = *(_DWORD *)(a3 + 20) - v8;
    (*(void (**)(void))(v9 + 20))();
    v10 = *(_DWORD *)(a3 + 24);
    *(_DWORD *)(a3 + 28) = *(_DWORD *)(a3 + 20);
    v11 = *(_DWORD *)(a3 + 60);
    *(_DWORD *)(a3 + 32) = v10;
    (*(void (__stdcall **)(int *, _DWORD, _DWORD, _DWORD, signed int, signed int, int, int, int, int))(*(_DWORD *)v11 + 16))(
      &v12,
      0,
      0,
      0,
      1065353216,
      1065353216,
      v12,
      v13,
      v14,
      v15);
    sub_100359E0(a3, v16, v17, v18, v19);
    result = *(_DWORD *)(a3 + 84);
    *(_DWORD *)(a3 + 80) += result;
  }
  *(_DWORD *)(a3 + 56) = a2;
  *(_DWORD *)(a3 + 52) = a1;
  return result;
}

//----- (10034A30) --------------------------------------------------------
char __cdecl sub_10034A30(int *a1, signed int a2, int a3, signed int a4, int a5)
{
  double v5; // st7@1
  int v6; // esi@1
  double v7; // st7@1
  double v8; // st7@2
  signed __int64 v9; // rax@4
  double v10; // st7@4
  double v11; // st7@4
  double v12; // st7@5
  signed __int64 v13; // rax@7
  double v14; // st7@7
  int v15; // ebp@7
  double v16; // st7@7
  double v17; // st7@8
  signed __int64 v18; // rax@10
  double v19; // st7@10
  int v20; // edi@10
  double v21; // st7@10
  double v22; // st7@11
  int v23; // ecx@13
  signed __int64 v24; // rax@13
  int v25; // ecx@13
  char v26; // cl@13
  int v27; // eax@14
  void (__thiscall **v28)(_DWORD); // edx@15
  int *v29; // ecx@15
  int v30; // edx@15
  int v31; // edi@15
  int v32; // ecx@15
  int v33; // ecx@17
  void (__thiscall **v34)(_DWORD); // edx@18
  int *v35; // ecx@18
  int v36; // edx@18
  int v37; // edi@18
  int v38; // ecx@18
  int v39; // edi@20
  double v40; // st7@21
  double v41; // st7@22
  signed __int64 v42; // rax@24
  double v43; // st7@24
  double v44; // st7@25
  signed __int64 v45; // rax@27
  double v46; // st7@27
  double v47; // st7@28
  signed __int64 v48; // rax@30
  double v49; // st7@30
  double v50; // st7@31
  int v51; // ecx@33
  double v52; // st7@33
  int v53; // edi@33
  signed int v54; // edi@33
  signed int v55; // eax@34
  int v56; // eax@38
  int v57; // ecx@39
  int v58; // ecx@44
  int v60; // [sp-30h] [bp-7Ch]@15
  int v61; // [sp-2Ch] [bp-78h]@15
  int v62; // [sp-28h] [bp-74h]@15
  int v63; // [sp-24h] [bp-70h]@15
  int v64; // [sp-20h] [bp-6Ch]@15
  int v65; // [sp-1Ch] [bp-68h]@15
  void *v66; // [sp-18h] [bp-64h]@15
  int v67; // [sp-14h] [bp-60h]@15
  float v68; // [sp+0h] [bp-4Ch]@1
  float v69; // [sp+4h] [bp-48h]@4
  float v70; // [sp+8h] [bp-44h]@7
  float v71; // [sp+Ch] [bp-40h]@10
  char v72; // [sp+10h] [bp-3Ch]@33
  int v73; // [sp+14h] [bp-38h]@33
  int v74; // [sp+18h] [bp-34h]@33
  char v75; // [sp+1Ch] [bp-30h]@33
  int (**v76)(); // [sp+20h] [bp-2Ch]@33
  int v77; // [sp+2Ch] [bp-20h]@33
  char v78; // [sp+30h] [bp-1Ch]@33
  int v79; // [sp+48h] [bp-4h]@33

  v5 = (double)(signed int)a1;
  v6 = a5;
  v68 = v5;
  v7 = v5 * *(float *)(a5 + 100);
  *(_BYTE *)(a5 + 65) = 1;
  if ( v7 <= 0.0 )
    v8 = v7 - 0.5;
  else
    v8 = v7 + 0.5;
  v9 = (signed __int64)v8;
  v10 = (double)a2;
  a5 = v9;
  *(_DWORD *)(v6 + 4) = v9;
  v69 = v10;
  v11 = v10 * *(float *)(v6 + 104);
  if ( v11 <= 0.0 )
    v12 = v11 - 0.5;
  else
    v12 = v11 + 0.5;
  v13 = (signed __int64)v12;
  v14 = (double)a3;
  v15 = v13;
  *(_DWORD *)(v6 + 8) = v13;
  v70 = v14;
  v16 = v14 * *(float *)(v6 + 100);
  if ( v16 <= 0.0 )
    v17 = v16 - 0.5;
  else
    v17 = v16 + 0.5;
  v18 = (signed __int64)v17;
  v19 = (double)a4;
  v20 = v18;
  *(_DWORD *)(v6 + 12) = v18;
  v71 = v19;
  v21 = v19 * *(float *)(v6 + 104);
  if ( v21 <= 0.0 )
    v22 = v21 - 0.5;
  else
    v22 = v21 + 0.5;
  v24 = (signed __int64)v22;
  HIDWORD(v24) = a2;
  *(_DWORD *)(v6 + 36) = a1;
  v23 = a3;
  *(_DWORD *)(v6 + 40) = HIDWORD(v24);
  HIDWORD(v24) = a4;
  *(_DWORD *)(v6 + 44) = v23;
  v25 = *(_DWORD *)(v6 + 88);
  *(_DWORD *)(v6 + 16) = (signed __int64)v22;
  *(_DWORD *)(v6 + 48) = HIDWORD(v24);
  v26 = *(_BYTE *)(v25 + 41);
  if ( v26 == 1 )
  {
    v27 = *(_DWORD *)(v6 + 8);
    *(_DWORD *)(v6 + 12) = *(_DWORD *)(v6 + 4);
    *(_DWORD *)(v6 + 16) = v27;
    if ( *(_BYTE *)(v6 + 66) )
    {
      v28 = *(void (__thiscall ***)(_DWORD))v6;
      v67 = 0;
      v66 = 0;
      (*v28)(v6);
      v29 = *(int **)(v6 + 60);
      v30 = *(_DWORD *)(v6 + 4);
      v65 = *(_DWORD *)(v6 + 8);
      v31 = *v29;
      v64 = v30;
      (*(void (**)(void))(v31 + 20))();
      v32 = *(_DWORD *)(v6 + 60);
      a1 = &v60;
      (*(void (__stdcall **)(int *, _DWORD, _DWORD, _DWORD, signed int, signed int, int, int, int, int))(*(_DWORD *)v32 + 16))(
        &v60,
        0,
        0,
        0,
        1065353216,
        1065353216,
        v60,
        v61,
        v62,
        v63);
      LOBYTE(v27) = sub_100359E0(v6, v64, v65, (int)v66, v67);
    }
  }
  else if ( v26 == 2 )
  {
    v33 = *(_DWORD *)(v6 + 16);
    *(_DWORD *)(v6 + 4) = *(_DWORD *)(v6 + 12);
    LOBYTE(v27) = *(_BYTE *)(v6 + 66);
    *(_DWORD *)(v6 + 8) = v33;
    if ( (_BYTE)v27 )
    {
      v34 = *(void (__thiscall ***)(_DWORD))v6;
      v67 = 0;
      v66 = 0;
      (*v34)(v6);
      v35 = *(int **)(v6 + 60);
      v36 = *(_DWORD *)(v6 + 12);
      v65 = *(_DWORD *)(v6 + 16);
      v37 = *v35;
      v64 = v36;
      (*(void (**)(void))(v37 + 20))();
      v38 = *(_DWORD *)(v6 + 60);
      a1 = &v60;
      (*(void (__stdcall **)(int *, _DWORD, _DWORD, _DWORD, signed int, signed int, int, int, int, int))(*(_DWORD *)v38 + 16))(
        &v60,
        0,
        0,
        0,
        1065353216,
        1065353216,
        v60,
        v61,
        v62,
        v63);
      LOBYTE(v27) = sub_100359E0(v6, v64, v65, (int)v66, v67);
    }
  }
  else
  {
    LOBYTE(v27) = sub_1003CAC0(a5, v15, v20, v24, (void (__cdecl *)(int, int, int))sub_100346C0, v6);
  }
  v39 = *(_DWORD *)(v6 + 88);
  if ( *(_BYTE *)(v39 + 42) & 1 )
  {
    v40 = v68 * *(float *)(v6 + 100);
    if ( v40 <= 0.0 )
      v41 = v40 - 0.5;
    else
      v41 = v40 + 0.5;
    v42 = (signed __int64)v41;
    v43 = v69 * *(float *)(v6 + 104);
    *(_DWORD *)(v6 + 4) = v42;
    if ( v43 <= 0.0 )
      v44 = v43 - 0.5;
    else
      v44 = v43 + 0.5;
    v45 = (signed __int64)v44;
    v46 = v70 * *(float *)(v6 + 100);
    *(_DWORD *)(v6 + 8) = v45;
    if ( v46 <= 0.0 )
      v47 = v46 - 0.5;
    else
      v47 = v46 + 0.5;
    v48 = (signed __int64)v47;
    v49 = v71 * *(float *)(v6 + 104);
    *(_DWORD *)(v6 + 12) = v48;
    if ( v49 <= 0.0 )
      v50 = v49 - 0.5;
    else
      v50 = v49 + 0.5;
    v51 = *(_DWORD *)(v6 + 92);
    *(_DWORD *)(v6 + 16) = (signed __int64)v50;
    v52 = (double)*(signed int *)(v39 + 44) * *(float *)(v6 + 108) / *(float *)(v51 + 408) + 0.5;
    LOBYTE(v51) = *(_BYTE *)(v6 + 140);
    v73 = (signed __int64)v52;
    v72 = v51;
    v74 = 0;
    v75 = 0;
    sub_1003DEC0();
    v53 = dword_109D183C;
    sub_100156C0((int)&v76);
    v79 = 0;
    sub_10015540((int)&v78);
    v76 = &off_1008F66C;
    sub_10015A40((int)&v78, (int)&v72);
    v77 = v53;
    v79 = 1;
    sub_100158B0((int)&dword_109D17F0, (int)&v76);
    v79 = -1;
    sub_100156E0((int)&v76);
    v54 = sub_1003E110();
    if ( v54 != 1 )
    {
      v67 = dword_109D17F8;
      dword_109D17F0 = 0;
      v66 = (void *)*sub_10015560((int)&unk_109D17F4, &a1);
      sub_100155A0(&unk_109D17F4, (int)&a3, v66, v67);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v55 = 0;
      dword_109D19F4 = 0;
      dword_109D19F0 = 0;
      dword_109D19F8 = 0;
      if ( &dword_109D19F0 )
      {
        v55 = v54;
        LOWORD(dword_109D19F4) = 0;
        dword_109D19F0 = v54;
        dword_109D19F8 = 0;
      }
      if ( v55 < 0 )
        unknown_libname_4(v55);
    }
    v56 = sub_1003FB80(*(_DWORD *)(v6 + 96), *(_DWORD *)(v6 + 4), *(_DWORD *)(v6 + 8));
    if ( v56 != 1 )
    {
      v57 = 0;
      dword_109D19F4 = 0;
      dword_109D19F0 = 0;
      dword_109D19F8 = 0;
      if ( &dword_109D19F0 )
      {
        v57 = v56;
        LOWORD(dword_109D19F4) = 0;
        dword_109D19F0 = v56;
        dword_109D19F8 = 0;
      }
      if ( v57 < 0 )
        unknown_libname_4(v57);
    }
    v27 = sub_1003F860(*(_DWORD *)(v6 + 96), *(_DWORD *)(v6 + 12), *(_DWORD *)(v6 + 16));
    if ( v27 != 1 )
    {
      v58 = 0;
      dword_109D19F4 = 0;
      dword_109D19F0 = 0;
      dword_109D19F8 = 0;
      if ( &dword_109D19F0 )
      {
        v58 = v27;
        LOWORD(dword_109D19F4) = 0;
        dword_109D19F0 = v27;
        dword_109D19F8 = 0;
      }
      if ( v58 < 0 )
        LOBYTE(v27) = unknown_libname_4(v58);
    }
  }
  return v27;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 1008F66C: using guessed type int (*off_1008F66C)();
// 109D17F0: using guessed type int dword_109D17F0;
// 109D1804: using guessed type int dword_109D1804;
// 109D1818: using guessed type int dword_109D1818;
// 109D183C: using guessed type int dword_109D183C;
// 109D19F0: using guessed type int dword_109D19F0;
// 109D19F4: using guessed type int dword_109D19F4;
// 109D19F8: using guessed type int dword_109D19F8;

//----- (10034EB0) --------------------------------------------------------
void __cdecl sub_10034EB0(int a1, int a2, int a3, int a4, signed int a5, signed int a6, signed int a7, signed int a8, int a9)
{
  double v9; // st7@1
  double v10; // st7@2
  double v11; // st7@4
  double v12; // st7@5
  double v13; // st7@7
  double v14; // st7@8
  int v15; // ebp@10
  double v16; // st7@10
  double v17; // st7@11
  int v18; // edx@13
  int v19; // ebx@13
  int v20; // edi@13
  int v21; // ebx@13
  double v22; // st7@13
  double v23; // st7@13
  double v24; // st7@14
  double v25; // st7@16
  double v26; // st7@17
  double v27; // st7@19
  double v28; // st7@20
  void *v29; // ebp@22
  double v30; // st7@22
  double v31; // st7@23
  int v32; // ecx@25
  int v33; // edx@25
  int v34; // ecx@25
  char v35; // cl@25
  int v36; // eax@26
  void (__thiscall **v37)(_DWORD); // edx@27
  int *v38; // ecx@27
  int v39; // edx@27
  int v40; // edi@27
  int v41; // ecx@27
  int v42; // edx@29
  char v43; // cl@29
  void (__thiscall **v44)(_DWORD); // edx@30
  int *v45; // ecx@30
  int v46; // edx@30
  int v47; // edi@30
  int v48; // ecx@30
  int v49; // edi@32
  double v50; // st7@33
  double v51; // st7@34
  double v52; // st7@36
  double v53; // st7@37
  double v54; // st7@39
  double v55; // st7@40
  double v56; // st7@42
  double v57; // st7@43
  int v58; // edx@45
  char v59; // cl@45
  int v60; // edi@45
  int v61; // edi@45
  int v62; // eax@46
  int v63; // ecx@50
  __int64 v64; // rax@51
  int v65; // ebx@52
  int v66; // ebp@52
  int v67; // ebx@54
  signed int v68; // ebx@54
  signed int v69; // eax@55
  signed int v70; // ecx@59
  signed int v71; // edx@59
  signed int v72; // eax@59
  signed int v73; // eax@59
  int v74; // eax@62
  int v75; // eax@62
  int v76; // ecx@62
  unsigned int v77; // edi@70
  unsigned int v78; // ecx@70
  int v79; // eax@71
  int v80; // ecx@71
  int v81; // ecx@72
  int v82; // edi@72
  double v83; // st7@77
  double v84; // st7@77
  unsigned __int8 v86; // c0@77
  unsigned __int8 v87; // c3@77
  double v88; // st6@78
  double v89; // st7@81
  signed __int64 v90; // rax@83
  int v91; // ecx@91
  int v92; // eax@91
  int v93; // ecx@91
  int v94; // edi@99
  int v95; // ecx@99
  int v96; // eax@101
  int v97; // ecx@102
  int v98; // edi@102
  double v99; // st7@107
  unsigned __int8 v101; // c0@107
  unsigned __int8 v102; // c3@107
  double v103; // st6@108
  double v104; // st7@111
  signed __int64 v105; // rax@113
  void *v106; // ecx@119
  int v107; // edx@119
  int v108; // eax@119
  int v109; // ecx@119
  int v110; // edx@119
  signed int v111; // eax@119
  signed int v112; // ecx@119
  signed int v113; // ecx@121
  int v114; // [sp-20h] [bp-C8h]@27
  int v115; // [sp-1Ch] [bp-C4h]@27
  int v116; // [sp-18h] [bp-C0h]@27
  signed int v117; // [sp-14h] [bp-BCh]@27
  int v118; // [sp-10h] [bp-B8h]@27
  int v119; // [sp-Ch] [bp-B4h]@27
  void *v120; // [sp-8h] [bp-B0h]@27
  int v121; // [sp-4h] [bp-ACh]@27
  int *v122; // [sp+4h] [bp-A4h]@27
  int v123; // [sp+10h] [bp-98h]@13
  int *v124; // [sp+14h] [bp-94h]@46
  int v125; // [sp+18h] [bp-90h]@19
  int v126[2]; // [sp+1Ch] [bp-8Ch]@16
  double v127; // [sp+24h] [bp-84h]@4
  char v128; // [sp+34h] [bp-74h]@45
  int v129; // [sp+38h] [bp-70h]@45
  int v130; // [sp+3Ch] [bp-6Ch]@45
  char v131; // [sp+40h] [bp-68h]@45
  char v132; // [sp+44h] [bp-64h]@54
  int v133; // [sp+48h] [bp-60h]@54
  int v134; // [sp+4Ch] [bp-5Ch]@54
  int v135; // [sp+50h] [bp-58h]@54
  int v136; // [sp+54h] [bp-54h]@54
  int v137; // [sp+58h] [bp-50h]@54
  int v138; // [sp+5Ch] [bp-4Ch]@54
  int v139; // [sp+60h] [bp-48h]@54
  int v140; // [sp+64h] [bp-44h]@54
  int (**v141)(); // [sp+68h] [bp-40h]@45
  int v142; // [sp+74h] [bp-34h]@45
  char v143; // [sp+78h] [bp-30h]@45
  int v144; // [sp+A4h] [bp-4h]@45

  v9 = (double)((a1 + a3) / 2) * *(float *)(a9 + 100);
  if ( v9 <= 0.0 )
    v10 = v9 - 0.5;
  else
    v10 = v9 + 0.5;
  LODWORD(v127) = (signed __int64)v10;
  v11 = (double)((a2 + a4) / 2) * *(float *)(a9 + 104);
  if ( v11 <= 0.0 )
    v12 = v11 - 0.5;
  else
    v12 = v11 + 0.5;
  HIDWORD(v127) = (signed __int64)v12;
  v13 = (double)((a3 - a1) / 2) * *(float *)(a9 + 100);
  if ( v13 <= 0.0 )
    v14 = v13 - 0.5;
  else
    v14 = v13 + 0.5;
  v15 = (signed __int64)v14;
  v16 = (double)((a4 - a2) / 2) * *(float *)(a9 + 104);
  if ( v16 <= 0.0 )
    v17 = v16 - 0.5;
  else
    v17 = v16 + 0.5;
  v18 = LODWORD(v127);
  v19 = LODWORD(v127);
  v20 = HIDWORD(v127) - (unsigned __int64)(signed __int64)v17;
  *(_DWORD *)(a9 + 156) = HIDWORD(v127) + (unsigned __int64)(signed __int64)v17;
  v21 = v19 - v15;
  v123 = a5 - a1;
  *(_DWORD *)(a9 + 144) = v21;
  v22 = (double)v123;
  *(_DWORD *)(a9 + 148) = v20;
  *(_DWORD *)(a9 + 152) = v18 + v15;
  v23 = v22 * *(float *)(a9 + 100);
  if ( v23 <= 0.0 )
    v24 = v23 - 0.5;
  else
    v24 = v23 + 0.5;
  v126[0] = v21 + (unsigned __int64)(signed __int64)v24;
  *(_DWORD *)(a9 + 4) = v126[0];
  v25 = (double)(a6 - a2) * *(float *)(a9 + 104);
  if ( v25 <= 0.0 )
    v26 = v25 - 0.5;
  else
    v26 = v25 + 0.5;
  v125 = v20 + (unsigned __int64)(signed __int64)v26;
  *(_DWORD *)(a9 + 8) = v125;
  v27 = (double)(a7 - a1) * *(float *)(a9 + 100);
  if ( v27 <= 0.0 )
    v28 = v27 - 0.5;
  else
    v28 = v27 + 0.5;
  v29 = (void *)((unsigned __int64)(signed __int64)v28 + v21);
  *(_DWORD *)(a9 + 12) = v29;
  v123 = a8 - a2;
  v30 = (double)(a8 - a2) * *(float *)(a9 + 104);
  if ( v30 <= 0.0 )
    v31 = v30 - 0.5;
  else
    v31 = v30 + 0.5;
  *(_DWORD *)(a9 + 36) = a5;
  *(_DWORD *)(a9 + 40) = a6;
  v32 = *(_DWORD *)(a9 + 4);
  *(_DWORD *)(a9 + 44) = a7;
  v33 = *(_DWORD *)(a9 + 8);
  *(_DWORD *)(a9 + 52) = v32;
  v34 = *(_DWORD *)(a9 + 88);
  *(_BYTE *)(a9 + 65) = 1;
  *(_DWORD *)(a9 + 16) = v20 + (unsigned __int64)(signed __int64)v31;
  *(_DWORD *)(a9 + 48) = a8;
  *(_DWORD *)(a9 + 56) = v33;
  v35 = *(_BYTE *)(v34 + 41);
  if ( v35 == 1 )
  {
    v36 = *(_DWORD *)(a9 + 8);
    *(_DWORD *)(a9 + 12) = *(_DWORD *)(a9 + 4);
    *(_DWORD *)(a9 + 16) = v36;
    if ( *(_BYTE *)(a9 + 66) )
    {
      v37 = *(void (__thiscall ***)(_DWORD))a9;
      v121 = v125;
      v120 = (void *)v126[0];
      (*v37)(a9);
      v38 = *(int **)(a9 + 60);
      v39 = *(_DWORD *)(a9 + 4);
      v119 = *(_DWORD *)(a9 + 8);
      v40 = *v38;
      v118 = v39;
      (*(void (**)(void))(v40 + 20))();
      v41 = *(_DWORD *)(a9 + 60);
      v122 = &v114;
      (*(void (__stdcall **)(int *, _DWORD, _DWORD, _DWORD, signed int, signed int, int, int, int, signed int))(*(_DWORD *)v41 + 16))(
        &v114,
        0,
        0,
        0,
        1065353216,
        1065353216,
        v114,
        v115,
        v116,
        v117);
      sub_100359E0(a9, v118, v119, (int)v120, v121);
    }
  }
  else if ( v35 == 2 )
  {
    v42 = *(_DWORD *)(a9 + 16);
    *(_DWORD *)(a9 + 4) = *(_DWORD *)(a9 + 12);
    v43 = *(_BYTE *)(a9 + 66);
    *(_DWORD *)(a9 + 8) = v42;
    if ( v43 )
    {
      v44 = *(void (__thiscall ***)(_DWORD))a9;
      v121 = v20 + (unsigned __int64)(signed __int64)v31;
      v120 = v29;
      (*v44)(a9);
      v45 = *(int **)(a9 + 60);
      v46 = *(_DWORD *)(a9 + 12);
      v119 = *(_DWORD *)(a9 + 16);
      v47 = *v45;
      v118 = v46;
      (*(void (**)(void))(v47 + 20))();
      v48 = *(_DWORD *)(a9 + 60);
      v122 = &v114;
      (*(void (__stdcall **)(int *, _DWORD, _DWORD, _DWORD, signed int, signed int, int, int, int, signed int))(*(_DWORD *)v48 + 16))(
        &v114,
        0,
        0,
        0,
        1065353216,
        1065353216,
        v114,
        v115,
        v116,
        v117);
      sub_100359E0(a9, v118, v119, (int)v120, v121);
    }
  }
  else
  {
    sub_1003DC80(
      *(_DWORD *)(a9 + 144),
      *(_DWORD *)(a9 + 148),
      *(_DWORD *)(a9 + 152),
      *(_DWORD *)(a9 + 156),
      *(_DWORD *)(a9 + 4),
      *(_DWORD *)(a9 + 8),
      *(_DWORD *)(a9 + 12),
      *(_DWORD *)(a9 + 16),
      (void (__cdecl *)(int, int, int))sub_10034960,
      a9);
  }
  v49 = *(_DWORD *)(a9 + 88);
  if ( *(_BYTE *)(v49 + 42) & 1 )
  {
    v50 = (double)a5 * *(float *)(a9 + 100);
    if ( v50 <= 0.0 )
      v51 = v50 - 0.5;
    else
      v51 = v50 + 0.5;
    *(_DWORD *)(a9 + 4) = (signed __int64)v51;
    v52 = (double)a6 * *(float *)(a9 + 104);
    if ( v52 <= 0.0 )
      v53 = v52 - 0.5;
    else
      v53 = v52 + 0.5;
    *(_DWORD *)(a9 + 8) = (signed __int64)v53;
    v54 = (double)a7 * *(float *)(a9 + 100);
    if ( v54 <= 0.0 )
      v55 = v54 - 0.5;
    else
      v55 = v54 + 0.5;
    *(_DWORD *)(a9 + 12) = (signed __int64)v55;
    v56 = (double)a8 * *(float *)(a9 + 104);
    if ( v56 <= 0.0 )
      v57 = v56 - 0.5;
    else
      v57 = v56 + 0.5;
    v58 = *(_DWORD *)(a9 + 92);
    *(_DWORD *)(a9 + 16) = (signed __int64)v57;
    v59 = *(_BYTE *)(a9 + 140);
    v129 = (signed __int64)((double)*(signed int *)(v49 + 44) * *(float *)(a9 + 108) / *(float *)(v58 + 408) + 0.5);
    v128 = v59;
    v130 = 0;
    v131 = 0;
    sub_1003DEC0();
    v60 = dword_109D183C;
    sub_100156C0((int)&v141);
    v144 = 0;
    sub_10015540((int)&v143);
    v141 = &off_1008F66C;
    sub_10015A40((int)&v143, (int)&v128);
    v142 = v60;
    v144 = 1;
    sub_100158B0((int)&dword_109D17F0, (int)&v141);
    v144 = -1;
    sub_100156E0((int)&v141);
    v61 = sub_1003E110();
    if ( v61 != 1 )
    {
      v121 = dword_109D17F8;
      dword_109D17F0 = 0;
      v120 = (void *)*sub_10015560((int)&unk_109D17F4, &v124);
      sub_100155A0(&unk_109D17F4, (int)v126, v120, v121);
      v121 = dword_109D180C;
      dword_109D1804 = 0;
      v120 = (void *)*sub_10015560((int)&unk_109D1808, &v124);
      sub_100155A0(&unk_109D1808, (int)v126, v120, v121);
      v121 = dword_109D1820;
      dword_109D1818 = 0;
      v120 = (void *)*sub_10015560((int)&unk_109D181C, &v124);
      sub_100155A0(&unk_109D181C, (int)v126, v120, v121);
      v124 = &dword_109D19F0;
      v62 = 0;
      dword_109D19F4 = 0;
      dword_109D19F0 = 0;
      dword_109D19F8 = 0;
      v144 = 2;
      if ( &dword_109D19F0 )
      {
        sub_10015520((int)&dword_109D19F0, v61, 0, 0);
        v62 = dword_109D19F0;
      }
      v144 = -1;
      if ( v62 < 0 )
        unknown_libname_4(v62);
    }
    v63 = *(_DWORD *)(a9 + 152);
    if ( abs(*(_DWORD *)(a9 + 144) - v63) <= 2
      && (v64 = *(_DWORD *)(a9 + 148) - *(_DWORD *)(a9 + 156), (signed int)((HIDWORD(v64) ^ v64) - HIDWORD(v64)) <= 2)
      || (v66 = HIDWORD(v127), v65 = LODWORD(v127), *(_QWORD *)&v127 == *(_QWORD *)(a9 + 4))
      || *(_QWORD *)&v127 == *(_QWORD *)(a9 + 12) )
    {
      v132 = 0;
      v134 = -1;
      v135 = 1;
      v136 = 0;
      v137 = 0;
      v138 = 10;
      v139 = 0;
      v140 = 1065353216;
      v133 = 1;
      sub_1003DEC0();
      v67 = dword_109D183C;
      sub_100156C0((int)&v141);
      v144 = 3;
      sub_1001A0D0((int)&v143);
      v141 = &off_10090068;
      sub_10020DB0((int)&v143, (int)&v132);
      v142 = v67;
      v144 = 4;
      sub_10026450((int)&dword_109D1804, (int)&v141);
      v144 = -1;
      sub_100156E0((int)&v141);
      v68 = sub_1003E110();
      if ( v68 != 1 )
      {
        v121 = dword_109D17F8;
        dword_109D17F0 = 0;
        v120 = (void *)*sub_10015560((int)&unk_109D17F4, &v124);
        sub_100155A0(&unk_109D17F4, (int)v126, v120, v121);
        v121 = dword_109D180C;
        dword_109D1804 = 0;
        v120 = (void *)*sub_10015560((int)&unk_109D1808, &v123);
        sub_100155A0(&unk_109D1808, (int)&v125, v120, v121);
        sub_100154D0((int)&dword_109D1818);
        v69 = 0;
        dword_109D19F4 = 0;
        dword_109D19F0 = 0;
        dword_109D19F8 = 0;
        if ( &dword_109D19F0 )
        {
          v69 = v68;
          LOWORD(dword_109D19F4) = 0;
          dword_109D19F0 = v68;
          dword_109D19F8 = 0;
        }
        if ( v69 < 0 )
          unknown_libname_4(v69);
      }
      v70 = *(_DWORD *)(a9 + 152);
      v71 = *(_DWORD *)(a9 + 148);
      v121 = *(_DWORD *)(a9 + 156);
      v72 = *(_DWORD *)(a9 + 144);
      v120 = (void *)v70;
      v73 = sub_1003EEB0(*(_DWORD *)(a9 + 96), v72, v71, v70, v121);
      goto LABEL_120;
    }
    if ( abs(LODWORD(v127) - *(_DWORD *)(a9 + 4)) != 1 || abs(HIDWORD(v127) - *(_DWORD *)(a9 + 8)) != 1 )
    {
LABEL_89:
      if ( abs(v65 - *(_DWORD *)(a9 + 12)) != 1 || abs(v66 - *(_DWORD *)(a9 + 16)) != 1 )
      {
LABEL_119:
        v106 = *(void **)(a9 + 12);
        v107 = *(_DWORD *)(a9 + 8);
        v121 = *(_DWORD *)(a9 + 16);
        v108 = *(_DWORD *)(a9 + 4);
        v120 = v106;
        v109 = *(_DWORD *)(a9 + 156);
        v119 = v107;
        v110 = *(_DWORD *)(a9 + 152);
        v118 = v108;
        v111 = *(_DWORD *)(a9 + 148);
        v117 = v109 + 1;
        v112 = *(_DWORD *)(a9 + 144);
        v116 = v110 + 1;
        v73 = sub_1003E920(*(_DWORD *)(a9 + 96), v112, v111, v110 + 1, v117, v118, v119, (signed int)v120, v121);
LABEL_120:
        if ( v73 != 1 )
        {
          v113 = 0;
          dword_109D19F4 = 0;
          dword_109D19F0 = 0;
          dword_109D19F8 = 0;
          if ( &dword_109D19F0 )
          {
            v113 = v73;
            LOWORD(dword_109D19F4) = 0;
            dword_109D19F0 = v73;
            dword_109D19F8 = 0;
          }
          if ( v113 < 0 )
            unknown_libname_4(v113);
        }
        return;
      }
      v91 = *(_DWORD *)(a9 + 16);
      v123 = *(_DWORD *)(a9 + 152) - *(_DWORD *)(a9 + 144);
      v92 = *(_DWORD *)(a9 + 12) - v65;
      v93 = v91 - v66;
      if ( v92 < 0 )
      {
        if ( v93 <= 0 )
        {
          v125 = 2;
LABEL_99:
          v94 = *(_DWORD *)(a9 + 12);
          v95 = *(_DWORD *)(a9 + 16);
          if ( v65 != v94 || v66 != v95 )
          {
            v97 = v95 - v66;
            v98 = v94 - v65;
            v126[0] = v97;
            if ( v97 * v97 + v98 * v98 <= 0 )
            {
              v96 = v66;
            }
            else
            {
              v124 = (int *)(v123 * v98 / (signed __int16)sub_10070280(v97 * v97 + v98 * v98));
              v127 = (double)(signed int)v124;
              if ( v98 )
              {
                v124 = (int *)abs(v98);
                v99 = (double)v126[0] * v127 / (double)(signed int)v124;
                if ( v101 | v102 )
                  v103 = v127 - 0.5;
                else
                  v103 = v127 + 0.5;
                if ( v99 <= 0.0 )
                  v104 = v99 - 0.5;
                else
                  v104 = v99 + 0.5;
                v105 = (signed __int64)v104;
                if ( v125 == 2 || v125 == 3 )
                  LODWORD(v105) = -(signed int)v105;
                v96 = v66 + v105;
                v65 += (signed __int64)v103;
              }
              else if ( v125 == 1 )
              {
                v96 = v66 - v123;
              }
              else
              {
                v96 = v123 + v66;
              }
            }
          }
          else
          {
            v65 = *(_DWORD *)(a9 + 12);
            v96 = *(_DWORD *)(a9 + 16);
          }
          *(_DWORD *)(a9 + 12) = v65;
          *(_DWORD *)(a9 + 16) = v96;
          goto LABEL_119;
        }
      }
      else if ( v93 < 0 )
      {
        v125 = 1;
        goto LABEL_99;
      }
      if ( v92 > 0 || (v125 = 3, v93 <= 0) )
        v125 = 4;
      goto LABEL_99;
    }
    v74 = *(_DWORD *)(a9 + 4);
    v123 = v63 - *(_DWORD *)(a9 + 144);
    v75 = v74 - LODWORD(v127);
    v76 = *(_DWORD *)(a9 + 8) - HIDWORD(v127);
    if ( v75 < 0 )
    {
      if ( v76 <= 0 )
      {
        v125 = 2;
        goto LABEL_70;
      }
    }
    else if ( v76 < 0 )
    {
      v125 = 1;
LABEL_70:
      v77 = *(_DWORD *)(a9 + 4);
      v78 = *(_DWORD *)(a9 + 8);
      if ( *(_QWORD *)&v127 == __PAIR__(v78, v77) )
      {
        v79 = *(_DWORD *)(a9 + 8);
        v80 = *(_DWORD *)(a9 + 4);
      }
      else
      {
        v81 = v78 - HIDWORD(v127);
        v82 = v77 - LODWORD(v127);
        v124 = (int *)v81;
        if ( v81 * v81 + v82 * v82 <= 0 )
        {
          v79 = HIDWORD(v127);
          v80 = LODWORD(v127);
        }
        else
        {
          *(double *)v126 = (double)(v123 * v82 / (signed __int16)sub_10070280(v81 * v81 + v82 * v82));
          if ( v82 )
          {
            v83 = (double)(signed int)v124 * *(double *)v126;
            v124 = (int *)abs(v82);
            v84 = v83 / (double)(signed int)v124;
            if ( v86 | v87 )
              v88 = *(double *)v126 - 0.5;
            else
              v88 = *(double *)v126 + 0.5;
            if ( v84 <= 0.0 )
              v89 = v84 - 0.5;
            else
              v89 = v84 + 0.5;
            v90 = (signed __int64)v89;
            if ( v125 == 2 || v125 == 3 )
              LODWORD(v90) = -(signed int)v90;
            v79 = v66 + v90;
            v80 = v65 + (unsigned __int64)(signed __int64)v88;
          }
          else if ( v125 == 1 )
          {
            v79 = v66 - v123;
            v80 = v65;
          }
          else
          {
            v80 = v65;
            v79 = v123 + v66;
          }
        }
      }
      *(_DWORD *)(a9 + 4) = v80;
      *(_DWORD *)(a9 + 8) = v79;
      goto LABEL_89;
    }
    if ( v75 > 0 || (v125 = 3, v76 <= 0) )
      v125 = 4;
    goto LABEL_70;
  }
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 1008F66C: using guessed type int (*off_1008F66C)();
// 10090068: using guessed type int (*off_10090068)();
// 109D17F0: using guessed type int dword_109D17F0;
// 109D1804: using guessed type int dword_109D1804;
// 109D1818: using guessed type int dword_109D1818;
// 109D183C: using guessed type int dword_109D183C;
// 109D19F0: using guessed type int dword_109D19F0;
// 109D19F4: using guessed type int dword_109D19F4;
// 109D19F8: using guessed type int dword_109D19F8;

//----- (100359E0) --------------------------------------------------------
signed int __thiscall sub_100359E0(int this, int a2, int a3, int a4, int a5)
{
  int v5; // eax@1
  int v6; // eax@1
  int v7; // edx@1
  __int16 v8; // ax@1
  int v9; // edx@1
  int v11; // [sp+0h] [bp-2Ch]@1
  int v12; // [sp+4h] [bp-28h]@1
  int v13; // [sp+8h] [bp-24h]@1
  int v14; // [sp+Ch] [bp-20h]@1
  __int16 v15; // [sp+10h] [bp-1Ch]@1
  int v16; // [sp+14h] [bp-18h]@1
  int v17; // [sp+18h] [bp-14h]@1
  int v18; // [sp+1Ch] [bp-10h]@1
  int v19; // [sp+20h] [bp-Ch]@1
  int v20; // [sp+24h] [bp-8h]@1
  int v21; // [sp+28h] [bp-4h]@1

  v16 = a2;
  v18 = a4;
  v5 = *(_DWORD *)(this + 96);
  v17 = a3;
  v11 = v5;
  v6 = *(_DWORD *)(this + 132);
  v19 = a5;
  v7 = *(_DWORD *)(this + 108);
  v20 = v6;
  v8 = *(_WORD *)(this + 112);
  v14 = v7;
  v9 = *(_DWORD *)(this + 136);
  v12 = 1065353216;
  v13 = 1065353216;
  v15 = 0;
  v21 = v9;
  if ( v8 & 1 )
    v15 = 1;
  if ( v8 & 2 )
    LOBYTE(v15) = v15 | 2;
  return sub_10015230(*(_BYTE **)(this + 60), (int)&v11);
}

//----- (10035A70) --------------------------------------------------------
int __thiscall sub_10035A70(int this, int a2, int a3, int a4)
{
  int result; // eax@1
  int v5; // esi@1

  result = this;
  v5 = this + 20;
  *(_DWORD *)v5 = *(_DWORD *)(a2 + 20);
  *(_DWORD *)(v5 + 4) = *(_DWORD *)(a2 + 24);
  *(_DWORD *)(v5 + 8) = *(_DWORD *)(a2 + 28);
  *(_DWORD *)(v5 + 12) = *(_DWORD *)(a2 + 32);
  *(_DWORD *)this = *(_DWORD *)a2;
  *(_DWORD *)(this + 4) = *(_DWORD *)(a2 + 4);
  *(_DWORD *)(this + 8) = *(_DWORD *)(a2 + 8);
  *(_DWORD *)(this + 12) = *(_DWORD *)(a2 + 12);
  *(_WORD *)(this + 16) = *(_WORD *)(a2 + 16);
  *(_DWORD *)(this + 36) = *(_DWORD *)(a2 + 36);
  *(_DWORD *)(this + 40) = *(_DWORD *)(a2 + 40);
  *(_DWORD *)(this + 44) = a3;
  *(_DWORD *)(this + 48) = 0;
  *(_DWORD *)(this + 52) = 0;
  *(_BYTE *)(this + 57) = 0;
  *(_BYTE *)(this + 56) = 1;
  *(_DWORD *)(this + 60) = a4;
  return result;
}

//----- (10035AF0) --------------------------------------------------------
char __cdecl sub_10035AF0(unsigned int a1, signed int a2, int a3)
{
  int v3; // esi@1
  unsigned int v4; // edi@1
  int v5; // eax@1
  int v6; // ecx@2
  int v7; // eax@7
  int v8; // eax@12
  int v9; // ecx@13
  int v10; // ecx@18

  v3 = a3;
  v4 = a2;
  v5 = sub_100412E0(*(_DWORD *)(a3 + 44), a1, a2, (char *)&a2);
  if ( v5 != 1 )
  {
    v6 = 0;
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      v6 = v5;
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = v5;
      dword_109D1A08 = 0;
    }
    if ( v6 < 0 )
      unknown_libname_4(v6);
  }
  if ( *(_BYTE *)(v3 + 56) )
  {
    LOBYTE(v7) = a2;
    *(_BYTE *)(v3 + 56) = 0;
    if ( !(_BYTE)v7 )
    {
LABEL_9:
      *(_BYTE *)(v3 + 57) = v7;
      return v7;
    }
LABEL_8:
    *(_DWORD *)(v3 + 48) = a1;
    *(_DWORD *)(v3 + 52) = v4;
    goto LABEL_9;
  }
  LOBYTE(v7) = a2;
  if ( (_BYTE)a2 == *(_BYTE *)(v3 + 57) )
    goto LABEL_9;
  if ( (_BYTE)a2 )
    goto LABEL_8;
  v8 = sub_1003FB80(*(_DWORD *)v3, *(_DWORD *)(v3 + 48), *(_DWORD *)(v3 + 52));
  if ( v8 != 1 )
  {
    v9 = 0;
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      v9 = v8;
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = v8;
      dword_109D1A08 = 0;
    }
    if ( v9 < 0 )
      unknown_libname_4(v9);
  }
  v7 = sub_1003F860(*(_DWORD *)v3, a1, v4);
  if ( v7 == 1 )
  {
    *(_BYTE *)(v3 + 57) = a2;
  }
  else
  {
    v10 = 0;
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      v10 = v7;
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = v7;
      dword_109D1A08 = 0;
    }
    if ( v10 >= 0 )
    {
      *(_BYTE *)(v3 + 57) = a2;
    }
    else
    {
      unknown_libname_4(v10);
      LOBYTE(v7) = a2;
      *(_BYTE *)(v3 + 57) = a2;
    }
  }
  return v7;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 109D1A00: using guessed type int dword_109D1A00;
// 109D1A04: using guessed type int dword_109D1A04;
// 109D1A08: using guessed type int dword_109D1A08;

//----- (10035C60) --------------------------------------------------------
char __cdecl sub_10035C60(unsigned int a1, signed int a2, int a3)
{
  int v3; // esi@1
  unsigned int v4; // edi@1
  int v5; // eax@1
  int v6; // ecx@2
  char result; // al@7

  v3 = a3;
  v4 = a2;
  v5 = sub_100412E0(*(_DWORD *)(a3 + 44), a1, a2, (char *)&a2);
  if ( v5 != 1 )
  {
    v6 = 0;
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      v6 = v5;
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = v5;
      dword_109D1A08 = 0;
    }
    if ( v6 < 0 )
      unknown_libname_4(v6);
  }
  if ( *(_BYTE *)(v3 + 56) )
  {
    result = a2;
    *(_BYTE *)(v3 + 56) = 0;
    if ( result )
    {
      *(_DWORD *)(v3 + 52) = v4;
      *(_DWORD *)(v3 + 48) = a1;
      *(_BYTE *)(v3 + 57) = result;
      return result;
    }
  }
  else
  {
    result = a2;
    if ( (_BYTE)a2 != *(_BYTE *)(v3 + 57) )
    {
      if ( (_BYTE)a2 )
      {
        *(_DWORD *)(v3 + 52) = v4;
        *(_DWORD *)(v3 + 48) = a1;
        *(_BYTE *)(v3 + 57) = result;
        return result;
      }
      sub_10033460(*(_QWORD *)(v3 + 48), a1, v4, *(_DWORD *)(v3 + 60), 0);
      result = a2;
    }
  }
  *(_BYTE *)(v3 + 57) = result;
  return result;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 109D1A00: using guessed type int dword_109D1A00;
// 109D1A04: using guessed type int dword_109D1A04;
// 109D1A08: using guessed type int dword_109D1A08;

//----- (10035D30) --------------------------------------------------------
int __cdecl sub_10035D30(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, float a11)
{
  int *v11; // edi@1
  signed __int64 v12; // rax@1
  signed int v13; // ebx@1
  int v14; // ebp@3
  char v15; // cl@3
  int v16; // esi@3
  int v17; // esi@3
  int v18; // eax@4
  double v19; // st7@8
  double v20; // st7@9
  double v21; // st6@9
  signed __int64 v22; // rax@10
  double v23; // st6@12
  int v24; // ecx@14
  unsigned int v25; // ebp@20
  unsigned int v26; // esi@21
  bool v27; // zf@26
  bool v28; // sf@26
  unsigned __int8 v29; // of@26
  int result; // eax@32
  int v31; // ecx@33
  float v32; // [sp+8h] [bp-50h]@8
  float v33; // [sp+Ch] [bp-4Ch]@8
  int v34; // [sp+10h] [bp-48h]@12
  float v35; // [sp+14h] [bp-44h]@17
  float v36; // [sp+18h] [bp-40h]@17
  int v37; // [sp+1Ch] [bp-3Ch]@3
  int v38; // [sp+20h] [bp-38h]@3
  int v39; // [sp+24h] [bp-34h]@3
  int v40; // [sp+28h] [bp-30h]@3
  int (**v41)(); // [sp+2Ch] [bp-2Ch]@3
  int v42; // [sp+38h] [bp-20h]@3
  char v43; // [sp+3Ch] [bp-1Ch]@3
  int v44; // [sp+54h] [bp-4h]@3
  int v45; // [sp+5Ch] [bp+4h]@17
  int v46; // [sp+60h] [bp+8h]@13
  int v47; // [sp+60h] [bp+8h]@18
  int v48; // [sp+70h] [bp+18h]@17
  int v49; // [sp+80h] [bp+28h]@8
  float v50; // [sp+84h] [bp+2Ch]@9
  float v51; // [sp+84h] [bp+2Ch]@17

  v11 = (int *)a1;
  v12 = (signed __int64)(*(float *)(a1 + 12) * 7.0 / a11 + 0.5);
  v13 = 0;
  if ( !(_DWORD)v12 )
    LODWORD(v12) = 1;
  v14 = a10;
  v38 = v12;
  v15 = *(_BYTE *)a10;
  v39 = 0;
  LOBYTE(v37) = v15;
  LOBYTE(v40) = 0;
  sub_1003DEC0();
  v16 = dword_109D183C;
  sub_100156C0((int)&v41);
  v44 = 0;
  sub_10015540((int)&v43);
  v41 = &off_1008F66C;
  sub_10015A40((int)&v43, (int)&v37);
  v42 = v16;
  v44 = 1;
  sub_100158B0((int)&dword_109D17F0, (int)&v41);
  v44 = -1;
  sub_100156E0((int)&v41);
  v17 = sub_1003E110();
  if ( v17 != 1 )
  {
    sub_100154D0((int)&dword_109D17F0);
    sub_100154D0((int)&dword_109D1804);
    sub_100154D0((int)&dword_109D1818);
    v18 = 0;
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    v44 = 2;
    if ( &dword_109D1A00 )
    {
      sub_10015520((int)&dword_109D1A00, v17, 0, 0);
      v18 = dword_109D1A00;
    }
    if ( v18 < 0 )
      unknown_libname_4(v18);
  }
  v33 = *(float *)(a1 + 12) * 28.0 / a11;
  v19 = 35.0 / a11;
  *(float *)&v49 = ((double)*(signed int *)(a10 + 28) + v19) * *(float *)(a1 + 12);
  v32 = ((double)*(signed int *)(v14 + 24) + v19) * *(float *)(a1 + 12);
  if ( *(_BYTE *)(a1 + 16) & 8 )
  {
    v39 = a8;
    v40 = a9;
    v37 = a6;
    v38 = a7;
    v50 = (double)(a6 - a2) - (double)(signed int)(signed __int64)((double)(a6 - a2) / *(float *)&v49) * *(float *)&v49;
    v20 = (double)(a7 - a3) - (double)(signed int)(signed __int64)(((double)(a7 - a3) - v33) / v32) * v32;
    v21 = (double)a8 + *(float *)&v49 - 1.0;
    if ( v21 >= (double)a4 )
      LODWORD(v22) = a4;
    else
      v22 = (signed __int64)v21;
    v34 = v22;
    v23 = (double)a9 + v32 - 1.0;
    if ( v23 < (double)a5 )
    {
      v46 = (signed __int64)v23;
      goto LABEL_17;
    }
    v24 = a5;
  }
  else
  {
    v24 = a5;
    v38 = a3;
    v37 = a2;
    v20 = 0.0;
    v39 = a4;
    v40 = a5;
    v50 = 0.0;
    v34 = a4;
  }
  v46 = v24;
LABEL_17:
  *(float *)&v45 = (double)v38 + v32 + v33 - v20;
  sub_1003DEC0();
  v48 = 0;
  v35 = (double)v37 - v50 + *(float *)&v49;
  v51 = v35;
  v36 = (double)v46;
  if ( *(float *)&v45 <= (double)v36 )
  {
    *(float *)&v47 = (double)v34;
    do
    {
      if ( v51 <= (double)*(float *)&v47 )
      {
        v25 = (signed __int64)(*(float *)&v45 + 0.5);
        do
        {
          sub_1003FB80(*v11, (signed __int64)(v51 - v33 + 0.5), v25);
          v26 = (signed __int64)(v51 + 0.5);
          sub_1003F860(*v11, v26, v25);
          sub_1003F860(*v11, v26, (signed __int64)(*(float *)&v45 - v33 + 0.5));
          ++v13;
          v51 = v51 + *(float *)&v49;
          if ( v13 > 5000 )
          {
            dword_109D1A04 = 0;
            dword_109D1A00 = 0;
            dword_109D1A08 = 0;
            if ( &dword_109D1A00 )
            {
              LOWORD(dword_109D1A04) = 0;
              dword_109D1A00 = -6;
              dword_109D1A08 = 0;
              unknown_libname_4(-6);
            }
          }
        }
        while ( v51 <= (double)*(float *)&v47 );
        v13 = 0;
      }
      v29 = __OFSUB__(v48 + 1, 5000);
      v27 = v48 == 4999;
      v28 = v48++ - 4999 < 0;
      *(float *)&v45 = *(float *)&v45 + v32;
      if ( !((unsigned __int8)(v28 ^ v29) | v27) )
      {
        dword_109D1A04 = 0;
        dword_109D1A00 = 0;
        dword_109D1A08 = 0;
        if ( &dword_109D1A00 )
        {
          LOWORD(dword_109D1A04) = 0;
          dword_109D1A00 = -6;
          dword_109D1A08 = 0;
          unknown_libname_4(-6);
        }
      }
      v51 = v35;
    }
    while ( *(float *)&v45 <= (double)v36 );
  }
  result = sub_1003E110();
  if ( result != 1 )
  {
    v31 = 0;
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      v31 = result;
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = result;
      dword_109D1A08 = 0;
    }
    if ( v31 < 0 )
      result = unknown_libname_4(v31);
  }
  return result;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 1008F66C: using guessed type int (*off_1008F66C)();
// 109D17F0: using guessed type int dword_109D17F0;
// 109D1804: using guessed type int dword_109D1804;
// 109D1818: using guessed type int dword_109D1818;
// 109D183C: using guessed type int dword_109D183C;
// 109D1A00: using guessed type int dword_109D1A00;
// 109D1A04: using guessed type int dword_109D1A04;
// 109D1A08: using guessed type int dword_109D1A08;

//----- (10036230) --------------------------------------------------------
int __cdecl sub_10036230(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, float a11, int a12)
{
  int v12; // eax@1
  double v13; // st7@1
  signed __int64 v14; // rax@1
  int v15; // esi@3
  int v16; // esi@3
  int v17; // eax@4
  double v18; // st7@8
  double v19; // st7@9
  double v20; // st6@9
  signed __int64 v21; // rax@10
  double v22; // st6@12
  int v23; // ecx@14
  unsigned int v24; // ebp@20
  unsigned int v25; // edi@20
  unsigned int v26; // esi@21
  bool v27; // zf@25
  bool v28; // sf@25
  unsigned __int8 v29; // of@25
  int result; // eax@33
  int v31; // ecx@34
  float v32; // [sp+8h] [bp-DCh]@9
  float v33; // [sp+8h] [bp-DCh]@17
  float v34; // [sp+Ch] [bp-D8h]@17
  int v35; // [sp+10h] [bp-D4h]@12
  int v36; // [sp+10h] [bp-D4h]@19
  float v37; // [sp+14h] [bp-D0h]@17
  signed int v38; // [sp+18h] [bp-CCh]@13
  float v39; // [sp+18h] [bp-CCh]@18
  float v40; // [sp+1Ch] [bp-C8h]@8
  float v41; // [sp+20h] [bp-C4h]@8
  float v42; // [sp+24h] [bp-C0h]@8
  float v43; // [sp+28h] [bp-BCh]@17
  int v44; // [sp+2Ch] [bp-B8h]@17
  int v45; // [sp+30h] [bp-B4h]@9
  int v46; // [sp+34h] [bp-B0h]@9
  char v47; // [sp+40h] [bp-A4h]@3
  int v48; // [sp+44h] [bp-A0h]@3
  int v49; // [sp+48h] [bp-9Ch]@3
  char v50; // [sp+4Ch] [bp-98h]@3
  int v51; // [sp+50h] [bp-94h]@1
  int v52; // [sp+54h] [bp-90h]@1
  int v53; // [sp+58h] [bp-8Ch]@1
  int v54; // [sp+5Ch] [bp-88h]@1
  __int16 v55; // [sp+60h] [bp-84h]@1
  int v56; // [sp+64h] [bp-80h]@1
  int v57; // [sp+68h] [bp-7Ch]@1
  int v58; // [sp+6Ch] [bp-78h]@1
  int v59; // [sp+70h] [bp-74h]@1
  int v60; // [sp+74h] [bp-70h]@1
  int v61; // [sp+78h] [bp-6Ch]@1
  char v62; // [sp+7Ch] [bp-68h]@1
  int v63; // [sp+A8h] [bp-3Ch]@1
  int v64; // [sp+ACh] [bp-38h]@1
  int v65; // [sp+B0h] [bp-34h]@1
  char v66; // [sp+B4h] [bp-30h]@1
  char v67; // [sp+B5h] [bp-2Fh]@1
  int (**v68)(); // [sp+B8h] [bp-2Ch]@3
  int v69; // [sp+C4h] [bp-20h]@3
  char v70; // [sp+C8h] [bp-1Ch]@3
  int v71; // [sp+E0h] [bp-4h]@3

  v56 = 0;
  v12 = *(_DWORD *)a1;
  v57 = 0;
  v51 = v12;
  v58 = 0;
  v59 = 0;
  v52 = 1065353216;
  v53 = 1065353216;
  v54 = 1065353216;
  v55 = 0;
  v60 = 0;
  v61 = 0;
  sub_1003BCA0((int)&v62, (int)&v51);
  v13 = *(float *)(a1 + 12) * 7.0;
  v64 = 0;
  v63 = a12;
  v65 = 0;
  v66 = 1;
  v67 = 0;
  v14 = (signed __int64)(v13 / a11 + 0.5);
  if ( !(_DWORD)v14 )
    LODWORD(v14) = 1;
  v48 = v14;
  v49 = 0;
  v50 = 0;
  v47 = *(_BYTE *)a10;
  sub_1003DEC0();
  v15 = dword_109D183C;
  sub_100156C0((int)&v68);
  v71 = 0;
  sub_10015540((int)&v70);
  v68 = &off_1008F66C;
  sub_10015A40((int)&v70, (int)&v47);
  v69 = v15;
  v71 = 1;
  sub_100158B0((int)&dword_109D17F0, (int)&v68);
  v71 = -1;
  sub_100156E0((int)&v68);
  v16 = sub_1003E110();
  if ( v16 != 1 )
  {
    sub_100154D0((int)&dword_109D17F0);
    sub_100154D0((int)&dword_109D1804);
    sub_100154D0((int)&dword_109D1818);
    v17 = 0;
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    v71 = 2;
    if ( &dword_109D1A00 )
    {
      sub_10015520((int)&dword_109D1A00, v16, 0, 0);
      v17 = dword_109D1A00;
    }
    v71 = -1;
    if ( v17 < 0 )
      unknown_libname_4(v17);
  }
  v42 = *(float *)(a1 + 12) * 28.0 / a11;
  v18 = 35.0 / a11;
  v41 = ((double)*(signed int *)(a10 + 28) + v18) * *(float *)(a1 + 12);
  v40 = ((double)*(signed int *)(a10 + 24) + v18) * *(float *)(a1 + 12);
  if ( *(_BYTE *)(a1 + 16) & 8 )
  {
    v45 = a6;
    v46 = a7;
    v32 = (double)(a6 - a2) - (double)(signed int)(signed __int64)((double)(a6 - a2) / v41) * v41;
    v19 = (double)(a7 - a3) - (double)(signed int)(signed __int64)(((double)(a7 - a3) - v42) / v40) * v40;
    v20 = (double)a8 + v41 - 1.0;
    if ( v20 >= (double)a4 )
      LODWORD(v21) = a4;
    else
      v21 = (signed __int64)v20;
    v35 = v21;
    v22 = (double)a9 + v40 - 1.0;
    if ( v22 < (double)a5 )
    {
      v38 = (signed __int64)v22;
      goto LABEL_17;
    }
    v23 = a5;
  }
  else
  {
    v23 = a5;
    v46 = a3;
    v45 = a2;
    v19 = 0.0;
    v32 = 0.0;
    v35 = a4;
  }
  v38 = v23;
LABEL_17:
  v37 = (double)v46 + v40 + v42 - v19;
  sub_1003DEC0();
  v44 = 0;
  v43 = (double)v45 - v32 + v41;
  v33 = v43;
  v34 = (double)v38;
  if ( v37 <= (double)v34 )
  {
    v39 = (double)v35;
    do
    {
      v36 = 0;
      if ( v33 <= (double)v39 )
      {
        v24 = (signed __int64)(v37 - v42 + 0.5);
        v25 = (signed __int64)(v37 + 0.5);
        do
        {
          v66 = 1;
          v26 = (signed __int64)(v33 + 0.5);
          sub_1003CAC0(
            (signed __int64)(v33 - v42 + 0.5),
            v25,
            v26,
            v25,
            (void (__cdecl *)(int, int, int))sub_10035AF0,
            (int)&v62);
          if ( v67 )
          {
            sub_1003FB80(*(_DWORD *)a1, v64, v65);
            sub_1003F860(*(_DWORD *)a1, v26, v25);
          }
          v66 = 1;
          sub_1003CAC0(v26, v25, v26, v24, (void (__cdecl *)(int, int, int))sub_10035AF0, (int)&v62);
          if ( v67 )
          {
            sub_1003FB80(*(_DWORD *)a1, v64, v65);
            sub_1003F860(*(_DWORD *)a1, v26, v24);
          }
          v29 = __OFSUB__(v36 + 1, 5000);
          v27 = v36 == 4999;
          v28 = v36++ - 4999 < 0;
          v33 = v33 + v41;
          if ( !((unsigned __int8)(v28 ^ v29) | v27) )
          {
            dword_109D1A04 = 0;
            dword_109D1A00 = 0;
            dword_109D1A08 = 0;
            if ( &dword_109D1A00 )
            {
              LOWORD(dword_109D1A04) = 0;
              dword_109D1A00 = -6;
              dword_109D1A08 = 0;
              unknown_libname_4(-6);
            }
          }
        }
        while ( v33 <= (double)v39 );
      }
      v29 = __OFSUB__(v44 + 1, 5000);
      v27 = v44 == 4999;
      v28 = v44++ - 4999 < 0;
      v37 = v37 + v40;
      if ( !((unsigned __int8)(v28 ^ v29) | v27) )
      {
        dword_109D1A04 = 0;
        dword_109D1A00 = 0;
        dword_109D1A08 = 0;
        if ( &dword_109D1A00 )
        {
          LOWORD(dword_109D1A04) = 0;
          dword_109D1A00 = -6;
          dword_109D1A08 = 0;
          unknown_libname_4(-6);
        }
      }
      v33 = v43;
    }
    while ( v37 <= (double)v34 );
  }
  result = sub_1003E110();
  if ( result != 1 )
  {
    v31 = 0;
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      v31 = result;
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = result;
      dword_109D1A08 = 0;
    }
    if ( v31 < 0 )
      result = unknown_libname_4(v31);
  }
  return result;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 1008F66C: using guessed type int (*off_1008F66C)();
// 109D17F0: using guessed type int dword_109D17F0;
// 109D1804: using guessed type int dword_109D1804;
// 109D1818: using guessed type int dword_109D1818;
// 109D183C: using guessed type int dword_109D183C;
// 109D1A00: using guessed type int dword_109D1A00;
// 109D1A04: using guessed type int dword_109D1A04;
// 109D1A08: using guessed type int dword_109D1A08;

//----- (10036860) --------------------------------------------------------
int __usercall sub_10036860@<eax>(double a1@<st0>, int a2, int a3, int a4, unsigned int a5, int a6, int a7, int a8, unsigned int a9, int a10, int a11, int a12)
{
  signed int v12; // esi@2
  int v13; // edx@3
  signed int v14; // edi@3
  int v15; // eax@12
  int v16; // esi@14
  double v17; // st7@21
  double v18; // st7@23
  int v19; // esi@25
  int v20; // esi@25
  int v21; // ST14_4@26
  void **v22; // eax@26
  int v23; // eax@26
  char v24; // al@30
  int v25; // esi@30
  int v26; // esi@30
  int v27; // ST14_4@31
  void **v28; // eax@31
  int v29; // eax@31
  signed __int64 v30; // rax@35
  int v31; // ST0C_4@35
  signed int v32; // eax@35
  signed int v33; // ecx@36
  int v34; // esi@40
  __int16 v35; // dx@40
  unsigned int v36; // ebp@41
  int v37; // edi@41
  int v38; // ebx@41
  long double v39; // st7@43
  signed __int64 v40; // rax@44
  signed int v41; // edi@44
  int v42; // esi@45
  int result; // eax@46
  int v44; // ecx@46
  unsigned int v45; // ebx@51
  signed __int64 v46; // rax@56
  signed int v47; // edi@56
  int v48; // ebx@57
  signed int v49; // ebp@57
  int v50; // ecx@58
  unsigned int v51; // ebp@62
  signed int v52; // ebx@68
  long double v53; // st7@71
  double v54; // st6@71
  long double v55; // st5@71
  double v56; // st7@72
  long double v57; // st7@76
  long double v58; // st7@77
  signed __int64 v59; // rax@79
  long double v60; // st7@79
  int v61; // esi@79
  long double v62; // st7@80
  int v63; // eax@82
  signed int v64; // ebp@83
  unsigned int v65; // edi@83
  double v66; // st7@84
  double v67; // st7@85
  int v68; // edx@88
  int v69; // esi@89
  double v70; // st7@90
  double v71; // st7@91
  bool v72; // zf@96
  bool v73; // sf@96
  unsigned __int8 v74; // of@96
  float v75; // [sp+20h] [bp-198h]@21
  __int16 v76; // [sp+20h] [bp-198h]@40
  signed int v77; // [sp+20h] [bp-198h]@68
  float v78; // [sp+20h] [bp-198h]@71
  int v79; // [sp+24h] [bp-194h]@18
  int v80; // [sp+24h] [bp-194h]@43
  int v81; // [sp+24h] [bp-194h]@52
  int v82; // [sp+24h] [bp-194h]@63
  int v83; // [sp+24h] [bp-194h]@75
  int v84[2]; // [sp+28h] [bp-190h]@26
  double v85; // [sp+30h] [bp-188h]@18
  float v86; // [sp+38h] [bp-180h]@25
  int v87; // [sp+3Ch] [bp-17Ch]@25
  int v88; // [sp+40h] [bp-178h]@25
  int v89; // [sp+44h] [bp-174h]@25
  int v90; // [sp+48h] [bp-170h]@25
  double v91; // [sp+4Ch] [bp-16Ch]@79
  long double v92; // [sp+54h] [bp-164h]@43
  double v93; // [sp+5Ch] [bp-15Ch]@68
  long double v94; // [sp+64h] [bp-154h]@43
  int v95; // [sp+6Ch] [bp-14Ch]@30
  int v96; // [sp+70h] [bp-148h]@30
  int v97; // [sp+74h] [bp-144h]@30
  int v98; // [sp+78h] [bp-140h]@30
  int v99; // [sp+7Ch] [bp-13Ch]@30
  int v100; // [sp+80h] [bp-138h]@30
  int v101; // [sp+84h] [bp-134h]@30
  int v102; // [sp+88h] [bp-130h]@30
  int v103; // [sp+8Ch] [bp-12Ch]@30
  int (**v104)(); // [sp+90h] [bp-128h]@25
  int v105; // [sp+9Ch] [bp-11Ch]@25
  char v106; // [sp+A0h] [bp-118h]@25
  int v107; // [sp+C4h] [bp-F4h]@31
  char v108; // [sp+C8h] [bp-F0h]@31
  int v109; // [sp+CCh] [bp-ECh]@1
  char v110; // [sp+D0h] [bp-E8h]@1
  char v111; // [sp+FCh] [bp-BCh]@1
  char v112; // [sp+FDh] [bp-BBh]@1
  char v113; // [sp+100h] [bp-B8h]@1
  char v114; // [sp+140h] [bp-78h]@1
  int v115; // [sp+144h] [bp-74h]@1
  char v116; // [sp+148h] [bp-70h]@1
  int v117; // [sp+168h] [bp-50h]@1
  int v118; // [sp+16Ch] [bp-4Ch]@1
  int v119; // [sp+178h] [bp-40h]@1
  int v120; // [sp+17Ch] [bp-3Ch]@1
  int v121; // [sp+180h] [bp-38h]@1
  int v122; // [sp+184h] [bp-34h]@1
  int v123; // [sp+188h] [bp-30h]@1
  int v124; // [sp+18Ch] [bp-2Ch]@1
  int v125; // [sp+190h] [bp-28h]@1
  int v126; // [sp+194h] [bp-24h]@1
  int v127; // [sp+198h] [bp-20h]@1
  int v128; // [sp+19Ch] [bp-1Ch]@1
  int v129; // [sp+1A0h] [bp-18h]@1
  int v130; // [sp+1A4h] [bp-14h]@1
  int v131; // [sp+1A8h] [bp-10h]@1
  int v132; // [sp+1B4h] [bp-4h]@25

  sub_1003BC70((int)&v110);
  v109 = 0;
  v111 = 1;
  v112 = 0;
  memset(&v113, 0, 0x40u);
  v114 = 0;
  v115 = 0;
  memset(&v116, 0, 0x20u);
  v123 = 0;
  v124 = 0;
  v125 = 0;
  v126 = 0;
  v117 = 0;
  v118 = 0;
  v119 = 1065353216;
  v120 = 0;
  v121 = 0;
  v122 = 0;
  v127 = 0;
  v128 = 0;
  v129 = 0;
  v130 = 0;
  v131 = 0;
  if ( !aSlash )
  {
    v12 = -1;
LABEL_9:
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = -28;
      dword_109D1A08 = 0;
      unknown_libname_4(-28);
    }
    goto LABEL_11;
  }
  v13 = dword_109D1830;
  v14 = 0;
  while ( !*(_DWORD *)v13 || strcmp((const char *)(*(_DWORD *)v13 + 4), aSlash) )
  {
    ++v14;
    v13 += 4;
    if ( v14 >= 256 )
    {
      v12 = -1;
      goto LABEL_9;
    }
  }
  v12 = v14;
  if ( v14 == -1 )
    goto LABEL_9;
  if ( v14 > 255 )
  {
    v16 = 0;
    goto LABEL_18;
  }
LABEL_11:
  if ( byte_109D1834 || (v15 = *(_DWORD *)(dword_109D1830 + 4 * v12)) == 0 || *(_BYTE *)(v15 + 13) != 3 )
    v16 = *(_DWORD *)(dword_109D1830 + 4 * v12);
  else
    v16 = 0;
LABEL_18:
  v79 = v16;
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)v16 + 4))(v16, *(_DWORD *)(a2 + 12), a12);
  v85 = a1;
  if ( a1 == 0.0 )
  {
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = -28;
      dword_109D1A08 = 0;
      unknown_libname_4(-28);
    }
  }
  v17 = (double)*(signed int *)(v16 + 32) * v85;
  v75 = v17;
  if ( v17 == 0.0 )
    v75 = 0.1;
  v85 = sub_10026FF0(*(float *)(a11 + 20));
  v18 = (double)*(signed int *)(a11 + 24) * *(float *)(a2 + 12);
  if ( v18 < 1.0 )
    v18 = 1.0;
  LOBYTE(v87) = *(_BYTE *)a11;
  v88 = 1;
  v89 = 0;
  LOBYTE(v90) = 0;
  v86 = v18 + v75;
  sub_1003DEC0();
  v19 = dword_109D183C;
  sub_100156C0((int)&v104);
  v132 = 0;
  sub_10015540((int)&v106);
  v104 = &off_1008F66C;
  sub_10015A40((int)&v106, (int)&v87);
  v105 = v19;
  v132 = 1;
  sub_100158B0((int)&dword_109D17F0, (int)&v104);
  v132 = -1;
  sub_100156E0((int)&v104);
  v20 = sub_1003E110();
  if ( v20 != 1 )
  {
    v21 = dword_109D17F8;
    dword_109D17F0 = 0;
    v22 = (void **)sub_10015560((int)&unk_109D17F4, &v84[1]);
    sub_100155A0(&unk_109D17F4, (int)v84, *v22, v21);
    sub_100154D0((int)&dword_109D1804);
    sub_100154D0((int)&dword_109D1818);
    v84[1] = (int)&dword_109D1A00;
    v23 = 0;
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    v132 = 2;
    if ( &dword_109D1A00 )
    {
      sub_10015520((int)&dword_109D1A00, v20, 0, 0);
      v23 = dword_109D1A00;
    }
    v132 = -1;
    if ( v23 < 0 )
      unknown_libname_4(v23);
  }
  v24 = *(_BYTE *)a11;
  v97 = -1;
  LOBYTE(v95) = v24;
  v98 = 1;
  v99 = 0;
  v100 = 0;
  v101 = 10;
  v102 = 0;
  v103 = 1065353216;
  v96 = 0;
  sub_1003DEC0();
  v25 = dword_109D183C;
  sub_100156C0((int)&v104);
  v132 = 3;
  sub_1001A0D0((int)&v106);
  v104 = &off_10090068;
  sub_10020DB0((int)&v106, (int)&v95);
  v105 = v25;
  v132 = 4;
  sub_10026450((int)&dword_109D1804, (int)&v104);
  v132 = -1;
  sub_100156E0((int)&v104);
  v26 = sub_1003E110();
  if ( v26 != 1 )
  {
    v27 = dword_109D17F8;
    dword_109D17F0 = 0;
    v28 = (void **)sub_10015560((int)&unk_109D17F4, &v108);
    sub_100155A0(&unk_109D17F4, (int)&v107, *v28, v27);
    sub_100154D0((int)&dword_109D1804);
    sub_100154D0((int)&dword_109D1818);
    v84[1] = (int)&dword_109D1A00;
    v29 = 0;
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    v132 = 5;
    if ( &dword_109D1A00 )
    {
      sub_10015520((int)&dword_109D1A00, v26, 0, 0);
      v29 = dword_109D1A00;
    }
    v132 = -1;
    if ( v29 < 0 )
      unknown_libname_4(v29);
  }
  v30 = (signed __int64)v75;
  v31 = *(_BYTE *)a11;
  v84[0] = v30;
  v32 = sub_10031CA0((int)&v109, v75, a2, v30, v31, v79, a12);
  if ( v32 != 1 )
  {
    v33 = 0;
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      v33 = v32;
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = v32;
      dword_109D1A08 = 0;
    }
    if ( v33 < 0 )
      unknown_libname_4(v33);
  }
  v34 = a3;
  v35 = *(_WORD *)(a2 + 16) & 8;
  v76 = *(_WORD *)(a2 + 16) & 8;
  if ( v76 )
  {
    v36 = a9;
    v37 = a10;
    v38 = a7;
    v88 = a8;
  }
  else
  {
    v36 = a5;
    v88 = a4;
    v37 = a6;
    v38 = a3;
  }
  v90 = v37;
  v80 = a7 - a3;
  v39 = (90.0 - v85) * 0.01745329251994;
  v84[1] = a8 - a4;
  v92 = sin(v39);
  v94 = cos(v39);
  if ( fabs(v92) < 1.0e-10 )
  {
    v40 = (signed __int64)v86;
    v41 = v40;
    if ( v76 )
    {
      LODWORD(v85) = v38;
      v42 = v88 + v40 * ((v84[1] + v84[0]) / (signed int)v40) - v84[1] - v84[0];
      if ( (v90 - v42) % (signed int)v40 )
      {
        result = (v90 - v42) / (signed int)v40;
        v44 = result + 1;
      }
      else
      {
        result = (v90 - v42) / (signed int)v40;
        v44 = (v90 - v42) / v41;
      }
    }
    else
    {
      v44 = (a6 - a4 - (signed int)v40) / (signed int)v40 + 1;
      result = (a6 - a4) / (signed int)v40;
      if ( (a6 - a4) % v41 )
        v44 = (a6 - a4 - v41) / v41 + 2;
      LODWORD(v85) = a3;
      v42 = a4;
    }
    v45 = v42;
    if ( v44 > 0 )
    {
      v81 = v44;
      do
      {
        sub_10033460(__PAIR__(v42, LODWORD(v85)), v36, v45, (int)&v109, 0);
        v42 += v41;
        v45 += v41;
        result = v81-- - 1;
      }
      while ( v81 );
    }
    return result;
  }
  if ( fabs(v94) < 1.0e-10 )
  {
    v46 = (signed __int64)v86;
    v47 = v46;
    if ( v76 )
    {
      v34 = v38 + v46 * ((v80 + v84[0]) / (signed int)v46) - v80 - v84[0];
      v48 = v88;
      v49 = v36 - v34;
      if ( !(v49 % (signed int)v46) )
      {
        result = v49 / (signed int)v46;
        v50 = v49 / v47;
        goto LABEL_62;
      }
      result = v49 / (signed int)v46;
      v50 = v49 / v47;
    }
    else
    {
      v48 = a4;
      v50 = (signed int)(a5 - a3 - v46) / (signed int)v46 + 1;
      result = (signed int)(a5 - a3) / (signed int)v46;
      if ( !((signed int)(a5 - a3) % v47) )
        goto LABEL_62;
    }
    ++v50;
LABEL_62:
    v51 = v34;
    if ( v50 > 0 )
    {
      v82 = v50;
      do
      {
        sub_10033460(__PAIR__(v48, v34), v51, v90, (int)&v109, 0);
        v34 += v47;
        v51 += v47;
        result = v82-- - 1;
      }
      while ( v82 );
    }
    return result;
  }
  if ( v92 <= 0.0 || v94 >= 0.0 )
  {
    LODWORD(v93) = v38;
    v52 = 1;
    LODWORD(v85) = v36;
    v77 = 1;
  }
  else
  {
    LODWORD(v85) = v38;
    LODWORD(v93) = v36;
    v52 = -1;
    v77 = -1;
    v80 = v36 - a5;
  }
  if ( v35 )
  {
    v53 = (double)v84[1] * v94 / v92 + (double)v80;
    v54 = (double)v77;
    v55 = v54 * v86 / v92;
    v84[1] = (signed __int64)(v53 / v55);
    v78 = (double)v84[0] - (v53 - (double)v84[1] * v55) * v54 * v92;
    if ( v78 >= 0.0 )
      goto LABEL_75;
    v56 = v78 + v86;
  }
  else
  {
    v56 = (double)v84[0];
  }
  v78 = v56;
LABEL_75:
  v84[1] = 0;
  v83 = LODWORD(v85) * v52;
  while ( 1 )
  {
    v57 = v78 / v92;
    v58 = v57 <= 0.0 ? v57 - 0.5 : v57 + 0.5;
    v59 = (signed __int64)v58;
    v60 = v78 / v94;
    v61 = v59;
    LODWORD(v91) = v59;
    v62 = v60 <= 0.0 ? v60 - 0.5 : v60 + 0.5;
    HIDWORD(v91) = (signed __int64)v62;
    v63 = v52 * v59;
    if ( v52 * (v52 * v61 + LODWORD(v93)) > v83 )
    {
      v65 = LODWORD(v85);
      v84[0] = LODWORD(v93) + v63 - LODWORD(v85);
      v66 = (double)v84[0] * ((double)SHIDWORD(v91) / (double)SLODWORD(v91));
      v67 = v66 <= 0.0 ? v66 - 0.5 : v66 + 0.5;
      v64 = (unsigned __int64)(signed __int64)v67 + v88;
    }
    else
    {
      v64 = v88;
      v65 = v52 * v61 + LODWORD(v93);
    }
    v68 = v90;
    if ( v52 * HIDWORD(v91) + v88 > v90 )
    {
      v69 = v90;
      v84[0] = v88 + v52 * HIDWORD(v91) - v90;
      v70 = (double)v84[0] / ((double)SHIDWORD(v91) / (double)SLODWORD(v91));
      v71 = v70 <= 0.0 ? v70 - 0.5 : v70 + 0.5;
      v68 = v90;
      result = LODWORD(v93) + (unsigned __int64)(signed __int64)v71;
    }
    else
    {
      result = LODWORD(v93);
      v69 = v52 * HIDWORD(v91) + v88;
    }
    if ( v64 > v68 || result * v52 > SLODWORD(v85) )
      break;
    sub_10033460(__PAIR__(v69, result), v65, v64, (int)&v109, 0);
    v74 = __OFSUB__(v84[1] + 1, 5000);
    v72 = v84[1] == 4999;
    v73 = v84[1]++ - 4999 < 0;
    v78 = v78 + v86;
    if ( !((unsigned __int8)(v73 ^ v74) | v72) )
    {
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      if ( &dword_109D1A00 )
      {
        dword_109D1A00 = -6;
        LOWORD(dword_109D1A04) = 0;
        dword_109D1A08 = 0;
        unknown_libname_4(-6);
      }
    }
  }
  return result;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 1008F66C: using guessed type int (*off_1008F66C)();
// 10090068: using guessed type int (*off_10090068)();
// 109D17F0: using guessed type int dword_109D17F0;
// 109D1804: using guessed type int dword_109D1804;
// 109D1818: using guessed type int dword_109D1818;
// 109D1830: using guessed type int dword_109D1830;
// 109D1834: using guessed type char byte_109D1834;
// 109D183C: using guessed type int dword_109D183C;
// 109D1A00: using guessed type int dword_109D1A00;
// 109D1A04: using guessed type int dword_109D1A04;
// 109D1A08: using guessed type int dword_109D1A08;

//----- (10037300) --------------------------------------------------------
int __usercall sub_10037300@<eax>(double a1@<st0>, int a2, int a3, int a4, unsigned int a5, int a6, int a7, int a8, unsigned int a9, int a10, int a11, int a12, int a13)
{
  signed int v13; // esi@2
  int v14; // edx@3
  signed int v15; // edi@3
  int v16; // eax@12
  int v17; // ebx@14
  double v18; // st7@21
  double v19; // st7@23
  char v20; // al@25
  int v21; // esi@25
  signed int v22; // esi@25
  int v23; // ST14_4@26
  void **v24; // eax@26
  signed int v25; // eax@26
  char v26; // al@30
  int v27; // esi@30
  int v28; // esi@30
  int v29; // ST14_4@31
  void **v30; // eax@31
  int v31; // eax@31
  signed __int64 v32; // rax@35
  int v33; // ST0C_4@35
  signed int v34; // eax@35
  signed int v35; // ecx@36
  int v36; // esi@40
  unsigned int v37; // edi@41
  int v38; // edx@41
  int v39; // ebx@41
  long double v40; // st7@43
  signed __int64 v41; // rax@44
  signed int v42; // ebp@44
  int v43; // esi@45
  int result; // eax@46
  int v45; // ecx@46
  unsigned int v46; // ebx@51
  signed __int64 v47; // rax@58
  signed int v48; // ebp@58
  int v49; // ebx@59
  signed int v50; // edi@59
  int v51; // ecx@60
  unsigned int v52; // edi@64
  signed int v53; // esi@72
  long double v54; // st7@75
  double v55; // st6@75
  long double v56; // st5@75
  double v57; // st7@76
  long double v58; // st7@80
  long double v59; // st7@81
  signed __int64 v60; // rax@83
  long double v61; // st7@83
  int v62; // edi@83
  long double v63; // st7@84
  int v64; // eax@86
  int v65; // ebp@87
  int v66; // ebx@87
  double v67; // st7@88
  double v68; // st7@89
  int v69; // edx@92
  int v70; // edi@93
  double v71; // st7@94
  double v72; // st7@95
  bool v73; // zf@102
  bool v74; // sf@102
  unsigned __int8 v75; // of@102
  float v76; // [sp+20h] [bp-1D8h]@21
  __int16 v77; // [sp+20h] [bp-1D8h]@40
  float v78; // [sp+20h] [bp-1D8h]@75
  int v79; // [sp+24h] [bp-1D4h]@43
  int v80; // [sp+24h] [bp-1D4h]@52
  int v81; // [sp+24h] [bp-1D4h]@65
  int *v82; // [sp+28h] [bp-1D0h]@26
  double v83; // [sp+2Ch] [bp-1CCh]@35
  double v84; // [sp+34h] [bp-1C4h]@18
  int v85; // [sp+3Ch] [bp-1BCh]@26
  float v86; // [sp+40h] [bp-1B8h]@25
  int v87; // [sp+44h] [bp-1B4h]@25
  int v88; // [sp+48h] [bp-1B0h]@25
  double v89; // [sp+4Ch] [bp-1ACh]@25
  long double v90; // [sp+54h] [bp-1A4h]@43
  double v91; // [sp+5Ch] [bp-19Ch]@72
  long double v92; // [sp+64h] [bp-194h]@43
  int v93; // [sp+6Ch] [bp-18Ch]@30
  int v94; // [sp+70h] [bp-188h]@30
  int v95; // [sp+74h] [bp-184h]@30
  int v96; // [sp+78h] [bp-180h]@30
  int v97; // [sp+7Ch] [bp-17Ch]@30
  int v98; // [sp+80h] [bp-178h]@30
  int v99; // [sp+84h] [bp-174h]@30
  int v100; // [sp+88h] [bp-170h]@30
  int v101; // [sp+8Ch] [bp-16Ch]@30
  int (**v102)(); // [sp+90h] [bp-168h]@25
  int v103; // [sp+9Ch] [bp-15Ch]@25
  char v104; // [sp+A0h] [bp-158h]@25
  char v105; // [sp+C4h] [bp-134h]@31
  char v106; // [sp+C8h] [bp-130h]@1
  __int64 v107; // [sp+F8h] [bp-100h]@54
  char v108; // [sp+100h] [bp-F8h]@53
  char v109; // [sp+101h] [bp-F7h]@53
  int v110; // [sp+108h] [bp-F0h]@31
  int v111; // [sp+10Ch] [bp-ECh]@1
  char v112; // [sp+110h] [bp-E8h]@1
  char v113; // [sp+13Ch] [bp-BCh]@1
  char v114; // [sp+13Dh] [bp-BBh]@1
  char v115; // [sp+140h] [bp-B8h]@1
  char v116; // [sp+180h] [bp-78h]@1
  int v117; // [sp+184h] [bp-74h]@1
  char v118; // [sp+188h] [bp-70h]@1
  int v119; // [sp+1A8h] [bp-50h]@1
  int v120; // [sp+1ACh] [bp-4Ch]@1
  int v121; // [sp+1B8h] [bp-40h]@1
  int v122; // [sp+1BCh] [bp-3Ch]@1
  int v123; // [sp+1C0h] [bp-38h]@1
  int v124; // [sp+1C4h] [bp-34h]@1
  int v125; // [sp+1C8h] [bp-30h]@1
  int v126; // [sp+1CCh] [bp-2Ch]@1
  int v127; // [sp+1D0h] [bp-28h]@1
  int v128; // [sp+1D4h] [bp-24h]@1
  int v129; // [sp+1D8h] [bp-20h]@1
  int v130; // [sp+1DCh] [bp-1Ch]@1
  int v131; // [sp+1E0h] [bp-18h]@1
  int v132; // [sp+1E4h] [bp-14h]@1
  int v133; // [sp+1E8h] [bp-10h]@1
  int v134; // [sp+1F4h] [bp-4h]@25

  sub_1003BC70((int)&v112);
  v111 = 0;
  v113 = 1;
  v114 = 0;
  memset(&v115, 0, 0x40u);
  v116 = 0;
  v117 = 0;
  memset(&v118, 0, 0x20u);
  v125 = 0;
  v126 = 0;
  v127 = 0;
  v128 = 0;
  v119 = 0;
  v120 = 0;
  v121 = 1065353216;
  v122 = 0;
  v123 = 0;
  v124 = 0;
  v129 = 0;
  v130 = 0;
  v131 = 0;
  v132 = 0;
  v133 = 0;
  sub_10035A70((int)&v106, a2, a13, (int)&v111);
  if ( !aSlash )
  {
    v13 = -1;
LABEL_9:
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = -28;
      dword_109D1A08 = 0;
      unknown_libname_4(-28);
    }
    goto LABEL_11;
  }
  v14 = dword_109D1830;
  v15 = 0;
  while ( !*(_DWORD *)v14 || strcmp((const char *)(*(_DWORD *)v14 + 4), aSlash) )
  {
    ++v15;
    v14 += 4;
    if ( v15 >= 256 )
    {
      v13 = -1;
      goto LABEL_9;
    }
  }
  v13 = v15;
  if ( v15 == -1 )
    goto LABEL_9;
  if ( v15 > 255 )
  {
    v17 = 0;
    goto LABEL_18;
  }
LABEL_11:
  if ( byte_109D1834 || (v16 = *(_DWORD *)(dword_109D1830 + 4 * v13)) == 0 || *(_BYTE *)(v16 + 13) != 3 )
    v17 = *(_DWORD *)(dword_109D1830 + 4 * v13);
  else
    v17 = 0;
LABEL_18:
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)v17 + 4))(v17, *(_DWORD *)(a2 + 12), a12);
  v84 = a1;
  if ( a1 == 0.0 )
  {
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = -28;
      dword_109D1A08 = 0;
      unknown_libname_4(-28);
    }
  }
  v18 = (double)*(signed int *)(v17 + 32) * v84;
  v76 = v18;
  if ( v18 == 0.0 )
    v76 = 0.1;
  v84 = sub_10026FF0(*(float *)(a11 + 20));
  v19 = (double)*(signed int *)(a11 + 24) * *(float *)(a2 + 12);
  if ( v19 < 1.0 )
    v19 = 1.0;
  v20 = *(_BYTE *)a11;
  v88 = 1;
  LOBYTE(v87) = v20;
  LODWORD(v89) = 0;
  BYTE4(v89) = 0;
  v86 = v19 + v76;
  sub_1003DEC0();
  v21 = dword_109D183C;
  sub_100156C0((int)&v102);
  v134 = 0;
  sub_10015540((int)&v104);
  v102 = &off_1008F66C;
  sub_10015A40((int)&v104, (int)&v87);
  v103 = v21;
  v134 = 1;
  sub_100158B0((int)&dword_109D17F0, (int)&v102);
  v134 = -1;
  sub_100156E0((int)&v102);
  v22 = sub_1003E110();
  if ( v22 != 1 )
  {
    v23 = dword_109D17F8;
    dword_109D17F0 = 0;
    v24 = (void **)sub_10015560((int)&unk_109D17F4, &v82);
    sub_100155A0(&unk_109D17F4, (int)&v85, *v24, v23);
    sub_100154D0((int)&dword_109D1804);
    sub_100154D0((int)&dword_109D1818);
    v25 = 0;
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      v25 = v22;
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = v22;
      dword_109D1A08 = 0;
    }
    if ( v25 < 0 )
      unknown_libname_4(v25);
  }
  v26 = *(_BYTE *)a11;
  v95 = -1;
  LOBYTE(v93) = v26;
  v96 = 1;
  v97 = 0;
  v98 = 0;
  v99 = 10;
  v100 = 0;
  v101 = 1065353216;
  v94 = 0;
  sub_1003DEC0();
  v27 = dword_109D183C;
  sub_100156C0((int)&v102);
  v134 = 2;
  sub_1001A0D0((int)&v104);
  v102 = &off_10090068;
  sub_10020DB0((int)&v104, (int)&v93);
  v103 = v27;
  v134 = 3;
  sub_10026450((int)&dword_109D1804, (int)&v102);
  v134 = -1;
  sub_100156E0((int)&v102);
  v28 = sub_1003E110();
  if ( v28 != 1 )
  {
    v29 = dword_109D17F8;
    dword_109D17F0 = 0;
    v30 = (void **)sub_10015560((int)&unk_109D17F4, &v105);
    sub_100155A0(&unk_109D17F4, (int)&v110, *v30, v29);
    sub_100154D0((int)&dword_109D1804);
    sub_100154D0((int)&dword_109D1818);
    v82 = &dword_109D1A00;
    v31 = 0;
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    v134 = 4;
    if ( &dword_109D1A00 )
    {
      sub_10015520((int)&dword_109D1A00, v28, 0, 0);
      v31 = dword_109D1A00;
    }
    v134 = -1;
    if ( v31 < 0 )
      unknown_libname_4(v31);
  }
  v32 = (signed __int64)v76;
  v33 = *(_BYTE *)a11;
  LODWORD(v83) = v32;
  v34 = sub_10031CA0((int)&v111, v76, a2, v32, v33, v17, a12);
  if ( v34 != 1 )
  {
    v35 = 0;
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      v35 = v34;
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = v34;
      dword_109D1A08 = 0;
    }
    if ( v35 < 0 )
      unknown_libname_4(v35);
  }
  v36 = a3;
  v77 = *(_WORD *)(a2 + 16) & 8;
  if ( v77 )
  {
    v37 = a9;
    v38 = a10;
    v39 = a7;
    v88 = a8;
  }
  else
  {
    v37 = a5;
    v88 = a4;
    v38 = a6;
    v39 = a3;
  }
  HIDWORD(v89) = v38;
  v79 = a7 - a3;
  v40 = (90.0 - v84) * 0.01745329251994;
  v85 = a8 - a4;
  v90 = sin(v40);
  v92 = cos(v40);
  if ( fabs(v90) < 1.0e-10 )
  {
    v41 = (signed __int64)v86;
    v42 = v41;
    if ( v77 )
    {
      LODWORD(v84) = v39;
      v43 = v88 + v41 * ((v85 + LODWORD(v83)) / (signed int)v41) - v85 - LODWORD(v83);
      if ( (HIDWORD(v89) - v43) % (signed int)v41 )
      {
        result = (HIDWORD(v89) - v43) / (signed int)v41;
        v45 = result + 1;
      }
      else
      {
        result = (HIDWORD(v89) - v43) / (signed int)v41;
        v45 = (HIDWORD(v89) - v43) / v42;
      }
    }
    else
    {
      v45 = (a6 - (signed int)v41 - a4) / (signed int)v41 + 1;
      result = (a6 - a4) / (signed int)v41;
      if ( (a6 - a4) % v42 )
        v45 = (a6 - v42 - a4) / v42 + 2;
      LODWORD(v84) = a3;
      v43 = a4;
    }
    v46 = v43;
    if ( v45 > 0 )
    {
      v80 = v45;
      do
      {
        v108 = 1;
        sub_1003CAC0(SLODWORD(v84), v43, v37, v46, (void (__cdecl *)(int, int, int))sub_10035C60, (int)&v106);
        if ( v109 )
          sub_10033460(v107, v37, v46, (int)&v111, 0);
        v43 += v42;
        v46 += v42;
        result = v80-- - 1;
      }
      while ( v80 );
    }
    return result;
  }
  if ( fabs(v92) < 1.0e-10 )
  {
    v47 = (signed __int64)v86;
    v48 = v47;
    if ( v77 )
    {
      v36 = v39 + v47 * ((v79 + LODWORD(v83)) / (signed int)v47) - v79 - LODWORD(v83);
      v49 = v88;
      v50 = v37 - v36;
      if ( !(v50 % (signed int)v47) )
      {
        result = v50 / (signed int)v47;
        v51 = v50 / v48;
        goto LABEL_64;
      }
      result = v50 / (signed int)v47;
      v51 = v50 / v48;
    }
    else
    {
      v49 = a4;
      v51 = (signed int)(a5 - v47 - a3) / (signed int)v47 + 1;
      result = (signed int)(a5 - a3) / (signed int)v47;
      if ( !((signed int)(a5 - a3) % v48) )
        goto LABEL_64;
    }
    ++v51;
LABEL_64:
    v52 = v36;
    if ( v51 > 0 )
    {
      v81 = v51;
      do
      {
        v108 = 1;
        sub_1003CAC0(v36, v49, v52, SHIDWORD(v89), (void (__cdecl *)(int, int, int))sub_10035C60, (int)&v106);
        if ( v109 )
          sub_10033460(v107, v52, HIDWORD(v89), (int)&v111, 0);
        v36 += v48;
        v52 += v48;
        result = v81-- - 1;
      }
      while ( v81 );
    }
    return result;
  }
  if ( v90 <= 0.0 || v92 >= 0.0 )
  {
    v53 = 1;
    LODWORD(v91) = v39;
    LODWORD(v84) = v37;
    v82 = (int *)1;
  }
  else
  {
    LODWORD(v91) = v37;
    v53 = -1;
    LODWORD(v84) = v39;
    v82 = (int *)-1;
    v79 = v37 - a5;
  }
  if ( v77 )
  {
    v54 = (double)v85 * v92 / v90 + (double)v79;
    v55 = (double)(signed int)v82;
    v56 = v55 * v86 / v90;
    v82 = (int *)(signed __int64)(v54 / v56);
    v78 = (double)SLODWORD(v83) - (v54 - (double)(signed int)v82 * v56) * v55 * v90;
    if ( v78 >= 0.0 )
      goto LABEL_79;
    v57 = v78 + v86;
  }
  else
  {
    v57 = (double)SLODWORD(v83);
  }
  v78 = v57;
LABEL_79:
  v82 = 0;
  v85 = LODWORD(v84) * v53;
  while ( 1 )
  {
    v58 = v78 / v90;
    v59 = v58 <= 0.0 ? v58 - 0.5 : v58 + 0.5;
    v60 = (signed __int64)v59;
    v61 = v78 / v92;
    v62 = v60;
    LODWORD(v83) = v60;
    v63 = v61 <= 0.0 ? v61 - 0.5 : v61 + 0.5;
    HIDWORD(v83) = (signed __int64)v63;
    v64 = v53 * v60;
    if ( v53 * (v53 * v62 + LODWORD(v91)) > v85 )
    {
      v66 = LODWORD(v84);
      v67 = (double)(LODWORD(v91) + v64 - LODWORD(v84)) * ((double)SHIDWORD(v83) / (double)SLODWORD(v83));
      v68 = v67 <= 0.0 ? v67 - 0.5 : v67 + 0.5;
      v65 = (unsigned __int64)(signed __int64)v68 + v88;
    }
    else
    {
      v65 = v88;
      v66 = v53 * v62 + LODWORD(v91);
    }
    v69 = HIDWORD(v89);
    if ( v53 * HIDWORD(v83) + v88 > SHIDWORD(v89) )
    {
      v70 = HIDWORD(v89);
      v71 = (double)(v88 + v53 * HIDWORD(v83) - HIDWORD(v89)) / ((double)SHIDWORD(v83) / (double)SLODWORD(v83));
      v72 = v71 <= 0.0 ? v71 - 0.5 : v71 + 0.5;
      v69 = HIDWORD(v89);
      result = LODWORD(v91) + (unsigned __int64)(signed __int64)v72;
    }
    else
    {
      result = LODWORD(v91);
      v70 = v53 * HIDWORD(v83) + v88;
    }
    if ( v65 > v69 || result * v53 > SLODWORD(v84) )
      break;
    v108 = 1;
    sub_1003CAC0(result, v70, v66, v65, (void (__cdecl *)(int, int, int))sub_10035C60, (int)&v106);
    if ( v109 )
      sub_10033460(v107, v66, v65, (int)&v111, 0);
    v75 = __OFSUB__((char *)v82 + 1, 5000);
    v73 = (int *)((char *)v82 + 1) == (int *)5000;
    v74 = (signed int)v82 - 4999 < 0;
    v82 = (int *)((char *)v82 + 1);
    v78 = v78 + v86;
    if ( !((unsigned __int8)(v74 ^ v75) | v73) )
    {
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      if ( &dword_109D1A00 )
      {
        dword_109D1A00 = -6;
        LOWORD(dword_109D1A04) = 0;
        dword_109D1A08 = 0;
        unknown_libname_4(-6);
      }
    }
  }
  return result;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 1008F66C: using guessed type int (*off_1008F66C)();
// 10090068: using guessed type int (*off_10090068)();
// 109D17F0: using guessed type int dword_109D17F0;
// 109D1804: using guessed type int dword_109D1804;
// 109D1818: using guessed type int dword_109D1818;
// 109D1830: using guessed type int dword_109D1830;
// 109D1834: using guessed type char byte_109D1834;
// 109D183C: using guessed type int dword_109D183C;
// 109D1A00: using guessed type int dword_109D1A00;
// 109D1A04: using guessed type int dword_109D1A04;
// 109D1A08: using guessed type int dword_109D1A08;

//----- (10037E60) --------------------------------------------------------
int __usercall sub_10037E60@<eax>(double a1@<st0>, int a2, double a3, unsigned int a4, int a5, double a6, unsigned int a7, int a8, int a9, int a10)
{
  signed int v10; // esi@2
  int v11; // edx@3
  signed int v12; // edi@3
  int v13; // eax@12
  int v14; // esi@14
  double v15; // st7@21
  signed int v16; // esi@24
  int v17; // edx@25
  signed int v18; // edi@25
  int v19; // eax@34
  int v20; // esi@36
  int v21; // edx@40
  int v22; // ecx@40
  double v23; // st7@43
  double v24; // st7@47
  long double v25; // st7@47
  double v26; // st7@47
  int v27; // edi@50
  int v28; // ebx@50
  signed int v29; // edi@53
  int v30; // esi@53
  int v31; // esi@53
  int v32; // eax@54
  int v33; // esi@58
  int v34; // esi@58
  int v35; // eax@59
  signed int v36; // eax@63
  signed int v37; // ecx@64
  int result; // eax@68
  int v39; // esi@69
  int v40; // ecx@69
  signed __int64 v41; // rax@72
  unsigned int v42; // esi@72
  signed __int64 v43; // rax@72
  int v44; // ebx@73
  double v45; // st7@77
  double v46; // st7@78
  unsigned int v47; // edi@81
  double v48; // st7@85
  int v49; // esi@87
  int v50; // esi@87
  int v51; // eax@88
  int v52; // esi@92
  int v53; // esi@92
  int v54; // eax@93
  signed int v55; // eax@97
  signed int v56; // ecx@98
  signed int v57; // edi@107
  int v58; // esi@107
  int v59; // esi@107
  int v60; // eax@108
  int v61; // esi@112
  int v62; // esi@112
  int v63; // eax@113
  signed int v64; // eax@117
  signed int v65; // ecx@118
  signed __int64 v66; // rax@124
  unsigned int v67; // esi@124
  signed __int64 v68; // rax@124
  int v69; // ecx@125
  double v70; // st7@127
  double v71; // st7@128
  unsigned int v72; // ebx@132
  double v73; // st7@135
  int v74; // esi@138
  int v75; // esi@138
  int v76; // eax@139
  int v77; // esi@143
  int v78; // esi@143
  int v79; // eax@144
  signed int v80; // eax@148
  signed int v81; // ecx@149
  int v82; // esi@159
  int v83; // esi@159
  int v84; // eax@160
  int v85; // esi@164
  int v86; // esi@164
  int v87; // eax@165
  signed int v88; // eax@169
  signed int v89; // ecx@170
  long double v90; // st7@177
  long double v91; // st7@181
  long double v92; // st7@182
  signed __int64 v93; // rax@184
  long double v94; // st7@184
  long double v95; // st7@185
  int v96; // edi@187
  int v97; // edx@188
  signed int v98; // ebx@188
  double v99; // st7@189
  double v100; // st7@190
  int v101; // ecx@193
  int v102; // esi@194
  int v103; // eax@194
  double v104; // st7@195
  double v105; // st7@196
  bool v106; // zf@201
  bool v107; // sf@201
  unsigned __int8 v108; // of@201
  int v109; // eax@205
  int v110; // esi@208
  signed int v111; // esi@208
  int v112; // ST14_4@209
  void **v113; // eax@209
  signed int v114; // eax@209
  int v115; // esi@213
  signed int v116; // esi@213
  signed int v117; // eax@214
  signed int v118; // eax@218
  signed int v119; // ecx@219
  float v120; // [sp+28h] [bp-274h]@68
  float v121; // [sp+28h] [bp-274h]@122
  float v122; // [sp+28h] [bp-274h]@174
  int v123; // [sp+2Ch] [bp-270h]@18
  float v124; // [sp+2Ch] [bp-270h]@177
  signed int v125; // [sp+34h] [bp-268h]@68
  signed int v126; // [sp+34h] [bp-268h]@122
  signed int v127; // [sp+34h] [bp-268h]@157
  float v128; // [sp+38h] [bp-264h]@21
  float v129; // [sp+3Ch] [bp-260h]@47
  int v130; // [sp+3Ch] [bp-260h]@82
  float v131; // [sp+40h] [bp-25Ch]@43
  long double v132; // [sp+44h] [bp-258h]@47
  unsigned int v133; // [sp+44h] [bp-258h]@72
  unsigned int v134; // [sp+48h] [bp-254h]@124
  int v135; // [sp+50h] [bp-24Ch]@180
  signed int v136; // [sp+54h] [bp-248h]@45
  int v137; // [sp+58h] [bp-244h]@52
  int v138; // [sp+58h] [bp-244h]@174
  int v139; // [sp+5Ch] [bp-240h]@52
  signed int v140; // [sp+5Ch] [bp-240h]@53
  int v141; // [sp+60h] [bp-23Ch]@52
  int v142; // [sp+60h] [bp-23Ch]@133
  int (**v143)(); // [sp+64h] [bp-238h]@58
  int v144; // [sp+68h] [bp-234h]@58
  int v145; // [sp+6Ch] [bp-230h]@58
  int v146; // [sp+70h] [bp-22Ch]@58
  int v147; // [sp+74h] [bp-228h]@58
  int v148; // [sp+78h] [bp-224h]@58
  int v149; // [sp+7Ch] [bp-220h]@58
  int v150; // [sp+80h] [bp-21Ch]@58
  int v151; // [sp+84h] [bp-218h]@58
  int v152; // [sp+88h] [bp-214h]@40
  double v153; // [sp+8Ch] [bp-210h]@50
  unsigned int v154; // [sp+94h] [bp-208h]@50
  int v155; // [sp+98h] [bp-204h]@52
  double v156; // [sp+9Ch] [bp-200h]@47
  int v157; // [sp+A4h] [bp-1F8h]@53
  int v158; // [sp+A8h] [bp-1F4h]@53
  int v159; // [sp+B0h] [bp-1ECh]@184
  int v160; // [sp+B4h] [bp-1E8h]@187
  char v161; // [sp+B8h] [bp-1E4h]@53
  int v162; // [sp+BCh] [bp-1E0h]@208
  int v163; // [sp+C0h] [bp-1DCh]@208
  int v164; // [sp+C4h] [bp-1D8h]@53
  char v165; // [sp+C8h] [bp-1D4h]@53
  double v166; // [sp+ECh] [bp-1B0h]@157
  int v167; // [sp+F4h] [bp-1A8h]@157
  long double v168; // [sp+FCh] [bp-1A0h]@47
  char v169; // [sp+108h] [bp-194h]@92
  int v170; // [sp+114h] [bp-188h]@92
  char v171; // [sp+118h] [bp-184h]@92
  int v172; // [sp+13Ch] [bp-160h]@175
  unsigned int v173; // [sp+140h] [bp-15Ch]@159
  int v174; // [sp+144h] [bp-158h]@159
  int v175; // [sp+148h] [bp-154h]@159
  int v176; // [sp+14Ch] [bp-150h]@159
  int v177; // [sp+150h] [bp-14Ch]@213
  int v178; // [sp+154h] [bp-148h]@213
  int v179; // [sp+158h] [bp-144h]@213
  int v180; // [sp+15Ch] [bp-140h]@213
  int v181; // [sp+160h] [bp-13Ch]@213
  int v182; // [sp+164h] [bp-138h]@213
  int v183; // [sp+168h] [bp-134h]@213
  int v184; // [sp+16Ch] [bp-130h]@213
  int v185; // [sp+170h] [bp-12Ch]@213
  char v186; // [sp+174h] [bp-128h]@209
  int v187; // [sp+178h] [bp-124h]@209
  char v188; // [sp+17Ch] [bp-120h]@213
  int v189; // [sp+188h] [bp-114h]@213
  char v190; // [sp+18Ch] [bp-110h]@213
  char v191; // [sp+1B0h] [bp-ECh]@1
  int v192; // [sp+26Ch] [bp-30h]@1
  int v193; // [sp+270h] [bp-2Ch]@1
  int v194; // [sp+274h] [bp-28h]@1
  int v195; // [sp+278h] [bp-24h]@1
  int v196; // [sp+27Ch] [bp-20h]@1
  int v197; // [sp+280h] [bp-1Ch]@1
  int v198; // [sp+284h] [bp-18h]@1
  int v199; // [sp+288h] [bp-14h]@1
  int v200; // [sp+28Ch] [bp-10h]@1
  int v201; // [sp+298h] [bp-4h]@53

  sub_1003BD00((int)&v191);
  v192 = 0;
  v193 = 0;
  v194 = 0;
  v195 = 0;
  v196 = 0;
  v197 = 0;
  v198 = 0;
  v199 = 0;
  v200 = 0;
  if ( !aLgbldgb )
  {
    v10 = -1;
LABEL_9:
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = -28;
      dword_109D1A08 = 0;
      unknown_libname_4(-28);
    }
    goto LABEL_11;
  }
  v11 = dword_109D1830;
  v12 = 0;
  while ( !*(_DWORD *)v11 || strcmp((const char *)(*(_DWORD *)v11 + 4), aLgbldgb) )
  {
    ++v12;
    v11 += 4;
    if ( v12 >= 256 )
    {
      v10 = -1;
      goto LABEL_9;
    }
  }
  v10 = v12;
  if ( v12 == -1 )
    goto LABEL_9;
  if ( v12 > 255 )
  {
    v14 = 0;
    goto LABEL_18;
  }
LABEL_11:
  if ( byte_109D1834 || (v13 = *(_DWORD *)(dword_109D1830 + 4 * v10)) == 0 || *(_BYTE *)(v13 + 13) != 3 )
    v14 = *(_DWORD *)(dword_109D1830 + 4 * v10);
  else
    v14 = 0;
LABEL_18:
  v123 = v14;
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)v14 + 4))(v14, *(_DWORD *)(a2 + 12), a10);
  if ( a1 == 0.0 )
  {
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = -28;
      dword_109D1A08 = 0;
      unknown_libname_4(-28);
    }
  }
  v15 = (double)*(signed int *)(v14 + 32) * a1;
  v128 = v15;
  if ( v15 == 0.0 )
    v128 = 0.1;
  if ( !aLgbldgw )
  {
    v16 = -1;
LABEL_31:
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = -28;
      dword_109D1A08 = 0;
      unknown_libname_4(-28);
    }
    goto LABEL_33;
  }
  v17 = dword_109D1830;
  v18 = 0;
  while ( !*(_DWORD *)v17 || strcmp((const char *)(*(_DWORD *)v17 + 4), aLgbldgw) )
  {
    ++v18;
    v17 += 4;
    if ( v18 >= 256 )
    {
      v16 = -1;
      goto LABEL_31;
    }
  }
  v16 = v18;
  if ( v18 == -1 )
    goto LABEL_31;
  if ( v18 > 255 )
  {
    v20 = 0;
    goto LABEL_40;
  }
LABEL_33:
  if ( byte_109D1834 || (v19 = *(_DWORD *)(dword_109D1830 + 4 * v16)) == 0 || *(_BYTE *)(v19 + 13) != 3 )
    v20 = *(_DWORD *)(dword_109D1830 + 4 * v16);
  else
    v20 = 0;
LABEL_40:
  v21 = *(_DWORD *)v20;
  v22 = *(_DWORD *)(a2 + 12);
  v152 = v20;
  (*(void (__thiscall **)(int, int, int))(v21 + 4))(v20, v22, a10);
  if ( v15 == 0.0 )
  {
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = -28;
      dword_109D1A08 = 0;
      unknown_libname_4(-28);
    }
  }
  v23 = (double)*(signed int *)(v20 + 32) * v15;
  v131 = v23;
  if ( v23 == 0.0 )
    v131 = 0.1;
  v136 = 4;
  if ( v131 < 1.0 )
    v136 = 3;
  v24 = sub_10026FF0(*(float *)(a9 + 20));
  v156 = v24;
  v25 = v24 * 0.01745329251994;
  v132 = sin(v25);
  v168 = cos(v25);
  v26 = v131 + v128 + v131 + v128;
  v129 = v26;
  if ( v129 < 1.0 )
    v129 = 1.0;
  if ( *(_BYTE *)(a2 + 16) & 8 )
  {
    v27 = a7;
    v28 = a8;
    v153 = a6;
    v154 = a7;
  }
  else
  {
    v27 = a4;
    v28 = a5;
    v153 = a3;
    v154 = a4;
  }
  v155 = v28;
  v139 = LODWORD(a6) - LODWORD(a3);
  v141 = HIDWORD(a6) - HIDWORD(a3);
  v137 = (signed __int64)v26;
  if ( fabs(v132) < 1.0e-10 )
  {
    v29 = (signed __int64)v129;
    v140 = (signed __int64)v129;
    LOBYTE(v156) = 0;
    HIDWORD(v156) = 1;
    v157 = 0;
    LOBYTE(v158) = 0;
    sub_1003DEC0();
    v30 = dword_109D183C;
    sub_100156C0((int)&v161);
    v201 = 0;
    sub_10015540((int)&v165);
    *(_DWORD *)&v161 = &off_1008F66C;
    sub_10015A40((int)&v165, (int)&v156);
    v164 = v30;
    v201 = 1;
    sub_100158B0((int)&dword_109D17F0, (int)&v161);
    v201 = -1;
    sub_100156E0((int)&v161);
    v31 = sub_1003E110();
    if ( v31 != 1 )
    {
      sub_100154D0((int)&dword_109D17F0);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v32 = 0;
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      v201 = 2;
      if ( &dword_109D1A00 )
      {
        sub_10015520((int)&dword_109D1A00, v31, 0, 0);
        v32 = dword_109D1A00;
      }
      v201 = -1;
      if ( v32 < 0 )
        unknown_libname_4(v32);
    }
    LOBYTE(v143) = 0;
    v145 = -1;
    v146 = 1;
    v147 = 0;
    v148 = 0;
    v149 = 10;
    v150 = 0;
    v151 = 1065353216;
    v144 = 0;
    sub_1003DEC0();
    v33 = dword_109D183C;
    sub_100156C0((int)&v161);
    v201 = 3;
    sub_1001A0D0((int)&v165);
    *(_DWORD *)&v161 = &off_10090068;
    sub_10020DB0((int)&v165, (int)&v143);
    v164 = v33;
    v201 = 4;
    sub_10026450((int)&dword_109D1804, (int)&v161);
    v201 = -1;
    sub_100156E0((int)&v161);
    v34 = sub_1003E110();
    if ( v34 != 1 )
    {
      sub_100154D0((int)&dword_109D17F0);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v35 = 0;
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      v201 = 5;
      if ( &dword_109D1A00 )
      {
        sub_10015520((int)&dword_109D1A00, v34, 0, 0);
        v35 = dword_109D1A00;
      }
      v201 = -1;
      if ( v35 < 0 )
        unknown_libname_4(v35);
    }
    v36 = sub_10031CA0((int)&v191, v128, a2, (signed __int64)v128, 0, v123, a10);
    if ( v36 != 1 )
    {
      v37 = 0;
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      if ( &dword_109D1A00 )
      {
        v37 = v36;
        LOWORD(dword_109D1A04) = 0;
        dword_109D1A00 = v36;
        dword_109D1A08 = 0;
      }
      if ( v37 < 0 )
        unknown_libname_4(v37);
    }
    result = v136;
    v120 = 0.0;
    v125 = 0;
    if ( v136 > 0 )
    {
      v39 = HIDWORD(a3);
      v40 = a5;
      while ( 1 )
      {
        if ( *(_BYTE *)(a2 + 16) & 8 )
        {
          v133 = LODWORD(v153);
          v41 = (signed __int64)((double)(HIDWORD(v153) + v29 * ((v137 + v141) / v29) - v137 - v141) + v120);
          v42 = v41;
          v43 = v155 - (signed int)v41;
          v44 = (signed int)v43 % v29 ? (unsigned __int64)(v43 / v29) + 1 : (unsigned int)(v43 / v29);
        }
        else
        {
          v44 = (v40 - v29 - v39) / v29 + 1;
          if ( (v40 - v39) % v29 )
            v44 = (v40 - v29 - v39) / v29 + 2;
          v133 = LODWORD(a3);
          v45 = (double)SHIDWORD(a3) + v120;
          v46 = v45 <= 0.0 ? v45 - 0.5 : v45 + 0.5;
          v42 = (signed __int64)v46;
        }
        v47 = v42;
        if ( v44 > 0 )
        {
          v130 = v44;
          do
          {
            sub_10033460(__PAIR__(v42, v133), v154, v47, (int)&v191, 0);
            v42 += v140;
            v47 += v140;
            --v130;
          }
          while ( v130 );
        }
        if ( v125 )
        {
          if ( v125 == 1 )
          {
            LOBYTE(v156) = 1;
            HIDWORD(v156) = 1;
            v157 = 0;
            LOBYTE(v158) = 0;
            sub_1003DEC0();
            v49 = dword_109D183C;
            sub_100156C0((int)&v161);
            v201 = 6;
            sub_10015540((int)&v165);
            *(_DWORD *)&v161 = &off_1008F66C;
            sub_10015A40((int)&v165, (int)&v156);
            v164 = v49;
            v201 = 7;
            sub_100158B0((int)&dword_109D17F0, (int)&v161);
            v201 = -1;
            sub_100156E0((int)&v161);
            v50 = sub_1003E110();
            if ( v50 != 1 )
            {
              sub_100154D0((int)&dword_109D17F0);
              sub_100154D0((int)&dword_109D1804);
              sub_100154D0((int)&dword_109D1818);
              v51 = 0;
              dword_109D1A04 = 0;
              dword_109D1A00 = 0;
              dword_109D1A08 = 0;
              v201 = 8;
              if ( &dword_109D1A00 )
              {
                sub_10015520((int)&dword_109D1A00, v50, 0, 0);
                v51 = dword_109D1A00;
              }
              v201 = -1;
              if ( v51 < 0 )
                unknown_libname_4(v51);
            }
            LOBYTE(v143) = 1;
            v145 = -1;
            v146 = 1;
            v147 = 0;
            v148 = 0;
            v149 = 10;
            v150 = 0;
            v151 = 1065353216;
            v144 = 0;
            sub_1003DEC0();
            v52 = dword_109D183C;
            sub_100156C0((int)&v169);
            v201 = 9;
            sub_1001A0D0((int)&v171);
            *(_DWORD *)&v169 = &off_10090068;
            sub_10020DB0((int)&v171, (int)&v143);
            v170 = v52;
            v201 = 10;
            sub_10026450((int)&dword_109D1804, (int)&v169);
            v201 = -1;
            sub_100156E0((int)&v169);
            v53 = sub_1003E110();
            if ( v53 != 1 )
            {
              sub_100154D0((int)&dword_109D17F0);
              sub_100154D0((int)&dword_109D1804);
              sub_100154D0((int)&dword_109D1818);
              v54 = 0;
              dword_109D1A04 = 0;
              dword_109D1A00 = 0;
              dword_109D1A08 = 0;
              v201 = 11;
              if ( &dword_109D1A00 )
              {
                sub_10015520((int)&dword_109D1A00, v53, 0, 0);
                v54 = dword_109D1A00;
              }
              v201 = -1;
              if ( v54 < 0 )
                unknown_libname_4(v54);
            }
            v55 = sub_10031CA0((int)&v191, v131, a2, (signed __int64)v131, 1, v152, a10);
            if ( v55 != 1 )
            {
              v56 = 0;
              dword_109D1A04 = 0;
              dword_109D1A00 = 0;
              dword_109D1A08 = 0;
              if ( &dword_109D1A00 )
              {
                v56 = v55;
                LOWORD(dword_109D1A04) = 0;
                dword_109D1A00 = v55;
                dword_109D1A08 = 0;
              }
              if ( v56 < 0 )
                unknown_libname_4(v56);
            }
            v48 = v120 + v128;
          }
          else
          {
            v48 = v120 + v131;
          }
        }
        else
        {
          v48 = v120 + v128;
        }
        v120 = v48;
        result = v125++ + 1;
        if ( v125 >= v136 )
          break;
        v29 = v140;
        v40 = a5;
        v39 = HIDWORD(a3);
      }
    }
    return result;
  }
  if ( fabs(v168) >= 1.0e-10 )
  {
    if ( v132 >= 0.0 || v168 < 0.0 )
    {
      LODWORD(v166) = v27;
      v167 = LODWORD(v153);
      v127 = 1;
    }
    else
    {
      v167 = v27;
      LODWORD(v166) = LODWORD(v153);
      v127 = -1;
      v139 = v27 - a4;
    }
    LOBYTE(v173) = 0;
    v174 = 1;
    v175 = 0;
    LOBYTE(v176) = 0;
    sub_1003DEC0();
    v82 = dword_109D183C;
    sub_100156C0((int)&v161);
    v201 = 24;
    sub_10015540((int)&v165);
    *(_DWORD *)&v161 = &off_1008F66C;
    sub_10015A40((int)&v165, (int)&v173);
    v164 = v82;
    v201 = 25;
    sub_100158B0((int)&dword_109D17F0, (int)&v161);
    v201 = -1;
    sub_100156E0((int)&v161);
    v83 = sub_1003E110();
    if ( v83 != 1 )
    {
      sub_100154D0((int)&dword_109D17F0);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v84 = 0;
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      v201 = 26;
      if ( &dword_109D1A00 )
      {
        sub_10015520((int)&dword_109D1A00, v83, 0, 0);
        v84 = dword_109D1A00;
      }
      v201 = -1;
      if ( v84 < 0 )
        unknown_libname_4(v84);
    }
    LOBYTE(v143) = 0;
    v145 = -1;
    v146 = 1;
    v147 = 0;
    v148 = 0;
    v149 = 10;
    v150 = 0;
    v151 = 1065353216;
    v144 = 0;
    sub_1003DEC0();
    v85 = dword_109D183C;
    sub_100156C0((int)&v169);
    v201 = 27;
    sub_1001A0D0((int)&v171);
    *(_DWORD *)&v169 = &off_10090068;
    sub_10020DB0((int)&v171, (int)&v143);
    v170 = v85;
    v201 = 28;
    sub_10026450((int)&dword_109D1804, (int)&v169);
    v201 = -1;
    sub_100156E0((int)&v169);
    v86 = sub_1003E110();
    if ( v86 != 1 )
    {
      sub_100154D0((int)&dword_109D17F0);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v87 = 0;
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      v201 = 29;
      if ( &dword_109D1A00 )
      {
        sub_10015520((int)&dword_109D1A00, v86, 0, 0);
        v87 = dword_109D1A00;
      }
      v201 = -1;
      if ( v87 < 0 )
        unknown_libname_4(v87);
    }
    v88 = sub_10031CA0((int)&v191, v128, a2, (signed __int64)v128, 0, v123, a10);
    if ( v88 != 1 )
    {
      v89 = 0;
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      if ( &dword_109D1A00 )
      {
        v89 = v88;
        LOWORD(dword_109D1A04) = 0;
        dword_109D1A00 = v88;
        dword_109D1A08 = 0;
      }
      if ( v89 < 0 )
        unknown_libname_4(v89);
    }
    v138 = 0;
    v122 = v128;
    result = v136;
    if ( v136 > 0 )
    {
      v172 = LODWORD(v166) * v127;
      do
      {
        if ( *(_BYTE *)(a2 + 16) & 8 )
        {
          v90 = (double)v141 * v168 / v132 + (double)v139;
          v124 = v122 - (v90 - (double)(signed int)(signed __int64)(v90 / (v129 / v132)) * (v129 / v132)) * v132;
          if ( v124 < 0.0 )
            v124 = v124 + v129;
        }
        else
        {
          v124 = v122;
        }
        v135 = 0;
        while ( 1 )
        {
          v91 = v124 / v132;
          v92 = v91 <= 0.0 ? v91 - 0.5 : v91 + 0.5;
          v93 = (signed __int64)v92;
          v94 = v124 / v168;
          v159 = v93;
          v95 = v94 <= 0.0 ? v94 - 0.5 : v94 + 0.5;
          v96 = (signed __int64)v95;
          v160 = (signed __int64)v95;
          if ( v127 * ((signed int)v93 + v167) > v172 )
          {
            v173 = LODWORD(v166);
            v99 = (double)v160 / (double)v159 * (double)(v167 + (signed int)v93 - LODWORD(v166));
            v100 = v99 <= 0.0 ? v99 - 0.5 : v99 + 0.5;
            v97 = HIDWORD(v153);
            v98 = (unsigned __int64)(signed __int64)v100 + HIDWORD(v153);
          }
          else
          {
            HIDWORD(v93) = HIDWORD(v153);
            v173 = v93 + v167;
            v98 = HIDWORD(v153);
          }
          v101 = v155;
          if ( v96 + v97 > v155 )
          {
            v102 = v155;
            v104 = (double)(v97 + v96 - v155) / ((double)v160 / (double)v159);
            v105 = v104 <= 0.0 ? v104 - 0.5 : v104 + 0.5;
            v101 = v155;
            v103 = v167 + (unsigned __int64)(signed __int64)v105;
          }
          else
          {
            v102 = v96 + v97;
            v103 = v167;
          }
          if ( v98 > v101 || v103 * v127 > SLODWORD(v166) )
            break;
          sub_10033460(__PAIR__(v102, v103), v173, v98, (int)&v191, 0);
          v108 = __OFSUB__(v135 + 1, 5000);
          v106 = v135 == 4999;
          v107 = v135++ - 4999 < 0;
          v124 = v124 + v129;
          if ( !((unsigned __int8)(v107 ^ v108) | v106) )
          {
            dword_109D1A04 = 0;
            dword_109D1A00 = 0;
            dword_109D1A08 = 0;
            if ( &dword_109D1A00 )
            {
              LOWORD(dword_109D1A04) = 0;
              dword_109D1A00 = -6;
              dword_109D1A08 = 0;
              unknown_libname_4(-6);
            }
          }
        }
        v109 = v138;
        if ( v138 )
        {
          if ( v138 == 1 )
          {
            v161 = 1;
            v162 = 1;
            v163 = 0;
            LOBYTE(v164) = 0;
            sub_1003DEC0();
            v110 = dword_109D183C;
            sub_100156C0((int)&v143);
            v201 = 30;
            sub_10015540((int)&v147);
            v143 = &off_1008F66C;
            sub_10015A40((int)&v147, (int)&v161);
            v146 = v110;
            v201 = 31;
            sub_100158B0((int)&dword_109D17F0, (int)&v143);
            v201 = -1;
            sub_100156E0((int)&v143);
            v111 = sub_1003E110();
            if ( v111 != 1 )
            {
              v112 = dword_109D17F8;
              dword_109D17F0 = 0;
              v113 = (void **)sub_10015560((int)&unk_109D17F4, &v186);
              sub_100155A0(&unk_109D17F4, (int)&v187, *v113, v112);
              sub_100154D0((int)&dword_109D1804);
              sub_100154D0((int)&dword_109D1818);
              v114 = 0;
              dword_109D1A04 = 0;
              dword_109D1A00 = 0;
              dword_109D1A08 = 0;
              if ( &dword_109D1A00 )
              {
                v114 = v111;
                LOWORD(dword_109D1A04) = 0;
                dword_109D1A00 = v111;
                dword_109D1A08 = 0;
              }
              if ( v114 < 0 )
                unknown_libname_4(v114);
            }
            LOBYTE(v177) = 1;
            v179 = -1;
            v180 = 1;
            v181 = 0;
            v182 = 0;
            v183 = 10;
            v184 = 0;
            v185 = 1065353216;
            v178 = 0;
            sub_1003DEC0();
            v115 = dword_109D183C;
            sub_100156C0((int)&v188);
            v201 = 32;
            sub_1001A0D0((int)&v190);
            *(_DWORD *)&v188 = &off_10090068;
            sub_10020DB0((int)&v190, (int)&v177);
            v189 = v115;
            v201 = 33;
            sub_10026450((int)&dword_109D1804, (int)&v188);
            v201 = -1;
            sub_100156E0((int)&v188);
            v116 = sub_1003E110();
            if ( v116 != 1 )
            {
              sub_100154D0((int)&dword_109D17F0);
              sub_100154D0((int)&dword_109D1804);
              sub_100154D0((int)&dword_109D1818);
              v117 = 0;
              dword_109D1A04 = 0;
              dword_109D1A00 = 0;
              dword_109D1A08 = 0;
              if ( &dword_109D1A00 )
              {
                v117 = v116;
                LOWORD(dword_109D1A04) = 0;
                dword_109D1A00 = v116;
                dword_109D1A08 = 0;
              }
              if ( v117 < 0 )
                unknown_libname_4(v117);
            }
            v118 = sub_10031CA0((int)&v191, v131, a2, (signed __int64)v131, 1, v152, a10);
            if ( v118 != 1 )
            {
              v119 = 0;
              dword_109D1A04 = 0;
              dword_109D1A00 = 0;
              dword_109D1A08 = 0;
              if ( &dword_109D1A00 )
              {
                v119 = v118;
                LOWORD(dword_109D1A04) = 0;
                dword_109D1A00 = v118;
                dword_109D1A08 = 0;
              }
              if ( v119 < 0 )
                unknown_libname_4(v119);
            }
            if ( v156 > 0.0 )
              v122 = v122 + v128;
          }
          v109 = v138;
          v122 = v131 * 0.5 + v122;
        }
        else
        {
          v122 = v122 + v128;
        }
        result = v109 + 1;
        v138 = result;
      }
      while ( result < v136 );
    }
  }
  else
  {
    v57 = (signed __int64)v129;
    LOBYTE(v156) = 0;
    HIDWORD(v156) = 1;
    v157 = 0;
    LOBYTE(v158) = 0;
    sub_1003DEC0();
    v58 = dword_109D183C;
    sub_100156C0((int)&v161);
    v201 = 12;
    sub_10015540((int)&v165);
    *(_DWORD *)&v161 = &off_1008F66C;
    sub_10015A40((int)&v165, (int)&v156);
    v164 = v58;
    v201 = 13;
    sub_100158B0((int)&dword_109D17F0, (int)&v161);
    v201 = -1;
    sub_100156E0((int)&v161);
    v59 = sub_1003E110();
    if ( v59 != 1 )
    {
      sub_100154D0((int)&dword_109D17F0);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v60 = 0;
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      v201 = 14;
      if ( &dword_109D1A00 )
      {
        sub_10015520((int)&dword_109D1A00, v59, 0, 0);
        v60 = dword_109D1A00;
      }
      v201 = -1;
      if ( v60 < 0 )
        unknown_libname_4(v60);
    }
    LOBYTE(v143) = 0;
    v145 = -1;
    v146 = 1;
    v147 = 0;
    v148 = 0;
    v149 = 10;
    v150 = 0;
    v151 = 1065353216;
    v144 = 0;
    sub_1003DEC0();
    v61 = dword_109D183C;
    sub_100156C0((int)&v169);
    v201 = 15;
    sub_1001A0D0((int)&v171);
    *(_DWORD *)&v169 = &off_10090068;
    sub_10020DB0((int)&v171, (int)&v143);
    v170 = v61;
    v201 = 16;
    sub_10026450((int)&dword_109D1804, (int)&v169);
    v201 = -1;
    sub_100156E0((int)&v169);
    v62 = sub_1003E110();
    if ( v62 != 1 )
    {
      sub_100154D0((int)&dword_109D17F0);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v63 = 0;
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      v201 = 17;
      if ( &dword_109D1A00 )
      {
        sub_10015520((int)&dword_109D1A00, v62, 0, 0);
        v63 = dword_109D1A00;
      }
      v201 = -1;
      if ( v63 < 0 )
        unknown_libname_4(v63);
    }
    v64 = sub_10031CA0((int)&v191, v128, a2, (signed __int64)v128, 0, v123, a10);
    if ( v64 != 1 )
    {
      v65 = 0;
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      if ( &dword_109D1A00 )
      {
        v65 = v64;
        LOWORD(dword_109D1A04) = 0;
        dword_109D1A00 = v64;
        dword_109D1A08 = 0;
      }
      if ( v65 < 0 )
        unknown_libname_4(v65);
    }
    result = v136;
    v121 = 0.0;
    v126 = 0;
    if ( v136 > 0 )
    {
      while ( *(_BYTE *)(a2 + 16) & 8 )
      {
        v66 = (signed __int64)((double)(LODWORD(v153) + v57 * ((v137 + v139) / v57) - v137 - v139) + v121);
        v67 = v66;
        v134 = HIDWORD(v153);
        v68 = (signed int)(v154 - v66);
        if ( (signed int)v68 % v57 )
        {
          v69 = v68 / v57;
LABEL_131:
          ++v69;
          goto LABEL_132;
        }
        v69 = v68 / v57;
LABEL_132:
        v72 = v67;
        if ( v69 > 0 )
        {
          v142 = v69;
          do
          {
            sub_10033460(__PAIR__(v134, v67), v72, v155, (int)&v191, 0);
            v67 += v57;
            v72 += v57;
            --v142;
          }
          while ( v142 );
        }
        v73 = v121;
        if ( v126 )
        {
          v121 = v73 + v131;
          if ( v126 == 1 )
          {
            LOBYTE(v156) = 1;
            HIDWORD(v156) = 1;
            v157 = 0;
            LOBYTE(v158) = 0;
            sub_1003DEC0();
            v74 = dword_109D183C;
            sub_100156C0((int)&v161);
            v201 = 18;
            sub_10015540((int)&v165);
            *(_DWORD *)&v161 = &off_1008F66C;
            sub_10015A40((int)&v165, (int)&v156);
            v164 = v74;
            v201 = 19;
            sub_100158B0((int)&dword_109D17F0, (int)&v161);
            v201 = -1;
            sub_100156E0((int)&v161);
            v75 = sub_1003E110();
            if ( v75 != 1 )
            {
              sub_100154D0((int)&dword_109D17F0);
              sub_100154D0((int)&dword_109D1804);
              sub_100154D0((int)&dword_109D1818);
              v76 = 0;
              dword_109D1A04 = 0;
              dword_109D1A00 = 0;
              dword_109D1A08 = 0;
              v201 = 20;
              if ( &dword_109D1A00 )
              {
                sub_10015520((int)&dword_109D1A00, v75, 0, 0);
                v76 = dword_109D1A00;
              }
              v201 = -1;
              if ( v76 < 0 )
                unknown_libname_4(v76);
            }
            LOBYTE(v143) = 1;
            v145 = -1;
            v146 = 1;
            v147 = 0;
            v148 = 0;
            v149 = 10;
            v150 = 0;
            v151 = 1065353216;
            v144 = 0;
            sub_1003DEC0();
            v77 = dword_109D183C;
            sub_100156C0((int)&v169);
            v201 = 21;
            sub_1001A0D0((int)&v171);
            *(_DWORD *)&v169 = &off_10090068;
            sub_10020DB0((int)&v171, (int)&v143);
            v170 = v77;
            v201 = 22;
            sub_10026450((int)&dword_109D1804, (int)&v169);
            v201 = -1;
            sub_100156E0((int)&v169);
            v78 = sub_1003E110();
            if ( v78 != 1 )
            {
              sub_100154D0((int)&dword_109D17F0);
              sub_100154D0((int)&dword_109D1804);
              sub_100154D0((int)&dword_109D1818);
              v79 = 0;
              dword_109D1A04 = 0;
              dword_109D1A00 = 0;
              dword_109D1A08 = 0;
              v201 = 23;
              if ( &dword_109D1A00 )
              {
                sub_10015520((int)&dword_109D1A00, v78, 0, 0);
                v79 = dword_109D1A00;
              }
              v201 = -1;
              if ( v79 < 0 )
                unknown_libname_4(v79);
            }
            v80 = sub_10031CA0((int)&v191, v131, a2, (signed __int64)v131, 1, v152, a10);
            if ( v80 != 1 )
            {
              v81 = 0;
              dword_109D1A04 = 0;
              dword_109D1A00 = 0;
              dword_109D1A08 = 0;
              if ( &dword_109D1A00 )
              {
                v81 = v80;
                LOWORD(dword_109D1A04) = 0;
                dword_109D1A00 = v80;
                dword_109D1A08 = 0;
              }
              if ( v81 < 0 )
                unknown_libname_4(v81);
            }
          }
        }
        else
        {
          v121 = v73 + v128;
        }
        result = v126++ + 1;
        if ( v126 >= v136 )
          return result;
      }
      v70 = (double)SLODWORD(a3) + v121;
      if ( v70 <= 0.0 )
        v71 = v70 - 0.5;
      else
        v71 = v70 + 0.5;
      v67 = (signed __int64)v71;
      v134 = HIDWORD(a3);
      v69 = (signed int)(a4 - v57 - LODWORD(a3)) / v57 + 1;
      if ( !((signed int)(a4 - LODWORD(a3)) % v57) )
        goto LABEL_132;
      goto LABEL_131;
    }
  }
  return result;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 1008F66C: using guessed type int (*off_1008F66C)();
// 10090068: using guessed type int (*off_10090068)();
// 109D17F0: using guessed type int dword_109D17F0;
// 109D1804: using guessed type int dword_109D1804;
// 109D1818: using guessed type int dword_109D1818;
// 109D1830: using guessed type int dword_109D1830;
// 109D1834: using guessed type char byte_109D1834;
// 109D183C: using guessed type int dword_109D183C;
// 109D1A00: using guessed type int dword_109D1A00;
// 109D1A04: using guessed type int dword_109D1A04;
// 109D1A08: using guessed type int dword_109D1A08;

//----- (100399F0) --------------------------------------------------------
int __usercall sub_100399F0@<eax>(double a1@<st0>, int a2, signed int a3, double a4, int a5, int a6, double a7, int a8, int a9, int a10, int a11)
{
  signed int v11; // esi@2
  int v12; // edx@3
  signed int v13; // edi@3
  int v14; // eax@12
  int v15; // esi@14
  double v16; // st7@21
  signed int v17; // esi@24
  int v18; // edx@25
  signed int v19; // edi@25
  int v20; // eax@34
  int v21; // esi@36
  int v22; // edx@40
  int v23; // ecx@40
  double v24; // st7@43
  double v25; // st7@47
  long double v26; // st7@47
  double v27; // st7@47
  int v28; // edi@50
  int v29; // ebx@52
  signed int v30; // edi@53
  int v31; // esi@53
  int v32; // esi@53
  int v33; // eax@54
  int v34; // esi@58
  int v35; // esi@58
  int v36; // eax@59
  signed int v37; // eax@63
  signed int v38; // ecx@64
  int result; // eax@68
  int v40; // esi@69
  int v41; // ecx@69
  signed __int64 v42; // rax@72
  int v43; // esi@72
  signed __int64 v44; // rax@72
  int v45; // ebx@73
  double v46; // st7@77
  double v47; // st7@78
  unsigned int v48; // edi@81
  unsigned int v49; // ebx@82
  double v50; // st7@87
  int v51; // esi@89
  int v52; // esi@89
  int v53; // eax@90
  int v54; // esi@94
  int v55; // esi@94
  int v56; // eax@95
  signed int v57; // eax@99
  signed int v58; // ecx@100
  int v59; // esi@109
  int v60; // esi@109
  int v61; // eax@110
  int v62; // esi@114
  int v63; // esi@114
  int v64; // eax@115
  signed int v65; // eax@119
  signed int v66; // ecx@120
  signed __int64 v67; // rax@128
  int v68; // esi@128
  int v69; // ebx@128
  signed __int64 v70; // rax@128
  int v71; // ecx@129
  double v72; // st7@131
  double v73; // st7@132
  unsigned int v74; // edi@136
  double v75; // st7@141
  int v76; // esi@144
  int v77; // esi@144
  int v78; // eax@145
  int v79; // esi@149
  int v80; // esi@149
  int v81; // eax@150
  signed int v82; // eax@154
  signed int v83; // ecx@155
  int v84; // esi@165
  int v85; // esi@165
  int v86; // eax@166
  int v87; // esi@170
  int v88; // esi@170
  int v89; // eax@171
  signed int v90; // eax@175
  signed int v91; // ecx@176
  long double v92; // st7@183
  long double v93; // st7@187
  long double v94; // st7@188
  signed __int64 v95; // rax@190
  long double v96; // st7@190
  long double v97; // st7@191
  int v98; // edi@193
  int v99; // edx@194
  signed int v100; // ebx@194
  double v101; // st7@195
  double v102; // st7@196
  int v103; // ecx@199
  int v104; // esi@200
  int v105; // eax@200
  double v106; // st7@201
  double v107; // st7@202
  unsigned int v108; // edi@207
  bool v109; // zf@209
  bool v110; // sf@209
  unsigned __int8 v111; // of@209
  int v112; // eax@213
  int v113; // esi@216
  int v114; // esi@216
  int v115; // ST14_4@217
  void **v116; // eax@217
  int v117; // ST14_4@217
  void **v118; // eax@217
  int v119; // eax@217
  int v120; // esi@221
  signed int v121; // esi@221
  int v122; // ST14_4@222
  void **v123; // eax@222
  signed int v124; // eax@222
  signed int v125; // eax@226
  signed int v126; // ecx@227
  float v127; // [sp+24h] [bp-288h]@68
  float v128; // [sp+24h] [bp-288h]@124
  float v129; // [sp+24h] [bp-288h]@180
  int v130; // [sp+28h] [bp-284h]@18
  float v131; // [sp+28h] [bp-284h]@183
  float v132; // [sp+2Ch] [bp-280h]@47
  signed int v133; // [sp+2Ch] [bp-280h]@53
  signed int v134; // [sp+2Ch] [bp-280h]@109
  signed int v135; // [sp+34h] [bp-278h]@68
  signed int v136; // [sp+34h] [bp-278h]@124
  signed int v137; // [sp+34h] [bp-278h]@163
  float v138; // [sp+38h] [bp-274h]@21
  int v139; // [sp+3Ch] [bp-270h]@82
  int v140; // [sp+3Ch] [bp-270h]@137
  int v141; // [sp+3Ch] [bp-270h]@180
  float v142; // [sp+40h] [bp-26Ch]@43
  int v143; // [sp+44h] [bp-268h]@52
  int v144; // [sp+44h] [bp-268h]@186
  signed int v145; // [sp+48h] [bp-264h]@45
  long double v146; // [sp+4Ch] [bp-260h]@47
  int (**v147)(); // [sp+54h] [bp-258h]@58
  int v148; // [sp+58h] [bp-254h]@58
  int v149; // [sp+5Ch] [bp-250h]@58
  int v150; // [sp+60h] [bp-24Ch]@58
  int v151; // [sp+64h] [bp-248h]@58
  int v152; // [sp+68h] [bp-244h]@58
  int v153; // [sp+6Ch] [bp-240h]@58
  int v154; // [sp+70h] [bp-23Ch]@58
  int v155; // [sp+74h] [bp-238h]@58
  int v156; // [sp+78h] [bp-234h]@50
  double v157; // [sp+7Ch] [bp-230h]@50
  int v158; // [sp+84h] [bp-228h]@50
  int v159; // [sp+88h] [bp-224h]@40
  double v160; // [sp+8Ch] [bp-220h]@47
  int v161; // [sp+94h] [bp-218h]@53
  int v162; // [sp+98h] [bp-214h]@53
  int v163; // [sp+9Ch] [bp-210h]@52
  int v164; // [sp+A0h] [bp-20Ch]@72
  int v165; // [sp+A8h] [bp-204h]@52
  int v166; // [sp+ACh] [bp-200h]@190
  int v167; // [sp+B0h] [bp-1FCh]@193
  char v168; // [sp+B4h] [bp-1F8h]@53
  int v169; // [sp+B8h] [bp-1F4h]@216
  int v170; // [sp+BCh] [bp-1F0h]@216
  int v171; // [sp+C0h] [bp-1ECh]@53
  char v172; // [sp+C4h] [bp-1E8h]@53
  char v173; // [sp+E8h] [bp-1C4h]@94
  int v174; // [sp+F4h] [bp-1B8h]@94
  char v175; // [sp+F8h] [bp-1B4h]@94
  long double v176; // [sp+11Ch] [bp-190h]@47
  int v177; // [sp+128h] [bp-184h]@163
  int v178; // [sp+130h] [bp-17Ch]@181
  int v179; // [sp+134h] [bp-178h]@165
  int v180; // [sp+138h] [bp-174h]@165
  int v181; // [sp+13Ch] [bp-170h]@165
  int v182; // [sp+140h] [bp-16Ch]@165
  int v183; // [sp+144h] [bp-168h]@221
  int v184; // [sp+148h] [bp-164h]@221
  int v185; // [sp+14Ch] [bp-160h]@221
  int v186; // [sp+150h] [bp-15Ch]@221
  int v187; // [sp+154h] [bp-158h]@221
  int v188; // [sp+158h] [bp-154h]@221
  int v189; // [sp+15Ch] [bp-150h]@221
  int v190; // [sp+160h] [bp-14Ch]@221
  int v191; // [sp+164h] [bp-148h]@221
  char v192; // [sp+168h] [bp-144h]@217
  int v193; // [sp+16Ch] [bp-140h]@217
  int v194; // [sp+170h] [bp-13Ch]@217
  char v195; // [sp+174h] [bp-138h]@217
  int v196; // [sp+178h] [bp-134h]@222
  char v197; // [sp+17Ch] [bp-130h]@1
  __int64 v198; // [sp+1ACh] [bp-100h]@84
  char v199; // [sp+1B4h] [bp-F8h]@83
  char v200; // [sp+1B5h] [bp-F7h]@83
  char v201; // [sp+1BCh] [bp-F0h]@222
  char v202; // [sp+1C0h] [bp-ECh]@1
  int v203; // [sp+27Ch] [bp-30h]@1
  int v204; // [sp+280h] [bp-2Ch]@1
  int v205; // [sp+284h] [bp-28h]@1
  int v206; // [sp+288h] [bp-24h]@1
  int v207; // [sp+28Ch] [bp-20h]@1
  int v208; // [sp+290h] [bp-1Ch]@1
  int v209; // [sp+294h] [bp-18h]@1
  int v210; // [sp+298h] [bp-14h]@1
  int v211; // [sp+29Ch] [bp-10h]@1
  int v212; // [sp+2A8h] [bp-4h]@53

  sub_1003BD00((int)&v202);
  v203 = 0;
  v204 = 0;
  v205 = 0;
  v206 = 0;
  v207 = 0;
  v208 = 0;
  v209 = 0;
  v210 = 0;
  v211 = 0;
  sub_10035A70((int)&v197, a2, a11, (int)&v202);
  if ( !aLgbldgb )
  {
    v11 = -1;
LABEL_9:
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = -28;
      dword_109D1A08 = 0;
      unknown_libname_4(-28);
    }
    goto LABEL_11;
  }
  v12 = dword_109D1830;
  v13 = 0;
  while ( !*(_DWORD *)v12 || strcmp((const char *)(*(_DWORD *)v12 + 4), aLgbldgb) )
  {
    ++v13;
    v12 += 4;
    if ( v13 >= 256 )
    {
      v11 = -1;
      goto LABEL_9;
    }
  }
  v11 = v13;
  if ( v13 == -1 )
    goto LABEL_9;
  if ( v13 > 255 )
  {
    v15 = 0;
    goto LABEL_18;
  }
LABEL_11:
  if ( byte_109D1834 || (v14 = *(_DWORD *)(dword_109D1830 + 4 * v11)) == 0 || *(_BYTE *)(v14 + 13) != 3 )
    v15 = *(_DWORD *)(dword_109D1830 + 4 * v11);
  else
    v15 = 0;
LABEL_18:
  v130 = v15;
  (*(void (__thiscall **)(int, _DWORD, int))(*(_DWORD *)v15 + 4))(v15, *(_DWORD *)(a2 + 12), a10);
  if ( a1 == 0.0 )
  {
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = -28;
      dword_109D1A08 = 0;
      unknown_libname_4(-28);
    }
  }
  v16 = (double)*(signed int *)(v15 + 32) * a1;
  v138 = v16;
  if ( v16 == 0.0 )
    v138 = 0.1;
  if ( !aLgbldgw )
  {
    v17 = -1;
LABEL_31:
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = -28;
      dword_109D1A08 = 0;
      unknown_libname_4(-28);
    }
    goto LABEL_33;
  }
  v18 = dword_109D1830;
  v19 = 0;
  while ( !*(_DWORD *)v18 || strcmp((const char *)(*(_DWORD *)v18 + 4), aLgbldgw) )
  {
    ++v19;
    v18 += 4;
    if ( v19 >= 256 )
    {
      v17 = -1;
      goto LABEL_31;
    }
  }
  v17 = v19;
  if ( v19 == -1 )
    goto LABEL_31;
  if ( v19 > 255 )
  {
    v21 = 0;
    goto LABEL_40;
  }
LABEL_33:
  if ( byte_109D1834 || (v20 = *(_DWORD *)(dword_109D1830 + 4 * v17)) == 0 || *(_BYTE *)(v20 + 13) != 3 )
    v21 = *(_DWORD *)(dword_109D1830 + 4 * v17);
  else
    v21 = 0;
LABEL_40:
  v22 = *(_DWORD *)v21;
  v23 = *(_DWORD *)(a2 + 12);
  v159 = v21;
  (*(void (__thiscall **)(int, int, int))(v22 + 4))(v21, v23, a10);
  if ( v16 == 0.0 )
  {
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = -28;
      dword_109D1A08 = 0;
      unknown_libname_4(-28);
    }
  }
  v24 = (double)*(signed int *)(v21 + 32) * v16;
  v142 = v24;
  if ( v24 == 0.0 )
    v142 = 0.1;
  v145 = 4;
  if ( v142 < 1.0 )
    v145 = 3;
  v25 = sub_10026FF0(*(float *)(a9 + 20));
  v160 = v25;
  v26 = v25 * 0.01745329251994;
  v146 = sin(v26);
  v176 = cos(v26);
  v27 = v142 + v138 + v142 + v138;
  v132 = v27;
  if ( v132 < 1.0 )
    v132 = 1.0;
  if ( *(_BYTE *)(a2 + 16) & 8 )
  {
    v28 = HIDWORD(a7);
    v156 = a6;
    v157 = a7;
    v158 = a8;
  }
  else
  {
    v156 = a3;
    v157 = a4;
    v158 = a5;
    v28 = HIDWORD(a4);
  }
  v165 = a6 - a3;
  v163 = LODWORD(a7) - LODWORD(a4);
  v29 = (signed __int64)v27;
  v143 = (signed __int64)v27;
  if ( fabs(v146) < 1.0e-10 )
  {
    v30 = (signed __int64)v132;
    LOBYTE(v160) = 0;
    v133 = (signed __int64)v132;
    HIDWORD(v160) = 1;
    v161 = 0;
    LOBYTE(v162) = 0;
    sub_1003DEC0();
    v31 = dword_109D183C;
    sub_100156C0((int)&v168);
    v212 = 0;
    sub_10015540((int)&v172);
    *(_DWORD *)&v168 = &off_1008F66C;
    sub_10015A40((int)&v172, (int)&v160);
    v171 = v31;
    v212 = 1;
    sub_100158B0((int)&dword_109D17F0, (int)&v168);
    v212 = -1;
    sub_100156E0((int)&v168);
    v32 = sub_1003E110();
    if ( v32 != 1 )
    {
      sub_100154D0((int)&dword_109D17F0);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v33 = 0;
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      v212 = 2;
      if ( &dword_109D1A00 )
      {
        sub_10015520((int)&dword_109D1A00, v32, 0, 0);
        v33 = dword_109D1A00;
      }
      v212 = -1;
      if ( v33 < 0 )
        unknown_libname_4(v33);
    }
    LOBYTE(v147) = 0;
    v149 = -1;
    v150 = 1;
    v151 = 0;
    v152 = 0;
    v153 = 10;
    v154 = 0;
    v155 = 1065353216;
    v148 = 0;
    sub_1003DEC0();
    v34 = dword_109D183C;
    sub_100156C0((int)&v168);
    v212 = 3;
    sub_1001A0D0((int)&v172);
    *(_DWORD *)&v168 = &off_10090068;
    sub_10020DB0((int)&v172, (int)&v147);
    v171 = v34;
    v212 = 4;
    sub_10026450((int)&dword_109D1804, (int)&v168);
    v212 = -1;
    sub_100156E0((int)&v168);
    v35 = sub_1003E110();
    if ( v35 != 1 )
    {
      sub_100154D0((int)&dword_109D17F0);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v36 = 0;
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      v212 = 5;
      if ( &dword_109D1A00 )
      {
        sub_10015520((int)&dword_109D1A00, v35, 0, 0);
        v36 = dword_109D1A00;
      }
      v212 = -1;
      if ( v36 < 0 )
        unknown_libname_4(v36);
    }
    v37 = sub_10031CA0((int)&v202, v138, a2, (signed __int64)v138, 0, v130, a10);
    if ( v37 != 1 )
    {
      v38 = 0;
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      if ( &dword_109D1A00 )
      {
        v38 = v37;
        LOWORD(dword_109D1A04) = 0;
        dword_109D1A00 = v37;
        dword_109D1A08 = 0;
      }
      if ( v38 < 0 )
        unknown_libname_4(v38);
    }
    result = v145;
    v127 = 0.0;
    v135 = 0;
    if ( v145 > 0 )
    {
      v40 = LODWORD(a4);
      v41 = a5;
      while ( 1 )
      {
        if ( *(_BYTE *)(a2 + 16) & 8 )
        {
          v164 = v156;
          v42 = (signed __int64)((double)(LODWORD(v157) + v30 * ((v29 + v163) / v30) - v29 - v163) + v127);
          v43 = v42;
          v44 = v158 - (signed int)v42;
          v45 = (signed int)v44 % v30 ? (unsigned __int64)(v44 / v30) + 1 : (unsigned int)(v44 / v30);
        }
        else
        {
          v45 = (v41 - v30 - v40) / v30 + 1;
          if ( (v41 - v40) % v30 )
            v45 = (v41 - v30 - v40) / v30 + 2;
          v164 = a3;
          v46 = (double)SLODWORD(a4) + v127;
          v47 = v46 <= 0.0 ? v46 - 0.5 : v46 + 0.5;
          v43 = (signed __int64)v47;
        }
        v48 = v43;
        if ( v45 > 0 )
        {
          v139 = v45;
          v49 = HIDWORD(v157);
          do
          {
            v199 = 1;
            sub_1003CAC0(v164, v43, v49, v48, (void (__cdecl *)(int, int, int))sub_10035C60, (int)&v197);
            if ( v200 )
              sub_10033460(v198, v49, v48, (int)&v202, 0);
            v43 += v133;
            v48 += v133;
            --v139;
          }
          while ( v139 );
        }
        if ( v135 )
        {
          if ( v135 == 1 )
          {
            LOBYTE(v160) = 1;
            HIDWORD(v160) = 1;
            v161 = 0;
            LOBYTE(v162) = 0;
            sub_1003DEC0();
            v51 = dword_109D183C;
            sub_100156C0((int)&v168);
            v212 = 6;
            sub_10015540((int)&v172);
            *(_DWORD *)&v168 = &off_1008F66C;
            sub_10015A40((int)&v172, (int)&v160);
            v171 = v51;
            v212 = 7;
            sub_100158B0((int)&dword_109D17F0, (int)&v168);
            v212 = -1;
            sub_100156E0((int)&v168);
            v52 = sub_1003E110();
            if ( v52 != 1 )
            {
              sub_100154D0((int)&dword_109D17F0);
              sub_100154D0((int)&dword_109D1804);
              sub_100154D0((int)&dword_109D1818);
              v53 = 0;
              dword_109D1A04 = 0;
              dword_109D1A00 = 0;
              dword_109D1A08 = 0;
              v212 = 8;
              if ( &dword_109D1A00 )
              {
                sub_10015520((int)&dword_109D1A00, v52, 0, 0);
                v53 = dword_109D1A00;
              }
              v212 = -1;
              if ( v53 < 0 )
                unknown_libname_4(v53);
            }
            LOBYTE(v147) = 1;
            v149 = -1;
            v150 = 1;
            v151 = 0;
            v152 = 0;
            v153 = 10;
            v154 = 0;
            v155 = 1065353216;
            v148 = 0;
            sub_1003DEC0();
            v54 = dword_109D183C;
            sub_100156C0((int)&v173);
            v212 = 9;
            sub_1001A0D0((int)&v175);
            *(_DWORD *)&v173 = &off_10090068;
            sub_10020DB0((int)&v175, (int)&v147);
            v174 = v54;
            v212 = 10;
            sub_10026450((int)&dword_109D1804, (int)&v173);
            v212 = -1;
            sub_100156E0((int)&v173);
            v55 = sub_1003E110();
            if ( v55 != 1 )
            {
              sub_100154D0((int)&dword_109D17F0);
              sub_100154D0((int)&dword_109D1804);
              sub_100154D0((int)&dword_109D1818);
              v56 = 0;
              dword_109D1A04 = 0;
              dword_109D1A00 = 0;
              dword_109D1A08 = 0;
              v212 = 11;
              if ( &dword_109D1A00 )
              {
                sub_10015520((int)&dword_109D1A00, v55, 0, 0);
                v56 = dword_109D1A00;
              }
              v212 = -1;
              if ( v56 < 0 )
                unknown_libname_4(v56);
            }
            v57 = sub_10031CA0((int)&v202, v142, a2, (signed __int64)v142, 1, v159, a10);
            if ( v57 != 1 )
            {
              v58 = 0;
              dword_109D1A04 = 0;
              dword_109D1A00 = 0;
              dword_109D1A08 = 0;
              if ( &dword_109D1A00 )
              {
                v58 = v57;
                LOWORD(dword_109D1A04) = 0;
                dword_109D1A00 = v57;
                dword_109D1A08 = 0;
              }
              if ( v58 < 0 )
                unknown_libname_4(v58);
            }
            v50 = v127 + v138;
          }
          else
          {
            v50 = v127 + v142;
          }
        }
        else
        {
          v50 = v127 + v138;
        }
        v127 = v50;
        result = v135++ + 1;
        if ( v135 >= v145 )
          break;
        v41 = a5;
        v29 = v143;
        v30 = v133;
        v40 = LODWORD(a4);
      }
    }
    return result;
  }
  if ( fabs(v176) >= 1.0e-10 )
  {
    if ( v146 >= 0.0 || v176 < 0.0 )
    {
      v164 = v28;
      v177 = v156;
      v137 = 1;
    }
    else
    {
      v177 = v28;
      v164 = v156;
      v137 = -1;
      v165 = v28 - HIDWORD(a4);
    }
    LOBYTE(v179) = 0;
    v180 = 1;
    v181 = 0;
    LOBYTE(v182) = 0;
    sub_1003DEC0();
    v84 = dword_109D183C;
    sub_100156C0((int)&v168);
    v212 = 24;
    sub_10015540((int)&v172);
    *(_DWORD *)&v168 = &off_1008F66C;
    sub_10015A40((int)&v172, (int)&v179);
    v171 = v84;
    v212 = 25;
    sub_100158B0((int)&dword_109D17F0, (int)&v168);
    v212 = -1;
    sub_100156E0((int)&v168);
    v85 = sub_1003E110();
    if ( v85 != 1 )
    {
      sub_100154D0((int)&dword_109D17F0);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v86 = 0;
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      v212 = 26;
      if ( &dword_109D1A00 )
      {
        sub_10015520((int)&dword_109D1A00, v85, 0, 0);
        v86 = dword_109D1A00;
      }
      v212 = -1;
      if ( v86 < 0 )
        unknown_libname_4(v86);
    }
    LOBYTE(v147) = 0;
    v149 = -1;
    v150 = 1;
    v151 = 0;
    v152 = 0;
    v153 = 10;
    v154 = 0;
    v155 = 1065353216;
    v148 = 0;
    sub_1003DEC0();
    v87 = dword_109D183C;
    sub_100156C0((int)&v173);
    v212 = 27;
    sub_1001A0D0((int)&v175);
    *(_DWORD *)&v173 = &off_10090068;
    sub_10020DB0((int)&v175, (int)&v147);
    v174 = v87;
    v212 = 28;
    sub_10026450((int)&dword_109D1804, (int)&v173);
    v212 = -1;
    sub_100156E0((int)&v173);
    v88 = sub_1003E110();
    if ( v88 != 1 )
    {
      sub_100154D0((int)&dword_109D17F0);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v89 = 0;
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      v212 = 29;
      if ( &dword_109D1A00 )
      {
        sub_10015520((int)&dword_109D1A00, v88, 0, 0);
        v89 = dword_109D1A00;
      }
      v212 = -1;
      if ( v89 < 0 )
        unknown_libname_4(v89);
    }
    v90 = sub_10031CA0((int)&v202, v138, a2, (signed __int64)v138, 0, v130, a10);
    if ( v90 != 1 )
    {
      v91 = 0;
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      if ( &dword_109D1A00 )
      {
        v91 = v90;
        LOWORD(dword_109D1A04) = 0;
        dword_109D1A00 = v90;
        dword_109D1A08 = 0;
      }
      if ( v91 < 0 )
        unknown_libname_4(v91);
    }
    v141 = 0;
    v129 = v138;
    result = v145;
    if ( v145 > 0 )
    {
      v178 = v164 * v137;
      do
      {
        if ( *(_BYTE *)(a2 + 16) & 8 )
        {
          v92 = (double)v163 * v176 / v146 + (double)v165;
          v131 = v129 - (v92 - (double)(signed int)(signed __int64)(v92 / (v132 / v146)) * (v132 / v146)) * v146;
          if ( v131 < 0.0 )
            v131 = v131 + v132;
        }
        else
        {
          v131 = v129;
        }
        v144 = 0;
        while ( 1 )
        {
          v93 = v131 / v146;
          v94 = v93 <= 0.0 ? v93 - 0.5 : v93 + 0.5;
          v95 = (signed __int64)v94;
          v96 = v131 / v176;
          v166 = v95;
          v97 = v96 <= 0.0 ? v96 - 0.5 : v96 + 0.5;
          v98 = (signed __int64)v97;
          v167 = (signed __int64)v97;
          if ( ((signed int)v95 + v177) * v137 > v178 )
          {
            v179 = v164;
            v101 = (double)v167 / (double)v166 * (double)(v177 + (signed int)v95 - v164);
            v102 = v101 <= 0.0 ? v101 - 0.5 : v101 + 0.5;
            v99 = LODWORD(v157);
            v100 = (unsigned __int64)(signed __int64)v102 + LODWORD(v157);
          }
          else
          {
            HIDWORD(v95) = LODWORD(v157);
            v179 = v95 + v177;
            v100 = LODWORD(v157);
          }
          v103 = v158;
          if ( v98 + v99 > v158 )
          {
            v104 = v158;
            v106 = (double)(v99 + v98 - v158) / ((double)v167 / (double)v166);
            v107 = v106 <= 0.0 ? v106 - 0.5 : v106 + 0.5;
            v103 = v158;
            v105 = v177 + (unsigned __int64)(signed __int64)v107;
          }
          else
          {
            v104 = v98 + v99;
            v105 = v177;
          }
          if ( v100 > v103 || v105 * v137 > v164 )
            break;
          v108 = v179;
          v199 = 1;
          sub_1003CAC0(v105, v104, v179, v100, (void (__cdecl *)(int, int, int))sub_10035C60, (int)&v197);
          if ( v200 )
            sub_10033460(v198, v108, v100, (int)&v202, 0);
          v111 = __OFSUB__(v144 + 1, 5000);
          v109 = v144 == 4999;
          v110 = v144++ - 4999 < 0;
          v131 = v131 + v132;
          if ( !((unsigned __int8)(v110 ^ v111) | v109) )
          {
            dword_109D1A04 = 0;
            dword_109D1A00 = 0;
            dword_109D1A08 = 0;
            if ( &dword_109D1A00 )
            {
              LOWORD(dword_109D1A04) = 0;
              dword_109D1A00 = -6;
              dword_109D1A08 = 0;
              unknown_libname_4(-6);
            }
          }
        }
        v112 = v141;
        if ( v141 )
        {
          if ( v141 == 1 )
          {
            v168 = 1;
            v169 = 1;
            v170 = 0;
            LOBYTE(v171) = 0;
            sub_1003DEC0();
            v113 = dword_109D183C;
            sub_100156C0((int)&v147);
            v212 = 30;
            sub_10015540((int)&v151);
            v147 = &off_1008F66C;
            sub_10015A40((int)&v151, (int)&v168);
            v150 = v113;
            v212 = 31;
            sub_100158B0((int)&dword_109D17F0, (int)&v147);
            v212 = -1;
            sub_100156E0((int)&v147);
            v114 = sub_1003E110();
            if ( v114 != 1 )
            {
              v115 = dword_109D17F8;
              dword_109D17F0 = 0;
              v116 = (void **)sub_10015560((int)&unk_109D17F4, &v195);
              sub_100155A0(&unk_109D17F4, (int)&v193, *v116, v115);
              v117 = dword_109D180C;
              dword_109D1804 = 0;
              v118 = (void **)sub_10015560((int)&unk_109D1808, &v192);
              sub_100155A0(&unk_109D1808, (int)&v194, *v118, v117);
              sub_100154D0((int)&dword_109D1818);
              v119 = 0;
              dword_109D1A04 = 0;
              dword_109D1A00 = 0;
              dword_109D1A08 = 0;
              v212 = 32;
              if ( &dword_109D1A00 )
              {
                sub_10015520((int)&dword_109D1A00, v114, 0, 0);
                v119 = dword_109D1A00;
              }
              v212 = -1;
              if ( v119 < 0 )
                unknown_libname_4(v119);
            }
            LOBYTE(v183) = 1;
            v185 = -1;
            v186 = 1;
            v187 = 0;
            v188 = 0;
            v189 = 10;
            v190 = 0;
            v191 = 1065353216;
            v184 = 0;
            sub_1003DEC0();
            v120 = dword_109D183C;
            sub_100156C0((int)&v173);
            v212 = 33;
            sub_1001A0D0((int)&v175);
            *(_DWORD *)&v173 = &off_10090068;
            sub_10020DB0((int)&v175, (int)&v183);
            v174 = v120;
            v212 = 34;
            sub_10026450((int)&dword_109D1804, (int)&v173);
            v212 = -1;
            sub_100156E0((int)&v173);
            v121 = sub_1003E110();
            if ( v121 != 1 )
            {
              v122 = dword_109D17F8;
              dword_109D17F0 = 0;
              v123 = (void **)sub_10015560((int)&unk_109D17F4, &v201);
              sub_100155A0(&unk_109D17F4, (int)&v196, *v123, v122);
              sub_100154D0((int)&dword_109D1804);
              sub_100154D0((int)&dword_109D1818);
              v124 = 0;
              dword_109D1A04 = 0;
              dword_109D1A00 = 0;
              dword_109D1A08 = 0;
              if ( &dword_109D1A00 )
              {
                v124 = v121;
                LOWORD(dword_109D1A04) = 0;
                dword_109D1A00 = v121;
                dword_109D1A08 = 0;
              }
              if ( v124 < 0 )
                unknown_libname_4(v124);
            }
            v125 = sub_10031CA0((int)&v202, v142, a2, (signed __int64)v142, 1, v159, a10);
            if ( v125 != 1 )
            {
              v126 = 0;
              dword_109D1A04 = 0;
              dword_109D1A00 = 0;
              dword_109D1A08 = 0;
              if ( &dword_109D1A00 )
              {
                v126 = v125;
                LOWORD(dword_109D1A04) = 0;
                dword_109D1A00 = v125;
                dword_109D1A08 = 0;
              }
              if ( v126 < 0 )
                unknown_libname_4(v126);
            }
            if ( v160 > 0.0 )
              v129 = v129 + v138;
          }
          v112 = v141;
          v129 = v142 * 0.5 + v129;
        }
        else
        {
          v129 = v129 + v138;
        }
        result = v112 + 1;
        v141 = result;
      }
      while ( result < v145 );
    }
  }
  else
  {
    v134 = (signed __int64)v132;
    LOBYTE(v160) = 0;
    HIDWORD(v160) = 1;
    v161 = 0;
    LOBYTE(v162) = 0;
    sub_1003DEC0();
    v59 = dword_109D183C;
    sub_100156C0((int)&v168);
    v212 = 12;
    sub_10015540((int)&v172);
    *(_DWORD *)&v168 = &off_1008F66C;
    sub_10015A40((int)&v172, (int)&v160);
    v171 = v59;
    v212 = 13;
    sub_100158B0((int)&dword_109D17F0, (int)&v168);
    v212 = -1;
    sub_100156E0((int)&v168);
    v60 = sub_1003E110();
    if ( v60 != 1 )
    {
      sub_100154D0((int)&dword_109D17F0);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v61 = 0;
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      v212 = 14;
      if ( &dword_109D1A00 )
      {
        sub_10015520((int)&dword_109D1A00, v60, 0, 0);
        v61 = dword_109D1A00;
      }
      v212 = -1;
      if ( v61 < 0 )
        unknown_libname_4(v61);
    }
    LOBYTE(v147) = 0;
    v149 = -1;
    v150 = 1;
    v151 = 0;
    v152 = 0;
    v153 = 10;
    v154 = 0;
    v155 = 1065353216;
    v148 = 0;
    sub_1003DEC0();
    v62 = dword_109D183C;
    sub_100156C0((int)&v173);
    v212 = 15;
    sub_1001A0D0((int)&v175);
    *(_DWORD *)&v173 = &off_10090068;
    sub_10020DB0((int)&v175, (int)&v147);
    v174 = v62;
    v212 = 16;
    sub_10026450((int)&dword_109D1804, (int)&v173);
    v212 = -1;
    sub_100156E0((int)&v173);
    v63 = sub_1003E110();
    if ( v63 != 1 )
    {
      sub_100154D0((int)&dword_109D17F0);
      sub_100154D0((int)&dword_109D1804);
      sub_100154D0((int)&dword_109D1818);
      v64 = 0;
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      v212 = 17;
      if ( &dword_109D1A00 )
      {
        sub_10015520((int)&dword_109D1A00, v63, 0, 0);
        v64 = dword_109D1A00;
      }
      v212 = -1;
      if ( v64 < 0 )
        unknown_libname_4(v64);
    }
    v65 = sub_10031CA0((int)&v202, v138, a2, (signed __int64)v138, 0, v130, a10);
    if ( v65 != 1 )
    {
      v66 = 0;
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      if ( &dword_109D1A00 )
      {
        v66 = v65;
        LOWORD(dword_109D1A04) = 0;
        dword_109D1A00 = v65;
        dword_109D1A08 = 0;
      }
      if ( v66 < 0 )
        unknown_libname_4(v66);
    }
    result = v145;
    v128 = 0.0;
    v136 = 0;
    if ( v145 > 0 )
    {
      while ( !(*(_BYTE *)(a2 + 16) & 8) )
      {
        v72 = (double)a3 + v128;
        if ( v72 <= 0.0 )
          v73 = v72 - 0.5;
        else
          v73 = v72 + 0.5;
        v68 = (signed __int64)v73;
        v69 = LODWORD(a4);
        v71 = (HIDWORD(a4) - v134 - a3) / v134 + 1;
        if ( (HIDWORD(a4) - a3) % v134 )
          goto LABEL_135;
LABEL_136:
        v74 = v68;
        if ( v71 > 0 )
        {
          v140 = v71;
          do
          {
            v199 = 1;
            sub_1003CAC0(v68, v69, v74, v158, (void (__cdecl *)(int, int, int))sub_10035C60, (int)&v197);
            if ( v200 )
              sub_10033460(v198, v74, v158, (int)&v202, 0);
            v68 += v134;
            v74 += v134;
            --v140;
          }
          while ( v140 );
        }
        v75 = v128;
        if ( v136 )
        {
          v128 = v75 + v142;
          if ( v136 == 1 )
          {
            LOBYTE(v160) = 1;
            HIDWORD(v160) = 1;
            v161 = 0;
            LOBYTE(v162) = 0;
            sub_1003DEC0();
            v76 = dword_109D183C;
            sub_100156C0((int)&v168);
            v212 = 18;
            sub_10015540((int)&v172);
            *(_DWORD *)&v168 = &off_1008F66C;
            sub_10015A40((int)&v172, (int)&v160);
            v171 = v76;
            v212 = 19;
            sub_100158B0((int)&dword_109D17F0, (int)&v168);
            v212 = -1;
            sub_100156E0((int)&v168);
            v77 = sub_1003E110();
            if ( v77 != 1 )
            {
              sub_100154D0((int)&dword_109D17F0);
              sub_100154D0((int)&dword_109D1804);
              sub_100154D0((int)&dword_109D1818);
              v78 = 0;
              dword_109D1A04 = 0;
              dword_109D1A00 = 0;
              dword_109D1A08 = 0;
              v212 = 20;
              if ( &dword_109D1A00 )
              {
                sub_10015520((int)&dword_109D1A00, v77, 0, 0);
                v78 = dword_109D1A00;
              }
              v212 = -1;
              if ( v78 < 0 )
                unknown_libname_4(v78);
            }
            LOBYTE(v147) = 1;
            v149 = -1;
            v150 = 1;
            v151 = 0;
            v152 = 0;
            v153 = 10;
            v154 = 0;
            v155 = 1065353216;
            v148 = 0;
            sub_1003DEC0();
            v79 = dword_109D183C;
            sub_100156C0((int)&v173);
            v212 = 21;
            sub_1001A0D0((int)&v175);
            *(_DWORD *)&v173 = &off_10090068;
            sub_10020DB0((int)&v175, (int)&v147);
            v174 = v79;
            v212 = 22;
            sub_10026450((int)&dword_109D1804, (int)&v173);
            v212 = -1;
            sub_100156E0((int)&v173);
            v80 = sub_1003E110();
            if ( v80 != 1 )
            {
              sub_100154D0((int)&dword_109D17F0);
              sub_100154D0((int)&dword_109D1804);
              sub_100154D0((int)&dword_109D1818);
              v81 = 0;
              dword_109D1A04 = 0;
              dword_109D1A00 = 0;
              dword_109D1A08 = 0;
              v212 = 23;
              if ( &dword_109D1A00 )
              {
                sub_10015520((int)&dword_109D1A00, v80, 0, 0);
                v81 = dword_109D1A00;
              }
              v212 = -1;
              if ( v81 < 0 )
                unknown_libname_4(v81);
            }
            v82 = sub_10031CA0((int)&v202, v142, a2, (signed __int64)v142, 1, v159, a10);
            if ( v82 != 1 )
            {
              v83 = 0;
              dword_109D1A04 = 0;
              dword_109D1A00 = 0;
              dword_109D1A08 = 0;
              if ( &dword_109D1A00 )
              {
                v83 = v82;
                LOWORD(dword_109D1A04) = 0;
                dword_109D1A00 = v82;
                dword_109D1A08 = 0;
              }
              if ( v83 < 0 )
                unknown_libname_4(v83);
            }
          }
        }
        else
        {
          v128 = v75 + v138;
        }
        result = v136++ + 1;
        if ( v136 >= v145 )
          return result;
        v29 = v143;
      }
      v163 = v156 + v134 * ((v29 + v165) / v134) - v29 - v165;
      v67 = (signed __int64)((double)v163 + v128);
      v68 = v67;
      v69 = LODWORD(v157);
      v70 = HIDWORD(v157) - (signed int)v67;
      if ( !((signed int)v70 % v134) )
      {
        v71 = v70 / v134;
        goto LABEL_136;
      }
      v71 = v70 / v134;
LABEL_135:
      ++v71;
      goto LABEL_136;
    }
  }
  return result;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 1008F66C: using guessed type int (*off_1008F66C)();
// 10090068: using guessed type int (*off_10090068)();
// 109D17F0: using guessed type int dword_109D17F0;
// 109D1804: using guessed type int dword_109D1804;
// 109D1818: using guessed type int dword_109D1818;
// 109D1830: using guessed type int dword_109D1830;
// 109D1834: using guessed type char byte_109D1834;
// 109D183C: using guessed type int dword_109D183C;
// 109D1A00: using guessed type int dword_109D1A00;
// 109D1A04: using guessed type int dword_109D1A04;
// 109D1A08: using guessed type int dword_109D1A08;

//----- (1003B6A0) --------------------------------------------------------
signed int __cdecl sub_1003B6A0(int a1, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // ecx@2
  double v6; // st7@6
  double v7; // st7@7
  signed __int64 v8; // rax@9
  double v9; // st7@9
  double v10; // st7@10
  int v11; // ebx@12
  double v12; // st7@12
  double v13; // st7@13
  int v14; // edi@15
  double v15; // st7@15
  double v16; // st7@16
  int v17; // eax@26
  int v18; // eax@28
  int v19; // eax@30
  int v20; // eax@33
  signed int v21; // eax@35
  signed int v22; // ecx@36
  signed int result; // eax@41
  signed int v24; // ecx@42
  signed int v25; // eax@47
  signed int v26; // ecx@48
  signed int v27; // eax@56
  signed int v28; // ecx@57
  int v29; // [sp-2Ch] [bp-5Ch]@44
  int v30; // [sp-28h] [bp-58h]@40
  unsigned int v31; // [sp-24h] [bp-54h]@40
  unsigned int v32; // [sp-20h] [bp-50h]@40
  int v33; // [sp-1Ch] [bp-4Ch]@40
  int v34; // [sp-18h] [bp-48h]@40
  unsigned int v35; // [sp-14h] [bp-44h]@40
  unsigned int v36; // [sp-10h] [bp-40h]@40
  int v37; // [sp-Ch] [bp-3Ch]@40
  int v38; // [sp-8h] [bp-38h]@40
  int v39; // [sp-4h] [bp-34h]@40
  int v40; // [sp+10h] [bp-20h]@1
  int v41; // [sp+14h] [bp-1Ch]@1
  int v42; // [sp+18h] [bp-18h]@1
  int v43; // [sp+1Ch] [bp-14h]@1
  int v44; // [sp+20h] [bp-10h]@1
  int v45; // [sp+24h] [bp-Ch]@1
  int v46; // [sp+28h] [bp-8h]@1
  int v47; // [sp+2Ch] [bp-4h]@1

  v47 = 0;
  v46 = 0;
  v45 = 0;
  v44 = 0;
  v43 = 0;
  v42 = 0;
  v41 = 0;
  v40 = 0;
  v4 = sub_10041130(a3, (int)&v44);
  if ( v4 != 1 )
  {
    v5 = 0;
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      v5 = v4;
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = v4;
      dword_109D1A08 = 0;
    }
    if ( v5 < 0 )
      unknown_libname_4(v5);
  }
  v6 = (double)*(signed int *)(a2 + 32) * *(float *)(a2 + 12);
  if ( v6 <= 0.0 )
    v7 = v6 - 0.5;
  else
    v7 = v6 + 0.5;
  v8 = (signed __int64)v7;
  v9 = (double)*(signed int *)(a2 + 28) * *(float *)(a2 + 12);
  if ( v9 <= 0.0 )
    v10 = v9 - 0.5;
  else
    v10 = v9 + 0.5;
  v11 = (signed __int64)v10;
  v12 = (double)*(signed int *)(a2 + 24) * *(float *)(a2 + 12);
  if ( v12 <= 0.0 )
    v13 = v12 - 0.5;
  else
    v13 = v12 + 0.5;
  v14 = (signed __int64)v13;
  v15 = (double)*(signed int *)(a2 + 20) * *(float *)(a2 + 12);
  if ( v15 <= 0.0 )
    v16 = v15 - 0.5;
  else
    v16 = v15 + 0.5;
  v40 = (signed __int64)v16;
  v41 = v14;
  v42 = v11;
  v43 = v8;
  if ( v40 || v11 || v14 || (_DWORD)v8 )
  {
    if ( (unsigned __int8)sub_1002CF90((int)&v44) )
    {
      v43 = 0;
      v42 = 0;
      v41 = 0;
      v40 = 0;
    }
    else
    {
      if ( v40 <= v44 )
        v40 = v44;
      v17 = v41;
      if ( v41 <= v45 )
        v17 = v45;
      v41 = v17;
      v18 = v42;
      if ( v42 >= v46 )
        v18 = v46;
      v42 = v18;
      v19 = v43;
      if ( v43 >= v47 )
        v19 = v47;
      v43 = v19;
    }
  }
  v20 = *(_DWORD *)(a4 + 8);
  if ( !v20 )
  {
    if ( *(_BYTE *)(a2 + 16) & 3 )
    {
      v39 = a3;
      v38 = *(_DWORD *)(a1 + 408);
      v37 = a4;
      sub_1003BC40((int)&v33, (int)&v40);
      sub_1003BC40((int)&v29, (int)&v44);
      return sub_10037300(v16, a2, v29, v30, v31, v32, v33, v34, v35, v36, v37, v38, v39);
    }
    v21 = sub_1003FC80(*(_DWORD *)a2, a3, -*(_DWORD *)(a2 + 36), -*(_DWORD *)(a2 + 40));
    if ( v21 != 1 )
    {
      v22 = 0;
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      if ( &dword_109D1A00 )
      {
        v22 = v21;
        LOWORD(dword_109D1A04) = 0;
        dword_109D1A00 = v21;
        dword_109D1A08 = 0;
      }
      if ( v22 < 0 )
        unknown_libname_4(v22);
    }
    v39 = *(_DWORD *)(a1 + 408);
    v38 = a4;
    sub_1003BC40((int)&v34, (int)&v40);
    sub_1003BC40((int)&v30, (int)&v44);
    sub_10036860(v16, a2, v30, v31, v32, v33, v34, v35, v36, v37, v38, v39);
    goto LABEL_41;
  }
  if ( v20 == 3 )
  {
    if ( *(_BYTE *)(a2 + 16) & 3 )
    {
      v39 = a3;
      v38 = *(_DWORD *)(a1 + 408);
      v37 = a4;
      sub_1003BC40((int)&v33, (int)&v40);
      sub_1003BC40((int)&v29, (int)&v44);
      return sub_10036230(a2, v29, v30, v31, v32, v33, v34, v35, v36, v37, *(float *)&v38, v39);
    }
    v25 = sub_1003FC80(*(_DWORD *)a2, a3, -*(_DWORD *)(a2 + 36), -*(_DWORD *)(a2 + 40));
    if ( v25 != 1 )
    {
      v26 = 0;
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      if ( &dword_109D1A00 )
      {
        v26 = v25;
        LOWORD(dword_109D1A04) = 0;
        dword_109D1A00 = v25;
        dword_109D1A08 = 0;
      }
      if ( v26 < 0 )
        unknown_libname_4(v26);
    }
    v39 = *(_DWORD *)(a1 + 408);
    v38 = a4;
    sub_1003BC40((int)&v34, (int)&v40);
    sub_1003BC40((int)&v30, (int)&v44);
    sub_10035D30(a2, v30, v31, v32, v33, v34, v35, v36, v37, v38, *(float *)&v39);
LABEL_41:
    result = sub_1003FC80(*(_DWORD *)a2, 0, 0, 0);
    if ( result == 1 )
      return result;
    v24 = 0;
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( !&dword_109D1A00 )
      goto LABEL_64;
LABEL_63:
    v24 = result;
    LOWORD(dword_109D1A04) = 0;
    dword_109D1A00 = result;
    dword_109D1A08 = 0;
LABEL_64:
    if ( v24 < 0 )
      result = unknown_libname_4(v24);
    return result;
  }
  if ( v20 == 1 )
  {
    if ( *(_BYTE *)(a2 + 16) & 3 )
    {
      v39 = a3;
      v38 = *(_DWORD *)(a1 + 408);
      v37 = a4;
      sub_1003BC40((int)&v33, (int)&v40);
      sub_1003BC40((int)&v29, (int)&v44);
      return sub_100399F0(v16, a2, v29, *(double *)&v30, v32, v33, *(double *)&v34, v36, v37, v38, v39);
    }
    v27 = sub_1003FC80(*(_DWORD *)a2, a3, -*(_DWORD *)(a2 + 36), -*(_DWORD *)(a2 + 40));
    if ( v27 != 1 )
    {
      v28 = 0;
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      if ( &dword_109D1A00 )
      {
        v28 = v27;
        LOWORD(dword_109D1A04) = 0;
        dword_109D1A00 = v27;
        dword_109D1A08 = 0;
      }
      if ( v28 < 0 )
        unknown_libname_4(v28);
    }
    v39 = *(_DWORD *)(a1 + 408);
    v38 = a4;
    sub_1003BC40((int)&v34, (int)&v40);
    sub_1003BC40((int)&v30, (int)&v44);
    sub_10037E60(v16, a2, *(double *)&v30, v32, v33, *(double *)&v34, v36, v37, v38, v39);
    result = sub_1003FC80(*(_DWORD *)a2, 0, 0, 0);
    if ( result != 1 )
    {
      v24 = 0;
      dword_109D1A04 = 0;
      dword_109D1A00 = 0;
      dword_109D1A08 = 0;
      if ( !&dword_109D1A00 )
        goto LABEL_64;
      goto LABEL_63;
    }
  }
  else
  {
    result = 0;
    dword_109D1A04 = 0;
    dword_109D1A00 = 0;
    dword_109D1A08 = 0;
    if ( &dword_109D1A00 )
    {
      LOWORD(dword_109D1A04) = 0;
      dword_109D1A00 = -6;
      dword_109D1A08 = 0;
      result = unknown_libname_4(-6);
    }
  }
  return result;
}
// 1003DEB0: using guessed type int __cdecl unknown_libname_4(_DWORD);
// 109D1A00: using guessed type int dword_109D1A00;
// 109D1A04: using guessed type int dword_109D1A04;
// 109D1A08: using guessed type int dword_109D1A08;

//----- (1003BC40) --------------------------------------------------------
int __thiscall sub_1003BC40(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = *(_DWORD *)a2;
  *(_DWORD *)(this + 4) = *(_DWORD *)(a2 + 4);
  *(_DWORD *)(this + 8) = *(_DWORD *)(a2 + 8);
  *(_DWORD *)(this + 12) = *(_DWORD *)(a2 + 12);
  return result;
}

//----- (1003BC70) --------------------------------------------------------
int __thiscall sub_1003BC70(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 32) = 0;
  *(_DWORD *)(this + 28) = 0;
  *(_DWORD *)(this + 24) = 0;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)this = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_WORD *)(this + 16) = 0;
  *(_DWORD *)(this + 36) = 0;
  *(_DWORD *)(this + 40) = 0;
  return result;
}

//----- (1003BCA0) --------------------------------------------------------
int __thiscall sub_1003BCA0(int this, int a2)
{
  int result; // eax@1
  int v3; // esi@1

  result = this;
  v3 = this + 20;
  *(_DWORD *)v3 = *(_DWORD *)(a2 + 20);
  *(_DWORD *)(v3 + 4) = *(_DWORD *)(a2 + 24);
  *(_DWORD *)(v3 + 8) = *(_DWORD *)(a2 + 28);
  *(_DWORD *)(v3 + 12) = *(_DWORD *)(a2 + 32);
  *(_DWORD *)this = *(_DWORD *)a2;
  *(_DWORD *)(this + 4) = *(_DWORD *)(a2 + 4);
  *(_DWORD *)(this + 8) = *(_DWORD *)(a2 + 8);
  *(_DWORD *)(this + 12) = *(_DWORD *)(a2 + 12);
  *(_WORD *)(this + 16) = *(_WORD *)(a2 + 16);
  *(_DWORD *)(this + 36) = *(_DWORD *)(a2 + 36);
  *(_DWORD *)(this + 40) = *(_DWORD *)(a2 + 40);
  return result;
}

//----- (1003BD00) --------------------------------------------------------
int __thiscall sub_1003BD00(int this)
{
  *(_DWORD *)(this + 36) = 0;
  *(_DWORD *)(this + 32) = 0;
  *(_DWORD *)(this + 28) = 0;
  *(_DWORD *)(this + 24) = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 16) = 0;
  *(_WORD *)(this + 20) = 0;
  *(_DWORD *)(this + 40) = 0;
  *(_DWORD *)(this + 44) = 0;
  *(_DWORD *)this = 0;
  *(_BYTE *)(this + 48) = 1;
  *(_BYTE *)(this + 49) = 0;
  memset((void *)(this + 52), 0, 0x40u);
  *(_BYTE *)(this + 116) = 0;
  *(_DWORD *)(this + 120) = 0;
  memset((void *)(this + 124), 0, 0x20u);
  *(_DWORD *)(this + 156) = 0;
  *(_DWORD *)(this + 160) = 0;
  *(_DWORD *)(this + 176) = 0;
  *(_DWORD *)(this + 180) = 0;
  *(_DWORD *)(this + 184) = 0;
  *(_DWORD *)(this + 172) = 1065353216;
  return this;
}

//----- (1003BD80) --------------------------------------------------------
int __cdecl sub_1003BD80(int a1, int a2, float a3, float a4, float a5, float a6, float a7, float a8, int a9)
{
  void (__cdecl *v9)(_DWORD, int, float *); // edi@1
  float v10; // ebx@1
  float v11; // ebp@1
  float v12; // ST3C_4@2
  double v14; // st7@3
  unsigned __int8 v15; // c0@3
  unsigned __int8 v16; // c3@3
  double v17; // st7@4
  signed __int64 v18; // rax@6
  double v20; // st7@6
  int v21; // edi@6
  unsigned __int8 v22; // c0@6
  unsigned __int8 v23; // c3@6
  double v24; // st7@7
  signed __int64 v25; // rax@9
  float v27; // [sp+1Ch] [bp-Ch]@1
  float v28; // [sp+20h] [bp-8h]@1
  float v29; // [sp+24h] [bp-4h]@1

  v9 = (void (__cdecl *)(_DWORD, int, float *))a9;
  v27 = (a5 + a8) * 0.5;
  ((void (__cdecl *)(_DWORD, int, float *))a9)(LODWORD(v27), a2, &v28);
  v10 = a7;
  v11 = a6;
  if ( sub_10026AC0(v28, v29, a3, a4, a6, a7) > 0.5
    || (v12 = (v27 + a8) * 0.5, v9(LODWORD(v12), a2, &a6), sub_10026AC0(a6, a7, a3, a4, v11, v10) > 0.5) )
  {
    sub_1003BD80(a1, a2, a3, a4, a5, v28, v29, v27, (int)v9);
    LODWORD(v25) = sub_1003BD80(a1, a2, v28, v29, v27, v11, v10, a8, (int)v9);
  }
  else
  {
    v14 = v29;
    if ( v15 | v16 )
      v17 = v14 - 0.5;
    else
      v17 = v14 + 0.5;
    v18 = (signed __int64)v17;
    v20 = v28;
    v21 = v18;
    if ( v22 | v23 )
      v24 = v20 - 0.5;
    else
      v24 = v20 + 0.5;
    v25 = (signed __int64)v24;
    HIDWORD(v25) = *(_DWORD *)(a1 + 8);
    if ( SHIDWORD(v25) <= 0
      || *(_DWORD *)(*(_DWORD *)a1 + 8 * HIDWORD(v25) - 8) != (_DWORD)v25
      || *(_DWORD *)(*(_DWORD *)a1 + 8 * HIDWORD(v25) - 4) != v21 )
    {
      if ( SHIDWORD(v25) >= *(_DWORD *)(a1 + 4) )
      {
        if ( SHIDWORD(v25) > 0 )
        {
          *(_DWORD *)(*(_DWORD *)a1 + 8 * HIDWORD(v25) - 8) = v25;
          LODWORD(v25) = *(_DWORD *)a1;
          *(_DWORD *)(*(_DWORD *)a1 + 8 * *(_DWORD *)(a1 + 8) - 4) = v21;
        }
      }
      else
      {
        *(_DWORD *)(*(_DWORD *)a1 + 8 * HIDWORD(v25)) = v25;
        *(_DWORD *)(*(_DWORD *)a1 + 8 * *(_DWORD *)(a1 + 8) + 4) = v21;
        LODWORD(v25) = *(_DWORD *)(a1 + 8) + 1;
        *(_DWORD *)(a1 + 8) = v25;
      }
    }
  }
  return v25;
}

//----- (1003BF40) --------------------------------------------------------
int __cdecl sub_1003BF40(signed __int16 a1)
{
  return (unsigned __int16)a1 / 3;
}

//----- (1003BF60) --------------------------------------------------------
int __cdecl sub_1003BF60(float a1, int a2, int a3)
{
  double v3; // st7@1
  int result; // eax@1
  float v5; // ST00_4@1
  float v6; // ST08_4@1
  float v7; // ST04_4@1
  double v8; // st7@1
  double v9; // st6@1

  v3 = 1.0 - a1;
  result = a2;
  v5 = a1 * a1;
  v6 = v3 * v3 * v3;
  v7 = v3 * v3 * a1 * 3.0;
  v8 = v3 * v5 * 3.0;
  v9 = v5 * a1;
  *(float *)a3 = v9 * *(float *)(a2 + 24) + v8 * *(float *)(a2 + 16) + v7 * *(float *)(a2 + 8) + v6 * *(float *)a2;
  *(float *)(a3 + 4) = v9 * *(float *)(result + 28)
                     + v8 * *(float *)(result + 20)
                     + v7 * *(float *)(result + 12)
                     + v6 * *(float *)(a2 + 4);
  return result;
}

//----- (1003BFF0) --------------------------------------------------------
int __cdecl sub_1003BFF0(int a1, int a2, float a3, float a4, int a5)
{
  double v5; // st7@1
  double v6; // st7@2
  int v7; // edi@4
  double v8; // st7@4
  double v9; // st7@5
  signed __int64 v10; // rax@7
  int v11; // ecx@7
  int v12; // ebx@15
  double v14; // st7@19
  unsigned __int8 v15; // c0@19
  unsigned __int8 v16; // c3@19
  double v17; // st7@20
  signed __int64 v18; // rax@22
  double v20; // st7@22
  int v21; // edi@22
  unsigned __int8 v22; // c0@22
  unsigned __int8 v23; // c3@22
  double v24; // st7@23
  signed __int64 v25; // rax@25
  int v26; // ecx@25
  int v28; // [sp+Ch] [bp-2Ch]@1
  float v29; // [sp+10h] [bp-28h]@16
  float v30; // [sp+14h] [bp-24h]@18
  float v31; // [sp+18h] [bp-20h]@16
  float v32; // [sp+1Ch] [bp-1Ch]@16
  float v33; // [sp+20h] [bp-18h]@16
  float v34; // [sp+24h] [bp-14h]@16
  float v35; // [sp+28h] [bp-10h]@16
  float v36; // [sp+2Ch] [bp-Ch]@16
  float v37; // [sp+30h] [bp-8h]@16
  float v38; // [sp+34h] [bp-4h]@16

  LOWORD(v28) = sub_1003BF40(a1);
  v5 = (double)*(signed int *)(a2 + 4) * a4;
  if ( v5 <= 0.0 )
    v6 = v5 - 0.5;
  else
    v6 = v5 + 0.5;
  v7 = (signed __int64)v6;
  v8 = (double)*(signed int *)a2 * a3;
  if ( v8 <= 0.0 )
    v9 = v8 - 0.5;
  else
    v9 = v8 + 0.5;
  v10 = (signed __int64)v9;
  v11 = *(_DWORD *)(a5 + 8);
  if ( v11 <= 0
    || *(_DWORD *)(*(_DWORD *)a5 + 8 * v11 - 8) != (_DWORD)v10
    || *(_DWORD *)(*(_DWORD *)a5 + 8 * v11 - 4) != v7 )
  {
    if ( v11 >= *(_DWORD *)(a5 + 4) )
    {
      if ( v11 > 0 )
      {
        *(_DWORD *)(*(_DWORD *)a5 + 8 * v11 - 8) = v10;
        *(_DWORD *)(*(_DWORD *)a5 + 8 * *(_DWORD *)(a5 + 8) - 4) = v7;
      }
    }
    else
    {
      *(_DWORD *)(*(_DWORD *)a5 + 8 * v11) = v10;
      *(_DWORD *)(*(_DWORD *)a5 + 8 * (*(_DWORD *)(a5 + 8))++ + 4) = v7;
    }
  }
  if ( (signed int)(unsigned __int16)v28 > 0 )
  {
    v12 = a2 + 8;
    v28 = (unsigned __int16)v28;
    do
    {
      v31 = (double)*(signed int *)(v12 - 8) * a3;
      v32 = (double)*(signed int *)(v12 - 4) * a4;
      v33 = (double)*(signed int *)v12 * a3;
      v34 = (double)*(signed int *)(v12 + 4) * a4;
      v35 = (double)*(signed int *)(v12 + 8) * a3;
      v36 = (double)*(signed int *)(v12 + 12) * a4;
      v37 = (double)*(signed int *)(v12 + 16) * a3;
      v38 = (double)*(signed int *)(v12 + 20) * a4;
      sub_1003BF60(0.5, (int)&v31, (int)&v29);
      if ( v31 != v37 || v32 != v38 )
      {
        sub_1003BD80(a5, (int)&v31, v31, v32, 0.0, v29, v30, 0.5, (int)sub_1003BF60);
        sub_1003BD80(a5, (int)&v31, v29, v30, 0.5, v37, v38, 1.0, (int)sub_1003BF60);
      }
      v14 = v38;
      if ( v15 | v16 )
        v17 = v14 - 0.5;
      else
        v17 = v14 + 0.5;
      v18 = (signed __int64)v17;
      v20 = v37;
      v21 = v18;
      if ( v22 | v23 )
        v24 = v20 - 0.5;
      else
        v24 = v20 + 0.5;
      v25 = (signed __int64)v24;
      v26 = *(_DWORD *)(a5 + 8);
      if ( v26 <= 0
        || *(_DWORD *)(*(_DWORD *)a5 + 8 * v26 - 8) != (_DWORD)v25
        || *(_DWORD *)(*(_DWORD *)a5 + 8 * v26 - 4) != v21 )
      {
        if ( v26 >= *(_DWORD *)(a5 + 4) )
        {
          if ( v26 > 0 )
          {
            *(_DWORD *)(*(_DWORD *)a5 + 8 * v26 - 8) = v25;
            *(_DWORD *)(*(_DWORD *)a5 + 8 * *(_DWORD *)(a5 + 8) - 4) = v21;
          }
        }
        else
        {
          *(_DWORD *)(*(_DWORD *)a5 + 8 * v26) = v25;
          *(_DWORD *)(*(_DWORD *)a5 + 8 * (*(_DWORD *)(a5 + 8))++ + 4) = v21;
        }
      }
      v12 += 24;
      --v28;
    }
    while ( v28 );
  }
  return 1;
}

//----- (1003C260) --------------------------------------------------------
int __cdecl sub_1003C260(float a1, int a2, int a3)
{
  double v3; // st7@1
  int result; // eax@1
  double v5; // st6@1
  float v6; // ST04_4@1
  float v7; // ST00_4@1
  double v8; // st7@1
  float v9; // [sp+Ch] [bp+4h]@1

  v3 = a1 * a1;
  result = a2;
  v5 = v3 * a1;
  v6 = v3 + v3 - a1 - v5;
  v7 = 2.0 - v3 * 5.0 + v5 * 3.0;
  v9 = v3 * 4.0 + a1 - v5 * 3.0;
  v8 = v5 - v3;
  *(float *)a3 = (v8 * *(float *)(a2 + 24) + v9 * *(float *)(a2 + 16) + v7 * *(float *)(a2 + 8) + v6 * *(float *)a2)
               * 0.5;
  *(float *)(a3 + 4) = (v8 * *(float *)(result + 28)
                      + v9 * *(float *)(result + 20)
                      + v7 * *(float *)(result + 12)
                      + v6 * *(float *)(a2 + 4))
                     * 0.5;
  return result;
}

//----- (1003C310) --------------------------------------------------------
int __cdecl sub_1003C310(int a1, int a2, float a3, float a4, int a5)
{
  double v5; // st7@1
  double v6; // st7@2
  int v7; // edi@4
  int v8; // ebx@4
  double v9; // st7@4
  double v10; // st7@5
  signed __int64 v11; // rax@7
  int v12; // ecx@7
  double v14; // st7@19
  unsigned __int8 v15; // c0@19
  unsigned __int8 v16; // c3@19
  double v17; // st7@20
  signed __int64 v18; // rax@22
  double v20; // st7@22
  int v21; // ebx@22
  unsigned __int8 v22; // c0@22
  unsigned __int8 v23; // c3@22
  double v24; // st7@23
  signed __int64 v25; // rax@25
  int v26; // ecx@25
  int v28; // [sp+Ch] [bp-2Ch]@1
  float v29; // [sp+10h] [bp-28h]@16
  float v30; // [sp+14h] [bp-24h]@18
  float v31; // [sp+18h] [bp-20h]@16
  float v32; // [sp+1Ch] [bp-1Ch]@16
  float v33; // [sp+20h] [bp-18h]@16
  float v34; // [sp+24h] [bp-14h]@16
  float v35; // [sp+28h] [bp-10h]@16
  float v36; // [sp+2Ch] [bp-Ch]@16
  float v37; // [sp+30h] [bp-8h]@16
  float v38; // [sp+34h] [bp-4h]@16

  LOWORD(v28) = sub_1003C580(a1);
  v5 = (double)*(signed int *)(a2 + 12) * a4;
  if ( v5 <= 0.0 )
    v6 = v5 - 0.5;
  else
    v6 = v5 + 0.5;
  v7 = a2 + 8;
  v8 = (signed __int64)v6;
  v9 = (double)*(signed int *)(a2 + 8) * a3;
  if ( v9 <= 0.0 )
    v10 = v9 - 0.5;
  else
    v10 = v9 + 0.5;
  v11 = (signed __int64)v10;
  v12 = *(_DWORD *)(a5 + 8);
  if ( v12 <= 0
    || *(_DWORD *)(*(_DWORD *)a5 + 8 * v12 - 8) != (_DWORD)v11
    || *(_DWORD *)(*(_DWORD *)a5 + 8 * v12 - 4) != v8 )
  {
    if ( v12 >= *(_DWORD *)(a5 + 4) )
    {
      if ( v12 > 0 )
      {
        *(_DWORD *)(*(_DWORD *)a5 + 8 * v12 - 8) = v11;
        *(_DWORD *)(*(_DWORD *)a5 + 8 * *(_DWORD *)(a5 + 8) - 4) = v8;
      }
    }
    else
    {
      *(_DWORD *)(*(_DWORD *)a5 + 8 * v12) = v11;
      *(_DWORD *)(*(_DWORD *)a5 + 8 * (*(_DWORD *)(a5 + 8))++ + 4) = v8;
    }
  }
  if ( (signed int)(unsigned __int16)v28 > 0 )
  {
    v28 = (unsigned __int16)v28;
    do
    {
      v31 = (double)*(signed int *)(v7 - 8) * a3;
      v32 = (double)*(signed int *)(v7 - 4) * a4;
      v33 = (double)*(signed int *)v7 * a3;
      v34 = (double)*(signed int *)(v7 + 4) * a4;
      v35 = (double)*(signed int *)(v7 + 8) * a3;
      v36 = (double)*(signed int *)(v7 + 12) * a4;
      v37 = (double)*(signed int *)(v7 + 16) * a3;
      v38 = (double)*(signed int *)(v7 + 20) * a4;
      sub_1003C260(0.5, (int)&v31, (int)&v29);
      if ( v31 != v37 || v32 != v38 )
      {
        sub_1003BD80(a5, (int)&v31, v31, v32, 0.0, v29, v30, 0.5, (int)sub_1003C260);
        sub_1003BD80(a5, (int)&v31, v29, v30, 0.5, v37, v38, 1.0, (int)sub_1003C260);
      }
      v14 = v36;
      if ( v15 | v16 )
        v17 = v14 - 0.5;
      else
        v17 = v14 + 0.5;
      v18 = (signed __int64)v17;
      v20 = v35;
      v21 = v18;
      if ( v22 | v23 )
        v24 = v20 - 0.5;
      else
        v24 = v20 + 0.5;
      v25 = (signed __int64)v24;
      v26 = *(_DWORD *)(a5 + 8);
      if ( v26 <= 0
        || *(_DWORD *)(*(_DWORD *)a5 + 8 * v26 - 8) != (_DWORD)v25
        || *(_DWORD *)(*(_DWORD *)a5 + 8 * v26 - 4) != v21 )
      {
        if ( v26 >= *(_DWORD *)(a5 + 4) )
        {
          if ( v26 > 0 )
          {
            *(_DWORD *)(*(_DWORD *)a5 + 8 * v26 - 8) = v25;
            *(_DWORD *)(*(_DWORD *)a5 + 8 * *(_DWORD *)(a5 + 8) - 4) = v21;
          }
        }
        else
        {
          *(_DWORD *)(*(_DWORD *)a5 + 8 * v26) = v25;
          *(_DWORD *)(*(_DWORD *)a5 + 8 * (*(_DWORD *)(a5 + 8))++ + 4) = v21;
        }
      }
      v7 += 8;
      --v28;
    }
    while ( v28 );
  }
  return 1;
}

//----- (1003C580) --------------------------------------------------------
int __cdecl sub_1003C580(int a1)
{
  return a1 - 3;
}

//----- (1003C590) --------------------------------------------------------
int __cdecl sub_1003C590(float a1, int a2, int a3)
{
  double v3; // st7@1
  int result; // eax@1
  float v5; // ST00_4@1
  float v6; // ST08_4@1
  double v7; // st6@1
  float v8; // ST04_4@1
  double v9; // st7@1

  v3 = a1 * a1;
  result = a2;
  v5 = v3 * a1;
  v6 = (1.0 - a1) * (1.0 - a1) * (1.0 - a1);
  v7 = v5 * 3.0;
  v8 = v7 - v3 * 6.0 + 4.0;
  v9 = (v3 + a1) * 3.0 - v7 + 1.0;
  *(float *)a3 = (v9 * *(float *)(a2 + 16) + v8 * *(float *)(a2 + 8) + v5 * *(float *)(a2 + 24) + v6 * *(float *)a2)
               * 0.16666667;
  *(float *)(a3 + 4) = (v9 * *(float *)(result + 20)
                      + v8 * *(float *)(result + 12)
                      + v6 * *(float *)(result + 4)
                      + v5 * *(float *)(a2 + 28))
                     * 0.16666667;
  return result;
}

//----- (1003C650) --------------------------------------------------------
int __cdecl sub_1003C650(int a1, int a2, float a3, float a4, int a5)
{
  int v5; // eax@1
  int v6; // edi@2
  double v8; // st7@9
  unsigned __int8 v9; // c0@9
  unsigned __int8 v10; // c3@9
  double v11; // st7@10
  signed __int64 v12; // rax@12
  double v14; // st7@12
  int v15; // ebx@12
  unsigned __int8 v16; // c0@12
  unsigned __int8 v17; // c3@12
  double v18; // st7@13
  signed __int64 v19; // rax@15
  int v20; // ecx@15
  int v22; // [sp+Ch] [bp-2Ch]@2
  float v23; // [sp+10h] [bp-28h]@3
  float v24; // [sp+14h] [bp-24h]@9
  float v25; // [sp+18h] [bp-20h]@3
  float v26; // [sp+1Ch] [bp-1Ch]@3
  float v27; // [sp+20h] [bp-18h]@3
  float v28; // [sp+24h] [bp-14h]@3
  float v29; // [sp+28h] [bp-10h]@3
  float v30; // [sp+2Ch] [bp-Ch]@3
  float v31; // [sp+30h] [bp-8h]@3
  float v32; // [sp+34h] [bp-4h]@3

  v5 = (unsigned __int16)sub_1003C580(a1);
  if ( v5 > 0 )
  {
    v22 = v5;
    v6 = a2 + 8;
    do
    {
      v25 = (double)*(signed int *)(v6 - 8) * a3;
      v26 = (double)*(signed int *)(v6 - 4) * a4;
      v27 = (double)*(signed int *)v6 * a3;
      v28 = (double)*(signed int *)(v6 + 4) * a4;
      v29 = (double)*(signed int *)(v6 + 8) * a3;
      v30 = (double)*(signed int *)(v6 + 12) * a4;
      v31 = (double)*(signed int *)(v6 + 16) * a3;
      v32 = (double)*(signed int *)(v6 + 20) * a4;
      sub_1003C590(0.5, (int)&v25, (int)&v23);
      if ( v25 != v27 || v26 != v28 || v25 != v29 || v26 != v30 || v25 != v31 || v26 != v32 )
      {
        sub_1003BD80(a5, (int)&v25, v25, v26, 0.0, v23, v24, 0.5, (int)sub_1003C590);
        sub_1003BD80(a5, (int)&v25, v23, v24, 0.5, v31, v32, 1.0, (int)sub_1003C590);
      }
      else
      {
        v8 = v24;
        if ( v9 | v10 )
          v11 = v8 - 0.5;
        else
          v11 = v8 + 0.5;
        v12 = (signed __int64)v11;
        v14 = v23;
        v15 = v12;
        if ( v16 | v17 )
          v18 = v14 - 0.5;
        else
          v18 = v14 + 0.5;
        v19 = (signed __int64)v18;
        v20 = *(_DWORD *)(a5 + 8);
        if ( v20 <= 0
          || *(_DWORD *)(*(_DWORD *)a5 + 8 * v20 - 8) != (_DWORD)v19
          || *(_DWORD *)(*(_DWORD *)a5 + 8 * v20 - 4) != v15 )
        {
          if ( v20 >= *(_DWORD *)(a5 + 4) )
          {
            if ( v20 > 0 )
            {
              *(_DWORD *)(*(_DWORD *)a5 + 8 * v20 - 8) = v19;
              *(_DWORD *)(*(_DWORD *)a5 + 8 * *(_DWORD *)(a5 + 8) - 4) = v15;
            }
          }
          else
          {
            *(_DWORD *)(*(_DWORD *)a5 + 8 * v20) = v19;
            *(_DWORD *)(*(_DWORD *)a5 + 8 * (*(_DWORD *)(a5 + 8))++ + 4) = v15;
          }
        }
      }
      v6 += 8;
      --v22;
    }
    while ( v22 );
  }
  return 1;
}

//----- (1003C870) --------------------------------------------------------
int __cdecl sub_1003C870(int a1, int a2, int a3, int a4, int a5, void (__cdecl *a6)(int, int, int), int a7)
{
  int v7; // ebx@1
  int v8; // ebp@1
  int v9; // esi@1
  int v10; // edi@1
  int v11; // eax@1
  int v12; // ecx@1
  int v13; // esi@1
  int v14; // eax@6
  int v15; // eax@8
  int v17; // [sp+10h] [bp-4h]@1
  int v18; // [sp+20h] [bp+Ch]@1
  int v19; // [sp+24h] [bp+10h]@4

  v7 = a1;
  v8 = a2;
  v9 = a3;
  v17 = 2 * a4;
  v18 = 2 * a4 - 2 * a3;
  v10 = 2 * a4 - v9;
  a6(a1, a2, a7);
  v11 = 0;
  v12 = v9;
  v13 = v9 - 1;
  if ( v12 )
  {
    while ( 1 )
    {
      v19 = v11 + 1;
      if ( v11 == 0x7FFE )
        break;
      if ( v10 < 0 )
      {
        v14 = v17;
      }
      else
      {
        v14 = v18;
        ++v8;
      }
      v7 += a5;
      v10 += v14;
      a6(v7, v8, a7);
      v15 = v13--;
      if ( !v15 )
        break;
      v11 = v19;
    }
  }
  return ((int (__cdecl *)(int, int, int))a6)(v7, v8, a7);
}

//----- (1003C910) --------------------------------------------------------
int __cdecl sub_1003C910(int a1, int a2, int a3, int a4, int a5, void (__cdecl *a6)(int, int, int), int a7)
{
  int v7; // esi@1
  int v8; // edi@1
  int v9; // ebp@1
  int v10; // ebx@1
  int result; // eax@1
  int v12; // ecx@1
  int v13; // esi@1
  int v14; // ecx@8
  int v15; // [sp+1Ch] [bp+Ch]@1
  int v16; // [sp+20h] [bp+10h]@4

  v7 = a3;
  v8 = -2 * a4;
  v9 = a1;
  v15 = -2 * a4 - 2 * a3;
  v10 = -2 * a4 - v7;
  a6(a1, a2, a7);
  result = 0;
  v12 = v7;
  v13 = v7 - 1;
  if ( v12 )
  {
    while ( 1 )
    {
      v16 = ++result;
      if ( result == 0x7FFF )
        break;
      if ( v10 <= 0 )
      {
        v10 += v8;
      }
      else
      {
        v10 += v15;
        --a2;
      }
      v9 += a5;
      result = ((int (__cdecl *)(int, int, int))a6)(v9, a2, a7);
      v14 = v13--;
      if ( !v14 )
        break;
      result = v16;
    }
  }
  return result;
}

//----- (1003C9A0) --------------------------------------------------------
int __cdecl sub_1003C9A0(int a1, int a2, int a3, int a4, int a5, void (__cdecl *a6)(int, int, int), int a7)
{
  int v7; // ebp@1
  int v8; // ebx@1
  int v9; // edi@1
  int result; // eax@1
  int v11; // esi@1
  int v12; // [sp+18h] [bp+Ch]@4

  v7 = 2 * a3;
  v8 = 2 * a3 - 2 * a4;
  v9 = 2 * a3 - a4;
  a6(a1, a2, a7);
  result = 0;
  v11 = a4 - 1;
  if ( a4 )
  {
    while ( 1 )
    {
      v12 = ++result;
      if ( result == 0x7FFF )
        break;
      if ( v9 < 0 )
      {
        v9 += v7;
      }
      else
      {
        v9 += v8;
        a1 += a5;
      }
      a6(a1, ++a2, a7);
      result = v11--;
      if ( !result )
        break;
      result = v12;
    }
  }
  return result;
}

//----- (1003CA30) --------------------------------------------------------
int __cdecl sub_1003CA30(int a1, int a2, int a3, int a4, int a5, void (__cdecl *a6)(int, int, int), int a7)
{
  int v7; // ebx@1
  int v8; // ebp@1
  int v9; // edi@1
  int result; // eax@1
  int v11; // esi@1
  int v12; // eax@6
  int v13; // [sp+10h] [bp-4h]@1
  int v14; // [sp+20h] [bp+Ch]@1
  int v15; // [sp+24h] [bp+10h]@4

  v7 = a1;
  v8 = a2;
  v9 = 2 * a3;
  v13 = 2 * a3 + 2 * a4;
  v14 = 2 * a3 + a4;
  a6(a1, a2, a7);
  result = 0;
  v11 = a4 + 1;
  if ( a4 )
  {
    while ( 1 )
    {
      v15 = ++result;
      if ( result == 0x7FFF )
        break;
      if ( v14 < 0 )
      {
        v12 = v9 + v14;
      }
      else
      {
        v7 += a5;
        v12 = v13 + v14;
      }
      --v8;
      v14 = v12;
      a6(v7, v8, a7);
      result = v11++;
      if ( !result )
        break;
      result = v15;
    }
  }
  return result;
}

//----- (1003CAC0) --------------------------------------------------------
int __cdecl sub_1003CAC0(int a1, int a2, int a3, int a4, void (__cdecl *a5)(int, int, int), int a6)
{
  int v6; // ecx@1
  int v7; // eax@1
  int result; // eax@4
  int v9; // [sp-1Ch] [bp-24h]@3
  int v10; // [sp-1Ch] [bp-24h]@9
  int v11; // [sp-18h] [bp-20h]@3
  int v12; // [sp-18h] [bp-20h]@9
  int v13; // [sp-14h] [bp-1Ch]@3
  int v14; // [sp-14h] [bp-1Ch]@9
  int v15; // [sp-10h] [bp-18h]@3
  int v16; // [sp-10h] [bp-18h]@9
  int v17; // [sp-Ch] [bp-14h]@3
  int v18; // [sp-Ch] [bp-14h]@9
  void (__cdecl *v19)(int, int, int); // [sp-8h] [bp-10h]@3
  void (__cdecl *v20)(int, int, int); // [sp-8h] [bp-10h]@9
  int v21; // [sp-4h] [bp-Ch]@3
  int v22; // [sp-4h] [bp-Ch]@9

  v6 = a3 - a1;
  v7 = a4 - a2;
  if ( a2 <= a4 )
  {
    if ( v6 <= 0 )
    {
      v22 = a6;
      v20 = a5;
      v18 = -1;
      v16 = a4 - a2;
      v14 = -v6;
      v12 = a2;
      v10 = a1;
      if ( -v6 > v7 )
        return sub_1003C870(a1, a2, v14, v16, -1, a5, a6);
    }
    else
    {
      v22 = a6;
      v20 = a5;
      v18 = 1;
      v16 = a4 - a2;
      v14 = a3 - a1;
      v12 = a2;
      v10 = a1;
      if ( v6 > v7 )
        return sub_1003C870(a1, a2, v14, v16, 1, a5, a6);
    }
    result = sub_1003C9A0(v10, v12, v14, v16, v18, v20, v22);
  }
  else
  {
    if ( v6 <= 0 )
    {
      v21 = a6;
      v19 = a5;
      v17 = -1;
      v15 = a4 - a2;
      v13 = -v6;
      v11 = a2;
      v9 = a1;
      if ( -v6 > -v7 )
        return sub_1003C910(a1, a2, v13, v15, -1, a5, a6);
    }
    else
    {
      v21 = a6;
      v19 = a5;
      v17 = 1;
      v15 = a4 - a2;
      v13 = a3 - a1;
      v11 = a2;
      v9 = a1;
      if ( v6 > -v7 )
        return sub_1003C910(a1, a2, v13, v15, 1, a5, a6);
    }
    result = sub_1003CA30(v9, v11, v13, v15, v17, v19, v21);
  }
  return result;
}

//----- (1003CB90) --------------------------------------------------------
void __cdecl sub_1003CB90(signed int a1, signed int a2, signed int a3, signed int a4, signed int a5, signed int a6, int a7)
{
  double v7; // st7@10
  long double v8; // st6@10
  long double v9; // st6@12
  long double v10; // st5@12
  unsigned __int8 v12; // c0@12
  unsigned __int8 v13; // c3@12
  double v14; // st6@13
  long double v15; // st7@16
  signed __int64 v16; // rax@18
  double v17; // [sp+10h] [bp-8h]@12
  int v18; // [sp+24h] [bp+Ch]@15

  if ( a7 )
  {
    if ( a5 == a1 )
    {
      *(_DWORD *)a7 = a1;
      if ( a6 > a2 )
        *(_DWORD *)(a7 + 4) = a4 + a2;
      else
        *(_DWORD *)(a7 + 4) = a2 - a4;
    }
    else if ( a6 == a2 )
    {
      *(_DWORD *)(a7 + 4) = a2;
      if ( a5 > a1 )
        *(_DWORD *)a7 = a3 + a1;
      else
        *(_DWORD *)a7 = a1 - a3;
    }
    else
    {
      v7 = (double)(a6 - a2) / (double)(a5 - a1);
      v8 = (double)(a3 * a3) * v7 * v7 + (double)(a4 * a4);
      if ( v8 == 0.0 )
      {
        *(_DWORD *)a7 = 0;
        *(_DWORD *)(a7 + 4) = 0;
      }
      else
      {
        v9 = sqrt(v8);
        v17 = (double)a1 - (double)(a4 * a3) / v9;
        v10 = (double)a2 - fabs((double)a3 * (double)a4 * v7 / v9);
        if ( v12 | v13 )
          v14 = v17 - 0.5;
        else
          v14 = v17 + 0.5;
        v18 = (signed __int64)v14;
        *(_DWORD *)a7 = v18;
        if ( v10 <= 0.0 )
          v15 = v10 - 0.5;
        else
          v15 = v10 + 0.5;
        v16 = (signed __int64)v15;
        *(_DWORD *)(a7 + 4) = (signed __int64)v15;
        if ( a5 > a1 )
          *(_DWORD *)a7 = 2 * a1 - v18;
        if ( a6 > a2 )
          *(_DWORD *)(a7 + 4) = 2 * a2 - v16;
      }
    }
  }
}

//----- (1003CD20) --------------------------------------------------------
signed int __cdecl sub_1003CD20(int a1, int a2)
{
  signed int result; // eax@3
  int v3; // eax@7

  if ( a1 == dword_109D1A20 )
  {
    if ( a2 == dword_109D1A24 )
      result = 1;
    else
      result = a2 >= dword_109D1A24 ? 4 : 2;
  }
  else if ( a1 >= dword_109D1A20 )
  {
    v3 = a2 < dword_109D1A24;
    LOBYTE(v3) = a2 > dword_109D1A24;
    --v3;
    LOBYTE(v3) = v3 & 0xFD;
    result = v3 + 4;
  }
  else
  {
    result = (a2 >= dword_109D1A24) + 2;
  }
  return result;
}
// 109D1A20: using guessed type int dword_109D1A20;
// 109D1A24: using guessed type int dword_109D1A24;

//----- (1003CD90) --------------------------------------------------------
signed int __cdecl sub_1003CD90(int a1, int a2)
{
  signed int result; // eax@3
  int v3; // eax@7

  if ( a1 == dword_109D1A20 )
  {
    if ( a2 == dword_109D1A24 )
      result = 4;
    else
      result = a2 >= dword_109D1A24 ? 3 : 1;
  }
  else if ( a1 >= dword_109D1A20 )
  {
    v3 = a2 < dword_109D1A24;
    LOBYTE(v3) = a2 >= dword_109D1A24;
    --v3;
    LOBYTE(v3) = v3 & 0xFD;
    result = v3 + 4;
  }
  else
  {
    result = (a2 > dword_109D1A24) + 2;
  }
  return result;
}
// 109D1A20: using guessed type int dword_109D1A20;
// 109D1A24: using guessed type int dword_109D1A24;

//----- (1003CE00) --------------------------------------------------------
BOOL __cdecl sub_1003CE00(int a1, int a2, int a3, int a4)
{
  return (a4 - dword_109D1A24) * (a1 - dword_109D1A20) < (a2 - dword_109D1A24) * (a3 - dword_109D1A20);
}
// 109D1A20: using guessed type int dword_109D1A20;
// 109D1A24: using guessed type int dword_109D1A24;

//----- (1003CE40) --------------------------------------------------------
void __cdecl sub_1003CE40(signed int a1, signed int a2, signed int a3, signed int a4, void (__fastcall *a5)(int, _DWORD))
{
  int v5; // ecx@0
  double v7; // st7@2
  unsigned __int8 v8; // c0@2
  unsigned __int8 v9; // c3@2
  double v10; // st7@3
  double v11; // st7@5
  double v12; // st7@12
  double v14; // st7@13
  unsigned __int8 v15; // c0@13
  unsigned __int8 v16; // c3@13
  double v17; // st7@14
  double v18; // st7@16
  float v19; // [sp+0h] [bp-14h]@1
  float v20; // [sp+4h] [bp-10h]@1
  float v21; // [sp+8h] [bp-Ch]@1
  float v22; // [sp+Ch] [bp-8h]@1
  float v23; // [sp+Ch] [bp-8h]@10
  float v24; // [sp+10h] [bp-4h]@1
  float v25; // [sp+18h] [bp+4h]@1
  float v27; // [sp+2Ch] [bp+18h]@7
  float v28; // [sp+2Ch] [bp+18h]@12

  v20 = (double)a1;
  v24 = (double)a2;
  v19 = v24;
  v21 = (double)(signed int)abs(a1 - dword_109D1A20) * flt_109D1A1C;
  v25 = (double)(signed int)abs(a2 - dword_109D1A24) * flt_109D1A34;
  v22 = (v20 - (double)dword_109D1A20 - 0.5) * (v20 - (double)dword_109D1A20 - 0.5) * flt_109D1A18
      + (v24 - (double)dword_109D1A24 - 1.0) * (v24 - (double)dword_109D1A24 - 1.0) * flt_109D1A38
      - flt_109D1A38 * flt_109D1A18;
  if ( v21 <= (double)v25 )
  {
LABEL_9:
    if ( v19 == v24 )
      v23 = (v20 - (double)dword_109D1A20 - 1.0) * (v20 - (double)dword_109D1A20 - 1.0) * flt_109D1A18
          + (v19 - (double)dword_109D1A24 - 0.5) * (v19 - (double)dword_109D1A24 - 0.5) * flt_109D1A38
          - flt_109D1A38 * flt_109D1A18;
    else
      v23 = ((flt_109D1A38 - flt_109D1A18) * 1.5 - (v25 + v21)) * 0.5 + v22;
    v12 = (double)a3;
    v28 = v12;
    if ( v12 < v20 )
    {
      do
      {
        v14 = v20;
        if ( v15 | v16 )
          v17 = v14 - 0.5;
        else
          v17 = v14 + 0.5;
        a5(v5, (unsigned __int64)(signed __int64)v17 >> 32);
        v18 = v23;
        if ( v23 < 0.0 )
        {
          v19 = v19 - 1.0;
          v25 = flt_109D1A34 + v25;
          v18 = v18 + v25;
        }
        v20 = v20 - 1.0;
        v21 = v21 - flt_109D1A1C;
        v23 = flt_109D1A18 - v21 + v18;
      }
      while ( v28 < (double)v20 );
    }
  }
  else
  {
    while ( 1 )
    {
      v7 = v20;
      if ( v8 | v9 )
        v10 = v7 - 0.5;
      else
        v10 = v7 + 0.5;
      a5(v5, (unsigned __int64)(signed __int64)v10 >> 32);
      v11 = v22;
      if ( v22 > 0.0 )
      {
        v20 = v20 - 1.0;
        v21 = v21 - flt_109D1A1C;
        v11 = v11 - v21;
      }
      v19 = v19 - 1.0;
      v27 = (double)a4;
      if ( v27 > (double)v19 )
        break;
      v25 = flt_109D1A34 + v25;
      v22 = flt_109D1A38 + v11 + v25;
      if ( v21 <= (double)v25 )
        goto LABEL_9;
    }
  }
}
// 109D1A18: using guessed type float flt_109D1A18;
// 109D1A1C: using guessed type float flt_109D1A1C;
// 109D1A20: using guessed type int dword_109D1A20;
// 109D1A24: using guessed type int dword_109D1A24;
// 109D1A34: using guessed type float flt_109D1A34;
// 109D1A38: using guessed type float flt_109D1A38;

//----- (1003D170) --------------------------------------------------------
void __cdecl sub_1003D170(signed int a1, signed int a2, signed int a3, signed int a4, void (__fastcall *a5)(int, _DWORD))
{
  int v5; // ecx@0
  double v7; // st7@2
  unsigned __int8 v8; // c0@2
  unsigned __int8 v9; // c3@2
  double v10; // st7@3
  double v11; // st7@5
  double v12; // st7@12
  double v14; // st7@13
  unsigned __int8 v15; // c0@13
  unsigned __int8 v16; // c3@13
  double v17; // st7@14
  double v18; // st7@16
  float v19; // [sp+0h] [bp-14h]@1
  float v20; // [sp+4h] [bp-10h]@1
  float v21; // [sp+8h] [bp-Ch]@1
  float v22; // [sp+Ch] [bp-8h]@1
  float v23; // [sp+Ch] [bp-8h]@10
  float v24; // [sp+10h] [bp-4h]@1
  float v25; // [sp+18h] [bp+4h]@1
  float v27; // [sp+2Ch] [bp+18h]@7
  float v28; // [sp+2Ch] [bp+18h]@12

  v24 = (double)a1;
  v19 = v24;
  v20 = (double)a2;
  v21 = (double)(signed int)abs(a1 - dword_109D1A20) * flt_109D1A1C;
  v25 = (double)(signed int)abs(a2 - dword_109D1A24) * flt_109D1A34;
  v22 = (v24 - (double)dword_109D1A20 - 1.0) * (v24 - (double)dword_109D1A20 - 1.0) * flt_109D1A18
      + (v20 - (double)dword_109D1A24 + 0.5) * (v20 - (double)dword_109D1A24 + 0.5) * flt_109D1A38
      - flt_109D1A38 * flt_109D1A18;
  if ( v21 >= (double)v25 )
  {
LABEL_9:
    if ( v19 == v24 )
      v23 = (v19 - (double)dword_109D1A20 + 0.5) * (v19 - (double)dword_109D1A20 + 0.5) * flt_109D1A18
          + (v20 - (double)dword_109D1A24 - 1.0) * (v20 - (double)dword_109D1A24 - 1.0) * flt_109D1A38
          - flt_109D1A38 * flt_109D1A18;
    else
      v23 = ((flt_109D1A38 - flt_109D1A18) * 1.5 - (v25 + v21)) * 0.5 + v22;
    v12 = (double)a4;
    v28 = v12;
    if ( v12 > v20 )
    {
      do
      {
        v14 = v19;
        if ( v15 | v16 )
          v17 = v14 - 0.5;
        else
          v17 = v14 + 0.5;
        a5(v5, (unsigned __int64)(signed __int64)v17 >> 32);
        v18 = v23;
        if ( v23 < 0.0 )
        {
          v19 = v19 - 1.0;
          v21 = flt_109D1A1C + v21;
          v18 = v18 + v21;
        }
        v20 = v20 + 1.0;
        v25 = v25 - flt_109D1A34;
        v23 = flt_109D1A38 - v25 + v18;
      }
      while ( v28 > (double)v20 );
    }
  }
  else
  {
    while ( 1 )
    {
      v7 = v19;
      if ( v8 | v9 )
        v10 = v7 - 0.5;
      else
        v10 = v7 + 0.5;
      a5(v5, (unsigned __int64)(signed __int64)v10 >> 32);
      v11 = v22;
      if ( v22 > 0.0 )
      {
        v20 = v20 + 1.0;
        v25 = v25 - flt_109D1A34;
        v11 = v11 - v25;
      }
      v19 = v19 - 1.0;
      v27 = (double)a3;
      if ( v27 > (double)v19 )
        break;
      v21 = flt_109D1A1C + v21;
      v22 = flt_109D1A18 + v11 + v21;
      if ( v21 >= (double)v25 )
        goto LABEL_9;
    }
  }
}
// 109D1A18: using guessed type float flt_109D1A18;
// 109D1A1C: using guessed type float flt_109D1A1C;
// 109D1A20: using guessed type int dword_109D1A20;
// 109D1A24: using guessed type int dword_109D1A24;
// 109D1A34: using guessed type float flt_109D1A34;
// 109D1A38: using guessed type float flt_109D1A38;

//----- (1003D4A0) --------------------------------------------------------
void __cdecl sub_1003D4A0(signed int a1, signed int a2, signed int a3, signed int a4, void (__fastcall *a5)(int, _DWORD))
{
  int v5; // ecx@0
  double v7; // st7@2
  unsigned __int8 v8; // c0@2
  unsigned __int8 v9; // c3@2
  double v10; // st7@3
  double v11; // st7@5
  double v12; // st7@12
  double v14; // st7@13
  unsigned __int8 v15; // c0@13
  unsigned __int8 v16; // c3@13
  double v17; // st7@14
  double v18; // st7@16
  float v19; // [sp+0h] [bp-14h]@1
  float v20; // [sp+4h] [bp-10h]@1
  float v21; // [sp+8h] [bp-Ch]@1
  float v22; // [sp+Ch] [bp-8h]@1
  float v23; // [sp+Ch] [bp-8h]@10
  float v24; // [sp+10h] [bp-4h]@1
  float v25; // [sp+18h] [bp+4h]@1
  float v27; // [sp+2Ch] [bp+18h]@7
  float v28; // [sp+2Ch] [bp+18h]@12

  v20 = (double)a1;
  v24 = (double)a2;
  v19 = v24;
  v21 = (double)(signed int)abs(a1 - dword_109D1A20) * flt_109D1A1C;
  v25 = (double)(signed int)abs(a2 - dword_109D1A24) * flt_109D1A34;
  v22 = (v20 - (double)dword_109D1A20 + 0.5) * (v20 - (double)dword_109D1A20 + 0.5) * flt_109D1A18
      + (v24 - (double)dword_109D1A24 + 1.0) * (v24 - (double)dword_109D1A24 + 1.0) * flt_109D1A38
      - flt_109D1A38 * flt_109D1A18;
  if ( v21 <= (double)v25 )
  {
LABEL_9:
    if ( v19 == v24 )
      v23 = (v20 - (double)dword_109D1A20 + 1.0) * (v20 - (double)dword_109D1A20 + 1.0) * flt_109D1A18
          + (v19 - (double)dword_109D1A24 + 0.5) * (v19 - (double)dword_109D1A24 + 0.5) * flt_109D1A38
          - flt_109D1A38 * flt_109D1A18;
    else
      v23 = ((flt_109D1A38 - flt_109D1A18) * 1.5 - (v25 + v21)) * 0.5 + v22;
    v12 = (double)a3;
    v28 = v12;
    if ( v12 > v20 )
    {
      do
      {
        v14 = v20;
        if ( v15 | v16 )
          v17 = v14 - 0.5;
        else
          v17 = v14 + 0.5;
        a5(v5, (unsigned __int64)(signed __int64)v17 >> 32);
        v18 = v23;
        if ( v23 < 0.0 )
        {
          v19 = v19 + 1.0;
          v25 = flt_109D1A34 + v25;
          v18 = v18 + v25;
        }
        v20 = v20 + 1.0;
        v21 = v21 - flt_109D1A1C;
        v23 = flt_109D1A18 - v21 + v18;
      }
      while ( v28 > (double)v20 );
    }
  }
  else
  {
    while ( 1 )
    {
      v7 = v20;
      if ( v8 | v9 )
        v10 = v7 - 0.5;
      else
        v10 = v7 + 0.5;
      a5(v5, (unsigned __int64)(signed __int64)v10 >> 32);
      v11 = v22;
      if ( v22 > 0.0 )
      {
        v20 = v20 + 1.0;
        v21 = v21 - flt_109D1A1C;
        v11 = v11 - v21;
      }
      v19 = v19 + 1.0;
      v27 = (double)a4;
      if ( v27 < (double)v19 )
        break;
      v25 = flt_109D1A34 + v25;
      v22 = flt_109D1A38 + v11 + v25;
      if ( v21 <= (double)v25 )
        goto LABEL_9;
    }
  }
}
// 109D1A18: using guessed type float flt_109D1A18;
// 109D1A1C: using guessed type float flt_109D1A1C;
// 109D1A20: using guessed type int dword_109D1A20;
// 109D1A24: using guessed type int dword_109D1A24;
// 109D1A34: using guessed type float flt_109D1A34;
// 109D1A38: using guessed type float flt_109D1A38;

//----- (1003D7D0) --------------------------------------------------------
void __cdecl sub_1003D7D0(signed int a1, signed int a2, signed int a3, signed int a4, void (__fastcall *a5)(int, _DWORD))
{
  int v5; // ecx@0
  double v7; // st7@2
  unsigned __int8 v8; // c0@2
  unsigned __int8 v9; // c3@2
  double v10; // st7@3
  double v11; // st7@5
  double v12; // st7@12
  double v14; // st7@13
  unsigned __int8 v15; // c0@13
  unsigned __int8 v16; // c3@13
  double v17; // st7@14
  double v18; // st7@16
  float v19; // [sp+0h] [bp-14h]@1
  float v20; // [sp+4h] [bp-10h]@1
  float v21; // [sp+8h] [bp-Ch]@1
  float v22; // [sp+Ch] [bp-8h]@1
  float v23; // [sp+Ch] [bp-8h]@10
  float v24; // [sp+10h] [bp-4h]@1
  float v25; // [sp+18h] [bp+4h]@1
  float v27; // [sp+2Ch] [bp+18h]@7
  float v28; // [sp+2Ch] [bp+18h]@12

  v24 = (double)a1;
  v19 = v24;
  v20 = (double)a2;
  v21 = (double)(signed int)abs(a1 - dword_109D1A20) * flt_109D1A1C;
  v25 = (double)(signed int)abs(a2 - dword_109D1A24) * flt_109D1A34;
  v22 = (v24 - (double)dword_109D1A20 + 1.0) * (v24 - (double)dword_109D1A20 + 1.0) * flt_109D1A18
      + (v20 - (double)dword_109D1A24 - 0.5) * (v20 - (double)dword_109D1A24 - 0.5) * flt_109D1A38
      - flt_109D1A38 * flt_109D1A18;
  if ( v21 >= (double)v25 )
  {
LABEL_9:
    if ( v19 == v24 )
      v23 = (v19 - (double)dword_109D1A20 + 1.0) * (v19 - (double)dword_109D1A20 + 1.0) * flt_109D1A18
          + (v20 - (double)dword_109D1A24 + 0.5) * (v20 - (double)dword_109D1A24 + 0.5) * flt_109D1A38
          - flt_109D1A38 * flt_109D1A18;
    else
      v23 = ((flt_109D1A38 - flt_109D1A18) * 1.5 - (v25 + v21)) * 0.5 + v22;
    v12 = (double)a4;
    v28 = v12;
    if ( v12 < v20 )
    {
      do
      {
        v14 = v19;
        if ( v15 | v16 )
          v17 = v14 - 0.5;
        else
          v17 = v14 + 0.5;
        a5(v5, (unsigned __int64)(signed __int64)v17 >> 32);
        v18 = v23;
        if ( v23 < 0.0 )
        {
          v19 = v19 + 1.0;
          v21 = flt_109D1A1C + v21;
          v18 = v18 + v21;
        }
        v20 = v20 - 1.0;
        v25 = v25 - flt_109D1A34;
        v23 = flt_109D1A38 - v25 + v18;
      }
      while ( v28 < (double)v20 );
    }
  }
  else
  {
    while ( 1 )
    {
      v7 = v19;
      if ( v8 | v9 )
        v10 = v7 - 0.5;
      else
        v10 = v7 + 0.5;
      a5(v5, (unsigned __int64)(signed __int64)v10 >> 32);
      v11 = v22;
      if ( v22 > 0.0 )
      {
        v20 = v20 - 1.0;
        v25 = v25 - flt_109D1A34;
        v11 = v11 - v25;
      }
      v19 = v19 + 1.0;
      v27 = (double)a3;
      if ( v27 < (double)v19 )
        break;
      v21 = flt_109D1A1C + v21;
      v22 = flt_109D1A18 + v11 + v21;
      if ( v21 >= (double)v25 )
        goto LABEL_9;
    }
  }
}
// 109D1A18: using guessed type float flt_109D1A18;
// 109D1A1C: using guessed type float flt_109D1A1C;
// 109D1A20: using guessed type int dword_109D1A20;
// 109D1A24: using guessed type int dword_109D1A24;
// 109D1A34: using guessed type float flt_109D1A34;
// 109D1A38: using guessed type float flt_109D1A38;

//----- (1003DB00) --------------------------------------------------------
void __cdecl sub_1003DB00(int a1, int a2, int a3, void (__fastcall *a4)(int, _DWORD))
{
  signed int v4; // ecx@2
  signed int v5; // edi@3
  signed int v6; // edx@3
  signed int v7; // eax@6
  signed int v8; // edx@9
  signed int v9; // edi@10
  signed int v10; // eax@10
  signed int v11; // ecx@13
  signed int v12; // ecx@16
  signed int v13; // eax@17
  signed int v14; // edi@17
  signed int v15; // edx@20
  signed int v16; // ecx@23
  signed int v17; // edi@24
  signed int v18; // ebx@24
  signed int v19; // eax@27

  switch ( a3 )
  {
    case 1:
      v4 = dword_109D1A20;
      if ( a1 )
      {
        v5 = *(_DWORD *)a1;
        v6 = *(_DWORD *)(a1 + 4);
      }
      else
      {
        v5 = dword_109D1A10 + dword_109D1A20;
        v6 = dword_109D1A24;
      }
      if ( a2 )
      {
        v4 = *(_DWORD *)a2;
        v7 = *(_DWORD *)(a2 + 4);
      }
      else
      {
        v7 = dword_109D1A24 - dword_109D1A14;
      }
      sub_1003CE40(v5, v6, v4, v7, a4);
      break;
    case 2:
      v8 = dword_109D1A24;
      if ( a1 )
      {
        v9 = *(_DWORD *)a1;
        v10 = *(_DWORD *)(a1 + 4);
      }
      else
      {
        v9 = dword_109D1A20;
        v10 = dword_109D1A24 - dword_109D1A14;
      }
      if ( a2 )
      {
        v11 = *(_DWORD *)a2;
        v8 = *(_DWORD *)(a2 + 4);
      }
      else
      {
        v11 = dword_109D1A20 - dword_109D1A10;
      }
      sub_1003D170(v9, v10, v11, v8, a4);
      break;
    case 3:
      v12 = dword_109D1A20;
      if ( a1 )
      {
        v13 = *(_DWORD *)a1;
        v14 = *(_DWORD *)(a1 + 4);
      }
      else
      {
        v13 = dword_109D1A20 - dword_109D1A10;
        v14 = dword_109D1A24;
      }
      if ( a2 )
      {
        v12 = *(_DWORD *)a2;
        v15 = *(_DWORD *)(a2 + 4);
      }
      else
      {
        v15 = dword_109D1A24 + dword_109D1A14;
      }
      sub_1003D4A0(v13, v14, v12, v15, a4);
      break;
    case 4:
      v16 = dword_109D1A24;
      if ( a1 )
      {
        v17 = *(_DWORD *)a1;
        v18 = *(_DWORD *)(a1 + 4);
      }
      else
      {
        v17 = dword_109D1A20;
        v18 = dword_109D1A14 + dword_109D1A24;
      }
      if ( a2 )
      {
        v19 = *(_DWORD *)a2;
        v16 = *(_DWORD *)(a2 + 4);
      }
      else
      {
        v19 = dword_109D1A10 + dword_109D1A20;
      }
      sub_1003D7D0(v17, v18, v19, v16, a4);
      break;
    default:
      return;
  }
}
// 109D1A10: using guessed type int dword_109D1A10;
// 109D1A14: using guessed type int dword_109D1A14;
// 109D1A20: using guessed type int dword_109D1A20;
// 109D1A24: using guessed type int dword_109D1A24;

//----- (1003DC80) --------------------------------------------------------
void __cdecl sub_1003DC80(int a1, int a2, int a3, int a4, signed int a5, signed int a6, signed int a7, signed int a8, void (__cdecl *a9)(int, int, int), int a10)
{
  int v10; // ebp@2
  int v11; // ebx@2
  int v12; // edi@2
  int v13; // esi@2
  void (__cdecl *v14)(int, int, int); // ebx@8
  unsigned int v15; // esi@9
  int v16; // [sp+14h] [bp+4h]@2

  if ( a9 )
  {
    v10 = a5;
    dword_109D1A20 = (a1 + a3) / 2;
    v11 = a6;
    dword_109D1A10 = abs(a1 - (a1 + a3) / 2);
    dword_109D1A24 = (a2 + a4) / 2;
    flt_109D1A38 = (double)dword_109D1A10 * (double)dword_109D1A10;
    dword_109D1A14 = abs(a2 - (a2 + a4) / 2);
    flt_109D1A34 = flt_109D1A38 + flt_109D1A38;
    flt_109D1A18 = (double)dword_109D1A14 * (double)dword_109D1A14;
    flt_109D1A1C = flt_109D1A18 + flt_109D1A18;
    sub_1003CB90((a1 + a3) / 2, (a2 + a4) / 2, dword_109D1A10, dword_109D1A14, a5, a6, (int)&a3);
    v12 = a8;
    sub_1003CB90(dword_109D1A20, dword_109D1A24, dword_109D1A10, dword_109D1A14, a7, a8, (int)&a5);
    v13 = sub_1003CD20(v10, v11);
    v16 = sub_1003CD90(a7, v12);
    if ( v13 == v16 && sub_1003CE00(v10, v11, a7, v12) )
    {
      if ( a3 != a5 || a4 != a6 )
        sub_1003DB00((int)&a3, (int)&a5, v13, (void (__fastcall *)(int, _DWORD))a9);
      else
        a9(a3, a4, a10);
    }
    else
    {
      v14 = a9;
      sub_1003DB00((int)&a3, 0, v13, (void (__fastcall *)(int, _DWORD))a9);
      if ( v13 == 4 )
        v15 = 1;
      else
        v15 = v13 + 1;
      while ( v15 != v16 )
      {
        sub_1003DB00(0, 0, v15++, (void (__fastcall *)(int, _DWORD))v14);
        if ( v15 > 4 )
          v15 = 1;
      }
      sub_1003DB00(0, (int)&a5, v16, (void (__fastcall *)(int, _DWORD))v14);
    }
  }
}
// 109D1A10: using guessed type int dword_109D1A10;
// 109D1A14: using guessed type int dword_109D1A14;
// 109D1A18: using guessed type float flt_109D1A18;
// 109D1A1C: using guessed type float flt_109D1A1C;
// 109D1A20: using guessed type int dword_109D1A20;
// 109D1A24: using guessed type int dword_109D1A24;
// 109D1A34: using guessed type float flt_109D1A34;
// 109D1A38: using guessed type float flt_109D1A38;

//----- (1003DE50) --------------------------------------------------------
signed int sub_1003DE50()
{
  signed int result; // eax@1

  dword_109D1A48 = (int)&unk_109D1AD0;
  dword_109D1A4C = 0x400000;
  dword_109D1A44 = (int)sub_1003E200;
  dword_109D1A40 = (int)sub_1003E220;
  memset(&unk_109D1AD0, 0, 0x100000u);
  result = sub_1006F580((int)&dword_109D1A40);
  dword_10F8E120 = result;
  return result;
}
// 109D1A40: using guessed type int dword_109D1A40;
// 109D1A44: using guessed type int dword_109D1A44;
// 109D1A48: using guessed type int dword_109D1A48;
// 109D1A4C: using guessed type int dword_109D1A4C;
// 10F8E120: using guessed type int dword_10F8E120;

//----- (1003DEC0) --------------------------------------------------------
signed int sub_1003DEC0()
{
  dword_109D1A50 = 0;
  return 1;
}
// 109D1A50: using guessed type int dword_109D1A50;

//----- (1003DEE0) --------------------------------------------------------
int __cdecl sub_1003DEE0(int a1)
{
  int result; // eax@2

  if ( a1 )
  {
    dword_109D1A50 = 0;
    dword_10F8E124 = 0;
    qmemcpy(&unk_109D1A58, (const void *)a1, 0x78u);
    word_10E8E100 = *(_WORD *)(a1 + 58);
    word_10E8E102 = *(_WORD *)(a1 + 56);
    word_10E8E104 = *(_WORD *)(a1 + 62);
    word_10E8E106 = *(_WORD *)(a1 + 60);
    *(_BYTE *)(a1 + 28) = 1;
    *(_BYTE *)(a1 + 12) = 1;
    *(_WORD *)(a1 + 10) = -1;
    *(_WORD *)(a1 + 8) = -1;
    *(_DWORD *)(a1 + 4) = 0;
    *(_DWORD *)a1 = 24;
    result = 1;
  }
  else
  {
    result = sub_1003E1D0(3, -9);
  }
  return result;
}
// 109D1A50: using guessed type int dword_109D1A50;
// 10E8E100: using guessed type __int16 word_10E8E100;
// 10E8E102: using guessed type __int16 word_10E8E102;
// 10E8E104: using guessed type __int16 word_10E8E104;
// 10E8E106: using guessed type __int16 word_10E8E106;
// 10F8E124: using guessed type int dword_10F8E124;

//----- (1003DFA0) --------------------------------------------------------
signed int __cdecl sub_1003DFA0(unsigned int a1)
{
  unsigned int *v2; // [sp+0h] [bp-Ch]@0
  char v3; // [sp+7h] [bp-5h]@1
  int *i; // [sp+8h] [bp-4h]@3

  v3 = 0;
  if ( !sub_1003E2F0(a1) && (unsigned __int8)sub_10003D20(a1) == 241 )
  {
    for ( i = (int *)dword_10E8E108; i != &dword_10E8E108; i = (int *)*i )
    {
      v2 = (unsigned int *)(i - 1);
      if ( *(i - 1) == a1 )
      {
        v3 = 1;
        break;
      }
    }
    if ( v3 )
    {
      sub_100684F0(*v2, (unsigned int *)&dword_10F8E120);
      sub_1003E070((int)(v2 + 1));
      sub_1006F2C0((unsigned int)v2, dword_10F8E120);
    }
    else
    {
      sub_1006F2C0(a1, dword_10F8E120);
    }
  }
  return 1;
}
// 10E8E108: using guessed type int dword_10E8E108;
// 10F8E120: using guessed type int dword_10F8E120;

//----- (1003E070) --------------------------------------------------------
int __cdecl sub_1003E070(int a1)
{
  return sub_1003E090(*(_DWORD **)(a1 + 4), *(_DWORD *)a1);
}

//----- (1003E090) --------------------------------------------------------
int __cdecl sub_1003E090(_DWORD *a1, int a2)
{
  int result; // eax@1

  *(_DWORD *)(a2 + 4) = a1;
  result = a2;
  *a1 = a2;
  return result;
}

//----- (1003E0B0) --------------------------------------------------------
int __cdecl sub_1003E0B0(void *a1)
{
  int result; // eax@2

  if ( a1 )
  {
    if ( dword_10F8E124 )
    {
      sub_100684F0(dword_10F8E124, (unsigned int *)&dword_10F8E120);
      dword_10F8E124 = 0;
    }
    qmemcpy(a1, &unk_109D1A58, 0x78u);
    result = 1;
  }
  else
  {
    result = sub_1003E1D0(4, -9);
  }
  return result;
}
// 10F8E120: using guessed type int dword_10F8E120;
// 10F8E124: using guessed type int dword_10F8E124;

//----- (1003E110) --------------------------------------------------------
signed int sub_1003E110()
{
  signed int v1; // [sp+0h] [bp-4h]@2

  if ( dword_109D1A50 )
    v1 = dword_109D1A50;
  else
    v1 = 1;
  return v1;
}
// 109D1A50: using guessed type int dword_109D1A50;

//----- (1003E140) --------------------------------------------------------
signed int sub_1003E140()
{
  dword_109D1A50 = 0;
  dword_10F8E128 = 0;
  memset(&unk_10E8E120, 0, 0x100000u);
  return 1;
}
// 109D1A50: using guessed type int dword_109D1A50;
// 10F8E128: using guessed type int dword_10F8E128;

//----- (1003E180) --------------------------------------------------------
signed int sub_1003E180()
{
  dword_109D1A50 = 0;
  dword_10F8E128 = 0;
  memset(&unk_10E8E120, 0, 0x100000u);
  sub_10002E90();
  dword_10E8E108 = (int)&dword_10E8E108;
  dword_10E8E10C = (int)&dword_10E8E108;
  return 1;
}
// 109D1A50: using guessed type int dword_109D1A50;
// 10E8E108: using guessed type int dword_10E8E108;
// 10E8E10C: using guessed type int dword_10E8E10C;
// 10F8E128: using guessed type int dword_10F8E128;

//----- (1003E1D0) --------------------------------------------------------
int __cdecl sub_1003E1D0(int a1, int a2)
{
  if ( !dword_109D1A50 )
    dword_109D1A50 = -(-a2 | (a1 << 8));
  return -(-a2 | (a1 << 8));
}
// 109D1A50: using guessed type int dword_109D1A50;

//----- (1003E200) --------------------------------------------------------
int sub_1003E200()
{
  return sub_10055190(6);
}

//----- (1003E220) --------------------------------------------------------
BOOL sub_1003E220()
{
  return sub_100551F0(6, 1000) == 0;
}

//----- (1003E240) --------------------------------------------------------
void *sub_1003E240()
{
  return &unk_10E8E120;
}

//----- (1003E250) --------------------------------------------------------
int __cdecl sub_1003E250(int a1)
{
  int result; // eax@1

  result = a1;
  dword_10F8E128 = a1;
  return result;
}
// 10F8E128: using guessed type int dword_10F8E128;

//----- (1003E260) --------------------------------------------------------
signed int __cdecl sub_1003E260(unsigned int *a1)
{
  if ( !a1 || sub_1003E2F0((unsigned int)a1) )
    return sub_1003E1D0(49, -9);
  if ( !*((_BYTE *)a1 + 4) )
  {
    if ( sub_1003E2F0(*a1) )
      return sub_1003E1D0(49, -9);
    sub_10003420(*a1);
  }
  sub_10002BD0();
  sub_1006F2C0((unsigned int)a1, dword_10F8E120);
  return 1;
}
// 10003420: using guessed type _DWORD __cdecl sub_10003420(_DWORD);
// 10F8E120: using guessed type int dword_10F8E120;

//----- (1003E2F0) --------------------------------------------------------
bool __cdecl sub_1003E2F0(unsigned int a1)
{
  return a1 >= 0xFFFFFFC2 || !a1;
}

//----- (1003E320) --------------------------------------------------------
int __cdecl sub_1003E320(char *a1, int a2)
{
  int result; // eax@3
  size_t v3; // esi@6
  const char *v4; // [sp+4h] [bp-4h]@4

  if ( a1 && a2 )
  {
    v4 = strrchr(a1, 47);
    if ( v4 )
    {
      v3 = strlen(a1);
      *(_DWORD *)a2 = v3 - strlen(v4) + 1;
    }
    else
    {
      *(_DWORD *)a2 = 0;
    }
    result = 1;
  }
  else
  {
    result = sub_1003E1D0(55, -9);
  }
  return result;
}

//----- (1003E390) --------------------------------------------------------
signed int __cdecl sub_1003E390(unsigned int a1, signed int *a2)
{
  signed int result; // eax@4
  signed int v3; // [sp+0h] [bp-4h]@8

  if ( !a1 || !a2 || sub_1003E2F0(a1) )
    return sub_1003E1D0(46, -9);
  if ( *(_BYTE *)(a1 + 4) == 1 )
  {
    if ( *(_UNKNOWN **)a1 != &unk_10E8E120 )
      return sub_1003E1D0(46, -9);
    v3 = dword_10F8E128;
  }
  else
  {
    if ( sub_1003E2F0(*(_DWORD *)a1) )
      return sub_1003E1D0(46, -9);
    v3 = sub_10002D40(*(_DWORD *)a1);
  }
  if ( v3 >= 0 )
  {
    *a2 = v3;
    result = 1;
  }
  else
  {
    result = sub_1003E1D0(46, -10);
  }
  return result;
}
// 10F8E128: using guessed type int dword_10F8E128;

//----- (1003E460) --------------------------------------------------------
int __cdecl sub_1003E460(char *a1, int a2)
{
  int result; // eax@5
  int v3; // [sp+0h] [bp-4h]@6

  if ( a1 && a2 )
  {
    v3 = sub_1006F210(0xCu, dword_10F8E120);
    if ( !v3 )
    {
      *(_DWORD *)a2 = -26;
      return sub_1003E1D0(45, -1);
    }
    if ( !strcmp(a1, "tmp_chrt.tcl") )
    {
      *(_BYTE *)(v3 + 4) = 1;
      *(_DWORD *)v3 = &unk_10E8E120;
      *(_DWORD *)(v3 + 8) = 0;
    }
    else
    {
      *(_BYTE *)(v3 + 4) = 0;
      *(_DWORD *)(v3 + 8) = 0;
      *(_DWORD *)v3 = sub_10002D80((int)a1);
      if ( sub_1003E2F0(*(_DWORD *)v3) )
      {
        *(_DWORD *)a2 = -10;
        return sub_1003E1D0(45, -2);
      }
    }
    *(_DWORD *)a2 = v3;
    result = 1;
  }
  else
  {
    if ( a2 )
      *(_DWORD *)a2 = -15;
    result = sub_1003E1D0(45, -9);
  }
  return result;
}
// 10F8E120: using guessed type int dword_10F8E120;

//----- (1003E560) --------------------------------------------------------
int __cdecl sub_1003E560(int a1, void *a2, size_t a3)
{
  int v4; // [sp+0h] [bp-8h]@15
  size_t i; // [sp+4h] [bp-4h]@13

  if ( !a1 || !a2 || sub_1003E2F0(a1) )
    return sub_1003E1D0(48, -9);
  if ( *(_BYTE *)(a1 + 4) )
  {
    if ( *(_UNKNOWN **)a1 != &unk_10E8E120 )
      return sub_1003E1D0(48, -9);
    if ( a3 + *(_DWORD *)(a1 + 8) > dword_10F8E128 )
      return sub_1003E1D0(48, -3);
    memcpy(a2, (char *)&unk_10E8E120 + *(_DWORD *)(a1 + 8), a3);
    *(_DWORD *)(a1 + 8) += a3;
  }
  else
  {
    if ( sub_1003E2F0(*(_DWORD *)a1) )
      return sub_1003E1D0(48, -9);
    for ( i = 0; i < a3; i += v4 )
    {
      v4 = sub_10002DA0(*(_DWORD *)a1, (char *)a2 + i, a3);
      if ( v4 < 0 )
        return sub_1003E1D0(48, -3);
    }
  }
  return 1;
}
// 10002DA0: using guessed type _DWORD __cdecl sub_10002DA0(_DWORD, void *, _DWORD);
// 10F8E128: using guessed type int dword_10F8E128;

//----- (1003E690) --------------------------------------------------------
int __cdecl sub_1003E690(unsigned int a1, int a2, char a3)
{
  int v4; // [sp+4h] [bp-4h]@1

  v4 = 1;
  if ( a1 && !sub_1003E2F0(a1) )
  {
    if ( *(_BYTE *)(a1 + 4) )
    {
      if ( *(_UNKNOWN **)a1 == &unk_10E8E120 )
      {
        if ( a3 )
        {
          if ( a3 == 2 )
          {
            if ( a2 > 0 || -a2 > dword_10F8E128 )
              v4 = sub_1003E1D0(47, -9);
            else
              *(_DWORD *)(a1 + 8) = a2 + dword_10F8E128;
          }
          else if ( *(_DWORD *)(a1 + 8) + a2 > dword_10F8E128 || *(_DWORD *)(a1 + 8) + a2 < 0 )
          {
            v4 = sub_1003E1D0(47, -9);
          }
          else
          {
            *(_DWORD *)(a1 + 8) += a2;
          }
        }
        else if ( a2 < 0 || a2 > dword_10F8E128 )
        {
          v4 = sub_1003E1D0(47, -9);
        }
        else
        {
          *(_DWORD *)(a1 + 8) = a2;
        }
      }
      else
      {
        v4 = sub_1003E1D0(47, -9);
      }
    }
    else
    {
      if ( sub_1003E2F0(*(_DWORD *)a1) )
        return sub_1003E1D0(47, -9);
      if ( sub_10002DD0(*(_DWORD *)a1, a2, a3) < 0 )
        v4 = sub_1003E1D0(47, -14);
    }
  }
  else
  {
    v4 = sub_1003E1D0(47, -9);
  }
  return v4;
}
// 10F8E128: using guessed type int dword_10F8E128;

//----- (1003E800) --------------------------------------------------------
int __cdecl sub_1003E800(char a1, int a2, int *a3, _BYTE *a4)
{
  int result; // eax@3
  int v5; // [sp+0h] [bp-4h]@4

  if ( a3 && a4 )
  {
    v5 = sub_1006F210(8u, dword_10F8E120);
    if ( v5 )
    {
      *(_BYTE *)v5 = a1;
      *(_DWORD *)(v5 + 4) = a2;
      *a3 = v5;
      *a4 = 1;
      result = 1;
    }
    else
    {
      result = sub_1003E1D0(6, -1);
    }
  }
  else
  {
    result = sub_1003E1D0(6, -9);
  }
  return result;
}
// 10F8E120: using guessed type int dword_10F8E120;

//----- (1003E870) --------------------------------------------------------
int __cdecl sub_1003E870(int a1, int a2, int a3, _BYTE *a4)
{
  int result; // eax@4

  if ( a2 && a3 && a4 )
  {
    *a4 = 0;
    result = 1;
  }
  else
  {
    result = sub_1003E1D0(8, -9);
  }
  return result;
}

//----- (1003E8A0) --------------------------------------------------------
int __cdecl sub_1003E8A0(char a1, int a2, int a3, int *a4, _BYTE *a5)
{
  int result; // eax@3
  int v6; // [sp+0h] [bp-4h]@4

  if ( a4 && a5 )
  {
    v6 = sub_1006F210(0xCu, dword_10F8E120);
    if ( v6 )
    {
      *(_BYTE *)v6 = a1;
      *(_DWORD *)(v6 + 4) = a2;
      *(_DWORD *)(v6 + 8) = a3;
      *a4 = v6;
      *a5 = 1;
      result = 1;
    }
    else
    {
      result = sub_1003E1D0(5, -1);
    }
  }
  else
  {
    result = sub_1003E1D0(5, -9);
  }
  return result;
}
// 10F8E120: using guessed type int dword_10F8E120;

//----- (1003E920) --------------------------------------------------------
int __cdecl sub_1003E920(int a1, signed int a2, signed int a3, signed int a4, signed int a5, signed int a6, signed int a7, signed int a8, signed int a9)
{
  int result; // eax@4
  int v10; // [sp+8h] [bp-3Ch]@16
  double v11; // [sp+Ch] [bp-38h]@8
  __int16 v12; // [sp+18h] [bp-2Ch]@14
  double v13; // [sp+1Ch] [bp-28h]@8
  int v14; // [sp+24h] [bp-20h]@13
  __int16 v15; // [sp+28h] [bp-1Ch]@14
  int i; // [sp+2Ch] [bp-18h]@16
  char v17; // [sp+33h] [bp-11h]@18
  __int16 v18; // [sp+34h] [bp-10h]@14
  __int16 v19; // [sp+38h] [bp-Ch]@14
  __int16 v20; // [sp+3Ch] [bp-8h]@16
  __int16 v21; // [sp+3Eh] [bp-6h]@16
  __int16 v22; // [sp+40h] [bp-4h]@16
  __int16 v23; // [sp+42h] [bp-2h]@16

  if ( a2 <= a4 && a3 <= a5 && a1 )
  {
    if ( a2 != a4 && a3 != a5 )
    {
      v13 = (double)a2 + (double)(a4 - a2) / 2.0;
      v11 = (double)a3 + (double)(a5 - a3) / 2.0;
      if ( ((double)a6 != v13 || (double)a7 != v11) && ((double)a8 != v13 || (double)a9 != v11) )
      {
        v14 = *(_DWORD *)(a1 + 68);
        if ( HIWORD(v14) != 0xFFFF )
        {
          sub_10040160(a2, a3, a4, a5, a6, a7, &v12, &v15);
          sub_10040160(a2, a3, a4, a5, a8, a9, &v18, &v19);
          if ( dword_10F8E124 )
          {
            v20 = *(_WORD *)(a1 + 58);
            v21 = *(_WORD *)(a1 + 56);
            v22 = *(_WORD *)(a1 + 62);
            v23 = *(_WORD *)(a1 + 60);
            v10 = *(_DWORD *)(dword_10F8E124 + 8);
            for ( i = 0; i < *(_DWORD *)(dword_10F8E124 + 4); ++i )
            {
              v17 = 1;
              if ( a4 < *(_WORD *)(v10 + 8 * i)
                || a2 > *(_WORD *)(v10 + 8 * i + 2)
                || a5 < *(_WORD *)(v10 + 8 * i + 4)
                || a3 > *(_WORD *)(v10 + 8 * i + 6) )
              {
                v17 = 0;
              }
              if ( v17 )
              {
                sub_100666F0(
                  a1 + 32,
                  *(_WORD *)(a1 + 74) + *(_WORD *)(v10 + 8 * i),
                  *(_WORD *)(a1 + 72) + *(_WORD *)(v10 + 8 * i + 4),
                  *(_WORD *)(v10 + 8 * i + 2) - *(_WORD *)(v10 + 8 * i),
                  *(_WORD *)(v10 + 8 * i + 6) - *(_WORD *)(v10 + 8 * i + 4));
                sub_1006A260(a1 + 32, a2, a3, a4, a5, v12, v15, v18, v19);
              }
            }
            sub_100666F0(a1 + 32, *(_WORD *)(a1 + 74) + v20, *(_WORD *)(a1 + 72) + v21, v22, v23);
          }
          else
          {
            sub_1006A260(a1 + 32, a2, a3, a4, a5, v12, v15, v18, v19);
          }
        }
        result = 1;
      }
      else
      {
        result = sub_1003E1D0(35, -9);
      }
    }
    else
    {
      result = 1;
    }
  }
  else
  {
    result = sub_1003E1D0(35, -9);
  }
  return result;
}
// 10F8E124: using guessed type int dword_10F8E124;

//----- (1003EC20) --------------------------------------------------------
signed int __cdecl sub_1003EC20(int a1, signed int a2, signed int a3, int a4, int a5, signed int a6, signed int a7, signed int a8, signed int a9)
{
  double v10; // [sp+8h] [bp-30h]@8
  __int16 v11; // [sp+10h] [bp-28h]@13
  int v12; // [sp+14h] [bp-24h]@15
  double v13; // [sp+18h] [bp-20h]@8
  int v14; // [sp+20h] [bp-18h]@16
  int v15; // [sp+24h] [bp-14h]@16
  int v16; // [sp+28h] [bp-10h]@16
  __int16 v17; // [sp+2Ch] [bp-Ch]@13
  __int16 v18; // [sp+30h] [bp-8h]@13
  __int16 v19; // [sp+34h] [bp-4h]@13

  if ( a2 > a4 || a3 > a5 || !a1 )
    return sub_1003E1D0(37, -9);
  if ( a2 == a4 || a3 == a5 )
    return 1;
  v13 = (double)a2 + (double)(a4 - a2) / 2.0;
  v10 = (double)a3 + (double)(a5 - a3) / 2.0;
  if ( (double)a6 == v13 && (double)a7 == v10 || (double)a8 == v13 && (double)a9 == v10 )
    return sub_1003E1D0(37, -9);
  sub_10040160(a2, a3, a4, a5, a6, a7, &v11, &v17);
  sub_10040160(a2, a3, a4, a5, a8, a9, &v18, &v19);
  if ( v11 != v18 || v17 != v19 )
  {
    v12 = *(_DWORD *)(a1 + 80);
    if ( HIWORD(v12) != 0xFFFF )
    {
      LOWORD(v14) = v11;
      HIWORD(v14) = v17;
      LOWORD(v15) = v18;
      HIWORD(v15) = v19;
      v16 = sub_1006B660(v14, v15, a2, a3, a4, a5, 1, (unsigned int *)&dword_10F8E120);
      if ( sub_1003E2F0(v16) )
        return sub_1003E1D0(37, -14);
      if ( dword_10F8E124 && sub_10068540(dword_10F8E124, v16, v16, (unsigned int *)&dword_10F8E120) )
      {
        sub_100684F0(v16, (unsigned int *)&dword_10F8E120);
        return sub_1003E1D0(37, -14);
      }
      sub_100411B0(a1, v16);
      sub_100684F0(v16, (unsigned int *)&dword_10F8E120);
    }
    sub_1003E920(a1, a2, a3, a4, a5, a6, a7, a8, a9);
  }
  sub_1003FB80(a1, v11, v17);
  sub_1003F860(a1, v18, v19);
  return 1;
}
// 10F8E120: using guessed type int dword_10F8E120;
// 10F8E124: using guessed type int dword_10F8E124;

//----- (1003EEB0) --------------------------------------------------------
signed int __cdecl sub_1003EEB0(int a1, signed int a2, signed int a3, signed int a4, signed int a5)
{
  signed int v6; // [sp+4h] [bp-4h]@6

  if ( a2 > a4 || a3 > a5 || !a1 )
    return sub_1003E1D0(36, -9);
  if ( (unsigned __int16)(*(_DWORD *)(a1 + 80) >> 16) != 0xFFFF )
  {
    v6 = sub_1006B190(a2, a3, a4, a5, (unsigned int *)&dword_10F8E120);
    if ( sub_1003E2F0(v6) )
      return sub_1003E1D0(36, -14);
    if ( dword_10F8E124 && sub_10068540(dword_10F8E124, v6, v6, (unsigned int *)&dword_10F8E120) )
    {
      sub_100684F0(v6, (unsigned int *)&dword_10F8E120);
      return sub_1003E1D0(36, -14);
    }
    sub_100411B0(a1, v6);
    sub_100684F0(v6, (unsigned int *)&dword_10F8E120);
  }
  sub_1003E920(a1, a2, a3, a4, a5, a2, a3, a2, a3);
  return 1;
}
// 10F8E120: using guessed type int dword_10F8E120;
// 10F8E124: using guessed type int dword_10F8E124;

//----- (1003EFE0) --------------------------------------------------------
signed int __cdecl sub_1003EFE0(int a1, signed int a2, signed int a3, int a4, int a5, signed int a6, signed int a7, signed int a8, signed int a9)
{
  double v10; // [sp+8h] [bp-30h]@8
  __int16 v11; // [sp+10h] [bp-28h]@13
  int v12; // [sp+14h] [bp-24h]@15
  double v13; // [sp+18h] [bp-20h]@8
  int v14; // [sp+20h] [bp-18h]@16
  int v15; // [sp+24h] [bp-14h]@16
  int v16; // [sp+28h] [bp-10h]@16
  __int16 v17; // [sp+2Ch] [bp-Ch]@13
  __int16 v18; // [sp+30h] [bp-8h]@13
  __int16 v19; // [sp+34h] [bp-4h]@13

  if ( a2 > a4 || a3 > a5 || !a1 )
    return sub_1003E1D0(39, -9);
  if ( a2 == a4 || a3 == a5 )
    return 1;
  v13 = (double)a2 + (double)(a4 - a2) / 2.0;
  v10 = (double)a3 + (double)(a5 - a3) / 2.0;
  if ( (double)a6 == v13 && (double)a7 == v10 || (double)a8 == v13 && (double)a9 == v10 )
    return sub_1003E1D0(39, -9);
  sub_10040160(a2, a3, a4, a5, a6, a7, &v11, &v17);
  sub_10040160(a2, a3, a4, a5, a8, a9, &v18, &v19);
  if ( v11 == v18 && v17 == v19 )
  {
    sub_1003FB80(a1, a2 + (a4 - a2) / 2, a3 + (a5 - a3) / 2);
    sub_1003F860(a1, v11, v17);
  }
  else
  {
    v12 = *(_DWORD *)(a1 + 80);
    if ( HIWORD(v12) != 0xFFFF )
    {
      LOWORD(v14) = v11;
      HIWORD(v14) = v17;
      LOWORD(v15) = v18;
      HIWORD(v15) = v19;
      v16 = sub_1006B660(v14, v15, a2, a3, a4, a5, 0, (unsigned int *)&dword_10F8E120);
      if ( sub_1003E2F0(v16) )
        return sub_1003E1D0(39, -14);
      if ( dword_10F8E124 && sub_10068540(dword_10F8E124, v16, v16, (unsigned int *)&dword_10F8E120) )
      {
        sub_100684F0(v16, (unsigned int *)&dword_10F8E120);
        return sub_1003E1D0(39, -14);
      }
      sub_100411B0(a1, v16);
      sub_100684F0(v16, (unsigned int *)&dword_10F8E120);
    }
    sub_1003FB80(a1, v11, v17);
    sub_1003E920(a1, a2, a3, a4, a5, v11, v17, v18, v19);
    sub_1003FB80(a1, a2 + (a4 - a2) / 2, a3 + (a5 - a3) / 2);
    sub_1003F860(a1, v11, v17);
    sub_1003FB80(a1, a2 + (a4 - a2) / 2, a3 + (a5 - a3) / 2);
    sub_1003F860(a1, v18, v19);
  }
  return 1;
}
// 10F8E120: using guessed type int dword_10F8E120;
// 10F8E124: using guessed type int dword_10F8E124;

//----- (1003F320) --------------------------------------------------------
signed int __cdecl sub_1003F320(int a1, int a2, signed int a3)
{
  char v4; // [sp+0h] [bp-238h]@7
  signed int v5; // [sp+4h] [bp-234h]@34
  int v6; // [sp+Ch] [bp-22Ch]@5
  int v7; // [sp+10h] [bp-228h]@14
  char *v8; // [sp+14h] [bp-224h]@1
  char v9; // [sp+1Bh] [bp-21Dh]@10
  char v10; // [sp+20h] [bp-218h]@33
  char v11; // [sp+90h] [bp-1A8h]@1
  int v12; // [sp+224h] [bp-14h]@17
  int i; // [sp+228h] [bp-10h]@15
  int v14; // [sp+22Ch] [bp-Ch]@15
  int v15; // [sp+230h] [bp-8h]@15
  char v16; // [sp+237h] [bp-1h]@24

  v8 = &v11;
  if ( a3 < 0 || !a1 || !a2 )
    return sub_1003E1D0(38, -9);
  v6 = a1 + 32;
  if ( !a3 )
    return 1;
  v4 = *(_BYTE *)(a1 + 28);
  if ( v4 == 1 )
  {
    v9 = 1;
  }
  else
  {
    if ( v4 != 2 )
      return sub_1003E1D0(38, -9);
    v9 = 2;
  }
  if ( a3 <= 100 || (v8 = (char *)sub_1006F210(4 * a3, dword_10F8E120)) != 0 )
  {
    v15 = 0;
    v14 = ~*(_DWORD *)(a2 + 4);
    for ( i = 0; i < a3; ++i )
    {
      v12 = *(_WORD *)(a2 + 8 * i + 4) | (*(_WORD *)(a2 + 8 * i) << 16);
      if ( v14 != v12 )
      {
        *(_WORD *)&v8[4 * v15] = HIWORD(v12);
        *(_WORD *)&v8[4 * v15++ + 2] = v12;
        v14 = v12;
      }
    }
    if ( *(_WORD *)v8 == *(_WORD *)&v8[4 * v15 - 4] && *((_WORD *)v8 + 1) == *(_WORD *)&v8[4 * v15 - 2] && v15 > 1 )
      --v15;
    v16 = 0;
    if ( v15 <= 8 && !dword_10F8E124 && (v9 == 1 || v15 <= 4) )
      v16 = 1;
    if ( (unsigned __int16)(*(_DWORD *)(a1 + 80) >> 16) != 0xFFFF && v15 > 2 )
    {
      if ( v16 )
      {
        sub_10066830(v6, v15, (int)v8, 112, (int)&v10);
      }
      else
      {
        v5 = sub_1006C300((int)v8, v15, (unsigned __int8)v9, (unsigned int *)&dword_10F8E120);
        if ( sub_1003E2F0(v5) )
        {
          v7 = sub_1003E1D0(38, -14);
          goto LABEL_53;
        }
        if ( dword_10F8E124 && sub_10068540(dword_10F8E124, v5, v5, (unsigned int *)&dword_10F8E120) )
        {
          sub_100684F0(v5, (unsigned int *)&dword_10F8E120);
          v7 = sub_1003E1D0(38, -14);
          goto LABEL_53;
        }
        sub_100411B0(a1, v5);
        sub_100684F0(v5, (unsigned int *)&dword_10F8E120);
      }
    }
    if ( (unsigned __int16)(*(_DWORD *)(a1 + 68) >> 16) != 0xFFFF )
    {
      if ( dword_10F8E124 )
      {
        if ( v15 > 2 )
        {
          for ( i = 0; i < v15 - 1; ++i )
          {
            *(_WORD *)(a1 + 78) = *(_WORD *)&v8[4 * i];
            *(_WORD *)(a1 + 76) = *(_WORD *)&v8[4 * i + 2];
            sub_1003F860(a1, *(_WORD *)&v8[4 * i + 4], *(_WORD *)&v8[4 * i + 6]);
          }
        }
        *(_WORD *)(a1 + 78) = *(_WORD *)&v8[4 * v15 - 4];
        *(_WORD *)(a1 + 76) = *(_WORD *)&v8[4 * v15 - 2];
        sub_1003F860(a1, *(_WORD *)v8, *((_WORD *)v8 + 1));
      }
      else
      {
        if ( v15 > 2 )
        {
          for ( i = 0; i < v15 - 1; ++i )
          {
            *(_WORD *)(a1 + 78) = *(_WORD *)&v8[4 * i];
            *(_WORD *)(a1 + 76) = *(_WORD *)&v8[4 * i + 2];
            sub_10066F20(v6, *(_WORD *)&v8[4 * i + 4], *(_WORD *)&v8[4 * i + 6], 0);
          }
        }
        *(_WORD *)(a1 + 78) = *(_WORD *)&v8[4 * v15 - 4];
        *(_WORD *)(a1 + 76) = *(_WORD *)&v8[4 * v15 - 2];
        sub_10066F20(v6, *(_WORD *)v8, *((_WORD *)v8 + 1), 0);
      }
    }
    v7 = 1;
    goto LABEL_53;
  }
  v7 = sub_1003E1D0(38, -1);
LABEL_53:
  if ( v8 != &v11 )
    sub_1006F2C0((unsigned int)v8, dword_10F8E120);
  return v7;
}
// 10F8E120: using guessed type int dword_10F8E120;
// 10F8E124: using guessed type int dword_10F8E124;

//----- (1003F840) --------------------------------------------------------
int sub_1003F840()
{
  return sub_1003E1D0(31, -14);
}

//----- (1003F860) --------------------------------------------------------
int __cdecl sub_1003F860(int a1, unsigned int a2, unsigned int a3)
{
  int result; // eax@2
  int v4; // [sp+0h] [bp-30h]@13
  char v5; // [sp+7h] [bp-29h]@6
  __int16 v6; // [sp+8h] [bp-28h]@4
  __int16 v7; // [sp+Ah] [bp-26h]@4
  int v8; // [sp+Ch] [bp-24h]@13
  int v9; // [sp+10h] [bp-20h]@13
  int v10; // [sp+14h] [bp-1Ch]@13
  int v11; // [sp+18h] [bp-18h]@13
  int v12; // [sp+1Ch] [bp-14h]@3
  int i; // [sp+20h] [bp-10h]@13
  char v14; // [sp+27h] [bp-9h]@15
  __int16 v15; // [sp+28h] [bp-8h]@13
  __int16 v16; // [sp+2Ah] [bp-6h]@13
  __int16 v17; // [sp+2Ch] [bp-4h]@13
  __int16 v18; // [sp+2Eh] [bp-2h]@13

  if ( a1 )
  {
    v12 = *(_DWORD *)(a1 + 68);
    if ( HIWORD(v12) == 0xFFFF )
    {
      *(_WORD *)(a1 + 78) = a2;
      *(_WORD *)(a1 + 76) = a3;
    }
    else
    {
      v6 = *(_WORD *)(a1 + 78);
      v7 = *(_WORD *)(a1 + 76);
      if ( a2 != v6 || a3 != v7 )
      {
        if ( dword_10F8E124 )
        {
          v15 = *(_WORD *)(a1 + 58);
          v16 = *(_WORD *)(a1 + 56);
          v17 = *(_WORD *)(a1 + 62);
          v18 = *(_WORD *)(a1 + 60);
          v6 = *(_WORD *)(a1 + 78);
          v7 = *(_WORD *)(a1 + 76);
          v4 = *(_DWORD *)(dword_10F8E124 + 8);
          v11 = sub_1003FB60(a2, v6);
          v8 = sub_1003FB40(a2, v6);
          v9 = sub_1003FB60(a3, v7);
          v10 = sub_1003FB40(a3, v7);
          for ( i = 0; i < *(_DWORD *)(dword_10F8E124 + 4); ++i )
          {
            v14 = 1;
            if ( v8 < *(_WORD *)(v4 + 8 * i)
              || v11 > *(_WORD *)(v4 + 8 * i + 2)
              || v10 < *(_WORD *)(v4 + 8 * i + 4)
              || v9 > *(_WORD *)(v4 + 8 * i + 6) )
            {
              v14 = 0;
            }
            if ( v14 )
            {
              sub_100666F0(
                a1 + 32,
                *(_WORD *)(a1 + 74) + *(_WORD *)(v4 + 8 * i),
                *(_WORD *)(a1 + 72) + *(_WORD *)(v4 + 8 * i + 4),
                *(_WORD *)(v4 + 8 * i + 2) - *(_WORD *)(v4 + 8 * i),
                *(_WORD *)(v4 + 8 * i + 6) - *(_WORD *)(v4 + 8 * i + 4));
              *(_WORD *)(a1 + 78) = v6;
              *(_WORD *)(a1 + 76) = v7;
              sub_10066F20(a1 + 32, a2, a3, 0);
            }
          }
          sub_100666F0(a1 + 32, *(_WORD *)(a1 + 74) + v15, *(_WORD *)(a1 + 72) + v16, v17, v18);
        }
        else
        {
          sub_10066F20(a1 + 32, a2, a3, 0);
        }
      }
      else
      {
        v5 = 1;
        if ( dword_10F8E124 )
          sub_100412E0(dword_10F8E124, a2, a3, &v5);
        if ( v5 )
          sub_1006D810(a1 + 32, a2, a3);
      }
    }
    result = 1;
  }
  else
  {
    result = sub_1003E1D0(34, -9);
  }
  return result;
}
// 10F8E124: using guessed type int dword_10F8E124;

//----- (1003FB40) --------------------------------------------------------
unsigned int __cdecl sub_1003FB40(unsigned int a1, unsigned int a2)
{
  unsigned int result; // eax@2

  if ( a1 <= a2 )
    result = a2;
  else
    result = a1;
  return result;
}

//----- (1003FB60) --------------------------------------------------------
unsigned int __cdecl sub_1003FB60(unsigned int a1, unsigned int a2)
{
  unsigned int result; // eax@2

  if ( a1 >= a2 )
    result = a2;
  else
    result = a1;
  return result;
}

//----- (1003FB80) --------------------------------------------------------
int __cdecl sub_1003FB80(int a1, __int16 a2, __int16 a3)
{
  int v4; // [sp+0h] [bp-4h]@2

  if ( a1 )
  {
    v4 = 1;
    *(_WORD *)(a1 + 78) = a2;
    *(_WORD *)(a1 + 76) = a3;
  }
  else
  {
    v4 = sub_1003E1D0(33, -9);
  }
  return v4;
}

//----- (1003FBC0) --------------------------------------------------------
signed int __cdecl sub_1003FBC0(int a1, int a2)
{
  int v3; // ecx@7
  unsigned __int8 v4; // al@7

  if ( !a1 || !a2 )
    return sub_1003E1D0(14, -9);
  if ( *(_BYTE *)a2 )
  {
    if ( *(_BYTE *)a2 != 1 )
      return sub_1003E1D0(14, -9);
    *(_WORD *)(a1 + 80) = -1;
    *(_WORD *)(a1 + 82) = -1;
    *(_WORD *)(a1 + 38) = 3;
  }
  else
  {
    v3 = a2;
    LOBYTE(v3) = *(_BYTE *)(a2 + 4);
    v4 = sub_10002E10(v3, (signed int)*(_WORD *)(a2 + 4) >> 8, *(_DWORD *)(a2 + 4) >> 16);
    *(_WORD *)(a1 + 80) = v4;
    *(_WORD *)(a1 + 82) = v4;
    *(_WORD *)(a1 + 38) = 3;
  }
  return 1;
}

//----- (1003FC80) --------------------------------------------------------
signed int __cdecl sub_1003FC80(int a1, unsigned int a2, int a3, int a4)
{
  __int16 v5; // [sp+4h] [bp-14h]@9
  __int16 v6; // [sp+6h] [bp-12h]@9
  __int16 v7; // [sp+8h] [bp-10h]@9
  __int16 v8; // [sp+Ah] [bp-Eh]@9
  int v9; // [sp+Ch] [bp-Ch]@9
  __int16 v10; // [sp+10h] [bp-8h]@9
  __int16 v11; // [sp+12h] [bp-6h]@9
  int i; // [sp+14h] [bp-4h]@15

  if ( !a1 )
    return sub_1003E1D0(17, -9);
  if ( a2 )
  {
    if ( sub_1003E2F0(a2) )
      return sub_1003E1D0(17, -9);
    v10 = *(_WORD *)(a1 + 74);
    v11 = *(_WORD *)(a1 + 72);
    v5 = word_10E8E100 - v10;
    v6 = word_10E8E102 - v11;
    v8 = word_10E8E106;
    v7 = word_10E8E104;
    v9 = sub_10068450((unsigned int *)&dword_10F8E120);
    if ( sub_1003E2F0(v9) )
      return sub_1003E1D0(17, -14);
    if ( sub_100688E0((int)&v5, v9, v9, (unsigned int *)&dword_10F8E120) )
    {
      sub_100684F0(v9, (unsigned int *)&dword_10F8E120);
      dword_10F8E124 = 0;
      return sub_1003E1D0(17, -14);
    }
    if ( a3 || a4 )
    {
      *(_WORD *)(a2 + 12) += a3;
      *(_WORD *)(a2 + 14) += a3;
      *(_WORD *)(a2 + 16) += a4;
      *(_WORD *)(a2 + 18) += a4;
      for ( i = 0; i < *(_DWORD *)(a2 + 4); ++i )
      {
        *(_WORD *)(*(_DWORD *)(a2 + 8) + 8 * i) += a3;
        *(_WORD *)(*(_DWORD *)(a2 + 8) + 8 * i + 2) += a3;
        *(_WORD *)(*(_DWORD *)(a2 + 8) + 8 * i + 4) += a4;
        *(_WORD *)(*(_DWORD *)(a2 + 8) + 8 * i + 6) += a4;
      }
    }
    dword_10F8E124 = sub_10068450((unsigned int *)&dword_10F8E120);
    if ( sub_1003E2F0(dword_10F8E124) )
    {
      sub_100684F0(v9, (unsigned int *)&dword_10F8E120);
      return sub_1003E1D0(17, -14);
    }
    if ( sub_10068540(a2, v9, dword_10F8E124, (unsigned int *)&dword_10F8E120) )
    {
      sub_100684F0(v9, (unsigned int *)&dword_10F8E120);
      sub_100684F0(dword_10F8E124, (unsigned int *)&dword_10F8E120);
      dword_10F8E124 = 0;
      return sub_1003E1D0(17, -14);
    }
    sub_100684F0(v9, (unsigned int *)&dword_10F8E120);
  }
  else
  {
    if ( dword_10F8E124 )
      sub_100684F0(dword_10F8E124, (unsigned int *)&dword_10F8E120);
    dword_10F8E124 = 0;
    sub_100666F0(a1 + 32, word_10E8E100, word_10E8E102, word_10E8E104, word_10E8E106);
  }
  return 1;
}
// 10E8E100: using guessed type __int16 word_10E8E100;
// 10E8E102: using guessed type __int16 word_10E8E102;
// 10E8E104: using guessed type __int16 word_10E8E104;
// 10E8E106: using guessed type __int16 word_10E8E106;
// 10F8E120: using guessed type int dword_10F8E120;
// 10F8E124: using guessed type int dword_10F8E124;

//----- (1003FFC0) --------------------------------------------------------
int __cdecl sub_1003FFC0(int a1, char a2)
{
  int v3; // [sp+0h] [bp-4h]@3

  if ( a1 && a2 == 13 )
    v3 = 1;
  else
    v3 = sub_1003E1D0(22, -9);
  return v3;
}

//----- (10040000) --------------------------------------------------------
int sub_10040000()
{
  return sub_1003E1D0(16, -14);
}

//----- (10040020) --------------------------------------------------------
signed int __cdecl sub_10040020(int a1, int a2)
{
  int v3; // ecx@7
  unsigned __int8 v4; // al@7

  if ( !a1 || !a2 )
    return sub_1003E1D0(13, -9);
  if ( *(_BYTE *)a2 )
  {
    if ( *(_BYTE *)a2 != 5 )
      return sub_1003E1D0(13, -9);
    *(_WORD *)(a1 + 68) = -1;
    *(_WORD *)(a1 + 70) = -1;
    *(_WORD *)(a1 + 36) = 2;
  }
  else
  {
    v3 = a2;
    LOBYTE(v3) = *(_BYTE *)(a2 + 8);
    v4 = sub_10002E10(v3, (signed int)*(_WORD *)(a2 + 8) >> 8, *(_DWORD *)(a2 + 8) >> 16);
    *(_WORD *)(a1 + 68) = v4;
    *(_WORD *)(a1 + 70) = v4;
    *(_WORD *)(a1 + 36) = 2;
  }
  *(_WORD *)(a1 + 66) = *(_WORD *)(a2 + 4);
  *(_WORD *)(a1 + 64) = *(_WORD *)(a2 + 4);
  *(_WORD *)(a1 + 34) = *(_WORD *)(a2 + 4);
  return 1;
}

//----- (10040110) --------------------------------------------------------
int __cdecl sub_10040110(int a1, unsigned __int8 a2)
{
  int result; // eax@2

  if ( a1 )
  {
    if ( a2 && a2 <= 2u )
    {
      *(_BYTE *)(a1 + 28) = a2;
      result = 1;
    }
    else
    {
      result = sub_1003E1D0(23, -9);
    }
  }
  else
  {
    result = sub_1003E1D0(23, -9);
  }
  return result;
}

//----- (10040160) --------------------------------------------------------
int __cdecl sub_10040160(signed int a1, signed int a2, int a3, int a4, signed int a5, signed int a6, _WORD *a7, _WORD *a8)
{
  double v8; // ST34_8@1
  double v9; // ST1C_8@1
  double v10; // ST24_8@1
  double v11; // ST3C_8@1
  double v12; // ST2C_8@1
  int result; // eax@1

  v8 = (double)a1 + (double)(a3 - a1) / 2.0;
  v9 = (double)a2 + (double)(a4 - a2) / 2.0;
  v10 = ((double)a5 - v8) * 2.0 / (double)(a3 - a1);
  v11 = ((double)a6 - v9) * 2.0 / (double)(a4 - a2);
  v12 = sqrt(1.0 / (v10 * v10 + v11 * v11));
  *a7 = sub_100701B0(((double)a5 - v8) * v12 + v8);
  result = sub_100701B0(((double)a6 - v9) * v12 + v9);
  *a8 = result;
  return result;
}

//----- (10040280) --------------------------------------------------------
int __cdecl sub_10040280(signed int a1, signed int a2, signed int a3, char a4, char a5, char a6, int a7, int *a8, _BYTE *a9)
{
  int result; // eax@4
  float v10; // ST08_4@5
  float v11; // ST08_4@6
  double v12; // ST34_8@6
  void *v13; // ecx@6
  float v14; // ST08_4@7
  double v15; // ST24_8@7
  void *v16; // ecx@7
  int v17; // [sp+38h] [bp-11Ch]@8
  char v18; // [sp+3Fh] [bp-115h]@8
  int v19; // [sp+40h] [bp-114h]@12
  char v20; // [sp+44h] [bp-110h]@5
  int v21; // [sp+14Ch] [bp-8h]@12
  float v22; // [sp+150h] [bp-4h]@6

  if ( a7 && a8 && a9 )
  {
    sub_10002C60(a7, &v20);
    v10 = (double)a2;
    if ( sub_100404A0(v10) == 0.0 )
    {
      v14 = (double)a1;
      v15 = sub_100404A0(v14) * 72.0;
      v22 = v15 / (double)(unsigned int)sub_10002E80(v16);
    }
    else
    {
      v11 = (double)a2;
      v12 = sub_100404A0(v11) * 72.0;
      v22 = v12 / (double)(unsigned int)sub_10002E80(v13);
    }
    v18 = sub_10003D40(&v20, v22, (int)&v17);
    if ( v18 )
    {
      result = sub_1003E1D0(7, -14);
    }
    else
    {
      while ( a3 < 0 )
        a3 += 3600;
      v21 = (signed __int64)((double)a3 * 182.0444444444445 / 10.0);
      word_10DD1AD0 = (signed __int64)((double)a3 * 182.0444444444445 / 10.0);
      v19 = 0;
      if ( a4 )
        v19 |= 4u;
      if ( a5 )
        v19 |= 8u;
      if ( a6 )
        v19 |= 0x10u;
      *(_WORD *)(v17 + 278) = word_10DD1AD0;
      *(_DWORD *)(v17 + 284) = v19;
      *a8 = v17;
      *a9 = 1;
      result = 1;
    }
  }
  else
  {
    result = sub_1003E1D0(7, -9);
  }
  return result;
}
// 10DD1AD0: using guessed type __int16 word_10DD1AD0;

//----- (100404A0) --------------------------------------------------------
double __cdecl sub_100404A0(float a1)
{
  return COERCE_FLOAT(LODWORD(a1) & 0x7FFFFFFF);
}

//----- (100404C0) --------------------------------------------------------
int __cdecl sub_100404C0(int a1, __int16 a2, __int16 a3, char *a4, size_t a5)
{
  int v6; // edx@26
  int v7; // [sp+0h] [bp-21Ch]@19
  int v8; // [sp+4h] [bp-218h]@12
  int v9; // [sp+8h] [bp-214h]@7
  char v10[512]; // [sp+Ch] [bp-210h]@7
  char v11; // [sp+213h] [bp-9h]@28
  int *v12; // [sp+214h] [bp-8h]@7
  int v13; // [sp+218h] [bp-4h]@7

  if ( (signed int)a5 > 511 || (a5 & 0x80000000) != 0 || !a1 || !a4 )
    return sub_1003E1D0(32, -9);
  if ( *(_WORD *)(a1 + 10) != 0xFFFF )
  {
    strncpy(v10, a4, a5);
    v10[a5] = 0;
    v13 = *(_DWORD *)(a1 + 68);
    *(_WORD *)(a1 + 68) = *(_WORD *)(a1 + 8);
    *(_WORD *)(a1 + 70) = *(_WORD *)(a1 + 10);
    word_10DD1AD0 = *(_WORD *)(*(_DWORD *)(a1 + 4) + 278);
    v12 = *(int **)(*(_DWORD *)(a1 + 4) + 284);
    v9 = *(_DWORD *)a1 & 1;
    if ( v9 && v9 == 1 )
      v12 = (int *)((unsigned int)v12 | 0x100);
    v8 = *(_DWORD *)a1 & 6;
    if ( v8 )
    {
      if ( v8 != 2 && v8 == 6 )
        v12 = (int *)((unsigned int)v12 | 1);
    }
    else
    {
      v12 = (int *)((unsigned int)v12 | 2);
    }
    v7 = *(_DWORD *)a1 & 0x18;
    if ( v7 )
    {
      if ( v7 == 8 )
      {
        v12 = (int *)((unsigned int)v12 | 0x40);
      }
      else if ( v7 == 24 )
      {
        v12 = (int *)((unsigned int)v12 | 0xC0);
      }
    }
    *(_WORD *)(a1 + 78) = a2;
    *(_WORD *)(a1 + 76) = a3;
    HIWORD(v6) = HIWORD(a1);
    if ( *(_BYTE *)(a1 + 12) == 2 )
      v12 = (int *)((unsigned int)v12 | 0x20);
    LOWORD(v6) = word_10DD1AD0;
    v11 = sub_10004610(*(_DWORD *)(a1 + 4), v10, COERCE_FLOAT(a1 + 32), v12, v6);
    if ( v11 )
      return sub_1003E1D0(32, -14);
    *(_WORD *)(a1 + 68) = v13;
    *(_WORD *)(a1 + 70) = HIWORD(v13);
  }
  return 1;
}
// 10DD1AD0: using guessed type __int16 word_10DD1AD0;
// 100404C0: using guessed type char var_210[512];

//----- (100406D0) --------------------------------------------------------
int __cdecl sub_100406D0(int a1, int a2, char *a3, size_t a4, int a5)
{
  int result; // eax@7
  int v6; // edx@8
  char v7[516]; // [sp+0h] [bp-210h]@8
  char v8; // [sp+20Bh] [bp-5h]@8
  __int16 v9; // [sp+20Ch] [bp-4h]@8
  __int16 v10; // [sp+20Eh] [bp-2h]@10

  if ( (signed int)a4 <= 511 && (a4 & 0x80000000) == 0 && a1 && a2 && a3 && a5 )
  {
    strncpy(v7, a3, a4);
    v7[a4] = 0;
    LOWORD(v6) = *(_WORD *)(a2 + 278);
    v8 = sub_10004030(a2, v7, (int)&v9, *(_DWORD *)(a2 + 284), v6);
    if ( v8 )
    {
      result = sub_1003E1D0(30, -14);
    }
    else
    {
      *(_DWORD *)a5 = v9;
      *(_DWORD *)(a5 + 4) = v10;
      result = 1;
    }
  }
  else
  {
    result = sub_1003E1D0(30, -9);
  }
  return result;
}
// 100406D0: using guessed type char var_210[516];

//----- (100407B0) --------------------------------------------------------
int __cdecl sub_100407B0(int a1, int a2)
{
  int v3; // [sp+0h] [bp-4h]@3

  if ( a1 && a2 )
  {
    v3 = 1;
    *(_DWORD *)(a1 + 4) = a2;
  }
  else
  {
    v3 = sub_1003E1D0(15, -9);
  }
  return v3;
}

//----- (100407F0) --------------------------------------------------------
int __cdecl sub_100407F0(_DWORD *a1, int a2)
{
  int v3; // [sp+0h] [bp-4h]@2

  if ( a1 )
  {
    v3 = 1;
    *a1 = a2;
  }
  else
  {
    v3 = sub_1003E1D0(25, -9);
  }
  return v3;
}

//----- (10040830) --------------------------------------------------------
int __cdecl sub_10040830(int a1, char a2)
{
  int v3; // [sp+0h] [bp-4h]@2

  if ( a1 )
  {
    v3 = 1;
    *(_BYTE *)(a1 + 12) = a2;
  }
  else
  {
    v3 = sub_1003E1D0(24, -9);
  }
  return v3;
}

//----- (10040870) --------------------------------------------------------
int __cdecl sub_10040870(int a1, unsigned int a2)
{
  int result; // eax@2

  if ( a1 )
  {
    *(_WORD *)(a1 + 10) = (unsigned __int8)sub_10002E10(
                                             (unsigned __int8)a2,
                                             (signed int)(unsigned __int16)a2 >> 8,
                                             a2 >> 16);
    *(_WORD *)(a1 + 8) = -1;
    result = 1;
  }
  else
  {
    result = sub_1003E1D0(26, -9);
  }
  return result;
}

//----- (100408C0) --------------------------------------------------------
int __cdecl sub_100408C0(int a1, int a2, int a3, char a4, char a5, char a6, int a7, char *a8, size_t a9, int a10)
{
  int result; // eax@6
  float v11; // ST10_4@7
  float v12; // ST10_4@8
  double v13; // ST3C_8@8
  void *v14; // ecx@8
  float v15; // ST10_4@10
  double v16; // ST2C_8@10
  void *v17; // ecx@10
  int v18; // ecx@18
  int v19; // [sp+38h] [bp-21Ch]@12
  char v20[259]; // [sp+3Ch] [bp-218h]@7
  char v21; // [sp+13Fh] [bp-115h]@12
  __int16 v22; // [sp+140h] [bp-114h]@22
  __int16 v23; // [sp+142h] [bp-112h]@25
  char v24; // [sp+144h] [bp-110h]@7
  int v25; // [sp+248h] [bp-Ch]@16
  float v26; // [sp+24Ch] [bp-8h]@8
  int v27; // [sp+250h] [bp-4h]@16

  if ( (signed int)a9 > 255 || (a9 & 0x80000000) != 0 || !a7 || !a8 || !a10 )
    return sub_1003E1D0(28, -9);
  strncpy(v20, a8, a9);
  v20[a9] = 0;
  sub_10002C60(a7, &v24);
  v11 = (double)a2;
  if ( sub_100404A0(v11) == 0.0 )
  {
    if ( !a1 )
    {
      *(_DWORD *)a10 = 0;
      *(_DWORD *)(a10 + 4) = 0;
      return 1;
    }
    v15 = (double)a1;
    v16 = sub_100404A0(v15) * 72.0;
    v26 = v16 / (double)(unsigned int)sub_10002E80(v17);
  }
  else
  {
    v12 = (double)a2;
    v13 = sub_100404A0(v12) * 72.0;
    v26 = v13 / (double)(unsigned int)sub_10002E80(v14);
  }
  v21 = sub_10003D40(&v24, v26, (int)&v19);
  if ( v21 )
  {
    result = sub_1003E1D0(28, -14);
  }
  else
  {
    while ( a3 < 0 )
      a3 += 3600;
    v25 = (signed __int64)((double)a3 * 182.0444444444445 / 10.0);
    word_10DD1AD0 = (signed __int64)((double)a3 * 182.0444444444445 / 10.0);
    v27 = 0;
    if ( a4 )
      v27 |= 4u;
    v18 = (unsigned __int8)a5;
    if ( a5 )
      v27 |= 8u;
    if ( a6 )
    {
      HIWORD(v18) = HIWORD(v27);
      v27 |= 0x10u;
    }
    *(_DWORD *)a10 = 0;
    *(_DWORD *)(a10 + 4) = 0;
    LOWORD(v18) = word_10DD1AD0;
    v21 = sub_10004030(v19, v20, (int)&v22, v27, v18);
    if ( sub_10003D20(v19) )
    {
      result = sub_1003E1D0(28, -14);
    }
    else if ( v21 )
    {
      result = sub_1003E1D0(28, -14);
    }
    else
    {
      *(_DWORD *)a10 = v22;
      *(_DWORD *)(a10 + 4) = v23;
      result = 1;
    }
  }
  return result;
}
// 10DD1AD0: using guessed type __int16 word_10DD1AD0;
// 100408C0: using guessed type char var_218[259];

//----- (10040B80) --------------------------------------------------------
int __cdecl sub_10040B80(unsigned int a1, unsigned int a2, unsigned int a3, char a4)
{
  int result; // eax@7
  signed int v5; // [sp+4h] [bp-4h]@2

  switch ( a4 )
  {
    case 1:
      v5 = sub_10068540(a2, a3, a1, (unsigned int *)&dword_10F8E120);
      goto LABEL_8;
    case 2:
      v5 = sub_10068980(a2, a3, a1, (unsigned int *)&dword_10F8E120);
      goto LABEL_8;
    case 3:
      v5 = sub_10068C60(a2, a3, a1, (unsigned int *)&dword_10F8E120);
      goto LABEL_8;
    case 4:
      v5 = sub_100687E0(a2, a3, a1, (unsigned int *)&dword_10F8E120);
      goto LABEL_8;
    case 5:
      v5 = sub_10068320(a1, a2, (unsigned int *)&dword_10F8E120);
LABEL_8:
      if ( v5 )
        result = sub_1003E1D0(18, -14);
      else
        result = 1;
      break;
    default:
      result = sub_1003E1D0(18, -9);
      break;
  }
  return result;
}
// 10F8E120: using guessed type int dword_10F8E120;

//----- (10040C90) --------------------------------------------------------
int __cdecl sub_10040C90(int a1, int a2, int a3, int a4, _DWORD *a5, _BYTE *a6)
{
  int result; // eax@5
  void *v7; // [sp+0h] [bp-4h]@6

  if ( a1 <= a3 && a2 <= a4 && a5 && a6 )
  {
    v7 = (void *)sub_1006F210(0xCu, dword_10F8E120);
    if ( v7 )
    {
      sub_10041330(v7);
      *(_DWORD *)v7 = sub_1006B190(a1, a2, a3, a4, (unsigned int *)&dword_10F8E120);
      if ( sub_1003E2F0(*(_DWORD *)v7) )
      {
        *a5 = -15;
        *a6 = 0;
        sub_1006F2C0((unsigned int)v7, dword_10F8E120);
        result = sub_1003E1D0(11, -14);
      }
      else
      {
        sub_10040D90((int)v7 + 4, &dword_10E8E108);
        *a5 = *(_DWORD *)v7;
        *a6 = 1;
        result = 1;
      }
    }
    else
    {
      result = sub_1003E1D0(11, -1);
    }
  }
  else
  {
    result = sub_1003E1D0(11, -9);
  }
  return result;
}
// 10E8E108: using guessed type int dword_10E8E108;
// 10F8E120: using guessed type int dword_10F8E120;

//----- (10040D90) --------------------------------------------------------
_DWORD *__cdecl sub_10040D90(int a1, int *a2)
{
  return sub_10040DB0(a1, a2, *a2);
}

//----- (10040DB0) --------------------------------------------------------
_DWORD *__cdecl sub_10040DB0(int a1, _DWORD *a2, int a3)
{
  _DWORD *result; // eax@1

  *(_DWORD *)(a3 + 4) = a1;
  *(_DWORD *)a1 = a3;
  *(_DWORD *)(a1 + 4) = a2;
  result = a2;
  *a2 = a1;
  return result;
}

//----- (10040DE0) --------------------------------------------------------
signed int __cdecl sub_10040DE0(int a1, signed int a2, char a3, _DWORD *a4, _BYTE *a5)
{
  signed int result; // eax@5
  int v6; // [sp+8h] [bp-Ch]@11
  void *v7; // [sp+Ch] [bp-8h]@16
  signed int i; // [sp+10h] [bp-4h]@13
  char v9; // [sp+24h] [bp+10h]@9

  if ( !a1 || a2 <= 0 || !a4 || !a5 )
    return sub_1003E1D0(10, -9);
  if ( a3 == 1 )
  {
    v9 = 1;
  }
  else
  {
    if ( a3 != 2 )
      return sub_1003E1D0(10, -9);
    v9 = 2;
  }
  v6 = sub_1006F210(4 * a2, dword_10F8E120);
  if ( v6 )
  {
    for ( i = 0; i < a2; ++i )
    {
      *(_WORD *)(v6 + 4 * i) = *(_WORD *)(a1 + 8 * i);
      *(_WORD *)(v6 + 4 * i + 2) = *(_WORD *)(a1 + 8 * i + 4);
    }
    v7 = (void *)sub_1006F210(0xCu, dword_10F8E120);
    if ( v7 )
    {
      sub_10041330(v7);
      *(_DWORD *)v7 = sub_1006C300(v6, a2, (unsigned __int8)v9, (unsigned int *)&dword_10F8E120);
      if ( sub_1003E2F0(*(_DWORD *)v7) )
      {
        *a4 = -15;
        *a5 = 0;
        sub_1006F2C0(v6, dword_10F8E120);
        sub_1006F2C0((unsigned int)v7, dword_10F8E120);
        result = sub_1003E1D0(10, -14);
      }
      else
      {
        sub_10040D90((int)v7 + 4, &dword_10E8E108);
        *a4 = *(_DWORD *)v7;
        *a5 = 1;
        sub_1006F2C0(v6, dword_10F8E120);
        result = 1;
      }
    }
    else
    {
      sub_1006F2C0(v6, dword_10F8E120);
      result = sub_1003E1D0(10, -1);
    }
  }
  else
  {
    result = sub_1003E1D0(10, -1);
  }
  return result;
}
// 10E8E108: using guessed type int dword_10E8E108;
// 10F8E120: using guessed type int dword_10F8E120;

//----- (10040FC0) --------------------------------------------------------
int __cdecl sub_10040FC0(int a1, int a2, int a3, int a4, _DWORD *a5, _BYTE *a6)
{
  int result; // eax@5
  void *v7; // [sp+0h] [bp-Ch]@6
  __int16 v8; // [sp+4h] [bp-8h]@6
  __int16 v9; // [sp+6h] [bp-6h]@6
  __int16 v10; // [sp+8h] [bp-4h]@6
  __int16 v11; // [sp+Ah] [bp-2h]@6

  if ( a1 <= a3 && a2 <= a4 && a5 && a6 )
  {
    v8 = a1;
    v9 = a2;
    v11 = a4 - a2;
    v10 = a3 - a1;
    v7 = (void *)sub_1006F210(0xCu, dword_10F8E120);
    if ( v7 )
    {
      sub_10041330(v7);
      *(_DWORD *)v7 = sub_10068450((unsigned int *)&dword_10F8E120);
      if ( sub_1003E2F0(*(_DWORD *)v7) )
      {
        sub_1006F2C0((unsigned int)v7, dword_10F8E120);
        result = sub_1003E1D0(9, -14);
      }
      else if ( sub_100688E0((int)&v8, *(_DWORD *)v7, *(_DWORD *)v7, (unsigned int *)&dword_10F8E120) )
      {
        *a5 = -15;
        *a6 = 0;
        sub_100684F0(*(_DWORD *)v7, (unsigned int *)&dword_10F8E120);
        sub_1006F2C0((unsigned int)v7, dword_10F8E120);
        result = sub_1003E1D0(9, -14);
      }
      else
      {
        sub_10040D90((int)v7 + 4, &dword_10E8E108);
        *a5 = *(_DWORD *)v7;
        *a6 = 1;
        result = 1;
      }
    }
    else
    {
      result = sub_1003E1D0(9, -1);
    }
  }
  else
  {
    result = sub_1003E1D0(9, -9);
  }
  return result;
}
// 10E8E108: using guessed type int dword_10E8E108;
// 10F8E120: using guessed type int dword_10F8E120;

//----- (10041130) --------------------------------------------------------
int __cdecl sub_10041130(unsigned int a1, int a2)
{
  int v2; // ST08_4@4
  int v3; // ST0C_4@4
  int v5; // [sp+8h] [bp-4h]@3

  if ( !sub_1003E2F0(a1) && a2 )
  {
    v5 = 1;
    v2 = *(_DWORD *)(a1 + 12);
    v3 = *(_DWORD *)(a1 + 16);
    *(_DWORD *)a2 = (signed __int16)v2;
    *(_DWORD *)(a2 + 4) = (signed __int16)v3;
    *(_DWORD *)(a2 + 8) = SHIWORD(v2);
    *(_DWORD *)(a2 + 12) = SHIWORD(v3);
  }
  else
  {
    v5 = sub_1003E1D0(20, -9);
  }
  return v5;
}

//----- (100411B0) --------------------------------------------------------
int __cdecl sub_100411B0(int a1, unsigned int a2)
{
  int v3; // [sp+4h] [bp-8h]@3
  signed int v4; // [sp+8h] [bp-4h]@4

  if ( a1 && a2 )
  {
    v3 = 1;
    if ( (unsigned __int16)(*(_DWORD *)(a1 + 80) >> 16) != 0xFFFF )
    {
      v4 = sub_10068450((unsigned int *)&dword_10F8E120);
      if ( sub_1003E2F0(v4) )
        return sub_1003E1D0(21, -14);
      if ( sub_10068320(v4, a2, (unsigned int *)&dword_10F8E120) )
      {
        sub_100684F0(v4, (unsigned int *)&dword_10F8E120);
        return sub_1003E1D0(21, -14);
      }
      if ( dword_10F8E124 && sub_10068540(dword_10F8E124, v4, v4, (unsigned int *)&dword_10F8E120) )
      {
        sub_100684F0(v4, (unsigned int *)&dword_10F8E120);
        return sub_1003E1D0(21, -14);
      }
      sub_10068630(a1 + 32, v4);
      sub_100684F0(v4, (unsigned int *)&dword_10F8E120);
    }
  }
  else
  {
    v3 = sub_1003E1D0(21, -9);
  }
  return v3;
}
// 10F8E120: using guessed type int dword_10F8E120;
// 10F8E124: using guessed type int dword_10F8E124;

//----- (100412E0) --------------------------------------------------------
int __cdecl sub_100412E0(unsigned int a1, signed int a2, signed int a3, char *a4)
{
  int v5; // [sp+0h] [bp-4h]@3

  if ( a1 && a4 )
  {
    v5 = 1;
    *a4 = sub_100686E0(a1, a2, a3);
  }
  else
  {
    v5 = sub_1003E1D0(19, -9);
  }
  return v5;
}

//----- (10041330) --------------------------------------------------------
char *__cdecl sub_10041330(void *a1)
{
  char *result; // eax@1

  memset(a1, 0, 0xCu);
  *((_DWORD *)a1 + 1) = (char *)a1 + 4;
  result = (char *)a1 + 4;
  *((_DWORD *)a1 + 2) = (char *)a1 + 4;
  return result;
}

//----- (10041360) --------------------------------------------------------
int __cdecl sub_10041360(int a1)
{
  int v2; // [sp+0h] [bp-4h]@1

  v2 = 1;
  if ( !a1 )
    v2 = sub_1003E1D0(42, -9);
  return v2;
}

//----- (10041390) --------------------------------------------------------
int __cdecl sub_10041390(int a1)
{
  int v2; // [sp+0h] [bp-4h]@2

  if ( a1 )
  {
    v2 = 1;
    sub_1006F2C0(a1 - 14, dword_10F8E120);
  }
  else
  {
    v2 = sub_1003E1D0(41, -9);
  }
  return v2;
}
// 10F8E120: using guessed type int dword_10F8E120;

//----- (100413D0) --------------------------------------------------------
int __cdecl sub_100413D0(int a1)
{
  int v2; // [sp+0h] [bp-4h]@1

  v2 = 1;
  if ( !a1 )
    v2 = sub_1003E1D0(44, -9);
  return v2;
}

//----- (10041400) --------------------------------------------------------
int __cdecl sub_10041400(char *a1, int a2, int a3, int a4, int a5)
{
  int result; // eax@6
  int v6; // eax@40
  void *v7; // eax@42
  int v8; // ecx@42
  int v9; // edx@42
  void *v10; // eax@42
  int v11; // ecx@42
  int v12; // edx@42
  signed int j; // [sp+0h] [bp-7Ch]@48
  char v14; // [sp+7h] [bp-75h]@48
  char v15; // [sp+Fh] [bp-6Dh]@42
  void *v16; // [sp+10h] [bp-6Ch]@31
  unsigned int v17; // [sp+14h] [bp-68h]@40
  char v18; // [sp+18h] [bp-64h]@42
  char v19; // [sp+19h] [bp-63h]@42
  char v20; // [sp+1Ah] [bp-62h]@42
  void *v21; // [sp+1Ch] [bp-60h]@7
  void *v22; // [sp+20h] [bp-5Ch]@40
  int v23; // [sp+24h] [bp-58h]@14
  unsigned int v24; // [sp+28h] [bp-54h]@40
  int v25; // [sp+2Ch] [bp-50h]@43
  size_t v26; // [sp+34h] [bp-48h]@13
  size_t v27; // [sp+3Ch] [bp-40h]@13
  size_t v28; // [sp+40h] [bp-3Ch]@45
  char v29; // [sp+44h] [bp-38h]@13
  int v30; // [sp+48h] [bp-34h]@13
  int v31; // [sp+4Ch] [bp-30h]@13
  __int16 v32; // [sp+52h] [bp-2Ah]@13
  char v33; // [sp+64h] [bp-18h]@13
  unsigned int v34; // [sp+6Ch] [bp-10h]@42
  size_t v35; // [sp+70h] [bp-Ch]@45
  size_t i; // [sp+74h] [bp-8h]@45
  char v37; // [sp+7Ah] [bp-2h]@45
  char v38; // [sp+7Bh] [bp-1h]@42

  if ( !a1 || !a2 || !a3 || !a4 || !a5 )
    return sub_1003E1D0(40, -9);
  v21 = 0;
  if ( !strcmp("tmp_chrt.tcl", a1) )
    v21 = &unk_10E8E120;
  if ( v21 && !dword_10F8E128 )
    return sub_1003E1D0(40, -12);
  if ( v21 )
  {
    memcpy(&v26, (char *)v21 + 2, 4u);
    memcpy(&v27, (char *)v21 + 10, 4u);
    memcpy(&v29, (char *)v21 + 14, 4u);
    memcpy(&v30, (char *)v21 + 18, 4u);
    memcpy(&v31, (char *)v21 + 22, 4u);
    memcpy(&v32, (char *)v21 + 28, 2u);
    memcpy(&v33, (char *)v21 + 46, 4u);
  }
  else
  {
    v23 = sub_10002D80((int)a1);
    if ( sub_1003E2F0(v23) )
      return sub_1003E1D0(40, -2);
    if ( sub_10002DB0(v23, &v26, 4, 2) <= 0 )
    {
      sub_10003420(v23);
      return sub_1003E1D0(40, -14);
    }
    if ( sub_10002DB0(v23, &v27, 4, 10) <= 0 )
    {
      sub_10003420(v23);
      return sub_1003E1D0(40, -14);
    }
    if ( sub_10002DB0(v23, &v29, 4, 14) <= 0 )
    {
      sub_10003420(v23);
      return sub_1003E1D0(40, -14);
    }
    if ( sub_10002DB0(v23, &v30, 4, 18) <= 0 )
    {
      sub_10003420(v23);
      return sub_1003E1D0(40, -14);
    }
    if ( sub_10002DB0(v23, &v31, 4, 22) <= 0 )
    {
      sub_10003420(v23);
      return sub_1003E1D0(40, -14);
    }
    if ( sub_10002DB0(v23, &v32, 2, 28) <= 0 )
    {
      sub_10003420(v23);
      return sub_1003E1D0(40, -14);
    }
    if ( sub_10002DB0(v23, &v33, 4, 46) <= 0 )
    {
      sub_10003420(v23);
      return sub_1003E1D0(40, -14);
    }
  }
  if ( v32 == 1 )
  {
    v16 = (void *)sub_1006F210(v26, dword_10F8E120);
    if ( v16 )
    {
      if ( v21 )
      {
        memcpy(v16, v21, v26);
      }
      else
      {
        if ( sub_10002DB0(v23, v16, v26, 0) <= 0 )
        {
          sub_1006F2C0((unsigned int)v16, dword_10F8E120);
          sub_10003420(v23);
          return sub_1003E1D0(40, -14);
        }
        sub_10003420(v23);
      }
      v17 = (v30 + 1) & 0xFFFFFFFE;
      v6 = sub_10041B70((unsigned int *)&v31);
      v24 = v27 + v17 * v6;
      v22 = (void *)sub_1006F210(v24, dword_10F8E120);
      if ( v22 )
      {
        memcpy(v22, v16, v27);
        v7 = memcpy(&v18, (char *)v16 + 54, 4u);
        LOBYTE(v8) = v20;
        LOBYTE(v9) = v19;
        LOBYTE(v7) = v18;
        v38 = sub_10002E10((int)v7, v9, v8);
        v10 = memcpy(&v18, (char *)v16 + 58, 4u);
        LOBYTE(v10) = v20;
        LOBYTE(v11) = v19;
        LOBYTE(v12) = v18;
        v15 = sub_10002E10(v12, v11, (int)v10);
        v34 = ((v30 + 31) & 0xFFFFFFE0) >> 3;
        if ( v31 >= 0 )
          v25 = sub_10041B70((unsigned int *)&v31) - 1;
        else
          v25 = 0;
        v37 = 0;
        v28 = v27 + v17 * v25;
        v35 = v27 + v17 * v25;
        for ( i = v27; i < v26 && v25 >= 0; ++i )
        {
          v14 = *((_BYTE *)v16 + i);
          for ( j = 0; j < 8 && !v37; ++j )
          {
            if ( v14 & 0x80 )
              *((_BYTE *)v22 + v28) = v15;
            else
              *((_BYTE *)v22 + v28) = v38;
            ++v28;
            v14 *= 2;
            if ( v28 - v35 == v17 )
            {
              v37 = 1;
              break;
            }
          }
          if ( v37 )
          {
            i = v34 + i - (i - v27) % v34 - 1;
            v37 = 0;
            if ( v31 >= 0 )
              --v25;
            else
              ++v25;
            v28 = v27 + v17 * v25;
            v35 = v27 + v17 * v25;
          }
        }
        sub_1006F2C0((unsigned int)v16, dword_10F8E120);
        *(_DWORD *)a5 = v30;
        *(_DWORD *)(a5 + 4) = sub_10041B70((unsigned int *)&v31);
        *(_DWORD *)(a5 + 20) = 8;
        *(_DWORD *)(a5 + 16) = (char *)v22 + 54;
        *(_DWORD *)(a5 + 12) = v17 * *(_DWORD *)(a5 + 4);
        *(_DWORD *)(a5 + 8) = (char *)v22 + v27;
        *(_DWORD *)a3 = 2;
        *(_DWORD *)a4 = (char *)v22 + 14;
        result = 1;
      }
      else
      {
        sub_1006F2C0((unsigned int)v16, dword_10F8E120);
        result = sub_1003E1D0(40, -1);
      }
    }
    else
    {
      if ( !v21 )
        sub_10003420(v23);
      result = sub_1003E1D0(40, -1);
    }
  }
  else
  {
    if ( !v21 )
      sub_10003420(v23);
    result = sub_1003E1D0(40, -12);
  }
  return result;
}
// 10003420: using guessed type _DWORD __cdecl sub_10003420(_DWORD);
// 10F8E120: using guessed type int dword_10F8E120;
// 10F8E128: using guessed type int dword_10F8E128;

//----- (10041B70) --------------------------------------------------------
int __cdecl sub_10041B70(unsigned int *a1)
{
  return (*a1 - (*a1 >> 31)) ^ ((signed int)(*a1 - (*a1 >> 31)) >> 31);
}

//----- (10041BA0) --------------------------------------------------------
int __cdecl sub_10041BA0(int a1, __int16 a2, __int16 a3, int a4)
{
  int result; // eax@3
  int v5; // [sp+0h] [bp-Ch]@4
  __int16 v6; // [sp+4h] [bp-8h]@4
  __int16 v7; // [sp+6h] [bp-6h]@4
  char v8; // [sp+8h] [bp-4h]@4
  char v9; // [sp+9h] [bp-3h]@4
  __int16 v10; // [sp+Ah] [bp-2h]@4

  if ( a1 && a4 )
  {
    v5 = *(_DWORD *)(a4 + 8);
    v7 = *(_WORD *)a4;
    v6 = *(_WORD *)(a4 + 4);
    v8 = *(_BYTE *)(a4 + 20);
    v10 = (*(_WORD *)a4 + 1) & 0xFFFE;
    v9 = 0;
    sub_10067470(a1 + 32, (int)&v5, 0, 0, a2, a3, v7, v6);
    result = 1;
  }
  else
  {
    result = sub_1003E1D0(43, -9);
  }
  return result;
}

//----- (10041C30) --------------------------------------------------------
char __cdecl sub_10041C30(_BYTE *a1, _BYTE *a2)
{
  _BYTE *v2; // ecx@1
  _BYTE *v3; // edx@2
  char result; // al@3

  v2 = a1;
  if ( a1 && (v3 = a2) != 0 )
  {
    result = 1;
    if ( *a1 )
    {
      while ( *v3 )
      {
        if ( *v2 != *v3 )
        {
          result = 0;
          goto LABEL_9;
        }
        ++v2;
        ++v3;
        if ( !*v2 )
          goto LABEL_9;
      }
    }
    else
    {
LABEL_9:
      if ( *v3 )
      {
        if ( !*v2 )
          result = 0;
      }
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10041C80) --------------------------------------------------------
signed int __cdecl sub_10041C80(int a1)
{
  signed int result; // eax@1
  unsigned __int16 v2; // cx@2

  result = *(_DWORD *)(a1 + 32);
  if ( !result )
  {
    v2 = *(_WORD *)(a1 + 14);
    if ( v2 < 0x18u )
      result = 1 << v2;
  }
  return result;
}

//----- (10041CA0) --------------------------------------------------------
int __cdecl sub_10041CA0(unsigned int a1, _DWORD *a2, void *a3, int a4, int a5)
{
  return sub_10055BB0(a1, a3, 4 * a5, *a2 + 4 * a4 + 14, 0) != 4 * a5 ? 0xFFFFFFF1 : 0;
}

//----- (10041CE0) --------------------------------------------------------
signed int __cdecl sub_10041CE0(unsigned int a1, void *a2, void *a3)
{
  signed int v3; // eax@1
  signed int result; // eax@6

  v3 = sub_10055BB0(a1, a2, 14, 0, 0);
  if ( v3 == 14 )
    v3 = sub_10055BB0(a1, a3, 40, 14, 0);
  if ( v3 != 40 || *(_DWORD *)a3 != 40 || *(_WORD *)a2 != 19778 )
    result = -16;
  else
    result = 0;
  return result;
}

//----- (10041D40) --------------------------------------------------------
signed int __cdecl sub_10041D40(unsigned int a1, int a2, int a3)
{
  int v3; // ebp@1
  int v4; // esi@4
  unsigned __int8 v5; // cl@6
  __int64 v6; // rax@6
  int v7; // eax@6
  __int16 v8; // ax@12
  signed int v9; // edi@22
  unsigned int v10; // ebx@22
  int v11; // eax@22
  unsigned int v12; // ecx@22
  int v13; // ecx@25
  unsigned int v15; // esi@35
  int v16; // ebp@40
  signed int v17; // ebx@42
  unsigned int v18; // eax@43
  unsigned int v19; // eax@44
  unsigned int v20; // edx@44
  int v21; // ebx@46
  signed int v22; // esi@46
  int v23; // edi@46
  char v24; // bp@47
  int v25; // eax@48
  bool v26; // sf@60
  unsigned __int8 v27; // of@60
  unsigned int v28; // esi@64
  unsigned int v29; // eax@65
  signed int v30; // [sp+10h] [bp-3088h]@21
  char *v31; // [sp+14h] [bp-3084h]@1
  int v32; // [sp+18h] [bp-3080h]@2
  char *v33; // [sp+1Ch] [bp-307Ch]@28
  signed int v34; // [sp+20h] [bp-3078h]@24
  signed int v35; // [sp+24h] [bp-3074h]@42
  char v36; // [sp+28h] [bp-3070h]@22
  int v37; // [sp+2Ch] [bp-306Ch]@22
  char *v38; // [sp+30h] [bp-3068h]@25
  int v39; // [sp+34h] [bp-3064h]@24
  int v40; // [sp+38h] [bp-3060h]@25
  int v41; // [sp+3Ch] [bp-305Ch]@40
  int v42; // [sp+40h] [bp-3058h]@23
  int v43; // [sp+44h] [bp-3054h]@22
  signed int v44; // [sp+48h] [bp-3050h]@40
  unsigned __int16 v45; // [sp+4Ch] [bp-304Ch]@22
  int v46; // [sp+54h] [bp-3044h]@43
  unsigned int v47; // [sp+58h] [bp-3040h]@44
  int v48; // [sp+5Ch] [bp-303Ch]@43
  int v49; // [sp+60h] [bp-3038h]@43
  int v50; // [sp+68h] [bp-3030h]@43
  int v51; // [sp+70h] [bp-3028h]@43
  int v52; // [sp+74h] [bp-3024h]@46
  char v53; // [sp+78h] [bp-3020h]@59
  char v54; // [sp+98h] [bp-3000h]@35

  v3 = a2;
  v31 = 0;
  if ( *(_WORD *)(a2 + 14) < 0x18u )
    v32 = *(_DWORD *)(a2 + 68);
  else
    v32 = 0;
  v4 = a3;
  *(_DWORD *)a3 = 0;
  *(_DWORD *)(a3 + 4) = 0;
  *(_DWORD *)(a3 + 8) = 0;
  *(_DWORD *)a3 = *(_DWORD *)(a2 + 56);
  *(_WORD *)(a3 + 4) = abs(*(_DWORD *)(a2 + 8));
  *(_WORD *)(a3 + 6) = *(_WORD *)(a2 + 4);
  *(_BYTE *)(a3 + 8) = *(_BYTE *)(a2 + 64);
  if ( !*(_BYTE *)(a2 + 64) )
    *(_BYTE *)(a3 + 8) = *(_BYTE *)(a2 + 14);
  v5 = *(_BYTE *)(a3 + 8);
  v6 = *(_WORD *)(a3 + 6) * *(_BYTE *)(a3 + 8) + 31;
  v7 = 4 * (((BYTE4(v6) & 0x1F) + (signed int)v6) >> 5);
  *(_BYTE *)(a3 + 9) = 0;
  *(_WORD *)(a3 + 10) = v7;
  if ( *(_WORD *)(a2 + 40) == 19778
    && *(_DWORD *)a2 == 40
    && (unsigned __int16)v7 <= 0x3000u
    && *(_WORD *)(a2 + 12) == 1
    && !*(_DWORD *)(a2 + 16)
    && *(_DWORD *)(a2 + 4)
    && ((v8 = *(_WORD *)(a2 + 14), v8 == 8) || v8 == 4 || v8 == 2 || v8 == 1 || v8 == 32 || v8 == 24)
    && (v5 == 8 || v32 || v8 == v5) )
  {
    v30 = sub_10055D60(a1, *(_DWORD *)(a2 + 50), 0);
    if ( v30 != *(_DWORD *)(a2 + 50) )
      return -16;
    v45 = *(_WORD *)(a2 + 14);
    v9 = v45;
    v37 = *(_WORD *)(a2 + 4);
    v10 = (unsigned __int16)(4 * ((v37 * v45 + 31) / 32));
    v11 = abs(*(_DWORD *)(a2 + 8));
    v12 = *(_DWORD *)(a2 + 60);
    v36 = *(_WORD *)(a2 + 14);
    v43 = (unsigned __int16)v11;
    if ( v10 * (unsigned __int16)v11 > v12
      || (v42 = *(_WORD *)(a3 + 10), (unsigned int)(unsigned __int16)v11 * v42 > v12) )
    {
      sub_100429F0("..\\lib\\adl\\bmp_file.c", 977, 0, 0);
      return -15;
    }
    v34 = 0;
    v39 = 0;
    if ( (signed int)(unsigned __int16)v11 > 0 )
    {
      v30 = 0;
      v38 = *(char **)a3;
      v13 = *(_DWORD *)a3 + v42 * ((unsigned __int16)v11 - 1);
      v40 = *(_DWORD *)a3 + v42 * ((unsigned __int16)v11 - 1);
      while ( 1 )
      {
        v34 -= v10;
        if ( *(_DWORD *)(v3 + 8) >= 0 )
          v33 = (char *)v13;
        else
          v33 = v38;
        if ( v45 != *(_BYTE *)(v4 + 8) || v32 )
        {
          if ( v34 > 0 )
          {
            v31 += v10;
          }
          else
          {
            v15 = v10 * (v11 - v39);
            v31 = &v54;
            if ( v15 > 0x3000 )
              v15 = v10 * (0x3000 / v10);
            v34 = sub_10055B70(a1, &v54, v15);
            if ( v34 != v15 )
              return -16;
          }
          v44 = -1;
          v16 = 32 / v9;
          v41 = 32 / v9;
          if ( (unsigned __int8)v33 & 3 || (unsigned __int8)v31 & 3 )
          {
            v17 = 0;
          }
          else
          {
            v17 = 0;
            v35 = 0;
            if ( v37 >= v16 )
            {
              v50 = -32 / v9;
              v49 = 32 / v9 / 4;
              v18 = 0;
              v48 = 0;
              v51 = v16 * v9;
              v46 = v37;
              do
              {
                v19 = v18 >> 5;
                v20 = *(_DWORD *)&v31[4 * v19];
                v47 = *(_DWORD *)&v31[4 * v19];
                if ( v44 != v20 || !v17 )
                {
                  v21 = 0;
                  v22 = 0;
                  v44 = *(_DWORD *)&v31[4 * v19];
                  v52 = 8 - v9;
                  v23 = 8 - v9;
                  if ( v16 > 0 )
                  {
                    v24 = 0;
                    do
                    {
                      v25 = ((1 << v36) - 1) & (v20 >> v23);
                      if ( v23 )
                      {
                        v23 -= v45;
                      }
                      else
                      {
                        v23 = v52;
                        v20 >>= 8;
                        v47 = v20;
                      }
                      if ( v32 )
                        v25 = *(_BYTE *)(v25 + v32);
                      ++v22;
                      v21 |= v25 << 8 * v24;
                      v24 = v22 & 3;
                      if ( !(v22 & 3) )
                      {
                        v20 = v47;
                        *(&v52 + v22 / 4) = v21;
                        v21 = 0;
                      }
                    }
                    while ( v22 < v41 );
                    v16 = v41;
                  }
                  v9 = v45;
                  v17 = v35;
                }
                if ( v49 > 0 )
                {
                  qmemcpy(&v33[4 * (v17 / 4)], &v53, 4 * v49);
                  v9 = v45;
                }
                v18 = v51 + v48;
                v17 += v16;
                v27 = __OFSUB__(v50 + v46, v16);
                v26 = v50 + v46 - v16 < 0;
                v35 = v17;
                v48 += v51;
                v46 += v50;
              }
              while ( !(v26 ^ v27) );
            }
          }
          if ( v17 < v37 )
          {
            v28 = v17 * v9;
            do
            {
              v29 = ((1 << v9) - 1) & ((unsigned __int8)v31[v28 >> 3] >> (8 - (v17 * v45 & 7) - v45));
              if ( v32 )
                LOBYTE(v29) = *(_BYTE *)(v29 + v32);
              v33[v17++] = v29;
              v28 += v9;
            }
            while ( v17 < v37 );
          }
          v10 = (unsigned __int16)(4 * ((v37 * v45 + 31) / 32));
          v3 = a2;
          v4 = a3;
        }
        else
        {
          v34 = sub_10055B70(a1, v33, v10);
          if ( v34 != v10 )
            return -16;
        }
        v38 += v42;
        v40 -= v42;
        if ( ++v39 >= v43 )
          goto LABEL_72;
        v13 = v40;
        v11 = v43;
      }
    }
    if ( !v30 )
    {
LABEL_72:
      if ( a1 < 0xFFFFFFC2 && a1 && (a1 & 3) == 1 )
        return sub_10044EC0(a1, 0) == 0;
    }
  }
  else
  {
    *(_DWORD *)a3 = 0;
    *(_DWORD *)(a3 + 4) = 0;
    *(_DWORD *)(a3 + 8) = 0;
    v30 = -15;
  }
  return v30;
}

//----- (10042290) --------------------------------------------------------
signed int __cdecl sub_10042290(unsigned int a1, _DWORD *a2, int a3, signed int a4)
{
  signed int v4; // ebx@1
  int v5; // ebp@2
  int v6; // edi@3
  int v7; // esi@6
  int *v8; // ebx@7
  int v9; // ebp@7
  signed int result; // eax@11
  int v11; // [sp+4h] [bp-448h]@2
  signed int v12; // [sp+8h] [bp-444h]@1
  char v13; // [sp+Ch] [bp-440h]@5
  char v14; // [sp+4Ch] [bp-400h]@2

  v4 = sub_10041C80((int)a2);
  v12 = v4;
  if ( v4 > a4 )
  {
    result = -15;
  }
  else
  {
    sub_10055470((int)&v14, 0x100u);
    v5 = 0;
    v11 = 0;
    if ( v4 <= 0 )
    {
      result = 0;
    }
    else
    {
      while ( 1 )
      {
        v6 = v4 - v5;
        if ( (unsigned int)(v4 - v5) > 0x10 )
          v6 = 16;
        if ( sub_10041CA0(a1, a2, &v13, v5, v6) )
          break;
        v7 = 0;
        if ( v6 > 0 )
        {
          v8 = (int *)&v13;
          v9 = a3 + v5;
          do
          {
            *(_BYTE *)(v7++ + v9) = sub_10055380(*v8, (int)&v14, 0x100u);
            ++v8;
          }
          while ( v7 < v6 );
          v4 = v12;
          v5 = v11;
        }
        v5 += v6;
        v11 = v5;
        if ( v5 >= v4 )
          return 0;
      }
      result = -15;
    }
  }
  return result;
}

//----- (10042390) --------------------------------------------------------
signed int __cdecl sub_10042390(unsigned int a1, int *a2, int a3, char a4)
{
  signed int result; // eax@1
  int v5; // edx@3
  char v6; // [sp+8h] [bp-14Ch]@1
  char v7; // [sp+30h] [bp-124h]@1
  int v8; // [sp+40h] [bp-114h]@3
  int v9; // [sp+44h] [bp-110h]@3
  char v10; // [sp+48h] [bp-10Ch]@3
  char *v11; // [sp+4Ch] [bp-108h]@3
  char v12; // [sp+50h] [bp-104h]@2

  memset(&v6, 0, 0x48u);
  result = sub_10041CE0(a1, &v7, &v6);
  if ( !result )
  {
    result = sub_10042290(a1, &v6, (int)&v12, 256);
    if ( !result )
    {
      v5 = *a2;
      v9 = a3;
      v8 = v5;
      v10 = a4;
      v11 = &v12;
      result = sub_10041D40(a1, (int)&v6, (int)a2);
    }
  }
  return result;
}

//----- (10042440) --------------------------------------------------------
bool __cdecl sub_10042440(signed int a1, signed int a2, _BYTE *a3)
{
  bool result; // al@2
  signed int v4; // ebx@3
  signed int v5; // edi@3
  signed int i; // esi@5

  if ( a3 )
  {
    v4 = a1;
    v5 = 0;
    if ( a1 < 0 )
    {
      v4 = -a1;
      *a3 = 45;
      v5 = 1;
    }
    for ( i = a2; i > v5; v4 /= 10 )
      a3[--i] = v4 % 10 + 48;
    result = v4 == 0;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (100424B0) --------------------------------------------------------
char __cdecl sub_100424B0(int a1, int a2, int *a3)
{
  int v3; // edx@4
  int v4; // esi@4
  char result; // al@4
  unsigned __int8 v6; // cl@6

  if ( a1 && a2 > 0 && a3 )
  {
    v3 = 0;
    v4 = 0;
    result = 1;
    if ( a2 <= 0 )
    {
LABEL_18:
      *a3 = v3;
    }
    else
    {
      while ( result )
      {
        v6 = *(_BYTE *)(v4 + a1);
        if ( v6 < 0x30u || v6 > 0x39u )
        {
          if ( v6 < 0x41u || v6 > 0x46u )
          {
            if ( v6 < 0x61u || v6 > 0x66u )
              result = 0;
            else
              v3 = 16 * v3 + v6 - 87;
          }
          else
          {
            v3 = 16 * v3 + v6 - 55;
          }
        }
        else
        {
          v3 = 16 * v3 + v6 - 48;
        }
        if ( ++v4 >= a2 )
        {
          if ( !result )
            return result;
          goto LABEL_18;
        }
      }
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10042540) --------------------------------------------------------
void __cdecl sub_10042540(const char *a1, char a2, char a3)
{
  unsigned int v3; // esi@4
  unsigned int v4; // ecx@4

  if ( a1 )
  {
    if ( a2 )
    {
      if ( a3 )
      {
        v3 = strlen(a1);
        v4 = 0;
        if ( v3 )
        {
          do
          {
            if ( a1[v4] == a2 )
              a1[v4] = a3;
            ++v4;
          }
          while ( v4 < v3 );
        }
      }
    }
  }
}

//----- (10042590) --------------------------------------------------------
int __cdecl sub_10042590(int a1, _BYTE *a2, int a3)
{
  int v3; // esi@2
  int v4; // eax@2
  _BYTE *v5; // ecx@3
  int result; // eax@7

  if ( a3 <= 0 )
    goto LABEL_11;
  v3 = a3 - 1;
  v4 = 0;
  if ( a3 - 1 > 0 )
  {
    v5 = a2;
    do
    {
      if ( !*v5 )
        break;
      v5[a1 - (_DWORD)a2] = *v5;
      ++v4;
      ++v5;
    }
    while ( v4 < v3 );
  }
  *(_BYTE *)(v4 + a1) = 0;
  *(_BYTE *)(v3 + a1) = 0;
  if ( a2[v4] )
LABEL_11:
    result = -1;
  else
    result = v4 + 1;
  return result;
}

//----- (100425E0) --------------------------------------------------------
signed int __cdecl sub_100425E0(_BYTE *a1, _BYTE *a2, int a3)
{
  int v3; // ebp@1
  _BYTE *v4; // ebx@2
  _BYTE *v5; // edi@2
  int v6; // esi@3
  int v7; // eax@3
  signed int result; // eax@7

  v3 = a3;
  if ( a3 <= 0 )
  {
LABEL_7:
    result = -2;
  }
  else
  {
    v4 = a2;
    v5 = a1;
    while ( 1 )
    {
      v6 = tolower(*v5++);
      v7 = tolower(*v4++);
      if ( v6 > v7 )
        return 1;
      if ( v6 < v7 )
        return -1;
      if ( !v6 )
        break;
      if ( --v3 <= 0 )
        goto LABEL_7;
    }
    result = 0;
  }
  return result;
}

//----- (10042650) --------------------------------------------------------
int __cdecl sub_10042650(void *a1, size_t a2)
{
  _BYTE *v2; // eax@1
  int result; // eax@2

  v2 = memchr(a1, 0, a2);
  if ( v2 )
    result = v2 - (_BYTE *)a1;
  else
    result = -2;
  return result;
}

//----- (10042680) --------------------------------------------------------
int __cdecl sub_10042680(int a1, char *a2, int a3)
{
  int v3; // eax@3
  int i; // esi@5
  int v5; // esi@8
  int result; // eax@8

  if ( a1 && a2 )
  {
    v3 = a3;
    if ( !a3 )
      v3 = strlen((const char *)a1);
    for ( i = v3 - 1; i >= 0; --i )
    {
      if ( !strchr(a2, *(_BYTE *)(i + a1)) )
        break;
    }
    v5 = i + 1;
    *(_BYTE *)(v5 + a1) = 0;
    result = v5;
  }
  else
  {
    result = a3;
  }
  return result;
}

//----- (100426E0) --------------------------------------------------------
int __cdecl sub_100426E0(char *a1, size_t a2, char *a3, va_list a4)
{
  int result; // eax@2

  if ( (signed int)a2 > 0 )
  {
    result = _vsnprintf(a1, a2, a3, a4);
    if ( result < 0 )
      result = -1;
    a1[a2 - 1] = 0;
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (10042720) --------------------------------------------------------
int sub_10042720(char *a1, size_t a2, char *a3, ...)
{
  int result; // eax@1
  va_list va; // [sp+10h] [bp+10h]@1

  va_start(va, a3);
  result = sub_100426E0(a1, a2, a3, va);
  if ( result < 0 )
    result = -1;
  return result;
}

//----- (10042750) --------------------------------------------------------
int __cdecl sub_10042750(const char *a1, _BYTE *a2, int a3)
{
  unsigned int v3; // kr00_4@1

  v3 = strlen(a1);
  return sub_10042590((int)&a1[v3], a2, a3 - v3);
}

//----- (10042790) --------------------------------------------------------
int __cdecl sub_10042790(int a1, int a2)
{
  return sub_10042680(a1, "_ ", a2);
}

//----- (100427B0) --------------------------------------------------------
char *__cdecl sub_100427B0(int a1, char *a2, int a3, char *a4, int a5)
{
  char *v5; // edi@1
  char *result; // eax@4
  char v7[4]; // [sp+Ch] [bp-2Ch]@1
  int v8; // [sp+10h] [bp-28h]@1
  int v9; // [sp+14h] [bp-24h]@1
  int v10; // [sp+18h] [bp-20h]@1
  int v11; // [sp+1Ch] [bp-1Ch]@1
  int v12; // [sp+20h] [bp-18h]@1
  int v13; // [sp+24h] [bp-14h]@1
  int v14; // [sp+28h] [bp-10h]@1
  int v15; // [sp+2Ch] [bp-Ch]@1
  int v16; // [sp+30h] [bp-8h]@1

  v5 = a2;
  *(_DWORD *)v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  v15 = 0;
  v16 = 0;
  *(_DWORD *)(a5 + 16) = sub_10055030();
  *(_DWORD *)(a5 + 596) = sub_100550B0();
  sub_100550D0((int)v7, 1, *(_DWORD *)(a5 + 16), 40);
  *(_WORD *)(a5 + 594) = 0x7FFF;
  sub_10042590(a5 + 585, "14.01", 8);
  *(_DWORD *)a5 = a1;
  sub_10042DF0((char *)(a5 + 4));
  *(_DWORD *)(a5 + 460) = a3;
  if ( strrchr(a2, 92) )
    v5 = strrchr(a2, 92) + 1;
  strncpy((char *)(a5 + 464), v5, 0x14u);
  *(_BYTE *)(a5 + 484) = 0;
  if ( a4 )
  {
    result = strncpy((char *)(a5 + 485), a4, 0x63u);
    *(_BYTE *)(a5 + 584) = 0;
  }
  else
  {
    result = strncpy((char *)(a5 + 485), v7, 0x64u);
  }
  return result;
}

//----- (100428E0) --------------------------------------------------------
char sub_100428E0()
{
  char result; // al@1

  result = 0;
  byte_10DDC268 = 0;
  byte_10DDC269 = 0;
  return result;
}
// 10DDC268: using guessed type char byte_10DDC268;
// 10DDC269: using guessed type char byte_10DDC269;

//----- (100428F0) --------------------------------------------------------
char __cdecl sub_100428F0(char *a1, int a2, char a3, char *a4, int a5)
{
  char result; // al@7
  char v6; // [sp+Bh] [bp-2Dh]@4
  int v7; // [sp+Ch] [bp-2Ch]@1
  int v8; // [sp+10h] [bp-28h]@1
  int v9; // [sp+14h] [bp-24h]@1
  int v10; // [sp+18h] [bp-20h]@1
  int v11; // [sp+1Ch] [bp-1Ch]@1
  int v12; // [sp+20h] [bp-18h]@1
  int v13; // [sp+24h] [bp-14h]@1
  int v14; // [sp+28h] [bp-10h]@1
  int v15; // [sp+2Ch] [bp-Ch]@1
  int v16; // [sp+30h] [bp-8h]@1

  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  v15 = 0;
  v16 = 0;
  if ( a3 & 3 )
    sub_100427B0(-5, a1, a2, a4, a5);
  else
    sub_100427B0(-44, a1, a2, a4, a5);
  v6 = a3 & 8;
  if ( a3 & 8 )
    sub_10042750((const char *)(a5 + 485), " DBGA", 100);
  sub_100550D0((int)&v7, 0, 0, 40);
  if ( a3 & 3 )
  {
    result = a3 & 8;
    if ( v6 )
    {
      if ( byte_10DDC268 )
        return result;
      if ( v6 )
        goto LABEL_15;
    }
    if ( !byte_10DDC269 )
LABEL_15:
      result = sub_10055160(36, 1, *(_DWORD *)a5, a5);
  }
  else
  {
    result = j_HWM_pvg_log_err(a5);
  }
  return result;
}
// 10055440: using guessed type int __cdecl j_HWM_pvg_log_err(_DWORD);
// 10DDC268: using guessed type char byte_10DDC268;
// 10DDC269: using guessed type char byte_10DDC269;

//----- (100429F0) --------------------------------------------------------
char __cdecl sub_100429F0(char *a1, int a2, char a3, char *a4)
{
  int v5; // [sp+8h] [bp-284h]@1

  memset(&v5, 0, 0x280u);
  return sub_100428F0(a1, a2, a3, a4, (int)&v5);
}

//----- (10042A60) --------------------------------------------------------
int __cdecl sub_10042A60(int a1, unsigned int a2)
{
  unsigned int v2; // ecx@1
  int result; // eax@1
  unsigned int v4; // edx@1
  char v5; // bl@8
  char v6; // dl@13
  char v7; // cl@13

  v2 = a2 / 0x15180 % 0x5B5;
  result = a1;
  v4 = 4 * (a2 / 0x15180 / 0x5B5) + 1990;
  *(_WORD *)(a1 + 2) = v4;
  if ( v2 > 0x16D )
  {
    do
    {
      v2 -= 365;
      if ( !((unsigned __int16)v4 % 4) )
        --v2;
      LOWORD(v4) = v4 + 1;
    }
    while ( v2 > 0x16D );
    *(_WORD *)(a1 + 2) = v4;
  }
  if ( v2 >= 1 )
  {
    v5 = 0;
    if ( v2 > 0x3B && !(*(_WORD *)(a1 + 2) % 4) )
    {
      --v2;
      v5 = 1;
    }
    *(_BYTE *)a1 = 12;
    if ( v2 <= 0x14E )
    {
      do
        --*(_BYTE *)a1;
      while ( v2 <= *(_WORD *)&word_10094876[2 * *(_BYTE *)a1] );
    }
    v6 = *(_BYTE *)a1;
    v7 = v2 - word_10094876[2 * *(_BYTE *)a1];
    *(_BYTE *)(a1 + 1) = v7;
    if ( v5 == 1 && v6 == 2 )
      *(_BYTE *)(a1 + 1) = v7 + 1;
  }
  else
  {
    --*(_WORD *)(a1 + 2);
    *(_BYTE *)a1 = 12;
    *(_BYTE *)(a1 + 1) = 31;
  }
  return result;
}

//----- (10042B50) --------------------------------------------------------
int __cdecl sub_10042B50(int *a1, unsigned int a2)
{
  int result; // eax@1
  int v3; // eax@9
  int v4; // ecx@9
  signed int v5; // eax@9
  int i; // ecx@9
  int v7; // ecx@13

  result = a2 >> 16;
  if ( HIWORD(a2) > 0x7C5u )
  {
    if ( HIWORD(a2) > 0x84Eu
      || HIWORD(a2) == 2126 && (unsigned __int8)a2 > 2u
      || HIWORD(a2) == 2126 && (_BYTE)a2 == 2 && BYTE1(a2) > 5u )
    {
      *a1 = -23296;
    }
    else
    {
      v3 = (HIWORD(a2) - 1990) / 4;
      v4 = v3;
      v5 = 4 * v3 + 1990;
      for ( i = 1461 * v4; v5 < HIWORD(a2); ++v5 )
      {
        i += 365;
        if ( !(v5 % 4) )
          ++i;
      }
      v7 = *(_WORD *)&word_10094876[2 * (unsigned __int8)a2] + i;
      if ( (unsigned __int8)a2 > 2u && !(HIWORD(a2) % 4) )
        ++v7;
      result = 86400 * (v7 + BYTE1(a2));
      *a1 = result;
    }
  }
  else
  {
    result = (int)a1;
    *a1 = 0;
  }
  return result;
}

//----- (10042C40) --------------------------------------------------------
__int16 __cdecl sub_10042C40(int a1, unsigned int a2)
{
  unsigned int v2; // ecx@1
  __int16 result; // ax@1

  v2 = a2 % 0x15180 % 0xE10;
  *(_WORD *)a1 = a2 % 0x15180 / 0xE10;
  *(_BYTE *)(a1 + 2) = v2 / 0x3C;
  result = 60 * (char)(v2 / 0x3C);
  *(_BYTE *)(a1 + 3) = v2 % 0x3C;
  return result;
}

//----- (10042C90) --------------------------------------------------------
int __cdecl sub_10042C90(int *a1, unsigned int a2)
{
  int result; // eax@1

  result = (a2 >> 24) + 60 * ((unsigned __int8)(a2 >> 16) + 60 * (unsigned __int16)a2);
  *a1 = result;
  return result;
}

//----- (10042CC0) --------------------------------------------------------
__int16 __cdecl sub_10042CC0(unsigned int *a1, _WORD *a2, _WORD *a3)
{
  unsigned int v3; // esi@1
  __int16 result; // ax@1
  int v5; // [sp+4h] [bp-Ch]@1
  int v6; // [sp+8h] [bp-8h]@1

  v3 = *a1;
  sub_10042C40((int)&v5, *a1);
  sub_10042A60((int)&v6, v3);
  *a3 = (unsigned __int8)(BYTE3(v5) >> 1) | (unsigned __int16)(32 * (BYTE2(v5) | (unsigned __int16)((_WORD)v5 << 6)));
  result = BYTE1(v6);
  *a2 = BYTE1(v6) | (unsigned __int16)(32 * ((unsigned __int8)v6 | (unsigned __int16)(16 * (HIWORD(v6) - 60))));
  return result;
}

//----- (10042D40) --------------------------------------------------------
_DWORD *__cdecl sub_10042D40(unsigned int a1, unsigned int a2, _DWORD *a3)
{
  unsigned int v3; // ecx@0
  unsigned int v4; // ecx@1
  _DWORD *result; // eax@1
  bool v6; // zf@2
  unsigned int v7; // [sp+0h] [bp-4h]@1

  v7 = v3;
  v4 = a2;
  result = (_DWORD *)a1;
  if ( (_WORD)a2 )
    v6 = (_WORD)a2 == -1;
  else
    v6 = (_WORD)a1 == 0;
  if ( v6 || (_WORD)a1 == -1 )
  {
    *a3 = -1;
  }
  else
  {
    BYTE3(a2) = 2 * (a2 & 0x1F);
    BYTE2(a2) = (v4 >> 5) & 0x3F;
    LOWORD(a2) = (unsigned __int16)v4 >> 11;
    HIWORD(v7) = ((unsigned __int16)a1 >> 9) + 1980;
    BYTE1(v7) = a1 & 0x1F;
    LOBYTE(v7) = (a1 >> 5) & 0xF;
    sub_10042C90((int *)&a2, a2);
    sub_10042B50((int *)&v7, v7);
    result = a3;
    *a3 = a2 + v7;
  }
  return result;
}

//----- (10042DF0) --------------------------------------------------------
char __cdecl sub_10042DF0(char *a1)
{
  int v1; // ecx@0
  int v3; // [sp-2h] [bp-4h]@1

  v3 = v1;
  sub_10042F20(13, (char *)&v3 + 3);
  sub_10042F20(12, a1);
  return BYTE3(v3);
}

//----- (10042E20) --------------------------------------------------------
char __cdecl sub_10042E20(int a1)
{
  void *v1; // ecx@1
  char v2; // bl@1
  unsigned int v4; // [sp+4h] [bp-4h]@1

  v2 = sub_10042DF0((char *)&v4);
  if ( v2 )
  {
    if ( sub_10042EA0(v1) == 1 )
      sub_10048580((int *)&v4, v4);
    sub_10042A60(a1, v4);
  }
  return v2;
}

//----- (10042E70) --------------------------------------------------------
char sub_10042E70()
{
  void *v0; // ecx@1
  void *v1; // ecx@1
  void *v2; // ecx@1
  void *v3; // ecx@1
  void *v4; // ecx@1
  char result; // al@1

  j_FIL_vfs_dyn_linker();
  nullsub_2();
  sub_10049E90();
  sub_10048010(v0);
  sub_100491E0(v1);
  sub_100485A0(v2);
  sub_10045D70();
  sub_1000E960(v3);
  dword_10DF6364 = sub_10045A80(v4);
  sub_10055FE0(6465, (int)&dword_10DF6348, 28);
  result = sub_10052810();
  if ( !result )
  {
    result = dword_10DF6364;
    dword_10DF6348 = dword_10DF6364;
    dword_10DF634C = dword_10DF6364;
    dword_10DF6350 = dword_10DF6364;
    dword_10DF6354 = dword_10DF6364;
    dword_10DF6358 = dword_10DF6364;
    dword_10DF635C = dword_10DF6364;
    dword_10DF6360 = dword_10DF6364;
  }
  return result;
}
// 10055AF0: using guessed type int j_FIL_vfs_dyn_linker(void);
// 10055F70: using guessed type int nullsub_2(void);
// 10DF6348: using guessed type int dword_10DF6348;
// 10DF634C: using guessed type int dword_10DF634C;
// 10DF6350: using guessed type int dword_10DF6350;
// 10DF6354: using guessed type int dword_10DF6354;
// 10DF6358: using guessed type int dword_10DF6358;
// 10DF635C: using guessed type int dword_10DF635C;
// 10DF6360: using guessed type int dword_10DF6360;
// 10DF6364: using guessed type int dword_10DF6364;

//----- (10042EA0) --------------------------------------------------------
char __thiscall sub_10042EA0(void *this)
{
  void *v2; // [sp-2h] [bp-4h]@1

  v2 = this;
  BYTE2(v2) = 1;
  sub_10056030(3008, (char *)&v2 + 3, 1, (char *)&v2 + 2);
  return BYTE3(v2);
}

//----- (10042ED0) --------------------------------------------------------
int sub_10042ED0()
{
  int v1; // [sp+0h] [bp-8h]@1
  int v2; // [sp+4h] [bp-4h]@1

  v1 = 0;
  sub_10056030(3012, &v2, 4, &v1);
  return v2;
}

//----- (10042F00) --------------------------------------------------------
char __cdecl sub_10042F00(int a1)
{
  char v1; // bl@1

  SYS_enter_krnl();
  v1 = SYS_pvg_is_booting(a1);
  SYS_exit_krnl();
  return v1;
}
// 100712FA: using guessed type int SYS_exit_krnl(void);
// 10071300: using guessed type int __cdecl SYS_pvg_is_booting(_DWORD);
// 10071306: using guessed type int SYS_enter_krnl(void);

//----- (10042F20) --------------------------------------------------------
int __cdecl sub_10042F20(int a1, char *a2)
{
  if ( (unsigned __int8)a1 >= 0x5Fu )
    sub_100429F0("..\\lib\\adl\\sys_usr.c", 5389, 1, 0);
  if ( !a2 )
    sub_100429F0("..\\lib\\adl\\sys_usr.c", 5390, 1, 0);
  SYS_enter_krnl();
  SYS_pvg_var_ctrl(a1, a2);
  return SYS_exit_krnl();
}
// 100712FA: using guessed type int SYS_exit_krnl(void);
// 10071306: using guessed type int SYS_enter_krnl(void);
// 1007130C: using guessed type int __cdecl SYS_pvg_var_ctrl(_DWORD, _DWORD);

//----- (10042F80) --------------------------------------------------------
char __thiscall sub_10042F80(void *this)
{
  void *v2; // [sp-2h] [bp-4h]@1

  v2 = this;
  sub_10042F20(17, (char *)&v2 + 3);
  return BYTE3(v2);
}

//----- (10042FA0) --------------------------------------------------------
char __thiscall sub_10042FA0(void *this)
{
  void *v2; // [sp-2h] [bp-4h]@1

  v2 = this;
  sub_10042F20(34, (char *)&v2 + 3);
  return BYTE3(v2);
}

//----- (10042FC0) --------------------------------------------------------
char __thiscall sub_10042FC0(void *this)
{
  void *v2; // [sp-2h] [bp-4h]@1

  v2 = this;
  sub_10042F20(44, (char *)&v2 + 3);
  return BYTE3(v2);
}

//----- (10042FE0) --------------------------------------------------------
unsigned int __cdecl sub_10042FE0(unsigned int a1)
{
  unsigned int result; // eax@4

  if ( a1 < 0xFFFFFFC2 && a1 && (a1 & 3) == 1 )
    result = a1 & 0xFFFFFFFC;
  else
    result = 0;
  return result;
}

//----- (10043000) --------------------------------------------------------
int __cdecl sub_10043000(int a1)
{
  return a1 | 1;
}

//----- (10043010) --------------------------------------------------------
bool __cdecl sub_10043010(int a1)
{
  bool result; // al@1
  unsigned int v2; // eax@4
  _DWORD *v3; // edx@4
  _DWORD *v4; // esi@4
  int v5; // ecx@8
  int v6; // eax@9
  _BYTE *v7; // edx@9
  _BYTE *v8; // esi@9
  int v9; // eax@11
  _BYTE *v10; // edx@11
  _BYTE *v11; // esi@11
  _BYTE *v12; // edx@13
  _BYTE *v13; // esi@13
  int v14; // edx@14
  signed int v15; // eax@15

  result = *(_DWORD *)(a1 + 88) == ~*(_DWORD *)(a1 + 36);
  if ( *(_WORD *)(a1 + 30) != 99 || !result && *(_WORD *)(a1 + 684) != 2 )
    return result;
  v2 = 10;
  v3 = (_DWORD *)(a1 + 693);
  v4 = (_DWORD *)(a1 + 721);
  do
  {
    if ( *v4 != *v3 )
      goto LABEL_8;
    v2 -= 4;
    ++v3;
    ++v4;
  }
  while ( v2 >= 4 );
  if ( !v2 )
  {
LABEL_17:
    v15 = 0;
    return v15 == 0;
  }
LABEL_8:
  v5 = *(_BYTE *)v4 - *(_BYTE *)v3;
  if ( *(_BYTE *)v4 == *(_BYTE *)v3 )
  {
    v6 = v2 - 1;
    v7 = (char *)v3 + 1;
    v8 = (char *)v4 + 1;
    if ( !v6 )
      goto LABEL_17;
    v5 = *v8 - *v7;
    if ( *v8 == *v7 )
    {
      v9 = v6 - 1;
      v10 = v7 + 1;
      v11 = v8 + 1;
      if ( !v9 )
        goto LABEL_17;
      v5 = *v11 - *v10;
      if ( *v11 == *v10 )
      {
        v12 = v10 + 1;
        v13 = v11 + 1;
        if ( v9 == 1 )
          goto LABEL_17;
        v14 = *v12;
        v5 = *v13 - v14;
        if ( *v13 == v14 )
          goto LABEL_17;
      }
    }
  }
  v15 = 1;
  if ( v5 <= 0 )
    return 0;
  return v15 == 0;
}

//----- (100430E0) --------------------------------------------------------
int __cdecl sub_100430E0(int a1)
{
  return *(_WORD *)(a1 + 30) + *(_WORD *)(a1 + 32) + *(_WORD *)(a1 + 28) + 46;
}

//----- (10043100) --------------------------------------------------------
int __cdecl sub_10043100(int a1, int a2)
{
  int result; // eax@2

  if ( a2 )
    result = *(_WORD *)(a2 + 28) + *(_WORD *)(a2 + 26) + 30;
  else
    result = -16 - *(_WORD *)(a1 + 52) + sub_100430E0(a1 + 20);
  return result;
}

//----- (10043140) --------------------------------------------------------
bool __cdecl sub_10043140(int a1)
{
  unsigned int v1; // esi@2
  unsigned int v2; // ecx@5
  bool result; // al@11

  result = a1
        && (v1 = *(_DWORD *)(a1 + 116), v1 < 0xFFFFFFC2)
        && v1
        && *(_DWORD *)a1 != -1
        && ((v2 = *(_DWORD *)(a1 + 120), *(_DWORD *)a1 + 22 <= v2)
         && *(_DWORD *)(a1 + 24) + *(_DWORD *)(a1 + 20) + 22 <= v2
         || !v2
         || *(_DWORD *)(a1 + 4) != v1)
        && *(_DWORD *)(a1 + 8) == 101010256
        && *(_WORD *)(a1 + 14) == *(_WORD *)(a1 + 12);
  return result;
}

//----- (100431A0) --------------------------------------------------------
signed int __cdecl sub_100431A0(int a1, void *a2, unsigned __int16 a3, __int16 a4)
{
  int v4; // edi@1
  int v5; // ebx@1
  int v6; // esi@1
  signed int result; // eax@1
  int v8; // ebp@1

  v4 = a1;
  v5 = *(_DWORD *)(a1 + 732);
  v6 = 0;
  result = -15;
  v8 = *(_WORD *)(a1 + 48) + *(_DWORD *)(a1 + 16) + 46;
  if ( *(_WORD *)(a1 + 50) >= 4u )
  {
    while ( (unsigned int)(v6 + v8) < *(_DWORD *)(v5 + 120) )
    {
      if ( sub_10055BB0(*(_DWORD *)(v5 + 4), &a1, 4, v6 + v8, 0) != 4 )
        return -15;
      if ( (_WORD)a1 == a4 && (unsigned int)HIWORD(a1) + 4 <= a3 )
        return sub_10055BB0(*(_DWORD *)(v5 + 4), a2, HIWORD(a1) + 4, v6 + v8, 0);
      v6 += HIWORD(a1) + 4;
      result = -15;
      if ( v6 + 4 > (unsigned int)*(_WORD *)(v4 + 50) )
        return result;
    }
  }
  return result;
}

//----- (10043260) --------------------------------------------------------
signed int __cdecl sub_10043260(int a1, int a2, int a3)
{
  int v3; // esi@3
  signed int result; // eax@9

  if ( sub_10055BB0(*(_DWORD *)(a1 + 116), (void *)a3, 30, *(_DWORD *)(a2 + 42), 0) != 30 )
    goto LABEL_13;
  if ( *(_BYTE *)(a2 + 8) & 8 )
  {
    v3 = *(_DWORD *)(a2 + 42) + *(_DWORD *)(a2 + 20) + sub_10043100(0, a3);
    sub_10055BB0(*(_DWORD *)(a1 + 116), (void *)(a3 + 14), 12, v3, 0);
    if ( *(_DWORD *)(a3 + 14) != *(_DWORD *)(a2 + 16) )
      sub_10055BB0(*(_DWORD *)(a1 + 116), (void *)(a3 + 14), 12, v3 + 4, 0);
  }
  if ( *(_DWORD *)a3 != 67324752
    || *(_DWORD *)(a3 + 18) != *(_DWORD *)(a2 + 20)
    || *(_DWORD *)(a3 + 14) != *(_DWORD *)(a2 + 16)
    || *(_WORD *)(a3 + 26) != *(_WORD *)(a2 + 28) )
  {
LABEL_13:
    result = -15;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10043310) --------------------------------------------------------
int __cdecl sub_10043310(int a1)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)(a1 + 4) = 0;
  *(_DWORD *)(a1 + 16) = 0;
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(a1 + 12) = 0;
  return result;
}

//----- (10043330) --------------------------------------------------------
signed int __cdecl sub_10043330(_BYTE *a1, _BYTE *a2, int a3)
{
  int v3; // ebp@1
  _BYTE *v4; // edi@2
  _BYTE *v5; // ebx@2
  int v6; // esi@3
  signed int result; // eax@5
  int v8; // [sp+1Ch] [bp+Ch]@3

  v3 = a3;
  if ( a3 )
  {
    v4 = a2;
    v5 = a1;
    while ( 1 )
    {
      v6 = *v5;
      --v3;
      v8 = tolower(*v4++);
      ++v5;
      if ( tolower(v6) != v8 )
        break;
      if ( !v3 )
        goto LABEL_5;
    }
    result = 1;
  }
  else
  {
LABEL_5:
    result = 0;
  }
  return result;
}

//----- (10043390) --------------------------------------------------------
int __usercall sub_10043390@<eax>(int a1@<esi>, int a2, char a3)
{
  int v3; // ebp@1
  int v4; // edi@2
  int v5; // ebx@2
  int v6; // ebp@5
  int v7; // eax@5
  int v8; // ST04_4@5
  int v10; // [sp+Ch] [bp-4h]@4
  int v11; // [sp+18h] [bp+8h]@4

  v3 = a2;
  if ( a3 )
  {
    v4 = a2;
    v3 = *(_DWORD *)(a1 + 116);
    v5 = 0;
  }
  else
  {
    v4 = *(_DWORD *)(a1 + 116);
    v5 = *(_DWORD *)(a1 + 120);
  }
  v11 = *(_DWORD *)(a1 + 24);
  sub_10055C90(v3);
  v10 = sub_10055B00(v4, v5, v3, v11, *(_DWORD *)(a1 + 20));
  if ( !v10 )
  {
    *(_DWORD *)(a1 + 24) = v5;
    *(_DWORD *)(a1 + 4) = v4;
    *(_DWORD *)(a1 + 120) = v11;
    v6 = sub_10055CB0(v3, v11, 0);
    v7 = *(_DWORD *)(a1 + 24);
    v8 = v5 + *(_DWORD *)(a1 + 20);
    *(_DWORD *)(a1 + 32) = 0;
    *(_DWORD *)(a1 + 36) = v7;
    v10 = sub_10055CB0(v4, v8, 0) | v6;
  }
  *(_DWORD *)(a1 + 120) = sub_10055C90(*(_DWORD *)(a1 + 116));
  return v10;
}

//----- (100434A0) --------------------------------------------------------
int __usercall sub_100434A0@<eax>(int a1@<eax>, int a2@<esi>)
{
  int v2; // eax@2
  int result; // eax@2
  int v4; // eax@3
  __int16 v5; // cx@3
  int v6; // edx@3

  sub_1004E4C0(a2 + 721, a1 + 64);
  if ( *(_DWORD *)(a2 + 44) )
  {
    v4 = *(_DWORD *)(a2 + 725);
    v5 = *(_WORD *)(a2 + 729);
    *(_DWORD *)(a2 + 693) = *(_DWORD *)(a2 + 721);
    v6 = *(_DWORD *)(a2 + 732);
    *(_DWORD *)(a2 + 697) = v4;
    *(_WORD *)(a2 + 701) = v5;
    result = j_FIL_vfs_write(*(_DWORD *)(v6 + 116), a2 + 721, 10);
    *(_DWORD *)(a2 + 136) += 10;
    *(_DWORD *)(a2 + 40) += 10;
  }
  else
  {
    v2 = sub_10055C90(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116));
    result = sub_10055CB0(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), v2 - *(_WORD *)(a2 + 50) - *(_DWORD *)(a2 + 40), 0);
    *(_DWORD *)(a2 + 84) -= *(_WORD *)(a2 + 50);
    *(_DWORD *)(a2 + 136) = 0;
    *(_WORD *)(a2 + 28) &= 0xFFFEu;
    *(_DWORD *)(a2 + 40) = 0;
    *(_WORD *)(a2 + 50) = 0;
    *(_WORD *)(a2 + 30) = 0;
    *(_WORD *)(a2 + 80) = 0;
  }
  return result;
}
// 10055CD0: using guessed type int __cdecl j_FIL_vfs_write(_DWORD, _DWORD, _DWORD);

//----- (10043550) --------------------------------------------------------
signed int __usercall sub_10043550@<eax>(int a1@<eax>, int a2@<esi>)
{
  int v2; // edi@1
  char v3; // ST30_1@2
  int v4; // ST28_4@2
  int v5; // eax@2
  __int64 v6; // rax@2
  int v7; // ebx@2
  char *v8; // ebp@2
  __int64 v9; // rax@3
  signed int result; // eax@4
  _WORD *v11; // edi@5
  _WORD *v12; // [sp+Ch] [bp-4h]@4

  v2 = a1;
  if ( *(_BYTE *)(a2 + 8) )
  {
    *(_WORD *)(a1 + 532) = -26367;
    *(_WORD *)(a1 + 534) = 7;
    *(_WORD *)(a1 + 536) = 1;
    *(_BYTE *)(a1 + 538) = 65;
    *(_BYTE *)(a1 + 539) = 69;
    v3 = *(_DWORD *)(a2 + 84);
    *(_DWORD *)(a2 + 76) = a1 + 532;
    v4 = a1 + 532;
    v5 = *(_DWORD *)(a2 + 732);
    *(_WORD *)(a2 + 50) = 11;
    *(_WORD *)(a2 + 80) = 11;
    sub_10055CE0(*(_DWORD *)(v5 + 116), v4, 11, v3);
    *(_DWORD *)(a2 + 84) += *(_WORD *)(a2 + 80);
    *(_BYTE *)(v2 + 540) = *(_BYTE *)(*(_DWORD *)(a2 + 732) + 112);
    v6 = ((*(_BYTE *)(a2 + 688) & 3) + 1) << 6;
    v7 = (((BYTE4(v6) & 7) + (signed int)v6) >> 3) / 2;
    v8 = (char *)(v2 + 555);
    sub_1004E910((void *)(v2 + 555), v7);
  }
  else
  {
    sub_100431A0(a2, (void *)(a1 + 532), 0xBu, -26367);
    v9 = ((*(_BYTE *)(a2 + 688) & 3) + 1) << 6;
    v7 = (((BYTE4(v9) & 7) + (signed int)v9) >> 3) / 2;
    v8 = (char *)(v2 + 555);
    sub_10055BB0(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), (void *)(v2 + 555), v7, *(_DWORD *)(a2 + 84), 0);
    sub_10055BB0(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), (void *)(v2 + 571), 2, v7 + *(_DWORD *)(a2 + 84), 0);
  }
  v12 = (_WORD *)(v2 + 543);
  result = sub_1004E7E0(*(_BYTE *)(v2 + 540), (void *)v2, strlen((const char *)v2), v8, (_WORD *)(v2 + 543), v2 + 64);
  if ( *(_BYTE *)(a2 + 8) )
  {
    sub_10055CE0(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), (int)v8, v7, *(_DWORD *)(a2 + 84));
    v11 = (_WORD *)(v2 + 571);
    *v11 = *v12;
    sub_10055CE0(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), (int)v11, 2, v7 + *(_DWORD *)(a2 + 84));
    result = v7 + 2;
    *(_DWORD *)(a2 + 136) += v7 + 2;
    *(_DWORD *)(a2 + 40) += v7 + 2;
  }
  else
  {
    *(_DWORD *)(a2 + 92) += -12 - v7;
    *(_DWORD *)(a2 + 124) += v7 + 2;
  }
  return result;
}

//----- (10043720) --------------------------------------------------------
char __usercall sub_10043720@<al>(int a1@<eax>, char *a2@<edx>, unsigned int a3@<ecx>)
{
  return sub_1004E470(a2, a3, a1 + 212);
}

//----- (10043730) --------------------------------------------------------
int __usercall sub_10043730@<eax>(int result@<eax>)
{
  if ( *(_WORD *)(result + 30) == 99 )
    result = sub_100434A0(result + 148, result);
  return result;
}

//----- (10043750) --------------------------------------------------------
char __usercall sub_10043750@<al>(int a1@<eax>)
{
  int v1; // eax@1

  v1 = (*(_DWORD *)(a1 + 72) & 0xFFFD | 2) * ((*(_DWORD *)(a1 + 72) & 0xFFFD | 2) ^ 1);
  return BYTE1(v1);
}

//----- (10043770) --------------------------------------------------------
int __usercall sub_10043770@<eax>(int a1@<esi>, unsigned __int8 a2)
{
  int v2; // eax@1
  unsigned int v3; // edx@1
  int v4; // eax@1
  int result; // eax@1

  v2 = sub_10070300(a2, *(_DWORD *)(a1 + 64));
  v3 = *(_DWORD *)(a1 + 72);
  *(_DWORD *)(a1 + 64) = v2;
  v4 = 134775813 * (*(_DWORD *)(a1 + 68) + (unsigned __int8)v2) + 1;
  *(_DWORD *)(a1 + 68) = v4;
  result = sub_10070300(BYTE3(v4), v3);
  *(_DWORD *)(a1 + 72) = result;
  return result;
}

//----- (100437B0) --------------------------------------------------------
int __cdecl sub_100437B0(unsigned int a1)
{
  int i; // ebx@1
  int v2; // edi@1
  signed int v3; // eax@1
  signed int v4; // ebp@1
  int result; // eax@2
  int v6; // esi@7
  int v7; // ebx@9
  int v8; // eax@10
  unsigned int v9; // ecx@11
  int *v10; // edx@11
  char *v11; // esi@11
  int v12; // edi@15
  int v13; // ecx@16
  _BYTE *v14; // edx@16
  _BYTE *v15; // esi@16
  int v16; // ecx@18
  _BYTE *v17; // edx@18
  _BYTE *v18; // esi@18
  _BYTE *v19; // edx@20
  _BYTE *v20; // esi@20
  signed int v21; // ecx@22
  signed int v22; // [sp+Ch] [bp-9Ch]@1
  int v23; // [sp+10h] [bp-98h]@7
  signed int v24; // [sp+14h] [bp-94h]@1
  int v25; // [sp+18h] [bp-90h]@1
  int v26; // [sp+20h] [bp-88h]@1
  char v27[128]; // [sp+24h] [bp-84h]@9

  i = 65557;
  v2 = 0;
  v22 = 65557;
  v25 = 0;
  v26 = 101010256;
  v3 = sub_10055C90(a1);
  v4 = v3;
  v24 = v3;
  if ( v3 >= 0 )
  {
    if ( (unsigned int)v3 >= 0x10015 )
      goto LABEL_7;
    v22 = v3;
    if ( v3 > 0 )
    {
      for ( i = v3; ; i = v22 )
      {
LABEL_7:
        v6 = v2 + 128;
        v23 = v2 + 128;
        if ( v2 + 128 > i )
        {
          v6 = i;
          v23 = i;
        }
        v7 = v6 - v2;
        if ( sub_10055BB0(a1, v27, v6 - v2, v4 - v6, 0) != v6 - v2 )
          break;
        v8 = v7 - 4;
        if ( v7 - 4 >= 0 )
        {
          while ( 1 )
          {
            v9 = 4;
            v10 = &v26;
            v11 = &v27[v8];
            do
            {
              if ( *(_DWORD *)v11 != *v10 )
                goto LABEL_15;
              v9 -= 4;
              ++v10;
              v11 += 4;
            }
            while ( v9 >= 4 );
            if ( !v9 )
            {
LABEL_24:
              v21 = 0;
              goto LABEL_25;
            }
LABEL_15:
            v12 = (unsigned __int8)*v11 - *(_BYTE *)v10;
            if ( (unsigned __int8)*v11 == *(_BYTE *)v10 )
            {
              v13 = v9 - 1;
              v14 = (char *)v10 + 1;
              v15 = v11 + 1;
              if ( !v13 )
                goto LABEL_24;
              v12 = *v15 - *v14;
              if ( *v15 == *v14 )
              {
                v16 = v13 - 1;
                v17 = v14 + 1;
                v18 = v15 + 1;
                if ( !v16 )
                  goto LABEL_24;
                v12 = *v18 - *v17;
                if ( *v18 == *v17 )
                {
                  v19 = v17 + 1;
                  v20 = v18 + 1;
                  if ( v16 == 1 )
                    goto LABEL_24;
                  v12 = *v20 - *v19;
                  if ( *v20 == *v19 )
                    goto LABEL_24;
                }
              }
            }
            v21 = 1;
            if ( v12 <= 0 )
              v21 = -1;
LABEL_25:
            if ( !v21 )
              return v24 + v8 - v23;
            if ( --v8 < 0 )
            {
              v4 = v24;
              v2 = v25;
              v6 = v23;
              break;
            }
          }
        }
        v2 = v2 + v7 - 3;
        v25 = v2;
        if ( v6 >= v22 )
          break;
      }
    }
    result = -1;
  }
  else
  {
    result = -1;
  }
  return result;
}
// 100437B0: using guessed type char var_84[128];

//----- (10043960) --------------------------------------------------------
int __fastcall sub_10043960(int a1, int a2)
{
  int result; // eax@1

  result = *(_WORD *)(a2 + 30);
  if ( *(_WORD *)(a2 + 30) == 99 )
    result = *(_WORD *)(a2 + 689);
  return result;
}

//----- (10043980) --------------------------------------------------------
int __usercall sub_10043980@<eax>(int result@<eax>, int a2@<ecx>)
{
  *(_DWORD *)(a2 + 732) = result;
  ++*(_DWORD *)(result + 124);
  return result;
}

//----- (10043990) --------------------------------------------------------
int __usercall sub_10043990@<eax>(int a1@<esi>)
{
  int v1; // ST1C_4@1
  unsigned int v2; // ST18_4@1
  int v3; // eax@1
  int v4; // ST00_4@1

  v1 = *(_DWORD *)(a1 + 20) + *(_DWORD *)(a1 + 24);
  v2 = *(_DWORD *)(a1 + 4);
  *(_DWORD *)a1 = v1;
  sub_10055D60(v2, v1, 0);
  j_FIL_vfs_write(*(_DWORD *)(a1 + 4), a1 + 8, 22);
  v3 = *(_DWORD *)a1 + 22;
  v4 = *(_DWORD *)(a1 + 116);
  *(_DWORD *)(a1 + 120) = v3;
  return sub_10055CB0(v4, v3, 0);
}
// 10055CD0: using guessed type int __cdecl j_FIL_vfs_write(_DWORD, _DWORD, _DWORD);

//----- (100439D0) --------------------------------------------------------
signed int __usercall sub_100439D0@<eax>(int a1@<ecx>, int a2@<edi>, int a3, int a4, int a5, int a6)
{
  __int16 v6; // ax@1
  unsigned int *v7; // ecx@1
  int v8; // esi@1
  signed int v9; // eax@1
  unsigned int v10; // eax@1
  int v11; // ebx@1
  int v12; // ebx@1
  int v13; // eax@4
  int v14; // ecx@6
  int v15; // ebp@8
  unsigned int v16; // ebx@11
  __int64 v17; // rax@14
  unsigned int v18; // ecx@15
  unsigned int v19; // ebp@15
  int v21; // ebx@20
  signed int v22; // eax@23
  size_t v23; // ebp@29
  int v24; // ebx@33
  int v25; // [sp+Ch] [bp-8h]@1
  __int16 v26; // [sp+10h] [bp-4h]@1

  v6 = sub_10043960(a1, a3);
  v7 = *(unsigned int **)(a2 + 16);
  v8 = a2 + 28;
  v26 = v6;
  *(_DWORD *)v8 = v7;
  v9 = *(_DWORD *)(a2 + 20);
  *(_DWORD *)(v8 + 4) = v9;
  v25 = 0;
  v10 = sub_10070320(v7, v9, *(_DWORD *)a2);
  v11 = *(_DWORD *)(a2 + 12);
  *(_DWORD *)a2 = v10;
  v12 = v11 + 0xFFFFF;
  while ( 1 )
  {
    if ( !*(_DWORD *)(a2 + 32) )
    {
      if ( !a6 )
        goto LABEL_37;
      v13 = *(_DWORD *)(a2 + 12);
      if ( *(_DWORD *)(a2 + 44) == v13 && v12 != v13 + 0xFFFFF )
        break;
    }
    v14 = *(_DWORD *)(a2 + 12);
    if ( !v14 )
      break;
    if ( !--v12 )
      break;
    v15 = *(_DWORD *)(a2 + 44);
    if ( !v15 || a6 && v15 != v14 )
    {
      v16 = *(_DWORD *)(a2 + 48);
      if ( v16
        && (v16 >= 0x28
         || *(_WORD *)(a3 + 30) != 99
         || (v17 = ((*(_BYTE *)(a3 + 688) & 3) + 1) << 6, v16 != (((BYTE4(v17) & 7) + (signed int)v17) >> 3) / 2 + 2)) )
      {
        v18 = v14 - v15;
        v19 = v18;
        if ( *(_BYTE *)(a3 + 28) & 1 )
          sub_10043720(a3, *(char **)(a2 + 8), v18);
        if ( j_FIL_vfs_write(a4, *(_DWORD *)(a2 + 8), v19) != v19 )
          return -16;
      }
      else
      {
        v19 = 0;
      }
      v21 = *(_DWORD *)(a2 + 12);
      *(_DWORD *)(a2 + 40) = *(_DWORD *)(a2 + 8);
      v12 = v21 + 0xFFFFF;
      v25 += v19;
      *(_DWORD *)(a2 + 44) = *(_DWORD *)(a2 + 12);
    }
    if ( v26 == 8 )
    {
      if ( a6 )
        v22 = sub_10050870(a2 + 28, 4);
      else
        v22 = sub_10050870(a2 + 28, 0);
      if ( v22 && v22 != 1 )
        return -15;
    }
    else
    {
      if ( v26 )
        return -15;
      v23 = *(_DWORD *)(a2 + 44);
      if ( *(_DWORD *)(a2 + 32) < v23 )
        v23 = *(_DWORD *)(a2 + 32);
      memcpy(*(void **)(a2 + 40), *(const void **)v8, v23);
      *(_DWORD *)(a2 + 32) -= v23;
      *(_DWORD *)(a2 + 44) -= v23;
      *(_DWORD *)v8 += v23;
      *(_DWORD *)(a2 + 40) += v23;
      *(_DWORD *)(a2 + 36) += v23;
      *(_DWORD *)(a2 + 48) += v23;
    }
  }
  if ( a6 )
  {
    v24 = *(_DWORD *)(a2 + 12) - *(_DWORD *)(a2 + 44);
    if ( *(_BYTE *)(a3 + 28) & 1 )
      sub_10043720(a3, *(char **)(a2 + 8), *(_DWORD *)(a2 + 12) - *(_DWORD *)(a2 + 44));
    if ( j_FIL_vfs_write(a4, *(_DWORD *)(a2 + 8), v24) != v24 )
      return -16;
    v25 += v24;
    *(_DWORD *)(a2 + 44) = *(_DWORD *)(a2 + 12);
    *(_DWORD *)(a2 + 40) = *(_DWORD *)(a2 + 8);
  }
LABEL_37:
  *(_DWORD *)(a5 + 24) = *(_DWORD *)(a2 + 36);
  *(_DWORD *)(a5 + 20) = *(_DWORD *)(a2 + 48);
  return v25;
}
// 10055CD0: using guessed type int __cdecl j_FIL_vfs_write(_DWORD, _DWORD, _DWORD);

//----- (10043BE0) --------------------------------------------------------
int __cdecl sub_10043BE0(void *a1)
{
  unsigned int v1; // ecx@2
  unsigned int v2; // eax@4
  int v3; // edi@4
  int v4; // edi@7
  int result; // eax@8

  if ( a1 && (v1 = *((_DWORD *)a1 + 29), v1 < 0xFFFFFFC2) && v1 )
  {
    v2 = *((_DWORD *)a1 + 1);
    v3 = 0;
    if ( v1 != v2 && v2 < 0xFFFFFFC2 )
    {
      if ( v2 )
      {
        v4 = sub_10043390((int)a1, v2, 0);
        v3 = sub_10043990((int)a1) | v4;
      }
    }
    sub_10055AA0(*((_DWORD *)a1 + 29));
    memset(a1, 0, 0x80u);
    result = v3;
  }
  else
  {
    result = -15;
  }
  return result;
}

//----- (10043C40) --------------------------------------------------------
int __cdecl sub_10043C40(int a1, int a2, void *a3, int a4)
{
  unsigned int v4; // eax@3
  signed int v5; // edi@5
  unsigned int v6; // eax@6
  int v8; // eax@11
  int v9; // eax@17

  memset(a3, 0, 0x80u);
  *((_DWORD *)a3 + 8) = -1;
  *((_DWORD *)a3 + 9) = -1;
  *((_BYTE *)a3 + 48) = 0;
  if ( a4 )
    sub_10042590((int)a3 + 48, (_BYTE *)a4, 64);
  *((_BYTE *)a3 + 112) = 3;
  v4 = j_FIL_vfs_open(a1, a2, 0);
  *((_DWORD *)a3 + 29) = v4;
  if ( v4 >= 0xFFFFFFC2 || !v4 )
  {
    v5 = v4;
    if ( !v4 )
      return v5;
LABEL_6:
    v6 = *((_DWORD *)a3 + 29);
    if ( v6 < 0xFFFFFFC2 )
    {
      if ( v6 )
        sub_10055AA0(*((_DWORD *)a3 + 29));
    }
    memset(a3, 0, 0x80u);
    return v5;
  }
  *((_DWORD *)a3 + 1) = v4;
  v8 = sub_10055C90(v4);
  *((_DWORD *)a3 + 30) = v8;
  if ( v8 < 0 )
  {
LABEL_12:
    v5 = -15;
    goto LABEL_6;
  }
  if ( v8 || !(a2 & 2) )
  {
    v9 = sub_100437B0(*((_DWORD *)a3 + 29));
    *(_DWORD *)a3 = v9;
    if ( v9 == -1 || (unsigned int)(v9 + 22) > *((_DWORD *)a3 + 30) )
      goto LABEL_12;
    sub_10055BB0(*((_DWORD *)a3 + 1), (char *)a3 + 8, 22, v9, 0);
    if ( !sub_10043140((int)a3) )
    {
      v5 = -15;
      goto LABEL_6;
    }
  }
  else
  {
    *((_DWORD *)a3 + 2) = 101010256;
  }
  return 0;
}
// 10055B60: using guessed type int __cdecl j_FIL_vfs_open(_DWORD, _DWORD, _DWORD);

//----- (10043D40) --------------------------------------------------------
signed int __cdecl sub_10043D40(int a1)
{
  bool v1; // zf@1
  signed int result; // eax@1

  v1 = sub_10043140(a1) == 0;
  result = -15;
  if ( !v1 )
    result = *(_WORD *)(a1 + 16);
  return result;
}

//----- (10043D60) --------------------------------------------------------
signed int __cdecl sub_10043D60(int a1, unsigned __int64 a2)
{
  unsigned int v2; // eax@3
  signed int v3; // esi@3
  unsigned int v4; // ebp@4
  int v5; // edx@8
  void *v6; // eax@9
  unsigned __int16 v7; // si@10
  unsigned __int16 v8; // cx@10
  void *v9; // ecx@17
  unsigned __int16 v10; // ax@19
  signed int result; // eax@24
  int v12; // ecx@25
  int v13; // [sp+8h] [bp-4h]@4

  if ( sub_10043140(a1) && a2 < *(_WORD *)(a1 + 16) )
  {
    v2 = *(_DWORD *)(a1 + 32);
    v3 = -15;
    if ( (unsigned int)a2 < v2 )
    {
      v4 = *(_DWORD *)(a1 + 24);
      v13 = 0;
LABEL_5:
      while ( v4 < *(_DWORD *)(a1 + 120) )
      {
        v3 = sub_10055BB0(*(_DWORD *)(a1 + 4), (void *)(HIDWORD(a2) + 4), 46, v4, 0);
        if ( v3 != 46 || *(_DWORD *)(HIDWORD(a2) + 4) != 33639248 )
        {
          v12 = *(_DWORD *)(a1 + 24);
          *(_DWORD *)(a1 + 32) = 0;
          *(_DWORD *)(a1 + 36) = v12;
          v3 = -15;
          break;
        }
        v5 = a1;
        *(_DWORD *)(a1 + 32) = v13;
        *(_DWORD *)(a1 + 36) = v4;
        if ( v13 == (_DWORD)a2 )
        {
          v6 = *(void **)(HIDWORD(a2) + 52);
          v3 = 0;
          *(_DWORD *)HIDWORD(a2) = v4;
          *(_WORD *)(HIDWORD(a2) + 58) = -1;
          if ( v6 )
          {
            v7 = *(_WORD *)(HIDWORD(a2) + 56);
            v8 = *(_WORD *)(HIDWORD(a2) + 32);
            if ( v7 <= v8 )
            {
              sub_10042590((int)v6, &unk_1008E0CC, v7);
              v5 = a1;
              v3 = -15;
            }
            else if ( sub_10055BB0(*(_DWORD *)(a1 + 4), v6, v8, v4 + 46, 0) == *(_WORD *)(HIDWORD(a2) + 32) )
            {
              v5 = a1;
              *(_WORD *)(HIDWORD(a2) + 58) = *(_WORD *)(HIDWORD(a2) + 32);
              v3 = 0;
              *(_BYTE *)(*(_WORD *)(HIDWORD(a2) + 32) + *(_DWORD *)(HIDWORD(a2) + 52)) = 0;
            }
            else
            {
              v5 = a1;
              v3 = -15;
              *(_BYTE *)(*(_WORD *)(HIDWORD(a2) + 32) + *(_DWORD *)(HIDWORD(a2) + 52)) = 0;
            }
          }
          else
          {
            *(_WORD *)(HIDWORD(a2) + 58) = -1;
          }
          v9 = *(void **)(HIDWORD(a2) + 60);
          *(_WORD *)(HIDWORD(a2) + 66) = -1;
          if ( v9 )
          {
            if ( !v3 )
            {
              v10 = *(_WORD *)(HIDWORD(a2) + 34);
              if ( *(_WORD *)(HIDWORD(a2) + 64) < v10
                || sub_10055BB0(*(_DWORD *)(v5 + 4), v9, v10, *(_WORD *)(HIDWORD(a2) + 32) + v4 + 46, 0) != *(_WORD *)(HIDWORD(a2) + 34) )
              {
                v3 = -15;
              }
              else
              {
                v3 = 0;
                *(_WORD *)(HIDWORD(a2) + 66) = *(_WORD *)(HIDWORD(a2) + 34);
              }
            }
          }
        }
        v4 += sub_100430E0(HIDWORD(a2) + 4);
        if ( ++v13 > (unsigned int)a2 )
          return v3;
      }
    }
    else
    {
      v4 = *(_DWORD *)(a1 + 36);
      v13 = *(_DWORD *)(a1 + 32);
      if ( v2 <= (unsigned int)a2 )
        goto LABEL_5;
    }
    result = v3;
  }
  else
  {
    result = -15;
  }
  return result;
}

//----- (10043F60) --------------------------------------------------------
signed int __cdecl sub_10043F60(int a1, int a2)
{
  return sub_10043260(*(_DWORD *)(a1 + 732), a1 + 20, a2);
}

//----- (10043F80) --------------------------------------------------------
int __cdecl sub_10043F80(int a1)
{
  int v1; // ebx@1
  int v2; // esi@1
  unsigned int v3; // ebp@1
  bool v4; // zf@1
  int v5; // ecx@1
  __int16 v6; // cx@4
  __int16 v7; // ax@4
  __int16 v8; // dx@4
  __int16 v9; // cx@4
  unsigned int v10; // edx@4
  int v11; // eax@4
  unsigned int v12; // ecx@4
  int v13; // eax@4
  int result; // eax@5
  int v15; // eax@6
  unsigned __int16 v16; // ax@7
  int v17; // eax@11
  int v18; // edx@13
  int v19; // edi@13
  int v20; // eax@13
  unsigned __int16 v21; // cx@14
  int v22; // [sp+10h] [bp-28h]@4
  char v23; // [sp+14h] [bp-24h]@3
  int v24; // [sp+18h] [bp-20h]@1
  int v25; // [sp+1Ch] [bp-1Ch]@1
  int v26; // [sp+20h] [bp-18h]@1
  int v27; // [sp+24h] [bp-14h]@1
  __int64 v28; // [sp+28h] [bp-10h]@1
  int v29; // [sp+30h] [bp-8h]@1
  __int16 v30; // [sp+34h] [bp-4h]@1
  int v31; // [sp+3Ch] [bp+4h]@1

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 732);
  v31 = *(_DWORD *)(v2 + 116);
  sub_10043730(v1);
  v3 = *(_DWORD *)(v2 + 4);
  v4 = *(_WORD *)(v1 + 32) == 0;
  v5 = ~*(_DWORD *)(v1 + 88);
  v24 = 0;
  v25 = 0;
  v26 = 0;
  v27 = 0;
  v28 = 0i64;
  v29 = 0;
  v30 = 0;
  *(_DWORD *)(v1 + 36) = v5;
  if ( v4 || !*(_WORD *)(v1 + 34) )
  {
    sub_10042DF0(&v23);
    sub_10042CC0((unsigned int *)&v23, (_WORD *)(v1 + 34), (_WORD *)(v1 + 32));
  }
  v6 = *(_WORD *)(v1 + 24);
  v7 = *(_WORD *)(v1 + 30);
  HIWORD(v25) = *(_WORD *)(v1 + 28);
  v8 = *(_WORD *)(v1 + 34);
  LOWORD(v25) = v6;
  v9 = *(_WORD *)(v1 + 32);
  LOWORD(v27) = v8;
  v10 = *(_DWORD *)(v1 + 44);
  LOWORD(v26) = v7;
  v11 = *(_DWORD *)(v1 + 36);
  HIWORD(v26) = v9;
  v12 = *(_DWORD *)(v1 + 40);
  *(int *)((char *)&v27 + 2) = v11;
  LOWORD(v11) = *(_WORD *)(v1 + 48);
  *(__int64 *)((char *)&v28 + 2) = __PAIR__(v10, v12);
  LOWORD(v12) = *(_WORD *)(v1 + 50);
  v24 = 67324752;
  HIWORD(v29) = v11;
  v30 = v12;
  v22 = sub_10043100(v1, (int)&v24);
  v13 = sub_10055C90(v31);
  if ( v3 == v31 )
  {
    result = sub_10055B00(v31, v13, v31, *(_DWORD *)(v2 + 24), *(_DWORD *)(v2 + 20));
    if ( result )
      return result;
    v15 = *(_DWORD *)(v2 + 24);
    *(_DWORD *)(v1 + 62) = v15;
    *(_DWORD *)(v1 + 84) = v22 + v15;
  }
  sub_10055D60(*(_DWORD *)(v2 + 116), *(_DWORD *)(v1 + 62), 0);
  j_FIL_vfs_write(*(_DWORD *)(v2 + 116), &v24, 30);
  j_FIL_vfs_write(*(_DWORD *)(v2 + 116), *(_DWORD *)(v1 + 68), *(_WORD *)(v1 + 72));
  v16 = *(_WORD *)(v1 + 80);
  if ( v16 )
    j_FIL_vfs_write(*(_DWORD *)(v2 + 116), *(_DWORD *)(v1 + 76), v16);
  if ( v3 == v31 )
  {
    result = sub_10055B00(
               v31,
               *(_DWORD *)(v1 + 84),
               v31,
               v22 + *(_DWORD *)(v2 + 120),
               *(_DWORD *)(v1 + 40) + *(_DWORD *)(v2 + 20));
    if ( result )
      return result;
    v17 = *(_DWORD *)((char *)&v28 + 2) + v22 + *(_DWORD *)(v2 + 24);
  }
  else
  {
    v17 = 0;
  }
  v18 = v17 + *(_DWORD *)(v2 + 20);
  ++*(_WORD *)(v2 + 16);
  ++*(_WORD *)(v2 + 18);
  *(_DWORD *)(v2 + 8) = 101010256;
  *(_DWORD *)(v2 + 24) = v17;
  *(_WORD *)(v2 + 28) = 0;
  sub_10055D60(v3, v18, 0);
  *(_DWORD *)(v2 + 20) += sub_100430E0(v1 + 20);
  j_FIL_vfs_write(v3, v1 + 20, 46);
  v19 = j_FIL_vfs_write(v3, *(_DWORD *)(v1 + 68), *(_WORD *)(v1 + 72)) != *(_WORD *)(v1 + 72) ? 0xFFFFFFF1 : 0;
  v20 = *(_DWORD *)(v1 + 76);
  if ( v20 )
  {
    v21 = *(_WORD *)(v1 + 80);
    if ( v21 )
    {
      v19 |= j_FIL_vfs_write(v3, v20, v21);
      if ( v19 >= 0 )
        v19 = 0;
    }
  }
  *(_DWORD *)v2 = *(_DWORD *)(v2 + 20) + *(_DWORD *)(v2 + 24);
  if ( v3 == v31 )
    sub_10043990(v2);
  else
    *(_DWORD *)(v2 + 120) = sub_10055C90(v31);
  *(_DWORD *)(v2 + 36) = *(_DWORD *)(v2 + 24);
  *(_DWORD *)(v2 + 32) = 0;
  return v19;
}
// 10055CD0: using guessed type int __cdecl j_FIL_vfs_write(_DWORD, _DWORD, _DWORD);

//----- (100441F0) --------------------------------------------------------
int __cdecl sub_100441F0(void *a1, int a2, char a3)
{
  _BYTE *v3; // eax@1
  char *v4; // edi@3
  int result; // eax@4

  memset(a1, 0, 0x2E0u);
  *((_DWORD *)a1 + 17) = *(_DWORD *)(a2 + 4);
  *((_WORD *)a1 + 36) = *(_WORD *)(a2 + 8);
  *((_DWORD *)a1 + 19) = *(_DWORD *)(a2 + 16);
  *((_WORD *)a1 + 40) = *(_WORD *)(a2 + 20);
  *(_DWORD *)a1 = *(_DWORD *)a2;
  *((_DWORD *)a1 + 24) = *(_DWORD *)(a2 + 24);
  *((_DWORD *)a1 + 25) = *(_DWORD *)(a2 + 28);
  *((_DWORD *)a1 + 26) = 0;
  *((_DWORD *)a1 + 27) = 0;
  sub_10043310((int)a1 + 116);
  v3 = *(_BYTE **)(a2 + 12);
  if ( v3 )
    sub_10042590((int)a1 + 148, v3, 64);
  v4 = (char *)a1 + 116;
  if ( a3 )
    result = sub_10050B30(
               (int)v4,
               *(_BYTE *)(a2 + 44),
               8,
               -*(_DWORD *)(a2 + 40),
               *(_DWORD *)(a2 + 48),
               0,
               *(_DWORD *)(a2 + 32),
               *(_DWORD *)(a2 + 36));
  else
    result = sub_100059F0((int)v4, -*(_DWORD *)(a2 + 40), *(_DWORD *)(a2 + 32), *(_DWORD *)(a2 + 36));
  return result;
}

//----- (100442C0) --------------------------------------------------------
signed int __cdecl sub_100442C0(unsigned int a1, int a2, int a3)
{
  signed int result; // eax@3
  int v4; // ecx@7
  int v5; // eax@10

  if ( a1 < 0xFFFFFFC2 && a1 )
  {
    if ( *(_DWORD *)(a1 + 112) == *(_DWORD *)(a1 + 44) && !*(_DWORD *)(a1 + 124) )
      sub_10055D60(*(_DWORD *)(*(_DWORD *)(a1 + 732) + 116), *(_DWORD *)(a1 + 136) + *(_DWORD *)(a1 + 84), 0);
    v4 = *(_DWORD *)(a1 + 112) - a3;
    *(_DWORD *)(a1 + 104) = a2;
    *(_DWORD *)(a1 + 108) = a3;
    v5 = !v4 && *(_DWORD *)(a1 + 136) || !a2;
    result = sub_100439D0(
               *(_DWORD *)(*(_DWORD *)(a1 + 732) + 116),
               a1 + 88,
               a1,
               *(_DWORD *)(*(_DWORD *)(a1 + 732) + 116),
               a1 + 20,
               v5);
    if ( result >= 0 )
    {
      *(_DWORD *)(a1 + 40) = *(_DWORD *)(a1 + 136);
      *(_DWORD *)(a1 + 112) -= a3;
    }
  }
  else
  {
    result = -6;
  }
  return result;
}

//----- (10044360) --------------------------------------------------------
int __usercall sub_10044360@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  char v2; // al@1
  unsigned __int8 *v3; // edx@1

  v1 = a1;
  v2 = sub_10043750(a1);
  *v3 ^= v2;
  return sub_10043770(v1, *v3);
}

//----- (10044380) --------------------------------------------------------
int __usercall sub_10044380@<eax>(int a1@<edi>, int a2)
{
  int i; // esi@1
  int result; // eax@2

  for ( i = 0; i < a1; ++i )
    result = sub_10044360(a2);
  return result;
}

//----- (100443B0) --------------------------------------------------------
signed int __usercall sub_100443B0@<eax>(int a1@<eax>, int a2@<ebx>)
{
  int v2; // esi@1
  signed int v3; // edi@1
  signed int result; // eax@4

  v2 = a1;
  *(_DWORD *)(a1 + 64) = 305419896;
  *(_DWORD *)(a1 + 68) = 591751049;
  *(_DWORD *)(a1 + 72) = 878082192;
  v3 = 0;
  do
  {
    if ( !*(_BYTE *)(v3 + v2) )
      break;
    sub_10043770(v2, *(_BYTE *)(v3++ + v2));
  }
  while ( v3 < 64 );
  result = sub_10055BB0(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), (void *)(v2 + 76), 12, *(_DWORD *)(a2 + 84), 0);
  *(_DWORD *)(a2 + 92) -= 12;
  *(_DWORD *)(a2 + 124) += 12;
  return result;
}

//----- (10044420) --------------------------------------------------------
int __cdecl sub_10044420(int a1, char *a2, int a3)
{
  char *v3; // edi@1
  int v4; // ebx@4
  int v5; // esi@6
  int result; // eax@11
  signed int v7; // [sp+8h] [bp-F4h]@6
  char v8; // [sp+Ch] [bp-F0h]@4
  char *v9; // [sp+40h] [bp-BCh]@4
  __int16 v10; // [sp+44h] [bp-B8h]@4
  unsigned __int16 v11; // [sp+46h] [bp-B6h]@8
  char v12; // [sp+50h] [bp-ACh]@4

  v3 = a2;
  if ( sub_10043140(a1) && a2 && *a2 )
  {
    memset(&v8, 0, 0x44u);
    v9 = &v12;
    v10 = 168;
    v4 = strlen(a2);
    strchr(a2, 92);
    if ( *a2 == 47 )
    {
      v3 = a2 + 1;
      --v4;
    }
    v5 = a3;
    v7 = -24;
    if ( a3 < (unsigned int)*(_WORD *)(a1 + 16) )
    {
      while ( sub_10043D60(a1, __PAIR__(&v8, v5)) || v4 != v11 || sub_10043330(v3, &v12, v4) )
      {
        if ( ++v5 >= (unsigned int)*(_WORD *)(a1 + 16) )
          return -24;
      }
      v7 = v5;
    }
    result = v7;
  }
  else
  {
    result = -15;
  }
  return result;
}

//----- (10044590) --------------------------------------------------------
signed int __cdecl sub_10044590(int a1)
{
  signed int result; // eax@5

  if ( a1 && *(_DWORD *)(a1 + 732) )
  {
    --*(_DWORD *)(*(_DWORD *)(a1 + 732) + 124);
    if ( *(_BYTE *)(a1 + 8) )
      exit(a1);
    sub_10004EC0(a1 + 116);
    result = 0;
    *(_DWORD *)a1 = -858993460;
  }
  else
  {
    result = -6;
  }
  return result;
}

//----- (100445F0) --------------------------------------------------------
char __usercall sub_100445F0@<al>(char *a1@<edx>, size_t a2@<ecx>, int a3@<esi>)
{
  char result; // al@2

  if ( *(_WORD *)(a3 + 30) == 99 )
    result = sub_1004E420(a1, a2, a3 + 212);
  else
    result = sub_10044380(a2, a3 + 148);
  return result;
}

//----- (10044620) --------------------------------------------------------
signed int __usercall sub_10044620@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  bool v2; // zf@1
  int v3; // eax@1
  signed int result; // eax@2

  v1 = a1;
  v2 = *(_WORD *)(a1 + 30) == 99;
  v3 = a1 + 148;
  if ( v2 )
    result = sub_10043550(v3, v1);
  else
    result = sub_100443B0(v3, v1);
  return result;
}

//----- (10044650) --------------------------------------------------------
BOOL __usercall sub_10044650@<eax>(int a1@<ebx>, int a2)
{
  int v2; // ebp@1
  unsigned int v3; // esi@1
  int v4; // edi@1
  char v6; // [sp+10h] [bp+4h]@2

  v2 = a2;
  v3 = 0;
  v4 = a2 + 148;
  do
  {
    v6 = *(_BYTE *)(a1 + v3 + 76);
    sub_10044360(v4);
    ++v3;
  }
  while ( v3 < 0xC );
  return *(_BYTE *)(v2 + 39) == v6;
}

//----- (10044690) --------------------------------------------------------
signed int __cdecl sub_10044690(unsigned int a1)
{
  signed int result; // eax@3
  int v2; // eax@4
  int v3; // ecx@4
  int v4; // edx@4

  if ( a1 < 0xFFFFFFC2 && a1 )
  {
    sub_10043310(a1 + 116);
    v2 = *(_DWORD *)(a1 + 40);
    v3 = *(_DWORD *)(a1 + 44);
    *(_DWORD *)(a1 + 88) = -1;
    *(_DWORD *)(a1 + 92) = v2;
    *(_DWORD *)(a1 + 112) = v3;
    sub_10005AE0(v4);
    if ( *(_BYTE *)(a1 + 28) & 1 )
      sub_10044620(a1);
    result = 0;
  }
  else
  {
    result = -6;
  }
  return result;
}

//----- (100446E0) --------------------------------------------------------
signed int __cdecl sub_100446E0(int a1, int a2)
{
  int v2; // ebp@1
  int v3; // edi@1
  unsigned int v4; // eax@1
  unsigned int v5; // ecx@1
  signed int v6; // eax@4
  size_t v8; // eax@9
  size_t v9; // ebx@10
  int v10; // esi@13
  int v11; // edx@18
  __int16 v12; // ax@20
  size_t v13; // esi@21
  int v14; // ST30_4@25
  unsigned int *v15; // ST34_4@25
  int v16; // ebx@25
  int v17; // [sp+10h] [bp-Ch]@1
  int v18; // [sp+24h] [bp+8h]@7

  v2 = a2;
  v3 = a2 + 28;
  *(_DWORD *)(a2 + 40) = *(_DWORD *)(a2 + 16);
  v4 = *(_DWORD *)(a2 + 20);
  v5 = *(_DWORD *)(a2 + 24);
  v17 = 0;
  if ( v4 <= v5 )
    *(_DWORD *)(a2 + 44) = v4;
  else
    *(_DWORD *)(a2 + 44) = v5;
  v6 = 0xFFFFF;
  if ( *(_DWORD *)(a2 + 44) )
  {
    while ( 1 )
    {
      v18 = v6 - 1;
      if ( v6 - 1 <= 0 )
        break;
      if ( *(_DWORD *)(v3 + 4) || (v8 = *(_DWORD *)(v2 + 4)) == 0 )
      {
        v10 = a1;
      }
      else
      {
        v9 = *(_DWORD *)(v2 + 12);
        if ( v8 < v9 )
          v9 = *(_DWORD *)(v2 + 4);
        if ( !v9 )
          return v17;
        v10 = a1;
        if ( sub_10055BB0(
               *(_DWORD *)(*(_DWORD *)(a1 + 732) + 116),
               *(void **)(v2 + 8),
               v9,
               *(_DWORD *)(a1 + 84) + *(_DWORD *)(v3 + 8),
               0) != v9 )
          return -15;
        if ( *(_BYTE *)(a1 + 28) & 1 )
        {
          sub_100445F0(*(char **)(v2 + 8), v9, a1);
          if ( *(_DWORD *)(v2 + 4) == v9 && *(_WORD *)(a1 + 30) == 99 )
          {
            sub_10055BB0(
              *(_DWORD *)(*(_DWORD *)(a1 + 732) + 116),
              (void *)(a1 + 721),
              10,
              *(_DWORD *)(a1 + 84) + v9 + *(_DWORD *)(v3 + 4) + *(_DWORD *)(v3 + 8),
              0);
            sub_1004E4C0(a1 + 693, a1 + 212);
            v10 = a1;
          }
        }
        v11 = *(_DWORD *)(v2 + 8);
        *(_DWORD *)(v2 + 4) -= v9;
        v18 = 0xFFFFF;
        *(_DWORD *)v3 = v11;
        *(_DWORD *)(v3 + 4) = v9;
      }
      v12 = sub_10043960(v5, v10);
      if ( v12 )
      {
        if ( v12 != 8 )
          return -15;
        v14 = *(_DWORD *)(v3 + 20);
        v15 = *(unsigned int **)(v3 + 12);
        v16 = (char)sub_10006F20(v3, 2);
        v17 += *(_DWORD *)(v3 + 20) - v14;
        *(_DWORD *)v2 = sub_10070320(v15, *(_DWORD *)(v3 + 20) - v14, *(_DWORD *)v2);
        if ( v16 == 1 )
          return v17;
        if ( v16 < 0 )
          return -14;
      }
      else
      {
        v13 = *(_DWORD *)(v3 + 4);
        if ( *(_DWORD *)(v3 + 16) < v13 )
          v13 = *(_DWORD *)(v3 + 16);
        memcpy(*(void **)(v3 + 12), *(const void **)v3, v13);
        *(_DWORD *)v2 = sub_10070320(*(unsigned int **)(v3 + 12), v13, *(_DWORD *)v2);
        *(_DWORD *)(v3 + 4) -= v13;
        *(_DWORD *)(v3 + 16) -= v13;
        *(_DWORD *)(v3 + 12) += v13;
        *(_DWORD *)v3 += v13;
        *(_DWORD *)(v3 + 20) += v13;
        *(_DWORD *)(v3 + 8) += v13;
        v17 += v13;
      }
      if ( !*(_DWORD *)(v3 + 16) )
        return v17;
      v6 = v18;
    }
  }
  return v17;
}

//----- (100448D0) --------------------------------------------------------
bool __usercall sub_100448D0@<al>(int a1@<eax>)
{
  int v1; // ecx@4
  int v2; // edx@4
  int v3; // eax@4
  signed int v4; // ecx@6
  int v5; // eax@2

  if ( *(_WORD *)(a1 + 30) != 99 )
    return sub_10044650(a1 + 148, a1);
  v5 = a1 + 148;
  v1 = v5 + 543;
  v2 = v5 + 571;
  v3 = *(_BYTE *)(v5 + 571) - *(_BYTE *)(v5 + 543);
  if ( v3 || (v3 = *(_BYTE *)(v2 + 1) - *(_BYTE *)(v1 + 1), *(_BYTE *)(v2 + 1) != *(_BYTE *)(v1 + 1)) )
  {
    v4 = 1;
    if ( v3 <= 0 )
      return 0;
  }
  else
  {
    v4 = 0;
  }
  return v4 == 0;
}

//----- (10044900) --------------------------------------------------------
int __cdecl sub_10044900(int a1, int a2, char a3, void *a4, int a5)
{
  int result; // eax@6
  unsigned __int64 v6; // ST04_8@7
  char v7; // [sp+8h] [bp-54h]@8
  int v8; // [sp+28h] [bp-34h]@4
  int v9; // [sp+34h] [bp-28h]@4

  if ( !sub_10043140(a1) || !a4 || a3 & 2 )
    return -15;
  qmemcpy(&v8, (const void *)a5, 0x34u);
  if ( !v9 )
    v9 = a1 + 48;
  result = sub_100441F0(a4, (int)&v8, 0);
  if ( !result )
  {
    HIDWORD(v6) = (char *)a4 + 16;
    LODWORD(v6) = a2;
    if ( sub_10043D60(a1, v6) )
      return -15;
    sub_10043980(a1, (int)a4);
    if ( sub_10043F60((int)a4, (int)&v7) )
    {
      sub_10044E60((unsigned int)a4);
      return -15;
    }
    *((_DWORD *)a4 + 21) = *(_DWORD *)((char *)a4 + 62) + sub_10043100((int)a4, (int)&v7);
    *((_DWORD *)a4 + 3) = a2;
    sub_10044690((unsigned int)a4);
    if ( !(*((_BYTE *)a4 + 28) & 1) || sub_100448D0((int)a4) )
    {
      result = sub_10043000((int)a4);
    }
    else
    {
      sub_10044590((int)a4);
      result = -34;
    }
  }
  return result;
}

//----- (10044A10) --------------------------------------------------------
signed int __cdecl sub_10044A10(unsigned int a1)
{
  unsigned int v1; // eax@1

  v1 = sub_10042FE0(a1);
  return sub_10044690(v1);
}

//----- (10044A30) --------------------------------------------------------
signed int __cdecl sub_10044A30(unsigned int a1, int a2, int a3)
{
  signed int result; // eax@3
  int v4; // ST04_4@4
  signed int v5; // eax@4
  signed int v6; // ebx@4
  bool v7; // zf@5

  if ( a1 < 0xFFFFFFC2 && a1 )
  {
    v4 = a1 + 88;
    *(_DWORD *)(v4 + 16) = a2;
    *(_DWORD *)(v4 + 20) = a3;
    v5 = sub_100446E0(a1, a1 + 88);
    v6 = v5;
    if ( v5 > 0 )
    {
      v7 = *(_DWORD *)(a1 + 112) == v5;
      *(_DWORD *)(a1 + 112) -= v5;
      if ( v7 && !(*(_BYTE *)a1 & 1) && !sub_10043010(a1) )
        v6 = -14;
    }
    result = v6;
  }
  else
  {
    result = -6;
  }
  return result;
}

//----- (10044A90) --------------------------------------------------------
signed int __cdecl sub_10044A90(unsigned int a1, int a2, int a3)
{
  signed int result; // eax@3
  unsigned int v4; // edx@4
  int v5; // ebx@4
  int v6; // esi@16
  int v7; // eax@17
  char v8; // [sp+4h] [bp-204h]@19

  if ( a1 >= 0xFFFFFFC2 || !a1 )
    return -6;
  v4 = *(_DWORD *)(a1 + 44);
  result = *(_DWORD *)(a1 + 44) - *(_DWORD *)(a1 + 112);
  v5 = a2;
  if ( a3 == 1 )
  {
    v5 = result + a2;
  }
  else if ( a3 == 2 )
  {
    v5 = v4 + a2;
  }
  if ( v5 > v4 || v5 < 0 )
    return -15;
  if ( result == v5 )
    return result;
  if ( !v5 )
  {
    sub_10044690(a1);
    return 0;
  }
  if ( !*(_WORD *)(a1 + 30) && *(_BYTE *)a1 & 3 )
  {
    sub_10043310(a1 + 116);
    *(_DWORD *)(a1 + 124) = v5;
    *(_DWORD *)(a1 + 112) = *(_DWORD *)(a1 + 44) - v5;
    *(_DWORD *)(a1 + 92) = *(_DWORD *)(a1 + 40) - v5;
    return v5;
  }
  if ( result > v5 )
  {
    sub_10044690(a1);
    result = 0;
  }
  v6 = v5 - result;
  if ( v5 - result <= 0 )
    return v5;
  while ( 1 )
  {
    v7 = 512;
    if ( (unsigned int)v6 < 0x200 )
      v7 = v6;
    result = sub_10044A30(a1, (int)&v8, v7);
    if ( result <= 0 )
      break;
    v6 -= result;
    if ( v6 <= 0 )
      return v5;
  }
  return result;
}

//----- (10044C20) --------------------------------------------------------
int __cdecl sub_10044C20(int a1, char *a2, int a3, void *a4, int a5)
{
  int result; // eax@10
  bool v6; // zf@11
  int v7; // ST0C_4@16
  int v8; // eax@16
  int v9; // [sp+Ch] [bp-34h]@5
  int v10; // [sp+18h] [bp-28h]@5
  char v11; // [sp+38h] [bp-8h]@11

  if ( sub_10043140(a1) && a2 && a4 && a5 )
  {
    qmemcpy(&v9, (const void *)a5, 0x34u);
    if ( !v10 )
      v10 = a1 + 48;
    *((_DWORD *)a4 + 1) = a3;
    if ( a3 & 8 )
    {
      if ( *(_WORD *)(a1 + 16) >= 0xFFFFu || *(_WORD *)(a1 + 18) >= 0xFFFFu )
      {
        result = -22;
      }
      else
      {
        result = sub_100441F0(a4, (int)&v9, 1);
        if ( !result )
        {
          *((_DWORD *)a4 + 1) = a3;
          *((_BYTE *)a4 + 8) = 1;
          *((_DWORD *)a4 + 183) = a1;
          *((_DWORD *)a4 + 3) = *(_WORD *)(a1 + 16);
          *((_DWORD *)a4 + 22) = -1;
          *((_WORD *)a4 + 12) = 20;
          *((_WORD *)a4 + 13) = 20;
          *((_DWORD *)a4 + 5) = 33639248;
          *((_WORD *)a4 + 14) = 0;
          *((_WORD *)a4 + 16) = 0;
          *((_WORD *)a4 + 17) = 0;
          *((_DWORD *)a4 + 9) = 0;
          *((_DWORD *)a4 + 10) = 0;
          *((_DWORD *)a4 + 11) = 0;
          v6 = v11 == 0;
          *((_WORD *)a4 + 24) = strlen(a2);
          *((_WORD *)a4 + 25) = 0;
          *((_WORD *)a4 + 26) = 0;
          *((_WORD *)a4 + 27) = 0;
          *((_WORD *)a4 + 28) = 0;
          *(_DWORD *)((char *)a4 + 58) = 0;
          if ( v6 )
            *((_WORD *)a4 + 15) = 0;
          else
            *((_WORD *)a4 + 15) = 8;
          if ( *(_BYTE *)a4 & 4 )
          {
            *(_WORD *)((char *)a4 + 689) = *((_WORD *)a4 + 15);
            *((_WORD *)a4 + 15) = 99;
            *((_WORD *)a4 + 14) = 1;
          }
          *(_DWORD *)((char *)a4 + 62) = *(_DWORD *)(a1 + 120);
          *((_DWORD *)a4 + 21) = *(_DWORD *)((char *)a4 + 62) + sub_10043100((int)a4, 0);
          sub_10043980(a1, (int)a4);
          v7 = *(_DWORD *)((char *)a4 + 62);
          v8 = sub_10043100((int)a4, 0);
          sub_10055CE0(*(_DWORD *)(a1 + 116), *((_DWORD *)a4 + 24), v8, v7);
          if ( *((_BYTE *)a4 + 28) & 1 )
            sub_10044620((int)a4);
          result = sub_10043000((int)a4);
        }
      }
    }
    else
    {
      *((_BYTE *)a4 + 8) = 0;
      result = sub_10044420(a1, a2, 0);
      if ( result >= 0 )
        result = sub_10044900(a1, result, a3, a4, (int)&v9);
    }
  }
  else
  {
    result = -15;
  }
  return result;
}

//----- (10044E10) --------------------------------------------------------
bool __cdecl sub_10044E10(unsigned int a1, _DWORD *a2)
{
  bool result; // al@3

  if ( a1 < 0xFFFFFFC2 && a1 )
  {
    result = sub_10044A90(a1, *(_DWORD *)(a1 + 44), 0) == *(_DWORD *)(a1 + 44) && sub_10043010(a1);
    if ( a2 )
      *a2 = *(_DWORD *)(a1 + 36);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10044E60) --------------------------------------------------------
signed int __cdecl sub_10044E60(unsigned int a1)
{
  int v1; // eax@1

  v1 = sub_10042FE0(a1);
  return sub_10044590(v1);
}

//----- (10044E80) --------------------------------------------------------
bool __cdecl sub_10044E80(unsigned int a1, _DWORD *a2)
{
  unsigned int v2; // eax@1
  unsigned int v3; // esi@1
  bool result; // al@3

  v2 = sub_10042FE0(a1);
  v3 = v2;
  if ( v2 < 0xFFFFFFC2 && v2 )
  {
    sub_10044A90(v2, 0, 0);
    result = sub_10044E10(v3, a2);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10044EC0) --------------------------------------------------------
bool __cdecl sub_10044EC0(unsigned int a1, _DWORD *a2)
{
  unsigned int v2; // eax@1

  v2 = sub_10042FE0(a1);
  return sub_10044E10(v2, a2);
}

//----- (10044EE0) --------------------------------------------------------
int __cdecl sub_10044EE0(int a1, void *a2)
{
  unsigned int v2; // edi@1
  int v3; // ebx@2
  int v4; // eax@2
  int result; // eax@2

  v2 = sub_10042FE0(a1);
  memset(a2, 0, 0x3Cu);
  if ( v2 )
  {
    sub_10042590((int)a2 + 48, &unk_10095A64, 10);
    *((_DWORD *)a2 + 3) = *(_DWORD *)(v2 + 44);
    *((_DWORD *)a2 + 4) = 0;
    *((_DWORD *)a2 + 8) = 1;
    *((_DWORD *)a2 + 9) = *(_DWORD *)(v2 + 40);
    sub_10042D40(*(_WORD *)(v2 + 34), *(_WORD *)(v2 + 32), (_DWORD *)a2 + 6);
    v3 = *((_DWORD *)a2 + 6);
    *((_DWORD *)a2 + 5) = v3;
    *((_DWORD *)a2 + 7) = v3;
    v4 = *(_DWORD *)(v2 + 58);
    *((_DWORD *)a2 + 10) = v4;
    *((_DWORD *)a2 + 1) = (v4 & 0x10) != 0 ? 4096 : 0x2000;
    result = 0;
  }
  else
  {
    result = -6;
  }
  return result;
}

//----- (10044FA0) --------------------------------------------------------
signed int __cdecl sub_10044FA0(unsigned int a1, int a2, int a3, int a4)
{
  unsigned int v4; // eax@1
  unsigned int v5; // esi@1
  signed int result; // eax@3

  v4 = sub_10042FE0(a1);
  v5 = v4;
  if ( v4 < 0xFFFFFFC2 && v4 )
  {
    if ( sub_10044A90(v4, a4, 0) == a4 )
      result = sub_10044A30(v5, a2, a3);
    else
      result = -15;
  }
  else
  {
    result = -6;
  }
  return result;
}

//----- (10045000) --------------------------------------------------------
signed int __cdecl sub_10045000(unsigned int a1, int a2, int a3)
{
  unsigned int v3; // eax@1

  v3 = sub_10042FE0(a1);
  return sub_10044A90(v3, a2, a3);
}

//----- (10045020) --------------------------------------------------------
signed int __cdecl sub_10045020(int a1, unsigned int a2, unsigned int a3)
{
  int v3; // esi@1
  int v4; // ebp@2
  int v5; // edi@4
  unsigned int v6; // eax@4
  unsigned int v7; // esi@4
  bool v8; // ST3B_1@6
  signed int result; // eax@9
  int v10; // [sp+14h] [bp-318h]@4
  int v11; // [sp+18h] [bp-314h]@4
  __int16 v12; // [sp+1Ch] [bp-310h]@4
  int v13; // [sp+20h] [bp-30Ch]@4
  int v14; // [sp+24h] [bp-308h]@4
  __int16 v15; // [sp+28h] [bp-304h]@4
  void *v16; // [sp+2Ch] [bp-300h]@4
  int v17; // [sp+30h] [bp-2FCh]@4
  void *v18; // [sp+34h] [bp-2F8h]@4
  int v19; // [sp+38h] [bp-2F4h]@4
  int v20; // [sp+3Ch] [bp-2F0h]@4
  char v21; // [sp+40h] [bp-2ECh]@4
  int v22; // [sp+44h] [bp-2E8h]@4
  char v23; // [sp+48h] [bp-2E4h]@4

  v3 = a1;
  if ( sub_10043140(a1) && (v4 = a2, a2 <= a3) && a3 < *(_WORD *)(a1 + 16) )
  {
    while ( 1 )
    {
      v5 = sub_10055360(29, -1);
      memset(&v10, 0, 0x34u);
      v13 = v3 + 48;
      v10 = 0;
      v11 = 0;
      v12 = 0;
      v14 = 0;
      v15 = 0;
      v16 = &unk_10DDD270;
      v17 = 4096;
      v18 = &unk_10DDE270;
      v19 = 46920;
      v20 = 15;
      v21 = -2;
      v22 = 0xFFFF;
      v6 = sub_10044900(v3, v4, 4, &v23, (int)&v10);
      v7 = v6;
      if ( v6 >= 0xFFFFFFC2 || !v6 )
      {
        sub_10055330(v5, 29);
        return v7;
      }
      v8 = sub_10044E80(v6, 0);
      sub_10044E60(v7);
      sub_10055330(v5, 29);
      if ( !v8 )
        return -14;
      if ( ++v4 > a3 )
        break;
      v3 = a1;
    }
    result = 0;
  }
  else
  {
    result = -15;
  }
  return result;
}

//----- (10045190) --------------------------------------------------------
int __cdecl sub_10045190(int a1, char *a2, void *a3)
{
  unsigned int v3; // eax@1
  unsigned int v4; // esi@1
  int v5; // edi@3
  int v7; // [sp+10h] [bp-31Ch]@1
  int v8; // [sp+14h] [bp-318h]@1
  int v9; // [sp+18h] [bp-314h]@1
  __int16 v10; // [sp+1Ch] [bp-310h]@1
  int v11; // [sp+20h] [bp-30Ch]@1
  int v12; // [sp+24h] [bp-308h]@1
  __int16 v13; // [sp+28h] [bp-304h]@1
  void *v14; // [sp+2Ch] [bp-300h]@1
  int v15; // [sp+30h] [bp-2FCh]@1
  void *v16; // [sp+34h] [bp-2F8h]@1
  int v17; // [sp+38h] [bp-2F4h]@1
  int v18; // [sp+3Ch] [bp-2F0h]@1
  char v19; // [sp+40h] [bp-2ECh]@1
  int v20; // [sp+44h] [bp-2E8h]@1
  char v21; // [sp+48h] [bp-2E4h]@1

  v7 = sub_10055360(29, -1);
  memset(&v8, 0, 0x34u);
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v12 = 0;
  v13 = 0;
  v14 = &unk_10DDD270;
  v15 = 4096;
  v16 = &unk_10DDE270;
  v17 = 46920;
  v18 = 15;
  v19 = -2;
  v20 = 0xFFFF;
  v11 = a1 + 48;
  v3 = sub_10044C20(a1, a2, 4, &v21, (int)&v8);
  v4 = v3;
  if ( v3 < 0xFFFFFFC2 && v3 )
  {
    v5 = sub_10044EE0(v3, a3);
    sub_10044E60(v4);
  }
  else
  {
    v5 = v3;
  }
  sub_10055330(v7, 29);
  return v5;
}

//----- (10045290) --------------------------------------------------------
unsigned int __cdecl sub_10045290(int a1, int a2, size_t a3, int a4, int a5)
{
  int v5; // ecx@1
  unsigned int result; // eax@1
  int v7; // ebp@4
  int v8; // ebx@4
  int v9; // esi@6
  char *v10; // ebx@7
  char *v11; // [sp+0h] [bp-190h]@5
  char *v12; // [sp+4h] [bp-18Ch]@7
  char *v13; // [sp+8h] [bp-188h]@5
  int v14; // [sp+10h] [bp-180h]@4
  int v15; // [sp+14h] [bp-17Ch]@3
  size_t v16; // [sp+1Ch] [bp-174h]@5
  char v17; // [sp+24h] [bp-16Ch]@6

  v5 = a1;
  result = a4;
  if ( a1 && (signed int)a3 <= 360 )
  {
    result = 0;
    v15 = 0;
    do
    {
      v7 = *(int *)((char *)&dword_10095A68 + result);
      v8 = *(int *)((char *)&dword_10095A68 + result);
      v14 = *(int *)((char *)&dword_10095A68 + result);
      if ( v7 < a2 )
      {
        v16 = a3 * v7;
        v11 = (char *)(v5 + a3 * v7);
        v13 = (char *)v5;
        do
        {
          memcpy(&v17, v11, a3);
          v9 = v8;
          if ( v8 >= v7 )
          {
            v10 = v13;
            v12 = v11;
            do
            {
              if ( ((int (__cdecl *)(char *, char *, int))a4)(&v17, v10, a5) >= 0 )
                break;
              memcpy(v12, v10, a3);
              v12 -= v16;
              v9 -= v7;
              v10 -= v16;
            }
            while ( v9 >= v7 );
            v8 = v14;
          }
          memcpy((void *)(a1 + a3 * v9), &v17, a3);
          v11 += a3;
          v13 += a3;
          v14 = ++v8;
        }
        while ( v8 < a2 );
        result = v15;
        v5 = a1;
      }
      result += 4;
      v15 = result;
    }
    while ( result < 0x40 );
  }
  return result;
}
// 10095A68: using guessed type int dword_10095A68;

//----- (10045410) --------------------------------------------------------
unsigned int __cdecl sub_10045410(int a1, int a2, size_t a3, int a4)
{
  return sub_10045290(a1, a2, a3, (int)sub_100453F0, a4);
}
// 100453F0: using guessed type int sub_100453F0();

//----- (10045440) --------------------------------------------------------
char __cdecl sub_10045440(char a1, _DWORD *a2)
{
  int v2; // eax@1
  char result; // al@2

  v2 = sub_10045BE0(&a1, 2u, (int)&unk_100B270A, 8, 415, -1);
  if ( v2 == -1 )
  {
    result = 0;
  }
  else
  {
    *a2 = *(&dword_100B270C + 2 * v2);
    result = 1;
  }
  return result;
}

//----- (10045480) --------------------------------------------------------
__int16 __usercall sub_10045480@<ax>(int a1@<edi>, char a2)
{
  __int16 v2; // ax@1
  __int16 result; // ax@3

  v2 = sub_10045BE0(&a2, 2u, (int)&unk_100B3580, 16, 18, -1);
  if ( v2 == -1 )
  {
LABEL_11:
    result = -1;
  }
  else
  {
    switch ( a1 )
    {
      case 1:
        result = word_100B3582[8 * v2];
        break;
      case 2:
        result = word_100B3586[8 * v2];
        break;
      case 4:
        result = word_100B3584[8 * v2];
        break;
      case 64:
        result = word_100B3588[8 * v2];
        break;
      case 128:
        result = word_100B358A[8 * v2];
        break;
      case 16:
        result = word_100B358C[8 * v2];
        break;
      case 32:
        result = word_100B358E[8 * v2];
        break;
      default:
        sub_10042720(byte_10DE99B8, 0x64u, "Unrecognized LRU (%u) passed into alert processing.", a1);
        sub_100429F0("..\\lib\\adl\\sys_updt_alrt_data.c", 1037, 0, byte_10DE99B8);
        goto LABEL_11;
    }
  }
  return result;
}
// 100B3582: using guessed type __int16 word_100B3582[];
// 100B3584: using guessed type __int16 word_100B3584[];
// 100B3586: using guessed type __int16 word_100B3586[];
// 100B3588: using guessed type __int16 word_100B3588[];
// 100B358A: using guessed type __int16 word_100B358A[];
// 100B358C: using guessed type __int16 word_100B358C[];
// 100B358E: using guessed type __int16 word_100B358E[];

//----- (10045620) --------------------------------------------------------
signed __int16 __usercall sub_10045620@<ax>(void *a1@<ecx>, signed __int16 a2@<bx>, const char *a3@<esi>)
{
  signed __int16 v3; // di@1
  void *v4; // ecx@4
  int v5; // eax@19
  char v7; // [sp+4h] [bp-38h]@2

  v3 = a2;
  if ( a3 )
    memset(&v7, 0, 0x33u);
  if ( a2 == 300 )
  {
    switch ( sub_10045A80(a1) )
    {
      case 1:
        v3 = 380;
        if ( !a3 )
          return v3;
        sub_10042750(&v7, "PFD1", 51);
        break;
      case 4:
        v3 = 381;
        if ( !a3 )
          return v3;
        sub_10042750(&v7, "MFD1", 51);
        break;
      case 2:
        v3 = 382;
        if ( !a3 )
          return v3;
        sub_10042750(&v7, "PFD2", 51);
        break;
      case 64:
        v3 = 383;
        if ( !a3 )
          return v3;
        sub_10042750(&v7, "GTC1", 51);
        break;
      case 128:
        v3 = 384;
        if ( !a3 )
          return v3;
        sub_10042750(&v7, "GTC2", 51);
        break;
      case 16:
        v3 = 385;
        if ( !a3 )
          return v3;
        sub_10042750(&v7, "GTC3", 51);
        break;
      case 32:
        v3 = 386;
        if ( !a3 )
          return v3;
        sub_10042750(&v7, "GTC4", 51);
        break;
      default:
        v3 = -1;
        v5 = sub_10045A80(v4);
        sub_10042720(byte_10DE99B8, 0x64u, "Unrecognized LRU (%u) passed into DB error alert processing.", v5);
        sub_100429F0("..\\lib\\adl\\sys_updt_alrt_data.c", 1286, 0, byte_10DE99B8);
        break;
    }
  }
  if ( a3 )
    sub_10042750(a3, &v7, 51);
  return v3;
}

//----- (10045870) --------------------------------------------------------
char __cdecl sub_10045870(signed __int16 a1)
{
  void *v1; // ecx@0
  int v2; // eax@1
  char result; // al@2
  char v4; // [sp+Ah] [bp-6h]@1
  char v5; // [sp+Bh] [bp-5h]@1
  int v6; // [sp+Ch] [bp-4h]@1

  v4 = 0;
  v5 = 0;
  v6 = (unsigned __int16)sub_10045620(v1, a1, 0);
  v2 = sub_10045BE0(&v6, 2u, (int)&unk_100B270A, 8, 415, -1);
  if ( v2 < 0 )
  {
    sub_100429F0("..\\lib\\adl\\sys_updt_alrt_data.c", 152, 0, 0);
    result = 0;
  }
  else
  {
    sub_10056030(*(&dword_100B270C + 2 * v2), &v4, 1, &v5);
    result = v4;
  }
  return result;
}

//----- (10045900) --------------------------------------------------------
char __cdecl sub_10045900(char a1, int a2)
{
  __int16 v2; // ax@1

  v2 = sub_10045480(a2, a1);
  return sub_10045870(v2);
}

//----- (10045920) --------------------------------------------------------
char __cdecl sub_10045920(unsigned __int16 a1)
{
  int v1; // esi@2
  int v2; // eax@2
  char v4; // [sp+6h] [bp-6h]@1
  char v5; // [sp+7h] [bp-5h]@1
  int v6; // [sp+8h] [bp-4h]@1

  v4 = 0;
  v5 = 1;
  if ( sub_10045440(a1, &v6) )
  {
    v1 = v6;
    v2 = sub_10056030(v6, &v4, 1, &v5);
    if ( !v2 && !v4 )
    {
      v4 = 1;
      LOBYTE(v2) = sub_10056010(v1, (int)&v4, 1);
    }
  }
  else
  {
    sub_10042720(
      byte_10DE99B8,
      0x64u,
      "An attempt to set a system trigger was performed with an invalid trigger id (%u)",
      a1);
    LOBYTE(v2) = sub_100429F0("..\\lib\\adl\\sys_updt_alrt_data.c", 666, 0, byte_10DE99B8);
  }
  return v2;
}

//----- (100459C0) --------------------------------------------------------
char __cdecl sub_100459C0(signed __int16 a1, _BYTE *a2)
{
  void *v2; // ecx@1
  __int16 v3; // si@1
  int v5; // [sp+Ch] [bp-3Ch]@1
  char v6; // [sp+10h] [bp-38h]@1

  memset(&v6, 0, 0x33u);
  v5 = (unsigned __int16)sub_10045620(v2, a1, &v6);
  v3 = sub_10045BE0(&v5, 2u, (int)&unk_100B3408, 12, 32, -1);
  if ( v3 != -1 && a2 )
  {
    sub_10042750(&v6, a2, 51);
    sub_10056010(dword_100B3404[3 * v3], (int)&v6, 51);
  }
  else
  {
    sub_100429F0("..\\lib\\adl\\sys_updt_alrt_data.c", 730, 0, 0);
  }
  return sub_10045920(v5);
}
// 100B3404: using guessed type int dword_100B3404[];

//----- (10045A80) --------------------------------------------------------
int __thiscall sub_10045A80(void *this)
{
  void *v2; // [sp+0h] [bp-4h]@1

  v2 = this;
  sub_10042F20(46, (char *)&v2);
  return (int)v2;
}

//----- (10045AA0) --------------------------------------------------------
int __cdecl sub_10045AA0(int a1, signed int a2, signed int a3)
{
  int result; // eax@1

  result = a1;
  *(double *)(a1 + 8) = (double)a3 * 0.000000001462918079267163;
  *(double *)a1 = 0.000000001462918079267163 * (double)a2;
  return result;
}

//----- (10045AC0) --------------------------------------------------------
int __cdecl sub_10045AC0(int a1, double a2, double a3)
{
  long double v3; // st6@1
  long double v4; // st4@1
  int result; // eax@3
  double v6; // st7@6
  double v7; // [sp+0h] [bp-10h]@6
  double v8; // [sp+8h] [bp-8h]@6

  v3 = fabs(a2);
  v4 = fabs(a3);
  if ( v3 > 1.5707963267949 || v4 >= 3.1415926535898 )
  {
    if ( v3 > 4.7123889803847 || v4 > 12.5663706143592 )
    {
      result = a1;
      *(_DWORD *)a1 = 2147483648;
      *(_DWORD *)(a1 + 4) = 2147483648;
    }
    else
    {
      v7 = a2;
      v8 = a3;
      sub_10045DA0((int)&v7);
      v6 = 683565275.5764301 * v8;
      *(_DWORD *)a1 = (signed int)(v7 * 683565275.5764301);
      result = (signed int)v6;
      *(_DWORD *)(a1 + 4) = (signed int)v6;
    }
  }
  else
  {
    *(_DWORD *)a1 = (signed int)(a2 * 683565275.5764301);
    result = (signed int)(683565275.5764301 * a3);
    *(_DWORD *)(a1 + 4) = result;
  }
  return result;
}

//----- (10045BB0) --------------------------------------------------------
signed int sub_10045BB0()
{
  return 1000;
}

//----- (10045BD0) --------------------------------------------------------
int sub_10045BD0()
{
  return sub_10048540((int)off_10096B48);
}
// 10096B48: using guessed type int (*off_10096B48[4])();

//----- (10045BE0) --------------------------------------------------------
int __cdecl sub_10045BE0(_DWORD *a1, unsigned int a2, int a3, int a4, int a5, int a6)
{
  int result; // eax@6
  int v7; // ebx@6
  _DWORD *v8; // esi@7
  unsigned int v9; // ecx@7
  _DWORD *v10; // edx@7
  int v11; // edi@11
  int v12; // ecx@12
  _BYTE *v13; // edx@12
  _BYTE *v14; // esi@12
  int v15; // ecx@14
  _BYTE *v16; // edx@14
  _BYTE *v17; // esi@14
  _BYTE *v18; // edx@16
  _BYTE *v19; // esi@16
  signed int v20; // ecx@18
  _DWORD *v21; // esi@23
  unsigned int v22; // ecx@23
  _DWORD *v23; // edx@23
  int v24; // edi@27
  int v25; // ecx@28
  _BYTE *v26; // edx@28
  _BYTE *v27; // esi@28
  int v28; // ecx@30
  _BYTE *v29; // edx@30
  _BYTE *v30; // esi@30
  _BYTE *v31; // edx@32
  _BYTE *v32; // esi@32
  int v33; // edx@33
  signed int v34; // ecx@34
  int v35; // [sp+4h] [bp-4h]@6

  if ( a1 && (signed int)a2 > 0 && a3 && a4 > 0 && a5 > 0 )
  {
    result = a5 - 1;
    v7 = a3 + a4 * (a5 - 1);
    v35 = a5 - 1;
    if ( a5 - 1 > 0 )
    {
      while ( 1 )
      {
        v8 = a1;
        v9 = a2;
        v10 = (_DWORD *)v7;
        if ( a2 < 4 )
        {
LABEL_10:
          if ( !v9 )
            goto LABEL_20;
        }
        else
        {
          while ( *v8 == *v10 )
          {
            v9 -= 4;
            ++v10;
            ++v8;
            if ( v9 < 4 )
              goto LABEL_10;
          }
        }
        v11 = *(_BYTE *)v8 - *(_BYTE *)v10;
        if ( *(_BYTE *)v8 != *(_BYTE *)v10
          || (v12 = v9 - 1, v13 = (char *)v10 + 1, v14 = (char *)v8 + 1, v12)
          && ((v11 = *v14 - *v13, *v14 != *v13)
           || (v15 = v12 - 1, v16 = v13 + 1, v17 = v14 + 1, v15)
           && ((v11 = *v17 - *v16, *v17 != *v16)
            || (v18 = v16 + 1, v19 = v17 + 1, v15 != 1) && (v11 = *v19 - *v18, *v19 != *v18))) )
        {
          v20 = 1;
          if ( v11 <= 0 )
            v20 = -1;
          goto LABEL_21;
        }
LABEL_20:
        v20 = 0;
LABEL_21:
        result = v35;
        if ( v20 )
        {
          v7 -= a4;
          result = v35 - 1;
          v35 = result;
          if ( result > 0 )
            continue;
        }
        break;
      }
    }
    v21 = a1;
    v22 = a2;
    v23 = (_DWORD *)v7;
    if ( a2 < 4 )
    {
LABEL_26:
      if ( !v22 )
        goto LABEL_36;
    }
    else
    {
      while ( *v21 == *v23 )
      {
        v22 -= 4;
        ++v23;
        ++v21;
        if ( v22 < 4 )
          goto LABEL_26;
      }
    }
    v24 = *(_BYTE *)v21 - *(_BYTE *)v23;
    if ( *(_BYTE *)v21 != *(_BYTE *)v23
      || (v25 = v22 - 1, v26 = (char *)v23 + 1, v27 = (char *)v21 + 1, v25)
      && ((v24 = *v27 - *v26, *v27 != *v26)
       || (v28 = v25 - 1, v29 = v26 + 1, v30 = v27 + 1, v28)
       && ((v24 = *v30 - *v29, *v30 != *v29)
        || (v31 = v29 + 1, v32 = v30 + 1, v28 != 1) && (v33 = *v31, v24 = *v32 - v33, *v32 != v33))) )
    {
      v34 = 1;
      if ( v24 <= 0 )
        v34 = -1;
LABEL_37:
      if ( !v34 )
        return result;
      return a6;
    }
LABEL_36:
    v34 = 0;
    goto LABEL_37;
  }
  return a6;
}

//----- (10045D70) --------------------------------------------------------
int sub_10045D70()
{
  int result; // eax@1

  sub_10055FE0(6361, (int)&unk_10DE9A34, 4);
  result = sub_10055FE0(6362, (int)&unk_10DE9A38, 4);
  dword_10DE9A3C = 1379255385;
  return result;
}
// 10DE9A3C: using guessed type int dword_10DE9A3C;

//----- (10045DA0) --------------------------------------------------------
int __cdecl sub_10045DA0(int a1)
{
  double v1; // ST0C_8@2
  double v2; // st6@4
  double v3; // st7@4
  double v4; // ST0C_8@7
  double v5; // rt2@8
  double v6; // st6@8
  double v7; // st7@8
  double v8; // st7@14
  double v9; // st7@18
  int result; // eax@18

  if ( a1 )
  {
    v1 = *(double *)a1;
    if ( (HIDWORD(v1) & 0x7FF00000) == 2146435072 || *(double *)a1 > 6.2831853071796 )
    {
      *(double *)a1 = 6.2831853071796;
      v2 = -6.2831853071796;
      v3 = 6.2831853071796;
    }
    else
    {
      v2 = -6.2831853071796;
      v3 = 6.2831853071796;
      if ( *(double *)a1 < -6.2831853071796 )
        *(double *)a1 = -6.2831853071796;
    }
    v4 = *(double *)(a1 + 8);
    if ( (HIDWORD(v4) & 0x7FF00000) == 2146435072 )
    {
      *(double *)(a1 + 8) = v3;
    }
    else
    {
      v5 = v2;
      v6 = v3;
      v7 = v5;
      if ( v6 < *(double *)(a1 + 8) )
      {
        *(double *)(a1 + 8) = v6;
      }
      else if ( v7 > *(double *)(a1 + 8) )
      {
        *(double *)(a1 + 8) = v7;
      }
    }
    if ( *(double *)a1 <= 1.5707963267949 )
    {
      if ( *(double *)a1 >= -1.5707963267949 )
      {
LABEL_18:
        v9 = *(double *)(a1 + 8);
        result = sub_10070190(v9);
        *(double *)(a1 + 8) = v9;
        return result;
      }
      *(double *)a1 = -3.1415926535898 - *(double *)a1;
      v8 = *(double *)(a1 + 8) + 3.1415926535898;
    }
    else
    {
      *(double *)a1 = 3.1415926535898 - *(double *)a1;
      v8 = *(double *)(a1 + 8) + 3.1415926535898;
    }
    *(double *)(a1 + 8) = v8;
    goto LABEL_18;
  }
  return result;
}

//----- (10045EA0) --------------------------------------------------------
unsigned int __cdecl sub_10045EA0(char *a1)
{
  return sub_10051BD0(a1, -100, 100, 0, 0);
}

//----- (10045EC0) --------------------------------------------------------
int __cdecl sub_10045EC0(_BYTE *a1)
{
  return sub_10051E30(a1, 0x1CCF0u, 0x2171Eu, 0x2171Eu, 0);
}

//----- (10045EE0) --------------------------------------------------------
int __cdecl sub_10045EE0(unsigned __int8 *a1)
{
  return sub_10051D40(a1, 0, 1u, 1u, 0);
}

//----- (10045F00) --------------------------------------------------------
unsigned int __cdecl sub_10045F00(int a1, int a2)
{
  signed int v2; // ebx@1
  unsigned int result; // eax@1

  v2 = 0;
  result = sub_10051A90((_BYTE *)(a1 + 6), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 15), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 16), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  if ( sub_10051D40((unsigned __int8 *)(a1 + 12), 0, 0xFFu, 0, a2) == 1 )
    v2 = 1;
  result = sub_10051A90((_BYTE *)a1, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 21), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 2), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 9), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 3), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 19), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051BD0((char *)(a1 + 14), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 8), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 22), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051D40((unsigned __int8 *)(a1 + 7), 0, 0x40u, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 10), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 20), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 5), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 11), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051D40((unsigned __int8 *)(a1 + 4), 0, 0x40u, 0x30u, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 23), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 13), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 1), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 18), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051BD0((char *)(a1 + 17), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 24), 0, a2);
  if ( result != 1 && !result )
    result = v2;
  return result;
}

//----- (10046230) --------------------------------------------------------
unsigned int __cdecl sub_10046230(int a1, int a2)
{
  signed int v2; // ebx@1
  unsigned int result; // eax@1

  v2 = 0;
  result = sub_10051A90((_BYTE *)(a1 + 21), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 24), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 26), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051BD0((char *)(a1 + 10), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 30), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 31), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 27), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 29), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 28), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 18), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 17), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 8), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 23), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 22), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051BD0((char *)(a1 + 13), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051BD0((char *)(a1 + 5), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051BD0((char *)a1, -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051BD0((char *)(a1 + 1), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051BD0((char *)(a1 + 2), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051BD0((char *)(a1 + 3), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051BD0((char *)(a1 + 4), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 15), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 16), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051BD0((char *)(a1 + 12), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 14), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051BD0((char *)(a1 + 11), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051BD0((char *)(a1 + 7), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 20), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 19), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051BD0((char *)(a1 + 9), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051A90((_BYTE *)(a1 + 25), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10051BD0((char *)(a1 + 6), -31, 31, 0, a2);
  if ( result != 1 && !result )
    result = v2;
  return result;
}

//----- (10046670) --------------------------------------------------------
unsigned int __cdecl sub_10046670(_BYTE *a1)
{
  return sub_10051C20(a1, -1, 5, -1, 0);
}

//----- (10046690) --------------------------------------------------------
int __cdecl sub_10046690(unsigned __int8 *a1)
{
  return sub_10051D40(a1, 0, 5u, 0, 0);
}

//----- (100466B0) --------------------------------------------------------
int __cdecl sub_100466B0(unsigned __int8 *a1)
{
  return sub_10051D40(a1, 0, 4u, 2u, 0);
}

//----- (100466D0) --------------------------------------------------------
int __cdecl sub_100466D0(_BYTE *a1)
{
  return sub_10051E30(a1, 0, 2u, 0, 0);
}

//----- (100466F0) --------------------------------------------------------
int __cdecl sub_100466F0(int a1)
{
  return sub_10051AE0(a1, 0.1, 4.0, COERCE_INT(1.5), 0);
}

//----- (10046740) --------------------------------------------------------
int __cdecl sub_10046740(unsigned __int8 *a1)
{
  int result; // eax@1

  result = sub_100466F0((int)(a1 + 4));
  if ( !result )
    result = sub_100466B0(a1);
  return result;
}

//----- (10046760) --------------------------------------------------------
int __cdecl sub_10046760(int a1)
{
  int result; // eax@1

  result = sub_10046690((unsigned __int8 *)(a1 + 1));
  if ( !result )
  {
    result = sub_10046690((unsigned __int8 *)(a1 + 2));
    if ( !result )
    {
      result = sub_10046690((unsigned __int8 *)(a1 + 3));
      if ( !result )
      {
        result = sub_10052180((unsigned __int8 *)(a1 + 7));
        if ( !result )
        {
          result = sub_10051A90((_BYTE *)(a1 + 5), 0, 0);
          if ( !result )
          {
            result = sub_10051A90((_BYTE *)a1, 0, 0);
            if ( !result )
            {
              result = sub_10051A90((_BYTE *)(a1 + 4), 0, 0);
              if ( !result )
                result = sub_10051A90((_BYTE *)(a1 + 6), 0, 0);
            }
          }
        }
      }
    }
  }
  return result;
}

//----- (100467F0) --------------------------------------------------------
unsigned int __cdecl sub_100467F0(int a1)
{
  unsigned int result; // eax@1

  result = sub_10046670((_BYTE *)a1);
  if ( !result )
    result = sub_10046670((_BYTE *)(a1 + 4));
  return result;
}

//----- (10046810) --------------------------------------------------------
signed int __cdecl sub_10046810(int a1)
{
  int v1; // esi@1
  signed int result; // eax@2
  signed int v3; // esi@4

  v1 = 0;
  while ( 1 )
  {
    result = sub_10051A90((_BYTE *)(v1 + a1), 0, 0);
    if ( result )
      break;
    if ( ++v1 >= 6 )
    {
      v3 = 0;
      do
      {
        result = sub_10051A90((_BYTE *)(a1 + v3 + 6), 0, 0);
        if ( result )
          break;
        ++v3;
      }
      while ( v3 < 6 );
      return result;
    }
  }
  return result;
}

//----- (10046860) --------------------------------------------------------
unsigned int __cdecl sub_10046860(int a1)
{
  unsigned int result; // eax@1

  result = sub_10046670((_BYTE *)a1);
  if ( !result )
  {
    result = sub_10046670((_BYTE *)(a1 + 4));
    if ( !result )
    {
      result = sub_10046670((_BYTE *)(a1 + 8));
      if ( !result )
      {
        result = sub_10046670((_BYTE *)(a1 + 12));
        if ( !result )
          result = sub_10051A90((_BYTE *)(a1 + 16), 1, 0);
      }
    }
  }
  return result;
}

//----- (100468C0) --------------------------------------------------------
int __cdecl sub_100468C0(_BYTE *a1)
{
  return sub_10051E30(a1, 0, 0x20u, 2u, 0);
}

//----- (100468E0) --------------------------------------------------------
unsigned int __cdecl sub_100468E0(_BYTE *a1)
{
  return sub_10051C20(a1, -1, 4, -1, 0);
}

//----- (10046900) --------------------------------------------------------
int __cdecl sub_10046900(unsigned __int8 *a1)
{
  return sub_10051D40(a1, 0, 9u, 0, 0);
}

//----- (10046920) --------------------------------------------------------
int __cdecl sub_10046920(_BYTE *a1)
{
  return sub_10051E30(a1, 0x81u, 0xFFu, 0xC0u, 0);
}

//----- (10046940) --------------------------------------------------------
signed int __cdecl sub_10046940(_BYTE *a1, int a2)
{
  bool v2; // zf@1
  signed int result; // eax@1

  v2 = sub_10051E30(a1, 0, 0xFFFFFFFF, 0, a2) == 1;
  result = 1;
  if ( !v2 )
    result = 0;
  return result;
}

//----- (10046970) --------------------------------------------------------
int __cdecl sub_10046970(_BYTE *a1, int a2)
{
  int result; // eax@1

  result = sub_10051D90(a1, 0, 0xFFFu, 640, a2);
  if ( result != 1 && !result )
    result = 0;
  return result;
}

//----- (100469B0) --------------------------------------------------------
int __cdecl sub_100469B0(int a1, int a2)
{
  signed int v2; // ebx@1
  int result; // eax@3

  v2 = 0;
  if ( sub_10046940((_BYTE *)(a1 + 8), a2) == 1 )
    v2 = 1;
  result = sub_10046970((_BYTE *)(a1 + 2), a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10046970((_BYTE *)(a1 + 4), a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100522A0((unsigned __int8 *)a1, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10046970((_BYTE *)(a1 + 6), a2);
  if ( result != 1 && !result )
    result = v2;
  return result;
}

//----- (10046A40) --------------------------------------------------------
int __cdecl sub_10046A40(unsigned __int8 *a1)
{
  return sub_10051D40(a1, 0, 2u, 0, 0);
}

//----- (10046A60) --------------------------------------------------------
int __cdecl sub_10046A60(int a1)
{
  int result; // eax@1

  result = sub_10051D40((unsigned __int8 *)a1, 0, 0x78u, 0, 0);
  if ( !result )
    result = sub_10051D40((unsigned __int8 *)(a1 + 1), 0, 0x78u, 0, 0);
  return result;
}

//----- (10046A90) --------------------------------------------------------
int __cdecl sub_10046A90(unsigned __int8 *a1)
{
  return sub_10051D40(a1, 0, 3u, 1u, 0);
}

//----- (10046AB0) --------------------------------------------------------
unsigned int __cdecl sub_10046AB0(int a1)
{
  unsigned int result; // eax@1

  result = sub_10051C20((_BYTE *)a1, -1, 5, -1, 0);
  if ( !result )
    result = sub_10051C20((_BYTE *)(a1 + 4), -1, 5, -1, 0);
  return result;
}

//----- (10046AE0) --------------------------------------------------------
int __cdecl sub_10046AE0(int a1)
{
  int result; // eax@1

  result = sub_10051AE0(a1, 0.0, 5.0, COERCE_INT(0.23), 0);
  if ( !result )
  {
    result = sub_10051AE0(a1 + 4, -10.0, 10.0, COERCE_INT(0.0), 0);
    if ( !result )
    {
      result = sub_10051AE0(a1 + 8, 0.0, 12.9, COERCE_INT(0.86000001), 0);
      if ( !result )
      {
        result = sub_10051AE0(a1 + 12, 0.0, 5.0, COERCE_INT(0.23), 0);
        if ( !result )
          result = sub_10051AE0(a1 + 16, -10.0, 10.0, COERCE_INT(0.0), 0);
      }
    }
  }
  return result;
}

//----- (10046BD0) --------------------------------------------------------
int __cdecl sub_10046BD0(int a1)
{
  int v1; // edi@1
  int result; // eax@2

  v1 = 0;
  while ( 1 )
  {
    result = sub_10051A90((_BYTE *)(a1 + v1 + 44), 0, 0);
    if ( result )
      break;
    if ( ++v1 >= 6 )
    {
      result = sub_10051D40((unsigned __int8 *)(a1 + 1), 0, 3u, 1u, 0);
      if ( !result )
      {
        result = sub_10046AB0(a1 + 36);
        if ( !result )
        {
          result = sub_10051AE0(a1 + 52, -9.9999996e24, 9.9999996e24, COERCE_INT(77.166664), 0);
          if ( !result )
          {
            result = sub_10046AE0(a1 + 8);
            if ( !result )
            {
              result = sub_10046AB0(a1 + 28);
              if ( !result )
              {
                result = sub_10051D90((_BYTE *)(a1 + 2), 0x1F4u, 0x800u, 600, 0);
                if ( !result )
                {
                  result = sub_10046A40((unsigned __int8 *)(a1 + 50));
                  if ( !result )
                  {
                    result = sub_10046A60(a1 + 57);
                    if ( !result )
                    {
                      result = sub_10051A90((_BYTE *)(a1 + 56), 0, 0);
                      if ( !result )
                        result = sub_10046A90((unsigned __int8 *)(a1 + 51));
                    }
                  }
                }
              }
            }
          }
        }
      }
      return result;
    }
  }
  return result;
}

//----- (10046CE0) --------------------------------------------------------
signed int __cdecl sub_10046CE0(_BYTE *a1, int a2)
{
  bool v2; // zf@1
  signed int result; // eax@1

  v2 = sub_10051D90(a1, 0, 0xFFFFu, 0, a2) == 1;
  result = 1;
  if ( !v2 )
    result = 0;
  return result;
}

//----- (10046D10) --------------------------------------------------------
signed int __cdecl sub_10046D10(unsigned __int8 *a1, int a2)
{
  bool v2; // zf@1
  signed int result; // eax@1

  v2 = sub_10051D40(a1, 0, 0xFFu, 0, a2) == 1;
  result = 1;
  if ( !v2 )
    result = 0;
  return result;
}

//----- (10046D40) --------------------------------------------------------
int __cdecl sub_10046D40(unsigned __int8 *a1)
{
  return sub_10051D40(a1, 0, 0x64u, 0x64u, 0);
}

//----- (10046DA0) --------------------------------------------------------
int __cdecl sub_10046DA0(int a1)
{
  int v1; // esi@1
  int result; // eax@2

  v1 = 0;
  while ( 1 )
  {
    result = sub_10051A90((_BYTE *)(v1 + a1 + 4), 0, 0);
    if ( result )
      break;
    if ( ++v1 >= 3 )
      return sub_10046D40((unsigned __int8 *)(a1 + 10));
  }
  return result;
}

//----- (10046DB0) --------------------------------------------------------
signed int __cdecl sub_10046DB0(_BYTE *a1, int a2)
{
  bool v2; // zf@1
  signed int result; // eax@1

  v2 = sub_10051E30(a1, 0, 0xFFFFFFFF, 0xFFFFFFFF, a2) == 1;
  result = 1;
  if ( !v2 )
    result = 0;
  return result;
}

//----- (10046DE0) --------------------------------------------------------
int __cdecl sub_10046DE0(int a1, int a2)
{
  signed int v2; // ebp@1
  unsigned __int8 v3; // bl@1
  int result; // eax@3

  v2 = 0;
  v3 = 0;
  do
  {
    switch ( v3 )
    {
      case 4u:
      case 5u:
      case 6u:
      case 9u:
      case 0xAu:
        result = sub_10051D40((unsigned __int8 *)(a1 + v3), 0, 0x3Fu, 0, a2);
        break;
      default:
        result = sub_10051D40((unsigned __int8 *)(a1 + v3), 0, 0xFFu, 0xFFu, a2);
        break;
    }
    if ( result == 1 )
    {
      v2 = 1;
    }
    else if ( result )
    {
      return result;
    }
    ++v3;
  }
  while ( v3 < 0xDu );
  return v2;
}

//----- (10046E60) --------------------------------------------------------
unsigned int __cdecl sub_10046E60(int a1)
{
  unsigned int result; // eax@1

  result = sub_10045EA0((char *)(a1 + 3));
  if ( !result )
  {
    result = sub_10045EA0((char *)(a1 + 2));
    if ( !result )
    {
      result = sub_10045EA0((char *)a1);
      if ( !result )
        result = sub_10045EA0((char *)(a1 + 1));
    }
  }
  return result;
}

//----- (10046EA0) --------------------------------------------------------
unsigned int __cdecl sub_10046EA0(int a1)
{
  signed int v1; // esi@1
  int v2; // edi@1
  unsigned int result; // eax@2

  v1 = 0;
  v2 = a1;
  while ( 1 )
  {
    result = sub_10046E60(v2);
    if ( result )
      break;
    ++v1;
    v2 += 4;
    if ( v1 >= 3 )
    {
      result = sub_10046A40((unsigned __int8 *)(a1 + 12));
      if ( !result )
        result = sub_10045EE0((unsigned __int8 *)(a1 + 13));
      return result;
    }
  }
  return result;
}

//----- (10046EF0) --------------------------------------------------------
int __cdecl sub_10046EF0(int a1)
{
  int result; // eax@1

  result = sub_10045EC0((_BYTE *)(a1 + 4));
  if ( !result )
    result = sub_10051D90((_BYTE *)a1, 0, 0x3FFFu, 0x3FFF, 0);
  return result;
}

//----- (10046F20) --------------------------------------------------------
int __cdecl sub_10046F20(int a1)
{
  int result; // eax@1

  result = sub_100466D0((_BYTE *)a1);
  if ( !result )
    result = sub_10046920((_BYTE *)(a1 + 4));
  return result;
}

//----- (10046F50) --------------------------------------------------------
unsigned int __cdecl sub_10046F50(int a1)
{
  unsigned int result; // eax@1

  result = sub_10046670((_BYTE *)a1);
  if ( !result )
  {
    result = sub_10046670((_BYTE *)(a1 + 4));
    if ( !result )
      result = sub_100468E0((_BYTE *)(a1 + 8));
  }
  return result;
}

//----- (10046F80) --------------------------------------------------------
unsigned int __cdecl sub_10046F80(int a1)
{
  unsigned int result; // eax@1

  result = sub_10046670((_BYTE *)a1);
  if ( !result )
    result = sub_10046900((unsigned __int8 *)(a1 + 4));
  return result;
}

//----- (10046FA0) --------------------------------------------------------
unsigned int __cdecl sub_10046FA0(int a1)
{
  unsigned int result; // eax@1

  result = sub_10046670((_BYTE *)a1);
  if ( !result )
  {
    result = sub_10051D40((unsigned __int8 *)(a1 + 8), 0, 0x1Eu, 0x1Eu, 0);
    if ( !result )
      result = sub_100468E0((_BYTE *)(a1 + 4));
  }
  return result;
}

//----- (10046FE0) --------------------------------------------------------
void __cdecl __noreturn sub_10046FE0(int a1)
{
  exit_0(a1 + 4);
}

//----- (10047150) --------------------------------------------------------
signed int __cdecl sub_10047150(int a1, int a2)
{
  signed int v2; // ebx@1
  bool v3; // zf@5
  signed int result; // eax@5

  v2 = 0;
  if ( sub_10046D10((unsigned __int8 *)a1, a2) == 1 )
    v2 = 1;
  if ( sub_10046CE0((_BYTE *)(a1 + 2), a2) == 1 )
    v2 = 1;
  v3 = sub_10046D10((unsigned __int8 *)(a1 + 1), a2) == 1;
  result = 1;
  if ( !v3 )
    result = v2;
  return result;
}

//----- (100471B0) --------------------------------------------------------
signed int __usercall sub_100471B0@<eax>(int a1@<eax>, int a2@<edi>)
{
  int v2; // esi@1
  signed int v3; // ebx@1
  char v4; // al@5
  signed int result; // eax@8
  int v6; // [sp+0h] [bp-Ch]@0

  v2 = a1;
  v3 = 0;
  if ( sub_10047150(a1, v6) == 1 )
    v3 = 1;
  if ( a2 == 2 )
  {
    *(_BYTE *)(v2 + 1) = 40;
    v3 = 1;
  }
  v4 = *(_BYTE *)(v2 + 1);
  if ( v4 == 26 || v4 == 12 )
  {
    result = sub_10051D40((unsigned __int8 *)(v2 + 4), 0x20u, 0x20u, 0x20u, a2);
    if ( result == 1 )
    {
      v3 = 1;
    }
    else if ( result )
    {
      return result;
    }
    result = sub_10051A90((_BYTE *)(v2 + 37), 0, a2);
    if ( result == 1 )
    {
      v3 = 1;
    }
    else if ( result )
    {
      return result;
    }
    if ( *(_BYTE *)(v2 + 1) == 26 )
      result = sub_10046230(v2 + 5, a2);
    else
      result = sub_10045F00(v2 + 5, a2);
    if ( result != 1 )
    {
      if ( result )
        return result;
      goto LABEL_25;
    }
    return 1;
  }
  if ( v4 != 40 )
  {
    if ( a2 != 1 )
      return -4;
    *(_BYTE *)(v2 + 1) = 40;
    return 1;
  }
  result = sub_10046DB0((_BYTE *)(v2 + 4), a2);
  if ( result != 1 )
LABEL_25:
    result = v3;
  return result;
}

//----- (10047280) --------------------------------------------------------
signed int __cdecl sub_10047280(int a1)
{
  return sub_100471B0(a1, 0);
}

//----- (10047290) --------------------------------------------------------
int __cdecl sub_10047290(char a1)
{
  int result; // eax@1

  result = 0;
  if ( a1 < 7 )
    result = (unsigned __int16)word_1009ED3C[a1];
  return result;
}
// 1009ED3C: using guessed type __int16 word_1009ED3C[];

//----- (100472B0) --------------------------------------------------------
signed int __usercall sub_100472B0@<eax>(char a1@<al>, int a2@<ecx>)
{
  signed int result; // eax@2

  switch ( a1 )
  {
    case 6:
      result = sub_10055930((int)&off_1009ED5C);
      break;
    case 0:
      result = sub_10055930((int)&off_1009ED70);
      break;
    case 1:
      result = sub_10055930((int)&off_1009ED84);
      break;
    case 2:
      result = sub_10055930((int)&off_1009EDAC);
      break;
    case 3:
      result = sub_10055930((int)&off_1009ED98);
      break;
    case 5:
      result = sub_10055930((int)&off_1009EDC0);
      break;
    default:
      result = sub_10055930(a2);
      break;
  }
  return result;
}
// 1009ED5C: using guessed type char *off_1009ED5C;
// 1009ED70: using guessed type char *off_1009ED70;
// 1009ED84: using guessed type char *off_1009ED84;
// 1009ED98: using guessed type char *off_1009ED98;
// 1009EDAC: using guessed type char *off_1009EDAC;
// 1009EDC0: using guessed type char *off_1009EDC0;

//----- (10047350) --------------------------------------------------------
int __usercall sub_10047350@<eax>(char a1@<al>)
{
  return sub_10055190(dword_1009E88C[a1]);
}
// 1009E88C: using guessed type int dword_1009E88C[];

//----- (10047370) --------------------------------------------------------
int __usercall sub_10047370@<eax>(char a1@<al>)
{
  return sub_100551F0(dword_1009E88C[a1], 10);
}
// 1009E88C: using guessed type int dword_1009E88C[];

//----- (10047390) --------------------------------------------------------
signed __int16 __usercall sub_10047390@<ax>(char a1@<al>, unsigned __int16 a2@<si>)
{
  signed __int16 result; // ax@3
  bool v3; // cf@8

  switch ( a1 )
  {
    case 6:
      if ( a2 < 0x2E5u )
      {
        if ( !(unsigned __int8)sub_100472B0(a1, a1) )
        {
          sub_100429F0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3201, 0, 0);
          goto LABEL_6;
        }
        result = *(_WORD *)(dword_10DF3434 + 2 * a2 + 241212);
        v3 = (unsigned __int16)result < 0x256u;
        goto LABEL_32;
      }
      sub_100429F0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3186, 0, 0);
      return -1;
    default:
      goto LABEL_6;
    case 0:
      if ( a2 >= 0x344u )
      {
        sub_100429F0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3224, 0, 0);
        return -1;
      }
      if ( (unsigned __int8)sub_100472B0(a1, a1) )
      {
        result = *(_WORD *)(dword_10DF3440 + 2 * a2 + 284664);
        v3 = (unsigned __int16)result < 0x211u;
        goto LABEL_32;
      }
      if ( sub_10042F00(15000) )
        goto LABEL_6;
      sub_100429F0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3242, 0, 0);
      return 0;
    case 1:
      if ( a2 >= 0xBCCu )
      {
        sub_100429F0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3265, 0, 0);
        return -1;
      }
      if ( !(unsigned __int8)sub_100472B0(a1, a1) )
        goto LABEL_6;
      result = *(_WORD *)(dword_10DF341C + 2 * a2 + 447808);
      v3 = (unsigned __int16)result < 0x979u;
      goto LABEL_32;
    case 2:
      if ( a2 >= 0x388u )
      {
        sub_100429F0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3302, 0, 0);
        return -1;
      }
      if ( !(unsigned __int8)sub_100472B0(a1, a1) )
        goto LABEL_6;
      result = *(_WORD *)(dword_10DF3444 + 2 * a2 + 356016);
      v3 = (unsigned __int16)result < 0x23Du;
      goto LABEL_32;
    case 3:
      if ( a2 >= 0xBEu )
      {
        sub_100429F0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3339, 0, 0);
        return -1;
      }
      if ( !(unsigned __int8)sub_100472B0(a1, a1) )
      {
        sub_100429F0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3354, 0, 0);
        return 0;
      }
      result = *(_WORD *)(dword_10DF3430 + 2 * a2 + 23096);
      v3 = (unsigned __int16)result < 0x52u;
      goto LABEL_32;
    case 5:
      if ( a2 < 4u )
      {
        if ( (unsigned __int8)sub_100472B0(a1, a1) )
        {
          result = *(_WORD *)(dword_10DF3420 + 2 * a2 + 1804);
          v3 = (unsigned __int16)result < 4u;
LABEL_32:
          if ( !v3 )
            result = -1;
        }
        else
        {
LABEL_6:
          result = 0;
        }
      }
      else
      {
        sub_100429F0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3377, 0, 0);
        result = -1;
      }
      return result;
  }
}
// 10DF341C: using guessed type int dword_10DF341C;
// 10DF3420: using guessed type int dword_10DF3420;
// 10DF3430: using guessed type int dword_10DF3430;
// 10DF3434: using guessed type int dword_10DF3434;
// 10DF3440: using guessed type int dword_10DF3440;
// 10DF3444: using guessed type int dword_10DF3444;

//----- (100475D0) --------------------------------------------------------
char __cdecl sub_100475D0(char a1, unsigned __int16 a2, void *a3)
{
  int v3; // ecx@1
  signed __int16 v4; // si@1
  char result; // al@2

  v4 = sub_10047390(a1, a2);
  if ( v4 == -1 )
  {
    result = 0;
  }
  else
  {
    switch ( a1 )
    {
      case 6:
        if ( (unsigned __int8)sub_100472B0(a1, v3) != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_10DF3434 + 210116), 0x34u);
        result = 1;
        break;
      case 0:
        if ( (unsigned __int8)sub_100472B0(a1, v3) != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_10DF3440 + 257156), 0x34u);
        result = 1;
        break;
      case 1:
        result = sub_100472B0(a1, v3);
        if ( result != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_10DF341C + 321708), 0x34u);
        break;
      case 2:
        if ( (unsigned __int8)sub_100472B0(a1, v3) != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_10DF3444 + 326220), 0x34u);
        result = 1;
        break;
      case 3:
        if ( (unsigned __int8)sub_100472B0(a1, v3) != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_10DF3430 + 18832), 0x34u);
        result = 1;
        break;
      case 5:
        result = sub_100472B0(a1, v3);
        if ( result != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_10DF3420 + 1596), 0x34u);
        break;
      default:
LABEL_16:
        result = 0;
        break;
    }
  }
  return result;
}
// 10DF341C: using guessed type int dword_10DF341C;
// 10DF3420: using guessed type int dword_10DF3420;
// 10DF3430: using guessed type int dword_10DF3430;
// 10DF3434: using guessed type int dword_10DF3434;
// 10DF3440: using guessed type int dword_10DF3440;
// 10DF3444: using guessed type int dword_10DF3444;

//----- (10047750) --------------------------------------------------------
char __cdecl sub_10047750(char a1, unsigned __int16 a2, int a3)
{
  signed __int16 v3; // si@1
  int v4; // ecx@2
  int v5; // eax@5

  v3 = sub_10047390(a1, a2);
  if ( v3 != -1 && !sub_10047370(a1) )
  {
    switch ( a1 )
    {
      case 6:
        if ( (unsigned __int8)sub_100472B0(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_10DF3434 + 24 * ((unsigned __int16)v3 + 25);
        goto LABEL_16;
      case 0:
        if ( (unsigned __int8)sub_100472B0(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_10DF3440 + 24 * (unsigned __int16)v3 + 532;
        goto LABEL_16;
      case 1:
        if ( (unsigned __int8)sub_100472B0(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_10DF341C + 24 * (unsigned __int16)v3 + 2428;
        goto LABEL_16;
      case 2:
        if ( (unsigned __int8)sub_100472B0(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_10DF3444 + 24 * ((unsigned __int16)v3 + 24);
        goto LABEL_16;
      case 3:
        if ( (unsigned __int8)sub_100472B0(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_10DF3430 + 24 * (unsigned __int16)v3 + 84;
        goto LABEL_16;
      case 5:
        if ( (unsigned __int8)sub_100472B0(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_10DF3420 + 24 * (unsigned __int16)v3 + 4;
LABEL_16:
        *(_DWORD *)a3 = *(_DWORD *)v5;
        *(_DWORD *)(a3 + 4) = *(_DWORD *)(v5 + 4);
        *(_DWORD *)(a3 + 8) = *(_DWORD *)(v5 + 8);
        *(_DWORD *)(a3 + 12) = *(_DWORD *)(v5 + 12);
        *(_DWORD *)(a3 + 16) = *(_DWORD *)(v5 + 16);
        *(_DWORD *)(a3 + 20) = *(_DWORD *)(v5 + 20);
        sub_10047350(a1);
        return 1;
      default:
LABEL_17:
        sub_10047350(a1);
        break;
    }
  }
  return 0;
}
// 10DF341C: using guessed type int dword_10DF341C;
// 10DF3420: using guessed type int dword_10DF3420;
// 10DF3430: using guessed type int dword_10DF3430;
// 10DF3434: using guessed type int dword_10DF3434;
// 10DF3440: using guessed type int dword_10DF3440;
// 10DF3444: using guessed type int dword_10DF3444;

//----- (100478B0) --------------------------------------------------------
char __cdecl sub_100478B0(int a1, int a2, void *a3, char a4, __int16 a5, char a6)
{
  int v6; // ecx@0
  signed __int16 v7; // ax@1
  int v8; // edi@2
  __int16 v9; // si@11
  __int16 v11; // [sp+8h] [bp-560h]@13
  __int16 v12; // [sp+3Ch] [bp-52Ch]@10
  char v13; // [sp+40h] [bp-528h]@16
  char v14; // [sp+41h] [bp-527h]@10
  __int16 v15; // [sp+42h] [bp-526h]@10
  char v16; // [sp+44h] [bp-524h]@10
  __int16 v17; // [sp+46h] [bp-522h]@15
  int v18; // [sp+48h] [bp-520h]@16
  char v19; // [sp+4Ch] [bp-51Ch]@15

  LOBYTE(v7) = a1;
  switch ( (char)a1 )
  {
    case 6:
      v8 = 28;
      goto LABEL_8;
    case 0:
      v8 = 29;
      goto LABEL_8;
    case 1:
      v8 = 30;
      goto LABEL_8;
    case 2:
      v8 = 31;
      goto LABEL_8;
    case 3:
      v8 = 32;
      goto LABEL_8;
    case 5:
      v8 = 33;
LABEL_8:
      LOBYTE(v7) = sub_100472B0(a1, v6);
      if ( !(_BYTE)v7 )
        return v7;
      v7 = sub_10047390(a1, a2);
      if ( v7 == -1 )
        return v7;
      v14 = a6;
      LOBYTE(v7) = a4;
      v12 = -32768;
      v15 = a2;
      v16 = a4;
      if ( a4 == 1 )
      {
        v9 = a5;
        if ( (unsigned __int16)a5 > 0x514u )
          return v7;
      }
      else
      {
        if ( sub_100475D0(a1, a2, &v11) != 1 )
          goto LABEL_16;
        v9 = v11;
      }
      memcpy(&v19, a3, (unsigned __int16)v9);
      v17 = v9;
LABEL_16:
      v18 = sub_100550B0();
      v13 = 0;
      LOBYTE(v7) = sub_100522D0(v8, (int)&v12);
      return v7;
    default:
      return v7;
  }
}

//----- (100479F0) --------------------------------------------------------
char __cdecl sub_100479F0(char a1, unsigned __int16 a2, int a3)
{
  signed __int16 v3; // ax@1
  int v4; // edi@2
  __int16 v6; // [sp+4h] [bp-52Ch]@8
  unsigned __int16 v7; // [sp+8h] [bp-528h]@9
  int v8; // [sp+Ch] [bp-524h]@9

  LOBYTE(v3) = a1;
  switch ( a1 )
  {
    case 6:
      v4 = 28;
      goto LABEL_8;
    case 0:
      v4 = 29;
      goto LABEL_8;
    case 1:
      v4 = 30;
      goto LABEL_8;
    case 2:
      v4 = 31;
      goto LABEL_8;
    case 3:
      v4 = 32;
      goto LABEL_8;
    case 5:
      v4 = 33;
LABEL_8:
      memset(&v6, 0, 0x528u);
      v3 = sub_10047390(a1, a2);
      if ( v3 != -1 )
      {
        v6 = -32766;
        v7 = a2;
        v8 = a3;
        LOBYTE(v3) = sub_100522D0(v4, (int)&v6);
      }
      break;
    default:
      return v3;
  }
  return v3;
}

//----- (10047AD0) --------------------------------------------------------
char __cdecl sub_10047AD0(char a1, int a2, __int16 a3, __int16 a4, void *a5, int a6)
{
  char result; // al@2
  int v7; // ecx@3
  signed __int16 v8; // si@3
  int v9; // eax@7
  int v10; // ebp@7
  int v11; // esi@7
  int v12; // edi@7
  unsigned int v13; // ebx@7
  int v14; // eax@9
  int v15; // eax@11
  int v16; // eax@13
  int v17; // eax@15
  int v18; // eax@17
  int v19; // eax@25
  char v20; // [sp+7h] [bp-9h]@19
  __int16 v21; // [sp+8h] [bp-8h]@1
  unsigned int v22; // [sp+Ch] [bp-4h]@1

  v22 = sub_100550B0();
  v21 = 0;
  if ( a1 < 7 )
  {
    v8 = sub_10047390(a1, a2);
    if ( v8 == -1 )
    {
      result = 0;
    }
    else
    {
      switch ( a1 )
      {
        case 6:
          if ( !(unsigned __int8)sub_100472B0(a1, v7) )
            goto LABEL_30;
          v9 = 3 * (unsigned __int16)v8 + 75;
          v10 = dword_10DF3434 + 14952;
          v11 = 52 * (unsigned __int16)v8 + dword_10DF3434 + 210116;
          v12 = dword_10DF3434 + 8 * v9;
          v13 = 195164;
          goto LABEL_18;
        case 0:
          if ( !(unsigned __int8)sub_100472B0(a1, v7) )
            goto LABEL_30;
          v14 = 3 * (unsigned __int16)v8;
          v10 = dword_10DF3440 + 13228;
          v11 = 52 * (unsigned __int16)v8 + dword_10DF3440 + 257156;
          v12 = dword_10DF3440 + 8 * v14 + 532;
          v13 = 243928;
          goto LABEL_18;
        case 1:
          if ( !(unsigned __int8)sub_100472B0(a1, v7) )
            goto LABEL_30;
          v15 = 3 * (unsigned __int16)v8;
          v10 = dword_10DF341C + 60628;
          v11 = 52 * (unsigned __int16)v8 + dword_10DF341C + 321708;
          v12 = dword_10DF341C + 8 * v15 + 2428;
          v13 = 261080;
          goto LABEL_18;
        case 2:
          if ( !(unsigned __int8)sub_100472B0(a1, v7) )
            goto LABEL_30;
          v16 = 3 * (unsigned __int16)v8 + 72;
          v10 = dword_10DF3444 + 14328;
          v11 = 52 * (unsigned __int16)v8 + dword_10DF3444 + 326220;
          v12 = dword_10DF3444 + 8 * v16;
          v13 = 311892;
          goto LABEL_18;
        case 3:
          if ( !(unsigned __int8)sub_100472B0(a1, v7) )
            goto LABEL_30;
          v17 = 3 * (unsigned __int16)v8;
          v10 = dword_10DF3430 + 2052;
          v11 = 52 * (unsigned __int16)v8 + dword_10DF3430 + 18832;
          v12 = dword_10DF3430 + 8 * v17 + 84;
          v13 = 16780;
          goto LABEL_18;
        case 5:
          if ( !(unsigned __int8)sub_100472B0(a1, v7) )
            goto LABEL_30;
          v18 = 3 * (unsigned __int16)v8;
          v10 = dword_10DF3420 + 100;
          v11 = 52 * (unsigned __int16)v8 + dword_10DF3420 + 1596;
          v12 = dword_10DF3420 + 8 * v18 + 4;
          v13 = 1496;
LABEL_18:
          if ( sub_10047370(a1) )
            goto LABEL_30;
          v20 = *(_BYTE *)(v12 + 1);
          if ( *(_BYTE *)(v12 + 1) == 1 && v10 )
          {
            if ( *(_DWORD *)(v11 + 12) && v22 > *(_DWORD *)(v11 + 16) + *(_DWORD *)(v12 + 16) )
              goto LABEL_33;
            v21 = a4;
            if ( !a4 )
              v21 = *(_WORD *)(v12 + 4) - a3;
            v19 = *(_DWORD *)(v11 + 4) + (unsigned __int16)a3;
            if ( !v21 || (unsigned int)(unsigned __int16)v21 + v19 > v13 )
LABEL_33:
              v20 = 0;
            else
              memcpy(a5, (const void *)(v10 + v19), (unsigned __int16)v21);
          }
          *(_WORD *)a6 = v21;
          sub_10047350(a1);
          result = v20;
          break;
        default:
LABEL_30:
          result = 0;
          break;
      }
    }
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10DF341C: using guessed type int dword_10DF341C;
// 10DF3420: using guessed type int dword_10DF3420;
// 10DF3430: using guessed type int dword_10DF3430;
// 10DF3434: using guessed type int dword_10DF3434;
// 10DF3440: using guessed type int dword_10DF3440;
// 10DF3444: using guessed type int dword_10DF3444;

//----- (10047D50) --------------------------------------------------------
char __cdecl sub_10047D50(char a1, int a2, __int16 a3, __int16 a4, void *a5)
{
  int v5; // ecx@0
  int v7; // [sp+0h] [bp-4h]@1

  v7 = v5;
  return sub_10047AD0(a1, a2, a3, a4, a5, (int)&v7);
}

//----- (10047D80) --------------------------------------------------------
char __cdecl sub_10047D80(char a1, int a2, void *a3)
{
  int v3; // ecx@0
  int v5; // [sp+0h] [bp-4h]@1

  v5 = v3;
  return sub_10047AD0(a1, a2, 0, 0, a3, (int)&v5);
}

//----- (10047DB0) --------------------------------------------------------
char __cdecl sub_10047DB0(char a1, int a2, void *a3, int a4)
{
  return sub_10047AD0(a1, a2, 0, 0, a3, a4);
}

//----- (10047DE0) --------------------------------------------------------
char __cdecl sub_10047DE0(char a1)
{
  char result; // al@3

  if ( a1 == 6 )
  {
    result = 0;
  }
  else if ( a1 == 7 )
  {
    result = 1;
  }
  else
  {
    sub_100429F0("..\\lib\\acl\\iop\\gia\\iop_gia_data_intf.c", 294, 0, 0);
    result = 2;
  }
  return result;
}

//----- (10047E20) --------------------------------------------------------
int __cdecl sub_10047E20(char *a1, char a2)
{
  signed int v2; // eax@2
  int result; // eax@4
  int v4; // [sp+8h] [bp-ECh]@1
  char v5; // [sp+24h] [bp-D0h]@4

  v4 = 0;
  if ( a2 == 1 )
    v2 = 2;
  else
    v2 = a2 == 2;
  result = j_HWM_pvg_rgn_get_info(v2, &v4);
  qmemcpy(a1, &v5, 0x74u);
  return result;
}
// 10055DD0: using guessed type int __cdecl j_HWM_pvg_rgn_get_info(_DWORD, _DWORD);

//----- (10047E90) --------------------------------------------------------
bool __cdecl sub_10047E90(int a1, void *a2)
{
  void *v2; // ecx@0
  char v3; // si@1
  char v4; // bl@1
  int v5; // esi@4
  bool result; // al@7

  v3 = sub_10048530(v2);
  v4 = 0;
  do
  {
    if ( (_BYTE)a1 == (char)off_1009F550[(unsigned __int8)v4](v3) )
    {
      sub_10047E20((char *)a2, v4);
      return 1;
    }
    ++v4;
  }
  while ( (unsigned __int8)v4 < 3u );
  v5 = (unsigned __int16)sub_10052420(a1);
  if ( (unsigned __int16)v5 >= (unsigned __int16)sub_10047290(2) )
    result = 0;
  else
    result = sub_10047D80(2, v5, a2) == 1 && !sub_10052240(a2);
  return result;
}
// 1009F550: using guessed type int (__cdecl *off_1009F550[3])(char);

//----- (10047F50) --------------------------------------------------------
char __cdecl sub_10047F50(int a1, bool *a2)
{
  char result; // al@3
  char v3; // [sp+8h] [bp-78h]@2
  int v4; // [sp+78h] [bp-8h]@3

  switch ( (unsigned __int8)a1 )
  {
    case 1u:
    case 4u:
    case 7u:
    case 0xAu:
      if ( sub_10047E90(a1, &v3) )
      {
        *a2 = (v4 & 1) == 1;
        result = 1;
      }
      else
      {
        result = 0;
      }
      break;
    default:
      *a2 = sub_10052400(a1) != 67;
      result = 1;
      break;
  }
  return result;
}

//----- (10048010) --------------------------------------------------------
char __thiscall sub_10048010(void *this)
{
  char v1; // di@1
  void *v2; // esi@1
  char v3; // di@3
  void *v4; // esi@3
  char result; // al@4

  dword_10DF3450 = sub_10042FA0(this) != 2 ? 1379255385 : 1916032632;
  memset(&unk_10DF3458, 0, 0x1540u);
  memset(&unk_10DF4998, 0, 0x19B0u);
  v1 = 0;
  v2 = &unk_10DF3458;
  do
  {
    sub_100525F0(v1, (int)v2);
    v2 = (char *)v2 + 2720;
    ++v1;
  }
  while ( (signed int)v2 < (signed int)&unk_10DF4998 );
  v3 = 0;
  v4 = &unk_10DF4998;
  do
  {
    result = sub_10052670(v3, (int)v4);
    v4 = (char *)v4 + 2192;
    ++v3;
  }
  while ( (signed int)v4 < (signed int)&dword_10DF6348 );
  return result;
}
// 10DF3450: using guessed type int dword_10DF3450;
// 10DF6348: using guessed type int dword_10DF6348;

//----- (100480A0) --------------------------------------------------------
char __cdecl sub_100480A0(int a1, char a2)
{
  bool v2; // dl@1
  char result; // al@2
  int v4; // edi@4
  unsigned __int8 v5; // cl@6
  int v6; // eax@7
  char v7; // [sp+6h] [bp-2h]@1
  bool v8; // [sp+7h] [bp-1h]@1

  v2 = dword_10DF3450 != 1379255385;
  v7 = 0;
  v8 = dword_10DF3450 != 1379255385;
  if ( (unsigned __int8)a1 < 2u )
  {
    if ( v2 )
    {
      v4 = sub_10055360(86, 10);
      memset((char *)&unk_10DF3458 + 2720 * (unsigned __int8)a1, 0, 0xAA0u);
      sub_100525F0(a1, (int)&unk_10DF3458 + 2720 * (unsigned __int8)a1);
      v2 = v8;
    }
    else
    {
      v4 = a1;
    }
    v5 = 0;
    while ( 1 )
    {
      v6 = 4 * (680 * (unsigned __int8)a1 + v5);
      if ( byte_10DF3730[v6] == a2 || byte_10DF3731[v6] == a2 )
        break;
      if ( ++v5 >= 8u )
        goto LABEL_12;
    }
    v7 = 1;
LABEL_12:
    if ( v2 )
      sub_10055330(v4, 86);
    result = v7;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10DF3450: using guessed type int dword_10DF3450;

//----- (10048160) --------------------------------------------------------
char __cdecl sub_10048160(char a1)
{
  char result; // al@1
  int v2; // esi@1

  result = 0;
  v2 = 0;
  do
  {
    if ( result )
      break;
    result = sub_100480A0(v2++, a1);
  }
  while ( v2 < 2 );
  return result;
}

//----- (100481E0) --------------------------------------------------------
char __cdecl sub_100481E0(char a1)
{
  char result; // al@1

  result = -80;
  switch ( a1 )
  {
    case 3:
      result = -126;
      break;
    case 4:
      result = -123;
      break;
    case 5:
      result = -108;
      break;
    case 6:
      result = -105;
      break;
    default:
      return result;
  }
  return result;
}

//----- (10048220) --------------------------------------------------------
char __cdecl sub_10048220(char a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 0:
      result = 74;
      break;
    case 1:
      result = 73;
      break;
    case 2:
      result = 75;
      break;
    case 3:
      result = -127;
      break;
    case 4:
      result = -124;
      break;
    case 5:
      result = -109;
      break;
    case 6:
      result = -106;
      break;
    default:
      sub_100429F0("..\\lib\\adl\\iop_cdu_unit_intf.c", 564, 0, 0);
      result = -80;
      break;
  }
  return result;
}

//----- (10048290) --------------------------------------------------------
signed int __cdecl sub_10048290(char a1)
{
  signed int result; // eax@2

  switch ( a1 )
  {
    case 0:
      result = 4;
      break;
    case 1:
      result = 1;
      break;
    case 2:
      result = 2;
      break;
    case 3:
      result = 64;
      break;
    case 4:
      result = 128;
      break;
    case 5:
      result = 16;
      break;
    case 6:
      result = 32;
      break;
    default:
      sub_100429F0("..\\lib\\adl\\iop_cdu_unit_intf.c", 638, 0, 0);
      result = 0;
      break;
  }
  return result;
}

//----- (10048310) --------------------------------------------------------
char __cdecl sub_10048310(char a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 0:
      result = 13;
      break;
    case 1:
      result = 12;
      break;
    case 2:
      result = 14;
      break;
    case 3:
      result = -128;
      break;
    case 4:
      result = -125;
      break;
    case 5:
      result = -110;
      break;
    case 6:
      result = -107;
      break;
    default:
      sub_100429F0("..\\lib\\adl\\iop_cdu_unit_intf.c", 712, 0, 0);
      result = -80;
      break;
  }
  return result;
}

//----- (10048380) --------------------------------------------------------
char __cdecl sub_10048380(char a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 3:
      result = 0;
      break;
    case 4:
      result = 1;
      break;
    case 5:
      result = 2;
      break;
    case 0x28:
      result = 3;
      break;
    case 0x29:
      result = 4;
      break;
    case 0x33:
      result = 5;
      break;
    case 0x34:
      result = 6;
      break;
    default:
      sub_100429F0("..\\lib\\adl\\iop_cdu_unit_intf.c", 786, 0, 0);
      result = 7;
      break;
  }
  return result;
}

//----- (10048430) --------------------------------------------------------
char __cdecl sub_10048430(int a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 1:
      result = 1;
      break;
    case 2:
      result = 2;
      break;
    case 4:
      result = 0;
      break;
    case 64:
      result = 3;
      break;
    case 128:
      result = 4;
      break;
    case 16:
      result = 5;
      break;
    case 32:
      result = 6;
      break;
    default:
      sub_100429F0("..\\lib\\adl\\iop_cdu_unit_intf.c", 1096, 1, 0);
      result = 7;
      break;
  }
  return result;
}

//----- (10048530) --------------------------------------------------------
char __thiscall sub_10048530(void *this)
{
  int v1; // eax@1

  v1 = sub_10045A80(this);
  return sub_10048430(v1);
}

//----- (10048540) --------------------------------------------------------
int __cdecl sub_10048540(int a1)
{
  int result; // eax@1

  result = a1;
  dword_10DF6368 = *(_DWORD *)a1;
  dword_10DF636C = *(_DWORD *)(a1 + 4);
  dword_10DF6370 = *(_DWORD *)(a1 + 8);
  dword_10DF6374 = *(_DWORD *)(a1 + 12);
  dword_10F8E13C = (int)&dword_10DF6368;
  return result;
}
// 10DF6368: using guessed type int dword_10DF6368;
// 10DF636C: using guessed type int dword_10DF636C;
// 10DF6370: using guessed type int dword_10DF6370;
// 10DF6374: using guessed type int dword_10DF6374;
// 10F8E13C: using guessed type int dword_10F8E13C;

//----- (10048580) --------------------------------------------------------
int __cdecl sub_10048580(int *a1, int a2)
{
  int result; // eax@1

  result = a2 + (*(int (**)(void))dword_10F8E13C)();
  *a1 = result;
  return result;
}
// 10F8E13C: using guessed type int dword_10F8E13C;

//----- (100485A0) --------------------------------------------------------
char __thiscall sub_100485A0(void *this)
{
  char v1; // bl@1
  void *v2; // esi@1
  char result; // al@2
  char v4; // [sp+8h] [bp-4h]@1

  dword_10DF6378 = sub_10042FA0(this) != 2 ? 1379255385 : 1916032632;
  memset(&unk_10DF6380, 0, 0xAA0u);
  v1 = 0;
  v4 = 0;
  v2 = &unk_10DF6380;
  do
  {
    result = sub_100525F0(v4, (int)v2);
    ++v1;
    v2 = (char *)v2 + 2720;
    v4 = v1;
  }
  while ( (unsigned __int8)v1 < 2u );
  return result;
}
// 10DF6378: using guessed type int dword_10DF6378;

//----- (10048610) --------------------------------------------------------
char __usercall sub_10048610@<al>(__int16 a1@<bx>, __int16 a2@<di>, void *a3@<esi>, char a4)
{
  char result; // al@1

  memset(a3, 0, (unsigned __int16)a2);
  result = 0;
  if ( a4 )
  {
    if ( a4 == 1 )
      result = sub_10047D50(6, 8, a1, a2, a3);
  }
  else
  {
    result = sub_10047D50(6, 5, a1, a2, a3);
  }
  return result;
}

//----- (10048650) --------------------------------------------------------
void *__usercall sub_10048650@<eax>(char a1@<bl>, __int16 a2, __int16 a3, void *a4)
{
  int v4; // edi@1
  void *result; // eax@4

  v4 = 0;
  if ( dword_10DF6378 == 1379255385 )
    goto LABEL_4;
  v4 = sub_10055360(86, 10);
  if ( !v4 )
  {
    memset((char *)&unk_10DF6380 + 2720 * (unsigned __int8)a1, 0, 0xAA0u);
    sub_100525F0(a1, (int)&unk_10DF6380 + 2720 * (unsigned __int8)a1);
LABEL_4:
    result = memcpy(a4, (char *)&unk_10DF6380 + 2720 * (unsigned __int8)a1 + (unsigned __int16)a2, (unsigned __int16)a3);
    goto LABEL_6;
  }
  result = memset(a4, 0, (unsigned __int16)a3);
LABEL_6:
  if ( dword_10DF6378 != 1379255385 )
    result = (void *)sub_10055330(v4, 86);
  return result;
}
// 10DF6378: using guessed type int dword_10DF6378;

//----- (100486F0) --------------------------------------------------------
char __cdecl sub_100486F0(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 <= 0xAu )
    result = sub_10048610(4 * (a2 + 6), 4, a3, a1);
  return result;
}

//----- (10048730) --------------------------------------------------------
bool __cdecl sub_10048730(char a1, char a2, void *a3)
{
  bool result; // al@1
  unsigned __int8 v4; // al@3

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 <= 0xAu )
  {
    sub_10048650(a1, 4 * ((unsigned __int8)a2 + 6), 4, a3);
    v4 = *((_BYTE *)a3 + 1);
    result = v4 < 0x33u || v4 >= 0x64u && v4 <= 0x81u || v4 >= 0x96u && v4 <= 0x9Eu;
  }
  return result;
}

//----- (10048790) --------------------------------------------------------
char __cdecl sub_10048790(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 < 0xAu )
    result = sub_10048610(a2, 1, a3, a1);
  return result;
}

//----- (100487D0) --------------------------------------------------------
char __cdecl sub_100487D0(char a1, char a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 < 0xAu )
  {
    sub_10048650(a1, (unsigned __int8)a2, 1, a3);
    result = 1;
  }
  return result;
}

//----- (10048800) --------------------------------------------------------
char __cdecl sub_10048800(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 < 0xBu )
    result = sub_10048610(a2 + 10, 1, a3, a1);
  return result;
}

//----- (10048840) --------------------------------------------------------
char __cdecl sub_10048840(char a1, char a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 < 0xBu )
  {
    sub_10048650(a1, (unsigned __int8)a2 + 10, 1, a3);
    result = 1;
  }
  return result;
}

//----- (10048880) --------------------------------------------------------
char __cdecl sub_10048880(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 < 2u )
    result = sub_10048610(16 * (a2 + 50), 16, a3, a1);
  return result;
}

//----- (100488C0) --------------------------------------------------------
bool __cdecl sub_100488C0(char a1, char a2, void *a3)
{
  bool result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 < 2u )
  {
    sub_10048650(a1, 16 * ((unsigned __int8)a2 + 50), 16, a3);
    result = *(_BYTE *)a3 < 8u && *((_BYTE *)a3 + 1) < 8u;
  }
  return result;
}

//----- (10048910) --------------------------------------------------------
char __cdecl sub_10048910(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 < 0x29u )
    result = sub_10048610(12 * a2 + 68, 12, a3, a1);
  return result;
}

//----- (10048950) --------------------------------------------------------
bool __cdecl sub_10048950(char a1, char a2, void *a3)
{
  bool result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 < 0x29u )
  {
    sub_10048650(a1, 12 * (unsigned __int8)a2 + 68, 12, a3);
    result = *((_WORD *)a3 + 1) < 0x319u;
  }
  return result;
}

//----- (10048990) --------------------------------------------------------
char __cdecl sub_10048990(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 < 0x2Au )
    result = sub_10048610(4 * (a2 + 140), 4, a3, a1);
  return result;
}

//----- (100489D0) --------------------------------------------------------
bool __cdecl sub_100489D0(char a1, char a2, void *a3)
{
  bool result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 < 0x2Au )
  {
    sub_10048650(a1, 4 * ((unsigned __int8)a2 + 140), 4, a3);
    result = *((_WORD *)a3 + 1) < 0x145u;
  }
  return result;
}

//----- (10048A10) --------------------------------------------------------
char __cdecl sub_10048A10(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
    result = sub_10048610(1229, 1, a2, a1);
  return result;
}

//----- (10048A40) --------------------------------------------------------
char __cdecl sub_10048A40(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
  {
    sub_10048650(a1, 1229, 1, a2);
    result = 1;
  }
  return result;
}

//----- (10048A70) --------------------------------------------------------
char __cdecl sub_10048A70(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
    result = sub_10048610(1212, 16, a2, a1);
  return result;
}

//----- (10048AA0) --------------------------------------------------------
char __cdecl sub_10048AA0(char a1, void *a2)
{
  char result; // al@2

  if ( (unsigned __int8)a1 < 2u )
  {
    sub_10048650(a1, 1212, 16, a2);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10048AD0) --------------------------------------------------------
char __cdecl sub_10048AD0(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
    result = sub_10048610(2400, 65, a2, a1);
  return result;
}

//----- (10048B00) --------------------------------------------------------
char __cdecl sub_10048B00(char a1, void *a2)
{
  char result; // al@2

  if ( (unsigned __int8)a1 < 2u )
  {
    sub_10048650(a1, 2400, 65, a2);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10048B30) --------------------------------------------------------
char __cdecl sub_10048B30(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( a2 < 8u && (unsigned __int8)a1 < 2u )
    result = sub_10048610(4 * (a2 + 182), 4, a3, a1);
  return result;
}

//----- (10048B70) --------------------------------------------------------
char __cdecl sub_10048B70(char a1, char a2, void *a3)
{
  char result; // al@2

  if ( (unsigned __int8)a2 > 7u )
    result = sub_100429F0("..\\lib\\acl\\iop\\gia\\iop_gia_cnfg_intf.c", 1428, 0, 0);
  else
    result = (unsigned int)sub_10048650(a1, 4 * ((unsigned __int8)a2 + 182), 4, a3);
  return result;
}

//----- (10048BC0) --------------------------------------------------------
char __cdecl sub_10048BC0(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( a2 <= 4u )
    result = sub_10048610(8 * (a2 + 95), 8, a3, a1);
  return result;
}

//----- (10048C00) --------------------------------------------------------
char __cdecl sub_10048C00(char a1, char a2, void *a3)
{
  char result; // al@1

  result = a2;
  if ( (unsigned __int8)a2 <= 4u )
    result = (unsigned int)sub_10048650(a1, 8 * ((unsigned __int8)a2 + 95), 8, a3);
  return result;
}

//----- (10048C30) --------------------------------------------------------
char __cdecl sub_10048C30(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
    result = sub_10048610(22, 1, a2, a1);
  return result;
}

//----- (10048C60) --------------------------------------------------------
char __cdecl sub_10048C60(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
    result = sub_10048610(832, 4, a2, a1);
  return result;
}

//----- (10048C90) --------------------------------------------------------
char __cdecl sub_10048C90(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
  {
    sub_10048650(a1, 832, 4, a2);
    result = 1;
  }
  return result;
}

//----- (10048CC0) --------------------------------------------------------
char __cdecl sub_10048CC0(int a1, char a2, char a3, int a4, void *a5)
{
  char result; // al@4
  char v6; // [sp+0h] [bp-4h]@1

  v6 = sub_10047DE0(a1);
  if ( v6 == 2 )
  {
LABEL_44:
    result = 0;
  }
  else
  {
    switch ( a3 )
    {
      case 0:
        if ( a2 )
        {
          sub_10048B70(v6, *(_BYTE *)a4, a5);
          result = 1;
        }
        else
        {
          result = sub_10048B30(v6, *(_BYTE *)a4, a5);
        }
        break;
      case 1:
        if ( a2 )
        {
          sub_10048C00(v6, *(_BYTE *)a4, a5);
          result = 1;
        }
        else
        {
          result = sub_10048BC0(v6, *(_BYTE *)a4, a5);
        }
        break;
      case 2:
        if ( a2 )
          result = sub_10048730(v6, *(_BYTE *)a4, a5);
        else
          result = sub_100486F0(v6, *(_BYTE *)a4, a5);
        break;
      case 3:
        if ( a2 )
          result = sub_10048950(v6, *(_BYTE *)a4, a5);
        else
          result = sub_10048910(v6, *(_BYTE *)a4, a5);
        break;
      case 4:
        if ( a2 )
          result = sub_100489D0(v6, *(_BYTE *)a4, a5);
        else
          result = sub_10048990(v6, *(_BYTE *)a4, a5);
        break;
      case 5:
        if ( a2 )
          result = sub_100487D0(v6, *(_BYTE *)a4, a5);
        else
          result = sub_10048790(v6, *(_BYTE *)a4, a5);
        break;
      case 6:
        if ( a2 )
          result = sub_10048840(v6, *(_BYTE *)a4, a5);
        else
          result = sub_10048800(v6, *(_BYTE *)a4, a5);
        break;
      case 7:
        result = sub_10048C30(v6, a5);
        break;
      case 8:
        if ( a2 )
          result = sub_10048AA0(v6, a5);
        else
          result = sub_10048A70(v6, a5);
        break;
      case 9:
        if ( a2 )
          result = sub_100488C0(v6, *(_BYTE *)a4, a5);
        else
          result = sub_10048880(v6, *(_BYTE *)a4, a5);
        break;
      case 0x1D:
        if ( a2 || j_HWM_pvg_read_reg(1) )
          result = sub_10048B00(v6, a5);
        else
          result = sub_10048AD0(v6, a5);
        break;
      case 0x21:
        if ( a2 || j_HWM_pvg_read_reg(1) )
          result = sub_10048A40(v6, a5);
        else
          result = sub_10048A10(v6, a5);
        break;
      case 0x1B:
        if ( a2 || j_HWM_pvg_read_reg(1) )
          result = sub_10048C90(v6, a5);
        else
          result = sub_10048C60(v6, a5);
        break;
      default:
        sub_100429F0("..\\lib\\acl\\iop\\gia\\iop_gia_cnfg_intf.c", 2329, 0, 0);
        goto LABEL_44;
    }
  }
  return result;
}
// 10055450: using guessed type int __cdecl j_HWM_pvg_read_reg(_DWORD);

//----- (10049060) --------------------------------------------------------
bool __cdecl sub_10049060(char a1, unsigned __int8 a2, int a3)
{
  unsigned __int8 v3; // cl@1
  char v4; // dl@5
  bool result; // al@5

  v3 = a2;
  if ( a2 >= 0xFFu || a2 > 1u )
  {
    result = 0;
  }
  else
  {
    if ( dword_10DF78C0 != 1379255385 )
    {
      sub_100525D0(a1, (int)&byte_10DF78C8[24 * (unsigned __int8)a1]);
      v3 = a2;
    }
    v4 = byte_10DF78CD[4 * (v3 + 6 * (unsigned __int8)a1)];
    *(_BYTE *)(a3 + 1) = v4;
    *(_BYTE *)a3 = byte_10DF78CC[4 * (v3 + 6 * (unsigned __int8)a1)];
    result = (unsigned __int8)v4 < 0xBu;
  }
  return result;
}
// 10DF78C0: using guessed type int dword_10DF78C0;

//----- (100490D0) --------------------------------------------------------
bool __cdecl sub_100490D0(char a1, unsigned __int8 a2, int a3)
{
  bool result; // al@2

  if ( a2 < 1u )
  {
    if ( dword_10DF78C0 != 1379255385 )
      sub_100525D0(a1, (int)&byte_10DF78C8[24 * (unsigned __int8)a1]);
    *(_DWORD *)a3 = dword_10DF78DC[a2 + 6 * (unsigned __int8)a1];
    result = *(_WORD *)(a3 + 2) < 0x319u;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10DF78C0: using guessed type int dword_10DF78C0;
// 10DF78DC: using guessed type int dword_10DF78DC[];

//----- (10049130) --------------------------------------------------------
bool __cdecl sub_10049130(char a1, unsigned __int8 a2, int a3)
{
  unsigned __int8 v3; // cl@1
  bool result; // al@1
  int v5; // edx@5

  v3 = a2;
  result = 0;
  if ( (a2 & 0x80u) == 0 && a2 <= 1u )
  {
    if ( dword_10DF78C0 != 1379255385 )
    {
      sub_100525D0(a1, (int)&byte_10DF78C8[24 * (unsigned __int8)a1]);
      v3 = a2;
    }
    v5 = dword_10DF78D4[v3 + 6 * (unsigned __int8)a1];
    *(_DWORD *)a3 = v5;
    result = (unsigned __int8)v5 < 0x13u && *(_BYTE *)(a3 + 1) < 0x13u;
  }
  return result;
}
// 10DF78C0: using guessed type int dword_10DF78C0;
// 10DF78D4: using guessed type int dword_10DF78D4[];

//----- (100491A0) --------------------------------------------------------
char __cdecl sub_100491A0(char a1, _BYTE *a2)
{
  if ( dword_10DF78C0 != 1379255385 )
    sub_100525D0(a1, (int)&byte_10DF78C8[24 * (unsigned __int8)a1]);
  *a2 = byte_10DF78C8[24 * (unsigned __int8)a1];
  return 1;
}
// 10DF78C0: using guessed type int dword_10DF78C0;

//----- (100491E0) --------------------------------------------------------
char __thiscall sub_100491E0(void *this)
{
  char v1; // bl@1
  char *v2; // esi@1
  char result; // al@2
  char v4; // [sp+8h] [bp-4h]@1

  dword_10DF78C0 = sub_10042FA0(this) != 2 ? 1379255385 : 1916032632;
  memset(byte_10DF78C8, 0, 0x48u);
  v1 = 0;
  v4 = 0;
  v2 = byte_10DF78C8;
  do
  {
    result = sub_100525D0(v4, (int)v2);
    ++v1;
    v2 += 24;
    v4 = v1;
  }
  while ( (unsigned __int8)v1 < 3u );
  return result;
}
// 10DF78C0: using guessed type int dword_10DF78C0;

//----- (10049250) --------------------------------------------------------
char __cdecl sub_10049250(char a1, int a2)
{
  int v2; // eax@1
  bool v3; // zf@1
  char result; // al@1

  v2 = sub_10048290(a1);
  v3 = sub_10056190(a2, 0, 0, v2) == 0;
  result = 1;
  if ( !v3 )
    result = 0;
  return result;
}

//----- (10049280) --------------------------------------------------------
char __cdecl sub_10049280(char a1, int a2)
{
  int v2; // eax@1
  bool v3; // zf@1
  char result; // al@1

  v2 = sub_10048290(a1);
  v3 = sub_10056200(a2, 0, v2) == 0;
  result = 1;
  if ( !v3 )
    result = 0;
  return result;
}

//----- (100492B0) --------------------------------------------------------
char __cdecl sub_100492B0(char a1, int a2, char a3, unsigned __int8 *a4, _BYTE *a5, unsigned int a6)
{
  char result; // al@3
  char v7; // [sp+0h] [bp-4h]@1

  v7 = sub_10048380(a1);
  switch ( a3 )
  {
    case 0:
      if ( a6 >= 4 )
      {
        result = sub_10049130(v7, *a4, (int)a5);
      }
      else
      {
        sub_100429F0("..\\lib\\acl\\iop\\iop_cdu_cnfg_intf.c", 531, 0, 0);
        result = 0;
      }
      break;
    case 2:
      if ( a6 >= 4 )
      {
        result = sub_10049060(v7, *a4, (int)a5);
      }
      else
      {
        sub_100429F0("..\\lib\\acl\\iop\\iop_cdu_cnfg_intf.c", 548, 0, 0);
        result = 0;
      }
      break;
    case 3:
      if ( a6 >= 4 )
      {
        result = sub_100490D0(v7, *a4, (int)a5);
      }
      else
      {
        sub_100429F0("..\\lib\\acl\\iop\\iop_cdu_cnfg_intf.c", 565, 0, 0);
        result = 0;
      }
      break;
    case 7:
      if ( a6 >= 1 )
      {
        result = sub_100491A0(v7, a5);
      }
      else
      {
        sub_100429F0("..\\lib\\acl\\iop\\iop_cdu_cnfg_intf.c", 582, 0, 0);
        result = 0;
      }
      break;
    case 0x10:
      if ( a6 >= 0x40 )
      {
        result = sub_10049280(v7, (int)a5);
      }
      else
      {
        sub_100429F0("..\\lib\\acl\\iop\\iop_cdu_cnfg_intf.c", 598, 0, 0);
        result = 0;
      }
      break;
    case 0xF:
      if ( a6 >= 0x68 )
      {
        result = sub_10049250(v7, (int)a5);
      }
      else
      {
        sub_100429F0("..\\lib\\acl\\iop\\iop_cdu_cnfg_intf.c", 616, 0, 0);
        result = 0;
      }
      break;
    default:
      sub_100429F0("..\\lib\\acl\\iop\\iop_cdu_cnfg_intf.c", 633, 0, 0);
      result = 0;
      break;
  }
  return result;
}

//----- (10049480) --------------------------------------------------------
char *__cdecl sub_10049480(char **a1)
{
  char *v1; // edx@1
  int v2; // edi@1
  char *result; // eax@1
  char *v4; // eax@3
  char v5; // cl@4
  int v6; // eax@5
  char v7; // cl@7

  v1 = *a1;
  v2 = 0;
  result = (char *)&unk_1008E0CC;
  if ( *a1 && *v1 )
  {
    v4 = *a1;
    do
      v5 = *v4++;
    while ( v5 );
    v6 = v4 - (v1 + 1) - 1;
    do
    {
      if ( v6 < 0 )
        break;
      v7 = v1[v6];
      if ( v7 == 47 || v7 == 92 )
        v2 = v6 + 1;
      --v6;
    }
    while ( !v2 );
    result = &v1[v2];
  }
  return result;
}

//----- (100494D0) --------------------------------------------------------
int sub_100494D0()
{
  int v0; // esi@1
  int v1; // edx@1
  int result; // eax@1
  int v3; // ecx@2

  v0 = 0;
  v1 = sub_10055030();
  result = 0;
  while ( 1 )
  {
    v3 = dword_10DF7924[result];
    if ( v3 == v1 )
      break;
    if ( !v0 && v3 == -1 )
      v0 = result;
    if ( (unsigned int)++result >= 5 )
    {
      dword_10DF7924[v0] = v1;
      return v0;
    }
  }
  return result;
}
// 10DF7924: using guessed type int dword_10DF7924[];

//----- (10049510) --------------------------------------------------------
int __cdecl sub_10049510(_BYTE *a1, int a2)
{
  int result; // eax@3
  int v3; // esi@3
  _BYTE *v4; // ecx@4
  char v5; // dl@5

  if ( a1 )
  {
    if ( a2 )
    {
      result = 0;
      v3 = 0;
      if ( *a1 )
      {
        v4 = a1;
        do
        {
          v5 = v4[a2 - (_DWORD)a1];
          if ( !v5 )
            break;
          if ( *v4 != v5 )
          {
            result = a1[v3] - *(_BYTE *)(v3 + a2);
            if ( a1[v3] != *(_BYTE *)(v3 + a2) )
              return result;
            break;
          }
          ++v4;
          ++v3;
        }
        while ( *v4 );
      }
      if ( a1[v3] )
      {
        result = 1;
      }
      else if ( *(_BYTE *)(v3 + a2) )
      {
        result = -1;
      }
    }
    else
    {
      result = 1;
    }
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (10049580) --------------------------------------------------------
signed int __cdecl sub_10049580(_BYTE *a1, int a2)
{
  _BYTE *v2; // esi@1
  int v3; // ebp@1
  int v4; // ebx@4
  int v5; // edi@6
  int v6; // eax@6
  signed int result; // eax@11
  int v8; // [sp+8h] [bp-4h]@3

  v2 = a1;
  v3 = 0;
  if ( a1 )
  {
    if ( a2 )
    {
      v8 = 0;
      if ( *a1 )
      {
        v4 = a2 - (_DWORD)a1;
        while ( v2[v4] )
        {
          v5 = tolower(*v2);
          v6 = tolower(v2[v4]);
          if ( v5 != v6 )
          {
            v8 = v5 - v6;
            if ( v5 != v6 )
              goto LABEL_16;
            break;
          }
          ++v2;
          ++v3;
          if ( !*v2 )
            break;
        }
      }
      if ( a1[v3] )
      {
        result = 1;
      }
      else if ( *(_BYTE *)(a2 + v3) )
      {
        result = -1;
      }
      else
      {
LABEL_16:
        result = v8;
      }
    }
    else
    {
      result = 1;
    }
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (10049620) --------------------------------------------------------
char *__usercall sub_10049620@<eax>(char *result@<eax>, const char *a2@<edi>, int a3@<esi>)
{
  if ( a2 )
  {
    if ( (_BYTE)result && *(_BYTE *)a3 )
    {
      if ( *a2 )
      {
        strncat((char *)a3, word_1008DF9C, 0x100u);
        result = strncat((char *)a3, a2, 0x100u);
        *(_BYTE *)(a3 + 255) = 0;
        return result;
      }
    }
    else
    {
      result = strncpy((char *)a3, a2, 0x100u);
    }
    *(_BYTE *)(a3 + 255) = 0;
  }
  else if ( !(_BYTE)result )
  {
    *(_BYTE *)a3 = 0;
  }
  return result;
}

//----- (10049680) --------------------------------------------------------
const char *__usercall sub_10049680@<eax>(int a1@<eax>)
{
  const char *result; // eax@3

  if ( a1 )
  {
    if ( a1 == 1 )
      result = "Group";
    else
      result = "Command";
  }
  else
  {
    result = "Case";
  }
  return result;
}

//----- (100496A0) --------------------------------------------------------
int __usercall sub_100496A0@<eax>(unsigned int a1@<ebx>)
{
  int (**v1)(void); // esi@1
  unsigned int v2; // edi@1
  int result; // eax@4

  v1 = (int (**)(void))dword_10DF7910[sub_100494D0()];
  v2 = 0;
  if ( a1 )
  {
    while ( v1 && *v1 )
    {
      result = (*v1)();
      ++v2;
      ++v1;
      if ( v2 >= a1 )
        return result;
    }
    result = 0;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10DF7910: using guessed type int dword_10DF7910[];

//----- (100496E0) --------------------------------------------------------
int __usercall sub_100496E0@<eax>(_DWORD *a1@<eax>, void (__cdecl *a2)(signed int, void *)@<ebx>, int a3@<esi>)
{
  _DWORD *v3; // edi@1
  int result; // eax@1
  int v5; // ecx@2
  int v6; // eax@4
  int v7; // edi@4
  int v8; // edi@7

  v3 = a1;
  result = 0;
  if ( a3 )
  {
    v5 = *(_DWORD *)(a3 + 12);
    if ( v5 )
    {
      if ( v5 == 1 )
      {
        sub_10052990(5, *(_DWORD *)a3);
        v6 = (*(int (**)(void))(a3 + 8))();
        sub_10049F60((int)v3, v6, 0);
        v7 = -*v3;
        sub_10052990(9, *(_DWORD *)a3);
        result = v7;
      }
    }
    else
    {
      sub_10052990(6, *(_DWORD *)a3);
      if ( a2 )
        a2(5, &unk_100B6498);
      sub_100528E0(a3);
      v8 = -*v3;
      if ( a2 )
        a2(6, &unk_100B6498);
      sub_10052990(8, *(_DWORD *)a3);
      result = v8;
    }
  }
  return result;
}

//----- (10049780) --------------------------------------------------------
int __usercall sub_10049780@<eax>(int result@<eax>)
{
  *(_DWORD *)result = 0;
  *(_DWORD *)(result + 4) = 0;
  *(_DWORD *)(result + 8) = 0;
  *(_DWORD *)(result + 12) = 0;
  *(_DWORD *)(result + 16) = 0;
  *(_DWORD *)(result + 20) = 0;
  *(_DWORD *)(result + 28) = 0;
  *(_BYTE *)(result + 33) = 0;
  *(_BYTE *)(result + 34) = 0;
  *(_BYTE *)(result + 24) = 1;
  *(_BYTE *)(result + 32) = 1;
  *(_DWORD *)(result + 36) = 0;
  *(_DWORD *)(result + 40) = 0;
  *(_DWORD *)(result + 44) = 0;
  *(_DWORD *)(result + 48) = 0;
  *(_DWORD *)(result + 52) = 0;
  return result;
}

//----- (100497C0) --------------------------------------------------------
char *__cdecl sub_100497C0(int a1, char *a2, int a3, const char *a4)
{
  const char *v4; // ecx@0
  const char *v5; // ebx@1
  char *v6; // eax@1
  char *v7; // ecx@1
  char *result; // eax@3
  char *v9; // eax@5
  const char *v10; // edi@5
  const char **v11; // ebx@8
  char *v12; // eax@10
  const char *v13; // edi@10
  char **v14; // ebp@10
  const char *v15; // edi@12
  char *v16; // [sp+10h] [bp-624h]@8
  signed int v17; // [sp+14h] [bp-620h]@10
  int v18[6]; // [sp+18h] [bp-61Ch]@2
  char v19; // [sp+30h] [bp-604h]@1
  char v20; // [sp+130h] [bp-504h]@5
  char v21; // [sp+230h] [bp-404h]@7
  char v22; // [sp+330h] [bp-304h]@10
  char v23; // [sp+430h] [bp-204h]@10
  char v24; // [sp+530h] [bp-104h]@10

  v5 = v4;
  v6 = 0;
  v7 = &v19;
  do
  {
    v18[(signed int)v6] = (int)v7;
    *v7 = 0;
    ++v6;
    v7 += 256;
  }
  while ( (unsigned int)v6 < 6 );
  LOBYTE(v6) = 0;
  result = sub_10049620(v6, "command", (int)&v19);
  if ( a3 )
  {
    LOBYTE(result) = 0;
    if ( a4 )
    {
      v9 = sub_10049620(result, a4, (int)&v20);
      v10 = v5;
    }
    else
    {
      v9 = sub_10049620(result, v5, (int)&v20);
      v10 = (const char *)&unk_1008E0CC;
    }
    LOBYTE(v9) = 0;
    sub_10049620(v9, v10, (int)&v21);
    result = a2;
    if ( a2 )
    {
      v11 = (const char **)(a1 + 36);
      v16 = a2;
      do
      {
        if ( (unsigned int)*(v11 - 6) >= 2 )
        {
          LOBYTE(result) = 0;
          v12 = sub_10049620(result, *v11, (int)&v24);
          v13 = *(v11 - 9);
          LOBYTE(v12) = 1;
          v22 = 0;
          sub_10049620(v12, v13, (int)&v22);
          v23 = 0;
          v14 = (char **)(v11 - 5);
          v17 = 5;
          do
          {
            switch ( *v14 )
            {
              case 1u:
                v15 = "<bool>";
                goto LABEL_19;
              case 2u:
                v15 = "<char>";
                goto LABEL_19;
              case 3u:
                v15 = "<sint32>";
                goto LABEL_19;
              case 4u:
                v15 = "<uint32>";
                goto LABEL_19;
              case 6u:
                v15 = "<float>";
                goto LABEL_19;
              case 5u:
                v15 = "<str>";
                goto LABEL_19;
              case 0u:
                break;
              default:
                v15 = "<*?*>";
LABEL_19:
                sub_10049620(*v14, v15, (int)&v23);
                break;
            }
            ++v14;
            --v17;
          }
          while ( v17 );
          result = (char *)sub_10052920(2, (int)v18, 6);
        }
        v11 += 10;
        --v16;
      }
      while ( v16 );
    }
  }
  return result;
}
// 100497C0: using guessed type int var_61C[6];

//----- (10049970) --------------------------------------------------------
int __usercall sub_10049970@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  int v2; // ST08_4@1
  char *v3; // eax@1
  int result; // eax@1
  int (__cdecl *v5)(signed int, void *); // esi@1

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 4);
  v3 = sub_10049480((char **)a1);
  result = sub_100529B0(4, (int)v3, v2);
  v5 = *(int (__cdecl **)(signed int, void *))(v1 + 16);
  if ( v5 )
    result = v5(4, &unk_100B6498);
  return result;
}

//----- (100499A0) --------------------------------------------------------
int __usercall sub_100499A0@<eax>(int a1@<esi>)
{
  void (__cdecl *v1)(signed int, void *); // eax@1
  char v2; // al@3

  v1 = *(void (__cdecl **)(signed int, void *))(a1 + 16);
  if ( v1 )
    v1(7, &unk_100B6498);
  v2 = (unsigned int)sub_10049480((char **)a1);
  return sub_10052990(10, v2);
}

//----- (100499D0) --------------------------------------------------------
void __cdecl sub_100499D0(int (**a1)(void), char **a2, _DWORD *a3)
{
  int v3; // esi@3
  int (**v4)(void); // ebx@4
  char **v5; // eax@6
  char *v6; // ST1C_4@6
  char *v7; // eax@6
  char *v8; // eax@7
  char *v9; // eax@9
  char *v10; // eax@10
  int v11; // ebp@12
  signed int v12; // ebx@12
  const char *v13; // eax@14
  char *v14; // ST18_4@14
  int v15; // ST14_4@14
  char *v16; // eax@14
  int v17; // ecx@18
  unsigned int v18; // eax@18
  int v19; // eax@20
  int v20; // ecx@20
  char v21; // dl@20
  int v22; // ST14_4@30
  char *v23; // ST10_4@30
  const char *v24; // eax@31
  char *v25; // ST18_4@31
  int v26; // ST14_4@31
  char *v27; // ST10_4@31
  int v28; // edx@34
  int v29; // ecx@34
  int v30; // eax@34
  int v31; // ST14_4@37
  char *v32; // eax@37
  int v33; // eax@38
  int v34; // ST14_4@39
  char *v35; // ST10_4@39
  int v36; // ST14_4@41
  char *v37; // eax@41
  int v38; // eax@42
  int v39; // ST14_4@43
  char *v40; // eax@43
  int v41; // ST14_4@45
  char *v42; // eax@45
  int v43; // ST14_4@48
  char *v44; // eax@48
  int v45; // edx@49
  int v46; // ST14_4@50
  char *v47; // ST10_4@50
  char *v48; // eax@54
  unsigned int v49; // [sp+4h] [bp-8h]@12
  unsigned int v50; // [sp+8h] [bp-4h]@15
  int v51; // [sp+10h] [bp+4h]@16

  if ( a1 )
  {
    if ( *a1 )
    {
      v3 = (*a1)();
      if ( !a2 )
      {
        v4 = a1 + 1;
        if ( a1 != (int (**)(void))-4 )
        {
          do
          {
            if ( !*v4 )
              break;
            v5 = (char **)(*v4)();
            v6 = sub_10049480(v5);
            v7 = sub_10049480((char **)v3);
            if ( !sub_10049510(v7, (int)v6) )
            {
              v8 = sub_10049480((char **)v3);
              sub_10052A20(
                3,
                (int)"**Error**",
                (int)"..\\lib\\utf\\utf_runner.c",
                (int)"2872",
                (int)v8,
                (int)"Suite name has been used more than once");
              *a3 = 12;
            }
            ++v4;
          }
          while ( v4 );
        }
      }
      v9 = sub_10049480((char **)v3);
      if ( strchr(v9, 32) )
      {
        v10 = sub_10049480((char **)v3);
        sub_10052A20(
          3,
          (int)"**Warning**",
          (int)"..\\lib\\utf\\utf_runner.c",
          (int)"2903",
          (int)v10,
          (int)"Suite name includes spaces so it must be quoted");
        *a3 = 10;
      }
      if ( *(_DWORD *)(v3 + 12) )
      {
        v11 = 0;
        v49 = 1;
        v12 = 20;
        while ( 1 )
        {
          if ( strchr(*(const char **)(*(_DWORD *)(v3 + 8) + v11), 32) )
          {
            v13 = sub_10049680(*(_DWORD *)(*(_DWORD *)(v3 + 8) + v11 + 12));
            v14 = sub_10052B00("%s name includes spaces so it must be quoted", v13);
            v15 = *(_DWORD *)(*(_DWORD *)(v3 + 8) + v11);
            v16 = sub_10049480((char **)v3);
            sub_10052A60(3, (int)"**Warning**", (int)"..\\lib\\utf\\utf_runner.c", (int)"2915", (int)v16, v15, (int)v14);
            *a3 = 10;
          }
          v50 = v49;
          if ( v49 < *(_DWORD *)(v3 + 12) )
          {
            v51 = v11 + 40;
            do
            {
              if ( !sub_10049510(*(_BYTE **)(*(_DWORD *)(v3 + 8) + v11), *(_DWORD *)(v51 + *(_DWORD *)(v3 + 8))) )
              {
                v17 = *(_DWORD *)(v3 + 8);
                v18 = *(_DWORD *)(v17 + v11 + 12);
                if ( v18 < 2 || *(_DWORD *)(v51 + v17 + 12) < 2u )
                {
                  v24 = sub_10049680(v18);
                  v25 = sub_10052B00("%s name has been used more than once", v24);
                  v26 = *(_DWORD *)(*(_DWORD *)(v3 + 8) + v11);
                  v27 = sub_10049480((char **)v3);
                  sub_10052A60(
                    3,
                    (int)"**Error**",
                    (int)"..\\lib\\utf\\utf_runner.c",
                    (int)"2958",
                    (int)v27,
                    v26,
                    (int)v25);
                }
                else
                {
                  v19 = *(_DWORD *)(v3 + 8);
                  v20 = *(_DWORD *)(v51 + v17 + 16);
                  v21 = 0;
                  if ( *(_DWORD *)(v12 + v19 - 4) != v20 )
                    v21 = 1;
                  if ( *(_DWORD *)(v12 + v19) != v20 )
                    v21 = 1;
                  if ( *(_DWORD *)(v12 + v19 + 4) != v20 )
                    v21 = 1;
                  if ( *(_DWORD *)(v12 + v19 + 8) != v20 )
                    v21 = 1;
                  if ( *(_DWORD *)(v12 + v19 + 12) != v20 || v21 )
                    goto LABEL_33;
                  v22 = *(_DWORD *)(v19 + v11);
                  v23 = sub_10049480((char **)v3);
                  sub_10052A60(
                    3,
                    (int)"**Error**",
                    (int)"..\\lib\\utf\\utf_runner.c",
                    (int)"2946",
                    (int)v23,
                    v22,
                    (int)"Command name has been used more than once");
                }
                *a3 = 12;
              }
LABEL_33:
              v51 += 40;
              ++v50;
            }
            while ( v50 < *(_DWORD *)(v3 + 12) );
          }
          v28 = *(_DWORD *)(v3 + 8);
          v29 = *(_DWORD *)(v28 + v11 + 12);
          v30 = v28 + v11;
          if ( !v29 )
            break;
          if ( v29 == 1 )
          {
            if ( !*(_DWORD *)(v30 + 8) )
            {
              v36 = *(_DWORD *)v30;
              v37 = sub_10049480((char **)v3);
              sub_10052A60(
                3,
                (int)"**Error**",
                (int)"..\\lib\\utf\\utf_runner.c",
                (int)"3047",
                (int)v37,
                v36,
                (int)"Test group has a NULL function pointer or a command uses a reserved ID");
              *a3 = 12;
            }
            v38 = *(_DWORD *)(v3 + 8) + v11;
            if ( *(_DWORD *)(v38 + 4) )
            {
              v39 = *(_DWORD *)v38;
              v40 = sub_10049480((char **)v3);
              sub_10052A60(
                3,
                (int)"**Warning**",
                (int)"..\\lib\\utf\\utf_runner.c",
                (int)"3058",
                (int)v40,
                v39,
                (int)"Test group has a non-NULL test case function pointer");
              *a3 = 10;
            }
            if ( a2 )
            {
              v41 = *(_DWORD *)(*(_DWORD *)(v3 + 8) + v11);
              v42 = sub_10049480((char **)v3);
              sub_10052A60(
                3,
                (int)"**Error**",
                (int)"..\\lib\\utf\\utf_runner.c",
                (int)"3070",
                (int)v42,
                v41,
                (int)"Test group contains a test group");
              *a3 = 12;
            }
            else
            {
              sub_100499D0(*(_DWORD *)(v3 + 8) + v11 + 8, v3, a3);
            }
            goto LABEL_52;
          }
          if ( *(_DWORD *)(v30 + 4) )
          {
            v31 = *(_DWORD *)v30;
            v32 = sub_10049480((char **)v3);
            sub_10052A60(
              3,
              (int)"**Warning**",
              (int)"..\\lib\\utf\\utf_runner.c",
              (int)"3088",
              (int)v32,
              v31,
              (int)"Command include a non-NULL test case function pointer");
            *a3 = 10;
          }
          v33 = *(_DWORD *)(v3 + 8) + v11;
          if ( *(_DWORD *)(v33 + 8) )
          {
            v34 = *(_DWORD *)v33;
            v35 = sub_10049480((char **)v3);
            sub_10052A60(
              3,
              (int)"**Warning**",
              (int)"..\\lib\\utf\\utf_runner.c",
              (int)"3099",
              (int)v35,
              v34,
              (int)"Command include a non-NULL test group function pointer");
LABEL_51:
            *a3 = 10;
          }
LABEL_52:
          ++v49;
          v12 += 40;
          v11 += 40;
          if ( v49 - 1 >= *(_DWORD *)(v3 + 12) )
            return;
        }
        if ( !*(_DWORD *)(v30 + 4) )
        {
          v43 = *(_DWORD *)v30;
          v44 = sub_10049480((char **)v3);
          sub_10052A60(
            3,
            (int)"**Error**",
            (int)"..\\lib\\utf\\utf_runner.c",
            (int)"3022",
            (int)v44,
            v43,
            (int)"Test case has a NULL function pointer or a command uses a reserved ID");
          *a3 = 12;
        }
        v45 = *(_DWORD *)(v3 + 8);
        if ( !*(_DWORD *)(v45 + v11 + 8) )
          goto LABEL_52;
        v46 = *(_DWORD *)(v45 + v11);
        v47 = sub_10049480((char **)v3);
        sub_10052A60(
          3,
          (int)"**Warning**",
          (int)"..\\lib\\utf\\utf_runner.c",
          (int)"3033",
          (int)v47,
          v46,
          (int)"Test case has a non-NULL group function pointer");
        goto LABEL_51;
      }
    }
    else
    {
      v48 = sub_10049480(a2);
      sub_10052A20(
        3,
        (int)"**Error**",
        (int)"..\\lib\\utf\\utf_runner.c",
        (int)"3114",
        (int)v48,
        (int)"Test suite has a NULL function pointer or a command uses a reserved ID");
      *a3 = 12;
    }
  }
}

//----- (10049E40) --------------------------------------------------------
int sub_10049E40()
{
  int (**i)(void); // esi@1
  int v2; // [sp+4h] [bp-4h]@1

  v2 = 0;
  for ( i = (int (**)(void))dword_10DF7910[sub_100494D0()]; i; ++i )
  {
    if ( !*i )
      break;
    sub_100499D0(i, 0, &v2);
  }
  return v2;
}
// 10DF7910: using guessed type int dword_10DF7910[];

//----- (10049E90) --------------------------------------------------------
void *sub_10049E90()
{
  void *result; // eax@1
  signed int v1; // esi@1

  dword_10DF7910[0] = 0;
  dword_10DF7914 = 0;
  dword_10DF7918 = 0;
  dword_10DF791C = 0;
  dword_10DF7920 = 0;
  result = &unk_10DF7938;
  dword_10DF7924[0] = -1;
  dword_10DF7928 = -1;
  dword_10DF792C = -1;
  dword_10DF7930 = -1;
  dword_10DF7934 = -1;
  v1 = 5;
  do
  {
    result = (void *)(sub_10049780((int)result) + 56);
    --v1;
  }
  while ( v1 );
  return result;
}
// 10DF7910: using guessed type int dword_10DF7910[];
// 10DF7914: using guessed type int dword_10DF7914;
// 10DF7918: using guessed type int dword_10DF7918;
// 10DF791C: using guessed type int dword_10DF791C;
// 10DF7920: using guessed type int dword_10DF7920;
// 10DF7924: using guessed type int dword_10DF7924[];
// 10DF7928: using guessed type int dword_10DF7928;
// 10DF792C: using guessed type int dword_10DF792C;
// 10DF7930: using guessed type int dword_10DF7930;
// 10DF7934: using guessed type int dword_10DF7934;

//----- (10049EF0) --------------------------------------------------------
char *sub_10049EF0()
{
  return (char *)&unk_10DF7938 + 56 * sub_100494D0();
}

//----- (10049F10) --------------------------------------------------------
char __cdecl sub_10049F10(int a1, int a2, unsigned int a3)
{
  char *v3; // esi@1
  char result; // al@1

  v3 = sub_10049EF0();
  result = a1 - 6;
  if ( a1 == 6 )
  {
    *(_DWORD *)v3 = 0;
  }
  else
  {
    result = a1 - 7;
    if ( a1 == 7 )
    {
      result = sub_100528F0(a2, a3);
      if ( result )
        ++*(_DWORD *)v3;
    }
  }
  return result;
}

//----- (10049F50) --------------------------------------------------------
char **sub_10049F50()
{
  return &off_100B6848;
}
// 100B6848: using guessed type char *off_100B6848;

//----- (10049F60) --------------------------------------------------------
int __cdecl sub_10049F60(int a1, int a2, int a3)
{
  char *v3; // esi@1
  int result; // eax@2
  unsigned int v5; // ebp@7
  int v6; // [sp+8h] [bp-8h]@0
  int v7; // [sp+8h] [bp-8h]@7
  int v8; // [sp+Ch] [bp-4h]@8

  sub_10052C20();
  v3 = sub_10049EF0();
  if ( v3[34] )
  {
    result = v6;
  }
  else
  {
    result = sub_10049E40();
    if ( result != 12 )
      v3[34] = 1;
  }
  if ( v3[34] )
  {
    sub_10049970(a2);
    if ( a3 )
    {
      v7 = sub_100496E0((_DWORD *)a1, *(void (__cdecl **)(signed int, void *))(a2 + 16), a3);
    }
    else
    {
      v5 = 0;
      v7 = 0;
      if ( *(_DWORD *)(a2 + 12) )
      {
        v8 = 0;
        do
        {
          v7 += sub_100496E0((_DWORD *)a1, *(void (__cdecl **)(signed int, void *))(a2 + 16), v8 + *(_DWORD *)(a2 + 8));
          v8 += 40;
          ++v5;
        }
        while ( v5 < *(_DWORD *)(a2 + 12) );
        sub_100499A0(a2);
        return v7;
      }
    }
    sub_100499A0(a2);
    result = v7;
  }
  return result;
}

//----- (1004A010) --------------------------------------------------------
int __cdecl sub_1004A010(int a1, int a2, int a3, const char *a4, const char *a5)
{
  int v5; // ebp@1
  unsigned int v6; // eax@1
  char *v7; // ecx@1
  int result; // eax@3
  int v9; // eax@5
  char *v10; // eax@7
  char *v11; // eax@7
  char *v12; // eax@7
  char *v13; // eax@7
  char *v14; // eax@7
  char **v15; // eax@7
  char **v16; // esi@7
  char *v17; // eax@7
  char *v18; // eax@7
  char *v19; // eax@7
  char *v20; // eax@7
  char *v21; // eax@8
  char *v22; // eax@9
  const char *v23; // edi@9
  char *v24; // eax@11
  int v25; // [sp+8h] [bp-41Ch]@4
  int v26[4]; // [sp+10h] [bp-414h]@2
  char v27; // [sp+20h] [bp-404h]@1
  char v28; // [sp+120h] [bp-304h]@7
  char v29; // [sp+220h] [bp-204h]@7
  char v30; // [sp+320h] [bp-104h]@11

  v5 = a1;
  v6 = 0;
  v7 = &v27;
  do
  {
    v26[v6] = (int)v7;
    *v7 = 0;
    ++v6;
    v7 += 256;
  }
  while ( v6 < 4 );
  result = a2;
  if ( a2 )
  {
    v25 = a2;
    do
    {
      v9 = *(_DWORD *)(v5 + 12);
      if ( v9 )
      {
        result = v9 - 1;
        if ( !result )
        {
          v10 = sub_10049620(0, "group", (int)&v27);
          LOBYTE(v10) = 0;
          v11 = sub_10049620(v10, a4, (int)&v28);
          LOBYTE(v11) = 0;
          sub_10049620(v11, *(const char **)v5, (int)&v29);
          v12 = (char *)sub_10052920(2, (int)v26, 3);
          LOBYTE(v12) = 0;
          v13 = sub_10049620(v12, "group", (int)&v27);
          LOBYTE(v13) = 0;
          v14 = sub_10049620(v13, a4, (int)&v28);
          LOBYTE(v14) = 0;
          sub_10049620(v14, "group-begin", (int)&v29);
          sub_10052920(2, (int)v26, 3);
          v15 = (char **)(*(int (**)(void))(v5 + 8))();
          v16 = v15;
          v17 = sub_10049480(v15);
          sub_1004A010(v16[2], v16[3], v16[4], v17, a4);
          sub_10049480(v16);
          v18 = sub_100497C0((int)v16[2], v16[3], (int)v16[4], a4);
          LOBYTE(v18) = 0;
          v19 = sub_10049620(v18, "group", (int)&v27);
          LOBYTE(v19) = 0;
          v20 = sub_10049620(v19, a4, (int)&v28);
          LOBYTE(v20) = 0;
          sub_10049620(v20, "group-end", (int)&v29);
          result = sub_10052920(2, (int)v26, 3);
        }
      }
      else
      {
        v21 = sub_10049620(0, "case", (int)&v27);
        LOBYTE(v21) = 0;
        if ( a5 )
        {
          v22 = sub_10049620(v21, a5, (int)&v28);
          v23 = a4;
        }
        else
        {
          v22 = sub_10049620(v21, a4, (int)&v28);
          v23 = (const char *)&unk_1008E0CC;
        }
        LOBYTE(v22) = 0;
        v24 = sub_10049620(v22, v23, (int)&v29);
        LOBYTE(v24) = 0;
        sub_10049620(v24, *(const char **)v5, (int)&v30);
        result = sub_10052920(2, (int)v26, 4);
      }
      v5 += 40;
      --v25;
    }
    while ( v25 );
  }
  return result;
}
// 1004A010: using guessed type int var_414[4];

//----- (1004A220) --------------------------------------------------------
char *__usercall sub_1004A220@<eax>(const char *a1@<ecx>, const char *a2@<ebx>, int a3, char *a4, int a5, char a6)
{
  const char *v6; // edi@1
  char *v7; // eax@1
  char *v8; // ecx@1
  char *v9; // eax@3
  char *result; // eax@3
  int v11[2]; // [sp+Ch] [bp-20Ch]@2
  char v12; // [sp+14h] [bp-204h]@1
  char v13; // [sp+114h] [bp-104h]@3

  v6 = a1;
  v7 = 0;
  v8 = &v12;
  do
  {
    v11[(signed int)v7] = (int)v8;
    *v8 = 0;
    ++v7;
    v8 += 256;
  }
  while ( (unsigned int)v7 < 2 );
  LOBYTE(v7) = 0;
  v9 = sub_10049620(v7, v6, (int)&v12);
  LOBYTE(v9) = 0;
  result = sub_10049620(v9, a2, (int)&v13);
  if ( v13 )
    result = (char *)sub_10052920(2, (int)v11, 2);
  if ( a6 )
  {
    sub_1004A010(a3, (int)a4, a5, a2, 0);
    result = sub_100497C0(a3, a4, a5, 0);
  }
  return result;
}
// 1004A220: using guessed type int var_20C[2];

//----- (1004A2E0) --------------------------------------------------------
char *__cdecl sub_1004A2E0(char a1)
{
  int (**i)(void); // edi@1
  int v2; // esi@3
  char *v3; // ebx@3
  char **v4; // esi@4
  signed int v5; // edi@4
  char *result; // eax@5

  for ( i = (int (**)(void))dword_10DF7910[sub_100494D0()]; i; ++i )
  {
    if ( !*i )
      break;
    v2 = (*i)();
    v3 = sub_10049480((char **)v2);
    sub_1004A220("suite", v3, *(_DWORD *)(v2 + 8), *(char **)(v2 + 12), *(_DWORD *)(v2 + 16), a1);
  }
  v4 = (char **)(sub_10049EF0() + 36);
  v5 = 5;
  do
  {
    result = *v4;
    if ( *v4 )
    {
      if ( *((_DWORD *)result + 2) )
        result = sub_1004A220(
                   "listener",
                   *(const char **)result,
                   *((_DWORD *)result + 3),
                   *((char **)result + 4),
                   *((_DWORD *)result + 2),
                   a1);
    }
    ++v4;
    --v5;
  }
  while ( v5 );
  return result;
}
// 10DF7910: using guessed type int dword_10DF7910[];

//----- (1004A380) --------------------------------------------------------
int *__cdecl sub_1004A380(_BYTE *a1)
{
  int (**v1)(void); // edi@1
  char **v2; // eax@3
  char **v3; // esi@3
  char *v4; // eax@3
  char *v5; // eax@6
  char *v6; // ebx@7
  unsigned int v7; // esi@7
  int **v8; // edi@7
  int *result; // eax@8

  v1 = (int (**)(void))dword_10DF7910[sub_100494D0()];
  if ( v1 )
  {
    while ( *v1 )
    {
      v2 = (char **)(*v1)();
      v3 = v2;
      v4 = sub_10049480(v2);
      if ( !sub_10049580(a1, (int)v4) )
      {
        v5 = sub_10049480(v3);
        sub_1004A220("suite", v5, (int)v3[2], v3[3], (int)v3[4], 1);
        break;
      }
      ++v1;
      if ( !v1 )
        break;
    }
  }
  v6 = sub_10049EF0();
  v7 = 0;
  v8 = (int **)(v6 + 36);
  while ( 1 )
  {
    result = *v8;
    if ( *v8 )
    {
      result = (int *)sub_10049580(a1, *result);
      if ( !result )
        break;
    }
    ++v7;
    ++v8;
    if ( v7 >= 5 )
      return result;
  }
  return (int *)sub_1004A220(
                  "listener",
                  **(const char ***)&v6[4 * v7 + 36],
                  *(_DWORD *)(*(_DWORD *)&v6[4 * v7 + 36] + 12),
                  *(char **)(*(_DWORD *)&v6[4 * v7 + 36] + 16),
                  *(_DWORD *)(*(_DWORD *)&v6[4 * v7 + 36] + 8),
                  1);
}
// 10DF7910: using guessed type int dword_10DF7910[];

//----- (1004A440) --------------------------------------------------------
int __usercall sub_1004A440@<eax>(int a1@<eax>)
{
  int v1; // edi@1
  bool v2; // zf@1
  int result; // eax@1
  signed int v4; // ebp@3
  int v5; // eax@5
  int v6; // eax@8
  int v7; // ecx@14
  int v8; // esi@18
  unsigned int v9; // eax@18
  int v10; // eax@19
  int v11; // edi@25

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 20) == 0;
  result = 12;
  if ( !v2 && !*(_BYTE *)(v1 + 24) )
  {
    v4 = 2;
    if ( !*(_DWORD *)(v1 + 16) )
    {
      *(_DWORD *)(v1 + 16) = sub_100496A0(++*(_DWORD *)(v1 + 12));
      *(_DWORD *)(v1 + 8) = 0;
      *(_DWORD *)(v1 + 4) = 0;
    }
    v5 = *(_DWORD *)(v1 + 16);
    if ( v5 )
    {
      if ( *(_DWORD *)(v1 + 20) == 1 )
      {
        sub_10049F60(v1, v5, *(_DWORD *)(v1 + 8));
        v6 = sub_100496A0(++*(_DWORD *)(v1 + 12));
        v2 = *(_DWORD *)(v1 + 28) == 0;
        *(_DWORD *)(v1 + 16) = v6;
        *(_DWORD *)(v1 + 8) = 0;
        if ( !v2 || !v6 )
          *(_BYTE *)(v1 + 24) = 1;
      }
      else if ( *(_DWORD *)(v1 + 28) == 2 )
      {
        sub_10049F60(v1, v5, *(_DWORD *)(v1 + 8));
        *(_BYTE *)(v1 + 24) = 1;
      }
      else if ( *(_DWORD *)(v1 + 8)
             || (*(_DWORD *)(v1 + 4) = 0, v7 = *(_DWORD *)(v5 + 8), (*(_DWORD *)(v1 + 8) = v7) != 0) )
      {
        if ( !*(_DWORD *)(v1 + 4) )
          sub_10049970(v5);
        sub_100496E0(
          (_DWORD *)v1,
          *(void (__cdecl **)(signed int, void *))(*(_DWORD *)(v1 + 16) + 16),
          *(_DWORD *)(v1 + 8));
        v8 = *(_DWORD *)(v1 + 16);
        v9 = ++*(_DWORD *)(v1 + 4);
        if ( *(_DWORD *)(v8 + 12) > v9 )
        {
          *(_DWORD *)(v1 + 8) = *(_DWORD *)(v8 + 8) + 40 * v9;
        }
        else
        {
          sub_100499A0(v8);
          v10 = sub_100496A0(++*(_DWORD *)(v1 + 12));
          *(_DWORD *)(v1 + 16) = v10;
          *(_DWORD *)(v1 + 4) = 0;
          *(_DWORD *)(v1 + 8) = 0;
          if ( !v10 || *(_DWORD *)(v1 + 28) )
            *(_BYTE *)(v1 + 24) = 1;
        }
      }
      else
      {
        *(_BYTE *)(v1 + 24) = 1;
        v4 = 12;
      }
    }
    else
    {
      *(_BYTE *)(v1 + 24) = 1;
      v4 = 12;
    }
    if ( *(_BYTE *)(v1 + 24) && v4 == 2 )
    {
      v11 = *(_DWORD *)v1;
      if ( v11 )
        result = v11 + 12;
      else
        result = 0;
    }
    else
    {
      result = v4;
    }
  }
  return result;
}

//----- (1004A5A0) --------------------------------------------------------
signed int __usercall sub_1004A5A0@<eax>(int a1@<esi>)
{
  signed int v1; // ebp@1
  int (**i)(void); // edi@2
  int v3; // eax@4
  signed int result; // eax@5

  v1 = 0;
  if ( *(_DWORD *)(a1 + 20) )
  {
    if ( *(_BYTE *)(a1 + 24) )
    {
      *(_DWORD *)(a1 + 16) = 0;
      *(_DWORD *)(a1 + 8) = 0;
      *(_DWORD *)(a1 + 12) = 0;
      *(_DWORD *)(a1 + 4) = 0;
      *(_DWORD *)(a1 + 28) = 0;
      *(_BYTE *)(a1 + 24) = 0;
      result = 1;
    }
    else
    {
      result = 12;
    }
  }
  else
  {
    for ( i = (int (**)(void))dword_10DF7910[sub_100494D0()]; i; ++i )
    {
      if ( !*i )
        break;
      v3 = (*i)();
      v1 += sub_10049F60(a1, v3, 0);
    }
    result = v1;
  }
  return result;
}
// 10DF7910: using guessed type int dword_10DF7910[];

//----- (1004A610) --------------------------------------------------------
int __cdecl sub_1004A610(int a1, int a2)
{
  int v2; // ebx@1
  char *v3; // esi@1
  int v4; // ebx@3
  int result; // eax@3
  _BYTE *v6; // esi@5
  int v7; // ebx@6
  int v8; // ebx@8
  int v9; // ebx@9
  int (**i)(void); // edi@11
  int v11; // eax@13
  int (__cdecl *v12)(int, int); // eax@14
  int (**v13)(void); // esi@19
  int v14; // eax@21
  int (__cdecl *v15)(int, int); // eax@22

  v2 = 0;
  v3 = sub_10049EF0();
  switch ( a1 )
  {
    case 9:
      sub_10052990(2, (unsigned int)"begin");
      if ( *(_DWORD *)a2 )
      {
        if ( *(_DWORD *)a2 == 5 )
        {
          v6 = (_BYTE *)(a2 + 4);
          if ( sub_10049580((_BYTE *)(a2 + 4), (int)"-v") )
          {
            if ( sub_10049580(v6, (int)"-q") )
            {
              sub_1004A380(v6);
              v9 = sub_10049E40();
              sub_10052990(2, (unsigned int)"end");
              result = v9;
            }
            else
            {
              sub_1004A2E0(0);
              v8 = sub_10049E40();
              sub_10052990(2, (unsigned int)"end");
              result = v8;
            }
          }
          else
          {
            sub_1004A2E0(1);
            v7 = sub_10049E40();
            sub_10052990(2, (unsigned int)"end");
            result = v7;
          }
        }
        else
        {
          sub_100529E0(
            3,
            (int)"**Error**",
            (int)"..\\lib\\utf\\utf_runner.c",
            (int)"1719",
            (int)"Unsupported argument type for help command (internal error)");
          sub_10052990(2, (unsigned int)"end");
          result = 4;
        }
      }
      else
      {
        sub_1004A2E0(0);
        v4 = sub_10049E40();
        sub_10052990(2, (unsigned int)"end");
        result = v4;
      }
      return result;
    case 2:
      sub_10052990(0, (unsigned int)"Global reset command");
      for ( i = (int (**)(void))dword_10DF7910[sub_100494D0()]; i; ++i )
      {
        if ( !*i )
          break;
        v11 = (*i)();
        if ( v11 )
        {
          v12 = *(int (__cdecl **)(int, int))(v11 + 16);
          if ( v12 )
          {
            if ( v12 != sub_1004A610 )
              v12(2, (int)&unk_100B6498);
          }
        }
      }
      sub_10052C20();
      v3[34] = 0;
      return 0;
    case 3:
      sub_10052990(1, (unsigned int)"Global clear command");
      v13 = (int (**)(void))dword_10DF7910[sub_100494D0()];
      if ( !v13 )
        return v2;
      break;
    case 10:
      if ( !*((_DWORD *)v3 + 5) )
      {
        sub_100529E0(3, (int)"**Error**", (int)"..\\lib\\utf\\utf_runner.c", (int)"1764", (int)"Step mode not enabled");
        goto LABEL_29;
      }
      return sub_1004A440((int)v3);
    case 11:
      if ( v3[24] )
      {
        *((_DWORD *)v3 + 5) = 0;
        v3[24] = 0;
        result = 0;
      }
      else
      {
        sub_100529E0(3, (int)"**Error**", (int)"..\\lib\\utf\\utf_runner.c", (int)"1783", (int)"Step mode is busy");
LABEL_29:
        result = 12;
      }
      return result;
    case 12:
      *((_DWORD *)v3 + 5) = 1;
      return 0;
    case 13:
      *((_DWORD *)v3 + 5) = 2;
      return 0;
    case 8:
      return sub_1004A5A0((int)v3);
    case 14:
      exit_1(12);
      return result;
    case 4:
    case 5:
    case 6:
    case 7:
      return v2;
    default:
      sub_100529E0(
        3,
        (int)"**Warning**",
        (int)"..\\lib\\utf\\utf_runner.c",
        (int)"1820",
        (int)"Unknown/unsupported command (internal error)");
      return 4;
  }
  while ( *v13 )
  {
    v14 = (*v13)();
    if ( v14 )
    {
      v15 = *(int (__cdecl **)(int, int))(v14 + 16);
      if ( v15 )
      {
        if ( v15 != sub_1004A610 )
          v15(3, (int)&unk_100B6498);
      }
    }
    ++v13;
    if ( !v13 )
      return 0;
  }
  return v2;
}
// 1004A610: using guessed type int __cdecl sub_1004A610(int, int);
// 10DF7910: using guessed type int dword_10DF7910[];

//----- (1004A8F0) --------------------------------------------------------
signed int __usercall sub_1004A8F0@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>)
{
  int v3; // edi@1
  signed int result; // eax@1
  int v5; // esi@1
  unsigned __int16 v6; // bx@2
  unsigned __int16 v7; // ax@2
  unsigned int v8; // ebx@2
  unsigned __int16 v9; // dx@2
  int v10; // edx@2
  int v11; // eax@2
  int v12; // esi@2
  unsigned int v13; // edx@2
  int v14; // eax@2
  int v15; // esi@2
  unsigned int v16; // ST2C_4@4
  unsigned int v17; // ST30_4@4
  unsigned int v18; // ST34_4@4
  unsigned int v19; // esi@4
  unsigned int v20; // ST2C_4@5
  unsigned int v21; // ST30_4@5
  unsigned int v22; // ST34_4@5
  unsigned int v23; // esi@5
  unsigned int v24; // ST30_4@6
  unsigned int v25; // ST34_4@6
  unsigned int v26; // edx@6
  unsigned int v27; // esi@6
  __int16 v28; // ST38_2@6
  unsigned int v29; // ST1C_4@6
  unsigned int v30; // ST20_4@6
  unsigned int v31; // ST24_4@6
  unsigned int v32; // esi@6
  unsigned int v33; // edx@6
  unsigned int v34; // ST30_4@6
  unsigned int v35; // ST34_4@6
  unsigned int v36; // esi@6
  unsigned int v37; // ST1C_4@6
  unsigned int v38; // ST20_4@6
  unsigned int v39; // ST24_4@6
  unsigned int v40; // esi@6
  unsigned int v41; // ST30_4@6
  unsigned int v42; // edx@6
  unsigned int v43; // ST34_4@6
  unsigned int v44; // esi@6
  unsigned int v45; // ST1C_4@6
  unsigned int v46; // ST20_4@6
  unsigned int v47; // ST24_4@6
  unsigned int v48; // esi@6
  unsigned int v49; // edx@6
  unsigned int v50; // ST30_4@6
  unsigned int v51; // ST34_4@6
  unsigned int v52; // esi@6
  unsigned int v53; // ST1C_4@6
  unsigned int v54; // ST20_4@6
  unsigned int v55; // ST24_4@6
  unsigned int v56; // ST28_4@6
  unsigned int v57; // ST30_4@6
  unsigned int v58; // edx@6
  unsigned int v59; // ST34_4@6
  unsigned int v60; // ST38_4@6
  unsigned int v61; // ST20_4@6
  unsigned int v62; // ST24_4@6
  unsigned int v63; // ebx@6
  unsigned int v64; // eax@6
  unsigned int v65; // [sp+14h] [bp-20h]@2
  unsigned int v66; // [sp+18h] [bp-1Ch]@2
  unsigned int v67; // [sp+1Ch] [bp-18h]@2
  unsigned int v68; // [sp+20h] [bp-14h]@2

  v3 = a1;
  result = 0;
  v5 = a2;
  if ( *(_BYTE *)(v3 + 260) & 1 )
  {
    BYTE1(result) = *(_BYTE *)(a2 + 3);
    HIBYTE(v6) = *(_BYTE *)(a2 + 7);
    LOBYTE(result) = *(_BYTE *)(a2 + 2);
    LOBYTE(v6) = *(_BYTE *)(a2 + 6);
    v65 = *(_DWORD *)v3 ^ (*(_BYTE *)a2 | ((*(_BYTE *)(a2 + 1) | (result << 8)) << 8));
    HIBYTE(v7) = *(_BYTE *)(a2 + 11);
    v8 = *(_DWORD *)(v3 + 4) ^ (*(_BYTE *)(a2 + 4) | ((*(_BYTE *)(a2 + 5) | (v6 << 8)) << 8));
    LOBYTE(v7) = *(_BYTE *)(a2 + 10);
    v66 = v8;
    HIBYTE(v9) = *(_BYTE *)(a2 + 15);
    v67 = *(_DWORD *)(v3 + 8) ^ (*(_BYTE *)(v5 + 8) | ((*(_BYTE *)(v5 + 9) | (v7 << 8)) << 8));
    LOBYTE(v9) = *(_BYTE *)(v5 + 14);
    v10 = *(_BYTE *)(v5 + 13) | (v9 << 8);
    v11 = *(_BYTE *)(v5 + 12);
    v12 = *(_DWORD *)(v3 + 256);
    v13 = *(_DWORD *)(v3 + 12) ^ (v11 | (v10 << 8));
    v14 = v3 + 16 * (v12 - 9);
    v15 = v12 - 12;
    v68 = v13;
    if ( v15 )
    {
      if ( v15 != 2 )
      {
LABEL_6:
        v24 = *(_DWORD *)(v14 + 4) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v66] ^ *(_DWORD *)&dword_100B7930[2 * (v65 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v67)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v68 >> 16)];
        v25 = *(_DWORD *)(v14 + 8) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v67] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v65 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v66 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v68)];
        v26 = *(_DWORD *)v14 ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v65] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v8)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v67 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v13 >> 24)];
        v27 = *(_DWORD *)(v14 + 12) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v68] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v65)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v66 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v67 >> 24)];
        v28 = *(_WORD *)(v14 + 12) ^ dword_100B6D30[2 * (unsigned __int8)v68] ^ dword_100B7130[2 * BYTE1(v65)] ^ dword_100B7530[2 * (unsigned __int8)(v66 >> 16)] ^ dword_100B7930[2 * (v67 >> 24)];
        v29 = *(_DWORD *)(v14 + 16) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v26] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v24)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v25 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v27 >> 24)];
        v30 = *(_DWORD *)(v14 + 20) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v24] ^ *(_DWORD *)&dword_100B7930[2 * (v26 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v25)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v27 >> 16)];
        v31 = *(_DWORD *)(v14 + 24) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v25] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v26 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v24 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * HIBYTE(v28)];
        v32 = *(_DWORD *)(v14 + 28) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v28] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v26)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v24 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v25 >> 24)];
        v33 = *(_DWORD *)(v14 + 32) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v29] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v30)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v31 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v32 >> 24)];
        v34 = *(_DWORD *)(v14 + 36) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v30] ^ *(_DWORD *)&dword_100B7930[2 * (v29 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v31)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v32 >> 16)];
        v35 = *(_DWORD *)(v14 + 40) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v31] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v29 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v30 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v32)];
        v36 = *(_DWORD *)(v14 + 44) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v32] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v29)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v30 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v31 >> 24)];
        v37 = *(_DWORD *)(v14 + 48) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v33] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v34)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v35 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v36 >> 24)];
        v38 = *(_DWORD *)(v14 + 52) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v34] ^ *(_DWORD *)&dword_100B7930[2 * (v33 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v35)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v36 >> 16)];
        v39 = *(_DWORD *)(v14 + 56) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v35] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v33 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v34 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v36)];
        v40 = *(_DWORD *)(v14 + 60) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v36] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v33)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v34 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v35 >> 24)];
        v41 = *(_DWORD *)(v14 + 68) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v38] ^ *(_DWORD *)&dword_100B7930[2 * (v37 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v39)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v40 >> 16)];
        v42 = *(_DWORD *)(v14 + 64) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v37] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v38)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v39 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v40 >> 24)];
        v43 = *(_DWORD *)(v14 + 72) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v39] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v37 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v38 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v40)];
        v44 = *(_DWORD *)(v14 + 76) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v40] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v37)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v38 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v39 >> 24)];
        v45 = *(_DWORD *)(v14 + 80) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v42] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v41)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v43 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v44 >> 24)];
        v46 = *(_DWORD *)(v14 + 84) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v41] ^ *(_DWORD *)&dword_100B7930[2 * (v42 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v43)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v44 >> 16)];
        v47 = *(_DWORD *)(v14 + 88) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v43] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v42 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v41 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v44)];
        v48 = *(_DWORD *)(v14 + 92) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v44] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v42)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v41 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v43 >> 24)];
        v49 = *(_DWORD *)(v14 + 96) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v45] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v46)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v47 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v48 >> 24)];
        v50 = *(_DWORD *)(v14 + 100) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v46] ^ *(_DWORD *)&dword_100B7930[2 * (v45 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v47)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v48 >> 16)];
        v51 = *(_DWORD *)(v14 + 104) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v47] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v45 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v46 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v48)];
        v52 = *(_DWORD *)(v14 + 108) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v48] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v45)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v46 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v47 >> 24)];
        v53 = *(_DWORD *)(v14 + 112) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v49] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v50)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v51 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v52 >> 24)];
        v54 = *(_DWORD *)(v14 + 116) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v50] ^ *(_DWORD *)&dword_100B7930[2 * (v49 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v51)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v52 >> 16)];
        v55 = *(_DWORD *)(v14 + 120) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v51] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v49 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v50 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v52)];
        v56 = *(_DWORD *)(v14 + 124) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v52] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v49)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v50 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v51 >> 24)];
        v57 = *(_DWORD *)(v14 + 132) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v54] ^ *(_DWORD *)&dword_100B7930[2 * (v53 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v55)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v56 >> 16)];
        v58 = *(_DWORD *)(v14 + 128) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v53] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v54)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v55 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v56 >> 24)];
        v59 = *(_DWORD *)(v14 + 136) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v55] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v53 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v54 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v56)];
        v60 = *(_DWORD *)(v14 + 140) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v56] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v53)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v54 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v55 >> 24)];
        v61 = *(_DWORD *)(v14 + 148) ^ dword_100B7D30[(unsigned __int8)v57] ^ dword_100B8930[v58 >> 24] ^ dword_100B8130[BYTE1(v59)] ^ dword_100B8530[(unsigned __int8)(v60 >> 16)];
        v62 = *(_DWORD *)(v14 + 152) ^ dword_100B7D30[(unsigned __int8)v59] ^ dword_100B8530[(unsigned __int8)(v58 >> 16)] ^ dword_100B8930[v57 >> 24] ^ dword_100B8130[BYTE1(v60)];
        v63 = *(_DWORD *)(v14 + 156) ^ dword_100B7D30[(unsigned __int8)v60] ^ dword_100B8130[BYTE1(v58)] ^ dword_100B8530[(unsigned __int8)(v57 >> 16)] ^ dword_100B8930[v59 >> 24];
        v64 = *(_DWORD *)(v14 + 144) ^ dword_100B7D30[(unsigned __int8)v58] ^ dword_100B8130[BYTE1(v57)] ^ dword_100B8530[(unsigned __int8)(v59 >> 16)] ^ dword_100B8930[v60 >> 24];
        *(_BYTE *)(a3 + 1) = BYTE1(v64);
        *(_BYTE *)a3 = v64;
        *(_BYTE *)(a3 + 2) = v64 >> 16;
        *(_BYTE *)(a3 + 3) = BYTE3(v64);
        *(_BYTE *)(a3 + 5) = BYTE1(v61);
        *(_BYTE *)(a3 + 4) = v61;
        *(_BYTE *)(a3 + 7) = BYTE3(v61);
        *(_BYTE *)(a3 + 6) = v61 >> 16;
        *(_BYTE *)(a3 + 9) = BYTE1(v62);
        *(_BYTE *)(a3 + 8) = v62;
        *(_BYTE *)(a3 + 11) = BYTE3(v62);
        *(_BYTE *)(a3 + 10) = v62 >> 16;
        *(_BYTE *)(a3 + 12) = v63;
        *(_BYTE *)(a3 + 13) = BYTE1(v63);
        *(_BYTE *)(a3 + 15) = BYTE3(v63);
        *(_BYTE *)(a3 + 14) = v63 >> 16;
        return 1;
      }
      v16 = *(_DWORD *)(v14 - 64) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v65] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v8)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v67 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v13 >> 24)];
      v17 = *(_DWORD *)(v14 - 60) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v8] ^ *(_DWORD *)&dword_100B7930[2 * (v65 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v67)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v13 >> 16)];
      v18 = *(_DWORD *)(v14 - 56) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v67] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v65 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v8 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v68)];
      v19 = *(_DWORD *)(v14 - 52) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v13] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v65)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v8 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v67 >> 24)];
      v8 = *(_DWORD *)(v14 - 44) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v17] ^ *(_DWORD *)&dword_100B7930[2 * (v16 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v18)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v19 >> 16)];
      v67 = *(_DWORD *)(v14 - 40) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v18] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v16 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v17 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v19)];
      v65 = *(_DWORD *)(v14 - 48) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v16] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v17)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v18 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v19 >> 24)];
      v13 = *(_DWORD *)(v14 - 36) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v19] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v16)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v17 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v18 >> 24)];
      v68 = *(_DWORD *)(v14 - 36) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v19] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v16)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v17 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v18 >> 24)];
    }
    v20 = *(_DWORD *)(v14 - 32) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v65] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v8)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v67 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v13 >> 24)];
    v21 = *(_DWORD *)(v14 - 28) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v8] ^ *(_DWORD *)&dword_100B7930[2 * (v65 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v67)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v68 >> 16)];
    v22 = *(_DWORD *)(v14 - 24) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v67] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v65 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v8 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v68)];
    v23 = *(_DWORD *)(v14 - 20) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v68] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v65)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v8 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v67 >> 24)];
    v8 = *(_DWORD *)(v14 - 12) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v21] ^ *(_DWORD *)&dword_100B7930[2 * (v20 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v22)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v23 >> 16)];
    v67 = *(_DWORD *)(v14 - 8) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v22] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v20 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v21 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v23)];
    v65 = *(_DWORD *)(v14 - 16) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v20] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v21)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v22 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v23 >> 24)];
    v66 = *(_DWORD *)(v14 - 12) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v21] ^ *(_DWORD *)&dword_100B7930[2 * (v20 >> 24)] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v22)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v23 >> 16)];
    v13 = *(_DWORD *)(v14 - 4) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v23] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v20)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v21 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v22 >> 24)];
    v68 = *(_DWORD *)(v14 - 4) ^ *(_DWORD *)&dword_100B6D30[2 * (unsigned __int8)v23] ^ *(_DWORD *)&dword_100B7130[2 * BYTE1(v20)] ^ *(_DWORD *)&dword_100B7530[2 * (unsigned __int8)(v21 >> 16)] ^ *(_DWORD *)&dword_100B7930[2 * (v22 >> 24)];
    goto LABEL_6;
  }
  return result;
}
// 100B7D30: using guessed type int dword_100B7D30[];
// 100B8130: using guessed type int dword_100B8130[];
// 100B8530: using guessed type int dword_100B8530[];
// 100B8930: using guessed type int dword_100B8930[];

//----- (1004B9A0) --------------------------------------------------------
int __usercall sub_1004B9A0@<eax>(int a1@<esi>, int a2, unsigned int a3)
{
  int result; // eax@1
  unsigned int v4; // edi@1
  unsigned int v5; // eax@3
  bool v6; // zf@4

  result = *(_DWORD *)(a1 + 456);
  v4 = 0;
  if ( a3 )
  {
    do
    {
      if ( result == 16 )
      {
        v5 = 0;
        do
        {
          v6 = (*(_BYTE *)(v5 + a1))++ == -1;
          if ( !v6 )
            break;
          ++v5;
        }
        while ( v5 < 8 );
        sub_1004A8F0(a1 + 32, a1, a1 + 16);
        result = 0;
      }
      *(_BYTE *)(v4++ + a2) ^= *(_BYTE *)(a1 + 16 + result++);
    }
    while ( v4 < a3 );
  }
  *(_DWORD *)(a1 + 456) = result;
  return result;
}

//----- (1004BA00) --------------------------------------------------------
signed int __usercall sub_1004BA00@<eax>(int a1@<eax>, int a2, int a3)
{
  int v3; // ebp@1
  unsigned __int16 v4; // dx@1
  int v5; // edx@1
  unsigned __int16 v6; // cx@1
  int v7; // esi@1
  int v8; // edi@1
  unsigned int v9; // ecx@1
  unsigned __int16 v10; // dx@2
  int v11; // edx@2
  int v12; // ebx@2
  int v13; // edx@3
  int v14; // ST20_4@3
  int v15; // edx@3
  int v16; // ST24_4@3
  int v17; // edx@3
  int v18; // ST28_4@3
  unsigned int v19; // edx@3
  int v20; // ebp@3
  int v21; // esi@3
  int v22; // edi@3
  unsigned int v23; // ecx@3
  int v24; // ST20_4@3
  int v25; // ebx@3
  unsigned int v26; // edx@3
  int v27; // ST28_4@3
  int v28; // ebp@3
  int v29; // esi@3
  int v30; // edi@3
  unsigned int v31; // ecx@3
  int v32; // ST10_4@3
  int v33; // ebx@3
  int v34; // ebp@3
  unsigned int v35; // edx@3
  int v36; // ST28_4@3
  int v37; // ST24_4@3
  int v38; // ebp@3
  int v39; // esi@3
  int v40; // edi@3
  unsigned int v41; // ecx@3
  int v42; // ebx@3
  unsigned int v43; // edx@3
  int v44; // ebp@3
  int v45; // esi@3
  int v46; // edi@3
  unsigned int v47; // ecx@3
  int v48; // ST10_4@3
  int v49; // ST20_4@3
  int v50; // ebp@3
  int v51; // ebx@3
  unsigned int v52; // edx@3
  int v53; // ST28_4@3
  int v54; // ST24_4@3
  int v55; // ebp@3
  int v56; // esi@3
  int v57; // edi@3
  unsigned int v58; // ecx@3
  int v59; // ebx@3
  unsigned int v60; // edx@3
  int v61; // ST28_4@3
  int v62; // ST24_4@3
  int v63; // ebp@3
  int v64; // esi@3
  int v65; // edi@3
  unsigned int v66; // ecx@3
  int v67; // ST10_4@3
  int v68; // ebx@3
  unsigned int v69; // edx@3
  int v70; // ebp@3
  int v71; // ebp@3
  int v72; // esi@3
  int v73; // edi@3
  signed int result; // eax@3
  int v75; // edx@4
  int v76; // ST20_4@4
  unsigned int v77; // edx@4
  int v78; // ebp@4
  int v79; // esi@4
  int v80; // edi@4
  int v81; // ecx@4
  unsigned int v82; // edx@4
  int v83; // ST20_4@4
  int v84; // ebp@4
  int v85; // esi@4
  int v86; // edi@4
  int v87; // ecx@4
  int v88; // ebx@4
  unsigned int v89; // edx@4
  int v90; // ebp@4
  int v91; // esi@4
  int v92; // edi@4
  int v93; // ecx@4
  unsigned int v94; // edx@4
  int v95; // ST20_4@4
  int v96; // ebp@4
  int v97; // esi@4
  int v98; // edi@4
  int v99; // ecx@4
  unsigned int v100; // edx@4
  int v101; // ST20_4@4
  int v102; // ST10_4@4
  int v103; // ebp@4
  int v104; // esi@4
  int v105; // edi@4
  int v106; // ST10_4@4
  int v107; // ecx@4
  unsigned int v108; // edx@4
  int v109; // ST20_4@4
  int v110; // ebp@4
  int v111; // esi@4
  int v112; // edi@4
  int v113; // ecx@4
  unsigned int v114; // edx@4
  int v115; // ST20_4@4
  int v116; // ebp@4
  int v117; // esi@4
  int v118; // edi@4
  int v119; // ecx@4
  unsigned int v120; // edx@4
  int v121; // ST10_4@4
  int v122; // ebp@4
  int v123; // ebp@4
  int v124; // esi@4
  int v125; // edi@4
  int v126; // ebp@5
  int v127; // esi@5
  int v128; // edi@5
  unsigned int v129; // ecx@5
  int v130; // edx@5
  int v131; // esi@5
  int v132; // edi@5
  unsigned int v133; // ecx@5
  int v134; // ebp@5
  int v135; // esi@5
  int v136; // edi@5
  unsigned int v137; // ecx@5
  int v138; // edx@5
  int v139; // esi@5
  int v140; // edi@5
  unsigned int v141; // ecx@5
  int v142; // ebp@5
  int v143; // esi@5
  int v144; // edi@5
  unsigned int v145; // ecx@5
  int v146; // edx@5
  int v147; // esi@5
  int v148; // edi@5
  unsigned int v149; // ecx@5
  int v150; // ebp@5
  int v151; // esi@5
  int v152; // edi@5
  unsigned int v153; // ecx@5
  int v154; // edx@5
  int v155; // esi@5
  int v156; // edi@5
  unsigned int v157; // ecx@5
  int v158; // ebp@5
  int v159; // esi@5
  int v160; // edi@5
  unsigned int v161; // ecx@5
  int v162; // edx@5
  int v163; // edx@5
  int v164; // esi@5
  int v165; // edi@5
  int v166; // [sp+10h] [bp-20h]@1

  *(_DWORD *)(a1 + 260) = 17;
  v3 = a2;
  HIBYTE(v4) = *(_BYTE *)(a2 + 3);
  LOBYTE(v4) = *(_BYTE *)(a2 + 2);
  v5 = *(_BYTE *)a2 | ((*(_BYTE *)(a2 + 1) | (v4 << 8)) << 8);
  *(_DWORD *)a1 = v5;
  HIBYTE(v6) = *(_BYTE *)(a2 + 7);
  v166 = v5;
  LOBYTE(v6) = *(_BYTE *)(a2 + 6);
  v7 = ((*(_BYTE *)(a2 + 5) | (v6 << 8)) << 8) | *(_BYTE *)(a2 + 4);
  *(_DWORD *)(a1 + 4) = v7;
  HIBYTE(v6) = *(_BYTE *)(a2 + 11);
  LOBYTE(v6) = *(_BYTE *)(a2 + 10);
  v8 = ((*(_BYTE *)(v3 + 9) | (v6 << 8)) << 8) | *(_BYTE *)(v3 + 8);
  *(_DWORD *)(a1 + 8) = v8;
  HIBYTE(v6) = *(_BYTE *)(a2 + 15);
  LOBYTE(v6) = *(_BYTE *)(a2 + 14);
  v9 = *(_BYTE *)(v3 + 12) | ((*(_BYTE *)(v3 + 13) | (v6 << 8)) << 8);
  *(_DWORD *)(a1 + 12) = v9;
  if ( a3 == 16 )
  {
    v126 = v5 ^ dword_100B8930[(unsigned __int8)v9] ^ dword_100B7D30[BYTE1(v9)] ^ dword_100B8130[(unsigned __int8)(v9 >> 16)] ^ dword_100B8530[v9 >> 24] ^ 1;
    v127 = v126 ^ v7;
    *(_DWORD *)(a1 + 16) = v126;
    *(_DWORD *)(a1 + 20) = v127;
    v128 = v127 ^ v8;
    *(_DWORD *)(a1 + 24) = v128;
    v129 = v128 ^ v9;
    *(_DWORD *)(a1 + 28) = v129;
    v130 = v126 ^ dword_100B8930[(unsigned __int8)v129] ^ dword_100B7D30[BYTE1(v129)] ^ dword_100B8130[(unsigned __int8)(v129 >> 16)] ^ dword_100B8530[v129 >> 24] ^ 2;
    v131 = v130 ^ v127;
    *(_DWORD *)(a1 + 32) = v130;
    *(_DWORD *)(a1 + 36) = v131;
    v132 = v131 ^ v128;
    *(_DWORD *)(a1 + 40) = v132;
    v133 = v132 ^ v129;
    *(_DWORD *)(a1 + 44) = v133;
    v134 = v130 ^ dword_100B8930[(unsigned __int8)v133] ^ dword_100B7D30[BYTE1(v133)] ^ dword_100B8130[(unsigned __int8)(v133 >> 16)] ^ dword_100B8530[v133 >> 24] ^ 4;
    v135 = v134 ^ v131;
    v136 = v135 ^ v132;
    v137 = v136 ^ v133;
    *(_DWORD *)(a1 + 48) = v134;
    *(_DWORD *)(a1 + 52) = v135;
    *(_DWORD *)(a1 + 56) = v136;
    *(_DWORD *)(a1 + 60) = v137;
    v138 = v134 ^ dword_100B8930[(unsigned __int8)v137] ^ dword_100B7D30[BYTE1(v137)] ^ dword_100B8130[(unsigned __int8)(v137 >> 16)] ^ dword_100B8530[v137 >> 24] ^ 8;
    *(_DWORD *)(a1 + 64) = v138;
    v139 = v138 ^ v135;
    *(_DWORD *)(a1 + 68) = v139;
    v140 = v139 ^ v136;
    *(_DWORD *)(a1 + 72) = v140;
    v141 = v140 ^ v137;
    *(_DWORD *)(a1 + 76) = v141;
    v142 = v138 ^ dword_100B8930[(unsigned __int8)v141] ^ dword_100B7D30[BYTE1(v141)] ^ dword_100B8130[(unsigned __int8)(v141 >> 16)] ^ dword_100B8530[v141 >> 24] ^ 0x10;
    v143 = v142 ^ v139;
    v144 = v143 ^ v140;
    v145 = v144 ^ v141;
    *(_DWORD *)(a1 + 80) = v142;
    *(_DWORD *)(a1 + 84) = v143;
    *(_DWORD *)(a1 + 88) = v144;
    *(_DWORD *)(a1 + 92) = v145;
    v146 = v142 ^ dword_100B8930[(unsigned __int8)v145] ^ dword_100B7D30[BYTE1(v145)] ^ dword_100B8130[(unsigned __int8)(v145 >> 16)] ^ dword_100B8530[v145 >> 24] ^ 0x20;
    v147 = v146 ^ v143;
    v148 = v147 ^ v144;
    v149 = v148 ^ v145;
    *(_DWORD *)(a1 + 100) = v147;
    *(_DWORD *)(a1 + 104) = v148;
    *(_DWORD *)(a1 + 108) = v149;
    *(_DWORD *)(a1 + 96) = v146;
    v150 = v146 ^ dword_100B8930[(unsigned __int8)v149] ^ dword_100B7D30[BYTE1(v149)] ^ dword_100B8130[(unsigned __int8)(v149 >> 16)] ^ dword_100B8530[v149 >> 24] ^ 0x40;
    v151 = v150 ^ v147;
    v152 = v151 ^ v148;
    v153 = v152 ^ v149;
    *(_DWORD *)(a1 + 112) = v150;
    *(_DWORD *)(a1 + 116) = v151;
    *(_DWORD *)(a1 + 120) = v152;
    *(_DWORD *)(a1 + 124) = v153;
    v154 = v150 ^ dword_100B8930[(unsigned __int8)v153] ^ dword_100B7D30[BYTE1(v153)] ^ dword_100B8130[(unsigned __int8)(v153 >> 16)] ^ dword_100B8530[v153 >> 24] ^ 0x80;
    v155 = v154 ^ v151;
    *(_DWORD *)(a1 + 128) = v154;
    *(_DWORD *)(a1 + 132) = v155;
    v156 = v155 ^ v152;
    *(_DWORD *)(a1 + 136) = v156;
    v157 = v156 ^ v153;
    *(_DWORD *)(a1 + 140) = v157;
    v158 = v154 ^ dword_100B8930[(unsigned __int8)v157] ^ dword_100B7D30[BYTE1(v157)] ^ dword_100B8130[(unsigned __int8)(v157 >> 16)] ^ dword_100B8530[v157 >> 24] ^ 0x1B;
    v159 = v158 ^ v155;
    v160 = v159 ^ v156;
    v161 = v160 ^ v157;
    *(_DWORD *)(a1 + 148) = v159;
    *(_DWORD *)(a1 + 152) = v160;
    *(_DWORD *)(a1 + 144) = v158;
    *(_DWORD *)(a1 + 156) = v161;
    v162 = dword_100B8930[(unsigned __int8)v161] ^ dword_100B7D30[BYTE1(v161)] ^ dword_100B8130[(unsigned __int8)(v161 >> 16)] ^ dword_100B8530[v161 >> 24];
    *(_DWORD *)(a1 + 256) = 10;
    v163 = v158 ^ v162 ^ 0x36;
    v164 = v163 ^ v159;
    v165 = v164 ^ v160;
    *(_DWORD *)(a1 + 168) = v165;
    *(_DWORD *)(a1 + 164) = v164;
    *(_DWORD *)(a1 + 160) = v163;
    *(_DWORD *)(a1 + 172) = v165 ^ v161;
    result = 1;
  }
  else
  {
    HIBYTE(v10) = *(_BYTE *)(a2 + 19);
    LOBYTE(v10) = *(_BYTE *)(a2 + 18);
    v11 = v10 << 8;
    v12 = *(_BYTE *)(a2 + 17);
    if ( a3 == 24 )
    {
      v75 = *(_BYTE *)(a2 + 16) | ((v12 | v11) << 8);
      *(_DWORD *)(a1 + 16) = v75;
      v76 = v75;
      BYTE1(v75) = *(_BYTE *)(a2 + 23);
      LOBYTE(v75) = *(_BYTE *)(a2 + 22);
      v77 = *(_BYTE *)(a2 + 20) | ((*(_BYTE *)(a2 + 21) | ((unsigned __int16)v75 << 8)) << 8);
      *(_DWORD *)(a1 + 20) = v77;
      v78 = v166 ^ dword_100B8930[(unsigned __int8)v77] ^ dword_100B7D30[BYTE1(v77)] ^ dword_100B8130[(unsigned __int8)(v77 >> 16)] ^ dword_100B8530[v77 >> 24] ^ 1;
      v79 = v78 ^ v7;
      v80 = v79 ^ v8;
      v81 = v80 ^ v9;
      *(_DWORD *)(a1 + 40) = v81 ^ v76;
      v82 = v81 ^ v76 ^ v77;
      v83 = v81 ^ v76;
      *(_DWORD *)(a1 + 36) = v81;
      *(_DWORD *)(a1 + 24) = v78;
      *(_DWORD *)(a1 + 28) = v79;
      *(_DWORD *)(a1 + 32) = v80;
      *(_DWORD *)(a1 + 44) = v82;
      v84 = v78 ^ dword_100B8930[(unsigned __int8)v82] ^ dword_100B7D30[BYTE1(v82)] ^ dword_100B8130[(unsigned __int8)(v82 >> 16)] ^ dword_100B8530[v82 >> 24] ^ 2;
      v85 = v84 ^ v79;
      v86 = v85 ^ v80;
      v87 = v86 ^ v81;
      v89 = v87 ^ v83 ^ v82;
      v88 = v87 ^ v83;
      *(_DWORD *)(a1 + 64) = v87 ^ v83;
      *(_DWORD *)(a1 + 48) = v84;
      *(_DWORD *)(a1 + 52) = v85;
      *(_DWORD *)(a1 + 56) = v86;
      *(_DWORD *)(a1 + 60) = v87;
      *(_DWORD *)(a1 + 68) = v89;
      v90 = v84 ^ dword_100B8930[(unsigned __int8)v89] ^ dword_100B7D30[BYTE1(v89)] ^ dword_100B8130[(unsigned __int8)(v89 >> 16)] ^ dword_100B8530[v89 >> 24] ^ 4;
      v91 = v90 ^ v85;
      v92 = v91 ^ v86;
      v93 = v92 ^ v87;
      *(_DWORD *)(a1 + 88) = v93 ^ v88;
      v94 = v93 ^ v88 ^ v89;
      v95 = v93 ^ v88;
      *(_DWORD *)(a1 + 84) = v93;
      *(_DWORD *)(a1 + 72) = v90;
      *(_DWORD *)(a1 + 76) = v91;
      *(_DWORD *)(a1 + 80) = v92;
      *(_DWORD *)(a1 + 92) = v94;
      v96 = v90 ^ dword_100B8930[(unsigned __int8)v94] ^ dword_100B7D30[BYTE1(v94)] ^ dword_100B8130[(unsigned __int8)(v94 >> 16)] ^ dword_100B8530[v94 >> 24] ^ 8;
      v97 = v96 ^ v91;
      v98 = v97 ^ v92;
      v99 = v98 ^ v93;
      *(_DWORD *)(a1 + 112) = v99 ^ v95;
      v100 = v99 ^ v95 ^ v94;
      v101 = v99 ^ v95;
      *(_DWORD *)(a1 + 108) = v99;
      v102 = v96;
      *(_DWORD *)(a1 + 96) = v96;
      *(_DWORD *)(a1 + 100) = v97;
      *(_DWORD *)(a1 + 104) = v98;
      *(_DWORD *)(a1 + 116) = v100;
      v103 = v96 ^ dword_100B8930[(unsigned __int8)v100] ^ dword_100B7D30[BYTE1(v100)] ^ dword_100B8130[(unsigned __int8)(v100 >> 16)] ^ dword_100B8530[v100 >> 24] ^ 0x10;
      v104 = v103 ^ v97;
      v105 = v104 ^ v98;
      v106 = v102 ^ dword_100B8930[(unsigned __int8)v100] ^ dword_100B7D30[BYTE1(v100)] ^ dword_100B8130[(unsigned __int8)(v100 >> 16)] ^ dword_100B8530[v100 >> 24] ^ 0x10;
      *(_DWORD *)(a1 + 120) = v103;
      *(_DWORD *)(a1 + 124) = v104;
      *(_DWORD *)(a1 + 128) = v105;
      v107 = v105 ^ v99;
      *(_DWORD *)(a1 + 136) = v107 ^ v101;
      v108 = v107 ^ v101 ^ v100;
      v109 = v107 ^ v101;
      *(_DWORD *)(a1 + 132) = v107;
      *(_DWORD *)(a1 + 140) = v108;
      v110 = v106 ^ dword_100B8930[(unsigned __int8)v108] ^ dword_100B7D30[BYTE1(v108)] ^ dword_100B8130[(unsigned __int8)(v108 >> 16)] ^ dword_100B8530[v108 >> 24] ^ 0x20;
      v111 = v110 ^ v104;
      v112 = v111 ^ v105;
      v113 = v112 ^ v107;
      *(_DWORD *)(a1 + 160) = v113 ^ v109;
      v114 = v113 ^ v109 ^ v108;
      v115 = v113 ^ v109;
      *(_DWORD *)(a1 + 156) = v113;
      *(_DWORD *)(a1 + 144) = v110;
      *(_DWORD *)(a1 + 148) = v111;
      *(_DWORD *)(a1 + 152) = v112;
      *(_DWORD *)(a1 + 164) = v114;
      v116 = v110 ^ dword_100B8930[(unsigned __int8)v114] ^ dword_100B7D30[BYTE1(v114)] ^ dword_100B8130[(unsigned __int8)(v114 >> 16)] ^ dword_100B8530[v114 >> 24] ^ 0x40;
      v117 = v116 ^ v111;
      v118 = v117 ^ v112;
      v119 = v118 ^ v113;
      v120 = v119 ^ v115 ^ v114;
      *(_DWORD *)(a1 + 180) = v119;
      *(_DWORD *)(a1 + 184) = v119 ^ v115;
      v121 = v116;
      *(_DWORD *)(a1 + 168) = v116;
      *(_DWORD *)(a1 + 172) = v117;
      *(_DWORD *)(a1 + 176) = v118;
      *(_DWORD *)(a1 + 188) = v120;
      v122 = dword_100B8930[(unsigned __int8)v120] ^ dword_100B7D30[BYTE1(v120)] ^ dword_100B8130[(unsigned __int8)(v120 >> 16)] ^ dword_100B8530[v120 >> 24];
      *(_DWORD *)(a1 + 256) = 12;
      v123 = v121 ^ v122 ^ 0x80;
      v124 = v123 ^ v117;
      v125 = v124 ^ v118;
      *(_DWORD *)(a1 + 200) = v125;
      *(_DWORD *)(a1 + 196) = v124;
      *(_DWORD *)(a1 + 192) = v123;
      *(_DWORD *)(a1 + 204) = v125 ^ v119;
      result = 1;
    }
    else
    {
      v13 = *(_BYTE *)(a2 + 16) | ((v12 | v11) << 8);
      *(_DWORD *)(a1 + 16) = v13;
      v14 = v13;
      BYTE1(v13) = *(_BYTE *)(a2 + 23);
      LOBYTE(v13) = *(_BYTE *)(a2 + 22);
      v15 = *(_BYTE *)(a2 + 20) | ((*(_BYTE *)(a2 + 21) | ((unsigned __int16)v13 << 8)) << 8);
      *(_DWORD *)(a1 + 20) = v15;
      v16 = v15;
      BYTE1(v15) = *(_BYTE *)(a2 + 27);
      LOBYTE(v15) = *(_BYTE *)(a2 + 26);
      v17 = *(_BYTE *)(a2 + 24) | ((*(_BYTE *)(a2 + 25) | ((unsigned __int16)v15 << 8)) << 8);
      *(_DWORD *)(a1 + 24) = v17;
      v18 = v17;
      BYTE1(v17) = *(_BYTE *)(a2 + 31);
      LOBYTE(v17) = *(_BYTE *)(a2 + 30);
      v19 = *(_BYTE *)(a2 + 28) | ((*(_BYTE *)(a2 + 29) | ((unsigned __int16)v17 << 8)) << 8);
      *(_DWORD *)(a1 + 28) = v19;
      v20 = v166 ^ dword_100B8930[(unsigned __int8)v19] ^ dword_100B7D30[BYTE1(v19)] ^ dword_100B8130[(unsigned __int8)(v19 >> 16)] ^ dword_100B8530[v19 >> 24] ^ 1;
      v21 = v20 ^ v7;
      v22 = v21 ^ v8;
      v23 = v22 ^ v9;
      *(_DWORD *)(a1 + 32) = v20;
      *(_DWORD *)(a1 + 36) = v21;
      *(_DWORD *)(a1 + 40) = v22;
      *(_DWORD *)(a1 + 44) = v23;
      v24 = dword_100B7D30[(unsigned __int8)v23] ^ dword_100B8130[BYTE1(v23)] ^ dword_100B8530[(unsigned __int8)(v23 >> 16)] ^ dword_100B8930[v23 >> 24] ^ v14;
      *(_DWORD *)(a1 + 48) = v24;
      v25 = v24 ^ v16 ^ v18;
      v26 = v25 ^ v19;
      *(_DWORD *)(a1 + 56) = v25;
      v27 = v24 ^ v16 ^ v18;
      *(_DWORD *)(a1 + 52) = v24 ^ v16;
      *(_DWORD *)(a1 + 60) = v26;
      v28 = v20 ^ dword_100B8930[(unsigned __int8)v26] ^ dword_100B7D30[BYTE1(v26)] ^ dword_100B8130[(unsigned __int8)(v26 >> 16)] ^ dword_100B8530[v26 >> 24] ^ 2;
      v29 = v28 ^ v21;
      *(_DWORD *)(a1 + 64) = v28;
      v30 = v29 ^ v22;
      v31 = v30 ^ v23;
      *(_DWORD *)(a1 + 76) = v31;
      v32 = v28;
      *(_DWORD *)(a1 + 68) = v29;
      *(_DWORD *)(a1 + 72) = v30;
      v33 = dword_100B7D30[(unsigned __int8)v31] ^ dword_100B8130[BYTE1(v31)] ^ dword_100B8530[(unsigned __int8)(v31 >> 16)] ^ dword_100B8930[v31 >> 24] ^ v24;
      v34 = v33 ^ v24 ^ v16;
      *(_DWORD *)(a1 + 80) = v33;
      *(_DWORD *)(a1 + 88) = v34 ^ v27;
      v35 = v34 ^ v27 ^ v26;
      v36 = v34 ^ v27;
      v37 = v33 ^ v24 ^ v16;
      *(_DWORD *)(a1 + 84) = v34;
      *(_DWORD *)(a1 + 92) = v35;
      v38 = v32 ^ dword_100B8930[(unsigned __int8)v35] ^ dword_100B7D30[BYTE1(v35)] ^ dword_100B8130[(unsigned __int8)(v35 >> 16)] ^ dword_100B8530[v35 >> 24] ^ 4;
      v39 = v38 ^ v29;
      *(_DWORD *)(a1 + 96) = v38;
      *(_DWORD *)(a1 + 100) = v39;
      v40 = v39 ^ v30;
      v41 = v40 ^ v31;
      *(_DWORD *)(a1 + 108) = v41;
      *(_DWORD *)(a1 + 104) = v40;
      v42 = dword_100B7D30[(unsigned __int8)v41] ^ dword_100B8130[BYTE1(v41)] ^ dword_100B8530[(unsigned __int8)(v41 >> 16)] ^ dword_100B8930[v41 >> 24] ^ v33;
      *(_DWORD *)(a1 + 112) = v42;
      v43 = v42 ^ v37 ^ v36 ^ v35;
      *(_DWORD *)(a1 + 120) = v42 ^ v37 ^ v36;
      *(_DWORD *)(a1 + 116) = v42 ^ v37;
      *(_DWORD *)(a1 + 124) = v43;
      v44 = v38 ^ dword_100B8930[(unsigned __int8)v43] ^ dword_100B7D30[BYTE1(v43)] ^ dword_100B8130[(unsigned __int8)(v43 >> 16)] ^ dword_100B8530[v43 >> 24] ^ 8;
      v45 = v44 ^ v39;
      v46 = v45 ^ v40;
      v47 = v46 ^ v41;
      *(_DWORD *)(a1 + 128) = v44;
      *(_DWORD *)(a1 + 132) = v45;
      *(_DWORD *)(a1 + 136) = v46;
      *(_DWORD *)(a1 + 140) = v47;
      v48 = v44;
      v49 = dword_100B7D30[(unsigned __int8)v47] ^ dword_100B8130[BYTE1(v47)] ^ dword_100B8530[(unsigned __int8)(v47 >> 16)] ^ dword_100B8930[v47 >> 24] ^ v42;
      *(_DWORD *)(a1 + 144) = v49;
      v50 = v49 ^ v42 ^ v37;
      v51 = v50 ^ v42 ^ v37 ^ v36;
      v52 = v51 ^ v43;
      *(_DWORD *)(a1 + 152) = v51;
      v53 = v51;
      *(_DWORD *)(a1 + 148) = v50;
      v54 = v50;
      *(_DWORD *)(a1 + 156) = v52;
      v55 = v48 ^ dword_100B8930[(unsigned __int8)v52] ^ dword_100B7D30[BYTE1(v52)] ^ dword_100B8130[(unsigned __int8)(v52 >> 16)] ^ dword_100B8530[v52 >> 24] ^ 0x10;
      v56 = v55 ^ v45;
      *(_DWORD *)(a1 + 160) = v55;
      v57 = v56 ^ v46;
      v58 = v57 ^ v47;
      *(_DWORD *)(a1 + 172) = v58;
      *(_DWORD *)(a1 + 164) = v56;
      *(_DWORD *)(a1 + 168) = v57;
      v59 = dword_100B7D30[(unsigned __int8)v58] ^ dword_100B8130[BYTE1(v58)] ^ dword_100B8530[(unsigned __int8)(v58 >> 16)] ^ dword_100B8930[v58 >> 24] ^ v49;
      *(_DWORD *)(a1 + 176) = v59;
      *(_DWORD *)(a1 + 184) = v59 ^ v54 ^ v53;
      v60 = v59 ^ v54 ^ v53 ^ v52;
      v61 = v59 ^ v54 ^ v53;
      v62 = v59 ^ v54;
      *(_DWORD *)(a1 + 180) = v62;
      *(_DWORD *)(a1 + 188) = v60;
      v63 = v55 ^ dword_100B8930[(unsigned __int8)v60] ^ dword_100B7D30[BYTE1(v60)] ^ dword_100B8130[(unsigned __int8)(v60 >> 16)] ^ dword_100B8530[v60 >> 24] ^ 0x20;
      v64 = v63 ^ v56;
      *(_DWORD *)(a1 + 192) = v63;
      v65 = v64 ^ v57;
      v66 = v65 ^ v58;
      *(_DWORD *)(a1 + 204) = v66;
      v67 = v63;
      *(_DWORD *)(a1 + 196) = v64;
      *(_DWORD *)(a1 + 200) = v65;
      v68 = dword_100B7D30[(unsigned __int8)v66] ^ dword_100B8130[BYTE1(v66)] ^ dword_100B8530[(unsigned __int8)(v66 >> 16)] ^ dword_100B8930[v66 >> 24] ^ v59;
      *(_DWORD *)(a1 + 208) = v68;
      *(_DWORD *)(a1 + 216) = v68 ^ v62 ^ v61;
      v69 = v68 ^ v62 ^ v61 ^ v60;
      *(_DWORD *)(a1 + 212) = v68 ^ v62;
      *(_DWORD *)(a1 + 220) = v69;
      v70 = dword_100B8930[(unsigned __int8)v69] ^ dword_100B7D30[BYTE1(v69)] ^ dword_100B8130[(unsigned __int8)(v69 >> 16)] ^ dword_100B8530[v69 >> 24];
      *(_DWORD *)(a1 + 256) = 14;
      v71 = v67 ^ v70 ^ 0x40;
      v72 = v71 ^ v64;
      v73 = v72 ^ v65;
      *(_DWORD *)(a1 + 232) = v73;
      *(_DWORD *)(a1 + 228) = v72;
      *(_DWORD *)(a1 + 224) = v71;
      *(_DWORD *)(a1 + 236) = v73 ^ v66;
      result = 1;
    }
  }
  return result;
}
// 100B7D30: using guessed type int dword_100B7D30[];
// 100B8130: using guessed type int dword_100B8130[];
// 100B8530: using guessed type int dword_100B8530[];
// 100B8930: using guessed type int dword_100B8930[];

//----- (1004C780) --------------------------------------------------------
void *__usercall sub_1004C780@<eax>(void *a1@<eax>)
{
  return memset(a1, 0, 0xA0u);
}

//----- (1004C7A0) --------------------------------------------------------
unsigned int __cdecl sub_1004C7A0(int a1, unsigned int a2)
{
  int v2; // eax@1
  unsigned int result; // eax@1
  _BYTE *v4; // ecx@3
  char v5; // dl@3
  unsigned __int64 v6; // [sp+Ch] [bp-8h]@1

  v2 = sub_100550B0();
  v6 = ((unsigned __int64)(unsigned int)v2 << 32) + (unsigned int)j_TSK_pvg_get_us_timer();
  result = 0;
  do
  {
    if ( result >= a2 )
      break;
    v4 = (_BYTE *)(result + a1);
    v5 = *((_BYTE *)&v6 + result++ + a1 - a1);
    *v4 = v5;
  }
  while ( result < 8 );
  return result;
}
// 10055150: using guessed type int j_TSK_pvg_get_us_timer(void);

//----- (1004C800) --------------------------------------------------------
int __usercall sub_1004C800@<eax>(int result@<eax>)
{
  *(_DWORD *)(result + 4) = 0;
  *(_DWORD *)result = 0;
  *(_DWORD *)(result + 8) = 1732584193;
  *(_DWORD *)(result + 12) = -271733879;
  *(_DWORD *)(result + 16) = -1732584194;
  *(_DWORD *)(result + 20) = &unk_10325476;
  *(_DWORD *)(result + 24) = -1009589776;
  return result;
}

//----- (1004C840) --------------------------------------------------------
int __usercall sub_1004C840@<eax>(int result@<eax>)
{
  int v1; // ebx@1
  int v2; // esi@1
  int v3; // edx@1
  unsigned int v4; // ST28_4@1
  int v5; // edx@1
  int v6; // ST18_4@1
  unsigned int v7; // ST2C_4@1
  int v8; // edi@1
  int v9; // esi@1
  int v10; // edi@1
  int v11; // ST14_4@1
  int v12; // ST20_4@1
  unsigned int v13; // ST30_4@1
  int v14; // esi@1
  unsigned int v15; // ST34_4@1
  int v16; // edi@1
  int v17; // edi@1
  int v18; // ecx@1
  int v19; // ST1C_4@1
  int v20; // ebx@1
  unsigned int v21; // ebp@1
  unsigned int v22; // ST38_4@1
  int v23; // edx@1
  int v24; // ST10_4@1
  unsigned int v25; // ST3C_4@1
  int v26; // esi@1
  int v27; // esi@1
  int v28; // ST18_4@1
  int v29; // ebp@1
  unsigned int v30; // ST40_4@1
  int v31; // edi@1
  int v32; // ebx@1
  int v33; // ST14_4@1
  unsigned int v34; // ST44_4@1
  int v35; // edi@1
  int v36; // ST20_4@1
  int v37; // ST1C_4@1
  unsigned int v38; // ST48_4@1
  int v39; // ebx@1
  int v40; // ebx@1
  int v41; // ecx@1
  int v42; // ebp@1
  unsigned int v43; // ST4C_4@1
  int v44; // edx@1
  int v45; // edx@1
  int v46; // ST10_4@1
  int v47; // esi@1
  unsigned int v48; // ST50_4@1
  int v49; // esi@1
  int v50; // ST18_4@1
  unsigned int v51; // ST54_4@1
  int v52; // edi@1
  int v53; // ebx@1
  int v54; // ST14_4@1
  unsigned int v55; // ST58_4@1
  int v56; // edi@1
  int v57; // ST20_4@1
  int v58; // ebx@1
  unsigned int v59; // ST5C_4@1
  int v60; // ebx@1
  int v61; // ecx@1
  int v62; // ST14_4@1
  int v63; // ST1C_4@1
  unsigned int v64; // ST60_4@1
  int v65; // edx@1
  int v66; // edx@1
  int v67; // ST10_4@1
  unsigned int v68; // ST64_4@1
  int v69; // esi@1
  int v70; // esi@1
  int v71; // ST18_4@1
  int v72; // ebp@1
  int v73; // ecx@1
  int v74; // ebx@1
  int v75; // ST68_4@1
  int v76; // edi@1
  int v77; // edi@1
  int v78; // ST14_4@1
  int v79; // ST20_4@1
  int v80; // ecx@1
  int v81; // ST6C_4@1
  int v82; // edi@1
  int v83; // ecx@1
  int v84; // ST70_4@1
  int v85; // ebx@1
  int v86; // ST1C_4@1
  int v87; // ebx@1
  int v88; // ecx@1
  int v89; // ST14_4@1
  int v90; // ecx@1
  int v91; // ST74_4@1
  int v92; // edx@1
  int v93; // edx@1
  int v94; // ST10_4@1
  int v95; // ecx@1
  int v96; // ST78_4@1
  int v97; // esi@1
  int v98; // esi@1
  int v99; // ST18_4@1
  int v100; // ebx@1
  int v101; // ecx@1
  int v102; // edi@1
  int v103; // ST7C_4@1
  int v104; // edi@1
  int v105; // ST20_4@1
  int v106; // ecx@1
  int v107; // ST80_4@1
  int v108; // edx@1
  int v109; // edx@1
  int v110; // ecx@1
  int v111; // ST84_4@1
  int v112; // ebx@1
  int v113; // ebx@1
  int v114; // ST14_4@1
  int v115; // ecx@1
  int v116; // ebp@1
  int v117; // ST88_4@1
  int v118; // edi@1
  int v119; // edi@1
  int v120; // ST10_4@1
  int v121; // ebp@1
  int v122; // ecx@1
  int v123; // ST8C_4@1
  int v124; // edx@1
  int v125; // ebp@1
  int v126; // edx@1
  int v127; // ecx@1
  int v128; // ST18_4@1
  int v129; // ST90_4@1
  int v130; // esi@1
  int v131; // esi@1
  int v132; // ST20_4@1
  int v133; // ecx@1
  int v134; // ST94_4@1
  int v135; // edi@1
  int v136; // edi@1
  int v137; // ecx@1
  int v138; // ST98_4@1
  int v139; // ebx@1
  int v140; // ebx@1
  int v141; // ST14_4@1
  int v142; // ecx@1
  int v143; // ebp@1
  int v144; // ST9C_4@1
  int v145; // esi@1
  int v146; // esi@1
  int v147; // ST10_4@1
  int v148; // ebp@1
  int v149; // ecx@1
  int v150; // STA0_4@1
  int v151; // edi@1
  int v152; // ebp@1
  int v153; // edx@1
  int v154; // ecx@1
  int v155; // ST18_4@1
  int v156; // STA4_4@1
  int v157; // edi@1
  int v158; // edi@1
  int v159; // ST20_4@1
  int v160; // ecx@1
  int v161; // STA8_4@1
  int v162; // esi@1
  int v163; // esi@1
  int v164; // ecx@1
  int v165; // STAC_4@1
  int v166; // ebx@1
  int v167; // ebx@1
  int v168; // ST14_4@1
  int v169; // ecx@1
  int v170; // ebp@1
  int v171; // STB0_4@1
  int v172; // edi@1
  int v173; // edi@1
  int v174; // ST10_4@1
  int v175; // ebp@1
  int v176; // ecx@1
  int v177; // STB4_4@1
  int v178; // esi@1
  int v179; // ebp@1
  int v180; // edx@1
  int v181; // ST18_4@1
  int v182; // ecx@1
  int v183; // STB8_4@1
  int v184; // esi@1
  int v185; // ebx@1
  int v186; // ST20_4@1
  int v187; // esi@1
  int v188; // ecx@1
  int v189; // STBC_4@1
  int v190; // edi@1
  int v191; // edi@1
  int v192; // ST1C_4@1
  int v193; // ecx@1
  int v194; // ebp@1
  int v195; // STC0_4@1
  int v196; // edx@1
  int v197; // ecx@1
  int v198; // esi@1
  int v199; // STC4_4@1
  int v200; // ebp@1
  int v201; // esi@1
  int v202; // ST10_4@1
  int v203; // ecx@1
  int v204; // ebp@1
  int v205; // edi@1
  int v206; // STC8_4@1
  int v207; // ST1C_4@1
  int v208; // ecx@1
  int v209; // STCC_4@1
  int v210; // ebx@1
  int v211; // ST18_4@1
  int v212; // ecx@1
  int v213; // STD0_4@1
  int v214; // edx@1
  int v215; // edi@1
  int v216; // ebx@1
  int v217; // ecx@1
  int v218; // edx@1
  int v219; // ebx@1
  int v220; // ecx@1
  int v221; // ST1C_4@1
  int v222; // ebp@1
  int v223; // STD4_4@1
  int v224; // ST10_4@1
  int v225; // edx@1
  int v226; // ecx@1
  int v227; // ST14_4@1
  int v228; // STD8_4@1
  int v229; // ebp@1
  int v230; // ebx@1
  int v231; // ecx@1
  int v232; // esi@1
  int v233; // ST10_4@1
  int v234; // ecx@1
  int v235; // STDC_4@1
  int v236; // edi@1
  int v237; // ebx@1
  int v238; // ecx@1
  int v239; // edi@1
  int v240; // STE0_4@1
  int v241; // ebx@1
  int v242; // ST18_4@1
  int v243; // ST1C_4@1
  int v244; // ecx@1
  int v245; // edx@1
  int v246; // STE4_4@1
  int v247; // edi@1
  int v248; // ebx@1
  int v249; // ecx@1
  int v250; // edx@1
  int v251; // ebx@1
  int v252; // ecx@1
  int v253; // ST1C_4@1
  int v254; // ebp@1
  int v255; // STE8_4@1
  int v256; // ST10_4@1
  int v257; // edx@1
  int v258; // ecx@1
  int v259; // ebx@1
  int v260; // ST14_4@1
  int v261; // STEC_4@1
  int v262; // ebp@1
  int v263; // ecx@1
  int v264; // esi@1
  int v265; // ST10_4@1
  int v266; // ecx@1
  int v267; // edi@1
  int v268; // STF0_4@1
  int v269; // ebx@1
  int v270; // edi@1
  int v271; // ecx@1
  int v272; // ebx@1
  int v273; // STF4_4@1
  int v274; // ST1C_4@1
  int v275; // ST18_4@1
  int v276; // ecx@1
  int v277; // edx@1
  int v278; // edi@1
  int v279; // STF8_4@1
  int v280; // ebx@1
  int v281; // ecx@1
  int v282; // edx@1
  int v283; // ST1C_4@1
  int v284; // ecx@1
  int v285; // ST10_4@1
  int v286; // STFC_4@1
  int v287; // ebp@1
  int v288; // edx@1
  int v289; // ecx@1
  int v290; // ST100_4@1
  int v291; // ST14_4@1
  int v292; // ebp@1
  int v293; // ebx@1
  int v294; // ecx@1
  int v295; // esi@1
  int v296; // ST10_4@1
  int v297; // ecx@1
  int v298; // edi@1
  int v299; // ST104_4@1
  int v300; // ebx@1
  int v301; // edi@1
  int v302; // ecx@1
  int v303; // ebx@1
  int v304; // ST108_4@1
  int v305; // ST1C_4@1
  int v306; // ST18_4@1
  int v307; // ecx@1
  int v308; // edi@1
  int v309; // ST10C_4@1
  int v310; // ebx@1
  int v311; // edx@1
  int v312; // ecx@1
  int v313; // ST1C_4@1
  int v314; // ecx@1
  int v315; // ST110_4@1
  int v316; // ebp@1
  int v317; // ebx@1
  int v318; // edx@1
  int v319; // ecx@1
  int v320; // ST114_4@1
  int v321; // ST14_4@1
  int v322; // ebp@1
  int v323; // edi@1
  int v324; // ecx@1
  int v325; // edx@1
  int v326; // ebp@1
  int v327; // ST118_4@1
  int v328; // esi@1
  int v329; // ST10_4@1
  int v330; // ecx@1
  int v331; // ST18_4@1
  int v332; // ST11C_4@1
  int v333; // ebx@1
  int v334; // esi@1
  int v335; // edi@1
  int v336; // edi@1
  int v337; // ST20_4@1
  int v338; // ebx@1
  int v339; // ecx@1
  int v340; // edx@1
  int v341; // ST120_4@1
  int v342; // edx@1
  int v343; // ecx@1
  int v344; // ST124_4@1
  int v345; // ebx@1
  int v346; // ebx@1
  int v347; // ecx@1
  int v348; // ST14_4@1
  int v349; // ST128_4@1
  int v350; // ebp@1
  int v351; // edi@1
  int v352; // edi@1
  int v353; // ecx@1
  int v354; // ST10_4@1
  int v355; // ST12C_4@1
  int v356; // ebp@1
  int v357; // edx@1
  int v358; // ST18_4@1
  int v359; // ecx@1
  int v360; // ST130_4@1
  int v361; // edx@1
  int v362; // esi@1
  int v363; // esi@1
  int v364; // ST20_4@1
  int v365; // ecx@1
  int v366; // ebx@1
  int v367; // edi@1
  int v368; // ST134_4@1
  int v369; // edi@1
  int v370; // ecx@1
  int v371; // ebp@1
  int v372; // ST138_4@1
  int v373; // ebx@1
  int v374; // ebx@1
  int v375; // ecx@1
  int v376; // ST14_4@1
  int v377; // ST13C_4@1
  int v378; // ebp@1
  int v379; // esi@1
  int v380; // esi@1
  int v381; // ecx@1
  int v382; // ST10_4@1
  int v383; // ST140_4@1
  int v384; // ebp@1
  int v385; // edi@1
  int v386; // edi@1
  int v387; // ecx@1
  int v388; // ebp@1
  int v389; // edx@1
  int v390; // ST18_4@1
  int v391; // ebx@1
  int v392; // ST20_4@1
  int v393; // edx@1
  int v394; // ST14_4@1
  int v395; // esi@1
  int v396; // ST148_4@1
  int v397; // ST10_4@1
  int v398; // ST1C_4@1
  int v399; // edx@1
  int v400; // ebx@1
  int v401; // ST14C_4@1
  int v402; // esi@1
  int v403; // ebx@1
  int v404; // ST18_4@1
  int v405; // ST14_4@1
  int v406; // edx@1
  int v407; // edi@1
  int v408; // esi@1
  int v409; // ebx@1
  int v410; // ST20_4@1
  int v411; // esi@1
  int v412; // ST10_4@1
  int v413; // ebx@1
  int v414; // edi@1
  int v415; // ebp@1
  int v416; // edi@1
  int v417; // ST24_4@1
  int v418; // ST1C_4@1
  int v419; // edi@1
  int v420; // ebx@1
  int v421; // ST20_4@1
  int v422; // edx@1
  int v423; // ebx@1
  int v424; // edx@1
  int v425; // ebx@1
  int v426; // ST1C_4@1
  int v427; // esi@1
  int v428; // ebx@1
  int v429; // esi@1
  int v430; // ecx@1
  int v431; // ebx@1
  int v432; // ebx@1
  int v433; // edx@1
  int v434; // ecx@1

  v1 = *(_DWORD *)(result + 8);
  v2 = *(_DWORD *)(result + 12);
  v3 = __ROL4__(*(_DWORD *)(result + 8), 5);
  v4 = ((*(_DWORD *)(result + 28) & 0xFF00 | (*(_DWORD *)(result + 28) << 16)) << 8) | (((*(_DWORD *)(result + 28) >> 16) | *(_DWORD *)(result + 28) & 0xFF0000u) >> 8);
  v5 = v4
     + *(_DWORD *)(result + 24)
     + v3
     + (v2 & *(_DWORD *)(result + 16) ^ *(_DWORD *)(result + 20) & ~*(_DWORD *)(result + 12))
     + 1518500249;
  v2 = __ROR4__(v2, 2);
  v6 = v2;
  v7 = ((*(_DWORD *)(result + 32) & 0xFF00 | (*(_DWORD *)(result + 32) << 16)) << 8) | (((*(_DWORD *)(result + 32) >> 16) | *(_DWORD *)(result + 32) & 0xFF0000u) >> 8);
  v8 = v1 & v2 ^ *(_DWORD *)(result + 16) & ~v1;
  v9 = __ROL4__(v5, 5);
  v10 = *(_DWORD *)(result + 20) + v7 + v9 + v8 + 1518500249;
  v1 = __ROR4__(v1, 2);
  v11 = v10;
  v10 = __ROL4__(v10, 5);
  v12 = v1;
  v13 = ((*(_DWORD *)(result + 36) & 0xFF00 | (*(_DWORD *)(result + 36) << 16)) << 8) | (((*(_DWORD *)(result + 36) >> 16) | *(_DWORD *)(result + 36) & 0xFF0000u) >> 8);
  v14 = *(_DWORD *)(result + 16) + v13 + v10 + (v1 & v5 ^ v6 & ~v5) + 1518500249;
  v5 = __ROR4__(v5, 2);
  v15 = ((*(_DWORD *)(result + 40) & 0xFF00 | (*(_DWORD *)(result + 40) << 16)) << 8) | (((*(_DWORD *)(result + 40) >> 16) | *(_DWORD *)(result + 40) & 0xFF0000u) >> 8);
  v16 = __ROL4__(v14, 5);
  v17 = v6 + v15 + v16 + (v11 & v5 ^ v1 & ~v11) + 1518500249;
  v18 = __ROR4__(v11, 2);
  v19 = v5;
  v20 = __ROL4__(v17, 5);
  v21 = (((*(_DWORD *)(result + 44) & 0xFF00 | (*(_DWORD *)(result + 44) << 16)) << 8) | (((*(_DWORD *)(result + 44) >> 16) | *(_DWORD *)(result + 44) & 0xFF0000u) >> 8))
      + v20
      + (v14 & v18 ^ v5 & ~v14);
  v22 = ((*(_DWORD *)(result + 44) & 0xFF00 | (*(_DWORD *)(result + 44) << 16)) << 8) | (((*(_DWORD *)(result + 44) >> 16) | *(_DWORD *)(result + 44) & 0xFF0000u) >> 8);
  v14 = __ROR4__(v14, 2);
  v23 = v12 + v21 + 1518500249;
  v24 = v14;
  v25 = ((*(_DWORD *)(result + 48) & 0xFF00 | (*(_DWORD *)(result + 48) << 16)) << 8) | (((*(_DWORD *)(result + 48) >> 16) | *(_DWORD *)(result + 48) & 0xFF0000u) >> 8);
  v26 = __ROL4__(v23, 5);
  v27 = v19 + v25 + v26 + (v17 & v24 ^ v18 & ~v17) + 1518500249;
  v17 = __ROR4__(v17, 2);
  v28 = v17;
  v29 = v23 & v17;
  v30 = ((*(_DWORD *)(result + 52) & 0xFF00 | (*(_DWORD *)(result + 52) << 16)) << 8) | (((*(_DWORD *)(result + 52) >> 16) | *(_DWORD *)(result + 52) & 0xFF0000u) >> 8);
  v31 = __ROL4__(v27, 5);
  v32 = v18 + v30 + v31 + (v29 ^ v24 & ~v23) + 1518500249;
  v23 = __ROR4__(v23, 2);
  v33 = v32;
  v32 = __ROL4__(v32, 5);
  v34 = ((*(_DWORD *)(result + 56) & 0xFF00 | (*(_DWORD *)(result + 56) << 16)) << 8) | (((*(_DWORD *)(result + 56) >> 16) | *(_DWORD *)(result + 56) & 0xFF0000u) >> 8);
  v35 = v24 + v34 + v32 + (v23 & v27 ^ v28 & ~v27) + 1518500249;
  v27 = __ROR4__(v27, 2);
  v36 = v23;
  v37 = v27;
  v38 = ((*(_DWORD *)(result + 60) & 0xFF00 | (*(_DWORD *)(result + 60) << 16)) << 8) | (((*(_DWORD *)(result + 60) >> 16) | *(_DWORD *)(result + 60) & 0xFF0000u) >> 8);
  v39 = __ROL4__(v35, 5);
  v40 = v28 + v38 + v39 + (v33 & v27 ^ v23 & ~v33) + 1518500249;
  v41 = __ROR4__(v33, 2);
  v42 = v35 & v41 ^ v27 & ~v35;
  v43 = ((*(_DWORD *)(result + 64) & 0xFF00 | (*(_DWORD *)(result + 64) << 16)) << 8) | (((*(_DWORD *)(result + 64) >> 16) | *(_DWORD *)(result + 64) & 0xFF0000u) >> 8);
  v44 = __ROL4__(v40, 5);
  v35 = __ROR4__(v35, 2);
  v45 = v36 + v43 + v44 + v42 + 1518500249;
  v46 = v35;
  v47 = __ROL4__(v45, 5);
  v48 = ((*(_DWORD *)(result + 68) & 0xFF00 | (*(_DWORD *)(result + 68) << 16)) << 8) | (((*(_DWORD *)(result + 68) >> 16) | *(_DWORD *)(result + 68) & 0xFF0000u) >> 8);
  v49 = v37 + v48 + v47 + (v40 & v35 ^ v41 & ~v40) + 1518500249;
  v40 = __ROR4__(v40, 2);
  v50 = v40;
  v51 = ((*(_DWORD *)(result + 72) & 0xFF00 | (*(_DWORD *)(result + 72) << 16)) << 8) | (((*(_DWORD *)(result + 72) >> 16) | *(_DWORD *)(result + 72) & 0xFF0000u) >> 8);
  v52 = __ROL4__(v49, 5);
  v53 = v41 + v51 + v52 + (v45 & v40 ^ v46 & ~v45) + 1518500249;
  v54 = v53;
  v45 = __ROR4__(v45, 2);
  v53 = __ROL4__(v53, 5);
  v55 = ((*(_DWORD *)(result + 76) & 0xFF00 | (*(_DWORD *)(result + 76) << 16)) << 8) | (((*(_DWORD *)(result + 76) >> 16) | *(_DWORD *)(result + 76) & 0xFF0000u) >> 8);
  v56 = v46 + v55 + v53 + (v45 & v49 ^ v50 & ~v49) + 1518500249;
  v49 = __ROR4__(v49, 2);
  v57 = v45;
  v58 = __ROL4__(v56, 5);
  v59 = ((*(_DWORD *)(result + 80) & 0xFF00 | (*(_DWORD *)(result + 80) << 16)) << 8) | (((*(_DWORD *)(result + 80) >> 16) | *(_DWORD *)(result + 80) & 0xFF0000u) >> 8);
  v60 = v50 + v59 + v58 + (v54 & v49 ^ v45 & ~v54) + 1518500249;
  v61 = __ROR4__(v54, 2);
  v62 = v61;
  v63 = v49;
  v64 = ((*(_DWORD *)(result + 84) & 0xFF00 | (*(_DWORD *)(result + 84) << 16)) << 8) | (((*(_DWORD *)(result + 84) >> 16) | *(_DWORD *)(result + 84) & 0xFF0000u) >> 8);
  v65 = __ROL4__(v60, 5);
  v66 = v57 + v64 + v65 + (v56 & v61 ^ v49 & ~v56) + 1518500249;
  v56 = __ROR4__(v56, 2);
  v67 = v56;
  v68 = ((*(_DWORD *)(result + 88) & 0xFF00 | (*(_DWORD *)(result + 88) << 16)) << 8) | (((*(_DWORD *)(result + 88) >> 16) | *(_DWORD *)(result + 88) & 0xFF0000u) >> 8);
  v69 = __ROL4__(v66, 5);
  v70 = v63 + v68 + v69 + (v60 & v56 ^ v61 & ~v60) + 1518500249;
  v60 = __ROR4__(v60, 2);
  v71 = v60;
  v72 = v60;
  v73 = __ROL4__(v4 ^ v13 ^ v38 ^ v59, 1);
  v74 = v56 & ~v66;
  v75 = v73;
  v76 = __ROL4__(v70, 5);
  v77 = v62 + v73 + v76 + (v66 & v72 ^ v74) + 1518500249;
  v66 = __ROR4__(v66, 2);
  v78 = v77;
  v79 = v66;
  v80 = __ROL4__(v7 ^ v15 ^ v43 ^ v64, 1);
  v81 = v80;
  v77 = __ROL4__(v77, 5);
  v82 = v67 + v80 + v77 + (v66 & v70 ^ v71 & ~v70) + 1518500249;
  v70 = __ROR4__(v70, 2);
  v83 = __ROL4__(v13 ^ v22 ^ v48 ^ v68, 1);
  v84 = v83;
  v85 = __ROL4__(v82, 5);
  v86 = v70;
  v87 = v71 + v83 + v85 + (v78 & v70 ^ v66 & ~v78) + 1518500249;
  v88 = __ROR4__(v78, 2);
  v89 = v88;
  v90 = __ROL4__(v15 ^ v25 ^ v51 ^ v75, 1);
  v91 = v90;
  v92 = __ROL4__(v87, 5);
  v93 = v79 + v90 + v92 + (v82 & v89 ^ v70 & ~v82) + 1518500249;
  v82 = __ROR4__(v82, 2);
  v94 = v82;
  v95 = __ROL4__(v22 ^ v30 ^ v55 ^ v81, 1);
  v96 = v95;
  v97 = __ROL4__(v93, 5);
  v98 = v86 + v95 + v97 + (v87 ^ v82 ^ v89) + 1859775393;
  v87 = __ROR4__(v87, 2);
  v99 = v87;
  v100 = v87 ^ v82;
  v101 = __ROL4__(v25 ^ v34 ^ v59 ^ v84, 1);
  v102 = __ROL4__(v98, 5);
  v103 = v101;
  v104 = v89 + v101 + v102 + (v93 ^ v100) + 1859775393;
  v93 = __ROR4__(v93, 2);
  v105 = v93;
  v106 = __ROL4__(v30 ^ v38 ^ v64 ^ v91, 1);
  v107 = v106;
  v108 = __ROL4__(v104, 5);
  v109 = v94 + v106 + v108 + (v105 ^ v99 ^ v98) + 1859775393;
  v98 = __ROR4__(v98, 2);
  v110 = __ROL4__(v34 ^ v43 ^ v68 ^ v96, 1);
  v111 = v110;
  v112 = __ROL4__(v109, 5);
  v113 = v99 + v110 + v112 + (v105 ^ v104 ^ v98) + 1859775393;
  v104 = __ROR4__(v104, 2);
  v114 = v104;
  v115 = __ROL4__(v38 ^ v48 ^ v75 ^ v103, 1);
  v116 = v109 ^ v104 ^ v98;
  v117 = v115;
  v118 = __ROL4__(v113, 5);
  v119 = v105 + v115 + v118 + v116 + 1859775393;
  v109 = __ROR4__(v109, 2);
  v120 = v109;
  v121 = v109 ^ v114;
  v122 = __ROL4__(v43 ^ v51 ^ v81 ^ v107, 1);
  v123 = v122;
  v124 = __ROL4__(v119, 5);
  v125 = v122 + v124 + (v113 ^ v121);
  v113 = __ROR4__(v113, 2);
  v126 = v98 + v125 + 1859775393;
  v127 = __ROL4__(v48 ^ v55 ^ v84 ^ v111, 1);
  v128 = v113;
  v129 = v127;
  v130 = __ROL4__(v126, 5);
  v131 = v114 + v127 + v130 + (v119 ^ v113 ^ v120) + 1859775393;
  v119 = __ROR4__(v119, 2);
  v132 = v119;
  v133 = __ROL4__(v51 ^ v59 ^ v91 ^ v117, 1);
  v134 = v133;
  v135 = __ROL4__(v131, 5);
  v136 = v120 + v133 + v135 + (v132 ^ v113 ^ v126) + 1859775393;
  v126 = __ROR4__(v126, 2);
  v137 = __ROL4__(v55 ^ v64 ^ v96 ^ v123, 1);
  v138 = v137;
  v139 = __ROL4__(v136, 5);
  v140 = v128 + v137 + v139 + (v132 ^ v131 ^ v126) + 1859775393;
  v131 = __ROR4__(v131, 2);
  v141 = v131;
  v142 = __ROL4__(v59 ^ v68 ^ v103 ^ v129, 1);
  v143 = v136 ^ v131 ^ v126;
  v144 = v142;
  v145 = __ROL4__(v140, 5);
  v146 = v132 + v142 + v145 + v143 + 1859775393;
  v136 = __ROR4__(v136, 2);
  v147 = v136;
  v148 = v136 ^ v141;
  v149 = __ROL4__(v64 ^ v75 ^ v107 ^ v134, 1);
  v150 = v149;
  v151 = __ROL4__(v146, 5);
  v152 = v149 + v151 + (v140 ^ v148);
  v140 = __ROR4__(v140, 2);
  v153 = v126 + v152 + 1859775393;
  v154 = __ROL4__(v68 ^ v81 ^ v111 ^ v138, 1);
  v155 = v140;
  v156 = v154;
  v157 = __ROL4__(v153, 5);
  v158 = v141 + v154 + v157 + (v146 ^ v140 ^ v147) + 1859775393;
  v146 = __ROR4__(v146, 2);
  v159 = v146;
  v160 = __ROL4__(v75 ^ v84 ^ v117 ^ v144, 1);
  v161 = v160;
  v162 = __ROL4__(v158, 5);
  v163 = v147 + v160 + v162 + (v159 ^ v140 ^ v153) + 1859775393;
  v153 = __ROR4__(v153, 2);
  v164 = __ROL4__(v81 ^ v91 ^ v123 ^ v150, 1);
  v165 = v164;
  v166 = __ROL4__(v163, 5);
  v167 = v155 + v164 + v166 + (v159 ^ v158 ^ v153) + 1859775393;
  v158 = __ROR4__(v158, 2);
  v168 = v158;
  v169 = __ROL4__(v84 ^ v96 ^ v129 ^ v156, 1);
  v170 = v163 ^ v158 ^ v153;
  v171 = v169;
  v172 = __ROL4__(v167, 5);
  v173 = v159 + v169 + v172 + v170 + 1859775393;
  v163 = __ROR4__(v163, 2);
  v174 = v163;
  v175 = v163 ^ v168;
  v176 = __ROL4__(v91 ^ v103 ^ v134 ^ v161, 1);
  v177 = v176;
  v178 = __ROL4__(v173, 5);
  v179 = v176 + v178 + (v167 ^ v175);
  v167 = __ROR4__(v167, 2);
  v180 = v153 + v179 + 1859775393;
  v181 = v167;
  v182 = __ROL4__(v96 ^ v107 ^ v138 ^ v165, 1);
  v183 = v182;
  v184 = __ROL4__(v180, 5);
  v185 = v168 + v182 + v184 + (v173 ^ v167 ^ v174) + 1859775393;
  v173 = __ROR4__(v173, 2);
  v186 = v173;
  v187 = v173;
  v188 = __ROL4__(v103 ^ v111 ^ v144 ^ v171, 1);
  v189 = v188;
  v190 = __ROL4__(v185, 5);
  v191 = v174 + v188 + v190 + (v187 ^ v181 ^ v180) + 1859775393;
  v180 = __ROR4__(v180, 2);
  v192 = v180;
  v193 = __ROL4__(v107 ^ v117 ^ v150 ^ v177, 1);
  v194 = __ROL4__(v191, 5);
  v195 = v193;
  v196 = v181 + v193 + v194 + (v187 ^ v185 ^ v180) + 1859775393;
  v185 = __ROR4__(v185, 2);
  v197 = __ROL4__(v111 ^ v123 ^ v156 ^ v183, 1);
  v198 = __ROL4__(v196, 5);
  v199 = v197;
  v200 = v197 + v198 + (v191 ^ v185 ^ v192);
  v191 = __ROR4__(v191, 2);
  v201 = v186 + v200 + 1859775393;
  v202 = v191;
  v203 = __ROL4__(v117 ^ v129 ^ v161 ^ v189, 1);
  v204 = __ROL4__(v201, 5);
  v205 = v192 + v203 + (v196 & v191 ^ v185 & (v196 ^ v191)) + v204 - 1894007588;
  v206 = v203;
  v207 = v205;
  v196 = __ROR4__(v196, 2);
  v208 = __ROL4__(v123 ^ v134 ^ v165 ^ v195, 1);
  v209 = v208;
  v210 = v185 + v208 + (v201 & v196 ^ v202 & (v201 ^ v196));
  v205 = __ROL4__(v205, 5);
  v201 = __ROR4__(v201, 2);
  v211 = v196;
  v212 = __ROL4__(v129 ^ v138 ^ v171 ^ v199, 1);
  v213 = v212;
  v214 = v202 + v212 + (v201 & v196 ^ v207 & (v201 ^ v196));
  v215 = v210 + v205 - 1894007588;
  v216 = __ROL4__(v215, 5);
  v217 = __ROR4__(v207, 2);
  v218 = v214 + v216 - 1894007588;
  v219 = v217;
  v220 = __ROL4__(v134 ^ v144 ^ v177 ^ v206, 1);
  v221 = v219;
  v222 = v211 + v220 + (v201 & v215 ^ v219 & (v201 ^ v215));
  v223 = v220;
  v224 = v218;
  v218 = __ROL4__(v218, 5);
  v215 = __ROR4__(v215, 2);
  v225 = v218 + v222 - 1894007588;
  v226 = __ROL4__(v138 ^ v150 ^ v183 ^ v209, 1);
  v227 = v215;
  v228 = v226;
  v229 = v226 + (v224 & v215 ^ v219 & (v224 ^ v215));
  v230 = __ROL4__(v225, 5);
  v231 = __ROR4__(v224, 2);
  v232 = v230 + v201 + v229 - 1894007588;
  v233 = v231;
  v234 = __ROL4__(v144 ^ v156 ^ v189 ^ v213, 1);
  v235 = v234;
  v236 = v221 + v234 + (v225 & v233 ^ v215 & (v225 ^ v233));
  v237 = __ROL4__(v232, 5);
  v225 = __ROR4__(v225, 2);
  v238 = __ROL4__(v150 ^ v161 ^ v195 ^ v223, 1);
  v239 = v236 + v237 - 1894007588;
  v240 = v238;
  v241 = v227 + v238 + (v232 & v225 ^ v233 & (v232 ^ v225));
  v242 = v225;
  v243 = v239;
  v239 = __ROL4__(v239, 5);
  v232 = __ROR4__(v232, 2);
  v244 = __ROL4__(v156 ^ v165 ^ v199 ^ v228, 1);
  v245 = v233 + v244 + (v232 & v225 ^ v243 & (v232 ^ v225));
  v246 = v244;
  v247 = v241 + v239 - 1894007588;
  v248 = __ROL4__(v247, 5);
  v249 = __ROR4__(v243, 2);
  v250 = v245 + v248 - 1894007588;
  v251 = v249;
  v252 = __ROL4__(v161 ^ v171 ^ v206 ^ v235, 1);
  v253 = v251;
  v254 = v242 + v252 + (v232 & v247 ^ v251 & (v232 ^ v247));
  v255 = v252;
  v256 = v250;
  v250 = __ROL4__(v250, 5);
  v247 = __ROR4__(v247, 2);
  v257 = v250 + v254 - 1894007588;
  v258 = __ROL4__(v165 ^ v177 ^ v209 ^ v240, 1);
  v259 = __ROL4__(v257, 5);
  v260 = v247;
  v261 = v258;
  v262 = v258 + (v256 & v247 ^ v253 & (v256 ^ v247));
  v263 = __ROR4__(v256, 2);
  v264 = v259 + v232 + v262 - 1894007588;
  v265 = v263;
  v266 = __ROL4__(v171 ^ v183 ^ v213 ^ v246, 1);
  v267 = v253 + v266 + (v257 & v265 ^ v247 & (v257 ^ v265));
  v268 = v266;
  v269 = __ROL4__(v264, 5);
  v257 = __ROR4__(v257, 2);
  v270 = v267 + v269 - 1894007588;
  v271 = __ROL4__(v177 ^ v189 ^ v223 ^ v255, 1);
  v272 = v260 + v271 + (v264 & v257 ^ v265 & (v264 ^ v257));
  v273 = v271;
  v274 = v270;
  v270 = __ROL4__(v270, 5);
  v264 = __ROR4__(v264, 2);
  v275 = v257;
  v276 = __ROL4__(v183 ^ v195 ^ v228 ^ v261, 1);
  v277 = v265 + v276 + (v264 & v257 ^ v274 & (v264 ^ v257));
  v278 = v272 + v270 - 1894007588;
  v279 = v276;
  v280 = __ROL4__(v278, 5);
  v281 = __ROR4__(v274, 2);
  v282 = v277 + v280 - 1894007588;
  v283 = v281;
  v284 = __ROL4__(v189 ^ v199 ^ v235 ^ v268, 1);
  v285 = v282;
  v282 = __ROL4__(v282, 5);
  v286 = v284;
  v287 = v275 + v284 + (v264 & v278 ^ v283 & (v264 ^ v278));
  v278 = __ROR4__(v278, 2);
  v288 = v282 + v287 - 1894007588;
  v289 = __ROL4__(v195 ^ v206 ^ v240 ^ v273, 1);
  v290 = v289;
  v291 = v278;
  v292 = v289 + (v285 & v278 ^ v283 & (v285 ^ v278));
  v293 = __ROL4__(v288, 5);
  v294 = __ROR4__(v285, 2);
  v295 = v293 + v264 + v292 - 1894007588;
  v296 = v294;
  v297 = __ROL4__(v199 ^ v209 ^ v246 ^ v279, 1);
  v298 = v283 + v297 + (v288 & v296 ^ v278 & (v288 ^ v296));
  v299 = v297;
  v300 = __ROL4__(v295, 5);
  v288 = __ROR4__(v288, 2);
  v301 = v298 + v300 - 1894007588;
  v302 = __ROL4__(v206 ^ v213 ^ v255 ^ v286, 1);
  v303 = v291 + v302 + (v295 & v288 ^ v296 & (v295 ^ v288));
  v304 = v302;
  v305 = v301;
  v306 = v288;
  v301 = __ROL4__(v301, 5);
  v295 = __ROR4__(v295, 2);
  v307 = __ROL4__(v209 ^ v223 ^ v261 ^ v290, 1);
  v308 = v303 + v301 - 1894007588;
  v309 = v307;
  v310 = __ROL4__(v308, 5);
  v311 = v296 + v307 + (v295 & v288 ^ v305 & (v295 ^ v288)) + v310 - 1894007588;
  v312 = __ROR4__(v305, 2);
  v313 = v312;
  v314 = __ROL4__(v213 ^ v228 ^ v268 ^ v299, 1);
  v315 = v314;
  v316 = v306 + v314 + (v295 & v308 ^ v313 & (v295 ^ v308));
  v317 = v311;
  v311 = __ROL4__(v311, 5);
  v308 = __ROR4__(v308, 2);
  v318 = v311 + v316 - 1894007588;
  v319 = __ROL4__(v223 ^ v235 ^ v273 ^ v304, 1);
  v320 = v319;
  v321 = v308;
  v322 = v319 + (v317 & v308 ^ v313 & (v317 ^ v308));
  v323 = v318;
  v318 = __ROL4__(v318, 5);
  v317 = __ROR4__(v317, 2);
  v324 = __ROL4__(v228 ^ v240 ^ v279 ^ v309, 1);
  v325 = v318 + v295 + v322 - 1894007588;
  v326 = v313 + v324 + (v323 ^ v317 ^ v321);
  v327 = v324;
  v328 = __ROL4__(v325, 5);
  v323 = __ROR4__(v323, 2);
  v329 = v317;
  v330 = __ROL4__(v235 ^ v246 ^ v286 ^ v315, 1);
  v331 = v323;
  v332 = v330;
  v333 = v321 + v330 + (v325 ^ v323 ^ v317);
  v334 = v328 + v326 - 899497514;
  v335 = __ROL4__(v334, 5);
  v336 = v333 + v335 - 899497514;
  v325 = __ROR4__(v325, 2);
  v337 = v325;
  v338 = v325 ^ v331 ^ v334;
  v339 = __ROL4__(v240 ^ v255 ^ v290 ^ v320, 1);
  v340 = __ROL4__(v336, 5);
  v341 = v339;
  v334 = __ROR4__(v334, 2);
  v342 = v329 + v339 + v338 + v340 - 899497514;
  v343 = __ROL4__(v246 ^ v261 ^ v299 ^ v327, 1);
  v344 = v343;
  v345 = __ROL4__(v342, 5);
  v346 = v345 + v331 + v343 + (v337 ^ v336 ^ v334) - 899497514;
  v336 = __ROR4__(v336, 2);
  v347 = __ROL4__(v255 ^ v268 ^ v304 ^ v332, 1);
  v348 = v336;
  v349 = v347;
  v350 = v337 + v347 + (v342 ^ v336 ^ v334);
  v351 = __ROL4__(v346, 5);
  v342 = __ROR4__(v342, 2);
  v352 = v351 + v350 - 899497514;
  v353 = __ROL4__(v261 ^ v273 ^ v309 ^ v341, 1);
  v354 = v342;
  v355 = v353;
  v356 = v353 + (v346 ^ v342 ^ v348);
  v357 = __ROL4__(v352, 5);
  v346 = __ROR4__(v346, 2);
  v358 = v346;
  v359 = __ROL4__(v268 ^ v279 ^ v315 ^ v344, 1);
  v360 = v359;
  v361 = v357 + v334 + v356 - 899497514;
  v362 = __ROL4__(v361, 5);
  v363 = v348 + v359 + (v352 ^ v346 ^ v354) + v362 - 899497514;
  v352 = __ROR4__(v352, 2);
  v364 = v352;
  v365 = __ROL4__(v273 ^ v286 ^ v320 ^ v349, 1);
  v366 = v352 ^ v346 ^ v361;
  v367 = __ROL4__(v363, 5);
  v368 = v365;
  v369 = v354 + v365 + v366 + v367 - 899497514;
  v361 = __ROR4__(v361, 2);
  v370 = __ROL4__(v279 ^ v290 ^ v327 ^ v355, 1);
  v371 = v358 + v370 + (v364 ^ v363 ^ v361);
  v372 = v370;
  v373 = __ROL4__(v369, 5);
  v363 = __ROR4__(v363, 2);
  v374 = v373 + v371 - 899497514;
  v375 = __ROL4__(v286 ^ v299 ^ v332 ^ v360, 1);
  v376 = v363;
  v377 = v375;
  v378 = v364 + v375 + (v369 ^ v363 ^ v361);
  v379 = __ROL4__(v374, 5);
  v380 = v379 + v378 - 899497514;
  v369 = __ROR4__(v369, 2);
  v381 = __ROL4__(v290 ^ v304 ^ v341 ^ v368, 1);
  v382 = v369;
  v383 = v381;
  v384 = v381 + (v374 ^ v369 ^ v376);
  v385 = __ROL4__(v380, 5);
  v386 = v385 + v361 + v384 - 899497514;
  v374 = __ROR4__(v374, 2);
  v387 = __ROL4__(v299 ^ v309 ^ v344 ^ v372, 1);
  v388 = v376 + v387 + (v380 ^ v374 ^ v382);
  v389 = __ROL4__(v386, 5);
  v380 = __ROR4__(v380, 2);
  v390 = v374;
  v391 = v389 + v388 - 899497514;
  v392 = v380;
  v393 = __ROL4__(v304 ^ v315 ^ v349 ^ v377, 1);
  v394 = v391;
  v391 = __ROL4__(v391, 5);
  v395 = v382 + v393 + (v380 ^ v390 ^ v386) + v391 - 899497514;
  v386 = __ROR4__(v386, 2);
  v396 = v393;
  v397 = v395;
  v398 = v386;
  v399 = __ROL4__(v309 ^ v320 ^ v355 ^ v383, 1);
  v400 = __ROL4__(v395, 5);
  v401 = v399;
  v402 = __ROR4__(v394, 2);
  v403 = v400 + v390 + v399 + (v392 ^ v394 ^ v386) - 899497514;
  v404 = v403;
  v405 = v402;
  v406 = __ROL4__(v315 ^ v327 ^ v360 ^ v387, 1);
  v403 = __ROL4__(v403, 5);
  v407 = v392 + v406 + (v397 ^ v402 ^ v386) + v403 - 899497514;
  v408 = __ROR4__(v397, 2);
  v409 = v408;
  v410 = v407;
  v411 = __ROL4__(v320 ^ v332 ^ v368 ^ v396, 1);
  v407 = __ROL4__(v407, 5);
  v412 = v409;
  v413 = v407 + v398 + v411 + (v404 ^ v409 ^ v405) - 899497514;
  v414 = __ROR4__(v404, 2);
  v415 = v414;
  v416 = __ROL4__(v327 ^ v341 ^ v372 ^ v401, 1);
  v417 = v416;
  v418 = v413;
  v413 = __ROL4__(v413, 5);
  v419 = v405 + v416 + (v410 ^ v415 ^ v412) + v413 - 899497514;
  v420 = __ROR4__(v410, 2);
  v421 = v420;
  v422 = __ROL4__(v332 ^ v344 ^ v377 ^ v406, 1);
  v423 = __ROL4__(v419, 5);
  v424 = v412 + (v421 ^ v415 ^ v418) + v423 + v422 - 899497514;
  v425 = __ROR4__(v418, 2);
  v426 = v425;
  v427 = __ROL4__(v341 ^ v349 ^ v383 ^ v411, 1);
  v428 = __ROL4__(v424, 5);
  v429 = v415 + (v421 ^ v419 ^ v426) + v428 + v427 - 899497514;
  v419 = __ROR4__(v419, 2);
  v430 = __ROL4__(v417 ^ v344 ^ v355 ^ v387, 1);
  v431 = __ROL4__(v429, 5);
  v432 = v421 + (v424 ^ v419 ^ v426) + v431 + v430 - 899497514 + *(_DWORD *)(result + 8);
  *(_DWORD *)(result + 12) += v429;
  v424 = __ROR4__(v424, 2);
  v433 = *(_DWORD *)(result + 16) + v424;
  *(_DWORD *)(result + 20) += v419;
  v434 = *(_DWORD *)(result + 24);
  *(_DWORD *)(result + 8) = v432;
  *(_DWORD *)(result + 16) = v433;
  *(_DWORD *)(result + 24) = v426 + v434;
  return result;
}

//----- (1004DF60) --------------------------------------------------------
unsigned int __usercall sub_1004DF60@<eax>(int a1@<esi>, int a2)
{
  unsigned int v2; // eax@1
  unsigned int v3; // edx@1
  int v4; // eax@4
  unsigned int v5; // eax@7
  unsigned int result; // eax@7
  int v7; // edx@8

  v2 = *(_DWORD *)a1 & 0x3F;
  v3 = v2 >> 2;
  *(_DWORD *)(a1 + 4 * v3 + 28) = dword_100B8D58[*(_BYTE *)a1 & 3] | *(_DWORD *)(a1 + 4 * v3 + 28) & dword_100B8D68[*(_BYTE *)a1 & 3];
  if ( v2 > 0x37 )
  {
    if ( v2 < 0x3C )
      *(_DWORD *)(a1 + 88) = 0;
    sub_1004C840(a1);
    v4 = 0;
    goto LABEL_6;
  }
  v4 = v3 + 1;
  if ( v3 + 1 < 0xE )
LABEL_6:
    memset((void *)(a1 + 4 * v4 + 28), 0, 4 * (14 - v4));
  v5 = 8 * *(_DWORD *)a1;
  *(_DWORD *)(a1 + 84) = ((((unsigned int)(*(_QWORD *)a1 >> 29) << 16) | (*(_QWORD *)a1 >> 29) & 0xFF00) << 8) | ((((unsigned int)(*(_QWORD *)a1 >> 29) >> 16) | (*(_QWORD *)a1 >> 29) & 0xFF0000) >> 8);
  *(_DWORD *)(a1 + 88) = (((v5 << 16) | v5 & 0xFF00) << 8) | (((v5 >> 16) | v5 & 0xFF0000) >> 8);
  sub_1004C840(a1);
  result = 0;
  do
  {
    v7 = *(_DWORD *)(a1 + 4 * (result >> 2) + 8) >> 8 * (~(_BYTE)result & 3);
    *(_BYTE *)(++result + a2 - 1) = v7;
  }
  while ( result < 0x14 );
  return result;
}
// 100B8D58: using guessed type int dword_100B8D58[];
// 100B8D68: using guessed type int dword_100B8D68[];

//----- (1004E060) --------------------------------------------------------
void *__usercall sub_1004E060@<eax>(size_t a1@<eax>, char *a2@<ecx>, _DWORD *a3)
{
  int v3; // ebp@1
  size_t v4; // ebx@1
  int v5; // edi@1
  unsigned int v6; // eax@1
  size_t v7; // esi@1
  char *v9; // [sp+14h] [bp+4h]@1

  v3 = (int)a3;
  v4 = a1;
  v5 = *a3 & 0x3F;
  v6 = a1 + *a3;
  v7 = 64 - v5;
  v9 = a2;
  *(_DWORD *)v3 = v6;
  if ( v6 < v4 )
    ++*(_DWORD *)(v3 + 4);
  if ( v4 >= v7 )
  {
    do
    {
      memcpy((void *)(v5 + v3 + 28), v9, v7);
      v9 += v7;
      v4 -= v7;
      v7 = 64;
      v5 = 0;
      sub_1004C840(v3);
    }
    while ( v4 >= 0x40 );
  }
  return memcpy((void *)(v5 + v3 + 28), v9, v4);
}

//----- (1004E0E0) --------------------------------------------------------
void *__usercall sub_1004E0E0@<eax>(int a1@<eax>, size_t a2@<ebx>, char *a3)
{
  int v3; // edi@1
  void *result; // eax@1
  unsigned int v5; // eax@4
  _DWORD *v6; // eax@6

  v3 = a1;
  result = *(void **)(a1 + 156);
  if ( result != (void *)-1 )
  {
    if ( (unsigned int)result > 0x40 )
    {
      sub_1004DF60(v3 + 64, v3);
      *(_DWORD *)(v3 + 156) = 20;
    }
    memset((void *)(v3 + *(_DWORD *)(v3 + 156)), 0, 64 - *(_DWORD *)(v3 + 156));
    v5 = 0;
    do
      *(_DWORD *)(v3 + 4 * v5++) ^= 0x36363636u;
    while ( v5 < 0x10 );
    v6 = (_DWORD *)sub_1004C800(v3 + 64);
    result = sub_1004E060(0x40u, (char *)v3, v6);
    *(_DWORD *)(v3 + 156) = -1;
  }
  if ( a2 )
    result = sub_1004E060(a2, a3, (_DWORD *)(v3 + 64));
  return result;
}

//----- (1004E180) --------------------------------------------------------
int __usercall sub_1004E180@<eax>(int a1@<edi>, int a2, size_t a3)
{
  unsigned int v3; // eax@3
  int result; // eax@5
  char v5; // [sp+8h] [bp-18h]@3

  if ( *(_DWORD *)(a1 + 156) != -1 )
    sub_1004E0E0(a1, 0, 0);
  sub_1004DF60(a1 + 64, (int)&v5);
  v3 = 0;
  do
    *(_DWORD *)(a1 + 4 * v3++) ^= 0x6A6A6A6Au;
  while ( v3 < 0x10 );
  sub_1004C800(a1 + 64);
  sub_1004E060(0x40u, (char *)a1, (_DWORD *)(a1 + 64));
  sub_1004E060(0x14u, &v5, (_DWORD *)(a1 + 64));
  result = sub_1004DF60(a1 + 64, (int)&v5);
  if ( a3 )
    result = (int)memcpy((void *)a2, &v5, a3);
  return result;
}

//----- (1004E240) --------------------------------------------------------
int __usercall sub_1004E240@<eax>(size_t a1@<edi>, int a2@<esi>, void *a3)
{
  int v3; // eax@1
  int result; // eax@2

  v3 = *(_DWORD *)(a2 + 156);
  if ( v3 + a1 <= 0x40 )
  {
    memcpy((void *)(a2 + v3), a3, a1);
    *(_DWORD *)(a2 + 156) += a1;
    result = 0;
  }
  else
  {
    sub_1004C800(a2 + 64);
    sub_1004E060(*(_DWORD *)(a2 + 156), (char *)a2, (_DWORD *)(a2 + 64));
    sub_1004E060(a1, (char *)a3, (_DWORD *)(a2 + 64));
    *(_DWORD *)(a2 + 156) += a1;
    result = 0;
  }
  return result;
}

//----- (1004E2A0) --------------------------------------------------------
int __usercall sub_1004E2A0@<eax>(char *a1@<edi>)
{
  unsigned int v1; // ebp@1
  signed int v2; // eax@2
  int v3; // edx@4
  int v4; // ecx@4
  int v5; // edx@4
  unsigned int v6; // esi@4
  size_t v7; // eax@4
  int v8; // ebx@6
  int v9; // edx@8
  int result; // eax@8
  int v11; // ecx@8
  int v12; // edx@8
  char v13; // [sp+Ch] [bp-5Ch]@8
  int v14; // [sp+14h] [bp-54h]@4
  int v15; // [sp+18h] [bp-50h]@4
  int v16; // [sp+1Ch] [bp-4Ch]@4
  int v17; // [sp+20h] [bp-48h]@4
  int v18; // [sp+24h] [bp-44h]@4
  char v19[64]; // [sp+28h] [bp-40h]@6

  v1 = 0;
  do
  {
    v2 = v1;
    if ( !v1 )
      v2 = 260;
    v3 = *(_DWORD *)&a1[v2 - 16];
    v14 = *(_DWORD *)&a1[v2 - 20];
    v4 = *(_DWORD *)&a1[v2 - 12];
    v15 = v3;
    v5 = *(_DWORD *)&a1[v2 - 8];
    v6 = 260 - v1;
    v18 = *(_DWORD *)&a1[v2 - 4];
    v16 = v4;
    v17 = v5;
    v7 = 64;
    if ( 260 - v1 <= 0x40 )
      v7 = 260 - v1;
    v8 = (int)&a1[v1];
    memcpy(v19, &a1[v1], v7);
    if ( v6 < 0x40 )
      memcpy(&v19[v6], a1, 64 - v6);
    sub_1004C840((int)&v13);
    v9 = v15;
    result = v16;
    *(_DWORD *)v8 = v14;
    v11 = v17;
    *(_DWORD *)(v8 + 4) = v9;
    v12 = v18;
    *(_DWORD *)(v8 + 8) = result;
    v1 += 20;
    *(_DWORD *)(v8 + 12) = v11;
    *(_DWORD *)(v8 + 16) = v12;
  }
  while ( v1 < 0x104 );
  return result;
}
// 1004E2A0: using guessed type char var_40[64];

//----- (1004E360) --------------------------------------------------------
int __usercall sub_1004E360@<eax>(int a1@<ebx>)
{
  unsigned int v1; // ebp@1
  unsigned int v2; // eax@3
  char v3; // cl@4
  char v4; // dl@4
  char v5; // cl@4
  char v6; // dl@4
  char *v8; // [sp+Ch] [bp-4h]@1

  v8 = (char *)(a1 + 260);
  v1 = 0;
  qmemcpy((void *)(a1 + 260), (const void *)a1, 0x104u);
  do
    v1 += (*(int (__cdecl **)(unsigned int, unsigned int))(a1 + 524))(a1 + v1, 260 - v1);
  while ( v1 < 0x104 );
  v2 = 0;
  do
  {
    v3 = *(_BYTE *)(v2 + a1 + 261);
    *(_BYTE *)(v2 + a1) ^= ~v8[v2];
    v4 = *(_BYTE *)(v2 + a1 + 262);
    *(_BYTE *)(v2 + a1 + 1) ^= ~v3;
    v5 = *(_BYTE *)(v2 + a1 + 263);
    *(_BYTE *)(v2 + a1 + 2) ^= ~v4;
    v6 = *(_BYTE *)(v2 + a1 + 264);
    *(_BYTE *)(v2 + a1 + 3) ^= ~v5;
    *(_BYTE *)(v2 + a1 + 4) ^= ~v6;
    v2 += 5;
  }
  while ( v2 < 0x104 );
  sub_1004E2A0((char *)a1);
  return sub_1004E2A0(v8);
}

//----- (1004E420) --------------------------------------------------------
char __cdecl sub_1004E420(char *a1, size_t a2, int a3)
{
  char result; // al@4

  if ( a1 && a2 && a3 )
  {
    sub_1004E0E0(a3 + 296, a2, a1);
    sub_1004B9A0(a3, (int)a1, a2);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1004E470) --------------------------------------------------------
char __cdecl sub_1004E470(char *a1, unsigned int a2, int a3)
{
  char result; // al@4

  if ( a1 && a2 && a3 )
  {
    sub_1004B9A0(a3, (int)a1, a2);
    sub_1004E0E0(a3 + 296, a2, a1);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1004E4C0) --------------------------------------------------------
bool __cdecl sub_1004E4C0(int a1, int a2)
{
  if ( a2 )
    sub_1004E180(a2 + 296, a1, 0xAu);
  return a2 != 0;
}

//----- (1004E4F0) --------------------------------------------------------
int __usercall sub_1004E4F0@<eax>(char *a1@<edx>, void *a2@<ecx>, size_t a3, size_t a4, int a5, int a6, unsigned int a7)
{
  void *v7; // esi@1
  char *v8; // ebx@1
  int result; // eax@1
  unsigned int v10; // edx@1
  unsigned int v11; // ebx@2
  size_t v12; // edx@3
  char v13; // al@6
  char v14; // al@6
  bool v15; // zf@7
  unsigned int v16; // eax@9
  unsigned int v17; // ecx@9
  int *v18; // [sp+10h] [bp-228h]@2
  unsigned int v19; // [sp+14h] [bp-224h]@2
  int v20; // [sp+18h] [bp-220h]@4
  signed int v21; // [sp+1Ch] [bp-21Ch]@2
  unsigned int v22; // [sp+20h] [bp-218h]@1
  char v23; // [sp+28h] [bp-210h]@3
  char v24; // [sp+C8h] [bp-170h]@1
  char v25; // [sp+168h] [bp-D0h]@1
  int v26; // [sp+20Ch] [bp-2Ch]@2
  int v27; // [sp+210h] [bp-28h]@3
  int v28; // [sp+214h] [bp-24h]@3
  int v29; // [sp+218h] [bp-20h]@3
  int v30; // [sp+21Ch] [bp-1Ch]@3
  int v31; // [sp+220h] [bp-18h]@3
  char v32[16]; // [sp+224h] [bp-14h]@6

  v7 = a2;
  v8 = a1;
  sub_1004C780(&v24);
  sub_1004E240(a3, (int)&v24, v7);
  qmemcpy(&v25, &v24, 0xA0u);
  sub_1004E0E0((int)&v25, a4, v8);
  result = -858993459 * (a7 - 1);
  v10 = (a7 - 1) / 0x14;
  v22 = v10 + 1;
  if ( v10 != -1 )
  {
    v11 = 1;
    v19 = 0;
    v21 = 1;
    v18 = &v26;
    do
    {
      v26 = 0;
      v27 = 0;
      v28 = 0;
      v29 = 0;
      v30 = 0;
      qmemcpy(&v23, &v25, 0xA0u);
      LOBYTE(v31) = BYTE3(v11);
      BYTE2(v31) = BYTE1(v11);
      BYTE1(v31) = v11 >> 16;
      BYTE3(v31) = v11;
      v12 = 4;
      if ( a5 )
      {
        v20 = a5;
        do
        {
          sub_1004E0E0((int)&v23, v12, (char *)&v31);
          sub_1004E180((int)&v23, (int)&v31, 0x14u);
          v12 = 0;
          do
          {
            *((_BYTE *)&v26 + v12) ^= *((_BYTE *)&v31 + v12);
            v13 = *((_BYTE *)&v31 + v12 + 2);
            *((_BYTE *)&v26 + v12 + 1) ^= *((_BYTE *)&v31 + v12 + 1);
            *((_BYTE *)&v26 + v12 + 2) ^= v13;
            v14 = v32[v12];
            *((_BYTE *)&v26 + v12 + 3) ^= *((_BYTE *)&v31 + v12 + 3);
            *((_BYTE *)&v27 + v12) ^= v14;
            v12 += 5;
          }
          while ( v12 < 0x14 );
          v15 = v20-- == 1;
          qmemcpy(&v23, &v24, 0xA0u);
        }
        while ( !v15 );
        v11 = v21;
      }
      v16 = v19;
      v17 = 0;
      do
      {
        if ( v16 >= a7 )
          break;
        *(_BYTE *)(v16 + a6) = *((_BYTE *)v18 + v16);
        ++v17;
        ++v16;
      }
      while ( v17 < 0x14 );
      v19 += 20;
      v18 -= 5;
      result = ++v11 - 1;
      v21 = v11;
    }
    while ( v11 - 1 < v22 );
  }
  return result;
}
// 1004E4F0: using guessed type char var_14[16];

//----- (1004E700) --------------------------------------------------------
int __usercall sub_1004E700@<eax>(void *a1@<eax>, int a2)
{
  int v2; // ebx@1
  signed int v3; // esi@1

  v2 = (int)a1;
  memset(a1, 0, 0x210u);
  *(_DWORD *)(v2 + 524) = a2;
  sub_1004E360(v2);
  v3 = 20;
  do
  {
    sub_1004E2A0((char *)v2);
    --v3;
  }
  while ( v3 );
  return sub_1004E360(v2);
}

//----- (1004E750) --------------------------------------------------------
char *__cdecl sub_1004E750(int a1, int a2)
{
  void *v2; // ecx@0
  char *result; // eax@1
  unsigned int v4; // ebp@1
  int v5; // edi@1
  char *v6; // ebx@1
  size_t v7; // esi@4

  result = (char *)a2;
  v4 = a1;
  v5 = *(_DWORD *)(a2 + 520);
  v6 = (char *)v2;
  if ( a1 )
  {
    while ( 1 )
    {
      v7 = 260 - v5;
      if ( v4 < 260 - v5 )
        v7 = v4;
      result = (char *)memcpy(v6, &result[v5 + 260], v7);
      v6 += v7;
      v5 += v7;
      v4 -= v7;
      if ( v5 == 260 )
      {
        result = (char *)sub_1004E360(a2);
        v5 = 0;
      }
      if ( !v4 )
        break;
      result = (char *)a2;
    }
    *(_DWORD *)(a2 + 520) = v5;
  }
  else
  {
    *(_DWORD *)(a2 + 520) = v5;
  }
  return result;
}

//----- (1004E7E0) --------------------------------------------------------
signed int __cdecl sub_1004E7E0(char a1, void *a2, size_t a3, char *a4, _WORD *a5, int a6)
{
  signed int result; // eax@2
  int v7; // ebx@6
  char v8; // [sp+Ch] [bp-48h]@6
  char v9[8]; // [sp+14h] [bp-40h]@6
  __int16 v10[26]; // [sp+1Ch] [bp-38h]@6

  if ( a3 <= 0x80 )
  {
    if ( (unsigned __int8)(a1 - 1) > 2u )
    {
      result = -101;
    }
    else if ( a6 )
    {
      *(_BYTE *)(a6 + 464) = a1;
      v7 = a1 & 3;
      *(_DWORD *)(a6 + 460) = a3;
      sub_1004E4F0(a4, a2, a3, 4 * v7 + 4, 1000, (int)&v8, 16 * v7 + 18);
      *(_DWORD *)(a6 + 456) = 16;
      *(_DWORD *)a6 = 0;
      *(_DWORD *)(a6 + 4) = 0;
      *(_DWORD *)(a6 + 8) = 0;
      *(_DWORD *)(a6 + 12) = 0;
      sub_1004BA00(a6 + 32, (int)&v8, 8 * v7 + 8);
      sub_1004C780((void *)(a6 + 296));
      sub_1004E240(8 * v7 + 8, a6 + 296, &v9[8 * v7]);
      *a5 = v10[8 * v7];
      result = 0;
    }
    else
    {
      result = -102;
    }
  }
  else
  {
    result = -100;
  }
  return result;
}
// 1004E7E0: using guessed type char var_40[8];
// 1004E7E0: using guessed type __int16 var_38[26];

//----- (1004E910) --------------------------------------------------------
bool __cdecl sub_1004E910(void *a1, int a2)
{
  bool v2; // bl@3
  int v4; // [sp+Ch] [bp-214h]@5

  v2 = a1 && a2;
  sub_1004E700(&v4, (int)sub_1004C7A0);
  if ( v2 )
    sub_1004E750(a2, (int)&v4);
  return v2;
}

//----- (1004E990) --------------------------------------------------------
BOOL __usercall sub_1004E990@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>)
{
  unsigned int v3; // ecx@3
  int v4; // ecx@4

  *(_WORD *)(*(_DWORD *)(a1 + 5712) + 2 * *(_DWORD *)(a1 + 5728)) = a3;
  *(_BYTE *)(*(_DWORD *)(a1 + 5716) + (*(_DWORD *)(a1 + 5728))++) = a2;
  if ( a3 )
  {
    ++*(_DWORD *)(a1 + 2920);
    ++*(_WORD *)(a1 + 4 * (unsigned __int8)byte_100B9570[a2] + 3964);
    v3 = a3 - 1;
    if ( v3 >= 0x100 )
      v4 = (unsigned __int8)byte_100B9470[v3 >> 7];
    else
      v4 = (unsigned __int8)byte_100B9370[v3];
    ++*(_WORD *)(a1 + 4 * v4 + 5228);
  }
  else
  {
    ++*(_WORD *)(a1 + 4 * a2 + 2936);
  }
  return *(_DWORD *)(a1 + 5728) == *(_DWORD *)(a1 + 5724) - 1;
}

//----- (1004EA30) --------------------------------------------------------
int __usercall sub_1004EA30@<eax>(int result@<eax>)
{
  signed int v1; // ecx@1
  __int16 v2; // cx@4

  v1 = *(_DWORD *)(result + 2932);
  if ( v1 == 16 )
  {
    *(_BYTE *)(*(_DWORD *)(result + 5800) + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
    *(_BYTE *)((*(_DWORD *)(result + 5812))++ + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
    *(_DWORD *)(result + 2932) = 0;
    *(_WORD *)(result + 2924) = 0;
  }
  else if ( v1 >= 8 )
  {
    *(_BYTE *)(*(_DWORD *)(result + 5800) + *(_DWORD *)(result + 5812)) = *(_BYTE *)(result + 2924);
    v2 = *(_BYTE *)(result + 2925);
    ++*(_DWORD *)(result + 5812);
    *(_DWORD *)(result + 2932) -= 8;
    *(_WORD *)(result + 2924) = v2;
  }
  return result;
}

//----- (1004EAC0) --------------------------------------------------------
unsigned int __fastcall sub_1004EAC0(unsigned int a1, int a2)
{
  unsigned int v2; // eax@1
  int v3; // esi@2

  v2 = 0;
  do
  {
    v3 = a1 & 1;
    --a2;
    a1 >>= 1;
    v2 = 2 * (v3 | v2);
  }
  while ( a2 > 0 );
  return v2 >> 1;
}

//----- (1004EAE0) --------------------------------------------------------
int __usercall sub_1004EAE0@<eax>(int result@<eax>)
{
  signed int v1; // edx@1
  char v2; // bl@2
  int v3; // edx@2

  v1 = *(_DWORD *)(result + 2932);
  if ( v1 <= 8 )
  {
    if ( v1 > 0 )
      *(_BYTE *)(*(_DWORD *)(result + 5800) + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
    *(_WORD *)(result + 2924) = 0;
    *(_DWORD *)(result + 2932) = 0;
  }
  else
  {
    *(_BYTE *)(*(_DWORD *)(result + 5800) + *(_DWORD *)(result + 5812)) = *(_BYTE *)(result + 2924);
    v2 = *(_BYTE *)(result + 2925);
    v3 = *(_DWORD *)(result + 5800);
    *(_BYTE *)(++*(_DWORD *)(result + 5812) + v3) = v2;
    ++*(_DWORD *)(result + 5812);
    *(_WORD *)(result + 2924) = 0;
    *(_DWORD *)(result + 2932) = 0;
  }
  return result;
}

//----- (1004EB70) --------------------------------------------------------
int __usercall sub_1004EB70@<eax>(int result@<eax>, int a2, int a3)
{
  int v3; // ebx@1
  unsigned int v4; // ecx@1
  int v5; // ebp@2
  int v6; // esi@2
  int v7; // ecx@2
  int v8; // edi@3
  int v9; // esi@4
  int v10; // edx@4
  int v11; // ecx@4
  int v12; // edx@4
  int v13; // ecx@4
  int v14; // edx@6
  int v15; // edi@7
  int v16; // edx@7
  int v17; // ecx@7
  int v18; // edx@7
  int v19; // edi@9
  int v20; // esi@10
  int v21; // ecx@10
  int v22; // edx@11
  int v23; // ecx@11
  int v24; // edx@11
  int v25; // ecx@11
  unsigned int v26; // ebp@14
  int v27; // edi@15
  int v28; // edx@17
  int v29; // ecx@17
  unsigned __int16 v30; // si@18
  int v31; // edx@18
  int v32; // ecx@18
  int v33; // edx@18
  int v34; // esi@20
  int v35; // ecx@21
  int v36; // ebp@21
  int v37; // edx@22
  int v38; // ecx@22
  int v39; // edx@22
  int v40; // edi@26
  int v41; // ecx@26
  unsigned __int16 v42; // si@27
  int v43; // edx@27
  int v44; // ecx@27
  int v45; // edx@27
  int v46; // [sp+10h] [bp-Ch]@6
  int v47; // [sp+14h] [bp-8h]@6
  int v48; // [sp+14h] [bp-8h]@17
  unsigned int v49; // [sp+18h] [bp-4h]@2

  v3 = a2;
  v4 = 0;
  if ( *(_DWORD *)(result + 5728) )
  {
    do
    {
      v5 = *(_WORD *)(*(_DWORD *)(result + 5712) + 2 * v4);
      v6 = *(_BYTE *)(v4 + *(_DWORD *)(result + 5716));
      v49 = v4 + 1;
      v7 = *(_DWORD *)(result + 2932);
      if ( v5 )
      {
        v14 = (unsigned __int8)byte_100B9570[v6];
        v46 = *(_WORD *)(v3 + 4 * v14 + 1030);
        v47 = (unsigned __int8)byte_100B9570[v6];
        if ( v7 <= 16 - v46 )
        {
          *(_WORD *)(result + 2924) |= *(_WORD *)(a2 + 4 * v14 + 1028) << v7;
          *(_DWORD *)(result + 2932) = v46 + v7;
        }
        else
        {
          v15 = *(_WORD *)(a2 + 4 * v14 + 1028);
          v16 = v15 << v7;
          v17 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v16;
          *(_BYTE *)(v17 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v18 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          LOWORD(v15) = (unsigned __int16)v15 >> (16 - v18);
          *(_DWORD *)(result + 2932) = v18 + v46 - 16;
          v14 = v47;
          *(_WORD *)(result + 2924) = v15;
        }
        v19 = dword_100B8D78[v14];
        v3 = a2;
        if ( v19 )
        {
          v20 = v6 - dword_100B9670[v14];
          v21 = *(_DWORD *)(result + 2932);
          if ( v21 <= 16 - v19 )
          {
            *(_WORD *)(result + 2924) |= v20 << v21;
            v25 = v19 + v21;
          }
          else
          {
            v22 = v20 << v21;
            v23 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v22;
            *(_BYTE *)(v23 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v24 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            v3 = a2;
            v25 = v24 + v19 - 16;
            *(_WORD *)(result + 2924) = (unsigned __int16)v20 >> (16 - v24);
          }
          *(_DWORD *)(result + 2932) = v25;
        }
        v26 = v5 - 1;
        if ( v26 >= 0x100 )
          v27 = (unsigned __int8)byte_100B9470[v26 >> 7];
        else
          v27 = (unsigned __int8)byte_100B9370[v26];
        v28 = *(_WORD *)(a3 + 4 * v27 + 2);
        v29 = *(_DWORD *)(result + 2932);
        v48 = *(_WORD *)(a3 + 4 * v27 + 2);
        if ( v29 <= 16 - v28 )
        {
          *(_WORD *)(result + 2924) |= *(_WORD *)(a3 + 4 * v27) << v29;
          *(_DWORD *)(result + 2932) = v28 + v29;
        }
        else
        {
          v30 = *(_WORD *)(a3 + 4 * v27);
          v31 = *(_WORD *)(a3 + 4 * v27) << v29;
          v32 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v31;
          *(_BYTE *)(v32 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v33 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          v3 = a2;
          *(_DWORD *)(result + 2932) = v33 + v48 - 16;
          *(_WORD *)(result + 2924) = v30 >> (16 - v33);
        }
        v34 = dword_100B8E00[v27];
        if ( !v34 )
          goto LABEL_25;
        v35 = *(_DWORD *)(result + 2932);
        v36 = v26 - dword_100B96E8[v27];
        if ( v35 <= 16 - v34 )
        {
          *(_WORD *)(result + 2924) |= v36 << v35;
          v13 = v34 + v35;
        }
        else
        {
          v37 = v36 << v35;
          v38 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v37;
          *(_BYTE *)(v38 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v39 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          v13 = v39 + v34 - 16;
          *(_WORD *)(result + 2924) = (unsigned __int16)v36 >> (16 - v39);
        }
      }
      else
      {
        v8 = *(_WORD *)(v3 + 4 * v6 + 2);
        if ( v7 <= 16 - v8 )
        {
          *(_WORD *)(result + 2924) |= *(_WORD *)(v3 + 4 * v6) << v7;
          v13 = v8 + v7;
        }
        else
        {
          v9 = *(_WORD *)(v3 + 4 * v6);
          v10 = v9 << v7;
          v11 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v10;
          *(_BYTE *)(v11 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v12 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          v13 = v12 + v8 - 16;
          *(_WORD *)(result + 2924) = (unsigned __int16)v9 >> (16 - v12);
        }
      }
      *(_DWORD *)(result + 2932) = v13;
LABEL_25:
      v4 = v49;
    }
    while ( v49 < *(_DWORD *)(result + 5728) );
  }
  v40 = *(_WORD *)(v3 + 1026);
  v41 = *(_DWORD *)(result + 2932);
  if ( v41 <= 16 - v40 )
  {
    *(_WORD *)(result + 2924) |= *(_WORD *)(v3 + 1024) << v41;
    *(_DWORD *)(result + 2932) = v40 + v41;
    *(_DWORD *)(result + 2928) = *(_WORD *)(v3 + 1026);
  }
  else
  {
    v42 = *(_WORD *)(v3 + 1024);
    v43 = *(_WORD *)(v3 + 1024) << v41;
    v44 = *(_DWORD *)(result + 5800);
    *(_WORD *)(result + 2924) |= v43;
    *(_BYTE *)(v44 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
    *(_BYTE *)(*(_DWORD *)(result + 5800) + *(_DWORD *)(result + 5812)) = *(_BYTE *)(result + 2925);
    v45 = *(_DWORD *)(result + 2932);
    ++*(_DWORD *)(result + 5812);
    *(_DWORD *)(result + 2932) = v45 + v40 - 16;
    *(_WORD *)(result + 2924) = v42 >> (16 - v45);
    *(_DWORD *)(result + 2928) = *(_WORD *)(v3 + 1026);
  }
  return result;
}
// 100B8D78: using guessed type int dword_100B8D78[];
// 100B8E00: using guessed type int dword_100B8E00[];
// 100B9670: using guessed type int dword_100B9670[];
// 100B96E8: using guessed type int dword_100B96E8[];

//----- (1004EFF0) --------------------------------------------------------
int __usercall sub_1004EFF0@<eax>(int a1@<eax>, _BYTE *a2@<edx>, int a3@<ecx>)
{
  int v3; // ebx@1
  _BYTE *v4; // edi@1
  int result; // eax@1
  int v6; // ecx@1
  int v7; // edx@1
  int v8; // edx@1
  int i; // esi@1

  v3 = a3;
  v4 = a2;
  result = sub_1004EAE0(a1);
  v6 = *(_DWORD *)(result + 5812);
  v7 = *(_DWORD *)(result + 5800);
  *(_DWORD *)(result + 2928) = 8;
  *(_BYTE *)(v6 + v7) = v3;
  v8 = *(_DWORD *)(result + 5800);
  *(_BYTE *)(++*(_DWORD *)(result + 5812) + v8) = BYTE1(v3);
  *(_BYTE *)(++*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = ~(_BYTE)v3;
  *(_BYTE *)(++*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = ~BYTE1(v3);
  for ( i = ++*(_DWORD *)(result + 5812); v3; ++v4 )
  {
    *(_BYTE *)(i + *(_DWORD *)(result + 5800)) = *v4;
    i = ++*(_DWORD *)(result + 5812);
    --v3;
  }
  return result;
}

//----- (1004F0A0) --------------------------------------------------------
void *__usercall sub_1004F0A0@<eax>(int a1@<edi>)
{
  void *result; // eax@1
  int v2; // ebx@1
  size_t v3; // esi@1
  bool v4; // zf@4

  result = *(void **)(a1 + 16);
  v2 = *(_DWORD *)(a1 + 24);
  v3 = *(_DWORD *)(v2 + 5812);
  if ( v3 > (unsigned int)result )
    v3 = *(_DWORD *)(a1 + 16);
  if ( v3 )
  {
    result = memcpy(*(void **)(a1 + 12), *(const void **)(v2 + 5808), v3);
    *(_DWORD *)(a1 + 12) += v3;
    *(_DWORD *)(v2 + 5808) += v3;
    *(_DWORD *)(a1 + 20) += v3;
    *(_DWORD *)(a1 + 16) -= v3;
    v4 = *(_DWORD *)(v2 + 5812) == v3;
    *(_DWORD *)(v2 + 5812) -= v3;
    if ( v4 )
      *(_DWORD *)(v2 + 5808) = *(_DWORD *)(v2 + 5800);
  }
  return result;
}

//----- (1004F100) --------------------------------------------------------
int __usercall sub_1004F100@<eax>(int result@<eax>, int a2@<edx>)
{
  int v2; // ecx@1
  int v3; // ebp@1
  int v4; // edi@1
  int v5; // esi@1
  int v6; // esi@1
  int v7; // ecx@1
  int v8; // edx@3
  int v9; // ecx@3
  int v10; // esi@6
  int v11; // ebx@8
  int i; // ecx@13
  int v13; // edx@17
  int v14; // ebx@18
  int v15; // ecx@19
  int v16; // esi@20
  int v17; // [sp+Ch] [bp-20h]@1
  int *v18; // [sp+10h] [bp-1Ch]@2
  int v19; // [sp+10h] [bp-1Ch]@17
  signed int v20; // [sp+14h] [bp-18h]@2
  int v21; // [sp+18h] [bp-14h]@1
  int v22; // [sp+1Ch] [bp-10h]@2
  int v23; // [sp+20h] [bp-Ch]@1
  int v24; // [sp+24h] [bp-8h]@1
  int v25; // [sp+28h] [bp-4h]@1

  v2 = *(_DWORD *)(a2 + 8);
  v3 = *(_DWORD *)a2;
  v24 = *(_DWORD *)(v2 + 8);
  v4 = *(_DWORD *)(v2 + 16);
  v21 = *(_DWORD *)v2;
  v25 = *(_DWORD *)(v2 + 4);
  v5 = *(_DWORD *)(a2 + 4);
  *(_DWORD *)result = 0;
  *(_DWORD *)(result + 4) = 0;
  *(_DWORD *)(result + 8) = 0;
  *(_DWORD *)(result + 12) = 0;
  *(_DWORD *)(result + 16) = 0;
  *(_DWORD *)(result + 20) = 0;
  *(_DWORD *)(result + 24) = 0;
  *(_DWORD *)(result + 28) = 0;
  v23 = v5;
  v6 = 0;
  *(_WORD *)(v3 + 4 * *(_DWORD *)(result + 4 * *(_DWORD *)(result + 2328) + 32) + 2) = 0;
  v7 = *(_DWORD *)(result + 2328) + 1;
  v17 = 0;
  if ( v7 < 573 )
  {
    v18 = (int *)(result + 4 * v7 + 32);
    v22 = 573 - v7;
    v20 = 573;
    do
    {
      v8 = *v18;
      v9 = *(_WORD *)(v3 + 4 * *(_WORD *)(v3 + 4 * *v18 + 2) + 2) + 1;
      if ( v9 > v4 )
      {
        ++v6;
        v9 = v4;
        v17 = v6;
      }
      *(_WORD *)(v3 + 4 * v8 + 2) = v9;
      if ( v8 <= v23 )
      {
        ++*(_WORD *)(result + 2 * v9);
        v10 = 0;
        if ( v8 >= v24 )
          v10 = *(_DWORD *)(v25 + 4 * (v8 - v24));
        v11 = *(_WORD *)(v3 + 4 * v8);
        *(_DWORD *)(result + 2912) += v11 * (v10 + v9);
        if ( v21 )
          *(_DWORD *)(result + 2916) += v11 * (v10 + *(_WORD *)(v21 + 4 * v8 + 2));
        v6 = v17;
      }
      ++v18;
      --v22;
    }
    while ( v22 );
    if ( v6 )
    {
      do
      {
        for ( i = v4 - 1; !*(_WORD *)(result + 2 * i); --i )
          ;
        --*(_WORD *)(result + 2 * i);
        *(_WORD *)(result + 2 * i + 2) += 2;
        --*(_WORD *)(result + 2 * v4);
        v6 -= 2;
      }
      while ( v6 > 0 );
      for ( ; v4; --v4 )
      {
        v13 = *(_WORD *)(result + 2 * v4);
        v19 = *(_WORD *)(result + 2 * v4);
        if ( *(_WORD *)(result + 2 * v4) )
        {
          v14 = result + 4 * v20 + 32;
          do
          {
            v15 = *(_DWORD *)(v14 - 4);
            --v20;
            v14 -= 4;
            if ( v15 <= v23 )
            {
              v16 = *(_WORD *)(v3 + 4 * v15 + 2);
              if ( v16 != v4 )
              {
                *(_DWORD *)(result + 2912) += *(_WORD *)(v3 + 4 * v15) * (v4 - v16);
                *(_WORD *)(v3 + 4 * v15 + 2) = v4;
              }
              v13 = --v19;
            }
          }
          while ( v13 );
        }
      }
    }
  }
  return result;
}

//----- (1004F2D0) --------------------------------------------------------
signed int __usercall sub_1004F2D0@<eax>(int a1@<edx>, int a2@<ebx>, int a3@<edi>)
{
  __int16 v3; // cx@1
  signed int result; // eax@1
  int v5; // edx@1
  int i; // esi@3
  int v7; // edx@4
  unsigned int v8; // ecx@5
  __int16 v9; // [sp+4h] [bp-24h]@2
  char v10; // [sp+6h] [bp-22h]@1

  v3 = 0;
  result = 1;
  v5 = a1 - (_DWORD)&v10;
  do
  {
    v3 = 2 * (v3 + *(__int16 *)((char *)&v9 + 2 * result + v5));
    *(&v9 + result++) = v3;
  }
  while ( result <= 15 );
  for ( i = 0; i <= a2; ++i )
  {
    v7 = *(_WORD *)(a3 + 4 * i + 2);
    if ( *(_WORD *)(a3 + 4 * i + 2) )
    {
      v8 = (unsigned __int16)(*(&v9 + v7))++;
      result = sub_1004EAC0(v8, v7);
      *(_WORD *)(a3 + 4 * i) = result;
    }
  }
  return result;
}

//----- (1004F350) --------------------------------------------------------
_WORD *__fastcall sub_1004F350(int a1, int a2)
{
  _WORD *v2; // eax@1
  signed int v3; // ecx@1
  _WORD *v4; // eax@3
  signed int v5; // ecx@3
  _WORD *result; // eax@5
  signed int v7; // ecx@5

  v2 = (_WORD *)(a2 + 2936);
  v3 = 286;
  do
  {
    *v2 = 0;
    v2 += 2;
    --v3;
  }
  while ( v3 );
  v4 = (_WORD *)(a2 + 5228);
  v5 = 30;
  do
  {
    *v4 = 0;
    v4 += 2;
    --v5;
  }
  while ( v5 );
  result = (_WORD *)(a2 + 5472);
  v7 = 19;
  do
  {
    *result = 0;
    result += 2;
    --v7;
  }
  while ( v7 );
  *(_DWORD *)(a2 + 2916) = 0;
  *(_DWORD *)(a2 + 2912) = 0;
  *(_DWORD *)(a2 + 2920) = 0;
  *(_DWORD *)(a2 + 5728) = 0;
  *(_WORD *)(a2 + 3960) = 1;
  return result;
}

//----- (1004F3C0) --------------------------------------------------------
signed int __usercall sub_1004F3C0@<eax>(int a1@<esi>)
{
  int v1; // ecx@1
  int v2; // edx@1
  int v3; // eax@1
  int v4; // edx@1
  signed int result; // eax@1

  v1 = *(_DWORD *)(a1 + 5764);
  v2 = *(_DWORD *)(a1 + 5736);
  *(_DWORD *)(a1 + 5744) = 2 * *(_DWORD *)(a1 + 5748);
  *(_WORD *)(v2 + 2 * v1 - 2) = 0;
  memset(*(void **)(a1 + 5736), 0, 2 * *(_DWORD *)(a1 + 5764) - 2);
  v3 = 6 * *(_BYTE *)(a1 + 5784);
  *(_DWORD *)(a1 + 5700) = (unsigned __int16)word_100B9762[6 * *(_BYTE *)(a1 + 5784)];
  *(_DWORD *)(a1 + 5704) = (unsigned __int16)word_100B9760[v3];
  *(_DWORD *)(a1 + 5708) = (unsigned __int16)word_100B9764[v3];
  v4 = (unsigned __int16)word_100B9766[v3];
  result = 2;
  *(_DWORD *)(a1 + 5680) = 0;
  *(_DWORD *)(a1 + 5664) = 0;
  *(_DWORD *)(a1 + 5688) = 0;
  *(_DWORD *)(a1 + 5676) = 0;
  *(_DWORD *)(a1 + 5760) = 0;
  *(_DWORD *)(a1 + 5696) = v4;
  *(_DWORD *)(a1 + 5692) = 2;
  *(_DWORD *)(a1 + 5668) = 2;
  return result;
}
// 100B9760: using guessed type __int16 word_100B9760[];
// 100B9762: using guessed type __int16 word_100B9762[];
// 100B9764: using guessed type __int16 word_100B9764[];
// 100B9766: using guessed type __int16 word_100B9766[];

//----- (1004F480) --------------------------------------------------------
unsigned int __usercall sub_1004F480@<eax>(int a1@<esi>, unsigned int a2)
{
  int v2; // edx@1
  unsigned int v3; // ecx@1
  unsigned int v4; // ebp@1
  unsigned int v5; // edi@1
  int v6; // ecx@4
  unsigned int v7; // ebx@4
  int v8; // edx@8
  char v9; // al@11
  int v10; // edx@11
  unsigned int v11; // ecx@12
  _BYTE *v12; // edx@12
  char v13; // al@13
  _BYTE *v14; // edx@13
  char v15; // al@14
  _BYTE *v16; // edx@14
  char v17; // al@15
  _BYTE *v18; // edx@15
  char v19; // al@16
  _BYTE *v20; // edx@16
  char v21; // al@17
  _BYTE *v22; // edx@17
  char v23; // al@18
  _BYTE *v24; // edx@18
  char v25; // al@19
  _BYTE *v26; // edx@19
  char v27; // al@20
  int v28; // edx@22
  unsigned int result; // eax@27
  char v30; // [sp+Fh] [bp-11h]@4
  unsigned int v31; // [sp+10h] [bp-10h]@1
  int v32; // [sp+14h] [bp-Ch]@4
  unsigned int v33; // [sp+18h] [bp-8h]@2
  char v34; // [sp+24h] [bp+4h]@4

  v2 = *(_DWORD *)(a1 + 5748);
  v3 = *(_DWORD *)(a1 + 5680);
  v4 = a2;
  v31 = *(_DWORD *)(a1 + 5696);
  v5 = *(_DWORD *)(a1 + 5692);
  if ( v3 <= v2 - 262 )
    v33 = 0;
  else
    v33 = v3 - v2 + 262;
  v6 = *(_DWORD *)(a1 + 5740) + v3;
  v34 = *(_BYTE *)(v6 + v5 - 1);
  v32 = *(_DWORD *)(a1 + 5708);
  v7 = v6 + 258;
  v30 = *(_BYTE *)(v6 + v5);
  if ( v5 >= *(_DWORD *)(a1 + 5704) )
    v31 >>= 2;
  if ( *(_DWORD *)(a1 + 5708) > *(_DWORD *)(a1 + 5688) )
    v32 = *(_DWORD *)(a1 + 5688);
  do
  {
    v8 = v4 + *(_DWORD *)(a1 + 5740);
    if ( *(_BYTE *)(v8 + v5) == v30 && *(_BYTE *)(v8 + v5 - 1) == v34 && *(_BYTE *)v8 == *(_BYTE *)v6 )
    {
      v9 = *(_BYTE *)(v8 + 1);
      v10 = v8 + 1;
      if ( v9 == *(_BYTE *)(v6 + 1) )
      {
        v11 = v6 + 2;
        v12 = (_BYTE *)(v10 + 1);
        do
        {
          v13 = *(_BYTE *)(v11++ + 1);
          v14 = v12 + 1;
          if ( v13 != *v14 )
            break;
          v15 = *(_BYTE *)(v11++ + 1);
          v16 = v14 + 1;
          if ( v15 != *v16 )
            break;
          v17 = *(_BYTE *)(v11++ + 1);
          v18 = v16 + 1;
          if ( v17 != *v18 )
            break;
          v19 = *(_BYTE *)(v11++ + 1);
          v20 = v18 + 1;
          if ( v19 != *v20 )
            break;
          v21 = *(_BYTE *)(v11++ + 1);
          v22 = v20 + 1;
          if ( v21 != *v22 )
            break;
          v23 = *(_BYTE *)(v11++ + 1);
          v24 = v22 + 1;
          if ( v23 != *v24 )
            break;
          v25 = *(_BYTE *)(v11++ + 1);
          v26 = v24 + 1;
          if ( v25 != *v26 )
            break;
          v27 = *(_BYTE *)(v11++ + 1);
          v12 = v26 + 1;
          if ( v27 != *v12 )
            break;
        }
        while ( v11 < v7 );
        v28 = v11 - v7 + 258;
        v6 = v7 - 258;
        if ( v28 > (signed int)v5 )
        {
          *(_DWORD *)(a1 + 5684) = v4;
          v5 = v28;
          if ( v28 >= v32 )
            break;
          v34 = *(_BYTE *)(v28 + v6 - 1);
          v30 = *(_BYTE *)(v28 + v6);
        }
      }
    }
    v4 = *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (v4 & *(_DWORD *)(a1 + 5756)));
    if ( v4 <= v33 )
      break;
    --v31;
  }
  while ( v31 );
  result = *(_DWORD *)(a1 + 5688);
  if ( v5 <= result )
    result = v5;
  return result;
}

//----- (1004F630) --------------------------------------------------------
unsigned int __usercall sub_1004F630@<eax>(int a1@<esi>, int a2)
{
  int v2; // ecx@1
  char v3; // dl@1
  int v4; // eax@1
  int v5; // ecx@1
  unsigned int v6; // edi@1
  unsigned int v7; // eax@3
  _BYTE *v8; // ecx@3
  char v9; // dl@4
  _BYTE *v10; // ecx@4
  char v11; // dl@5
  _BYTE *v12; // ecx@5
  char v13; // dl@6
  _BYTE *v14; // ecx@6
  char v15; // dl@7
  _BYTE *v16; // ecx@7
  char v17; // dl@8
  _BYTE *v18; // ecx@8
  char v19; // dl@9
  _BYTE *v20; // ecx@9
  char v21; // dl@10
  _BYTE *v22; // ecx@10
  char v23; // dl@11
  unsigned int v24; // ecx@13
  unsigned int result; // eax@13

  v2 = *(_DWORD *)(a1 + 5740);
  v3 = *(_BYTE *)(v2 + a2);
  v4 = v2 + *(_DWORD *)(a1 + 5680);
  v5 = a2 + v2;
  v6 = v4 + 258;
  if ( v3 != *(_BYTE *)v4 || *(_BYTE *)(v5 + 1) != *(_BYTE *)(v4 + 1) )
  {
    result = 2;
  }
  else
  {
    v7 = v4 + 2;
    v8 = (_BYTE *)(v5 + 2);
    do
    {
      v9 = *(_BYTE *)(v7++ + 1);
      v10 = v8 + 1;
      if ( v9 != *v10 )
        break;
      v11 = *(_BYTE *)(v7++ + 1);
      v12 = v10 + 1;
      if ( v11 != *v12 )
        break;
      v13 = *(_BYTE *)(v7++ + 1);
      v14 = v12 + 1;
      if ( v13 != *v14 )
        break;
      v15 = *(_BYTE *)(v7++ + 1);
      v16 = v14 + 1;
      if ( v15 != *v16 )
        break;
      v17 = *(_BYTE *)(v7++ + 1);
      v18 = v16 + 1;
      if ( v17 != *v18 )
        break;
      v19 = *(_BYTE *)(v7++ + 1);
      v20 = v18 + 1;
      if ( v19 != *v20 )
        break;
      v21 = *(_BYTE *)(v7++ + 1);
      v22 = v20 + 1;
      if ( v21 != *v22 )
        break;
      v23 = *(_BYTE *)(v7++ + 1);
      v8 = v22 + 1;
      if ( v23 != *v8 )
        break;
    }
    while ( v7 < v6 );
    v24 = *(_DWORD *)(a1 + 5688);
    result = v7 - v6 + 258;
    *(_DWORD *)(a1 + 5684) = a2;
    if ( result > v24 )
      result = v24;
  }
  return result;
}

//----- (1004F700) --------------------------------------------------------
int __usercall sub_1004F700@<eax>(int result@<eax>, int a2@<edi>, int a3)
{
  int v3; // edx@1
  int v4; // ebp@1
  int v5; // ecx@1
  bool v6; // sf@1
  unsigned __int8 v7; // of@1
  int v8; // esi@3
  int v9; // ebp@3
  unsigned __int16 v10; // dx@3
  unsigned __int16 v11; // bx@3
  int v12; // esi@8
  unsigned __int16 v13; // dx@8
  unsigned __int16 v14; // bx@8
  int v15; // edx@11
  int v16; // [sp+8h] [bp-4h]@1

  v3 = *(_DWORD *)(result + 2324);
  v4 = *(_DWORD *)(result + 4 * a3 + 32);
  v5 = 2 * a3;
  v7 = __OFSUB__(2 * a3, v3);
  v6 = 2 * a3 - v3 < 0;
  v16 = *(_DWORD *)(result + 4 * a3 + 32);
  if ( 2 * a3 > v3 )
  {
    *(_DWORD *)(result + 4 * a3 + 32) = v4;
  }
  else
  {
    while ( 1 )
    {
      if ( v6 ^ v7 )
      {
        v8 = *(_DWORD *)(result + 4 * v5 + 36);
        v9 = *(_DWORD *)(result + 4 * v5 + 32);
        v10 = *(_WORD *)(a2 + 4 * v8);
        v11 = *(_WORD *)(a2 + 4 * v9);
        if ( v10 < v11 || v10 == v11 && *(_BYTE *)(v8 + result + 2332) <= *(_BYTE *)(result + v9 + 2332) )
          ++v5;
        v4 = v16;
      }
      v12 = *(_DWORD *)(result + 4 * v5 + 32);
      v13 = *(_WORD *)(a2 + 4 * v4);
      v14 = *(_WORD *)(a2 + 4 * v12);
      if ( v13 < v14 )
      {
LABEL_12:
        *(_DWORD *)(result + 4 * a3 + 32) = v4;
        return result;
      }
      if ( v13 == v14 && *(_BYTE *)(result + v4 + 2332) <= *(_BYTE *)(v12 + result + 2332) )
        break;
      *(_DWORD *)(result + 4 * a3 + 32) = v12;
      v15 = *(_DWORD *)(result + 2324);
      a3 = v5;
      v5 *= 2;
      v7 = __OFSUB__(v5, v15);
      v6 = v5 - v15 < 0;
      if ( v5 > v15 )
        goto LABEL_12;
    }
    *(_DWORD *)(result + 4 * a3 + 32) = v4;
  }
  return result;
}

//----- (1004F7B0) --------------------------------------------------------
int __usercall sub_1004F7B0@<eax>(int result@<eax>, __int16 a2@<cx>)
{
  int v2; // edi@1

  *(_BYTE *)(*(_DWORD *)(result + 5800) + *(_DWORD *)(result + 5812)) = HIBYTE(a2);
  v2 = *(_DWORD *)(result + 5800);
  *(_BYTE *)(++*(_DWORD *)(result + 5812) + v2) = a2;
  ++*(_DWORD *)(result + 5812);
  return result;
}

//----- (1004F7F0) --------------------------------------------------------
unsigned int __usercall sub_1004F7F0@<eax>(unsigned int a1@<edx>, int a2@<esi>, void *a3)
{
  int v3; // ecx@1
  unsigned int v4; // edi@1
  unsigned int result; // eax@4

  v3 = *(_DWORD *)(a2 + 24);
  v4 = *(_DWORD *)(a2 + 4);
  if ( v4 > a1 )
    v4 = a1;
  if ( v4 )
  {
    *(_DWORD *)(a2 + 4) -= v4;
    if ( *(_DWORD *)(v3 + 5780) == 1 )
      *(_DWORD *)(a2 + 28) = sub_10004DC0(*(_DWORD *)(a2 + 28), *(_BYTE **)a2, v4);
    memcpy(a3, *(const void **)a2, v4);
    *(_DWORD *)a2 += v4;
    *(_DWORD *)(a2 + 8) += v4;
    result = v4;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1004F850) --------------------------------------------------------
signed int __usercall sub_1004F850@<eax>(signed int result@<eax>, int a2@<ecx>, int a3)
{
  signed int v3; // edi@1
  signed int v4; // edx@1
  signed int v5; // ebp@1
  int v6; // ebx@1
  signed int v7; // ecx@1
  signed int v8; // esi@1
  _WORD *v9; // [sp+10h] [bp-8h]@4
  int v10; // [sp+14h] [bp-4h]@4

  v3 = *(_WORD *)(result + 2);
  v4 = 0;
  v5 = -1;
  v6 = a2;
  v7 = 7;
  v8 = 4;
  if ( !*(_WORD *)(result + 2) )
  {
    v7 = 138;
    v8 = 3;
  }
  *(_WORD *)(result + 4 * v6 + 6) = -1;
  if ( v6 >= 0 )
  {
    v10 = v6 + 1;
    v9 = (_WORD *)(result + 6);
    do
    {
      result = v3;
      v3 = *v9;
      if ( ++v4 >= v7 || result != v3 )
      {
        if ( v4 >= v8 )
        {
          if ( result )
          {
            if ( result != v5 )
              ++*(_WORD *)(a3 + 4 * result + 5472);
            ++*(_WORD *)(a3 + 5536);
          }
          else if ( v4 > 10 )
          {
            ++*(_WORD *)(a3 + 5544);
          }
          else
          {
            ++*(_WORD *)(a3 + 5540);
          }
        }
        else
        {
          *(_WORD *)(a3 + 4 * result + 5472) += v4;
        }
        v4 = 0;
        v5 = result;
        if ( v3 )
        {
          if ( result == v3 )
          {
            v7 = 6;
            v8 = 3;
          }
          else
          {
            v7 = 7;
            v8 = 4;
          }
        }
        else
        {
          v7 = 138;
          v8 = 3;
        }
      }
      v9 += 2;
      --v10;
    }
    while ( v10 );
  }
  return result;
}

//----- (1004F930) --------------------------------------------------------
int __usercall sub_1004F930@<eax>(int result@<eax>, int a2@<edx>, int a3@<ecx>)
{
  signed int v3; // esi@1
  int v4; // ebx@1
  signed int v5; // ecx@1
  signed int v6; // edi@1
  signed int v7; // edx@5
  int v8; // edi@8
  int v9; // ecx@8
  unsigned __int16 v10; // si@9
  int v11; // edx@9
  int v12; // ecx@9
  int v13; // edx@9
  __int16 v14; // si@9
  int v15; // ecx@9
  int v16; // ecx@15
  unsigned __int16 v17; // si@16
  int v18; // edi@16
  int v19; // ecx@16
  int v20; // ebx@16
  int v21; // ecx@16
  int v22; // ecx@19
  unsigned __int16 v23; // si@20
  int v24; // edi@20
  int v25; // ecx@20
  int v26; // ebx@20
  int v27; // ecx@20
  int v28; // esi@22
  int v29; // edi@23
  int v30; // ecx@23
  int v31; // ebx@23
  int v32; // ecx@24
  int v33; // ecx@25
  unsigned __int16 v34; // si@27
  int v35; // edi@27
  int v36; // ecx@27
  int v37; // ebx@27
  int v38; // ecx@27
  int v39; // esi@29
  int v40; // edi@30
  int v41; // ecx@30
  int v42; // ebx@30
  unsigned __int16 v43; // si@33
  int v44; // edi@33
  int v45; // ecx@33
  int v46; // ebx@33
  int v47; // ecx@33
  int v48; // esi@35
  int v49; // edi@36
  int v50; // ecx@36
  int v51; // ebx@36
  signed int v52; // [sp+10h] [bp-18h]@5
  signed int v53; // [sp+14h] [bp-14h]@1
  _WORD *v54; // [sp+18h] [bp-10h]@4
  signed int v55; // [sp+1Ch] [bp-Ch]@1
  int v56; // [sp+1Ch] [bp-Ch]@15
  int v57; // [sp+1Ch] [bp-Ch]@19
  int v58; // [sp+1Ch] [bp-Ch]@26
  int v59; // [sp+1Ch] [bp-Ch]@32
  int v60; // [sp+20h] [bp-8h]@4
  signed int v61; // [sp+24h] [bp-4h]@5

  v3 = 0;
  v4 = a3;
  v5 = 7;
  v6 = 4;
  v53 = *(_WORD *)(a2 + 2);
  v55 = -1;
  if ( !*(_WORD *)(a2 + 2) )
  {
    v5 = 138;
    v6 = 3;
  }
  if ( v4 >= 0 )
  {
    v54 = (_WORD *)(a2 + 6);
    v60 = v4 + 1;
    do
    {
      v7 = v53;
      ++v3;
      v61 = v53;
      v53 = *v54;
      v52 = v3;
      if ( v3 < v5 && v7 == *v54 )
        goto LABEL_44;
      if ( v3 < v6 )
      {
        do
        {
          v8 = *(_WORD *)(result + 4 * v7 + 5474);
          v9 = *(_DWORD *)(result + 2932);
          if ( v9 <= 16 - v8 )
          {
            *(_WORD *)(result + 2924) |= *(_WORD *)(result + 4 * v7 + 5472) << v9;
            v15 = v8 + v9;
          }
          else
          {
            v10 = *(_WORD *)(result + 4 * v7 + 5472);
            v11 = *(_WORD *)(result + 4 * v7 + 5472) << v9;
            v12 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v11;
            *(_BYTE *)(v12 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v13 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            v14 = v10 >> (16 - v13);
            v15 = v13 + v8 - 16;
            v7 = v61;
            *(_WORD *)(result + 2924) = v14;
            v3 = v52;
          }
          --v3;
          *(_DWORD *)(result + 2932) = v15;
          v52 = v3;
        }
        while ( v3 );
        goto LABEL_39;
      }
      if ( v7 )
      {
        if ( v7 != v55 )
        {
          v16 = *(_DWORD *)(result + 2932);
          v56 = *(_WORD *)(result + 4 * v7 + 5474);
          if ( v16 <= 16 - v56 )
          {
            *(_WORD *)(result + 2924) |= *(_WORD *)(result + 4 * v7 + 5472) << v16;
            v21 = v56 + v16;
          }
          else
          {
            v17 = *(_WORD *)(result + 4 * v7 + 5472);
            v18 = *(_WORD *)(result + 4 * v7 + 5472) << v16;
            v19 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v18;
            *(_BYTE *)(v19 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v20 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            v21 = v20 + v56 - 16;
            *(_WORD *)(result + 2924) = v17 >> (16 - v20);
            v3 = v52;
          }
          --v3;
          *(_DWORD *)(result + 2932) = v21;
          v52 = v3;
        }
        v22 = *(_DWORD *)(result + 2932);
        v57 = *(_WORD *)(result + 5538);
        if ( v22 <= 16 - v57 )
        {
          *(_WORD *)(result + 2924) |= *(_WORD *)(result + 5536) << v22;
          v27 = v57 + v22;
        }
        else
        {
          v23 = *(_WORD *)(result + 5536);
          v24 = *(_WORD *)(result + 5536) << v22;
          v25 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v24;
          *(_BYTE *)(v25 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v26 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          v27 = v26 + v57 - 16;
          *(_WORD *)(result + 2924) = v23 >> (16 - v26);
          v3 = v52;
        }
        v28 = v3 - 3;
        *(_DWORD *)(result + 2932) = v27;
        if ( v27 > 14 )
        {
          v29 = v28 << v27;
          v30 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v29;
          *(_BYTE *)(v30 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v31 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          *(_DWORD *)(result + 2932) = v31 - 14;
          *(_WORD *)(result + 2924) = (unsigned __int16)v28 >> (16 - v31);
          goto LABEL_39;
        }
        *(_WORD *)(result + 2924) |= v28 << v27;
        v32 = v27 + 2;
      }
      else
      {
        v33 = *(_DWORD *)(result + 2932);
        if ( v3 > 10 )
        {
          v59 = *(_WORD *)(result + 5546);
          if ( v33 <= 16 - v59 )
          {
            *(_WORD *)(result + 2924) |= *(_WORD *)(result + 5544) << v33;
            v47 = v59 + v33;
          }
          else
          {
            v43 = *(_WORD *)(result + 5544);
            v44 = *(_WORD *)(result + 5544) << v33;
            v45 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v44;
            *(_BYTE *)(v45 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v46 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            v47 = v46 + v59 - 16;
            *(_WORD *)(result + 2924) = v43 >> (16 - v46);
            v3 = v52;
          }
          v48 = v3 - 11;
          *(_DWORD *)(result + 2932) = v47;
          if ( v47 > 9 )
          {
            v49 = v48 << v47;
            v50 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v49;
            *(_BYTE *)(v50 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v51 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            *(_DWORD *)(result + 2932) = v51 - 9;
            *(_WORD *)(result + 2924) = (unsigned __int16)v48 >> (16 - v51);
            goto LABEL_39;
          }
          *(_WORD *)(result + 2924) |= v48 << v47;
          v32 = v47 + 7;
        }
        else
        {
          v58 = *(_WORD *)(result + 5542);
          if ( v33 <= 16 - v58 )
          {
            *(_WORD *)(result + 2924) |= *(_WORD *)(result + 5540) << v33;
            v38 = v58 + v33;
          }
          else
          {
            v34 = *(_WORD *)(result + 5540);
            v35 = *(_WORD *)(result + 5540) << v33;
            v36 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v35;
            *(_BYTE *)(v36 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v37 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            v38 = v37 + v58 - 16;
            *(_WORD *)(result + 2924) = v34 >> (16 - v37);
            v3 = v52;
          }
          v39 = v3 - 3;
          *(_DWORD *)(result + 2932) = v38;
          if ( v38 > 13 )
          {
            v40 = v39 << v38;
            v41 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v40;
            *(_BYTE *)(v41 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v42 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            *(_DWORD *)(result + 2932) = v42 - 13;
            *(_WORD *)(result + 2924) = (unsigned __int16)v39 >> (16 - v42);
            goto LABEL_39;
          }
          *(_WORD *)(result + 2924) |= v39 << v38;
          v32 = v38 + 3;
        }
      }
      *(_DWORD *)(result + 2932) = v32;
LABEL_39:
      v3 = 0;
      v55 = v7;
      if ( v53 )
      {
        if ( v7 == v53 )
        {
          v5 = 6;
          v6 = 3;
        }
        else
        {
          v5 = 7;
          v6 = 4;
        }
      }
      else
      {
        v5 = 138;
        v6 = 3;
      }
LABEL_44:
      v54 += 2;
      --v60;
    }
    while ( v60 );
  }
  return result;
}

//----- (1004FED0) --------------------------------------------------------
_WORD *__fastcall sub_1004FED0(int a1, int a2)
{
  *(_DWORD *)(a2 + 5628) = a2 + 2936;
  *(_DWORD *)(a2 + 5652) = a2 + 5472;
  *(_DWORD *)(a2 + 5636) = &off_100B9914;
  *(_DWORD *)(a2 + 5640) = a2 + 5228;
  *(_DWORD *)(a2 + 5648) = &off_100B9928;
  *(_DWORD *)(a2 + 5660) = &unk_100B993C;
  *(_WORD *)(a2 + 2924) = 0;
  *(_DWORD *)(a2 + 2932) = 0;
  *(_DWORD *)(a2 + 2928) = 8;
  return sub_1004F350(a2 + 5228, a2);
}
// 100B9914: using guessed type void *off_100B9914;
// 100B9928: using guessed type void *off_100B9928;

//----- (1004FF30) --------------------------------------------------------
signed int __cdecl sub_1004FF30(int a1)
{
  int v1; // esi@2
  int v2; // eax@3
  int v3; // ecx@5
  signed int result; // eax@5

  if ( a1 && (v1 = *(_DWORD *)(a1 + 24)) != 0 )
  {
    *(_DWORD *)(a1 + 8) = 0;
    *(_DWORD *)(a1 + 20) = 0;
    *(_DWORD *)(v1 + 5808) = *(_DWORD *)(v1 + 5800);
    v2 = *(_DWORD *)(v1 + 5780);
    *(_DWORD *)(v1 + 5812) = 0;
    if ( v2 < 0 )
      *(_DWORD *)(v1 + 5780) = -v2;
    *(_DWORD *)(v1 + 5788) = *(_DWORD *)(v1 + 5780) != 0 ? 42 : 113;
    *(_DWORD *)(a1 + 28) = sub_10004DC0(0, 0, 0);
    *(_DWORD *)(v1 + 5792) = 0;
    sub_1004FED0(v3, v1);
    sub_1004F3C0(v1);
    result = 0;
  }
  else
  {
    result = -2;
  }
  return result;
}

//----- (1004FFC0) --------------------------------------------------------
int __usercall sub_1004FFC0@<eax>(int a1@<eax>)
{
  signed int v1; // ecx@1
  int v2; // edx@2
  signed int v3; // ecx@4
  int v4; // edx@5
  int result; // eax@7
  signed int v6; // ecx@7
  int v7; // edx@9
  signed int v8; // ecx@11
  int v9; // edx@12

  v1 = *(_DWORD *)(a1 + 2932);
  *(_WORD *)(a1 + 2924) |= 2 << v1;
  if ( v1 <= 13 )
  {
    *(_DWORD *)(a1 + 2932) = v1 + 3;
  }
  else
  {
    *(_BYTE *)(*(_DWORD *)(a1 + 5800) + (*(_DWORD *)(a1 + 5812))++) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v2 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    *(_DWORD *)(a1 + 2932) = v2 - 13;
    *(_WORD *)(a1 + 2924) = 2u >> (16 - v2);
  }
  v3 = *(_DWORD *)(a1 + 2932);
  *(_WORD *)(a1 + 2924) = *(_WORD *)(a1 + 2924);
  if ( v3 <= 9 )
  {
    *(_DWORD *)(a1 + 2932) = v3 + 7;
  }
  else
  {
    *(_BYTE *)(*(_DWORD *)(a1 + 5800) + (*(_DWORD *)(a1 + 5812))++) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v4 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    *(_DWORD *)(a1 + 2932) = v4 - 9;
    *(_WORD *)(a1 + 2924) = 0;
  }
  result = sub_1004EA30(a1);
  v6 = *(_DWORD *)(result + 2932);
  if ( *(_DWORD *)(result + 2928) - v6 + 11 < 9 )
  {
    *(_WORD *)(result + 2924) |= 2 << v6;
    if ( v6 <= 13 )
    {
      *(_DWORD *)(result + 2932) = v6 + 3;
    }
    else
    {
      *(_BYTE *)(*(_DWORD *)(result + 5800) + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
      *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
      v7 = *(_DWORD *)(result + 2932);
      ++*(_DWORD *)(result + 5812);
      *(_DWORD *)(result + 2932) = v7 - 13;
      *(_WORD *)(result + 2924) = 2u >> (16 - v7);
    }
    v8 = *(_DWORD *)(result + 2932);
    *(_WORD *)(result + 2924) = *(_WORD *)(result + 2924);
    if ( v8 > 9 )
    {
      *(_BYTE *)(*(_DWORD *)(result + 5800) + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
      *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
      v9 = *(_DWORD *)(result + 2932);
      ++*(_DWORD *)(result + 5812);
      *(_DWORD *)(result + 2932) = v9 - 9;
      *(_WORD *)(result + 2924) = 0;
      result = sub_1004EA30(result);
      *(_DWORD *)(result + 2928) = 7;
      return result;
    }
    *(_DWORD *)(result + 2932) = v8 + 7;
    result = sub_1004EA30(result);
  }
  *(_DWORD *)(result + 2928) = 7;
  return result;
}

//----- (10050200) --------------------------------------------------------
int __usercall sub_10050200@<eax>(int a1@<eax>, int a2@<ecx>, _BYTE *a3, int a4)
{
  int v4; // esi@1
  signed int v5; // ecx@1
  int v6; // edx@2
  int v7; // ecx@2
  int v8; // edx@2
  int result; // eax@2

  v4 = a2;
  v5 = *(_DWORD *)(a1 + 2932);
  if ( v5 <= 13 )
  {
    *(_WORD *)(a1 + 2924) |= v4 << v5;
    *(_DWORD *)(a1 + 2932) = v5 + 3;
    result = sub_1004EFF0(a1, a3, a4);
  }
  else
  {
    v6 = v4 << v5;
    v7 = *(_DWORD *)(a1 + 5800);
    *(_WORD *)(a1 + 2924) |= v6;
    *(_BYTE *)(v7 + (*(_DWORD *)(a1 + 5812))++) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v8 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    *(_WORD *)(a1 + 2924) = (unsigned __int16)v4 >> (16 - v8);
    *(_DWORD *)(a1 + 2932) = v8 - 13;
    result = sub_1004EFF0(a1, a3, a4);
  }
  return result;
}

//----- (100502A0) --------------------------------------------------------
signed int __usercall sub_100502A0@<eax>(int a1@<esi>, int a2)
{
  int v2; // eax@1
  int v3; // ebp@1
  signed int v4; // ebx@1
  int v5; // edi@1
  int v6; // eax@1
  signed int v7; // eax@8
  signed int i; // ebp@14
  int v9; // ebx@16
  int v10; // eax@17
  int v11; // edx@17
  int v12; // ebp@17
  int v13; // eax@17
  unsigned __int8 v14; // cl@17
  int v16; // [sp+Ch] [bp-8h]@1
  int v17; // [sp+10h] [bp-4h]@1

  v2 = *(_DWORD *)(a2 + 8);
  v3 = *(_DWORD *)v2;
  v17 = *(_DWORD *)(v2 + 12);
  v4 = -1;
  v5 = *(_DWORD *)a2;
  v6 = 0;
  v16 = -1;
  *(_DWORD *)(a1 + 2324) = 0;
  for ( *(_DWORD *)(a1 + 2328) = 573; v6 < v17; ++v6 )
  {
    if ( *(_WORD *)(v5 + 4 * v6) )
    {
      *(_DWORD *)(a1 + 4 * ++*(_DWORD *)(a1 + 2324) + 32) = v6;
      v16 = v6;
      *(_BYTE *)(v6 + a1 + 2332) = 0;
      v4 = v6;
    }
    else
    {
      *(_WORD *)(v5 + 4 * v6 + 2) = 0;
    }
  }
  if ( *(_DWORD *)(a1 + 2324) < 2 )
  {
    do
    {
      if ( v4 >= 2 )
        v7 = 0;
      else
        v7 = ++v4;
      *(_DWORD *)(a1 + 4 * ++*(_DWORD *)(a1 + 2324) + 32) = v7;
      *(_WORD *)(v5 + 4 * v7) = 1;
      *(_BYTE *)(a1 + v7 + 2332) = 0;
      --*(_DWORD *)(a1 + 2912);
      if ( v3 )
        *(_DWORD *)(a1 + 2916) -= *(_WORD *)(v3 + 4 * v7 + 2);
    }
    while ( *(_DWORD *)(a1 + 2324) < 2 );
    v16 = v4;
  }
  *(_DWORD *)(a2 + 4) = v4;
  for ( i = *(_DWORD *)(a1 + 2324) / 2; i >= 1; --i )
    sub_1004F700(a1, v5, i);
  v9 = v17;
  do
  {
    v10 = *(_DWORD *)(a1 + 2324);
    v11 = *(_DWORD *)(a1 + 4 * v10 + 32);
    v12 = *(_DWORD *)(a1 + 36);
    *(_DWORD *)(a1 + 2324) = v10 - 1;
    *(_DWORD *)(a1 + 36) = v11;
    sub_1004F700(a1, v5, 1);
    v13 = *(_DWORD *)(a1 + 36);
    *(_DWORD *)(a1 + 4 * --*(_DWORD *)(a1 + 2328) + 32) = v12;
    *(_DWORD *)(a1 + 4 * --*(_DWORD *)(a1 + 2328) + 32) = v13;
    *(_WORD *)(v5 + 4 * v9) = *(_WORD *)(v5 + 4 * v12) + *(_WORD *)(v5 + 4 * v13);
    v14 = *(_BYTE *)(a1 + v13 + 2332);
    if ( *(_BYTE *)(a1 + v12 + 2332) >= v14 )
      v14 = *(_BYTE *)(a1 + v12 + 2332);
    *(_BYTE *)(a1 + v9 + 2332) = v14 + 1;
    *(_WORD *)(v5 + 4 * v13 + 2) = v9;
    *(_WORD *)(v5 + 4 * v12 + 2) = v9;
    *(_DWORD *)(a1 + 36) = v9++;
    sub_1004F700(a1, v5, 1);
  }
  while ( *(_DWORD *)(a1 + 2324) >= 2 );
  *(_DWORD *)(a1 + 4 * --*(_DWORD *)(a1 + 2328) + 32) = *(_DWORD *)(a1 + 36);
  sub_1004F100(a1, a2);
  return sub_1004F2D0(a1, v16, v5);
}

//----- (10050480) --------------------------------------------------------
unsigned int __usercall sub_10050480@<eax>(int a1@<edi>)
{
  size_t v1; // ebx@1
  unsigned int result; // eax@2
  unsigned int v3; // ebp@2
  int v4; // edx@3
  int v5; // eax@3
  _WORD *v6; // ecx@3
  int v7; // eax@4
  __int16 v8; // ax@5
  size_t v9; // edx@8
  _WORD *v10; // ecx@8
  int v11; // eax@9
  int v12; // esi@14
  unsigned int v13; // edx@15
  int v14; // esi@16
  int v15; // eax@16
  int v16; // ecx@16

  v1 = *(_DWORD *)(a1 + 5748);
  do
  {
    result = *(_DWORD *)(a1 + 5680);
    v3 = *(_DWORD *)(a1 + 5744) - result - *(_DWORD *)(a1 + 5688);
    if ( result >= v1 + *(_DWORD *)(a1 + 5748) - 262 )
    {
      memcpy(*(void **)(a1 + 5740), (const void *)(*(_DWORD *)(a1 + 5740) + v1), v1);
      v4 = *(_DWORD *)(a1 + 5764);
      v5 = *(_DWORD *)(a1 + 5736);
      *(_DWORD *)(a1 + 5684) -= v1;
      *(_DWORD *)(a1 + 5680) -= v1;
      *(_DWORD *)(a1 + 5664) -= v1;
      v6 = (_WORD *)(v5 + 2 * v4);
      do
      {
        v7 = *(v6 - 1);
        --v6;
        if ( v7 < v1 )
          v8 = 0;
        else
          v8 = v7 - v1;
        --v4;
        *v6 = v8;
      }
      while ( v4 );
      v9 = v1;
      v10 = (_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * v1);
      do
      {
        v11 = *(v10 - 1);
        --v10;
        if ( v11 < v1 )
          result = 0;
        else
          result = v11 - v1;
        --v9;
        *v10 = result;
      }
      while ( v9 );
      v3 += v1;
    }
    v12 = *(_DWORD *)(a1 + 2908);
    if ( !*(_DWORD *)(v12 + 4) )
      break;
    result = sub_1004F7F0(v3, v12, (void *)(*(_DWORD *)(a1 + 5688) + *(_DWORD *)(a1 + 5740) + *(_DWORD *)(a1 + 5680)));
    *(_DWORD *)(a1 + 5688) += result;
    v13 = *(_DWORD *)(a1 + 5688);
    if ( v13 >= 3 )
    {
      v14 = *(_DWORD *)(a1 + 5680) + *(_DWORD *)(a1 + 5740);
      v15 = *(_BYTE *)v14;
      v16 = *(_DWORD *)(a1 + 5776);
      *(_DWORD *)(a1 + 5760) = v15;
      result = *(_DWORD *)(a1 + 5772) & (*(_BYTE *)(v14 + 1) ^ (v15 << v16));
      *(_DWORD *)(a1 + 5760) = result;
    }
  }
  while ( v13 < 0x106 && *(_DWORD *)(*(_DWORD *)(a1 + 2908) + 4) );
  return result;
}

//----- (100505C0) --------------------------------------------------------
int __usercall sub_100505C0@<eax>(int a1@<eax>, int a2, int a3, int a4)
{
  signed int v4; // ecx@1
  int v5; // ebx@1
  int v6; // edx@2
  int v7; // ecx@2
  int v8; // edx@2
  signed int v9; // ecx@4
  int v10; // edx@5
  int v11; // ecx@5
  int v12; // edx@5
  signed int v13; // ecx@7
  int v14; // edx@8
  int v15; // ecx@8
  int v16; // edx@8
  int i; // edi@10
  signed int v18; // ecx@11
  int v19; // edx@11
  unsigned __int16 v20; // si@12
  int v21; // edx@12
  int v22; // ecx@12
  int v23; // edx@12
  int v24; // eax@15

  v4 = *(_DWORD *)(a1 + 2932);
  v5 = a4;
  if ( v4 <= 11 )
  {
    *(_WORD *)(a1 + 2924) |= (a2 - 257) << v4;
    *(_DWORD *)(a1 + 2932) = v4 + 5;
  }
  else
  {
    v6 = (a2 - 257) << v4;
    v7 = *(_DWORD *)(a1 + 5812);
    *(_WORD *)(a1 + 2924) |= v6;
    *(_BYTE *)(v7 + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(++*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v8 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    v5 = a4;
    *(_DWORD *)(a1 + 2932) = v8 - 11;
    *(_WORD *)(a1 + 2924) = (unsigned __int16)(a2 - 257) >> (16 - v8);
  }
  v9 = *(_DWORD *)(a1 + 2932);
  if ( v9 <= 11 )
  {
    *(_WORD *)(a1 + 2924) |= (a3 - 1) << v9;
    *(_DWORD *)(a1 + 2932) = v9 + 5;
  }
  else
  {
    v10 = (a3 - 1) << v9;
    v11 = *(_DWORD *)(a1 + 5812);
    *(_WORD *)(a1 + 2924) |= v10;
    *(_BYTE *)(v11 + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(++*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v12 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    *(_DWORD *)(a1 + 2932) = v12 - 11;
    *(_WORD *)(a1 + 2924) = (unsigned __int16)(a3 - 1) >> (16 - v12);
  }
  v13 = *(_DWORD *)(a1 + 2932);
  if ( v13 <= 12 )
  {
    *(_WORD *)(a1 + 2924) |= (v5 - 4) << v13;
    *(_DWORD *)(a1 + 2932) = v13 + 4;
  }
  else
  {
    v14 = (v5 - 4) << v13;
    v15 = *(_DWORD *)(a1 + 5812);
    *(_WORD *)(a1 + 2924) |= v14;
    *(_BYTE *)(v15 + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(++*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v16 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    *(_DWORD *)(a1 + 2932) = v16 - 12;
    *(_WORD *)(a1 + 2924) = (unsigned __int16)(v5 - 4) >> (16 - v16);
  }
  for ( i = 0; i < v5; ++i )
  {
    v18 = *(_DWORD *)(a1 + 2932);
    v19 = (unsigned __int8)byte_100B8DEC[i];
    if ( v18 <= 13 )
    {
      *(_WORD *)(a1 + 2924) |= *(_WORD *)(a1 + 4 * v19 + 5474) << v18;
      *(_DWORD *)(a1 + 2932) = v18 + 3;
    }
    else
    {
      v20 = *(_WORD *)(a1 + 4 * v19 + 5474);
      v21 = *(_WORD *)(a1 + 4 * v19 + 5474) << v18;
      v22 = *(_DWORD *)(a1 + 5812);
      *(_WORD *)(a1 + 2924) |= v21;
      *(_BYTE *)(v22 + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2924);
      *(_BYTE *)(++*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
      v23 = *(_DWORD *)(a1 + 2932);
      ++*(_DWORD *)(a1 + 5812);
      v5 = a4;
      *(_DWORD *)(a1 + 2932) = v23 - 13;
      *(_WORD *)(a1 + 2924) = v20 >> (16 - v23);
    }
  }
  v24 = sub_1004F930(a1, a1 + 2936, a2 - 1);
  return sub_1004F930(v24, v24 + 5228, a3 - 1);
}

//----- (10050870) --------------------------------------------------------
signed int __cdecl sub_10050870(int a1, int a2)
{
  int v2; // esi@3
  int v3; // eax@6
  signed int result; // eax@9
  int v5; // ebx@10
  char v6; // al@12
  int v7; // eax@14
  unsigned int v8; // ecx@17
  int v9; // eax@19
  int v10; // eax@20
  int v11; // eax@29
  signed int v12; // eax@36
  int v13; // eax@50
  bool v14; // zf@50

  if ( !a1 || (unsigned int)a2 > 4 )
    return -2;
  v2 = *(_DWORD *)(a1 + 24);
  if ( !*(_DWORD *)(a1 + 12) || !*(_DWORD *)a1 && *(_DWORD *)(a1 + 4) )
    return -2;
  v3 = *(_DWORD *)(v2 + 5788);
  if ( v3 == 666 && a2 != 4 )
    return -2;
  if ( !*(_DWORD *)(a1 + 16) )
    return -5;
  v5 = *(_DWORD *)(v2 + 5792);
  *(_DWORD *)(v2 + 2908) = a1;
  *(_DWORD *)(v2 + 5792) = a2;
  if ( v3 == 42 )
  {
    if ( *(_BYTE *)(v2 + 5796) >= 2 || (v6 = *(_BYTE *)(v2 + 5784), v6 < 2) )
    {
      v7 = 0;
    }
    else if ( v6 >= 6 )
    {
      v7 = (v6 != 6) + 2;
    }
    else
    {
      v7 = 1;
    }
    v8 = (v7 << 6) | (((*(_DWORD *)(v2 + 5752) - 8) << 12) + 2048);
    if ( *(_DWORD *)(v2 + 5680) )
      v8 |= 0x20u;
    *(_DWORD *)(v2 + 5788) = 113;
    v9 = sub_1004F7B0(v2, 31 * (v8 / 0x1F + 1));
    if ( *(_DWORD *)(v2 + 5680) )
    {
      v10 = sub_1004F7B0(v9, *(_WORD *)(a1 + 30));
      sub_1004F7B0(v10, *(_WORD *)(a1 + 28));
    }
    *(_DWORD *)(a1 + 28) = sub_10004DC0(0, 0, 0);
  }
  if ( *(_DWORD *)(v2 + 5812) )
  {
    sub_1004F0A0(a1);
    if ( !*(_DWORD *)(a1 + 16) )
    {
LABEL_24:
      *(_DWORD *)(v2 + 5792) = -1;
      return 0;
    }
  }
  else if ( !*(_DWORD *)(a1 + 4) && a2 <= v5 && a2 != 4 )
  {
    return -5;
  }
  v11 = *(_DWORD *)(v2 + 5788);
  if ( v11 == 666 )
  {
    if ( *(_DWORD *)(a1 + 4) )
      return -5;
LABEL_33:
    if ( !*(_DWORD *)(v2 + 5688) && (!a2 || v11 == 666) )
      goto LABEL_47;
    goto LABEL_36;
  }
  if ( !*(_DWORD *)(a1 + 4) )
    goto LABEL_33;
LABEL_36:
  v12 = (*(&off_100B9768 + 3 * *(_BYTE *)(v2 + 5784)))(v2, a2);
  if ( v12 == 2 || v12 == 3 )
    *(_DWORD *)(v2 + 5788) = 666;
  if ( !v12 || v12 == 2 )
  {
    if ( *(_DWORD *)(a1 + 16) )
      return 0;
    *(_DWORD *)(v2 + 5792) = -1;
    return 0;
  }
  if ( v12 == 1 )
  {
    if ( a2 == 1 )
    {
      sub_1004FFC0(v2);
    }
    else
    {
      sub_10050200(v2, 0, 0, 0);
      if ( a2 == 3 )
      {
        *(_WORD *)(*(_DWORD *)(v2 + 5736) + 2 * *(_DWORD *)(v2 + 5764) - 2) = 0;
        memset(*(void **)(v2 + 5736), 0, 2 * *(_DWORD *)(v2 + 5764) - 2);
      }
    }
    sub_1004F0A0(a1);
    if ( !*(_DWORD *)(a1 + 16) )
      goto LABEL_24;
  }
LABEL_47:
  if ( a2 != 4 )
    return 0;
  if ( *(_DWORD *)(v2 + 5780) > 0 )
  {
    v13 = sub_1004F7B0(v2, *(_WORD *)(a1 + 30));
    sub_1004F7B0(v13, *(_WORD *)(a1 + 28));
    sub_1004F0A0(a1);
    v14 = *(_DWORD *)(v2 + 5812) == 0;
    *(_DWORD *)(v2 + 5780) = -*(_DWORD *)(v2 + 5780);
    result = v14;
  }
  else
  {
    result = 1;
  }
  return result;
}
// 100B9768: using guessed type int (__cdecl *off_100B9768)(int, int);

//----- (10050B30) --------------------------------------------------------
signed int __cdecl sub_10050B30(int a1, unsigned __int8 a2, int a3, int a4, int a5, unsigned __int8 a6, int a7, int a8)
{
  signed int v8; // edx@1
  int v9; // eax@5
  unsigned int v10; // edi@12
  signed int v11; // ebp@12
  signed int v12; // eax@12
  int v13; // ebp@14
  int v14; // esi@14
  int v15; // esi@14
  int v16; // esi@14
  signed int result; // eax@14

  v8 = 1;
  if ( a1 && a7 )
  {
    if ( a2 == -1 )
      a2 = 6;
    v9 = a4;
    if ( a4 < 0 )
    {
      v8 = 0;
      v9 = -a4;
      a4 = -a4;
    }
    if ( (unsigned int)(a5 - 1) > 7 || a3 != 8 || (unsigned int)(v9 - 9) > 6 || a2 > 9u || a6 > 3u )
    {
      result = -2;
    }
    else
    {
      v10 = 1 << (a5 + 6);
      v11 = 1 << v9;
      v12 = 1 << (a5 + 7);
      if ( (signed int)(2 * (v12 + 2 * (v10 + v11) + 2908)) > a8 || a7 & 3 )
      {
        result = -4;
      }
      else
      {
        *(_DWORD *)(a1 + 24) = a7;
        *(_DWORD *)(a7 + 5780) = v8;
        *(_DWORD *)(a7 + 5764) = v12;
        *(_DWORD *)(a7 + 5752) = a4;
        *(_DWORD *)(a7 + 5768) = a5 + 7;
        *(_DWORD *)(a7 + 5772) = v12 - 1;
        *(_DWORD *)(a7 + 5756) = v11 - 1;
        *(_DWORD *)(a7 + 5748) = v11;
        *(_DWORD *)(a7 + 5740) = a7 + 5816;
        v13 = 2 * v11;
        v14 = v13 + a7 + 5816;
        *(_DWORD *)(a7 + 5732) = v14;
        v15 = v13 + v14;
        *(_DWORD *)(a7 + 5776) = (a5 + 9) / 3u;
        *(_DWORD *)(a7 + 5736) = v15;
        v16 = v15 + 2 * (1 << (a5 + 7));
        *(_DWORD *)(a7 + 5804) = 4 * v10;
        *(_DWORD *)(a7 + 5716) = v10 + v16 + 2 * v10;
        *(_DWORD *)(a7 + 5712) = v16 + 2 * (v10 >> 1);
        *(_DWORD *)(a7 + 5724) = v10;
        *(_DWORD *)(a7 + 5800) = v16;
        *(_BYTE *)(a7 + 5784) = a2;
        *(_BYTE *)(a7 + 5796) = a6;
        *(_BYTE *)(a7 + 5720) = 8;
        result = sub_1004FF30(a1);
      }
    }
  }
  else
  {
    result = -2;
  }
  return result;
}

//----- (10050CE0) --------------------------------------------------------
signed int __usercall sub_10050CE0@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  signed int result; // eax@1

  v1 = a1;
  sub_1004F850(a1 + 2936, *(_DWORD *)(a1 + 5632), a1);
  sub_1004F850(v1 + 5228, *(_DWORD *)(v1 + 5644), v1);
  sub_100502A0(v1, v1 + 5652);
  result = 18;
  while ( !*(_WORD *)(v1 + 4 * (unsigned __int8)byte_100B8DEC[result] + 5474) )
  {
    if ( *(_WORD *)(v1 + 4 * (unsigned __int8)byte_100B8DEB[result] + 5474) )
    {
      *(_DWORD *)(v1 + 2912) += 3 * --result + 17;
      return result;
    }
    if ( *(_WORD *)(v1 + 4 * (unsigned __int8)byte_100B8DEA[result] + 5474) )
    {
      result -= 2;
      *(_DWORD *)(v1 + 2912) += 3 * result + 17;
      return result;
    }
    if ( *(_WORD *)(v1 + 4 * (unsigned __int8)byte_100B8DE9[result] + 5474) )
    {
      result -= 3;
      break;
    }
    result -= 4;
    if ( result < 3 )
    {
      *(_DWORD *)(v1 + 2912) += 3 * result + 17;
      return result;
    }
  }
  *(_DWORD *)(v1 + 2912) += 3 * result + 17;
  return result;
}

//----- (10050DB0) --------------------------------------------------------
_WORD *__usercall sub_10050DB0@<eax>(int a1@<eax>, int a2@<ecx>, int a3)
{
  int v3; // ebp@1
  int v4; // esi@1
  int v5; // ebx@1
  int v6; // eax@1
  _BYTE *v7; // edi@2
  signed int v8; // eax@5
  unsigned int v9; // edx@5
  unsigned int v10; // ecx@5
  int v11; // ecx@11
  bool v12; // zf@12
  signed int v13; // ecx@12
  int v14; // eax@13
  int v15; // edx@14
  int v16; // ecx@14
  int v17; // edx@14
  int v18; // edx@17
  int v19; // eax@18
  int v20; // ecx@18
  int v21; // ebx@18
  _WORD *result; // eax@21
  signed int v23; // [sp+14h] [bp+4h]@4

  v3 = a3;
  v4 = a2;
  v5 = a1;
  v6 = *(_DWORD *)(a2 + 5664);
  if ( v6 < 0 )
    v7 = 0;
  else
    v7 = (_BYTE *)(v6 + *(_DWORD *)(a2 + 5740));
  v23 = 0;
  if ( *(_BYTE *)(a2 + 5784) <= 0 )
  {
    v10 = v5 + 5;
LABEL_8:
    v9 = v10;
    goto LABEL_9;
  }
  sub_100502A0(a2, a2 + 5628);
  sub_100502A0(v4, v4 + 5640);
  v8 = sub_10050CE0(v4);
  v9 = (unsigned int)(*(_DWORD *)(v4 + 2912) + 10) >> 3;
  v10 = (unsigned int)(*(_DWORD *)(v4 + 2916) + 10) >> 3;
  v23 = v8;
  if ( v10 <= v9 )
    goto LABEL_8;
LABEL_9:
  if ( v5 + 4 <= v9 && v7 )
  {
    sub_10050200(v4, v3, v7, v5);
  }
  else
  {
    v12 = v10 == v9;
    v13 = *(_DWORD *)(v4 + 2932);
    if ( v12 )
    {
      v14 = v3 + 2;
      if ( v13 <= 13 )
      {
        *(_WORD *)(v4 + 2924) |= v14 << v13;
        *(_DWORD *)(v4 + 2932) = v13 + 3;
      }
      else
      {
        v15 = v14 << v13;
        v16 = *(_DWORD *)(v4 + 5800);
        *(_WORD *)(v4 + 2924) |= v15;
        *(_BYTE *)(v16 + (*(_DWORD *)(v4 + 5812))++) = *(_BYTE *)(v4 + 2924);
        *(_BYTE *)(*(_DWORD *)(v4 + 5812) + *(_DWORD *)(v4 + 5800)) = *(_BYTE *)(v4 + 2925);
        v17 = *(_DWORD *)(v4 + 2932);
        ++*(_DWORD *)(v4 + 5812);
        *(_DWORD *)(v4 + 2932) = v17 - 13;
        *(_WORD *)(v4 + 2924) = (unsigned __int16)v14 >> (16 - v17);
      }
      sub_1004EB70(v4, (int)&unk_100B8E78, (int)&unk_100B92F8);
    }
    else
    {
      v18 = v3 + 4;
      if ( v13 <= 13 )
      {
        *(_WORD *)(v4 + 2924) |= v18 << v13;
        *(_DWORD *)(v4 + 2932) = v13 + 3;
      }
      else
      {
        v19 = v18 << v13;
        v20 = *(_DWORD *)(v4 + 5800);
        *(_WORD *)(v4 + 2924) |= v19;
        *(_BYTE *)(v20 + (*(_DWORD *)(v4 + 5812))++) = *(_BYTE *)(v4 + 2924);
        *(_BYTE *)(*(_DWORD *)(v4 + 5812) + *(_DWORD *)(v4 + 5800)) = *(_BYTE *)(v4 + 2925);
        v21 = *(_DWORD *)(v4 + 2932);
        ++*(_DWORD *)(v4 + 5812);
        *(_DWORD *)(v4 + 2932) = v21 - 13;
        *(_WORD *)(v4 + 2924) = (unsigned __int16)v18 >> (16 - v21);
      }
      sub_100505C0(v4, *(_DWORD *)(v4 + 5632) + 1, *(_DWORD *)(v4 + 5644) + 1, v23 + 1);
      sub_1004EB70(v4, v4 + 2936, v4 + 5228);
    }
  }
  result = sub_1004F350(v11, v4);
  if ( v3 )
    result = (_WORD *)sub_1004EAE0(v4);
  return result;
}

//----- (10050FD0) --------------------------------------------------------
signed int __cdecl sub_10050FD0(int a1, int a2)
{
  unsigned int v2; // ebx@1
  unsigned int v3; // eax@2
  int v4; // edx@7
  int v5; // edi@7
  int v6; // eax@7
  int v7; // ecx@7
  unsigned int v8; // eax@9
  char v9; // cl@10
  unsigned int v10; // eax@11
  unsigned int v11; // eax@16
  BOOL v12; // eax@17
  unsigned int v13; // ecx@17
  int v14; // edi@20
  int v15; // ecx@20
  int v16; // edx@20
  int v17; // ebx@20
  int v19; // edi@22
  int v20; // ecx@22
  int v21; // edx@22
  int v22; // edi@26
  signed int result; // eax@27
  int v24; // edi@28
  int v25; // eax@28

  v2 = 0;
  while ( 1 )
  {
    v3 = *(_DWORD *)(a1 + 5688);
    if ( v3 < 0x106 )
    {
      sub_10050480(a1);
      v3 = *(_DWORD *)(a1 + 5688);
      if ( v3 < 0x106 && !a2 )
        return 0;
      if ( !v3 )
        break;
    }
    if ( v3 >= 3 )
    {
      v4 = *(_DWORD *)(a1 + 5680);
      v5 = *(_DWORD *)(a1 + 5756);
      v6 = *(_DWORD *)(a1 + 5772) & (*(_BYTE *)(*(_DWORD *)(a1 + 5740) + v4 + 2) ^ (*(_DWORD *)(a1 + 5760) << *(_DWORD *)(a1 + 5776)));
      v7 = *(_DWORD *)(a1 + 5736);
      *(_DWORD *)(a1 + 5760) = v6;
      *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (v4 & v5)) = *(_WORD *)(v7 + 2 * v6);
      v2 = *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (*(_DWORD *)(a1 + 5680) & *(_DWORD *)(a1 + 5756)));
      *(_WORD *)(*(_DWORD *)(a1 + 5736) + 2 * *(_DWORD *)(a1 + 5760)) = *(_WORD *)(a1 + 5680);
    }
    if ( v2 )
    {
      v8 = *(_DWORD *)(a1 + 5680) - v2;
      if ( v8 <= *(_DWORD *)(a1 + 5748) - 262 )
      {
        v9 = *(_BYTE *)(a1 + 5796);
        if ( v9 < 2 )
        {
          v10 = sub_1004F480(a1, v2);
LABEL_15:
          *(_DWORD *)(a1 + 5668) = v10;
          goto LABEL_16;
        }
        if ( v9 == 3 && v8 == 1 )
        {
          v10 = sub_1004F630(a1, v2);
          goto LABEL_15;
        }
      }
    }
LABEL_16:
    v11 = *(_DWORD *)(a1 + 5668);
    if ( v11 < 3 )
    {
      v12 = sub_1004E990(a1, *(_BYTE *)(*(_DWORD *)(a1 + 5740) + *(_DWORD *)(a1 + 5680)), 0);
      --*(_DWORD *)(a1 + 5688);
    }
    else
    {
      v12 = sub_1004E990(a1, v11 - 3, *(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5684));
      v13 = *(_DWORD *)(a1 + 5668);
      *(_DWORD *)(a1 + 5688) -= v13;
      if ( v13 > *(_DWORD *)(a1 + 5700) || *(_DWORD *)(a1 + 5688) < 3u )
      {
        *(_DWORD *)(a1 + 5680) += v13;
        v19 = *(_DWORD *)(a1 + 5740) + *(_DWORD *)(a1 + 5680);
        v20 = *(_DWORD *)(a1 + 5776);
        *(_DWORD *)(a1 + 5668) = 0;
        v21 = *(_BYTE *)v19;
        *(_DWORD *)(a1 + 5760) = v21;
        *(_DWORD *)(a1 + 5760) = *(_DWORD *)(a1 + 5772) & (*(_BYTE *)(v19 + 1) ^ (v21 << v20));
        goto LABEL_25;
      }
      *(_DWORD *)(a1 + 5668) = v13 - 1;
      do
      {
        v14 = ++*(_DWORD *)(a1 + 5680);
        v15 = *(_DWORD *)(a1 + 5736);
        v16 = *(_DWORD *)(a1 + 5772) & ((*(_DWORD *)(a1 + 5760) << *(_DWORD *)(a1 + 5776)) ^ *(_BYTE *)(*(_DWORD *)(a1 + 5740) + v14 + 2));
        v17 = *(_DWORD *)(a1 + 5756);
        *(_DWORD *)(a1 + 5760) = v16;
        *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (v14 & v17)) = *(_WORD *)(v15 + 2 * v16);
        v2 = *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (*(_DWORD *)(a1 + 5680) & *(_DWORD *)(a1 + 5756)));
        *(_WORD *)(*(_DWORD *)(a1 + 5736) + 2 * *(_DWORD *)(a1 + 5760)) = *(_WORD *)(a1 + 5680);
      }
      while ( (*(_DWORD *)(a1 + 5668))-- != 1 );
    }
    ++*(_DWORD *)(a1 + 5680);
LABEL_25:
    if ( v12 )
    {
      sub_10050DB0(*(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5664), a1, 0);
      v22 = *(_DWORD *)(a1 + 2908);
      *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
      sub_1004F0A0(v22);
      if ( !*(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16) )
        return 0;
    }
  }
  sub_10050DB0(*(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5664), a1, a2 == 4);
  v24 = *(_DWORD *)(a1 + 2908);
  *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
  sub_1004F0A0(v24);
  v25 = 0;
  if ( *(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16) )
  {
    LOBYTE(v25) = a2 == 4;
    result = 2 * v25 + 1;
  }
  else
  {
    result = a2 != 4 ? 0 : 2;
  }
  return result;
}

//----- (100512E0) --------------------------------------------------------
signed int __cdecl sub_100512E0(int a1, int a2)
{
  unsigned int v2; // ebp@1
  unsigned int v3; // eax@3
  int v4; // edx@8
  int v5; // edi@8
  int v6; // eax@8
  int v7; // ecx@8
  unsigned int v8; // ecx@9
  int v9; // edx@9
  unsigned int v10; // eax@11
  char v11; // cl@12
  unsigned int v12; // eax@13
  unsigned int v13; // eax@18
  unsigned int v14; // eax@23
  int v15; // ecx@25
  unsigned int v16; // ebp@25
  BOOL v17; // eax@25
  int v18; // ecx@25
  BOOL v19; // ebx@25
  unsigned int v20; // edi@26
  int v21; // ecx@27
  int v22; // edx@27
  int v23; // eax@27
  int v25; // eax@29
  int v26; // edi@30
  signed int result; // eax@31
  int v28; // edi@34
  int v29; // ecx@35
  int v30; // edi@40
  unsigned int v31; // [sp+10h] [bp-4h]@1

  v2 = 0;
  v31 = 0;
  while ( 1 )
  {
    v3 = *(_DWORD *)(a1 + 5688);
    if ( v3 < 0x106 )
    {
      sub_10050480(a1);
      v3 = *(_DWORD *)(a1 + 5688);
      if ( v3 < 0x106 && !a2 )
        return 0;
      if ( !v3 )
        break;
    }
    if ( v3 >= 3 )
    {
      v4 = *(_DWORD *)(a1 + 5680);
      v5 = *(_DWORD *)(a1 + 5756);
      v6 = *(_DWORD *)(a1 + 5772) & (*(_BYTE *)(*(_DWORD *)(a1 + 5740) + v4 + 2) ^ (*(_DWORD *)(a1 + 5760) << *(_DWORD *)(a1 + 5776)));
      v7 = *(_DWORD *)(a1 + 5736);
      *(_DWORD *)(a1 + 5760) = v6;
      *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (v4 & v5)) = *(_WORD *)(v7 + 2 * v6);
      v31 = *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (*(_DWORD *)(a1 + 5680) & *(_DWORD *)(a1 + 5756)));
      v2 = *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (*(_DWORD *)(a1 + 5680) & *(_DWORD *)(a1 + 5756)));
      *(_WORD *)(*(_DWORD *)(a1 + 5736) + 2 * *(_DWORD *)(a1 + 5760)) = *(_WORD *)(a1 + 5680);
    }
    v8 = *(_DWORD *)(a1 + 5668);
    v9 = *(_DWORD *)(a1 + 5684);
    *(_DWORD *)(a1 + 5692) = v8;
    *(_DWORD *)(a1 + 5672) = v9;
    *(_DWORD *)(a1 + 5668) = 2;
    if ( !v2 )
      goto LABEL_23;
    if ( v8 >= *(_DWORD *)(a1 + 5700) )
      goto LABEL_23;
    v10 = *(_DWORD *)(a1 + 5680) - v2;
    if ( v10 > *(_DWORD *)(a1 + 5748) - 262 )
      goto LABEL_23;
    v11 = *(_BYTE *)(a1 + 5796);
    if ( v11 < 2 )
    {
      v12 = sub_1004F480(a1, v2);
LABEL_17:
      *(_DWORD *)(a1 + 5668) = v12;
      goto LABEL_18;
    }
    if ( v11 == 3 && v10 == 1 )
    {
      v12 = sub_1004F630(a1, v2);
      goto LABEL_17;
    }
LABEL_18:
    v13 = *(_DWORD *)(a1 + 5668);
    if ( v13 <= 5
      && (*(_BYTE *)(a1 + 5796) == 1
       || v13 == 3 && (unsigned int)(*(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5684)) > 0x1000) )
    {
      *(_DWORD *)(a1 + 5668) = 2;
    }
LABEL_23:
    v14 = *(_DWORD *)(a1 + 5692);
    if ( v14 < 3 || *(_DWORD *)(a1 + 5668) > v14 )
    {
      if ( *(_DWORD *)(a1 + 5676) )
      {
        if ( sub_1004E990(a1, *(_BYTE *)(*(_DWORD *)(a1 + 5740) + *(_DWORD *)(a1 + 5680) - 1), 0) )
        {
          sub_10050DB0(*(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5664), a1, 0);
          v28 = *(_DWORD *)(a1 + 2908);
          *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
          sub_1004F0A0(v28);
        }
        v29 = *(_DWORD *)(a1 + 2908);
        ++*(_DWORD *)(a1 + 5680);
        --*(_DWORD *)(a1 + 5688);
        if ( !*(_DWORD *)(v29 + 16) )
          return 0;
      }
      else
      {
        ++*(_DWORD *)(a1 + 5680);
        --*(_DWORD *)(a1 + 5688);
        *(_DWORD *)(a1 + 5676) = 1;
      }
    }
    else
    {
      v15 = *(_DWORD *)(a1 + 5680);
      v16 = v15 + *(_DWORD *)(a1 + 5688) - 3;
      v17 = sub_1004E990(a1, v14 - 3, v15 - *(_DWORD *)(a1 + 5672) - 1);
      v18 = *(_DWORD *)(a1 + 5692);
      v19 = v17;
      *(_DWORD *)(a1 + 5688) += 1 - v18;
      *(_DWORD *)(a1 + 5692) = v18 - 2;
      do
      {
        v20 = ++*(_DWORD *)(a1 + 5680);
        if ( v20 <= v16 )
        {
          v21 = *(_DWORD *)(a1 + 5736);
          v22 = *(_DWORD *)(a1 + 5772) & (*(_BYTE *)(*(_DWORD *)(a1 + 5740) + v20 + 2) ^ (*(_DWORD *)(a1 + 5760) << *(_DWORD *)(a1 + 5776)));
          v23 = *(_DWORD *)(a1 + 5756);
          *(_DWORD *)(a1 + 5760) = v22;
          *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (v20 & v23)) = *(_WORD *)(v21 + 2 * v22);
          v31 = *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (*(_DWORD *)(a1 + 5680) & *(_DWORD *)(a1 + 5756)));
          *(_WORD *)(*(_DWORD *)(a1 + 5736) + 2 * *(_DWORD *)(a1 + 5760)) = *(_WORD *)(a1 + 5680);
        }
      }
      while ( (*(_DWORD *)(a1 + 5692))-- != 1 );
      v25 = ++*(_DWORD *)(a1 + 5680);
      *(_DWORD *)(a1 + 5676) = 0;
      *(_DWORD *)(a1 + 5668) = 2;
      if ( v19 )
      {
        sub_10050DB0(v25 - *(_DWORD *)(a1 + 5664), a1, 0);
        v26 = *(_DWORD *)(a1 + 2908);
        *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
        sub_1004F0A0(v26);
        if ( !*(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16) )
          return 0;
      }
      v2 = v31;
    }
  }
  if ( *(_DWORD *)(a1 + 5676) )
  {
    sub_1004E990(a1, *(_BYTE *)(*(_DWORD *)(a1 + 5740) + *(_DWORD *)(a1 + 5680) - 1), 0);
    *(_DWORD *)(a1 + 5676) = 0;
  }
  sub_10050DB0(*(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5664), a1, a2 == 4);
  v30 = *(_DWORD *)(a1 + 2908);
  *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
  sub_1004F0A0(v30);
  if ( *(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16) )
    result = 2 * (a2 == 4) + 1;
  else
    result = a2 != 4 ? 0 : 2;
  return result;
}

//----- (100516F0) --------------------------------------------------------
signed int __cdecl sub_100516F0(int a1, int a2)
{
  int v2; // ebx@1
  unsigned int v3; // eax@3
  bool v4; // zf@5
  int v5; // edx@5
  unsigned int v6; // ecx@5
  unsigned int v7; // eax@5
  int v8; // edi@7
  unsigned int v9; // eax@8
  int v10; // edi@9
  signed int result; // eax@10
  int v12; // edi@12
  int v13; // eax@12

  v2 = 0xFFFF;
  if ( (unsigned int)(*(_DWORD *)(a1 + 5804) - 5) <= 0xFFFF )
    v2 = *(_DWORD *)(a1 + 5804) - 5;
  while ( 1 )
  {
    v3 = *(_DWORD *)(a1 + 5688);
    if ( v3 <= 1 )
    {
      sub_10050480(a1);
      v3 = *(_DWORD *)(a1 + 5688);
      if ( !v3 )
        break;
    }
    v4 = v3 + *(_DWORD *)(a1 + 5680) == 0;
    *(_DWORD *)(a1 + 5680) += v3;
    v5 = *(_DWORD *)(a1 + 5664);
    v6 = *(_DWORD *)(a1 + 5680);
    *(_DWORD *)(a1 + 5688) = 0;
    v7 = v5 + v2;
    if ( !v4 && v6 < v7
      || (*(_DWORD *)(a1 + 5688) = v6 - v7,
          *(_DWORD *)(a1 + 5680) = v7,
          sub_10050DB0(v2, a1, 0),
          v8 = *(_DWORD *)(a1 + 2908),
          *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680),
          sub_1004F0A0(v8),
          *(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16)) )
    {
      v9 = *(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5664);
      if ( v9 < *(_DWORD *)(a1 + 5748) - 262 )
        continue;
      sub_10050DB0(v9, a1, 0);
      v10 = *(_DWORD *)(a1 + 2908);
      *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
      sub_1004F0A0(v10);
      if ( *(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16) )
        continue;
    }
    return 0;
  }
  if ( !a2 )
    return 0;
  sub_10050DB0(*(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5664), a1, a2 == 4);
  v12 = *(_DWORD *)(a1 + 2908);
  *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
  sub_1004F0A0(v12);
  v13 = 0;
  if ( *(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16) )
  {
    LOBYTE(v13) = a2 == 4;
    result = 2 * v13 + 1;
  }
  else
  {
    result = a2 != 4 ? 0 : 2;
  }
  return result;
}

//----- (10051860) --------------------------------------------------------
char __cdecl sub_10051860(int a1, int a2)
{
  char result; // al@1
  __int16 v3; // dx@2
  int v4; // ecx@2
  int v5; // [sp+0h] [bp-Ch]@1
  __int16 v6; // [sp+4h] [bp-8h]@2
  int v7; // [sp+8h] [bp-4h]@2

  result = (*(int (__cdecl **)(int, signed int, int *))dword_10F8E130)(a1, 12, &v5);
  if ( result )
  {
    v3 = v6;
    *(_DWORD *)a2 = v5;
    v4 = v7 & 0xFFFFFF;
    *(_WORD *)(a2 + 4) = v3;
    *(_DWORD *)(a2 + 8) = v4;
    result = 1;
  }
  return result;
}
// 10F8E130: using guessed type int dword_10F8E130;

//----- (100518B0) --------------------------------------------------------
char __cdecl sub_100518B0(int a1, int a2)
{
  char result; // al@1
  __int16 v3; // dx@2
  __int16 v4; // cx@2
  __int16 v5; // dx@2
  __int16 v6; // cx@2
  int v7; // edx@2
  __int16 v8; // cx@2
  unsigned int v9; // ecx@2
  int v10; // edx@2
  __int16 v11; // [sp+0h] [bp-1Ch]@1
  __int16 v12; // [sp+2h] [bp-1Ah]@2
  __int16 v13; // [sp+4h] [bp-18h]@2
  __int16 v14; // [sp+6h] [bp-16h]@2
  __int16 v15; // [sp+8h] [bp-14h]@2
  int v16; // [sp+Ah] [bp-12h]@2
  __int16 v17; // [sp+Eh] [bp-Eh]@2
  int v18; // [sp+12h] [bp-Ah]@2
  unsigned int v19; // [sp+16h] [bp-6h]@2
  char v20; // [sp+1Ah] [bp-2h]@2

  result = (*(int (__cdecl **)(int, signed int, __int16 *))dword_10F8E130)(a1, 27, &v11);
  if ( result )
  {
    v3 = v12;
    *(_WORD *)a2 = v11;
    v4 = v13;
    *(_WORD *)(a2 + 2) = v3;
    v5 = v14;
    *(_WORD *)(a2 + 4) = v4;
    v6 = v15;
    *(_WORD *)(a2 + 6) = v5;
    *(_DWORD *)(a2 + 12) = v16;
    v7 = v18;
    *(_WORD *)(a2 + 8) = v6;
    v8 = v17;
    *(_DWORD *)(a2 + 20) = v7;
    *(_WORD *)(a2 + 16) = v8;
    v9 = v19;
    *(_DWORD *)(a2 + 24) = v19 & 3;
    *(_DWORD *)(a2 + 28) = (v9 >> 2) & 1;
    v10 = (v9 >> 3) & 3;
    *(_DWORD *)(a2 + 36) = (v9 >> 5) & 1;
    LOBYTE(v9) = v20;
    *(_DWORD *)(a2 + 32) = v10;
    *(_BYTE *)(a2 + 40) = ((unsigned __int8)v9 >> 3) & 7;
    *(_BYTE *)(a2 + 41) = (unsigned __int8)v9 >> 6;
    result = 1;
  }
  return result;
}
// 10F8E130: using guessed type int dword_10F8E130;

//----- (10051960) --------------------------------------------------------
char __cdecl sub_10051960(int a1, int a2)
{
  char result; // al@1
  char v3; // ah^2@2
  __int16 v4; // dx@2
  __int16 v5; // dx@2
  int v6; // [sp+0h] [bp-8h]@1
  unsigned int v7; // [sp+4h] [bp-4h]@2

  result = (*(int (__cdecl **)(int, signed int, int *))dword_10F8E130)(a1, 8, &v6);
  if ( result )
  {
    v3 = BYTE3(v6);
    *(_DWORD *)a2 = v6 & 0xFFFFFF;
    LOBYTE(v4) = 0;
    HIBYTE(v4) = v3;
    v5 = (unsigned __int8)v7 ^ v4;
    *(_DWORD *)(a2 + 8) = v7 >> 8;
    *(_WORD *)(a2 + 4) = v5;
    result = 1;
  }
  return result;
}
// 10F8E130: using guessed type int dword_10F8E130;

//----- (100519C0) --------------------------------------------------------
char __cdecl sub_100519C0(int a1, int a2)
{
  char result; // al@1
  __int16 v3; // dx@2
  int v4; // esi@2
  unsigned int v5; // ecx@2
  __int16 v6; // [sp+0h] [bp-14h]@1
  __int16 v7; // [sp+2h] [bp-12h]@2
  __int16 v8; // [sp+4h] [bp-10h]@2
  __int16 v9; // [sp+6h] [bp-Eh]@2
  __int16 v10; // [sp+8h] [bp-Ch]@2
  unsigned __int16 v11; // [sp+Ah] [bp-Ah]@2
  int v12; // [sp+Ch] [bp-8h]@2
  char v13; // [sp+12h] [bp-2h]@2

  result = (*(int (__cdecl **)(int, signed int, __int16 *))dword_10F8E130)(a1, 19, &v6);
  if ( result )
  {
    v3 = v7;
    *(_WORD *)a2 = v6;
    *(_WORD *)(a2 + 4) = v8;
    *(_WORD *)(a2 + 8) = v10;
    *(_WORD *)(a2 + 2) = v3;
    v4 = v11;
    *(_WORD *)(a2 + 6) = v9;
    LOBYTE(v3) = v13;
    *(_DWORD *)(a2 + 12) = v4 + ((v13 & 7) << 16);
    *(_WORD *)(a2 + 16) = v12 & 0x3FFF;
    v5 = *(int *)((char *)&v12 + 2);
    *(_DWORD *)(a2 + 20) = *(int *)((char *)&v12 + 2) & 0xFFFFFF;
    *(_DWORD *)(a2 + 24) = (v5 >> 24) & 3;
    *(_DWORD *)(a2 + 28) = (v5 >> 26) & 1;
    *(_DWORD *)(a2 + 36) = (v5 >> 29) & 1;
    *(_DWORD *)(a2 + 32) = (v5 >> 27) & 3;
    *(_BYTE *)(a2 + 40) = ((unsigned __int8)v3 >> 3) & 7;
    *(_BYTE *)(a2 + 41) = (unsigned __int8)v3 >> 6;
    result = 1;
  }
  return result;
}
// 10F8E130: using guessed type int dword_10F8E130;

//----- (10051A90) --------------------------------------------------------
signed int __cdecl sub_10051A90(_BYTE *a1, char a2, int a3)
{
  signed int result; // eax@1

  result = -4;
  if ( a3 && a3 != 1 || (!*a1 || *a1 == 1 ? (result = 0) : (result = -2), a3 != 1) )
  {
    if ( a3 != 2 )
      return result;
    goto LABEL_11;
  }
  if ( result )
  {
LABEL_11:
    *a1 = a2;
    result = 1;
  }
  return result;
}

//----- (10051AE0) --------------------------------------------------------
int __cdecl sub_10051AE0(int a1, float a2, float a3, int a4, int a5)
{
  int v5; // ecx@1
  int v6; // esi@1
  char v7; // dl@4
  char v8; // al@4
  char v9; // dl@4
  int result; // eax@5
  double v11; // st7@7
  unsigned int v12; // eax@21

  v5 = a1;
  v6 = a1 & 3;
  if ( a1 & 3 || (unsigned int)&a1 & 3 )
  {
    v7 = *(_BYTE *)(a1 + 1);
    LOBYTE(a1) = *(_BYTE *)a1;
    v8 = *(_BYTE *)(v5 + 2);
    BYTE1(a1) = v7;
    v9 = *(_BYTE *)(v5 + 3);
    BYTE2(a1) = v8;
    BYTE3(a1) = v9;
  }
  else
  {
    a1 = *(int *)a1;
  }
  result = -4;
  if ( a5 && a5 != 1
    || ((v11 = *(float *)&a1, (a1 & 0x7F800000) != 2139095040) ? (a2 <= v11 ? (a3 >= v11 ? (result = 0) : (result = -2)) : (result = -1)) : (result = -3),
        a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
  }
  else if ( !result )
  {
    return result;
  }
  if ( (unsigned int)&a4 & 3 || v6 )
  {
    v12 = a4;
    *(_BYTE *)(v5 + 1) = BYTE1(a4);
    *(_BYTE *)v5 = v12;
    *(_BYTE *)(v5 + 3) = BYTE3(v12);
    *(_BYTE *)(v5 + 2) = v12 >> 16;
    result = 1;
  }
  else
  {
    *(_DWORD *)v5 = a4;
    result = 1;
  }
  return result;
}

//----- (10051BD0) --------------------------------------------------------
unsigned int __cdecl sub_10051BD0(char *a1, char a2, char a3, char a4, int a5)
{
  char v5; // dl@1
  unsigned int result; // eax@1
  int v7; // eax@5

  v5 = *a1;
  result = -4;
  if ( a5 && a5 != 1
    || (v5 >= a2 ? (v7 = v5 < a3, LOBYTE(v7) = v5 <= a3, result = (v7 - 1) & 0xFFFFFFFE) : (result = -1), a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
    goto LABEL_10;
  }
  if ( result )
  {
LABEL_10:
    *a1 = a4;
    result = 1;
  }
  return result;
}

//----- (10051C20) --------------------------------------------------------
unsigned int __cdecl sub_10051C20(_BYTE *a1, signed int a2, signed int a3, signed int a4, int a5)
{
  _BYTE *v5; // ecx@1
  int v6; // edi@1
  unsigned int result; // eax@1
  _BYTE *v8; // esi@3
  int v9; // eax@9
  signed int v10; // eax@17

  v5 = a1;
  v6 = (unsigned __int8)a1 & 3;
  result = -4;
  if ( (unsigned __int8)a1 & 3 || (unsigned int)&a1 & 3 )
  {
    LOBYTE(a1) = *a1;
    BYTE1(a1) = v5[1];
    BYTE2(a1) = v5[2];
    BYTE3(a1) = v5[3];
    v8 = a1;
  }
  else
  {
    v8 = *(_BYTE **)a1;
  }
  if ( a5 && a5 != 1
    || ((signed int)v8 >= a2 ? (v9 = (signed int)v8 < a3,
                                LOBYTE(v9) = (signed int)v8 <= a3,
                                result = (v9 - 1) & 0xFFFFFFFE) : (result = -1),
        a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
  }
  else if ( !result )
  {
    return result;
  }
  if ( (unsigned int)&a4 & 3 || v6 )
  {
    v10 = a4;
    v5[1] = BYTE1(a4);
    *v5 = v10;
    v5[3] = BYTE3(v10);
    v5[2] = v10 >> 16;
    result = 1;
  }
  else
  {
    result = 1;
    *(_DWORD *)v5 = a4;
  }
  return result;
}

//----- (10051CE0) --------------------------------------------------------
unsigned int __cdecl sub_10051CE0(void *a1, size_t a2, int a3)
{
  unsigned int result; // eax@1
  int v4; // eax@3
  int v5; // ecx@3
  unsigned int v6; // ecx@3

  result = -4;
  if ( a3 && a3 != 1
    || (v4 = sub_10042650(a1, a2), v5 = v4 < 0, LOBYTE(v5) = v4 >= 0, v6 = (v5 - 1) & 0xFFFFFFFC, result = v6, a3 != 1) )
  {
    if ( a3 != 2 )
      return result;
    goto LABEL_7;
  }
  if ( v6 )
  {
LABEL_7:
    memset(a1, 0, a2);
    result = 1;
  }
  return result;
}

//----- (10051D40) --------------------------------------------------------
int __cdecl sub_10051D40(unsigned __int8 *a1, unsigned __int8 a2, unsigned __int8 a3, unsigned __int8 a4, int a5)
{
  unsigned __int8 v5; // dl@1
  int result; // eax@1

  v5 = *a1;
  result = -4;
  if ( a5 && a5 != 1 || (v5 >= a2 ? (result = a3 < v5 ? 0xFFFFFFFE : 0) : (result = -1), a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
    goto LABEL_10;
  }
  if ( result )
  {
LABEL_10:
    *a1 = a4;
    result = 1;
  }
  return result;
}

//----- (10051D90) --------------------------------------------------------
int __cdecl sub_10051D90(_BYTE *a1, unsigned __int16 a2, unsigned __int16 a3, __int16 a4, int a5)
{
  _BYTE *v5; // edx@1
  int v6; // esi@1
  int result; // eax@1
  char v8; // ah@17

  v5 = a1;
  v6 = (unsigned __int8)a1 & 1;
  result = -4;
  if ( (unsigned __int8)a1 & 1 || (unsigned int)&a1 & 1 )
  {
    LOBYTE(a1) = *a1;
    BYTE1(a1) = v5[1];
  }
  else
  {
    a1 = (_BYTE *)*(_WORD *)a1;
  }
  if ( a5 && a5 != 1
    || ((unsigned __int16)a1 >= a2 ? (result = a3 < (unsigned __int16)a1 ? 0xFFFFFFFE : 0) : (result = -1), a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
  }
  else if ( !result )
  {
    return result;
  }
  if ( (unsigned int)&a4 & 1 || v6 )
  {
    v8 = HIBYTE(a4);
    *v5 = a4;
    v5[1] = v8;
    result = 1;
  }
  else
  {
    *(_WORD *)v5 = a4;
    result = 1;
  }
  return result;
}

//----- (10051E30) --------------------------------------------------------
int __cdecl sub_10051E30(_BYTE *a1, unsigned int a2, unsigned int a3, unsigned int a4, int a5)
{
  _BYTE *v5; // ecx@1
  int v6; // edi@1
  int result; // eax@1
  _BYTE *v8; // esi@3
  unsigned int v9; // eax@17

  v5 = a1;
  v6 = (unsigned __int8)a1 & 3;
  result = -4;
  if ( (unsigned __int8)a1 & 3 || (unsigned int)&a1 & 3 )
  {
    LOBYTE(a1) = *a1;
    BYTE1(a1) = v5[1];
    BYTE2(a1) = v5[2];
    BYTE3(a1) = v5[3];
    v8 = a1;
  }
  else
  {
    v8 = *(_BYTE **)a1;
  }
  if ( a5 && a5 != 1
    || ((unsigned int)v8 >= a2 ? (result = a3 < (unsigned int)v8 ? 0xFFFFFFFE : 0) : (result = -1), a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
  }
  else if ( !result )
  {
    return result;
  }
  if ( (unsigned int)&a4 & 3 || v6 )
  {
    v9 = a4;
    v5[1] = BYTE1(a4);
    *v5 = v9;
    v5[3] = BYTE3(v9);
    v5[2] = v9 >> 16;
    result = 1;
  }
  else
  {
    result = 1;
    *(_DWORD *)v5 = a4;
  }
  return result;
}

//----- (10051EE0) --------------------------------------------------------
char __cdecl sub_10051EE0(char a1, char a2, char a3, int a4, void *a5)
{
  char result; // al@3
  char v6; // [sp+0h] [bp-4h]@1

  v6 = sub_10052FD0(a1);
  switch ( a3 )
  {
    case 5:
      if ( a2 != 1 )
        goto LABEL_10;
      sub_10052DD0(v6, *(_BYTE *)a4, *(_BYTE *)(a4 + 1), *(_BYTE *)(a4 + 2), a5);
      result = 1;
      break;
    case 4:
      if ( a2 != 1 )
        goto LABEL_10;
      sub_10052E50(v6, *(_BYTE *)a4, *(_BYTE *)(a4 + 1), *(_BYTE *)(a4 + 2), a5);
      result = 1;
      break;
    case 0xA:
      if ( a2 != 1 )
        goto LABEL_10;
      sub_10052ED0(v6, *(_BYTE *)a4, *(_BYTE *)(a4 + 1), *(_BYTE *)(a4 + 2), a5);
      result = 1;
      break;
    case 3:
      if ( a2 != 1 )
        goto LABEL_10;
      result = sub_10052F50(v6, *(_BYTE *)a4, *(_BYTE *)(a4 + 1), *(_BYTE *)(a4 + 2), a5);
      break;
    default:
LABEL_10:
      result = 0;
      break;
  }
  return result;
}

//----- (10051FF0) --------------------------------------------------------
int __cdecl sub_10051FF0(char a1)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = sub_10045BE0(&a1, 1u, (int)&unk_100BB050, 8, 4, 4);
  if ( v1 == 4 )
  {
    sub_100429F0("..\\lib\\acl\\iop\\gea\\iop_gea_cnfg_intf.c", 437, 0, 0);
    result = 42066;
  }
  else
  {
    result = dword_100BB054[2 * v1];
  }
  return result;
}
// 100BB054: using guessed type int dword_100BB054[];

//----- (10052040) --------------------------------------------------------
bool __cdecl sub_10052040(void *a1)
{
  char v1; // al@1

  v1 = sub_10047D80(1, 1946, a1);
  *((_DWORD *)a1 + 1) = (unsigned int)(*((_DWORD *)a1 + 1) * (unsigned __int64)(unsigned int)&unk_10624DD3 >> 32) >> 6;
  return v1 && !sub_10046EF0((int)a1);
}

//----- (10052080) --------------------------------------------------------
char __cdecl sub_10052080(char a1)
{
  return byte_100BD521[2 * (unsigned __int8)sub_10045BE0(&a1, 1u, (int)&unk_100BD520, 2, 4, 3)];
}

//----- (100520B0) --------------------------------------------------------
char __cdecl sub_100520B0(char a1, void *a2)
{
  void *v3; // esi@6
  char v4; // al@6

  if ( a1 )
  {
    if ( a1 == 1 )
    {
      v3 = a2;
      v4 = sub_10047D80(1, 546, a2);
    }
    else
    {
      if ( a1 != 2 )
      {
        sub_100429F0("..\\lib\\acl\\iop\\iop_com_intf.c", 187, 0, 0);
        return 0;
      }
      v3 = a2;
      v4 = sub_10052040(a2);
    }
  }
  else
  {
    v3 = a2;
    v4 = sub_10047D80(1, 538, a2);
  }
  if ( !v4 || sub_10046EF0((int)v3) )
    return 0;
  return 1;
}

//----- (10052130) --------------------------------------------------------
int __cdecl sub_10052130(char a1, _DWORD *a2)
{
  int result; // eax@1
  int v3; // [sp+4h] [bp-Ch]@1
  int v4; // [sp+8h] [bp-8h]@1

  v3 = 0;
  v4 = 0;
  LOBYTE(result) = sub_100520B0(a1, &v3);
  *a2 = v4;
  return result;
}

//----- (10052180) --------------------------------------------------------
int __cdecl sub_10052180(unsigned __int8 *a1)
{
  return sub_10051D40(a1, 0, 0, 0, 0);
}

//----- (100521A0) --------------------------------------------------------
unsigned int __cdecl sub_100521A0(void *a1)
{
  return sub_10051CE0(a1, 0x20u, 0);
}

//----- (100521C0) --------------------------------------------------------
unsigned int __cdecl sub_100521C0(void *a1)
{
  return sub_10051CE0(a1, 0x1Cu, 0);
}

//----- (100521E0) --------------------------------------------------------
unsigned int __cdecl sub_100521E0(void *a1)
{
  return sub_10051CE0(a1, 0x10u, 0);
}

//----- (10052200) --------------------------------------------------------
unsigned int __cdecl sub_10052200(void *a1)
{
  return sub_10051CE0(a1, 0xCu, 0);
}

//----- (10052220) --------------------------------------------------------
unsigned int __cdecl sub_10052220(void *a1)
{
  return sub_10051CE0(a1, 8u, 0);
}

//----- (10052240) --------------------------------------------------------
unsigned int __cdecl sub_10052240(void *a1)
{
  unsigned int result; // eax@1

  result = sub_100521A0((char *)a1 + 64);
  if ( !result )
  {
    result = sub_100521C0((char *)a1 + 36);
    if ( !result )
    {
      result = sub_100521E0(a1);
      if ( !result )
      {
        result = sub_10052200((char *)a1 + 96);
        if ( !result )
        {
          result = sub_10052200((char *)a1 + 24);
          if ( !result )
            result = sub_10052220((char *)a1 + 16);
        }
      }
    }
  }
  return result;
}

//----- (100522A0) --------------------------------------------------------
int __cdecl sub_100522A0(unsigned __int8 *a1, int a2)
{
  int result; // eax@1

  result = sub_10051D40(a1, 0, 0x7Fu, 0, a2);
  if ( result != 1 && !result )
    result = 0;
  return result;
}

//----- (100522D0) --------------------------------------------------------
char __cdecl sub_100522D0(int a1, int a2)
{
  int v2; // eax@1
  int v3; // eax@11
  int v4; // eax@16
  int v6; // [sp+8h] [bp-54h]@1
  int v7; // [sp+Ch] [bp-50h]@1
  int v8; // [sp+10h] [bp-4Ch]@1
  int v9; // [sp+14h] [bp-48h]@1
  int v10; // [sp+18h] [bp-44h]@1
  char v11; // [sp+1Ch] [bp-40h]@16

  LOBYTE(v2) = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  if ( a1 == 28 || a1 == 29 || a1 == 30 || a1 == 31 || a1 == 32 || a1 == 48 || a1 == 33 || a1 == 34 )
  {
    v2 = sub_10045BE0((_DWORD *)a2, 2u, (int)&unk_100C00E8, 8, 77, 77);
    if ( v2 != 77 )
    {
      if ( *(_WORD *)a2 == -32768 )
      {
        v3 = *(_WORD *)(a2 + 10) + 16;
      }
      else if ( *(_WORD *)a2 == -32767 )
      {
        v3 = *(_DWORD *)(a2 + 4) + 8;
      }
      else
      {
        v3 = dword_100C00EC[2 * v2] + 4;
      }
      v7 = v3;
      v10 = 65;
      v6 = a2;
      v9 = 10;
      v2 = sub_10055280(a1, (int)&v6);
      if ( v2 == 16 )
      {
        v4 = sub_10055030();
        sub_10042720(&v11, 0x3Cu, "message queue timed out sending from: %d to %d", v4, a1);
        LOBYTE(v2) = sub_100429F0("..\\lib\\adl\\iop_msg_intf.c", 433, 0, &v11);
      }
    }
  }
  return v2;
}
// 100C00EC: using guessed type int dword_100C00EC[];

//----- (100523F0) --------------------------------------------------------
signed int __fastcall sub_100523F0(unsigned __int8 a1)
{
  signed int result; // eax@1

  result = 176;
  if ( a1 < 0xB0u )
    result = a1;
  return result;
}

//----- (10052400) --------------------------------------------------------
char __cdecl sub_10052400(unsigned __int8 a1)
{
  return byte_100C03A4[6 * sub_100523F0(a1)];
}

//----- (10052420) --------------------------------------------------------
__int16 __cdecl sub_10052420(unsigned __int8 a1)
{
  return word_100C03A0[3 * sub_100523F0(a1)];
}
// 100C03A0: using guessed type __int16 word_100C03A0[];

//----- (10052440) --------------------------------------------------------
signed int __cdecl sub_10052440(char a1, char a2)
{
  _DWORD *v2; // esi@3
  int v3; // eax@5
  char *v5; // [sp-18h] [bp-20h]@3
  void *v6; // [sp-10h] [bp-18h]@3
  int v7; // [sp-8h] [bp-10h]@3

  if ( a2 == 11 )
  {
    v7 = 3;
    v2 = &unk_100C08A8;
    v6 = &unk_100C08A8;
    v5 = &a1;
  }
  else
  {
    if ( a2 != 16 )
      return 42066;
    v7 = 7;
    v2 = &unk_100C08C0;
    v6 = &unk_100C08C0;
    v5 = &a1;
  }
  v3 = sub_10045BE0(v5, 1u, (int)v6, 8, v7, 7);
  if ( v3 < 7 )
    return v2[2 * v3 + 1];
  return 42066;
}

//----- (100524A0) --------------------------------------------------------
int __cdecl sub_100524A0(char a1)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = sub_10045BE0(&a1, 1u, (int)&unk_100C0908, 8, 2, 2);
  if ( v1 == 2 )
    result = 42066;
  else
    result = dword_100C090C[2 * v1];
  return result;
}
// 100C090C: using guessed type int dword_100C090C[];

//----- (100524E0) --------------------------------------------------------
signed int __cdecl sub_100524E0(char a1, char a2, char a3)
{
  _DWORD *v3; // esi@3
  int v4; // eax@5
  signed int result; // eax@7
  char *v6; // [sp-18h] [bp-20h]@3
  void *v7; // [sp-10h] [bp-18h]@3

  if ( a2 == 11 )
  {
    v3 = &unk_100C0918;
    v7 = &unk_100C0918;
    v6 = &a1;
  }
  else
  {
    if ( a2 != 16 )
      return 42066;
    v3 = &unk_100C0930;
    v7 = &unk_100C0930;
    v6 = &a1;
  }
  v4 = sub_10045BE0(v6, 1u, (int)v7, 12, 2, 2);
  if ( v4 == 2 )
    return 42066;
  if ( a3 )
    result = v3[3 * v4 + 1];
  else
    result = v3[3 * v4 + 2];
  return result;
}

//----- (10052550) --------------------------------------------------------
int __cdecl sub_10052550(char a1)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = sub_10045BE0(&a1, 1u, (int)&unk_100C0948, 8, 3, 3);
  if ( v1 == 3 )
    result = 42066;
  else
    result = dword_100C094C[2 * v1];
  return result;
}
// 100C094C: using guessed type int dword_100C094C[];

//----- (10052590) --------------------------------------------------------
int __cdecl sub_10052590(char a1)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = sub_10045BE0(&a1, 1u, (int)&unk_100C0960, 8, 2, 2);
  if ( v1 == 2 )
    result = 42066;
  else
    result = dword_100C0964[2 * v1];
  return result;
}
// 100C0964: using guessed type int dword_100C0964[];

//----- (100525D0) --------------------------------------------------------
char __cdecl sub_100525D0(char a1, int a2)
{
  int v2; // eax@1

  v2 = sub_10052440(a1, 11);
  return sub_10055FA0(v2, a2, 24);
}

//----- (100525F0) --------------------------------------------------------
char __cdecl sub_100525F0(char a1, int a2)
{
  int v2; // eax@1

  v2 = sub_100524A0(a1);
  return sub_10055FA0(v2, a2, 2720);
}

//----- (10052620) --------------------------------------------------------
char __cdecl sub_10052620(char a1, int a2)
{
  int v2; // eax@1
  int v3; // eax@1

  v2 = sub_100524E0(a1, 11, 1);
  sub_10055FA0(v2, a2, 36);
  v3 = sub_100524E0(a1, 11, 0);
  return sub_10055FA0(v3, a2 + 36, 32);
}

//----- (10052670) --------------------------------------------------------
char __cdecl sub_10052670(char a1, int a2)
{
  int v2; // eax@1

  v2 = sub_10052550(a1);
  return sub_10055FA0(v2, a2, 2192);
}

//----- (100526A0) --------------------------------------------------------
char __cdecl sub_100526A0(char a1, int a2)
{
  int v2; // eax@1

  v2 = sub_10052590(a1);
  return sub_10055FA0(v2, a2, 60);
}

//----- (100526C0) --------------------------------------------------------
char __cdecl sub_100526C0(int a1)
{
  return sub_10055FA0(6453, a1, 5);
}

//----- (100526E0) --------------------------------------------------------
char __cdecl sub_100526E0(char a1)
{
  char result; // al@1

  result = 0;
  if ( a1 )
  {
    if ( a1 == 1 )
      result = sub_10048160(11);
  }
  else
  {
    result = sub_10048160(5);
  }
  return result;
}

//----- (10052710) --------------------------------------------------------
char sub_10052710()
{
  char v1; // [sp+4h] [bp-100h]@1

  memset(&v1, 0, 0xFCu);
  if ( sub_10047D80(1, 1309, &v1) )
    sub_10046FE0((int)&v1);
  return 0;
}

//----- (100527B0) --------------------------------------------------------
BOOL __cdecl sub_100527B0(int a1, int a2)
{
  return sub_10055F80(6455, a2, 252) == 0;
}

//----- (100527D0) --------------------------------------------------------
char __cdecl sub_100527D0(int a1, char a2, int a3, int a4, int a5)
{
  char result; // al@1

  result = 0;
  if ( a2 )
  {
    if ( a2 == 1 )
      result = sub_100527B0(a1, a5);
  }
  else
  {
    result = sub_10052710();
  }
  return result;
}

//----- (10052810) --------------------------------------------------------
char sub_10052810()
{
  unsigned __int16 v0; // dx@1
  int v1; // ecx@2
  unsigned __int16 v2; // ax@9
  int v4[7]; // [sp+8h] [bp-1Ch]@1

  sub_10055FE0(6465, (int)v4, 28);
  v0 = 0;
LABEL_2:
  v1 = v4[v0];
  if ( v1 == 1 || v1 == 2 || v1 == 4 || v1 == 64 || v1 == 128 || v1 == 16 || v1 == 32 )
  {
    v2 = 0;
    while ( v2 == v0 || v4[v2] != v1 )
    {
      if ( ++v2 >= 7u )
      {
        if ( ++v0 < 7u )
          goto LABEL_2;
        return 1;
      }
    }
  }
  return 0;
}
// 10052810: using guessed type int var_1C[7];

//----- (10052890) --------------------------------------------------------
int __cdecl sub_10052890(char a1)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = sub_10045BE0(&a1, 1u, (int)&unk_100C4DC8, 8, 67, 0);
  if ( v1 )
  {
    result = dword_100C4DCC[2 * v1];
  }
  else
  {
    sub_100429F0("..\\lib\\adl\\iop_cnfg_mngr_intf.c", 1932, 0, 0);
    result = 0;
  }
  return result;
}
// 100C4DCC: using guessed type int dword_100C4DCC[];

//----- (100528E0) --------------------------------------------------------
int __cdecl sub_100528E0(int a1)
{
  return (*(int (**)(void))(a1 + 4))();
}

//----- (100528F0) --------------------------------------------------------
char __cdecl sub_100528F0(int a1, unsigned int a2)
{
  char result; // al@1

  result = 1;
  if ( a2 > 4 && !memcmp(*(const void **)(a1 + 16), "PASS", 5u) )
    result = 0;
  return result;
}

//----- (10052920) --------------------------------------------------------
int __cdecl sub_10052920(int a1, int a2, int a3)
{
  int *v3; // esi@1
  signed int v4; // edi@1
  int result; // eax@2

  v3 = (int *)(sub_10049EF0() + 36);
  v4 = 5;
  do
  {
    result = *v3;
    if ( *v3 )
    {
      result = *(_DWORD *)(result + 4);
      if ( result )
        result = ((int (__cdecl *)(int, int, int))result)(a1, a2, a3);
    }
    ++v3;
    --v4;
  }
  while ( v4 );
  return result;
}

//----- (10052990) --------------------------------------------------------
int __cdecl sub_10052990(int a1, char a2)
{
  return sub_10052920(a1, (int)&a2, 1);
}

//----- (100529B0) --------------------------------------------------------
int __cdecl sub_100529B0(int a1, int a2, int a3)
{
  int v4; // [sp+0h] [bp-8h]@1
  int v5; // [sp+4h] [bp-4h]@1

  v4 = a2;
  v5 = a3;
  return sub_10052920(a1, (int)&v4, 2);
}

//----- (100529E0) --------------------------------------------------------
int __cdecl sub_100529E0(int a1, int a2, int a3, int a4, int a5)
{
  int v6; // [sp+0h] [bp-10h]@1
  int v7; // [sp+4h] [bp-Ch]@1
  int v8; // [sp+8h] [bp-8h]@1
  int v9; // [sp+Ch] [bp-4h]@1

  v7 = a3;
  v8 = a4;
  v6 = a2;
  v9 = a5;
  return sub_10052920(a1, (int)&v6, 4);
}

//----- (10052A20) --------------------------------------------------------
int __cdecl sub_10052A20(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v7; // [sp+0h] [bp-14h]@1
  int v8; // [sp+4h] [bp-10h]@1
  int v9; // [sp+8h] [bp-Ch]@1
  int v10; // [sp+Ch] [bp-8h]@1
  int v11; // [sp+10h] [bp-4h]@1

  v7 = a2;
  v9 = a4;
  v10 = a5;
  v8 = a3;
  v11 = a6;
  return sub_10052920(a1, (int)&v7, 5);
}

//----- (10052A60) --------------------------------------------------------
int __cdecl sub_10052A60(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v8; // [sp+0h] [bp-18h]@1
  int v9; // [sp+4h] [bp-14h]@1
  int v10; // [sp+8h] [bp-10h]@1
  int v11; // [sp+Ch] [bp-Ch]@1
  int v12; // [sp+10h] [bp-8h]@1
  int v13; // [sp+14h] [bp-4h]@1

  v8 = a2;
  v9 = a3;
  v11 = a5;
  v12 = a6;
  v10 = a4;
  v13 = a7;
  return sub_10052920(a1, (int)&v8, 6);
}

//----- (10052AB0) --------------------------------------------------------
char __cdecl sub_10052AB0(int a1)
{
  char v1; // bl@1
  char *v2; // eax@1
  unsigned int v3; // ecx@1
  _DWORD *v4; // eax@1

  v1 = 0;
  v2 = sub_10049EF0();
  v3 = 0;
  v4 = v2 + 36;
  do
  {
    if ( v3 >= 5 )
      break;
    if ( *v4 == a1 )
    {
      v1 = 1;
      *v4 = 0;
    }
    ++v3;
    ++v4;
  }
  while ( !v1 );
  return v1;
}

//----- (10052AE0) --------------------------------------------------------
int __cdecl sub_10052AE0(int a1)
{
  int result; // eax@1

  result = sub_100494D0();
  dword_10E5E5A4[result] = a1;
  return result;
}
// 10E5E5A4: using guessed type int dword_10E5E5A4[];

//----- (10052B00) --------------------------------------------------------
char *sub_10052B00(char *a1, ...)
{
  int v1; // esi@1
  char *result; // eax@1
  va_list va; // [sp+10h] [bp+8h]@1

  va_start(va, a1);
  v1 = sub_100494D0() << 8;
  _vsnprintf(&byte_10E578A8[v1], 0x100u, a1, va);
  result = &byte_10E578A8[v1];
  byte_10E579A6[v1] = 42;
  byte_10E579A7[v1] = 0;
  return result;
}

//----- (10052B40) --------------------------------------------------------
int __cdecl sub_10052B40(int a1, int a2)
{
  int result; // eax@1
  char *v3; // eax@4

  result = sub_100494D0();
  dword_10E5E590[result] = a1;
  if ( a2 >= 0 )
  {
    dword_10E5C4AC[result] = a2;
    if ( a2 > 14 )
    {
      v3 = sub_10052B00(
             "Floating point (double) precision set to a value (%d) greater than supported by the UTF (%d)",
             a2,
             14);
      result = sub_100529E0(3, (int)"**Warning**", (int)"..\\lib\\utf\\utf_verify.c", (int)"909", (int)v3);
    }
  }
  else
  {
    dword_10E5C4AC[result] = 8;
  }
  return result;
}
// 10E5C4AC: using guessed type int dword_10E5C4AC[];
// 10E5E590: using guessed type int dword_10E5E590[];

//----- (10052BA0) --------------------------------------------------------
int __cdecl sub_10052BA0(int a1)
{
  return sub_10052B40(0, a1);
}

//----- (10052BB0) --------------------------------------------------------
int __cdecl sub_10052BB0(int a1, int a2)
{
  int result; // eax@1
  char *v3; // eax@4

  result = sub_100494D0();
  dword_10E5FBAC[result] = a1;
  if ( a2 >= 0 )
  {
    dword_10E5FB98[result] = a2;
    if ( a2 > 9 )
    {
      v3 = sub_10052B00(
             "Floating point (float) precision set to a value (%d) greater than supported by the UTF (%d)",
             a2,
             9);
      result = sub_100529E0(3, (int)"**Warning**", (int)"..\\lib\\utf\\utf_verify.c", (int)"977", (int)v3);
    }
  }
  else
  {
    dword_10E5FB98[result] = 8;
  }
  return result;
}
// 10E5FB98: using guessed type int dword_10E5FB98[];
// 10E5FBAC: using guessed type int dword_10E5FBAC[];

//----- (10052C10) --------------------------------------------------------
int __cdecl sub_10052C10(int a1)
{
  return sub_10052BB0(0, a1);
}

//----- (10052C20) --------------------------------------------------------
int sub_10052C20()
{
  int v0; // esi@1
  int result; // eax@1

  v0 = sub_100494D0();
  sub_10052AE0(1);
  sub_10052C10(-1);
  result = sub_10052BA0(-1);
  dword_10E5C498[v0] = 0;
  return result;
}
// 10E5C498: using guessed type int dword_10E5C498[];

//----- (10052C50) --------------------------------------------------------
int __cdecl sub_10052C50(char a1, char a2)
{
  int v2; // esi@1
  int result; // eax@4

  v2 = dword_100C6504[2 * sub_10045BE0(&a1, 1u, (int)&unk_100C6500, 8, 3, 3)];
  if ( a1 )
  {
    if ( a1 == 1 )
    {
      result = v2 + dword_100C6544[2 * sub_10045BE0(&a2, 1u, (int)&unk_100C6540, 8, 6, 6)];
    }
    else if ( a1 == 2 )
    {
      result = v2 + dword_100C6574[2 * sub_10045BE0(&a2, 1u, (int)&unk_100C6570, 8, 5, 5)];
    }
    else
    {
      result = v2;
    }
  }
  else
  {
    result = v2 + dword_100C651C[2 * sub_10045BE0(&a2, 1u, (int)&unk_100C6518, 8, 5, 5)];
  }
  return result;
}
// 100C6504: using guessed type int dword_100C6504[];
// 100C651C: using guessed type int dword_100C651C[];
// 100C6544: using guessed type int dword_100C6544[];
// 100C6574: using guessed type int dword_100C6574[];

//----- (10052D00) --------------------------------------------------------
bool __usercall sub_10052D00@<al>(unsigned __int8 a1@<al>, char a2, unsigned __int8 a3)
{
  return a2 == 7 && a3 >= (unsigned __int8)byte_100D386F[44 * a1] - (unsigned __int8)byte_100D386A[44 * a1];
}

//----- (10052D30) --------------------------------------------------------
char __usercall sub_10052D30@<al>(unsigned __int8 a1@<bl>, size_t a2@<edi>, int a3@<esi>, char a4, unsigned __int8 a5, void *a6)
{
  int v6; // eax@2
  char result; // al@3
  int v8; // eax@4

  if ( sub_10052D00(a1, a4, a5) )
  {
    v6 = a3
       + sub_10052C50(a1, 6)
       + 36 * (a5 + (unsigned __int8)byte_100D386A[44 * a1] - (unsigned __int8)byte_100D386F[44 * a1]);
    if ( *(_BYTE *)(v6 + 2) == 6 )
    {
      memcpy(a6, (const void *)(v6 + 4), a2);
      result = 1;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    v8 = sub_10052C50(a1, a4);
    memcpy(a6, (const void *)(a3 + v8 + a2 * a5), a2);
    result = 1;
  }
  return result;
}

//----- (10052DD0) --------------------------------------------------------
char __cdecl sub_10052DD0(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5)
{
  int v5; // eax@1
  char v7; // [sp+Ch] [bp-E64h]@1

  memset(&v7, 0, 0xE64u);
  v5 = sub_10051FF0(a1);
  sub_10055FA0(v5, (int)&v7, 3684);
  return sub_10052D30(a2, 0x2Cu, (int)&v7, a3, a4, a5);
}

//----- (10052E50) --------------------------------------------------------
char __cdecl sub_10052E50(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5)
{
  int v5; // eax@1
  char v7; // [sp+Ch] [bp-E64h]@1

  memset(&v7, 0, 0xE64u);
  v5 = sub_10051FF0(a1);
  sub_10055FA0(v5, (int)&v7, 3684);
  return sub_10052D30(a2, 3u, (int)&v7, a3, a4, a5);
}

//----- (10052ED0) --------------------------------------------------------
char __cdecl sub_10052ED0(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5)
{
  int v5; // eax@1
  char v7; // [sp+Ch] [bp-E64h]@1

  memset(&v7, 0, 0xE64u);
  v5 = sub_10051FF0(a1);
  sub_10055FA0(v5, (int)&v7, 3684);
  return sub_10052D30(a2, 0x24u, (int)&v7, a3, a4, a5);
}

//----- (10052F50) --------------------------------------------------------
char __cdecl sub_10052F50(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5)
{
  int v5; // eax@1
  char v7; // [sp+Ch] [bp-E64h]@1

  memset(&v7, 0, 0xE64u);
  v5 = sub_10051FF0(a1);
  sub_10055FA0(v5, (int)&v7, 3684);
  return sub_10052D30(a2, 0xCu, (int)&v7, a3, a4, a5);
}

//----- (10052FD0) --------------------------------------------------------
char __cdecl sub_10052FD0(char a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 0xC:
    case 0x3F:
      result = 0;
      break;
    case 0xD:
    case 0x40:
      result = 1;
      break;
    case 0xE:
    case 0x41:
      result = 2;
      break;
    case 0x2A:
    case 0x42:
      result = 3;
      break;
    default:
      sub_100429F0("..\\lib\\acl\\iop\\gea\\iop_gea_cnfg_utl.c", 139, 0, 0);
      result = 0;
      break;
  }
  return result;
}

//----- (10053070) --------------------------------------------------------
BOOL __cdecl sub_10053070(unsigned __int8 a1)
{
  return a1 <= 1u;
}

//----- (10053080) --------------------------------------------------------
BOOL __usercall sub_10053080@<eax>(unsigned __int8 a1@<al>, char a2)
{
  _BYTE *v2; // ecx@1

  return (unsigned __int8)sub_10053070(a1) && *v2 < 3u && a2 == 24;
}

//----- (100530B0) --------------------------------------------------------
bool __cdecl sub_100530B0(char a1, char a2, unsigned __int8 a3, int a4)
{
  bool v4; // bl@1
  unsigned __int8 v5; // cl@2
  int v6; // esi@3
  char v8; // al@16
  char v9; // cl@16
  char v10; // dl@16
  int v11; // ecx@18
  int v12; // edx@18
  int v13; // eax@18
  char v14; // [sp+Bh] [bp-29h]@3
  int v15; // [sp+Ch] [bp-28h]@9
  struct tm Tm; // [sp+10h] [bp-24h]@5

  v4 = 0;
  if ( a3 < 3u )
  {
    if ( (unsigned __int8)sub_10053070(a1) )
    {
      v6 = 10 * v5;
      if ( sub_10047F50((unsigned __int8)byte_100C74A0[20 * v5], (bool *)&v14) )
      {
        if ( v14 )
        {
          if ( !sub_10047D80(1, (unsigned __int16)word_100C7498[v6], &Tm.tm_mon) || sub_10046EA0((int)&Tm.tm_mon) )
            return 0;
          v4 = 1;
        }
        else
        {
          if ( !(unsigned __int8)sub_10052130(a1, &v15) || v15 != dword_100C74B8[2 * a3] || a2 == 11 )
            return v4;
          Tm.tm_sec = 0;
          Tm.tm_min = 0;
          Tm.tm_hour = 0;
          LOBYTE(Tm.tm_mday) = 0;
          v4 = sub_10047D80(1, (unsigned __int16)word_100C749C[v6], &Tm) && !_mkgmtime(&Tm);
          v8 = BYTE1(Tm.tm_hour);
          v9 = BYTE2(Tm.tm_min);
          *((_BYTE *)&Tm.tm_mon + 4 * a3) = Tm.tm_min;
          v10 = BYTE2(Tm.tm_hour);
          *((_BYTE *)&Tm.tm_mon + 4 * a3 + 2) = v8;
          *((_BYTE *)&Tm.tm_mon + 4 * a3 + 1) = v9;
          *((_BYTE *)&Tm.tm_mon + 4 * a3 + 3) = v10;
          if ( !v4 )
            return v4;
        }
        if ( a2 == 11 )
        {
          v11 = Tm.tm_year;
          v12 = Tm.tm_wday;
          *(_DWORD *)a4 = Tm.tm_mon;
          v13 = Tm.tm_yday;
          *(_DWORD *)(a4 + 4) = v11;
          *(_DWORD *)(a4 + 8) = v12;
          *(_DWORD *)(a4 + 12) = v13;
          return v4;
        }
        *(_DWORD *)a4 = *(&Tm.tm_mon + a3);
      }
    }
  }
  return v4;
}
// 100C7498: using guessed type __int16 word_100C7498[];
// 100C749C: using guessed type __int16 word_100C749C[];
// 100C74B8: using guessed type int dword_100C74B8[];

//----- (10053260) --------------------------------------------------------
bool __cdecl sub_10053260(unsigned __int8 a1, int a2)
{
  bool v2; // dl@1
  unsigned __int8 v3; // cl@1
  bool result; // al@2

  if ( (unsigned __int8)sub_10053070(a1) )
    result = sub_10055F80((unsigned __int16)word_100C74A2[10 * v3], a2, 32) == 0;
  else
    result = v2;
  return result;
}
// 100C74A2: using guessed type __int16 word_100C74A2[];

//----- (100532A0) --------------------------------------------------------
bool __cdecl sub_100532A0(char a1, char a2, char a3, unsigned __int8 *a4, _DWORD *a5, int a6)
{
  unsigned __int8 v6; // dl@1
  bool result; // al@4
  char v8; // [sp+13h] [bp-29h]@5
  unsigned int v9; // [sp+14h] [bp-28h]@1
  char v10; // [sp+18h] [bp-24h]@7
  int v11[7]; // [sp+1Ch] [bp-20h]@8

  LOBYTE(v9) = sub_10052080(a1);
  if ( !(unsigned __int8)sub_10053080(v9, a3) || a6 != 4 )
    goto LABEL_12;
  if ( !a2 )
    return sub_100530B0(v9, a3, *a4, (int)a5);
  if ( sub_10047F50((unsigned __int8)byte_100C74A0[20 * v6], (bool *)&v8) && v8 && sub_10053260(v9, (int)&v10) )
  {
    *a5 = v11[*a4];
    result = 1;
  }
  else
  {
LABEL_12:
    result = 0;
  }
  return result;
}
// 100532A0: using guessed type int var_20[7];

//----- (10053390) --------------------------------------------------------
bool __cdecl sub_10053390(unsigned __int8 a1, char a2, unsigned int a3)
{
  int v3; // eax@1
  bool result; // al@5

  v3 = sub_10045BE0(&a2, 4u, (int)&dword_100CAEB0, 12, 3, 3);
  if ( a3 < 0xFFFFFFC2 && a3 && v3 < 3 && a1 < 2u )
  {
    result = sub_10055F80((unsigned __int16)word_100CAEB4[a1 + 6 * v3], a3, (unsigned __int16)word_100CAEB8[6 * v3]) == 0;
  }
  else
  {
    sub_100429F0("..\\lib\\acl\\iop\\gtx\\iop_gtx_intf.c", 254, 0, 0);
    result = 0;
  }
  return result;
}
// 100CAEB0: using guessed type int dword_100CAEB0;
// 100CAEB4: using guessed type __int16 word_100CAEB4[];
// 100CAEB8: using guessed type __int16 word_100CAEB8[];

//----- (10053420) --------------------------------------------------------
bool __cdecl sub_10053420(char a1, char a2, char a3, int a4, unsigned int a5, unsigned int a6)
{
  int v6; // eax@1
  int v7; // eax@7
  unsigned int v8; // edx@7
  int v9; // eax@7
  bool result; // al@9
  unsigned __int8 v11; // [sp+4h] [bp-4h]@1

  v11 = sub_100534C0(a1);
  v6 = sub_10045BE0(&a3, 1u, (int)&unk_100CAED4, 8, 3, 3);
  if ( v6 < 3 )
    v6 = sub_10045BE0(&dword_100CAED8[2 * v6], 4u, (int)&dword_100CAEB0, 12, 3, 3);
  if ( a5 < 0xFFFFFFC2
    && a5
    && v6 < 3
    && v11 < 2u
    && (v7 = 6 * v6, v8 = (unsigned __int16)word_100CAEB8[v7], v9 = 2 * v7, a6 >= v8)
    && a2 == 1 )
  {
    result = sub_10053390(v11, *(int *)((char *)&dword_100CAEB0 + v9), a5);
  }
  else
  {
    result = 0;
  }
  return result;
}
// 100CAEB0: using guessed type int dword_100CAEB0;
// 100CAEB8: using guessed type __int16 word_100CAEB8[];

//----- (100534C0) --------------------------------------------------------
char __cdecl sub_100534C0(char a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 0xA:
    case 0x30:
      result = 0;
      break;
    case 0xB:
    case 0x31:
      result = 1;
      break;
    default:
      sub_100429F0("..\\lib\\acl\\iop\\iop_xpdr_cnfg_utl.c", 155, 0, 0);
      result = 2;
      break;
  }
  return result;
}

//----- (10053540) --------------------------------------------------------
char __cdecl sub_10053540(char a1, int a2)
{
  char v2; // cl@1
  char v3; // dl@1
  int v4; // eax@1
  int v5; // ecx@1
  int v6; // edx@1
  int v7; // eax@1
  int v8; // ecx@1
  int v9; // eax@1
  int v10; // ecx@1
  bool v11; // zf@1
  int v12; // eax@3
  int v13; // ecx@3
  char v14; // dl@3
  __int16 v15; // ax@5
  char v16; // dl@5
  int v18; // [sp+4h] [bp-58h]@1
  char v19; // [sp+8h] [bp-54h]@1
  __int64 v20; // [sp+Ch] [bp-50h]@1
  int v21; // [sp+14h] [bp-48h]@1
  int v22; // [sp+18h] [bp-44h]@1
  char v23; // [sp+1Ch] [bp-40h]@1
  __int16 v24; // [sp+1Eh] [bp-3Eh]@1
  int v25; // [sp+20h] [bp-3Ch]@4
  int v26; // [sp+24h] [bp-38h]@4
  char v27; // [sp+28h] [bp-34h]@4
  char v28; // [sp+2Ah] [bp-32h]@1
  char v29; // [sp+2Bh] [bp-31h]@1
  int v30; // [sp+2Ch] [bp-30h]@1
  int v31; // [sp+30h] [bp-2Ch]@1
  int v32; // [sp+34h] [bp-28h]@1
  int v33; // [sp+38h] [bp-24h]@1
  int v34; // [sp+3Ch] [bp-20h]@1
  int v35; // [sp+40h] [bp-1Ch]@1
  int v36; // [sp+44h] [bp-18h]@1
  int v37; // [sp+48h] [bp-14h]@1
  int v38; // [sp+4Ch] [bp-10h]@1
  int v39; // [sp+50h] [bp-Ch]@1
  int v40; // [sp+54h] [bp-8h]@1

  memset(&v23, 0, 0x3Cu);
  v20 = 0i64;
  v21 = 0;
  v22 = 0;
  v18 = 0;
  v19 = 0;
  sub_100526A0(a1, (int)&v23);
  v2 = v28;
  v3 = v29;
  *(_WORD *)a2 = v24;
  *(_DWORD *)(a2 + 28) = v33;
  v4 = v36;
  *(_BYTE *)(a2 + 12) = v2;
  *(_DWORD *)(a2 + 32) = v34;
  v5 = v37;
  *(_BYTE *)(a2 + 13) = v3;
  *(_DWORD *)(a2 + 36) = v35;
  v6 = v38;
  *(_DWORD *)(a2 + 40) = v4;
  v7 = v30;
  *(_DWORD *)(a2 + 44) = v5;
  v8 = v31;
  *(_DWORD *)(a2 + 16) = v7;
  v9 = v39;
  *(_DWORD *)(a2 + 20) = v8;
  v10 = v40;
  *(_DWORD *)(a2 + 48) = v6;
  v11 = BYTE3(v30) == 1;
  *(_DWORD *)(a2 + 24) = v32;
  *(_DWORD *)(a2 + 52) = v9;
  *(_DWORD *)(a2 + 56) = v10;
  if ( !v11 || sub_10055F80(2105, (int)&v20, 16) )
  {
    v12 = v25;
    v13 = v26;
    v14 = v27;
  }
  else
  {
    v13 = *(_DWORD *)((char *)&v20 + 6);
    v12 = *(_DWORD *)((char *)&v20 + 2);
    v14 = BYTE2(v21);
  }
  *(_DWORD *)(a2 + 2) = v12;
  *(_DWORD *)(a2 + 6) = v13;
  *(_BYTE *)(a2 + 10) = v14;
  sub_100526C0((int)&v18);
  LOBYTE(v15) = v19;
  v16 = v18;
  v11 = (v19 & 1) == 0;
  *(_BYTE *)(a2 + 63) = BYTE3(v18);
  *(_BYTE *)(a2 + 60) = v16;
  *(_BYTE *)(a2 + 64) = 0;
  if ( !v11 )
    *(_BYTE *)(a2 + 64) = 1;
  *(_BYTE *)(a2 + 65) = 0;
  if ( v15 & 4 )
    *(_BYTE *)(a2 + 65) = 1;
  *(_BYTE *)(a2 + 66) = 0;
  if ( v15 & 2 )
  {
    v15 = *(_WORD *)((char *)&v18 + 1);
    *(_BYTE *)(a2 + 66) = 1;
    *(_WORD *)(a2 + 61) = v15;
  }
  else
  {
    *(_WORD *)(a2 + 61) = *(_WORD *)((char *)&v18 + 1);
  }
  return v15;
}

//----- (100536B0) --------------------------------------------------------
int __usercall sub_100536B0@<eax>(char a1@<cl>, int *a2@<esi>, unsigned __int16 a3)
{
  int result; // eax@1
  char v4; // [sp+0h] [bp-48h]@1
  int v5[10]; // [sp+1Ch] [bp-2Ch]@1

  sub_10053540(a1, (int)&v4);
  result = v5[a3];
  *a2 = result;
  return result;
}
// 100536B0: using guessed type int var_2C[10];

//----- (100536F0) --------------------------------------------------------
int __usercall sub_100536F0@<eax>(unsigned __int8 a1@<bl>, int *a2@<esi>, int a3)
{
  int result; // eax@1
  char v4; // [sp+0h] [bp-48h]@3
  int v5[4]; // [sp+34h] [bp-14h]@3

  result = a3;
  if ( (unsigned __int8)a3 < 2u && a1 < 2u )
  {
    sub_10053540(a3, (int)&v4);
    result = v5[a1];
    *a2 = result;
  }
  return result;
}
// 100536F0: using guessed type int var_14[4];

//----- (10053730) --------------------------------------------------------
signed int sub_10053730()
{
  return sub_10055930((int)&off_100CCD78);
}
// 100CCD78: using guessed type char *off_100CCD78;

//----- (10053740) --------------------------------------------------------
char __cdecl sub_10053740(unsigned __int8 a1, unsigned __int16 a2, int a3)
{
  int v3; // esi@2
  char result; // al@2

  if ( (unsigned __int8)sub_10053730() )
  {
    v3 = a1 + a2 + 16 * a1;
    *(_BYTE *)(a3 + 1) = *(_BYTE *)(dword_10F8E134 + 4 * v3 + 29);
    *(_BYTE *)a3 = *(_BYTE *)(dword_10F8E134 + 4 * v3 + 28);
    result = *(_BYTE *)(a2 + 2 * (3 * a1 + 72) + dword_10F8E134);
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10F8E134: using guessed type int dword_10F8E134;

//----- (100537A0) --------------------------------------------------------
char __cdecl sub_100537A0(char a1, void *a2)
{
  int v2; // edx@4
  char result; // al@20

  if ( (unsigned __int8)sub_10053730() )
  {
    if ( (sub_100526E0(a1)
       || *(_BYTE *)(dword_10F8E134 + 2 * (3 * (unsigned __int8)a1 + 72))
       && (v2 = dword_10F8E134 + 6 * (unsigned __int8)a1, *(_BYTE *)(dword_10F8E134 + 6 * (unsigned __int8)a1 + 145))
       && *(_BYTE *)(v2 + 146)
       && *(_BYTE *)(v2 + 147)
       && *(_BYTE *)(v2 + 148)
       && *(_BYTE *)(v2 + 149)
       && *(_BYTE *)((unsigned __int8)a1 + dword_10F8E134 + 142)
       && *(_BYTE *)((unsigned __int8)a1 + dword_10F8E134 + 170)
       && *(_BYTE *)((unsigned __int8)a1 + dword_10F8E134 + 168)
       && *(_BYTE *)((unsigned __int8)a1 + dword_10F8E134 + 166)
       && *(_BYTE *)((unsigned __int8)a1 + dword_10F8E134 + 172)
       && *(_BYTE *)((unsigned __int8)a1 + dword_10F8E134 + 174)
       && *(_BYTE *)((unsigned __int8)a1 + dword_10F8E134 + 176))
      && *(_BYTE *)(dword_10F8E134 + 2 * (unsigned __int8)a1 + 158)
      && *(_BYTE *)(dword_10F8E134 + 2 * (unsigned __int8)a1 + 159)
      && *(_BYTE *)((unsigned __int8)a1 + dword_10F8E134 + 156)
      && *(_BYTE *)((unsigned __int8)a1 + dword_10F8E134 + 162) )
    {
      qmemcpy(a2, (const void *)(dword_10F8E134 + 68 * (unsigned __int8)a1), 0x44u);
      result = 1;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10F8E134: using guessed type int dword_10F8E134;

//----- (100538C0) --------------------------------------------------------
char __cdecl sub_100538C0(unsigned __int8 a1, unsigned __int8 a2, int a3)
{
  int v3; // eax@2
  char result; // al@2

  if ( (unsigned __int8)sub_10053730() )
  {
    v3 = a1 + a2 + 16 * a1;
    *(_BYTE *)(a3 + 2) = *(_BYTE *)(dword_10F8E134 + 4 * v3 + 54);
    *(_BYTE *)a3 = *(_BYTE *)(dword_10F8E134 + 4 * v3 + 52);
    *(_BYTE *)(a3 + 1) = *(_BYTE *)(dword_10F8E134 + 4 * v3 + 53);
    *(_BYTE *)(a3 + 3) = *(_BYTE *)(dword_10F8E134 + 4 * v3 + 55);
    result = *(_BYTE *)(a2 + 2 * a1 + 158 + dword_10F8E134);
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10F8E134: using guessed type int dword_10F8E134;

//----- (10053940) --------------------------------------------------------
char __cdecl sub_10053940(int a1, char a2, char a3, unsigned __int8 *a4, int *a5, unsigned int a6)
{
  char v6; // cl@2
  char result; // al@7
  unsigned __int16 v8; // ax@13

  if ( (_BYTE)a1 == 10 )
  {
    v6 = 0;
  }
  else
  {
    if ( (_BYTE)a1 != 11 )
    {
      sub_100429F0("..\\lib\\acl\\iop\\iop_xpdr_cnfg_intf.c", 703, 0, 0);
      return 0;
    }
    v6 = 1;
  }
  LOBYTE(a1) = v6;
  switch ( a3 )
  {
    case 0:
      if ( a6 >= 4 )
      {
        if ( a2 )
        {
          sub_100536F0(*a4, a5, a1);
          result = 1;
        }
        else
        {
          result = sub_100538C0(v6, *a4, (int)a5);
        }
      }
      else
      {
        sub_100429F0("..\\lib\\acl\\iop\\iop_xpdr_cnfg_intf.c", 718, 0, 0);
        result = 0;
      }
      break;
    case 2:
      if ( a6 >= 4 )
      {
        v8 = *a4;
        if ( a2 )
        {
          sub_100536B0(v6, a5, v8);
          result = 1;
        }
        else
        {
          result = sub_10053740(v6, v8, (int)a5);
        }
      }
      else
      {
        sub_100429F0("..\\lib\\acl\\iop\\iop_xpdr_cnfg_intf.c", 750, 0, 0);
        result = 0;
      }
      break;
    case 0xB:
    case 0x12:
    case 0x1C:
      if ( a6 >= 0x44 )
      {
        if ( a2 )
        {
          sub_10053540(v6, (int)a5);
          result = 1;
        }
        else
        {
          result = sub_100537A0(v6, a5);
        }
      }
      else
      {
        sub_100429F0("..\\lib\\acl\\iop\\iop_xpdr_cnfg_intf.c", 784, 0, 0);
        result = 0;
      }
      break;
    default:
      sub_100429F0("..\\lib\\acl\\iop\\iop_xpdr_cnfg_intf.c", 809, 0, 0);
      result = 0;
      break;
  }
  return result;
}

//----- (10053AF0) --------------------------------------------------------
int __cdecl sub_10053AF0(char a1)
{
  return sub_10045BE0(&a1, 1u, (int)"7", 8, 2, 2);
}

//----- (10053B10) --------------------------------------------------------
BOOL __cdecl sub_10053B10(int a1, void *a2)
{
  int v2; // esi@1
  char v4; // [sp+4h] [bp-18h]@2
  int v5; // [sp+18h] [bp-4h]@3

  v2 = sub_10052890(a1);
  return sub_10047D80(0, 604, a2) && sub_10047750(0, 0x25Cu, (int)&v4) && (v2 & v5) == v2;
}

//----- (10053B70) --------------------------------------------------------
int __usercall sub_10053B70@<eax>(char a1@<al>)
{
  unsigned __int8 v1; // al@1
  int result; // eax@2

  v1 = sub_10053AF0(a1);
  if ( v1 >= 2u )
    result = 42066;
  else
    result = dword_100CCDBC[2 * v1];
  return result;
}
// 100CCDBC: using guessed type int dword_100CCDBC[];

//----- (10053BA0) --------------------------------------------------------
BOOL __cdecl sub_10053BA0(char a1, int a2)
{
  int v2; // eax@1

  v2 = sub_10053B70(a1);
  return sub_10055F80(v2, a2, 16) == 0;
}

//----- (10053BD0) --------------------------------------------------------
int __cdecl sub_10053BD0(int a1, char a2, int a3, int a4, void *a5)
{
  int result; // eax@2

  if ( a2 )
    result = sub_10053BA0(a1, (int)a5);
  else
    result = sub_10053B10(a1, a5);
  return result;
}

//----- (10053C00) --------------------------------------------------------
char __cdecl sub_10053C00(void *a1)
{
  int v1; // ecx@0
  int v3; // [sp+0h] [bp-4h]@1

  v3 = v1;
  return sub_10047DB0(1, 1947, a1, (int)&v3);
}

//----- (10053C20) --------------------------------------------------------
BOOL __cdecl sub_10053C20(int a1)
{
  return sub_10055F80(6792, a1, 284) == 0;
}

//----- (10053C40) --------------------------------------------------------
char __cdecl sub_10053C40(int a1, char a2, int a3, int a4, void *a5)
{
  char result; // al@2

  if ( a2 )
    result = sub_10053C20((int)a5);
  else
    result = sub_10053C00(a5);
  return result;
}

//----- (10053C70) --------------------------------------------------------
bool __cdecl sub_10053C70(char a1, void *a2)
{
  memset(a2, 0, 0x2890u);
  return sub_10055F80((a1 != 36) + 6534, (int)a2, 10384) == 0;
}

//----- (10053CB0) --------------------------------------------------------
signed int __usercall sub_10053CB0@<eax>(char a1@<al>)
{
  return a1 != 36 ? 0x20000 : 0x10000;
}

//----- (10053CD0) --------------------------------------------------------
bool __cdecl sub_10053CD0(char a1, void *a2)
{
  int v2; // esi@1
  bool result; // al@5
  void *v4; // ecx@6
  int v5; // [sp+Ch] [bp-28h]@4
  char v6; // [sp+10h] [bp-24h]@2
  int v7; // [sp+24h] [bp-10h]@3
  __int16 v8; // [sp+28h] [bp-Ch]@8
  int v9; // [sp+2Ch] [bp-8h]@8

  v2 = sub_10053CB0(a1);
  if ( (v2 & j_HWM_pvg_hsdb_get_lrus_online()) == v2
    && sub_10047750(1, 0x6ACu, (int)&v6)
    && v7 == v2
    && sub_10047DB0(1, 1708, a2, (int)&v5) )
  {
    result = 1;
  }
  else if ( j_HWM_pvg_read_reg(1) == 1 )
  {
    result = sub_10053C70(a1, a2);
  }
  else
  {
    v9 = sub_10045A80(v4);
    v8 = 1708;
    sub_100478B0(1, 0, &v8, 0, 8, 1);
    sub_100479F0(1, 0, v2);
    result = 0;
  }
  return result;
}
// 10055430: using guessed type int j_HWM_pvg_hsdb_get_lrus_online(void);
// 10055450: using guessed type int __cdecl j_HWM_pvg_read_reg(_DWORD);

//----- (10053DC0) --------------------------------------------------------
bool __cdecl sub_10053DC0(char a1, char a2, int a3, int a4, void *a5)
{
  bool result; // al@2

  if ( a2 )
    result = sub_10053C70(a1, a5);
  else
    result = sub_10053CD0(a1, a5);
  return result;
}

//----- (10053DF0) --------------------------------------------------------
char __cdecl sub_10053DF0(char a1, unsigned __int8 a2, int a3)
{
  int v3; // eax@3
  char v4; // dl@3

  memset(byte_10E6A2F0, 0, 0x890u);
  if ( (unsigned __int8)a1 >= 3u || (unsigned __int8)(a2 - 16) > 0x27u )
  {
    sub_100429F0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 215, 0, 0);
  }
  else
  {
    sub_10052670(a1, (int)byte_10E6A2F0);
    v3 = 4 * a2 - 64;
    v4 = byte_10E6A2F1[v3];
    *(_BYTE *)(a3 + 1) = v4;
    *(_BYTE *)a3 = byte_10E6A2F0[v3];
    if ( (unsigned __int8)v4 < 0x23u
      || (unsigned __int8)v4 >= 0x64u && (unsigned __int8)v4 <= 0x81u
      || (unsigned __int8)v4 >= 0x96u && (unsigned __int8)v4 <= 0x9Bu )
    {
      return 1;
    }
  }
  return 0;
}

//----- (10053E90) --------------------------------------------------------
bool __cdecl sub_10053E90(char a1, unsigned __int8 a2, int a3)
{
  char *v3; // eax@3
  bool result; // al@3

  memset(byte_10E6A2F0, 0, 0x890u);
  if ( (unsigned __int8)a1 >= 3u || a2 >= 0x2Du )
  {
    sub_100429F0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 340, 0, 0);
    result = 0;
  }
  else
  {
    sub_10052670(a1, (int)byte_10E6A2F0);
    v3 = (char *)&unk_10E6A390 + 16 * a2;
    *(_DWORD *)a3 = *(_DWORD *)v3;
    *(_DWORD *)(a3 + 4) = *((_DWORD *)v3 + 1);
    *(_DWORD *)(a3 + 8) = *((_DWORD *)v3 + 2);
    *(_DWORD *)(a3 + 12) = *((_DWORD *)v3 + 3);
    result = *(_WORD *)(a3 + 2) < 0x319u;
  }
  return result;
}

//----- (10053F10) --------------------------------------------------------
char __cdecl sub_10053F10(char a1, unsigned __int8 a2, int a3)
{
  char result; // al@2

  memset(byte_10E6A2F0, 0, 0x890u);
  sub_10052670(a1, (int)byte_10E6A2F0);
  if ( a2 > 0x10u )
  {
    sub_100429F0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 512, 0, 0);
    result = 0;
  }
  else
  {
    *(_DWORD *)a3 = dword_10E6A660[2 * a2];
    *(_DWORD *)(a3 + 4) = dword_10E6A664[2 * a2];
    result = 1;
  }
  return result;
}
// 10E6A660: using guessed type int dword_10E6A660[];
// 10E6A664: using guessed type int dword_10E6A664[];

//----- (10053F80) --------------------------------------------------------
char __cdecl sub_10053F80(char a1, void *a2)
{
  char result; // al@4

  if ( a1 )
  {
    if ( a1 == 1 )
    {
      result = sub_10047D80(0, 227, a2);
    }
    else if ( a1 == 2 )
    {
      result = sub_10047D80(0, 572, a2);
    }
    else
    {
      sub_100429F0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 991, 0, 0);
      result = 0;
    }
  }
  else
  {
    result = sub_10047D80(0, 226, a2);
  }
  return result;
}

//----- (10054000) --------------------------------------------------------
char __cdecl sub_10054000(unsigned __int8 a1, unsigned __int8 a2, int a3)
{
  char result; // al@3
  int v4; // ecx@3

  memset(byte_10E6A2F0, 0, 0x890u);
  if ( a1 >= 3u || (unsigned __int8)(a2 - 16) > 0x27u )
  {
    sub_100429F0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 153, 0, 0);
    result = 0;
  }
  else
  {
    result = sub_10053F80(a1, byte_10E6A2F0);
    v4 = 4 * a2 - 64;
    *(_BYTE *)(a3 + 1) = byte_10E6A2F1[v4];
    *(_BYTE *)a3 = byte_10E6A2F0[v4];
  }
  return result;
}

//----- (10054080) --------------------------------------------------------
char __cdecl sub_10054080(unsigned __int8 a1, unsigned __int8 a2, int a3)
{
  char result; // al@3
  char *v4; // ecx@3

  memset(byte_10E6A2F0, 0, 0x890u);
  if ( a1 >= 3u || a2 >= 0x2Du )
  {
    sub_100429F0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 280, 0, 0);
    result = 0;
  }
  else
  {
    result = sub_10053F80(a1, byte_10E6A2F0);
    v4 = (char *)&unk_10E6A390 + 16 * a2;
    *(_DWORD *)a3 = *(_DWORD *)v4;
    *(_DWORD *)(a3 + 4) = *((_DWORD *)v4 + 1);
    *(_DWORD *)(a3 + 8) = *((_DWORD *)v4 + 2);
    *(_DWORD *)(a3 + 12) = *((_DWORD *)v4 + 3);
  }
  return result;
}

//----- (10054100) --------------------------------------------------------
char __cdecl sub_10054100(char a1, unsigned __int8 a2, int a3)
{
  char result; // al@2

  memset(byte_10E6A2F0, 0, 0x890u);
  if ( a2 <= 0x10u )
  {
    result = sub_10053F80(a1, byte_10E6A2F0);
    *(_DWORD *)a3 = dword_10E6A660[2 * a2];
    *(_DWORD *)(a3 + 4) = dword_10E6A664[2 * a2];
  }
  else
  {
    sub_100429F0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 445, 0, 0);
    result = 0;
  }
  return result;
}
// 10E6A660: using guessed type int dword_10E6A660[];
// 10E6A664: using guessed type int dword_10E6A664[];

//----- (10054170) --------------------------------------------------------
char __cdecl sub_10054170(char a1, char a2, char a3, unsigned __int8 *a4, int a5)
{
  char result; // al@6
  char v6; // [sp+0h] [bp-4h]@1

  v6 = sub_10054FD0(a1);
  if ( v6 == 3 )
    return 0;
  if ( a3 == 1 )
  {
    if ( a2 )
      result = sub_10053F10(v6, *a4, a5);
    else
      result = sub_10054100(v6, *a4, a5);
  }
  else if ( a3 == 2 )
  {
    if ( a2 )
      result = sub_10053DF0(v6, *a4, a5);
    else
      result = sub_10054000(v6, *a4, a5);
  }
  else
  {
    if ( a3 != 3 )
    {
      sub_100429F0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 915, 0, 0);
      return 0;
    }
    if ( a2 )
      result = sub_10053E90(v6, *a4, a5);
    else
      result = sub_10054080(v6, *a4, a5);
  }
  return result;
}

//----- (10054280) --------------------------------------------------------
char __cdecl sub_10054280(char a1, void *a2)
{
  return sub_10047D80(6, (unsigned __int16)word_100CDDF2[8 * (unsigned __int8)a1], a2);
}
// 100CDDF2: using guessed type __int16 word_100CDDF2[];

//----- (100542A0) --------------------------------------------------------
bool __cdecl sub_100542A0(unsigned __int8 a1, char *a2)
{
  int v2; // eax@1
  char v4; // [sp+8h] [bp-30h]@1

  v2 = sub_10055F80(dword_100CDDF8[4 * a1], (int)&v4, 48);
  qmemcpy(a2, &v4, 0x2Cu);
  return v2 == 0;
}
// 100CDDF8: using guessed type int dword_100CDDF8[];

//----- (100542E0) --------------------------------------------------------
char __cdecl sub_100542E0(int a1, char a2, int a3, int a4, void *a5)
{
  char result; // al@2
  char v6; // [sp+0h] [bp-4h]@1

  v6 = sub_10055010(a1);
  if ( a2 )
    result = sub_100542A0(v6, (char *)a5);
  else
    result = sub_10054280(v6, a5);
  return result;
}

//----- (10054320) --------------------------------------------------------
BOOL sub_10054320()
{
  char v1; // [sp+0h] [bp-78h]@1

  return sub_10047E90(69, &v1) && !strncmp(&v1, "006-B0756-", 0xAu);
}

//----- (10054380) --------------------------------------------------------
char __cdecl sub_10054380(int a1, char *a2)
{
  char result; // al@5
  char v3; // [sp+13h] [bp-7Dh]@1
  char v4; // [sp+14h] [bp-7Ch]@1
  char v5; // [sp+15h] [bp-7Bh]@2
  int v6; // [sp+30h] [bp-60h]@2
  int v7; // [sp+34h] [bp-5Ch]@2
  int v8; // [sp+38h] [bp-58h]@2
  int v9; // [sp+3Ch] [bp-54h]@2
  int v10; // [sp+40h] [bp-50h]@2
  __int16 v11; // [sp+44h] [bp-4Ch]@2
  char v12; // [sp+46h] [bp-4Ah]@2
  char v13; // [sp+47h] [bp-49h]@2
  float v14; // [sp+48h] [bp-48h]@2
  char v15; // [sp+4Ch] [bp-44h]@2
  char v16; // [sp+4Dh] [bp-43h]@2
  char v17; // [sp+4Eh] [bp-42h]@2
  char v18; // [sp+50h] [bp-40h]@1

  memset(&v18, 0, 0x3Cu);
  v3 = sub_10047D80(1, 292, &v18);
  qmemcpy(&v4, &v18, 0x3Cu);
  if ( !(unsigned __int8)sub_10054320() )
  {
    v6 = -1;
    v14 = 77.166664;
    v7 = -1;
    v8 = -1;
    v9 = -1;
    v5 = 1;
    v12 = 0;
    v13 = 1;
    v4 = 0;
    v15 = 0;
    v16 = 0;
    v17 = 0;
    v10 = 0;
    v11 = 0;
  }
  if ( !v3 || sub_10046BD0((int)&v4) )
  {
    result = 0;
  }
  else
  {
    result = 1;
    qmemcpy(a2, &v18, 0x3Cu);
  }
  return result;
}

//----- (10054470) --------------------------------------------------------
BOOL __cdecl sub_10054470(int a1, int a2)
{
  return sub_10055F80(6200, a2, 60) == 0;
}

//----- (10054490) --------------------------------------------------------
char __cdecl sub_10054490(int a1, char a2, int a3, int a4, char *a5)
{
  char result; // al@1

  result = 0;
  if ( a2 )
  {
    if ( a2 == 1 )
      result = sub_10054470(a1, (int)a5);
  }
  else
  {
    result = sub_10054380(a1, a5);
  }
  return result;
}

//----- (100544D0) --------------------------------------------------------
char __cdecl sub_100544D0(int a1, int a2)
{
  int v2; // ecx@3
  int v3; // edx@3
  int v4; // ecx@3
  char result; // al@3
  int v6; // [sp+4h] [bp-1Ch]@1
  int v7; // [sp+8h] [bp-18h]@1
  int v8; // [sp+Ch] [bp-14h]@1
  int v9; // [sp+10h] [bp-10h]@1
  int v10; // [sp+14h] [bp-Ch]@1
  __int16 v11; // [sp+18h] [bp-8h]@1
  char v12; // [sp+1Ah] [bp-6h]@1

  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  if ( !sub_10047D80(2, 284, &v6) || sub_10046DA0((int)&v6) )
  {
    result = 0;
  }
  else
  {
    v2 = v8;
    *(_DWORD *)a2 = v7;
    v3 = v9;
    *(_DWORD *)(a2 + 4) = v2;
    v4 = v10;
    *(_DWORD *)(a2 + 8) = v3;
    LOWORD(v3) = v11;
    *(_DWORD *)(a2 + 12) = v4;
    LOBYTE(v4) = v12;
    *(_WORD *)(a2 + 16) = v3;
    *(_BYTE *)(a2 + 18) = v4;
    result = 1;
  }
  return result;
}

//----- (10054580) --------------------------------------------------------
BOOL __cdecl sub_10054580(int a1, int a2)
{
  return sub_10055F80(6169, a2, 40) == 0;
}

//----- (100545A0) --------------------------------------------------------
char __cdecl sub_100545A0(int a1, char a2, int a3, int a4, int a5)
{
  char result; // al@1

  result = 0;
  if ( a2 )
  {
    if ( a2 == 1 )
      result = sub_10054580(a1, a5);
  }
  else
  {
    result = sub_100544D0(a1, a5);
  }
  return result;
}

//----- (100545E0) --------------------------------------------------------
char __cdecl sub_100545E0(void *a1)
{
  *(_DWORD *)a1 = 0;
  return sub_10047D80(2, 363, a1);
}

//----- (10054600) --------------------------------------------------------
char __cdecl sub_10054600(void *a1)
{
  int v1; // edx@2
  int v2; // eax@2
  int v3; // ecx@2
  int v4; // eax@2
  int v5; // ecx@2
  void *v6; // esi@2
  signed int v7; // edi@2
  char *v8; // eax@4
  signed int v9; // edx@4
  char result; // al@6
  char v11; // [sp+8h] [bp-208h]@1
  int v12; // [sp+47h] [bp-1C9h]@2
  int v13; // [sp+4Bh] [bp-1C5h]@2
  int v14; // [sp+4Fh] [bp-1C1h]@2
  int v15; // [sp+53h] [bp-1BDh]@2
  int v16; // [sp+58h] [bp-1B8h]@2
  int v17; // [sp+5Ch] [bp-1B4h]@2
  __int16 v18; // [sp+60h] [bp-1B0h]@2
  char v19; // [sp+62h] [bp-1AEh]@2
  char v20; // [sp+B6h] [bp-15Ah]@2
  char v21; // [sp+F6h] [bp-11Ah]@2

  *(_DWORD *)a1 = 0;
  if ( sub_10055F80(6444, (int)&v11, 514) )
  {
    result = 0;
  }
  else
  {
    v1 = v13;
    v2 = v14;
    *((_DWORD *)a1 + 3330) = v12;
    v3 = v15;
    *((_DWORD *)a1 + 3331) = v1;
    LOWORD(v1) = v18;
    *((_DWORD *)a1 + 3332) = v2;
    v4 = v16;
    *((_DWORD *)a1 + 3333) = v3;
    qmemcpy((char *)a1 + 13340, &v19, 0x54u);
    v5 = v17;
    *((_WORD *)a1 + 6668) = v1;
    LOBYTE(v1) = v21;
    *((_DWORD *)a1 + 3009) = v5;
    qmemcpy((char *)a1 + 13424, &v20, 0x40u);
    *((_DWORD *)a1 + 3008) = v4;
    *((_BYTE *)a1 + 13488) = v1 & 2;
    v6 = a1;
    v7 = 32;
    do
    {
      memset(v6, 0, 0x38u);
      *((_DWORD *)v6 + 9) = 2048;
      v6 = (char *)v6 + 56;
      --v7;
    }
    while ( v7 );
    v8 = (char *)a1 + 1799;
    v9 = 512;
    do
    {
      *(_DWORD *)(v8 - 7) = 0;
      *(_DWORD *)(v8 - 3) = 0;
      *(_DWORD *)(v8 + 1) = 0;
      *(_DWORD *)(v8 + 5) = 0;
      *(_DWORD *)(v8 + 9) = 0;
      *v8 = -1;
      v8 += 20;
      --v9;
    }
    while ( v9 );
    result = 1;
  }
  return result;
}

//----- (10054750) --------------------------------------------------------
char __cdecl sub_10054750(int a1, char a2, char a3, int a4, void *a5, size_t a6)
{
  char result; // al@3
  char v7; // al@6
  char v8; // bl@8
  char v9; // al@10
  char v10; // bl@12
  char v11; // al@14
  char v12; // bl@16
  char v13; // al@18
  char v14; // bl@20

  switch ( a3 )
  {
    case 0x18:
      if ( a2 )
        result = sub_10054600(a5);
      else
        result = sub_100545E0(a5);
      break;
    case 0x19:
      if ( a2 )
        v7 = sub_10054600(&unk_10E6AB80);
      else
        v7 = sub_100545E0(&unk_10E6AB80);
      v8 = v7;
      memcpy(a5, (char *)&unk_10E6AB80 + 56 * *(_BYTE *)a4, a6);
      result = v8;
      break;
    case 0x1A:
      if ( a2 )
        v9 = sub_10054600(&unk_10E6AB80);
      else
        v9 = sub_100545E0(&unk_10E6AB80);
      v10 = v9;
      memcpy(a5, (char *)&unk_10E6DA88 + 40 * *(_BYTE *)a4, a6);
      result = v10;
      break;
    case 0x1B:
      if ( a2 )
        v11 = sub_10054600(&unk_10E6AB80);
      else
        v11 = sub_100545E0(&unk_10E6AB80);
      v12 = v11;
      memcpy(a5, (char *)&unk_10E6DF88 + *(_BYTE *)a4, a6);
      result = v12;
      break;
    case 0x2B:
      if ( a2 )
        v13 = sub_10054600(&unk_10E6AB80);
      else
        v13 = sub_100545E0(&unk_10E6AB80);
      v14 = v13;
      memcpy(a5, &unk_10E6E030, a6);
      result = v14;
      break;
    default:
      sub_100429F0("..\\lib\\acl\\iop\\gdl59\\iop_gdl59_cnfg_intf.c", 709, 0, 0);
      result = 0;
      break;
  }
  return result;
}

//----- (100548F0) --------------------------------------------------------
char __cdecl sub_100548F0(char a1)
{
  char result; // al@3

  if ( a1 == 15 )
  {
    result = 0;
  }
  else if ( a1 == 16 )
  {
    result = 1;
  }
  else
  {
    sub_100429F0("..\\lib\\acl\\iop\\iop_adc_intf.c", 178, 0, 0);
    result = 0;
  }
  return result;
}

//----- (10054930) --------------------------------------------------------
__int16 __usercall sub_10054930@<ax>(unsigned __int8 a1@<al>)
{
  return word_100D09A8[a1];
}
// 100D09A8: using guessed type __int16 word_100D09A8[];

//----- (10054940) --------------------------------------------------------
char __cdecl sub_10054940(unsigned __int8 a1, char *a2)
{
  int v2; // eax@2
  char result; // al@5
  int v4; // [sp+4h] [bp-150h]@2
  char v5; // [sp+8h] [bp-14Ch]@1
  char v6; // [sp+9h] [bp-14Bh]@3
  char v7; // [sp+Ch] [bp-148h]@5

  memset(&v5, 0, 0x148u);
  if ( a1 >= 2u )
  {
    result = 0;
  }
  else
  {
    LOWORD(v2) = sub_10054930(a1);
    if ( sub_10047DB0(0, v2, &v5, (int)&v4) && v6 == 3 && (unsigned int)(unsigned __int16)v4 - 4 >= 0xA0 )
    {
      qmemcpy(a2, &v7, 0xA0u);
      result = 1;
    }
    else
    {
      result = 0;
    }
  }
  return result;
}

//----- (10054A10) --------------------------------------------------------
char __cdecl sub_10054A10(char a1, char a2, char a3, int a4, char *a5, unsigned int a6)
{
  char result; // al@3
  unsigned __int8 v7; // [sp+4h] [bp-4h]@1

  v7 = sub_100548F0(a1);
  if ( a3 != 11 )
  {
    sub_100429F0("..\\lib\\acl\\iop\\iop_adc_intf.c", 564, 0, 0);
    return 0;
  }
  if ( a6 >= 0xA0 )
  {
    if ( a2 )
      return 0;
    result = sub_10054940(v7, a5);
  }
  else
  {
    sub_100429F0("..\\lib\\acl\\iop\\iop_adc_intf.c", 551, 0, 0);
    result = 0;
  }
  return result;
}

//----- (10054A90) --------------------------------------------------------
char __cdecl sub_10054A90(unsigned __int16 a1, char *a2, char a3)
{
  char result; // al@4
  char v4; // al@5
  int v5; // [sp+0h] [bp-28h]@1
  int v6; // [sp+4h] [bp-24h]@1
  int v7; // [sp+8h] [bp-20h]@1
  int v8; // [sp+Ch] [bp-1Ch]@1
  int v9; // [sp+10h] [bp-18h]@1
  int v10; // [sp+14h] [bp-14h]@1
  int v11; // [sp+18h] [bp-10h]@1
  int v12; // [sp+1Ch] [bp-Ch]@1
  int v13; // [sp+20h] [bp-8h]@1
  int v14; // [sp+24h] [bp-4h]@1

  v5 = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  if ( (_BYTE)a1 )
  {
    if ( (unsigned __int8)a1 != 1 )
    {
      sub_100429F0("..\\lib\\acl\\iop\\gma\\iop_gma_cnfg_intf.c", 188, 0, 0);
      return 0;
    }
    v4 = sub_10047DB0(1, 555, &v5, (int)&a1);
  }
  else
  {
    v4 = sub_10047DB0(1, 550, &v5, (int)&a1);
  }
  if ( !v4 )
    return 0;
  if ( sub_10047280((int)&v5) )
    return 0;
  result = 1;
  if ( !BYTE1(v14) || (unsigned int)a1 - 4 < 0x20 )
    return 0;
  if ( a3 )
  {
    if ( BYTE1(v5) == 26 )
    {
      qmemcpy(a2, (char *)&v6 + 1, 0x20u);
      qmemcpy(&unk_10E6E058, (char *)&v6 + 1, 0x20u);
      byte_10E6E050 = 1;
      byte_10E6E051 = 0;
      return result;
    }
  }
  else if ( BYTE1(v5) == 12 )
  {
    qmemcpy(a2, (char *)&v6 + 1, 0x20u);
    qmemcpy(&unk_10E6E078, (char *)&v6 + 1, 0x20u);
    byte_10E6E051 = 1;
    byte_10E6E052 = 1;
    return result;
  }
  return 0;
}
// 10E6E050: using guessed type char byte_10E6E050;
// 10E6E051: using guessed type char byte_10E6E051;
// 10E6E052: using guessed type char byte_10E6E052;

//----- (10054BC0) --------------------------------------------------------
char __cdecl sub_10054BC0(char a1, int a2)
{
  char result; // al@3
  char v3; // [sp+4h] [bp-44h]@1
  char v4; // [sp+8h] [bp-40h]@3
  char v5; // [sp+28h] [bp-20h]@3

  memset(&v3, 0, 0x44u);
  if ( (unsigned __int8)a1 < 2u && a2 )
  {
    result = sub_10052620(a1, (int)&v3);
    qmemcpy((void *)a2, &v4, 0x20u);
    qmemcpy((void *)(a2 + 32), &v5, 0x20u);
  }
  else
  {
    result = sub_100429F0("..\\lib\\acl\\iop\\gma\\iop_gma_cnfg_intf.c", 570, 0, 0);
  }
  return result;
}

//----- (10054C40) --------------------------------------------------------
bool __cdecl sub_10054C40(void *a1)
{
  bool v1; // zf@2
  bool result; // al@4

  if ( a1 )
  {
    v1 = byte_10E6E050 == 0;
    qmemcpy(a1, &unk_10E6E058, 0x40u);
    result = !v1 && byte_10E6E052;
  }
  else
  {
    sub_100429F0("..\\lib\\acl\\iop\\gma\\iop_gma_cnfg_intf.c", 617, 0, 0);
    result = 0;
  }
  return result;
}
// 10E6E050: using guessed type char byte_10E6E050;
// 10E6E052: using guessed type char byte_10E6E052;

//----- (10054C90) --------------------------------------------------------
char __cdecl sub_10054C90(char a1, int a2)
{
  char result; // al@4
  int v3; // edx@5
  const void *v4; // esi@8
  int v5; // [sp+0h] [bp-28h]@1
  int v6; // [sp+4h] [bp-24h]@1
  int v7; // [sp+8h] [bp-20h]@1
  int v8; // [sp+Ch] [bp-1Ch]@1
  int v9; // [sp+10h] [bp-18h]@1
  int v10; // [sp+14h] [bp-14h]@1
  int v11; // [sp+18h] [bp-10h]@1
  int v12; // [sp+1Ch] [bp-Ch]@1
  int v13; // [sp+20h] [bp-8h]@1
  int v14; // [sp+24h] [bp-4h]@1

  v5 = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  if ( j_HWM_pvg_read_reg(1) != 1 )
    sub_100429F0("..\\lib\\acl\\iop\\gma\\iop_gma_cnfg_intf.c", 857, 1, 0);
  if ( a1 )
  {
    result = a1 - 1;
    if ( a1 != 1 )
      return result;
    result = sub_10048160(15);
    v3 = 555;
  }
  else
  {
    result = sub_10048160(8);
    v3 = 550;
  }
  if ( result )
  {
    v4 = (const void *)a2;
    LOBYTE(v5) = 12;
    BYTE1(v14) = 1;
    LOBYTE(v6) = 32;
    HIWORD(v5) = 34;
    if ( byte_10E6E051 )
    {
      BYTE1(v5) = 26;
    }
    else
    {
      BYTE1(v5) = 12;
      v4 = (const void *)(a2 + 32);
    }
    qmemcpy((char *)&v6 + 1, v4, 0x20u);
    result = sub_100478B0(1, v3, &v5, 1, 38, 1);
  }
  return result;
}
// 10055450: using guessed type int __cdecl j_HWM_pvg_read_reg(_DWORD);
// 10E6E051: using guessed type char byte_10E6E051;

//----- (10054D70) --------------------------------------------------------
__int16 __usercall sub_10054D70@<ax>(unsigned __int8 a1@<al>)
{
  return word_100D0AB8[a1];
}
// 100D0AB8: using guessed type __int16 word_100D0AB8[];

//----- (10054D80) --------------------------------------------------------
char __cdecl sub_10054D80(unsigned __int8 a1, int *a2, const void *a3)
{
  int v3; // ebx@1
  int v5; // [sp+Ch] [bp-28h]@1
  int v6; // [sp+10h] [bp-24h]@1
  int v7; // [sp+14h] [bp-20h]@1
  int v8; // [sp+18h] [bp-1Ch]@1
  int v9; // [sp+1Ch] [bp-18h]@1
  int v10; // [sp+20h] [bp-14h]@1
  int v11; // [sp+24h] [bp-10h]@1
  int v12; // [sp+28h] [bp-Ch]@1
  int v13; // [sp+2Ch] [bp-8h]@1
  int v14; // [sp+30h] [bp-4h]@1

  v5 = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  v3 = (unsigned __int16)sub_10054D70(a1);
  v5 = *a2;
  qmemcpy(&v6, a3, 0x24u);
  sub_100478B0(1, v3, &v5, 1, HIWORD(v5) + 4, 1);
  return sub_100479F0(1, v3, 0xFFFFFFF);
}

//----- (10054E10) --------------------------------------------------------
char __cdecl sub_10054E10(unsigned __int8 a1, char a2)
{
  int v3; // [sp+4h] [bp-28h]@1
  int v4; // [sp+8h] [bp-24h]@1
  int v5; // [sp+Ch] [bp-20h]@1
  int v6; // [sp+10h] [bp-1Ch]@1
  int v7; // [sp+14h] [bp-18h]@1
  int v8; // [sp+18h] [bp-14h]@1
  int v9; // [sp+1Ch] [bp-10h]@1
  int v10; // [sp+20h] [bp-Ch]@1
  int v11; // [sp+24h] [bp-8h]@1
  int v12; // [sp+28h] [bp-4h]@1

  v4 = 0;
  v5 = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v3 = 0;
  if ( a1 >= 2u )
  {
    sub_100429F0("..\\lib\\acl\\iop\\gma\\iop_gma_cnfg_intf.c", 736, 0, 0);
  }
  else
  {
    HIWORD(v3) = 0;
    LOBYTE(v3) = 12;
    if ( a2 == 11 )
    {
      BYTE1(v3) = byte_10E6E051 != 0 ? 25 : 11;
      sub_10054D80(a1, &v3, &v4);
      return 1;
    }
    if ( a2 == 17 )
    {
      LOWORD(v3) = 10042;
      sub_10054D80(a1, &v3, &v4);
      return 1;
    }
  }
  return 0;
}
// 10E6E051: using guessed type char byte_10E6E051;

//----- (10054ED0) --------------------------------------------------------
bool __cdecl sub_10054ED0(__int16 a1, char a2, int a3, int a4, void *a5)
{
  char v6; // [sp+4h] [bp-40h]@8
  char v7; // [sp+24h] [bp-20h]@11

  if ( (unsigned __int8)a1 == 8 )
  {
    LOBYTE(a1) = 0;
  }
  else
  {
    if ( (unsigned __int8)a1 != 9 )
      return 0;
    LOBYTE(a1) = 1;
  }
  if ( a2 == 1 )
  {
    sub_10054BC0(a1, (int)a5);
    return 1;
  }
  if ( byte_10E6E051 )
  {
    if ( sub_10054A90(a1, &v6, 1) )
    {
LABEL_14:
      byte_10E6E053 = 0;
      goto LABEL_15;
    }
    if ( (unsigned __int8)++byte_10E6E053 >= 5u )
    {
      byte_10E6E050 = 0;
      goto LABEL_14;
    }
  }
  else
  {
    if ( sub_10054A90(a1, &v7, 0) )
      goto LABEL_14;
    if ( (unsigned __int8)++byte_10E6E053 >= 5u )
    {
      byte_10E6E052 = 0;
      goto LABEL_14;
    }
  }
LABEL_15:
  if ( j_HWM_pvg_read_reg(1) == 1 )
  {
    sub_10054BC0(a1, (int)&v6);
    sub_10054C90(a1, (int)&v6);
  }
  sub_10054E10(a1, 11);
  return sub_10054C40(a5);
}
// 10055450: using guessed type int __cdecl j_HWM_pvg_read_reg(_DWORD);
// 10E6E050: using guessed type char byte_10E6E050;
// 10E6E051: using guessed type char byte_10E6E051;
// 10E6E052: using guessed type char byte_10E6E052;
// 10E6E053: using guessed type char byte_10E6E053;

//----- (10054FD0) --------------------------------------------------------
char __cdecl sub_10054FD0(char a1)
{
  char result; // al@4

  switch ( a1 )
  {
    case 25:
      result = 0;
      break;
    case 26:
      result = 1;
      break;
    case 43:
      result = 2;
      break;
    default:
      sub_100429F0("..\\lib\\acl\\iop\\gsd\\iop_gsd_data_intf.c", 169, 0, 0);
      result = 3;
      break;
  }
  return result;
}

//----- (10055010) --------------------------------------------------------
char __cdecl sub_10055010(char a1)
{
  char result; // al@3

  if ( a1 == 20 )
  {
    result = 0;
  }
  else if ( a1 == 21 )
  {
    result = 2;
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (10055030) --------------------------------------------------------
int sub_10055030()
{
  int v0; // esi@1

  SYS_enter_krnl();
  v0 = TSK_pvg_get_id();
  SYS_exit_krnl();
  return v0;
}
// 100712FA: using guessed type int SYS_exit_krnl(void);
// 10071306: using guessed type int SYS_enter_krnl(void);
// 10071312: using guessed type int TSK_pvg_get_id(void);

//----- (10055050) --------------------------------------------------------
int __cdecl sub_10055050(int a1, int a2, int a3)
{
  int v3; // esi@1

  SYS_enter_krnl();
  v3 = TSK_pvg_get_mon_data(a1, a2, a3);
  SYS_exit_krnl();
  return v3;
}
// 100712FA: using guessed type int SYS_exit_krnl(void);
// 10071306: using guessed type int SYS_enter_krnl(void);
// 10071318: using guessed type int __cdecl TSK_pvg_get_mon_data(_DWORD, _DWORD, _DWORD);

//----- (10055080) --------------------------------------------------------
int __cdecl sub_10055080(int a1, int a2)
{
  int v2; // esi@1

  SYS_enter_krnl();
  v2 = TSK_pvg_get_msg(a1, a2);
  SYS_exit_krnl();
  return v2;
}
// 100712FA: using guessed type int SYS_exit_krnl(void);
// 10071306: using guessed type int SYS_enter_krnl(void);
// 1007131E: using guessed type int __cdecl TSK_pvg_get_msg(_DWORD, _DWORD);

//----- (100550B0) --------------------------------------------------------
int sub_100550B0()
{
  int v0; // esi@1

  SYS_enter_krnl();
  v0 = TSK_pvg_get_timer();
  SYS_exit_krnl();
  return v0;
}
// 100712FA: using guessed type int SYS_exit_krnl(void);
// 10071306: using guessed type int SYS_enter_krnl(void);
// 10071324: using guessed type int TSK_pvg_get_timer(void);

//----- (100550D0) --------------------------------------------------------
int __cdecl sub_100550D0(int a1, int a2, int a3, int a4)
{
  int v4; // esi@1

  SYS_enter_krnl();
  v4 = TSK_pvg_get_tsk_info(a1, a2, a3, a4);
  SYS_exit_krnl();
  return v4;
}
// 100712FA: using guessed type int SYS_exit_krnl(void);
// 10071306: using guessed type int SYS_enter_krnl(void);
// 1007132A: using guessed type int __cdecl TSK_pvg_get_tsk_info(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10055100) --------------------------------------------------------
int sub_10055100()
{
  char v1; // [sp+0h] [bp-84h]@1
  int v2; // [sp+24h] [bp-60h]@1
  int v3; // [sp+34h] [bp-50h]@1

  sub_10055050(-2, (int)&v1, 0);
  return v3 + 1000 * v2;
}

//----- (10055160) --------------------------------------------------------
int __cdecl sub_10055160(int a1, int a2, int a3, int a4)
{
  int v4; // esi@1

  SYS_enter_krnl();
  v4 = TSK_pvg_kill_process(a1, a2, a3, a4);
  SYS_exit_krnl();
  return v4;
}
// 100712FA: using guessed type int SYS_exit_krnl(void);
// 10071306: using guessed type int SYS_enter_krnl(void);
// 10071336: using guessed type int __cdecl TSK_pvg_kill_process(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10055190) --------------------------------------------------------
int __cdecl sub_10055190(int a1)
{
  int v1; // esi@1

  SYS_enter_krnl();
  v1 = TSK_pvg_release_smphr(a1);
  SYS_exit_krnl();
  return v1;
}
// 100712FA: using guessed type int SYS_exit_krnl(void);
// 10071306: using guessed type int SYS_enter_krnl(void);
// 1007133C: using guessed type int __cdecl TSK_pvg_release_smphr(_DWORD);

//----- (100551B0) --------------------------------------------------------
signed int __cdecl sub_100551B0(int a1, int a2)
{
  int v2; // esi@4
  signed int result; // eax@4

  if ( a2 && (!*(_DWORD *)(a2 + 4) || *(_DWORD *)a2) )
  {
    SYS_enter_krnl();
    v2 = TSK_pvg_reply_msg(a1, a2);
    SYS_exit_krnl();
    result = v2;
  }
  else
  {
    result = 20;
  }
  return result;
}
// 100712FA: using guessed type int SYS_exit_krnl(void);
// 10071306: using guessed type int SYS_enter_krnl(void);
// 10071342: using guessed type int __cdecl TSK_pvg_reply_msg(_DWORD, _DWORD);

//----- (100551F0) --------------------------------------------------------
int __cdecl sub_100551F0(int a1, int a2)
{
  int v2; // esi@1

  SYS_enter_krnl();
  v2 = TSK_pvg_reserve_smphr(a1, a2);
  SYS_exit_krnl();
  return v2;
}
// 100712FA: using guessed type int SYS_exit_krnl(void);
// 10071306: using guessed type int SYS_enter_krnl(void);
// 10071348: using guessed type int __cdecl TSK_pvg_reserve_smphr(_DWORD, _DWORD);

//----- (10055220) --------------------------------------------------------
int __cdecl sub_10055220(int a1, int a2)
{
  int v2; // esi@1

  SYS_enter_krnl();
  v2 = TSK_pvg_send_evnt(a1, a2);
  SYS_exit_krnl();
  return v2;
}
// 100712FA: using guessed type int SYS_exit_krnl(void);
// 10071306: using guessed type int SYS_enter_krnl(void);
// 1007134E: using guessed type int __cdecl TSK_pvg_send_evnt(_DWORD, _DWORD);

//----- (10055250) --------------------------------------------------------
int __cdecl sub_10055250(int a1, int a2, int a3, int a4)
{
  int v4; // esi@1

  SYS_enter_krnl();
  v4 = TSK_pvg_send_msg(a1, a2, a3, a4);
  SYS_exit_krnl();
  return v4;
}
// 100712FA: using guessed type int SYS_exit_krnl(void);
// 10071306: using guessed type int SYS_enter_krnl(void);
// 10071354: using guessed type int __cdecl TSK_pvg_send_msg(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10055280) --------------------------------------------------------
int __cdecl sub_10055280(int a1, int a2)
{
  int v2; // esi@1

  SYS_enter_krnl();
  v2 = TSK_pvg_send_msg_ex(a1, a2);
  SYS_exit_krnl();
  return v2;
}
// 100712FA: using guessed type int SYS_exit_krnl(void);
// 10071306: using guessed type int SYS_enter_krnl(void);
// 1007135A: using guessed type int __cdecl TSK_pvg_send_msg_ex(_DWORD, _DWORD);

//----- (100552B0) --------------------------------------------------------
int __cdecl sub_100552B0(int a1)
{
  SYS_enter_krnl();
  TSK_pvg_set_proc_status(a1);
  return SYS_exit_krnl();
}
// 100712FA: using guessed type int SYS_exit_krnl(void);
// 10071306: using guessed type int SYS_enter_krnl(void);
// 10071360: using guessed type int __cdecl TSK_pvg_set_proc_status(_DWORD);

//----- (100552D0) --------------------------------------------------------
int __cdecl sub_100552D0(int a1)
{
  int v1; // esi@1

  SYS_enter_krnl();
  v1 = TSK_pvg_suspend(a1);
  SYS_exit_krnl();
  return v1;
}
// 100712FA: using guessed type int SYS_exit_krnl(void);
// 10071306: using guessed type int SYS_enter_krnl(void);
// 10071366: using guessed type int __cdecl TSK_pvg_suspend(_DWORD);

//----- (100552F0) --------------------------------------------------------
int __cdecl sub_100552F0(_BYTE *a1)
{
  int v1; // edi@1
  int v2; // eax@2
  char v4; // [sp+8h] [bp-4h]@2

  SYS_enter_krnl();
  v1 = TSK_pvg_wait_evnt(a1);
  SYS_exit_krnl();
  if ( *a1 & 0x20 )
  {
    v2 = sub_10055030();
    sub_100550D0((int)&v4, 5, v2, 4);
  }
  return v1;
}
// 100712FA: using guessed type int SYS_exit_krnl(void);
// 10071306: using guessed type int SYS_enter_krnl(void);
// 1007136C: using guessed type int __cdecl TSK_pvg_wait_evnt(_DWORD);

//----- (10055330) --------------------------------------------------------
int __cdecl sub_10055330(int a1, int a2)
{
  int result; // eax@1

  result = a1;
  if ( *((_BYTE *)tsk_app_hdr_ptr + 8) != 1 && !a1 )
    result = sub_10055190(a2);
  return result;
}
// 1008F5C0: using guessed type void *tsk_app_hdr_ptr;

//----- (10055360) --------------------------------------------------------
int __cdecl sub_10055360(int a1, int a2)
{
  int result; // eax@2

  if ( *((_BYTE *)tsk_app_hdr_ptr + 8) == 1 )
    result = 0;
  else
    result = sub_100551F0(a1, a2);
  return result;
}
// 1008F5C0: using guessed type void *tsk_app_hdr_ptr;

//----- (10055380) --------------------------------------------------------
unsigned int __cdecl sub_10055380(int a1, int a2, unsigned int a3)
{
  unsigned int result; // eax@1
  unsigned int v4; // ebp@1
  int v5; // edi@2
  int v6; // edx@4
  int v7; // ecx@4
  unsigned int v8; // ecx@4
  unsigned int v9; // [sp+4h] [bp-8h]@1
  unsigned int v10; // [sp+8h] [bp-4h]@1

  result = 0;
  v4 = -1;
  v10 = 0;
  v9 = 0;
  if ( a3 )
  {
    v5 = a2 + 1;
    do
    {
      if ( !v4 )
        break;
      v6 = *(_BYTE *)(v5 + 1) - BYTE2(a1);
      v7 = *(_BYTE *)(v5 - 1) - (unsigned __int8)a1;
      v8 = v6 * v6 + (*(_BYTE *)v5 - BYTE1(a1)) * (*(_BYTE *)v5 - BYTE1(a1)) + v7 * v7;
      if ( v8 >= v4 )
      {
        result = v10;
      }
      else
      {
        result = v9;
        v4 = v8;
        v10 = v9;
      }
      v5 += 4;
      ++v9;
    }
    while ( v9 < a3 );
  }
  return result;
}

//----- (10055470) --------------------------------------------------------
unsigned int __cdecl sub_10055470(int a1, unsigned int a2)
{
  unsigned int v2; // edi@1
  int v3; // esi@1

  v2 = 0;
  v3 = a1 + 1;
  do
  {
    if ( v2 >= a2 )
      break;
    *(_BYTE *)(v3 + 2) = 0;
    j_HWM_pvg_get_rgb(v2++, v3 + 1, v3, v3 - 1);
    v3 += 4;
  }
  while ( v2 < 0x100 );
  return v2;
}
// 10055420: using guessed type int __cdecl j_HWM_pvg_get_rgb(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (100554B0) --------------------------------------------------------
unsigned int __cdecl sub_100554B0(int a1, unsigned int a2)
{
  int v2; // edi@1
  unsigned int v3; // ebx@2
  unsigned int v4; // esi@4

  v2 = a1;
  if ( a1 )
    v3 = a2;
  else
    v3 = 0;
  v4 = 0;
  do
  {
    if ( v4 >= v3 )
      break;
    j_HWM_pvg_get_rgb(v4, (char *)&a1 + 2, (char *)&a1 + 1, &a1);
    *(_WORD *)(v2 + 2 * v4++) = ((unsigned __int8)a1 >> 3) | 32
                                                           * ((unsigned __int8)(BYTE1(a1) >> 2) | (unsigned __int16)((unsigned __int8)(BYTE2(a1) >> 3) << 6));
  }
  while ( v4 < 0x100 );
  return v4;
}
// 10055420: using guessed type int __cdecl j_HWM_pvg_get_rgb(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10055530) --------------------------------------------------------
int __cdecl sub_10055530(int a1, int a2)
{
  int v2; // esi@3

  if ( *(_DWORD *)(a1 + 8) < 0 )
    sub_100429F0("..\\lib\\acl\\kernel\\mem_usr_share.c", 127, 0, 0);
  v2 = j_mem_unmap(a2 - 12, *(_DWORD *)(a1 + 8) + 12);
  if ( v2 )
    sub_100429F0("..\\lib\\acl\\kernel\\mem_usr_share.c", 132, 1, 0);
  return v2;
}
// 100562A0: using guessed type int __cdecl j_mem_unmap(_DWORD, _DWORD);

//----- (10055590) --------------------------------------------------------
signed int __cdecl sub_10055590(int a1)
{
  unsigned int v1; // eax@1
  signed int result; // eax@3

  v1 = **(_DWORD **)(a1 + 16);
  if ( v1 < 0xFFFFFFC2 && v1 )
  {
    if ( *(_BYTE *)(v1 - 3) || *(_BYTE *)(a1 + 4) & 8 )
    {
      if ( *(_BYTE *)(a1 + 4) & 1 )
      {
        *(_BYTE *)(v1 - 3) = 0;
        result = 1;
      }
      else
      {
        sub_100429F0("..\\lib\\acl\\kernel\\mem_usr_share.c", 474, 1, 0);
        result = 0;
      }
    }
    else
    {
      sub_100429F0("..\\lib\\acl\\kernel\\mem_usr_share.c", 465, 1, 0);
      result = 1;
    }
  }
  else
  {
    sub_100429F0("..\\lib\\acl\\kernel\\mem_usr_share.c", 455, 1, 0);
    result = 0;
  }
  return result;
}

//----- (10055610) --------------------------------------------------------
int __usercall sub_10055610@<eax>(const char **a1@<esi>)
{
  unsigned int v1; // ebp@1
  unsigned int v2; // edi@2
  char v3; // ST28_1@2
  unsigned int v4; // eax@5
  char *v5; // edi@9
  char v6; // al@10
  unsigned int v7; // eax@12
  char v8; // ST28_1@12
  signed int v9; // ebx@15
  int v10; // eax@19
  int result; // eax@47
  unsigned int v12; // [sp+Ch] [bp-98h]@1
  int v13; // [sp+14h] [bp-90h]@29
  char v14; // [sp+1Dh] [bp-87h]@30
  char v15; // [sp+1Fh] [bp-85h]@9
  char v16; // [sp+20h] [bp-84h]@8

  v1 = 0;
  v12 = 0;
  if ( *((_BYTE *)a1 + 4) & 2 )
  {
    v2 = j_FIL_vfs_open(*a1, 4, 0);
    v3 = 4;
  }
  else
  {
    strncpy(&v16, *a1, 0x7Du);
    if ( !(*((_BYTE *)a1 + 4) & 8) )
    {
      v5 = &v15;
      do
        v6 = (v5++)[1];
      while ( v6 );
      *(_DWORD *)v5 = 7368052;
    }
    v12 = j_FIL_vfs_open(*a1, 6, 1809);
    v7 = j_FIL_vfs_open(&v16, 14, 1809);
    v2 = v7;
    v8 = 6;
    if ( v7 >= 0xFFFFFFC2 || !v7 )
    {
      sub_100429F0("..\\lib\\acl\\kernel\\mem_usr_share.c", 589, 1, 0);
      goto LABEL_39;
    }
    v9 = sub_10055D60(v7, 0, 2);
    if ( v9 < 0 )
    {
      sub_100429F0("..\\lib\\acl\\kernel\\mem_usr_share.c", 602, 1, 0);
      goto LABEL_39;
    }
    if ( (signed int)a1[2] < 0 )
      sub_100429F0("..\\lib\\acl\\kernel\\mem_usr_share.c", 610, 0, 0);
    v10 = (int)(a1[2] + 12);
    if ( v9 < v10 && sub_10055D80(v2, v10, (unsigned __int64)v10 >> 32) < 0 )
    {
      sub_100429F0("..\\lib\\acl\\kernel\\mem_usr_share.c", 625, 1, 0);
      goto LABEL_39;
    }
  }
  if ( v2 >= 0xFFFFFFC2 )
    goto LABEL_42;
  if ( v2 )
  {
    v4 = ((int (__cdecl *)(unsigned int, _DWORD, const char *, _DWORD))j_FIL_vfs_mmap)(v2, 0, a1[2] + 12, 0);
    v1 = v4;
    if ( v4 < 0xFFFFFFC2 && v4 )
    {
      if ( !(*((_BYTE *)a1 + 4) & 1) )
      {
        if ( *(_BYTE *)(v4 + 9) || *(_BYTE *)(v4 + 8) != 56 )
        {
          sub_10055530((int)a1, v4 + 12);
          v1 = 0;
        }
        goto LABEL_39;
      }
      *(_DWORD *)(v4 + 4) = sub_100550B0();
      if ( *((_BYTE *)a1 + 4) & 4 )
        memset((void *)(v1 + 12), (int)a1[3], (size_t)a1[2]);
      if ( v12 < 0xFFFFFFC2 && v12 )
      {
        if ( *((_BYTE *)a1 + 4) & 8 )
        {
          ++*(_DWORD *)v1;
        }
        else if ( sub_10055B70(v12, &v13, 12) == 12 )
        {
          *(_DWORD *)v1 = ++v13;
          v14 = 1;
          *(_BYTE *)(v1 + 9) = 1;
          if ( sub_10055CE0(v12, (int)&v13, 12, 0) != 12 )
          {
            sub_100429F0("..\\lib\\acl\\kernel\\mem_usr_share.c", 725, 1, 0);
            goto LABEL_39;
          }
        }
      }
      else
      {
        *(_BYTE *)(v1 + 9) = 1;
        *(_DWORD *)v1 = 1;
      }
      *(_BYTE *)(v1 + 8) = 56;
      if ( !(*((_BYTE *)a1 + 4) & 8) && j_FIL_vfs_rename(&v16, *a1) )
        sub_100429F0("..\\lib\\acl\\kernel\\mem_usr_share.c", 759, 1, 0);
      goto LABEL_39;
    }
    sub_100429F0("..\\lib\\acl\\kernel\\mem_usr_share.c", 664, 0, 0);
  }
LABEL_39:
  if ( v2 < 0xFFFFFFC2 && v2 )
    sub_10055AA0(v2);
LABEL_42:
  if ( v12 < 0xFFFFFFC2 && v12 )
    sub_10055AA0(v12);
  if ( v1 < 0xFFFFFFC2 && v1 )
    result = v1 + 12;
  else
    result = v1;
  return result;
}
// 10055B50: using guessed type int __cdecl j_FIL_vfs_mmap(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10055B60: using guessed type int __cdecl j_FIL_vfs_open(_DWORD, _DWORD, _DWORD);
// 10055C30: using guessed type int __cdecl j_FIL_vfs_rename(_DWORD, _DWORD);

//----- (10055910) --------------------------------------------------------
int __usercall sub_10055910@<eax>(int a1@<eax>, int a2@<ecx>)
{
  return j_mem_unmap(a2 - 12, a1 + 12);
}
// 100562A0: using guessed type int __cdecl j_mem_unmap(_DWORD, _DWORD);

//----- (10055930) --------------------------------------------------------
signed int __cdecl sub_10055930(int a1)
{
  unsigned int v1; // eax@1
  char v2; // bl@1
  int *v3; // edi@6
  int v4; // eax@6
  int v5; // ecx@6
  int v6; // ebp@6
  unsigned int v8; // eax@15

  v1 = **(_DWORD **)(a1 + 16);
  v2 = 0;
  if ( v1 != -858993460 && (v1 < 0xFFFFFFC2 && v1 || v1 == -15) )
  {
    if ( v1 < 0xFFFFFFC2 && v1 && !*(_BYTE *)(v1 - 3) )
      return 1;
  }
  else
  {
    sub_100429F0("..\\lib\\acl\\kernel\\mem_usr_share.c", 211, 0, *(char **)a1);
    **(_DWORD **)(a1 + 16) = -15;
  }
  v3 = *(int **)(a1 + 16);
  v4 = sub_10055360(81, 5000);
  v5 = *v3;
  v6 = v4;
  if ( (unsigned int)*v3 < 0xFFFFFFC2 && v5 )
  {
    if ( !*(_BYTE *)(v5 - 3) )
    {
      sub_10055330(v4, 81);
      return 1;
    }
    *v3 = -15;
    sub_10055910(*(_DWORD *)(a1 + 8), v5);
  }
  v8 = sub_10055610((const char **)a1);
  if ( v8 < 0xFFFFFFC2 && v8 )
  {
    *v3 = v8;
    if ( !*(_BYTE *)(v8 - 3) )
      v2 = 1;
  }
  sub_10055330(v6, 81);
  return (unsigned __int8)v2;
}

//----- (10055A00) --------------------------------------------------------
int __cdecl sub_10055A00(LONG Value)
{
  char v1; // al@1
  int result; // eax@3
  int v3; // edi@3
  unsigned __int32 v4; // eax@5
  int v5; // ebx@5

  v1 = *(_BYTE *)(Value + 4);
  if ( v1 & 2 || !(v1 & 1) )
  {
    sub_100429F0("..\\lib\\acl\\kernel\\mem_usr_share.c", 360, 1, 0);
    result = 0;
  }
  else
  {
    result = sub_10055610((const char **)Value);
    v3 = result;
    if ( (unsigned int)result < 0xFFFFFFC2 && result )
    {
      v4 = InterlockedExchange(*(volatile LONG **)(Value + 16), result);
      v5 = v4;
      if ( v4 < 0xFFFFFFC2 && v4 )
      {
        if ( *(_DWORD *)(Value + 8) < 0 )
          sub_100429F0("..\\lib\\acl\\kernel\\mem_usr_share.c", 388, 0, 0);
        sub_10055910(*(_DWORD *)(Value + 8), v5);
      }
      result = v3;
    }
  }
  return result;
}

//----- (10055AA0) --------------------------------------------------------
signed int __cdecl sub_10055AA0(unsigned int a1)
{
  signed int result; // eax@4
  int v2; // eax@8
  int v3; // edx@9

  if ( a1 >= 0xFFFFFFC2 || !a1 )
    goto LABEL_16;
  if ( (a1 & 3) == 1 )
    return sub_10044E60(a1);
  if ( a1 && (a1 & 3) == 2 )
  {
    v2 = 0;
    if ( !dword_10E74AD8 )
      goto LABEL_11;
    while ( 1 )
    {
      v3 = dword_10E74AE0[v2];
      if ( *(_DWORD *)v3 == a1 )
        break;
      if ( ++v2 >= (unsigned int)dword_10E74AD8 )
        goto LABEL_11;
    }
    if ( v2 != -1 )
    {
      sub_100562B0(
        v2,
        *(_DWORD *)(dword_10E74AE0[v2] + 12),
        *(_DWORD *)(v3 + 16),
        *(_BYTE *)(v3 + 32),
        *(_WORD *)(v3 + 20),
        *(_DWORD *)(v3 + 4));
      result = sub_10055AA0(a1 & 0xFFFFFFFC);
    }
    else
    {
LABEL_11:
      result = -6;
    }
  }
  else
  {
LABEL_16:
    result = FIL_vfs_close();
  }
  return result;
}
// 1007139C: using guessed type int FIL_vfs_close(void);
// 10E74AD8: using guessed type int dword_10E74AD8;
// 10E74AE0: using guessed type int dword_10E74AE0[];

//----- (10055B00) --------------------------------------------------------
int __cdecl sub_10055B00(int a1, int a2, int a3, int a4, int a5)
{
  int v6; // [sp+0h] [bp-1Ch]@1
  __int64 v7; // [sp+4h] [bp-18h]@1
  __int64 v8; // [sp+10h] [bp-Ch]@1

  v7 = a2;
  v8 = a4;
  return FIL_vfs_memmove_swi(&v6, a1, v7, HIDWORD(v7), a3, v8, HIDWORD(v8), a5);
}
// 100713AE: using guessed type int __cdecl FIL_vfs_memmove_swi(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (10055B70) --------------------------------------------------------
signed int __cdecl sub_10055B70(unsigned int a1, void *a2, int a3)
{
  unsigned int v3; // eax@4
  signed int result; // eax@4
  int v5; // eax@7

  if ( a1 >= 0xFFFFFFC2 || !a1 )
    goto LABEL_11;
  if ( (a1 & 3) == 1 )
  {
    v3 = sub_10042FE0(a1);
    return sub_10044A30(v3, (int)a2, a3);
  }
  if ( a1 && (a1 & 3) == 2 )
  {
    v5 = sub_10055D60(a1 & 0xFFFFFFFC, 0, 1);
    result = sub_10056650(a1, a2, a3, v5, (unsigned __int64)v5 >> 32);
  }
  else
  {
LABEL_11:
    result = FIL_vfs_read();
  }
  return result;
}
// 100713C0: using guessed type int FIL_vfs_read(void);

//----- (10055BB0) --------------------------------------------------------
signed int __cdecl sub_10055BB0(unsigned int a1, void *a2, int a3, int a4, int a5)
{
  signed int result; // eax@4

  if ( a1 >= 0xFFFFFFC2 || !a1 )
    goto LABEL_11;
  if ( (a1 & 3) == 1 )
    return sub_10044FA0(a1, (int)a2, a3, a4);
  if ( a1 && (a1 & 3) == 2 )
    result = sub_10056650(a1, a2, a3, a4, a5);
  else
LABEL_11:
    result = FIL_vfs_read_ofst(a1, a2, a3, &a4);
  return result;
}
// 100713C6: using guessed type int __cdecl FIL_vfs_read_ofst(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10055C40) --------------------------------------------------------
signed int __cdecl sub_10055C40(unsigned int a1, int a2, int a3, int a4)
{
  signed int result; // eax@4

  if ( a1 < 0xFFFFFFC2 && a1 && (a1 & 3) == 1 )
    result = sub_10045000(a1, a2, a4);
  else
    result = FIL_vfs_seek(a1 & 0xFFFFFFFC, a2, a3, a4);
  return result;
}
// 100713D2: using guessed type int __cdecl FIL_vfs_seek(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10055C90) --------------------------------------------------------
__int64 __cdecl sub_10055C90(int a1)
{
  return FIL_vfs_size(a1 & 0xFFFFFFFC);
}
// 100713D8: using guessed type int __cdecl FIL_vfs_size(_DWORD);

//----- (10055CB0) --------------------------------------------------------
int __cdecl sub_10055CB0(int a1, int a2, int a3)
{
  return FIL_vfs_truncate(a1, a2, a3);
}
// 100713DE: using guessed type int __cdecl FIL_vfs_truncate(_DWORD, _DWORD, _DWORD);

//----- (10055CE0) --------------------------------------------------------
int __cdecl sub_10055CE0(int a1, int a2, int a3, char a4)
{
  return FIL_vfs_write_ofst(a1, a2, a3, &a4);
}
// 100713EA: using guessed type int __cdecl FIL_vfs_write_ofst(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10055D00) --------------------------------------------------------
char __cdecl sub_10055D00(int a1)
{
  unsigned int v1; // eax@1
  char result; // al@3

  v1 = j_FIL_vfs_open(a1, 772, 0);
  if ( v1 < 0xFFFFFFC2 && v1 )
  {
    sub_10055AA0(v1);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10055B60: using guessed type int __cdecl j_FIL_vfs_open(_DWORD, _DWORD, _DWORD);

//----- (10055D30) --------------------------------------------------------
char __cdecl sub_10055D30(int a1)
{
  unsigned int v1; // eax@1
  char result; // al@3

  v1 = j_FIL_vfs_open(a1, 516, 0);
  if ( v1 < 0xFFFFFFC2 && v1 )
  {
    sub_10055AA0(v1);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10055B60: using guessed type int __cdecl j_FIL_vfs_open(_DWORD, _DWORD, _DWORD);

//----- (10055D60) --------------------------------------------------------
signed int __cdecl sub_10055D60(unsigned int a1, int a2, int a3)
{
  return sub_10055C40(a1, a2, (unsigned __int64)a2 >> 32, a3);
}

//----- (10055D80) --------------------------------------------------------
int __cdecl sub_10055D80(int a1, int a2, int a3)
{
  return sub_10055CB0(a1, a2, a3);
}

//----- (10055DA0) --------------------------------------------------------
__int16 __cdecl sub_10055DA0(int a1, int a2, int a3, int a4)
{
  __int16 v4; // si@1

  SYS_enter_krnl();
  v4 = HWM_pvg_read_rgn(a1, a2, a3, a4);
  SYS_exit_krnl();
  return v4;
}
// 100712FA: using guessed type int SYS_exit_krnl(void);
// 10071306: using guessed type int SYS_enter_krnl(void);
// 100713F0: using guessed type int __cdecl HWM_pvg_read_rgn(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10055DE0) --------------------------------------------------------
__int16 __cdecl sub_10055DE0(int a1, _DWORD *a2, _BYTE *a3)
{
  __int16 result; // ax@1
  char v4; // [sp+8h] [bp-ECh]@1
  unsigned __int8 v5; // [sp+Ah] [bp-EAh]@1
  int v6; // [sp+10h] [bp-E4h]@1

  j_HWM_pvg_rgn_get_info(a1, &v4);
  result = v5;
  *a2 = v6;
  *a3 = 2;
  return result;
}
// 10055DD0: using guessed type int __cdecl j_HWM_pvg_rgn_get_info(_DWORD, _DWORD);

//----- (10055E40) --------------------------------------------------------
__int16 __cdecl sub_10055E40(int a1, _DWORD *a2)
{
  int v2; // ecx@0
  int v4; // [sp-2h] [bp-4h]@1

  v4 = v2;
  return sub_10055DE0(a1, a2, (_BYTE *)&v4 + 3);
}

//----- (10055E60) --------------------------------------------------------
void __cdecl sub_10055E60(int a1, _BYTE *a2)
{
  SYS_enter_krnl();
  SYS_pvg_ftr_get(a1, a2);
  SYS_exit_krnl();
  sub_100567A0(a1, a2);
}
// 100712FA: using guessed type int SYS_exit_krnl(void);
// 10071306: using guessed type int SYS_enter_krnl(void);
// 100713FC: using guessed type int __cdecl SYS_pvg_ftr_get(_DWORD, _DWORD);

//----- (10055E90) --------------------------------------------------------
signed __int64 __thiscall sub_10055E90(void *this)
{
  signed __int64 result; // rax@3
  void *v2; // [sp-2h] [bp-4h]@1

  v2 = this;
  sub_10055E60(72, (_BYTE *)&v2 + 3);
  switch ( j_HWM_pvg_read_reg(0) )
  {
    case 18:
    case 19:
    case 20:
    case 30:
    case 31:
    case 142:
      if ( BYTE3(v2) == 1 )
        goto LABEL_5;
      goto LABEL_3;
    case 24:
    case 40:
LABEL_3:
      result = 459561500779i64;
      break;
    case 29:
      result = 369367187542i64;
      break;
    default:
LABEL_5:
      result = 532575944828i64;
      break;
  }
  return result;
}
// 10055450: using guessed type int __cdecl j_HWM_pvg_read_reg(_DWORD);

//----- (10055F80) --------------------------------------------------------
int __cdecl sub_10055F80(int a1, int a2, int a3)
{
  return reg_read(a1, a2, a3, 0);
}
// 10071402: using guessed type int __cdecl reg_read(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10055FA0) --------------------------------------------------------
char __cdecl sub_10055FA0(int a1, int a2, int a3)
{
  int v3; // eax@1

  v3 = sub_10055F80(a1, a2, a3);
  if ( v3 )
    LOBYTE(v3) = sub_100429F0("..\\lib\\acl\\kernel\\reg_usr_intf.c", 1255, 1, 0);
  return v3;
}

//----- (10055FE0) --------------------------------------------------------
int __cdecl sub_10055FE0(int a1, int a2, int a3)
{
  int result; // eax@1

  result = sub_10055F80(a1 | 0x20000, a2, a3);
  if ( result == -46 )
    result = 0;
  return result;
}

//----- (10056010) --------------------------------------------------------
int __cdecl sub_10056010(int a1, int a2, int a3)
{
  return reg_write(a1, a2, a3, 0);
}
// 10071408: using guessed type int __cdecl reg_write(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10056030) --------------------------------------------------------
int __cdecl sub_10056030(int a1, void *a2, int a3, void *a4)
{
  int result; // eax@1
  int v5; // edi@1

  result = sub_10055F80(a1, (int)a2, a3);
  v5 = result;
  if ( result )
  {
    memcpy(a2, a4, (unsigned __int16)a3);
    sub_10056010(a1, (int)a4, a3);
    result = v5;
  }
  return result;
}

//----- (10056090) --------------------------------------------------------
int __cdecl sub_10056090(int a1)
{
  void *v1; // ecx@0
  int v2; // eax@1
  int v3; // eax@3

  v2 = a1;
  if ( !a1 )
    v2 = sub_10045A80(v1);
  a1 = v2;
  v3 = sub_10045BE0(&a1, 4u, (int)&unk_100DB3E0, 8, 7, -1);
  if ( v3 == -1 )
    v3 = 0;
  return dword_100DB3E4[2 * v3];
}
// 100DB3E4: using guessed type int dword_100DB3E4[];

//----- (100560D0) --------------------------------------------------------
int __cdecl sub_100560D0(int a1)
{
  void *v1; // ecx@0
  int v2; // eax@1
  int v3; // eax@3

  v2 = a1;
  if ( !a1 )
    v2 = sub_10045A80(v1);
  a1 = v2;
  v3 = sub_10045BE0(&a1, 4u, (int)&unk_100DB418, 8, 7, -1);
  if ( v3 == -1 )
    v3 = 0;
  return dword_100DB41C[2 * v3];
}
// 100DB41C: using guessed type int dword_100DB41C[];

//----- (10056110) --------------------------------------------------------
int __cdecl sub_10056110(int a1)
{
  void *v1; // ecx@0
  int v2; // eax@1
  int v3; // eax@3

  v2 = a1;
  if ( !a1 )
    v2 = sub_10045A80(v1);
  a1 = v2;
  v3 = sub_10045BE0(&a1, 4u, (int)&unk_100DB450, 8, 7, -1);
  if ( v3 == -1 )
    v3 = 0;
  return dword_100DB454[2 * v3];
}
// 100DB454: using guessed type int dword_100DB454[];

//----- (10056150) --------------------------------------------------------
int __cdecl sub_10056150(int a1)
{
  void *v1; // ecx@0
  int v2; // eax@1
  int v3; // eax@3

  v2 = a1;
  if ( !a1 )
    v2 = sub_10045A80(v1);
  a1 = v2;
  v3 = sub_10045BE0(&a1, 4u, (int)&unk_100DB488, 8, 7, -1);
  if ( v3 == -1 )
    v3 = 0;
  return dword_100DB48C[2 * v3];
}
// 100DB48C: using guessed type int dword_100DB48C[];

//----- (10056190) --------------------------------------------------------
int __cdecl sub_10056190(int a1, int a2, int a3, int a4)
{
  int result; // eax@1
  int v5; // eax@2
  int v6; // eax@8

  result = 0;
  if ( a1 )
  {
    v5 = sub_100560D0(a4);
    result = sub_10055F80(v5, a1, 104);
  }
  if ( a2 && !result )
    result = sub_10055F80(3532, a2, 2);
  if ( a3 )
  {
    if ( !result )
    {
      v6 = sub_10056090(a4);
      result = sub_10055F80(v6, a3, 6);
    }
  }
  return result;
}

//----- (10056200) --------------------------------------------------------
int __cdecl sub_10056200(int a1, int a2, int a3)
{
  int result; // eax@1
  int v4; // eax@2
  int v5; // eax@3
  int v6; // eax@6
  int v7; // eax@7

  result = 0;
  if ( a1 )
  {
    v4 = sub_10056150(a3);
    result = sub_10055F80(v4, a1, 64);
    if ( result == -7 )
    {
      sub_100552D0(100);
      v5 = sub_10056150(a3);
      result = sub_10055F80(v5, a1, 64);
    }
  }
  if ( a2 && !result )
  {
    v6 = sub_10056110(a3);
    result = sub_10055F80(v6, a2, 8);
    if ( result == -7 )
    {
      sub_100552D0(100);
      v7 = sub_10056110(a3);
      result = sub_10055F80(v7, a2, 8);
    }
  }
  return result;
}

//----- (100562B0) --------------------------------------------------------
unsigned int __cdecl sub_100562B0(int a1, int a2, unsigned int a3, char a4, unsigned __int16 a5, int a6)
{
  size_t v6; // ebp@1
  int *v7; // esi@1
  size_t v8; // ebx@1
  int v9; // edx@1
  unsigned int v10; // edi@1
  int v11; // ebx@2
  int v12; // edx@3
  int *v13; // ebp@3
  int v14; // eax@3
  int v15; // eax@3
  unsigned int result; // eax@4
  void **v17; // [sp+10h] [bp-Ch]@1
  void **v18; // [sp+20h] [bp+4h]@1

  v6 = 8 * a5;
  v7 = &dword_10E74AE0[a1];
  v8 = 32 * (a3 / (1 << a4));
  v9 = a2 - v8 - v6;
  *v7 = v9 + a3 - 52;
  v17 = (void **)&dword_10E74A98[a1];
  dword_10E74A98[a1] = a3 + v9;
  dword_10E74A58[a1] = a3 + a2 - v8;
  v18 = (void **)&dword_10E74A58[a1];
  memset((void *)(v9 + a3 - 52), 0, 0x34u);
  memset(*v17, 0, v6);
  memset(*v18, 0, v8);
  *(_DWORD *)(*v7 + 24) = 1 << a4;
  *(_DWORD *)(*v7 + 28) = ~(*(_DWORD *)(*v7 + 24) - 1);
  *(_BYTE *)(*v7 + 32) = a4;
  *(_DWORD *)(*v7 + 12) = a2;
  *(_DWORD *)(*v7 + 16) = a3;
  *(_DWORD *)(*v7 + 8) = a3 / (1 << a4) - (v8 + v6 + 52) / (1 << a4) - 1;
  *(_DWORD *)(*v7 + 4) = a6;
  *(_WORD *)(*v7 + 20) = a5;
  *(_DWORD *)*v7 = -1;
  *(_DWORD *)(*v7 + 36) = *v7 + 36;
  *(_DWORD *)(*v7 + 40) = *v7 + 36;
  *(_DWORD *)(*v7 + 44) = *v7 + 44;
  *(_DWORD *)(*v7 + 48) = *v7 + 44;
  v10 = 0;
  if ( *(_DWORD *)(*v7 + 8) )
  {
    v11 = 0;
    do
    {
      v12 = *v7;
      v13 = *(int **)(*v7 + 40);
      v14 = (int)*v18 + v11;
      *(_DWORD *)(v12 + 40) = v14;
      *(_DWORD *)v14 = v12 + 36;
      *(_DWORD *)(v14 + 4) = v13;
      *v13 = v14;
      v15 = a2 + v10++ * *(_DWORD *)(*v7 + 24);
      *(_DWORD *)((char *)*v18 + v11 + 28) = v15;
      v11 += 32;
    }
    while ( v10 < *(_DWORD *)(*v7 + 8) );
  }
  result = 0;
  if ( *(_WORD *)(*v7 + 20) )
  {
    do
    {
      *((_DWORD *)*v17 + 2 * result) = (char *)*v17 + 8 * result;
      *((_DWORD *)*v17 + 2 * result + 1) = (char *)*v17 + 8 * result;
      ++result;
    }
    while ( result < *(_WORD *)(*v7 + 20) );
  }
  return result;
}
// 10E74A98: using guessed type int dword_10E74A98[];
// 10E74AE0: using guessed type int dword_10E74AE0[];

//----- (10056460) --------------------------------------------------------
int __usercall sub_10056460@<eax>(int a1@<esi>)
{
  int v1; // eax@1
  int *v2; // ecx@1
  int result; // eax@2
  int v4; // eax@3
  int v5; // ecx@3
  _DWORD *v6; // edx@3
  int v7; // ecx@3
  _DWORD *v8; // edx@3
  int v9; // ecx@3
  int v10; // edx@3

  v1 = dword_10E74AE0[a1];
  v2 = (int *)(v1 + 36);
  if ( (int *)*v2 == v2 )
  {
    v4 = *(_DWORD *)(v1 + 44);
    v5 = *(_DWORD *)(v4 - 8);
    v6 = *(_DWORD **)(v4 - 4);
    result = v4 - 8;
    *(_DWORD *)(v5 + 4) = v6;
    *v6 = v5;
    v7 = *(_DWORD *)(result + 8);
    v8 = *(_DWORD **)(result + 12);
    *(_DWORD *)(v7 + 4) = v8;
    *v8 = v7;
    v9 = dword_10E74AE0[a1];
    v10 = *(_DWORD *)(v9 + 36);
    v9 += 36;
    *(_DWORD *)(v10 + 4) = result;
    *(_DWORD *)result = v10;
    *(_DWORD *)(result + 4) = v9;
    *(_DWORD *)v9 = result;
  }
  else
  {
    result = *v2;
  }
  return result;
}
// 10E74AE0: using guessed type int dword_10E74AE0[];

//----- (10056510) --------------------------------------------------------
int __cdecl sub_10056510(int a1, unsigned __int64 a2)
{
  int v2; // edi@1
  int *v3; // ebx@1
  signed int v4; // eax@1
  _DWORD *v5; // ecx@2
  int v6; // eax@2
  int *v7; // eax@2
  int v8; // ecx@2
  _DWORD *v9; // edx@2
  int v10; // eax@2
  int v11; // ecx@2
  int result; // eax@2

  v2 = sub_10056460(a1);
  v3 = &dword_10E74AE0[a1];
  v4 = sub_10055BB0(
         *(_DWORD *)dword_10E74AE0[a1] & 0xFFFFFFFC,
         *(void **)(v2 + 28),
         *(_DWORD *)(dword_10E74AE0[a1] + 24),
         a2,
         SHIDWORD(a2));
  if ( v4 <= 0 )
  {
    result = 0;
  }
  else
  {
    v5 = *(_DWORD **)(v2 + 4);
    *(_WORD *)(v2 + 24) = v4;
    v6 = *(_DWORD *)v2;
    *(_QWORD *)(v2 + 16) = a2;
    *(_DWORD *)(v6 + 4) = v5;
    *v5 = v6;
    v7 = (int *)(dword_10E74A98[a1] + 8 * ((unsigned int)(a2 >> *(_BYTE *)(*v3 + 32)) % *(_WORD *)(*v3 + 20)));
    v8 = *v7;
    *(_DWORD *)(v8 + 4) = v2;
    *(_DWORD *)(v2 + 4) = v7;
    *(_DWORD *)v2 = v8;
    *v7 = v2;
    v9 = *(_DWORD **)(*v3 + 48);
    v10 = *v3 + 44;
    v11 = v2 + 8;
    *(_DWORD *)(v10 + 4) = v2 + 8;
    *(_DWORD *)v11 = v10;
    result = v2;
    *(_DWORD *)(v11 + 4) = v9;
    *v9 = v2 + 8;
  }
  return result;
}
// 10E74A98: using guessed type int dword_10E74A98[];
// 10E74AE0: using guessed type int dword_10E74AE0[];

//----- (100565C0) --------------------------------------------------------
int __usercall sub_100565C0@<eax>(int a1@<ebx>, unsigned __int64 a2)
{
  int *v2; // edi@1
  int *v3; // ecx@1
  int result; // eax@1
  int v5; // edx@5
  _DWORD *v6; // esi@5
  int v7; // ecx@5
  _DWORD *v8; // esi@5
  int v9; // edx@5

  v2 = &dword_10E74AE0[a1];
  v3 = (int *)(dword_10E74A98[a1]
             + 8 * ((unsigned int)(a2 >> *(_BYTE *)(dword_10E74AE0[a1] + 32)) % *(_WORD *)(dword_10E74AE0[a1] + 20)));
  result = *v3;
  if ( (int *)*v3 == v3 )
  {
LABEL_4:
    result = sub_10056510(a1, a2);
  }
  else
  {
    while ( *(_QWORD *)(result + 16) != a2 )
    {
      result = *(_DWORD *)result;
      if ( (int *)result == v3 )
        goto LABEL_4;
    }
    v5 = *(_DWORD *)(result + 8);
    v6 = *(_DWORD **)(result + 12);
    v7 = result + 8;
    *(_DWORD *)(v5 + 4) = v6;
    *v6 = v5;
    v8 = *(_DWORD **)(*v2 + 48);
    v9 = *v2 + 44;
    *(_DWORD *)(v9 + 4) = result + 8;
    *(_DWORD *)(v7 + 4) = v8;
    *(_DWORD *)v7 = v9;
    *v8 = result + 8;
  }
  return result;
}
// 10E74A98: using guessed type int dword_10E74A98[];
// 10E74AE0: using guessed type int dword_10E74AE0[];

//----- (10056650) --------------------------------------------------------
unsigned int __cdecl sub_10056650(int a1, void *a2, int a3, int a4, int a5)
{
  unsigned int v5; // ebp@1
  int v6; // ebx@1
  int v7; // edi@1
  int v8; // edx@2
  unsigned int result; // eax@4
  int v10; // eax@7
  int v11; // esi@10
  int v12; // eax@10
  int v13; // ecx@11
  unsigned int v14; // eax@11
  const void *v15; // ecx@11
  size_t v16; // esi@12
  int v17; // ecx@13
  int v18; // et0@17

  v5 = a3;
  v6 = 0;
  v7 = a4;
  if ( !dword_10E74AD8 )
    goto LABEL_24;
  while ( 1 )
  {
    v8 = dword_10E74AE0[v6];
    if ( *(_DWORD *)v8 == a1 )
      break;
    if ( ++v6 >= (unsigned int)dword_10E74AD8 )
      return -1;
  }
  if ( v6 != -1 )
  {
    v10 = *(_DWORD *)(v8 + 4);
    if ( v10 != 138 )
      sub_100551F0(v10, -1);
    if ( a3 )
    {
      while ( 1 )
      {
        v11 = v7 & ~*(_DWORD *)(dword_10E74AE0[v6] + 28);
        v12 = sub_100565C0(v6, (unsigned int)v7 & *(_DWORD *)(dword_10E74AE0[v6] + 28));
        if ( !v12 )
          break;
        v13 = *(_DWORD *)(v12 + 28);
        v14 = *(_WORD *)(v12 + 24) - v11;
        v15 = (const void *)(v11 + v13);
        if ( v5 <= v14 )
        {
          v16 = v5;
        }
        else
        {
          v16 = v14;
          if ( !v14 )
            goto LABEL_13;
        }
        memcpy(a2, v15, v16);
        v5 -= v16;
        v18 = (v16 + __PAIR__((unsigned int)a5, v7)) >> 32;
        v7 += v16;
        a5 = v18;
        a2 = (char *)a2 + v16;
        if ( !v5 )
          goto LABEL_13;
      }
      if ( *(_DWORD *)(dword_10E74AE0[v6] + 4) != 138 )
        sub_10055190(*(_DWORD *)(dword_10E74AE0[v6] + 4));
      result = -1;
    }
    else
    {
LABEL_13:
      v17 = dword_10E74AE0[v6];
      if ( *(_DWORD *)(v17 + 4) != 138 )
        sub_10055190(*(_DWORD *)(v17 + 4));
      result = a3 - v5;
    }
  }
  else
  {
LABEL_24:
    result = -1;
  }
  return result;
}
// 10E74AD8: using guessed type int dword_10E74AD8;
// 10E74AE0: using guessed type int dword_10E74AE0[];

//----- (100567A0) --------------------------------------------------------
void __cdecl sub_100567A0(__int16 a1, _BYTE *a2)
{
  void *v2; // ecx@0
  void *v3; // ecx@2

  if ( a1 == 29 && sub_10042F80(v2) && sub_10042FC0(v3) != 1 )
    *a2 = 0;
}

//----- (100567D0) --------------------------------------------------------
int __cdecl sub_100567D0(int a1, int a2)
{
  int v2; // edx@1

  v2 = a1 + 28;
  *(_DWORD *)v2 = *(_DWORD *)(a2 + 76);
  *(_DWORD *)(v2 + 4) = *(_DWORD *)(a2 + 80);
  *(_DWORD *)(v2 + 8) = *(_DWORD *)(a2 + 84);
  *(_DWORD *)(v2 + 12) = *(_DWORD *)(a2 + 88);
  *(_DWORD *)(v2 + 16) = *(_DWORD *)(a2 + 92);
  *(_DWORD *)(v2 + 20) = *(_DWORD *)(a2 + 96);
  *(_DWORD *)(a1 + 20) = *(_DWORD *)(a2 + 100);
  *(_DWORD *)(a1 + 24) = *(_DWORD *)(a2 + 104);
  *(_DWORD *)(*(_DWORD *)(a2 + 148) + 4) &= 0xFFFFFFFE;
  return 0;
}

//----- (10056850) --------------------------------------------------------
int __cdecl sub_10056850(int a1)
{
  return sub_10057070(**(_DWORD **)a1, (_DWORD *)(a1 + 40));
}

//----- (10056880) --------------------------------------------------------
int __cdecl sub_10056880(int a1, int a2)
{
  int v3; // [sp+Ch] [bp-8h]@2

  if ( *(_DWORD *)(a2 + 72) == 1869968492 )
  {
    v3 = sub_10058600(*(_DWORD *)a1, *(_WORD *)(a2 + 110), *(_WORD *)(a2 + 108), a1 + 20);
    if ( !v3 )
    {
      memcpy(*(void **)(a1 + 24), *(const void **)(a2 + 112), 8 * *(_WORD *)(a2 + 110));
      memcpy(*(void **)(a1 + 28), *(const void **)(a2 + 116), *(_WORD *)(a2 + 110));
      memcpy(*(void **)(a1 + 32), *(const void **)(a2 + 120), 2 * *(_WORD *)(a2 + 108));
      *(_DWORD *)(a1 + 36) = *(_DWORD *)(a2 + 124) | 1;
    }
  }
  else
  {
    v3 = 18;
  }
  return v3;
}

//----- (10056970) --------------------------------------------------------
signed int __cdecl sub_10056970(int **a1)
{
  return sub_10058850(*a1, (int)(a1 + 5));
}

//----- (100569A0) --------------------------------------------------------
int __cdecl sub_100569A0(int a1, int a2)
{
  int v3; // [sp+8h] [bp-8h]@1

  v3 = sub_10058600(*(_DWORD *)a1, *(_WORD *)(a1 + 22), *(_WORD *)(a1 + 20), a2 + 20);
  if ( !v3 )
    sub_100586E0(a1 + 20, a2 + 20);
  return v3;
}

//----- (10056A10) --------------------------------------------------------
int __cdecl sub_10056A10(int a1, int a2)
{
  return sub_10058A80(a1 + 20, a2);
}

//----- (10056A40) --------------------------------------------------------
int __cdecl sub_10056A40(int a1, int a2)
{
  int v2; // eax@1

  *(_DWORD *)(a2 + 72) = 1869968492;
  v2 = a2 + 108;
  *(_DWORD *)v2 = *(_DWORD *)(a1 + 20);
  *(_DWORD *)(v2 + 4) = *(_DWORD *)(a1 + 24);
  *(_DWORD *)(v2 + 8) = *(_DWORD *)(a1 + 28);
  *(_DWORD *)(v2 + 12) = *(_DWORD *)(a1 + 32);
  *(_DWORD *)(v2 + 16) = *(_DWORD *)(a1 + 36);
  *(_DWORD *)(a2 + 124) &= 0xFFFFFFFE;
  return 0;
}

//----- (10056AA0) --------------------------------------------------------
int __cdecl sub_10056AA0(int a1, _DWORD *a2)
{
  int v2; // ecx@6
  int v3; // edx@6
  int v5; // [sp+0h] [bp-Ch]@5
  int v6; // [sp+4h] [bp-8h]@5
  int v7; // [sp+8h] [bp-4h]@4

  if ( a2 && a1 && *(_DWORD *)(a1 + 4) )
  {
    *a2 = 0;
    v6 = *(_DWORD *)(a1 + 4);
    v7 = sub_10056B60(*(int **)a1, v6, &v5);
    if ( !v7 )
    {
      v2 = *(_DWORD *)(a1 + 16);
      v3 = v5;
      *(_DWORD *)(v5 + 12) = *(_DWORD *)(a1 + 12);
      *(_DWORD *)(v3 + 16) = v2;
      *(_DWORD *)(v5 + 8) = *(_DWORD *)(a1 + 8);
      if ( *(_DWORD *)(v6 + 16) )
        v7 = (*(int (__cdecl **)(int, int))(v6 + 16))(a1, v5);
      if ( v7 )
        sub_10056EF0(v5);
      else
        *a2 = v5;
    }
  }
  else
  {
    v7 = 6;
  }
  return v7;
}

//----- (10056B60) --------------------------------------------------------
int __cdecl sub_10056B60(int *a1, int a2, int *a3)
{
  int v3; // ST0C_4@1
  int v5; // [sp+4h] [bp-8h]@1
  int v6; // [sp+8h] [bp-4h]@1

  v3 = *a1;
  *a3 = 0;
  v6 = sub_10056F50(v3, *(_DWORD *)a2, (int)&v5);
  if ( !v6 )
  {
    *(_DWORD *)v5 = a1;
    *(_DWORD *)(v5 + 4) = a2;
    *(_DWORD *)(v5 + 8) = *(_DWORD *)(a2 + 4);
    *a3 = v5;
  }
  return v6;
}

//----- (10056BD0) --------------------------------------------------------
signed int __cdecl sub_10056BD0(int a1, _DWORD *a2)
{
  signed int result; // eax@2
  int v3; // eax@6
  int v4; // [sp+0h] [bp-10h]@6
  void *v5; // [sp+4h] [bp-Ch]@1
  int v6; // [sp+8h] [bp-8h]@7
  int *v7; // [sp+Ch] [bp-4h]@3

  v5 = 0;
  if ( a1 )
  {
    v7 = *(int **)a1;
    if ( a2 )
    {
      if ( *(_DWORD *)(a1 + 72) == 1869968492 )
      {
        v5 = &unk_100DDCDC;
        v3 = sub_10056B60(v7, (int)&unk_100DDCDC, &v4);
        v6 = v3;
        if ( !v3 )
        {
          *(_DWORD *)(v4 + 12) = *(_DWORD *)(a1 + 64) << 10;
          *(_DWORD *)(v4 + 16) = *(_DWORD *)(a1 + 68) << 10;
          v6 = (*((int (__cdecl **)(_DWORD, _DWORD))v5 + 2))(v4, a1);
          if ( v6 )
            sub_10056EF0(v4);
          else
            *a2 = v4;
        }
      }
      else
      {
        v6 = 18;
      }
      result = v6;
    }
    else
    {
      result = 6;
    }
  }
  else
  {
    result = 37;
  }
  return result;
}

//----- (10056CA0) --------------------------------------------------------
int __cdecl sub_10056CA0(int a1, int *a2, int a3)
{
  int v4; // [sp+0h] [bp-18h]@6
  int v5; // [sp+4h] [bp-14h]@6
  int v6; // [sp+8h] [bp-10h]@6
  int v7; // [sp+Ch] [bp-Ch]@6
  int v8; // [sp+10h] [bp-8h]@5
  int v9; // [sp+14h] [bp-4h]@1

  v9 = 0;
  if ( a1 && *(_DWORD *)(a1 + 4) && *(_UNKNOWN **)(a1 + 4) == &unk_100DDCDC )
  {
    v8 = *(_DWORD *)(a1 + 4);
    if ( !a2 )
    {
      v4 = 0x10000;
      v5 = 0;
      v6 = 0;
      v7 = 0x10000;
      a2 = &v4;
    }
    if ( *(_DWORD *)(v8 + 20) )
    {
      (*(void (__cdecl **)(int, int *, int))(v8 + 20))(a1, a2, a3);
      sub_100589F0(a1 + 12, (int)a2);
    }
    else
    {
      v9 = 18;
    }
  }
  else
  {
    v9 = 6;
  }
  return v9;
}

//----- (10056D50) --------------------------------------------------------
int __cdecl sub_10056D50(int *a1, int a2, int a3, char a4)
{
  int v4; // ecx@9
  int v5; // edx@9
  int v7; // [sp+0h] [bp-D0h]@2
  int v8; // [sp+4h] [bp-CCh]@1
  int *v9; // [sp+8h] [bp-C8h]@6
  int v10; // [sp+50h] [bp-80h]@6
  char *v11; // [sp+9Ch] [bp-34h]@6
  int v12; // [sp+A0h] [bp-30h]@2
  int v13; // [sp+A4h] [bp-2Ch]@1
  char v14; // [sp+A8h] [bp-28h]@6

  v13 = 0;
  v8 = 0;
  if ( a1 && (v7 = *a1, (v12 = *(_DWORD *)(*a1 + 4)) != 0) && *(_DWORD *)(v12 + 28) && (_UNKNOWN *)v12 == &unk_100DDCDC )
  {
    memset(&v9, 0, 0x98u);
    memset(&v14, 0, 0x28u);
    v11 = &v14;
    v9 = *(int **)v7;
    v10 = *(_DWORD *)(v12 + 4);
    v13 = sub_10056B60(*(int **)v7, (int)&unk_100DDCBC, &v8);
    if ( !v13 )
    {
      v13 = (*(int (__cdecl **)(int, int **))(v12 + 28))(v7, &v9);
      v13 = sub_1005A6F0(*(_DWORD *)v7, (int)&v9, a2);
      if ( !v13 )
      {
        v13 = sub_100567D0(v8, (int)&v9);
        if ( !v13 )
        {
          v4 = *(_DWORD *)(v7 + 16);
          v5 = v8;
          *(_DWORD *)(v8 + 12) = *(_DWORD *)(v7 + 12);
          *(_DWORD *)(v5 + 16) = v4;
          if ( a4 )
            sub_10056EF0(v7);
          *a1 = v8;
        }
      }
    }
  }
  else
  {
    v13 = 6;
  }
  if ( v13 && v8 )
    sub_10056EF0(v8);
  return v13;
}

//----- (10056EF0) --------------------------------------------------------
int __cdecl sub_10056EF0(int a1)
{
  int result; // eax@2
  int v2; // [sp+0h] [bp-8h]@3
  int v3; // [sp+4h] [bp-4h]@3

  if ( a1 )
  {
    result = a1;
    if ( *(_DWORD *)a1 )
    {
      v2 = **(_DWORD **)a1;
      v3 = *(_DWORD *)(a1 + 4);
      if ( *(_DWORD *)(v3 + 12) )
        (*(void (__cdecl **)(int))(v3 + 12))(a1);
      result = sub_10057070(v2, &a1);
    }
  }
  return result;
}

//----- (10056F50) --------------------------------------------------------
int __cdecl sub_10056F50(int a1, size_t a2, int a3)
{
  if ( (signed int)a2 <= 0 )
  {
    *(_DWORD *)a3 = 0;
  }
  else
  {
    *(_DWORD *)a3 = (*(int (__cdecl **)(int, size_t))(a1 + 4))(a1, a2);
    if ( !*(_DWORD *)a3 )
      return 64;
    memset(*(void **)a3, 0, a2);
  }
  return 0;
}

//----- (10056FC0) --------------------------------------------------------
int __cdecl sub_10056FC0(int a1, int a2, size_t a3, int a4)
{
  int result; // eax@2
  int v5; // [sp+0h] [bp-4h]@5

  if ( *(_DWORD *)a4 )
  {
    if ( (signed int)a3 > 0 )
    {
      v5 = (*(int (__cdecl **)(int, int, size_t, _DWORD))(a1 + 12))(a1, a2, a3, *(_DWORD *)a4);
      if ( v5 )
      {
        if ( (signed int)a3 > a2 )
          memset((void *)(a2 + v5), 0, a3 - a2);
        *(_DWORD *)a4 = v5;
        result = 0;
      }
      else
      {
        result = 64;
      }
    }
    else
    {
      sub_10057070(a1, (_DWORD *)a4);
      result = 0;
    }
  }
  else
  {
    result = sub_10056F50(a1, a3, a4);
  }
  return result;
}

//----- (10057070) --------------------------------------------------------
int __cdecl sub_10057070(int a1, _DWORD *a2)
{
  int result; // eax@1

  result = 0;
  if ( a2 && *a2 )
  {
    if ( a1 )
    {
      result = (*(int (__cdecl **)(int, _DWORD))(a1 + 8))(a1, *a2);
      *a2 = 0;
    }
  }
  return result;
}

//----- (100570B0) --------------------------------------------------------
int __cdecl sub_100570B0(int *a1, int a2)
{
  int i; // [sp+0h] [bp-4h]@1

  for ( i = *a1; i; i = *(_DWORD *)(i + 4) )
  {
    if ( *(_DWORD *)(i + 8) == a2 )
      return i;
  }
  return 0;
}

//----- (100570F0) --------------------------------------------------------
int __cdecl sub_100570F0(int a1, int a2)
{
  int result; // eax@4
  int v3; // [sp+0h] [bp-4h]@1

  v3 = *(_DWORD *)(a1 + 4);
  *(_DWORD *)(a2 + 4) = 0;
  *(_DWORD *)a2 = v3;
  if ( v3 )
    *(_DWORD *)(v3 + 4) = a2;
  else
    *(_DWORD *)a1 = a2;
  result = a1;
  *(_DWORD *)(a1 + 4) = a2;
  return result;
}

//----- (10057140) --------------------------------------------------------
int __cdecl sub_10057140(int a1, int a2)
{
  int result; // eax@1
  _DWORD *v3; // [sp+0h] [bp-8h]@1
  int v4; // [sp+4h] [bp-4h]@1

  v4 = *(_DWORD *)a2;
  result = *(_DWORD *)(a2 + 4);
  v3 = *(_DWORD **)(a2 + 4);
  if ( *(_DWORD *)a2 )
  {
    *(_DWORD *)(v4 + 4) = v3;
  }
  else
  {
    result = a1;
    *(_DWORD *)a1 = v3;
  }
  if ( v3 )
  {
    result = v4;
    *v3 = v4;
  }
  else
  {
    *(_DWORD *)(a1 + 4) = v4;
  }
  return result;
}

//----- (10057190) --------------------------------------------------------
int __cdecl sub_10057190(int a1, void (__cdecl *a2)(int, _DWORD, int), int a3, int a4)
{
  int result; // eax@6
  int v5; // [sp+4h] [bp-8h]@3
  int i; // [sp+8h] [bp-4h]@1

  for ( i = *(_DWORD *)a1; i; i = v5 )
  {
    v5 = *(_DWORD *)(i + 4);
    if ( a2 )
      a2(a3, *(_DWORD *)(i + 8), a4);
    sub_10057070(a3, &i);
  }
  result = a1;
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(a1 + 4) = 0;
  return result;
}

//----- (10057200) --------------------------------------------------------
int __cdecl sub_10057200(int a1)
{
  int result; // eax@1

  (*(void (__cdecl **)(int))(a1 + 24))(a1);
  result = a1;
  *(_DWORD *)(a1 + 24) = 0;
  return result;
}

//----- (10057220) --------------------------------------------------------
signed int __cdecl sub_10057220(int a1, int a2)
{
  signed int v3; // [sp+0h] [bp-4h]@1

  v3 = 0;
  *(_DWORD *)(a1 + 8) = a2;
  if ( *(_DWORD *)(a1 + 8) > *(_DWORD *)(a1 + 4)
    || (*(int (__cdecl **)(int, int, _DWORD, _DWORD))(a1 + 20))(a1, a2, 0, 0) )
  {
    v3 = 85;
  }
  return v3;
}

//----- (10057270) --------------------------------------------------------
signed int __cdecl sub_10057270(int a1, int a2)
{
  return sub_10057220(a1, a2 + *(_DWORD *)(a1 + 8));
}

//----- (10057290) --------------------------------------------------------
int __cdecl sub_10057290(int a1)
{
  return *(_DWORD *)(a1 + 8);
}

//----- (100572A0) --------------------------------------------------------
signed int __cdecl sub_100572A0(int a1, int a2, unsigned int a3)
{
  return sub_100572C0(a1, *(_DWORD *)(a1 + 8), a2, a3);
}

//----- (100572C0) --------------------------------------------------------
signed int __cdecl sub_100572C0(int a1, unsigned int a2, int a3, unsigned int a4)
{
  signed int result; // eax@2
  unsigned int v5; // eax@3
  signed int v6; // [sp+0h] [bp-8h]@1

  v6 = 0;
  if ( a2 < *(_DWORD *)(a1 + 4) )
  {
    v5 = (*(int (__cdecl **)(int, unsigned int, int, unsigned int))(a1 + 20))(a1, a2, a3, a4);
    *(_DWORD *)(a1 + 8) = v5 + a2;
    if ( v5 < a4 )
      v6 = 85;
    result = v6;
  }
  else
  {
    result = 85;
  }
  return result;
}

//----- (10057330) --------------------------------------------------------
int __cdecl sub_10057330(int a1, size_t a2, int a3)
{
  int v4; // [sp+0h] [bp-4h]@1

  v4 = sub_100573C0(a1, a2);
  if ( !v4 )
  {
    *(_DWORD *)a3 = *(_DWORD *)(a1 + 32);
    *(_DWORD *)(a1 + 32) = 0;
    *(_DWORD *)(a1 + 36) = 0;
  }
  return v4;
}

//----- (10057380) --------------------------------------------------------
int __cdecl sub_10057380(int a1, _DWORD *a2)
{
  int result; // eax@2

  if ( a1 )
  {
    result = a1;
    if ( *(_DWORD *)(a1 + 28) )
      result = sub_10057070(*(_DWORD *)(a1 + 28), a2);
  }
  *a2 = 0;
  return result;
}

//----- (100573C0) --------------------------------------------------------
int __cdecl sub_100573C0(int a1, size_t a2)
{
  int v3; // [sp+0h] [bp-Ch]@1
  int v4; // [sp+4h] [bp-8h]@1
  size_t v5; // [sp+8h] [bp-4h]@2

  v3 = *(_DWORD *)(a1 + 28);
  v4 = sub_10056F50(v3, a2, a1);
  if ( !v4 )
  {
    v5 = 0;
    if ( *(_DWORD *)(a1 + 8) > *(_DWORD *)(a1 + 4)
      || (v5 = (*(int (__cdecl **)(int, _DWORD, _DWORD, size_t))(a1 + 20))(a1, *(_DWORD *)(a1 + 8), *(_DWORD *)a1, a2),
          v5 < a2) )
    {
      sub_10057070(v3, (_DWORD *)a1);
      v4 = 85;
    }
    *(_DWORD *)(a1 + 32) = *(_DWORD *)a1;
    *(_DWORD *)(a1 + 36) = a2 + *(_DWORD *)(a1 + 32);
    *(_DWORD *)(a1 + 8) += v5;
  }
  return v4;
}

//----- (10057490) --------------------------------------------------------
int __cdecl sub_10057490(int a1)
{
  int result; // eax@1

  sub_10057070(*(_DWORD *)(a1 + 28), (_DWORD *)a1);
  *(_DWORD *)(a1 + 32) = 0;
  result = a1;
  *(_DWORD *)(a1 + 36) = 0;
  return result;
}

//----- (100574D0) --------------------------------------------------------
char __cdecl sub_100574D0(int a1)
{
  char v2; // [sp+1h] [bp-1h]@1

  v2 = 0;
  if ( *(_DWORD *)(a1 + 32) < *(_DWORD *)(a1 + 36) )
    v2 = *(_BYTE *)(*(_DWORD *)(a1 + 32))++;
  return v2;
}

//----- (10057510) --------------------------------------------------------
__int16 __cdecl sub_10057510(int a1)
{
  __int16 v2; // [sp+0h] [bp-8h]@1
  int v3; // [sp+4h] [bp-4h]@1

  v2 = 0;
  v3 = *(_DWORD *)(a1 + 32);
  if ( (unsigned int)(v3 + 1) < *(_DWORD *)(a1 + 36) )
  {
    v3 += 2;
    v2 = *(_BYTE *)(v3 - 1) | (unsigned __int16)(*(_BYTE *)(v3 - 2) << 8);
  }
  *(_DWORD *)(a1 + 32) = v3;
  return v2;
}

//----- (10057570) --------------------------------------------------------
int __cdecl sub_10057570(int a1)
{
  int v2; // [sp+0h] [bp-8h]@1
  int v3; // [sp+4h] [bp-4h]@1

  v2 = 0;
  v3 = *(_DWORD *)(a1 + 32);
  if ( (unsigned int)(v3 + 3) < *(_DWORD *)(a1 + 36) )
  {
    v3 += 4;
    v2 = *(_BYTE *)(v3 - 1) | (*(_BYTE *)(v3 - 2) << 8) | (*(_BYTE *)(v3 - 3) << 16) | (*(_BYTE *)(v3 - 4) << 24);
  }
  *(_DWORD *)(a1 + 32) = v3;
  return v2;
}

//----- (100575E0) --------------------------------------------------------
char __cdecl sub_100575E0(int a1, _DWORD *a2)
{
  char result; // al@3
  char v3; // [sp+3h] [bp-1h]@1

  v3 = 0;
  *a2 = 0;
  if ( *(_DWORD *)(a1 + 8) < *(_DWORD *)(a1 + 4)
    && (*(int (__cdecl **)(int, _DWORD, char *, signed int))(a1 + 20))(a1, *(_DWORD *)(a1 + 8), &v3, 1) == 1 )
  {
    ++*(_DWORD *)(a1 + 8);
    result = v3;
  }
  else
  {
    *a2 = 85;
    result = 0;
  }
  return result;
}

//----- (10057650) --------------------------------------------------------
int __cdecl sub_10057650(int a1, _DWORD *a2)
{
  int v2; // ST10_4@3
  int result; // eax@3
  char v4; // [sp+4h] [bp-8h]@2
  unsigned __int8 v5; // [sp+5h] [bp-7h]@3
  unsigned __int8 v6; // [sp+6h] [bp-6h]@3
  unsigned __int8 v7; // [sp+7h] [bp-5h]@3
  int *v8; // [sp+8h] [bp-4h]@1

  v8 = 0;
  *a2 = 0;
  if ( (unsigned int)(*(_DWORD *)(a1 + 8) + 3) >= *(_DWORD *)(a1 + 4)
    || (*(int (__cdecl **)(int, _DWORD, char *, signed int))(a1 + 20))(a1, *(_DWORD *)(a1 + 8), &v4, 4) != 4 )
  {
    *a2 = 85;
    result = 0;
  }
  else
  {
    v8 = (int *)&v8;
    v2 = v7 | (v6 << 8) | (v5 << 16) | (v4 << 24);
    *(_DWORD *)(a1 + 8) += 4;
    result = v2;
  }
  return result;
}

//----- (10057710) --------------------------------------------------------
signed int __cdecl sub_10057710(int a1, int a2, int a3)
{
  signed int result; // eax@3
  char v4; // [sp+0h] [bp-24h]@19
  size_t v5; // [sp+8h] [bp-1Ch]@8
  char v6; // [sp+Ch] [bp-18h]@13
  int v7; // [sp+10h] [bp-14h]@13
  _BYTE *v8; // [sp+14h] [bp-10h]@19
  char v9; // [sp+1Bh] [bp-9h]@1
  int v10; // [sp+1Ch] [bp-8h]@4
  _BYTE *v11; // [sp+20h] [bp-4h]@4

  v9 = 0;
  if ( a2 && a1 )
  {
    v11 = *(_BYTE **)(a1 + 32);
    v10 = 0;
    while ( 2 )
    {
      switch ( *(_BYTE *)a2 )
      {
        case 4:
          v10 = sub_100573C0(a1, *(_WORD *)(a2 + 2));
          if ( !v10 )
          {
            v9 = 1;
            v11 = *(_BYTE **)(a1 + 32);
            a2 += 4;
            continue;
          }
          goto LABEL_26;
        case 0x18:
        case 0x19:
          v5 = *(_BYTE *)(a2 + 1);
          if ( (unsigned int)&v11[v5] <= *(_DWORD *)(a1 + 36) )
          {
            if ( *(_BYTE *)a2 == 24 )
              memcpy((void *)(a3 + *(_WORD *)(a2 + 2)), v11, v5);
            v11 += v5;
            a2 += 4;
            continue;
          }
          v10 = 85;
          goto LABEL_26;
        case 8:
        case 9:
          v7 = *v11++;
          v6 = 24;
          goto LABEL_17;
        case 0xC:
        case 0xD:
          v11 += 2;
          v7 = (unsigned __int16)(*(v11 - 1) | (unsigned __int16)(*(v11 - 2) << 8));
          v6 = 16;
          goto LABEL_17;
        case 0x10:
        case 0x11:
          v11 += 4;
          v7 = *(v11 - 1) | (*(v11 - 2) << 8) | (*(v11 - 3) << 16) | (*(v11 - 4) << 24);
          v6 = 0;
LABEL_17:
          if ( *(_BYTE *)a2 & 1 )
            v7 = v7 << v6 >> v6;
          v8 = (_BYTE *)(a3 + *(_WORD *)(a2 + 2));
          v4 = *(_BYTE *)(a2 + 1);
          if ( v4 == 1 )
          {
            *v8 = v7;
          }
          else if ( v4 == 2 )
          {
            *(_WORD *)v8 = v7;
          }
          else
          {
            *(_DWORD *)v8 = v7;
          }
          a2 += 4;
          continue;
        default:
          *(_DWORD *)(a1 + 32) = v11;
LABEL_26:
          if ( v9 )
            sub_10057490(a1);
          result = v10;
          break;
      }
      break;
    }
  }
  else
  {
    result = 6;
  }
  return result;
}

//----- (10057980) --------------------------------------------------------
int __cdecl sub_10057980(int a1, signed int a2, int a3)
{
  int result; // eax@3
  int v4; // [sp+0h] [bp-24h]@22
  int v5; // [sp+4h] [bp-20h]@11
  signed int v6; // [sp+8h] [bp-1Ch]@8
  signed int v7; // [sp+Ch] [bp-18h]@5
  int v8; // [sp+10h] [bp-14h]@19
  int v9; // [sp+14h] [bp-10h]@19
  unsigned int v10; // [sp+18h] [bp-Ch]@19
  unsigned int v11; // [sp+1Ch] [bp-8h]@19
  int v12; // [sp+20h] [bp-4h]@4
  signed int v13; // [sp+2Ch] [bp+8h]@17

  if ( a1 && a2 != a3 )
  {
    v12 = a1;
    if ( a1 >= 0 )
      v7 = a1;
    else
      v7 = -a1;
    v12 ^= a2;
    if ( a2 >= 0 )
      v6 = a2;
    else
      v6 = -a2;
    v12 ^= a3;
    if ( a3 >= 0 )
      v5 = a3;
    else
      v5 = -a3;
    if ( v7 > 46340 || v6 > 46340 || v5 > 176095 || v5 <= 0 )
    {
      if ( v5 <= 0 )
      {
        v13 = 0x7FFFFFFF;
      }
      else
      {
        sub_10057AC0(v7, v6, (int)&v10);
        v9 = 0;
        v8 = v5 >> 1;
        sub_10057C00((int)&v10, (int)&v8, (int)&v10);
        v13 = sub_10057B80(v11, v10, v5);
      }
    }
    else
    {
      v13 = ((v5 >> 1) + v6 * v7) / v5;
    }
    if ( v12 >= 0 )
      v4 = v13;
    else
      v4 = -v13;
    result = v4;
  }
  else
  {
    result = a1;
  }
  return result;
}

//----- (10057AC0) --------------------------------------------------------
int __cdecl sub_10057AC0(unsigned int a1, unsigned int a2, int a3)
{
  unsigned int v3; // ST00_4@1
  unsigned int v4; // ST0C_4@1
  int result; // eax@1

  v3 = (a1 >> 16) * (unsigned __int16)a2;
  v4 = (v3 + (a2 >> 16) * (unsigned __int16)a1) << 16;
  *(_DWORD *)a3 = v4 + (unsigned __int16)a2 * (unsigned __int16)a1;
  result = a3;
  *(_DWORD *)(a3 + 4) = (a2 >> 16) * (a1 >> 16)
                      + ((v3 + (a2 >> 16) * (unsigned __int16)a1 < v3) << 16)
                      + ((v3 + (a2 >> 16) * (unsigned __int16)a1) >> 16)
                      + (v4 + (unsigned __int16)a2 * (unsigned __int16)a1 < v4);
  return result;
}

//----- (10057B80) --------------------------------------------------------
signed int __cdecl sub_10057B80(unsigned int a1, unsigned int a2, int a3)
{
  signed int result; // eax@2
  unsigned int v4; // [sp+0h] [bp-Ch]@1
  signed int v5; // [sp+4h] [bp-8h]@1
  signed int v6; // [sp+8h] [bp-4h]@3

  v5 = 0;
  v4 = a1;
  if ( a1 < a3 )
  {
    v6 = 32;
    do
    {
      v5 *= 2;
      v4 = 2 * v4 | (a2 >> 31);
      if ( v4 >= a3 )
      {
        v4 -= a3;
        v5 |= 1u;
      }
      a2 *= 2;
      --v6;
    }
    while ( v6 );
    result = v5;
  }
  else
  {
    result = 0x7FFFFFFF;
  }
  return result;
}

//----- (10057C00) --------------------------------------------------------
int __cdecl sub_10057C00(int a1, int a2, int a3)
{
  unsigned int v3; // ST0C_4@4
  int v4; // ST08_4@4
  int result; // eax@4
  unsigned int v6; // [sp+0h] [bp-10h]@2

  if ( *(_DWORD *)a1 <= *(_DWORD *)a2 )
    v6 = *(_DWORD *)a2;
  else
    v6 = *(_DWORD *)a1;
  v3 = *(_DWORD *)a2 + *(_DWORD *)a1;
  v4 = (v3 < v6) + *(_DWORD *)(a2 + 4) + *(_DWORD *)(a1 + 4);
  result = *(_DWORD *)a2 + *(_DWORD *)a1;
  *(_DWORD *)a3 = v3;
  *(_DWORD *)(a3 + 4) = v4;
  return result;
}

//----- (10057C70) --------------------------------------------------------
int __cdecl sub_10057C70(signed int a1, signed int a2)
{
  int result; // eax@3
  int v3; // [sp+0h] [bp-1Ch]@15
  unsigned int v4; // [sp+4h] [bp-18h]@8
  unsigned int v5; // [sp+8h] [bp-14h]@5
  unsigned int v6; // [sp+10h] [bp-Ch]@12

  if ( a1 && a2 != 0x10000 )
  {
    if ( a1 >= 0 )
      v5 = a1;
    else
      v5 = -a1;
    if ( a2 >= 0 )
      v4 = a2;
    else
      v4 = -a2;
    if ( v5 > 0x800 || v4 > 0x100000 )
      v6 = (((unsigned __int16)v5 * (unsigned int)(unsigned __int16)v4 + 0x8000) >> 16)
         + (unsigned __int16)v5 * (v4 >> 16)
         + v4 * (v5 >> 16);
    else
      v6 = (v4 * v5 + 0x8000) >> 16;
    if ( (a2 ^ a1) >= 0 )
      v3 = v6;
    else
      v3 = -v6;
    result = v3;
  }
  else
  {
    result = a1;
  }
  return result;
}

//----- (10057D70) --------------------------------------------------------
int __cdecl sub_10057D70(int a1, int a2)
{
  int v3; // [sp+0h] [bp-24h]@13
  int v4; // [sp+4h] [bp-20h]@5
  signed int v5; // [sp+8h] [bp-1Ch]@2
  int v6; // [sp+Ch] [bp-18h]@11
  int v7; // [sp+10h] [bp-14h]@11
  __int64 v8; // [sp+14h] [bp-10h]@11
  int v9; // [sp+1Ch] [bp-8h]@8
  int v10; // [sp+20h] [bp-4h]@1

  v10 = a1;
  if ( a1 >= 0 )
    v5 = a1;
  else
    v5 = -a1;
  v10 ^= a2;
  if ( a2 >= 0 )
    v4 = a2;
  else
    v4 = -a2;
  if ( v4 )
  {
    if ( v5 >> 16 )
    {
      v8 = (signed __int64)v5 << 16;
      v7 = 0;
      v6 = v4 >> 1;
      sub_10057C00((int)&v8, (int)&v6, (int)&v8);
      v9 = sub_10057B80(HIDWORD(v8), v8, v4);
    }
    else
    {
      v9 = ((v4 >> 1) + (v5 << 16)) / (unsigned int)v4;
    }
  }
  else
  {
    v9 = 0x7FFFFFFF;
  }
  if ( v10 >= 0 )
    v3 = v9;
  else
    v3 = -v9;
  return v3;
}

//----- (10057E60) --------------------------------------------------------
int __cdecl sub_10057E60(signed int a1)
{
  int v2; // [sp+0h] [bp-8h]@1
  int v3; // [sp+4h] [bp-4h]@1

  v2 = 72899491;
  v3 = 0;
  sub_10057EA0((int)&v2, a1);
  return v2 / 4096;
}

//----- (10057EA0) --------------------------------------------------------
signed int __cdecl sub_10057EA0(int a1, signed int a2)
{
  int v2; // ST04_4@7
  int v3; // ST04_4@8
  int v4; // ST04_4@11
  int v5; // ST04_4@12
  signed int result; // eax@14
  char *v7; // [sp+0h] [bp-14h]@7
  signed int v8; // [sp+8h] [bp-Ch]@9
  int v9; // [sp+Ch] [bp-8h]@1
  signed int v10; // [sp+Ch] [bp-8h]@7
  int v11; // [sp+10h] [bp-4h]@1
  signed int v12; // [sp+10h] [bp-4h]@7
  int v13; // [sp+20h] [bp+Ch]@7

  v9 = *(_DWORD *)a1;
  v11 = *(_DWORD *)(a1 + 4);
  while ( a2 <= -5898240 )
  {
    v9 = -v9;
    v11 = -v11;
    a2 += 11796480;
  }
  while ( a2 > 5898240 )
  {
    v9 = -v9;
    v11 = -v11;
    a2 -= 11796480;
  }
  if ( a2 >= 0 )
  {
    v3 = v9 - 2 * v11;
    v12 = v11 + 2 * v9;
    v10 = v3;
    v13 = a2 - dword_100DDD08[0];
    v7 = (char *)&dword_100DDD08[1];
  }
  else
  {
    v2 = v9 + 2 * v11;
    v12 = v11 - 2 * v9;
    v10 = v2;
    v13 = dword_100DDD08[0] + a2;
    v7 = (char *)&dword_100DDD08[1];
  }
  v8 = 0;
  do
  {
    if ( v13 >= 0 )
    {
      v5 = v10 - (v12 >> v8);
      v12 += v10 >> v8;
      v10 = v5;
      v13 -= *(_DWORD *)v7;
      v7 += 4;
    }
    else
    {
      v4 = v10 + (v12 >> v8);
      v12 -= v10 >> v8;
      v10 = v4;
      v13 += *(_DWORD *)v7;
      v7 += 4;
    }
    ++v8;
  }
  while ( v8 < 23 );
  result = v10;
  *(_DWORD *)a1 = v10;
  *(_DWORD *)(a1 + 4) = v12;
  return result;
}

//----- (10058020) --------------------------------------------------------
int __cdecl sub_10058020(int a1, int a2)
{
  int result; // eax@3
  int v3; // [sp+0h] [bp-8h]@4
  int v4; // [sp+4h] [bp-4h]@4

  if ( a1 || a2 )
  {
    v3 = a1;
    v4 = a2;
    sub_10058070((int)&v3);
    sub_10058150((int)&v3);
    result = v4;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10058070) --------------------------------------------------------
int __cdecl sub_10058070(int a1)
{
  int v2; // [sp+0h] [bp-18h]@5
  int v3; // [sp+4h] [bp-14h]@2
  int v4; // [sp+8h] [bp-10h]@7
  int v5; // [sp+Ch] [bp-Ch]@7
  signed int v6; // [sp+10h] [bp-8h]@1
  signed int v7; // [sp+14h] [bp-4h]@1

  v6 = *(_DWORD *)a1;
  v7 = *(_DWORD *)(a1 + 4);
  if ( *(_DWORD *)a1 < 0 )
    v3 = -v6;
  else
    v3 = *(_DWORD *)a1;
  if ( v7 < 0 )
    v2 = -v7;
  else
    v2 = *(_DWORD *)(a1 + 4);
  v5 = v2 | v3;
  v4 = 0;
  if ( (v2 | v3) >= 0x8000000 )
  {
    if ( v5 > 0x10000000 )
    {
      do
      {
        ++v4;
        v5 >>= 1;
      }
      while ( v5 > 0x10000000 );
      *(_DWORD *)a1 = v6 >> v4;
      *(_DWORD *)(a1 + 4) = v7 >> v4;
      v4 = -v4;
    }
  }
  else
  {
    do
    {
      ++v4;
      v5 *= 2;
    }
    while ( v5 < 0x8000000 );
    *(_DWORD *)a1 = v6 << v4;
    *(_DWORD *)(a1 + 4) = v7 << v4;
  }
  return v4;
}

//----- (10058150) --------------------------------------------------------
int __cdecl sub_10058150(int a1)
{
  int v1; // ST04_4@6
  int v2; // ST04_4@7
  int v3; // ST04_4@10
  int v4; // ST04_4@11
  int result; // eax@16
  int v6; // [sp+0h] [bp-18h]@1
  int v7; // [sp+0h] [bp-18h]@6
  unsigned int v8; // [sp+0h] [bp-18h]@14
  _DWORD *v9; // [sp+8h] [bp-10h]@6
  signed int v10; // [sp+Ch] [bp-Ch]@8
  int v11; // [sp+10h] [bp-8h]@1
  signed int v12; // [sp+10h] [bp-8h]@6
  int v13; // [sp+14h] [bp-4h]@1
  signed int v14; // [sp+14h] [bp-4h]@6

  v11 = *(_DWORD *)a1;
  v13 = *(_DWORD *)(a1 + 4);
  v6 = 0;
  if ( *(_DWORD *)a1 < 0 )
  {
    v11 = -v11;
    v13 = -v13;
    v6 = 11796480;
  }
  if ( v13 > 0 )
    v6 = -v6;
  if ( v13 >= 0 )
  {
    v2 = v13 - 2 * v11;
    v12 = v11 + 2 * v13;
    v14 = v2;
    v7 = dword_100DDD08[0] + v6;
    v9 = &dword_100DDD08[1];
  }
  else
  {
    v1 = v13 + 2 * v11;
    v12 = v11 - 2 * v13;
    v14 = v1;
    v7 = v6 - dword_100DDD08[0];
    v9 = &dword_100DDD08[1];
  }
  v10 = 0;
  do
  {
    if ( v14 >= 0 )
    {
      v4 = v14 - (v12 >> v10);
      v12 += v14 >> v10;
      v14 = v4;
      v7 += *v9;
      ++v9;
    }
    else
    {
      v3 = v14 + (v12 >> v10);
      v12 -= v14 >> v10;
      v14 = v3;
      v7 -= *v9;
      ++v9;
    }
    ++v10;
  }
  while ( v10 < 23 );
  if ( v7 < 0 )
    v8 = -((16 - v7) & 0xFFFFFFE0);
  else
    v8 = (v7 + 16) & 0xFFFFFFE0;
  *(_DWORD *)a1 = v12;
  result = a1;
  *(_DWORD *)(a1 + 4) = v8;
  return result;
}

//----- (100582E0) --------------------------------------------------------
int __cdecl sub_100582E0(int a1, signed int a2)
{
  int result; // eax@1
  signed int v3; // ST08_4@5
  int v4; // ST0C_4@6
  int v5; // [sp+4h] [bp-Ch]@4
  int v6; // [sp+8h] [bp-8h]@1
  int v7; // [sp+Ch] [bp-4h]@1

  v6 = *(_DWORD *)a1;
  result = *(_DWORD *)(a1 + 4);
  v7 = *(_DWORD *)(a1 + 4);
  if ( a2 && (v6 || v7) )
  {
    v5 = sub_10058070((int)&v6);
    sub_10057EA0((int)&v6, a2);
    v6 = sub_100583C0(v6);
    v7 = sub_100583C0(v7);
    if ( v5 <= 0 )
    {
      v4 = -v5;
      *(_DWORD *)a1 = v6 << v4;
      result = a1;
      *(_DWORD *)(a1 + 4) = v7 << v4;
    }
    else
    {
      v3 = 1 << (v5 - 1);
      *(_DWORD *)a1 = ((v6 >> 31) + v3 + v6) >> v5;
      result = v7 >> 31;
      *(_DWORD *)(a1 + 4) = ((v7 >> 31) + v3 + v7) >> v5;
    }
  }
  return result;
}

//----- (100583C0) --------------------------------------------------------
unsigned int __cdecl sub_100583C0(signed int a1)
{
  unsigned int v2; // [sp+0h] [bp-2Ch]@5
  unsigned int v3; // [sp+4h] [bp-28h]@2
  unsigned int v4; // [sp+18h] [bp-14h]@4

  if ( a1 < 0 )
    v3 = -a1;
  else
    v3 = a1;
  v4 = 47593 * (unsigned int)(unsigned __int16)v3 >> 16;
  if ( a1 < 0 )
    v2 = -(17797 * (v3 >> 16) + ((v4 + 47593 * (v3 >> 16) + 17797 * (unsigned __int16)v3) >> 16));
  else
    v2 = 17797 * (v3 >> 16) + ((v4 + 47593 * (v3 >> 16) + 17797 * (unsigned __int16)v3) >> 16);
  return v2;
}

//----- (10058480) --------------------------------------------------------
int __cdecl sub_10058480(int a1, int a2, signed int a3)
{
  *(_DWORD *)a1 = a2;
  *(_DWORD *)(a1 + 4) = 0;
  return sub_100582E0(a1, a3);
}

//----- (100584B0) --------------------------------------------------------
int __cdecl sub_100584B0(int a1, int a2)
{
  int v3; // [sp+0h] [bp-4h]@1

  v3 = (a2 - a1) % 23592960 + ((char)-((a2 - a1) % 23592960 < 0) & 0x1680000);
  if ( v3 > 11796480 )
    v3 -= 23592960;
  return v3;
}

//----- (10058500) --------------------------------------------------------
int __cdecl sub_10058500(int a1, size_t a2, int a3, int a4)
{
  int result; // eax@3
  int v5; // [sp+0h] [bp-4h]@4

  if ( a4 && a1 )
  {
    *(_DWORD *)a4 = 0;
    *(_DWORD *)(a4 + 4) = 0;
    *(_DWORD *)(a4 + 8) = 0;
    *(_DWORD *)(a4 + 12) = 0;
    *(_DWORD *)(a4 + 16) = 0;
    v5 = sub_10056F50(a1, 16 * a2, a4 + 4);
    if ( v5 || (v5 = sub_10056F50(a1, a2, a4 + 8)) != 0 || (v5 = sub_10056F50(a1, 2 * a3, a4 + 12)) != 0 )
    {
      *(_DWORD *)(a4 + 16) |= 1u;
      sub_100587C0(a1, a4);
      result = v5;
    }
    else
    {
      *(_WORD *)(a4 + 2) = a2;
      *(_WORD *)a4 = a3;
      *(_DWORD *)(a4 + 16) |= 1u;
      result = 0;
    }
  }
  else
  {
    result = 6;
  }
  return result;
}

//----- (10058600) --------------------------------------------------------
int __cdecl sub_10058600(int a1, size_t a2, int a3, int a4)
{
  int result; // eax@2

  if ( a1 )
    result = sub_10058500(*(_DWORD *)a1, a2, a3, a4);
  else
    result = 33;
  return result;
}

//----- (10058630) --------------------------------------------------------
signed int __cdecl sub_10058630(int a1)
{
  signed int result; // eax@4
  signed int v2; // [sp+0h] [bp-14h]@2
  signed int v3; // [sp+4h] [bp-10h]@8
  signed int v4; // [sp+8h] [bp-Ch]@8
  int v5; // [sp+Ch] [bp-8h]@2
  int i; // [sp+10h] [bp-4h]@8

  if ( !a1 )
    goto LABEL_16;
  v2 = *(_WORD *)(a1 + 2);
  v5 = *(_WORD *)a1;
  if ( !*(_WORD *)(a1 + 2) && !*(_WORD *)a1 )
    return 0;
  if ( v2 <= 0 || v5 <= 0 )
    goto LABEL_16;
  v4 = -1;
  v3 = -1;
  for ( i = 0; i < v5; v3 = *(_WORD *)(*(_DWORD *)(a1 + 12) + 2 * i++) )
  {
    v4 = *(_WORD *)(*(_DWORD *)(a1 + 12) + 2 * i);
    if ( v4 <= v3 || v4 >= v2 )
      goto LABEL_16;
  }
  if ( v4 == v2 - 1 )
    result = 0;
  else
LABEL_16:
    result = 6;
  return result;
}

//----- (100586E0) --------------------------------------------------------
signed int __cdecl sub_100586E0(int a1, int a2)
{
  signed int result; // eax@5
  int v3; // ST0C_4@6

  if ( a1 && a2 && *(_WORD *)(a1 + 2) == *(_WORD *)(a2 + 2) && *(_WORD *)a1 == *(_WORD *)a2 )
  {
    memcpy(*(void **)(a2 + 4), *(const void **)(a1 + 4), 8 * *(_WORD *)(a1 + 2));
    memcpy(*(void **)(a2 + 8), *(const void **)(a1 + 8), *(_WORD *)(a1 + 2));
    memcpy(*(void **)(a2 + 12), *(const void **)(a1 + 12), 2 * *(_WORD *)a1);
    v3 = *(_DWORD *)(a2 + 16) & 1;
    *(_DWORD *)(a2 + 16) = *(_DWORD *)(a1 + 16);
    *(_DWORD *)(a2 + 16) &= 0xFFFFFFFE;
    *(_DWORD *)(a2 + 16) |= v3;
    result = 0;
  }
  else
  {
    result = 6;
  }
  return result;
}

//----- (100587C0) --------------------------------------------------------
signed int __cdecl sub_100587C0(int a1, int a2)
{
  signed int result; // eax@4

  if ( a2 )
  {
    if ( *(_DWORD *)(a2 + 16) & 1 )
    {
      sub_10057070(a1, (_DWORD *)(a2 + 4));
      sub_10057070(a1, (_DWORD *)(a2 + 8));
      sub_10057070(a1, (_DWORD *)(a2 + 12));
    }
    *(_DWORD *)a2 = 0;
    *(_DWORD *)(a2 + 4) = 0;
    *(_DWORD *)(a2 + 8) = 0;
    *(_DWORD *)(a2 + 12) = 0;
    *(_DWORD *)(a2 + 16) = 0;
    result = 0;
  }
  else
  {
    result = 6;
  }
  return result;
}

//----- (10058850) --------------------------------------------------------
signed int __cdecl sub_10058850(int *a1, int a2)
{
  signed int result; // eax@2

  if ( a1 )
    result = sub_100587C0(*a1, a2);
  else
    result = 33;
  return result;
}

//----- (10058880) --------------------------------------------------------
int __cdecl sub_10058880(int a1, int a2)
{
  int v2; // ST0C_4@5
  int result; // eax@16
  int v4; // [sp+4h] [bp-1Ch]@11
  unsigned int v5; // [sp+8h] [bp-18h]@5
  unsigned int i; // [sp+Ch] [bp-14h]@5
  int v7; // [sp+10h] [bp-10h]@4
  int v8; // [sp+14h] [bp-Ch]@4
  int v9; // [sp+18h] [bp-8h]@4
  int v10; // [sp+1Ch] [bp-4h]@4

  if ( a1 && a2 )
  {
    if ( *(_WORD *)(a1 + 2) )
    {
      v2 = *(_DWORD *)(a1 + 4);
      v5 = v2 + 8 * *(_WORD *)(a1 + 2);
      v8 = *(_DWORD *)v2;
      v10 = *(_DWORD *)v2;
      v9 = *(_DWORD *)(v2 + 4);
      v7 = *(_DWORD *)(v2 + 4);
      for ( i = v2 + 8; i < v5; i += 8 )
      {
        if ( *(_DWORD *)i < v10 )
          v10 = *(_DWORD *)i;
        if ( *(_DWORD *)i > v8 )
          v8 = *(_DWORD *)i;
        v4 = *(_DWORD *)(i + 4);
        if ( v4 < v7 )
          v7 = *(_DWORD *)(i + 4);
        if ( v4 > v9 )
          v9 = *(_DWORD *)(i + 4);
      }
    }
    else
    {
      v10 = 0;
      v7 = 0;
      v8 = 0;
      v9 = 0;
    }
    *(_DWORD *)a2 = v10;
    *(_DWORD *)(a2 + 8) = v8;
    *(_DWORD *)(a2 + 4) = v7;
    result = v9;
    *(_DWORD *)(a2 + 12) = v9;
  }
  return result;
}

//----- (10058990) --------------------------------------------------------
int __cdecl sub_10058990(int a1, int a2, int a3)
{
  int result; // eax@2
  unsigned __int16 i; // [sp+0h] [bp-8h]@1
  int v5; // [sp+4h] [bp-4h]@1

  v5 = *(_DWORD *)(a1 + 4);
  for ( i = 0; ; ++i )
  {
    result = i;
    if ( i >= (signed int)*(_WORD *)(a1 + 2) )
      break;
    *(_DWORD *)v5 += a2;
    *(_DWORD *)(v5 + 4) += a3;
    v5 += 8;
  }
  return result;
}

//----- (100589F0) --------------------------------------------------------
void __cdecl sub_100589F0(int a1, int a2)
{
  int v2; // esi@4
  int v3; // ST0C_4@4
  int v4; // esi@4
  int v5; // ST10_4@4

  if ( a1 )
  {
    if ( a2 )
    {
      v2 = sub_10057C70(*(_DWORD *)a1, *(_DWORD *)a2);
      v3 = sub_10057C70(*(_DWORD *)(a1 + 4), *(_DWORD *)(a2 + 4)) + v2;
      v4 = sub_10057C70(*(_DWORD *)a1, *(_DWORD *)(a2 + 8));
      v5 = sub_10057C70(*(_DWORD *)(a1 + 4), *(_DWORD *)(a2 + 12)) + v4;
      *(_DWORD *)a1 = v3;
      *(_DWORD *)(a1 + 4) = v5;
    }
  }
}

//----- (10058A80) --------------------------------------------------------
int __cdecl sub_10058A80(int a1, int a2)
{
  int result; // eax@1
  unsigned int v3; // [sp+0h] [bp-8h]@1
  unsigned int v4; // [sp+4h] [bp-4h]@1

  v4 = *(_DWORD *)(a1 + 4);
  result = *(_WORD *)(a1 + 2);
  v3 = v4 + 8 * result;
  while ( v4 < v3 )
  {
    sub_100589F0(v4, a2);
    result = v4 + 8;
    v4 += 8;
  }
  return result;
}

//----- (10058AD0) --------------------------------------------------------
int __cdecl sub_10058AD0(int a1, int *a2)
{
  int v3; // [sp+0h] [bp-8h]@1
  int v4; // [sp+4h] [bp-4h]@1

  v4 = sub_10056F50(a1, 0x58u, (int)&v3);
  if ( !v4 )
  {
    *(_DWORD *)v3 = a1;
    *a2 = v3;
  }
  return v4;
}

//----- (10058B10) --------------------------------------------------------
int __cdecl sub_10058B10(int a1)
{
  int result; // eax@1

  *(_WORD *)(a1 + 22) = 0;
  result = a1 + 20;
  *(_WORD *)result = 0;
  *(_DWORD *)(result + 24) = 0;
  qmemcpy((void *)(a1 + 52), (const void *)(a1 + 20), 0x20u);
  return result;
}

//----- (10058B60) --------------------------------------------------------
int __cdecl sub_10058B60(int a1)
{
  int v1; // ST08_4@1

  v1 = *(_DWORD *)a1;
  sub_10057070(*(_DWORD *)a1, (_DWORD *)(a1 + 24));
  sub_10057070(v1, (_DWORD *)(a1 + 28));
  sub_10057070(v1, (_DWORD *)(a1 + 32));
  sub_10057070(v1, (_DWORD *)(a1 + 40));
  sub_10057070(v1, (_DWORD *)(a1 + 48));
  *(_DWORD *)(a1 + 4) = 0;
  *(_DWORD *)(a1 + 8) = 0;
  *(_DWORD *)(a1 + 12) = 0;
  return sub_10058B10(a1);
}

//----- (10058C00) --------------------------------------------------------
int __cdecl sub_10058C00(int *a1)
{
  int v1; // ST08_4@2
  int result; // eax@2

  if ( a1 )
  {
    v1 = *a1;
    sub_10058B60((int)a1);
    result = sub_10057070(v1, &a1);
  }
  return result;
}

//----- (10058C40) --------------------------------------------------------
int __cdecl sub_10058C40(int a1)
{
  int v2; // [sp+4h] [bp-4h]@1

  v2 = sub_10056F50(*(_DWORD *)a1, 8 * *(_DWORD *)(a1 + 4), a1 + 40);
  if ( !v2 )
  {
    *(_BYTE *)(a1 + 16) = 1;
    sub_10058C90(a1);
  }
  return v2;
}

//----- (10058C90) --------------------------------------------------------
int __cdecl sub_10058C90(int a1)
{
  int v1; // ST04_4@1
  int result; // eax@1

  v1 = a1 + 52;
  *(_DWORD *)(a1 + 56) = *(_DWORD *)(a1 + 24) + 8 * *(_WORD *)(a1 + 22);
  *(_DWORD *)(v1 + 8) = *(_DWORD *)(a1 + 28) + *(_WORD *)(a1 + 22);
  *(_DWORD *)(v1 + 12) = *(_DWORD *)(a1 + 32) + 2 * *(_WORD *)(a1 + 20);
  result = a1;
  if ( *(_BYTE *)(a1 + 16) )
  {
    result = *(_DWORD *)(a1 + 40) + 8 * *(_WORD *)(a1 + 22);
    *(_DWORD *)(a1 + 72) = result;
  }
  return result;
}

//----- (10058D10) --------------------------------------------------------
int __cdecl sub_10058D10(int a1, int a2, int a3)
{
  int v4; // [sp+0h] [bp-18h]@1
  int v5; // [sp+4h] [bp-14h]@1
  size_t v6; // [sp+8h] [bp-10h]@1
  unsigned int v7; // [sp+8h] [bp-10h]@2
  size_t v8; // [sp+8h] [bp-10h]@8
  unsigned int v9; // [sp+8h] [bp-10h]@9
  unsigned int v10; // [sp+10h] [bp-8h]@1
  unsigned int v11; // [sp+10h] [bp-8h]@8

  v4 = *(_DWORD *)a1;
  v5 = 0;
  v6 = a2 + *(_WORD *)(a1 + 22) + *(_WORD *)(a1 + 54);
  v10 = *(_DWORD *)(a1 + 4);
  if ( v6 > v10 )
  {
    v7 = (v6 + 7) & 0xFFFFFFF8;
    v5 = sub_10056FC0(v4, 8 * v10, 8 * v7, a1 + 24);
    if ( v5 )
      return v5;
    v5 = sub_10056FC0(v4, v10, v7, a1 + 28);
    if ( v5 )
      return v5;
    if ( *(_BYTE *)(a1 + 16) )
    {
      v5 = sub_10056FC0(v4, 8 * v10, 8 * v7, a1 + 40);
      if ( v5 )
        return v5;
    }
    *(_DWORD *)(a1 + 4) = v7;
  }
  v11 = *(_DWORD *)(a1 + 8);
  v8 = a3 + *(_WORD *)(a1 + 20) + *(_WORD *)(a1 + 52);
  if ( v8 <= v11 )
  {
LABEL_11:
    sub_10058C90(a1);
    return v5;
  }
  v9 = (v8 + 3) & 0xFFFFFFFC;
  v5 = sub_10056FC0(v4, 2 * v11, 2 * v9, a1 + 32);
  if ( !v5 )
  {
    *(_DWORD *)(a1 + 8) = v9;
    goto LABEL_11;
  }
  return v5;
}

//----- (10058E80) --------------------------------------------------------
int __cdecl sub_10058E80(int a1)
{
  int v1; // ST04_4@1

  v1 = a1 + 52;
  *(_WORD *)(a1 + 54) = 0;
  *(_WORD *)v1 = 0;
  *(_DWORD *)(v1 + 24) = 0;
  sub_10058C90(a1);
  return sub_10058ED0(a1);
}

//----- (10058ED0) --------------------------------------------------------
int __cdecl sub_10058ED0(int a1)
{
  int result; // eax@1

  result = *(_DWORD *)(a1 + 48) + 32 * *(_DWORD *)(a1 + 44);
  *(_DWORD *)(a1 + 80) = result;
  return result;
}

//----- (10058F10) --------------------------------------------------------
int __cdecl sub_10058F10(int a1)
{
  int v1; // ST0C_4@1
  unsigned int v3; // [sp+0h] [bp-14h]@1
  __int16 v4; // [sp+4h] [bp-10h]@1
  unsigned int i; // [sp+Ch] [bp-8h]@1

  v1 = a1 + 20;
  v3 = *(_WORD *)(a1 + 52);
  v4 = *(_WORD *)(a1 + 22);
  *(_WORD *)(a1 + 22) += *(_WORD *)(a1 + 54);
  *(_WORD *)v1 += *(_WORD *)(a1 + 52);
  *(_DWORD *)(v1 + 24) = *(_DWORD *)(a1 + 76) + *(_DWORD *)(a1 + 44);
  for ( i = 0; i < v3; ++i )
    *(_WORD *)(*(_DWORD *)(a1 + 64) + 2 * i) += v4;
  return sub_10058E80(a1);
}

//----- (10058FD0) --------------------------------------------------------
int __cdecl sub_10058FD0(int a1, int a2)
{
  int v3; // [sp+8h] [bp-Ch]@1
  int v4; // [sp+Ch] [bp-8h]@1
  size_t v5; // [sp+10h] [bp-4h]@1

  v5 = *(_WORD *)(a2 + 22);
  v3 = *(_WORD *)(a2 + 20);
  v4 = sub_10058D10(a1, v5, v3);
  if ( !v4 )
  {
    memcpy(*(void **)(a1 + 24), *(const void **)(a2 + 24), 8 * v5);
    memcpy(*(void **)(a1 + 28), *(const void **)(a2 + 28), v5);
    memcpy(*(void **)(a1 + 32), *(const void **)(a2 + 32), 2 * v3);
    if ( *(_BYTE *)(a1 + 16) && *(_BYTE *)(a2 + 16) )
      memcpy(*(void **)(a1 + 40), *(const void **)(a2 + 40), 8 * v5);
    *(_WORD *)(a1 + 22) = v5;
    *(_WORD *)(a1 + 20) = v3;
    sub_10058C90(a1);
  }
  return v4;
}

//----- (100590D0) --------------------------------------------------------
int __cdecl sub_100590D0(int a1, int a2, int a3, int a4)
{
  int result; // eax@1

  *(_DWORD *)a1 = a2;
  *(_DWORD *)(a1 + 4) = a3;
  *(_DWORD *)(a1 + 8) = a4;
  result = a1;
  *(_DWORD *)(a1 + 12) = 0;
  return result;
}

//----- (10059100) --------------------------------------------------------
int __cdecl sub_10059100(int a1)
{
  int result; // eax@1

  result = a1;
  if ( *(_DWORD *)(a1 + 148) && (result = *(_DWORD *)(*(_DWORD *)(a1 + 148) + 4) & 1) != 0 )
  {
    sub_10057070(*(_DWORD *)(*(_DWORD *)(a1 + 4) + 108), (_DWORD *)(a1 + 88));
    result = a1;
    *(_DWORD *)(*(_DWORD *)(a1 + 148) + 4) &= 0xFFFFFFFE;
  }
  else
  {
    *(_DWORD *)(a1 + 88) = 0;
  }
  return result;
}

//----- (10059170) --------------------------------------------------------
int __cdecl sub_10059170(int a1)
{
  int v1; // ST08_4@2
  int result; // eax@2

  if ( a1 )
  {
    v1 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(a1 + 4) + 104) + 8);
    sub_100591B0(a1);
    result = sub_10057070(v1, &a1);
  }
  return result;
}

//----- (100591B0) --------------------------------------------------------
int __cdecl sub_100591B0(int a1)
{
  int v1; // ST0C_4@1
  int v3; // [sp+0h] [bp-8h]@1

  v1 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 104);
  v3 = *(_DWORD *)(v1 + 8);
  sub_10059100(a1);
  if ( !(**(_DWORD **)v1 & 0x200) && *(_DWORD *)(a1 + 148) )
  {
    sub_10058C00(**(int ***)(a1 + 148));
    **(_DWORD **)(a1 + 148) = 0;
  }
  return sub_10057070(v3, (_DWORD *)(a1 + 148));
}

//----- (10059230) --------------------------------------------------------
signed int __cdecl sub_10059230(int a1, unsigned int a2, signed int a3)
{
  signed int result; // eax@8
  int v4; // ST28_4@27
  int v5; // ST24_4@27
  bool v6; // [sp+3h] [bp-39h]@15
  int v7; // [sp+8h] [bp-34h]@33
  int v8; // [sp+Ch] [bp-30h]@32
  char v9; // [sp+1Fh] [bp-1Dh]@1
  int v10; // [sp+20h] [bp-1Ch]@11
  int v11; // [sp+24h] [bp-18h]@11
  int v12; // [sp+28h] [bp-14h]@11
  signed int v13; // [sp+2Ch] [bp-10h]@23
  int v14; // [sp+34h] [bp-8h]@1
  bool v15; // [sp+3Ah] [bp-2h]@17
  char v16; // [sp+3Bh] [bp-1h]@1

  v14 = 0;
  v9 = 0;
  v16 = 0;
  if ( a3 & 0x80 )
  {
    a3 &= 0xFFFFFF7F;
    v9 = 1;
  }
  if ( a3 & 0x20 )
  {
    a3 &= 0xFFFFFFDF;
    v16 = 1;
  }
  if ( !a1 || !*(_DWORD *)(a1 + 96) || !*(_DWORD *)(a1 + 92) )
    return 35;
  if ( a2 >= *(_DWORD *)(a1 + 16) )
    return 6;
  v10 = *(_DWORD *)(a1 + 92);
  sub_10059530(v10);
  v11 = *(_DWORD *)(a1 + 104);
  v12 = *(_DWORD *)(*(_DWORD *)(v11 + 4) + 168);
  v6 = v12 && !(a3 & 3) && **(_DWORD **)v11 & 0x100 && !(**(_DWORD **)v11 & 0x200);
  v15 = v6;
  if ( v6 && **(_DWORD **)v11 & 0x400 )
    v15 = 0;
  if ( !v15 )
  {
    v13 = (*(int (__cdecl **)(int, _DWORD, unsigned int, signed int))(*(_DWORD *)(v11 + 20) + 80))(
            v10,
            *(_DWORD *)(a1 + 96),
            a2,
            a3);
    if ( v13 )
      goto LABEL_39;
    v13 = sub_10058630(v10 + 108);
    if ( v13 )
      goto LABEL_39;
LABEL_27:
    *(_DWORD *)(v10 + 64) = *(_DWORD *)(v10 + 40);
    *(_DWORD *)(v10 + 68) = 0;
    v4 = *(_WORD *)(a1 + 76);
    v5 = *(_DWORD *)(a1 + 96) + 12;
    *(_DWORD *)(v10 + 56) = sub_10057980(*(_DWORD *)(v10 + 56), *(_WORD *)v5 << 16, v4);
    *(_DWORD *)(v10 + 60) = sub_10057980(*(_DWORD *)(v10 + 60), *(_WORD *)(v5 + 2) << 16, v4);
    if ( v9 )
      sub_1005ACA0(v10);
    if ( v16 )
      sub_1005ACF0(v10);
    if ( !(a3 & 0x800) )
    {
      v8 = *(_DWORD *)(a1 + 136);
      if ( *(_DWORD *)(v8 + 28) )
      {
        v7 = sub_1005A690(v10);
        if ( v7 )
          v13 = (*(int (__cdecl **)(int, int, int, int))(*(_DWORD *)(v7 + 20) + 44))(v7, v10, v8 + 4, v8 + 20);
        sub_100589F0(v10 + 64, v8 + 4);
      }
    }
    if ( !v13 && a3 & 4 )
      v13 = sub_1005A790(v10, (a3 >> 16) & 0xF);
    goto LABEL_39;
  }
  v14 = (*(int (__cdecl **)(int, int, _DWORD, unsigned int, signed int))(*(_DWORD *)(*(_DWORD *)v12 + 20) + 12))(
          v12,
          v10,
          *(_DWORD *)(a1 + 96),
          a2,
          a3);
  if ( !v14 || v14 == 38 )
  {
    v13 = 0;
    goto LABEL_27;
  }
  v13 = v14;
LABEL_39:
  if ( v13 )
    result = v13;
  else
    result = v14;
  return result;
}

//----- (10059530) --------------------------------------------------------
int __cdecl sub_10059530(int a1)
{
  int result; // eax@1

  sub_10059100(a1);
  memset((void *)(a1 + 24), 0, 0x20u);
  memset((void *)(a1 + 108), 0, 0x14u);
  *(_DWORD *)(a1 + 80) = 0;
  *(_DWORD *)(a1 + 76) = 0;
  *(_DWORD *)(a1 + 84) = 0;
  *(_BYTE *)(a1 + 94) = 0;
  *(_DWORD *)(a1 + 100) = 0;
  *(_DWORD *)(a1 + 104) = 0;
  *(_DWORD *)(a1 + 128) = 0;
  *(_DWORD *)(a1 + 132) = 0;
  *(_DWORD *)(a1 + 136) = 0;
  *(_DWORD *)(a1 + 140) = 0;
  *(_DWORD *)(a1 + 144) = 0;
  *(_DWORD *)(a1 + 72) = 0;
  result = a1;
  *(_DWORD *)(a1 + 56) = 0;
  *(_DWORD *)(a1 + 60) = 0;
  return result;
}

//----- (10059600) --------------------------------------------------------
signed int __cdecl sub_10059600(int a1, int a2, signed int a3)
{
  signed int result; // eax@2
  int v4; // [sp+0h] [bp-4h]@3

  if ( a1 )
  {
    v4 = a2;
    if ( *(_DWORD *)(a1 + 100) )
      v4 = sub_1005A5B0(a1, a2);
    result = sub_10059230(a1, v4, a3);
  }
  else
  {
    result = 35;
  }
  return result;
}

//----- (10059650) --------------------------------------------------------
signed int __cdecl sub_10059650(int a1, int a2, int a3, _DWORD *a4)
{
  signed int result; // eax@2
  int v5; // [sp+0h] [bp-20h]@3
  int v6; // [sp+Ch] [bp-14h]@3
  int v7; // [sp+10h] [bp-10h]@3

  if ( a2 )
  {
    v5 = 4;
    v6 = a2;
    v7 = 0;
    result = sub_100596A0(a1, (int)&v5, a3, a4);
  }
  else
  {
    result = 6;
  }
  return result;
}

//----- (100596A0) --------------------------------------------------------
signed int __cdecl sub_100596A0(int a1, int a2, int a3, _DWORD *a4)
{
  int v5; // eax@14
  int v6; // ST1C_4@25
  bool v7; // [sp+3h] [bp-3Dh]@6
  int v8; // [sp+8h] [bp-38h]@24
  int v9; // [sp+Ch] [bp-34h]@23
  int v10; // [sp+10h] [bp-30h]@12
  int v11; // [sp+14h] [bp-2Ch]@12
  unsigned int v12; // [sp+18h] [bp-28h]@9
  _DWORD ***v13; // [sp+1Ch] [bp-24h]@9
  int v14; // [sp+20h] [bp-20h]@1
  int v15; // [sp+24h] [bp-1Ch]@9
  int v16; // [sp+28h] [bp-18h]@1
  _DWORD **v17; // [sp+2Ch] [bp-14h]@12
  __int64 v18; // [sp+30h] [bp-10h]@1
  unsigned __int8 v19; // [sp+3Bh] [bp-5h]@8
  int v20; // [sp+3Ch] [bp-4h]@8

  v16 = 0;
  v14 = 0;
  HIDWORD(v18) = 0;
  if ( !a4 || !a2 )
    return 6;
  *a4 = 0;
  v7 = *(_DWORD *)a2 & 2 && *(_DWORD *)(a2 + 16);
  v19 = v7;
  LODWORD(v18) = sub_10059920((int *)a1, a2, &v20);
  if ( (_DWORD)v18 )
    goto LABEL_27;
  v15 = *(_DWORD *)a1;
  v13 = (_DWORD ***)(a1 + 28);
  v12 = a1 + 28 + 4 * *(_DWORD *)(a1 + 24);
  LODWORD(v18) = 7;
  while ( 1 )
  {
    if ( (unsigned int)v13 >= v12 )
      goto LABEL_18;
    if ( !(***v13 & 1) )
      goto LABEL_17;
    v10 = 0;
    v11 = 0;
    v17 = *v13;
    HIDWORD(v18) = sub_10059B60((int)v17, v20, a3, 0, 0, &v16);
    if ( !HIDWORD(v18) || HIDWORD(v18) == 38 )
      break;
    if ( BYTE4(v18) != 2 )
    {
      LODWORD(v18) = HIDWORD(v18);
LABEL_18:
      if ( (unsigned __int8)v18 == 2 || (unsigned __int8)v18 == 85 )
        LODWORD(v18) = 2;
      sub_100599E0(v20, v19);
      goto LABEL_26;
    }
LABEL_17:
    ++v13;
  }
  LODWORD(v18) = 0;
  v5 = sub_10056F50(v15, 0xCu, (int)&v14);
  LODWORD(v18) = v5;
  if ( !v5 )
  {
    *(_DWORD *)(v14 + 8) = v16;
    sub_100570F0(*(_DWORD *)(v16 + 104) + 24, v14);
    LODWORD(v18) = sub_10059A20(v16, &v9);
    if ( !(_DWORD)v18 )
    {
      *(_DWORD *)(v16 + 92) = v9;
      LODWORD(v18) = sub_10059F30(v16, &v8);
      if ( !(_DWORD)v18 )
      {
        *(_DWORD *)(v16 + 96) = v8;
        v6 = *(_DWORD *)(v16 + 136);
        *(_DWORD *)(v6 + 4) = 0x10000;
        *(_DWORD *)(v6 + 8) = 0;
        *(_DWORD *)(v6 + 12) = 0;
        *(_DWORD *)(v6 + 16) = 0x10000;
        *(_DWORD *)(v6 + 20) = 0;
        *(_DWORD *)(v6 + 24) = 0;
        *a4 = v16;
        goto LABEL_27;
      }
    }
  }
LABEL_26:
  sub_10059D10(v16);
  HIDWORD(v18) = 0;
LABEL_27:
  LODWORD(v18) = HIDWORD(v18) | v18;
  return v18;
}

//----- (10059920) --------------------------------------------------------
signed int __cdecl sub_10059920(int *a1, int a2, int *a3)
{
  signed int result; // eax@2
  int v4; // [sp+0h] [bp-Ch]@6
  signed int v5; // [sp+4h] [bp-8h]@6
  int v6; // [sp+8h] [bp-4h]@6

  if ( a1 )
  {
    if ( a2 && *(_DWORD *)a2 & 4 )
    {
      *a3 = 0;
      v4 = *a1;
      v5 = sub_10056F50(*a1, 0x28u, (int)&v6);
      if ( !v5 )
      {
        *(_DWORD *)(v6 + 28) = v4;
        v5 = sub_1005B1C0(v6, *(_DWORD *)(a2 + 12));
        *(_DWORD *)(v6 + 16) = *(_DWORD *)(a2 + 12);
        if ( v5 )
          sub_10057070(v4, &v6);
        else
          *(_DWORD *)(v6 + 28) = v4;
        *a3 = v6;
      }
      result = v5;
    }
    else
    {
      result = 6;
    }
  }
  else
  {
    result = 33;
  }
  return result;
}

//----- (100599E0) --------------------------------------------------------
int __cdecl sub_100599E0(int a1, int a2)
{
  int result; // eax@2
  int v3; // [sp+0h] [bp-4h]@2

  if ( a1 )
  {
    v3 = *(_DWORD *)(a1 + 28);
    result = sub_10057200(a1);
    if ( !a2 )
      result = sub_10057070(v3, &a1);
  }
  return result;
}

//----- (10059A20) --------------------------------------------------------
signed int __cdecl sub_10059A20(int a1, int *a2)
{
  signed int result; // eax@4
  int v3; // [sp+0h] [bp-14h]@5
  int v4; // [sp+4h] [bp-10h]@5
  int v5; // [sp+8h] [bp-Ch]@5
  int v6; // [sp+Ch] [bp-8h]@5
  int v7; // [sp+10h] [bp-4h]@5

  if ( a1 && a2 && *(_DWORD *)(a1 + 104) )
  {
    *a2 = 0;
    v5 = *(_DWORD *)(a1 + 104);
    v6 = *(_DWORD *)(v5 + 20);
    v3 = *(_DWORD *)(v5 + 8);
    v7 = sub_10056F50(v3, *(_DWORD *)(v6 + 44), (int)&v4);
    if ( !v7 )
    {
      *(_DWORD *)(v4 + 4) = a1;
      v7 = sub_10059AE0(v4);
      if ( v7 )
      {
        sub_100591B0(v4);
        sub_10057070(v3, &v4);
      }
      else
      {
        *a2 = v4;
      }
    }
    result = v7;
  }
  else
  {
    result = 6;
  }
  return result;
}

//----- (10059AE0) --------------------------------------------------------
int __cdecl sub_10059AE0(int a1)
{
  int v2; // [sp+0h] [bp-10h]@1
  int v3; // [sp+4h] [bp-Ch]@1
  int v4; // [sp+8h] [bp-8h]@1
  int v5; // [sp+Ch] [bp-4h]@1

  v3 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 104);
  v2 = *(_DWORD *)(v3 + 8);
  v5 = 0;
  *(_DWORD *)a1 = *(_DWORD *)(v3 + 4);
  v5 = sub_10056F50(v2, 0x28u, (int)&v4);
  if ( !v5 )
  {
    *(_DWORD *)(a1 + 148) = v4;
    if ( !(**(_DWORD **)v3 & 0x200) )
      v5 = sub_10058AD0(v2, (int *)v4);
  }
  return v5;
}

//----- (10059B60) --------------------------------------------------------
int __cdecl sub_10059B60(int a1, int a2, int a3, int a4, int a5, int *a6)
{
  int v7; // [sp+0h] [bp-18h]@1
  int v8; // [sp+4h] [bp-14h]@1
  int v9; // [sp+8h] [bp-10h]@1
  int v10; // [sp+Ch] [bp-Ch]@1
  __int64 v11; // [sp+10h] [bp-8h]@1

  v8 = 0;
  v9 = *(_DWORD *)(a1 + 20);
  v7 = *(_DWORD *)(a1 + 8);
  v10 = 0;
  v11 = (unsigned int)sub_10056F50(v7, *(_DWORD *)(v9 + 36), (int)&v8);
  if ( !(_DWORD)v11 )
  {
    *(_DWORD *)(v8 + 104) = a1;
    *(_DWORD *)(v8 + 108) = v7;
    *(_DWORD *)(v8 + 112) = a2;
    LODWORD(v11) = sub_10056F50(v7, 0x20u, (int)&v10);
    if ( !(_DWORD)v11 )
    {
      *(_DWORD *)(v8 + 136) = v10;
      LODWORD(v11) = (*(int (__cdecl **)(int, int, int, int, int))(v9 + 48))(a2, v8, a3, a4, a5);
      if ( !(_DWORD)v11 )
      {
        HIDWORD(v11) = sub_10059C80(v8);
        *a6 = v8;
      }
    }
  }
  if ( (_DWORD)v11 )
  {
    (*(void (__cdecl **)(int))(v9 + 52))(v8);
    sub_10057070(v7, &v10);
    sub_10057070(v7, &v8);
    *a6 = 0;
  }
  return HIDWORD(v11) | v11;
}

//----- (10059C80) --------------------------------------------------------
signed int __cdecl sub_10059C80(int a1)
{
  signed int result; // eax@2
  _DWORD *v2; // [sp+0h] [bp-Ch]@1
  unsigned int v3; // [sp+4h] [bp-8h]@3
  unsigned int v4; // [sp+8h] [bp-4h]@1

  v2 = 0;
  v4 = *(_DWORD *)(a1 + 40);
  if ( v4 )
  {
    v3 = v4 + 4 * *(_DWORD *)(a1 + 36);
    while ( 1 )
    {
      v3 -= 4;
      if ( v3 < v4 )
        break;
      if ( *(_DWORD *)v3 )
      {
        if ( *(_DWORD *)(*(_DWORD *)v3 + 4) == 1970170211 )
          v2 = (_DWORD *)v3;
      }
    }
    if ( v2 )
    {
      *(_DWORD *)(a1 + 100) = *v2;
      result = 0;
    }
    else
    {
      result = 38;
    }
  }
  else
  {
    result = 38;
  }
  return result;
}

//----- (10059D10) --------------------------------------------------------
int __cdecl sub_10059D10(int a1)
{
  int v2; // [sp+0h] [bp-10h]@3
  int v3; // [sp+4h] [bp-Ch]@3
  int v4; // [sp+8h] [bp-8h]@3
  int v5; // [sp+Ch] [bp-4h]@1

  v5 = 35;
  if ( a1 )
  {
    if ( *(_DWORD *)(a1 + 104) )
    {
      v4 = *(_DWORD *)(a1 + 104);
      v3 = *(_DWORD *)(v4 + 8);
      v2 = sub_100570B0((int *)(v4 + 24), a1);
      if ( v2 )
      {
        sub_10057140(v4 + 24, v2);
        sub_10057070(v3, &v2);
        sub_10059DA0(v3, a1, v4);
        v5 = 0;
      }
    }
  }
  return v5;
}

//----- (10059DA0) --------------------------------------------------------
int __cdecl sub_10059DA0(int a1, int a2, int a3)
{
  int i; // [sp+4h] [bp-8h]@3
  int v5; // [sp+8h] [bp-4h]@1

  v5 = *(_DWORD *)(a3 + 20);
  if ( *(_DWORD *)(a2 + 128) )
    (*(void (__cdecl **)(_DWORD))(a2 + 128))(*(_DWORD *)(a2 + 124));
  sub_10059170(*(_DWORD *)(a2 + 92));
  sub_10057190(a2 + 116, (void (__cdecl *)(int, _DWORD, int))sub_10059EE0, a1, a3);
  *(_DWORD *)(a2 + 96) = 0;
  for ( i = 0; i < *(_DWORD *)(a2 + 36); ++i )
  {
    sub_1005A420(*(_DWORD *)(*(_DWORD *)(a2 + 40) + 4 * i));
    *(_DWORD *)(*(_DWORD *)(a2 + 40) + 4 * i) = 0;
  }
  sub_10057070(a1, (_DWORD *)(a2 + 40));
  *(_DWORD *)(a2 + 36) = 0;
  if ( *(_DWORD *)(v5 + 52) )
    (*(void (__cdecl **)(int))(v5 + 52))(a2);
  sub_100599E0(*(_DWORD *)(a2 + 112), (*(_DWORD *)(a2 + 8) & 0x400) != 0);
  *(_DWORD *)(a2 + 112) = 0;
  sub_10057070(a1, (_DWORD *)(a2 + 136));
  return sub_10057070(a1, &a2);
}

//----- (10059EE0) --------------------------------------------------------
int __cdecl sub_10059EE0(int a1, int a2, int a3)
{
  if ( *(_DWORD *)(*(_DWORD *)(a3 + 20) + 60) )
    (*(void (__cdecl **)(int))(*(_DWORD *)(a3 + 20) + 60))(a2);
  sub_10057070(a1, (_DWORD *)(a2 + 40));
  return sub_10057070(a1, &a2);
}

//----- (10059F30) --------------------------------------------------------
signed int __cdecl sub_10059F30(int a1, int *a2)
{
  signed int result; // eax@2
  int v3; // [sp+0h] [bp-18h]@1
  int v4; // [sp+4h] [bp-14h]@7
  int v5; // [sp+8h] [bp-10h]@7
  int v6; // [sp+Ch] [bp-Ch]@7
  int v7; // [sp+10h] [bp-8h]@1
  int v8; // [sp+14h] [bp-4h]@7

  v7 = 0;
  v3 = 0;
  if ( a1 )
  {
    if ( a2 )
    {
      if ( *(_DWORD *)(a1 + 104) )
      {
        *a2 = 0;
        v5 = *(_DWORD *)(a1 + 104);
        v6 = *(_DWORD *)(v5 + 20);
        v4 = *(_DWORD *)(a1 + 108);
        v8 = sub_10056F50(v4, *(_DWORD *)(v6 + 40), (int)&v7);
        if ( !v8 )
        {
          v8 = sub_10056F50(v4, 0xCu, (int)&v3);
          if ( !v8 )
          {
            *(_DWORD *)v7 = a1;
            *(_DWORD *)(v7 + 40) = 0;
            if ( *(_DWORD *)(v6 + 56) )
              v8 = (*(int (__cdecl **)(int))(v6 + 56))(v7);
          }
        }
        if ( v8 )
        {
          sub_10057070(v4, &v3);
          sub_10057070(v4, &v7);
        }
        else
        {
          *a2 = v7;
          *(_DWORD *)(v3 + 8) = v7;
          sub_100570F0(a1 + 116, v3);
        }
        result = v8;
      }
      else
      {
        result = 34;
      }
    }
    else
    {
      result = 36;
    }
  }
  else
  {
    result = 35;
  }
  return result;
}

//----- (1005A060) --------------------------------------------------------
signed int __cdecl sub_1005A060(int *a1)
{
  signed int result; // eax@2
  int v2; // [sp+0h] [bp-14h]@7
  int v3; // [sp+4h] [bp-10h]@7
  int v4; // [sp+8h] [bp-Ch]@3
  int v5; // [sp+Ch] [bp-8h]@5
  int v6; // [sp+10h] [bp-4h]@7

  if ( a1 )
  {
    v4 = *a1;
    if ( v4 )
    {
      v5 = *(_DWORD *)(v4 + 104);
      if ( v5 )
      {
        v3 = *(_DWORD *)(v5 + 8);
        v6 = 0;
        v2 = sub_100570B0((int *)(v4 + 116), (int)a1);
        if ( v2 )
        {
          sub_10057140(v4 + 116, v2);
          sub_10057070(v3, &v2);
          if ( *(int **)(v4 + 96) == a1 )
          {
            *(_DWORD *)(v4 + 96) = 0;
            if ( *(_DWORD *)(v4 + 116) )
              *(_DWORD *)(v4 + 96) = *(_DWORD *)(*(_DWORD *)(v4 + 116) + 8);
          }
          sub_10059EE0(v3, (int)a1, v5);
        }
        else
        {
          v6 = 36;
        }
        result = v6;
      }
      else
      {
        result = 34;
      }
    }
    else
    {
      result = 35;
    }
  }
  else
  {
    result = 36;
  }
  return result;
}

//----- (1005A150) --------------------------------------------------------
signed int __cdecl sub_1005A150(int a1, signed int a2, signed int a3, signed int a4, signed int a5)
{
  signed int result; // eax@4
  int v6; // [sp+4h] [bp-14h]@17
  int v7; // [sp+Ch] [bp-Ch]@5
  int v8; // [sp+10h] [bp-8h]@5
  int v9; // [sp+14h] [bp-4h]@1

  v9 = 0;
  if ( a1 && *(_DWORD *)(a1 + 96) && *(_DWORD *)(a1 + 104) )
  {
    v8 = *(_DWORD *)(a1 + 96) + 12;
    v7 = *(_DWORD *)(*(_DWORD *)(a1 + 104) + 20);
    if ( a2 )
    {
      if ( !a3 )
        a3 = a2;
    }
    else
    {
      a2 = a3;
    }
    if ( !a4 )
      a4 = 72;
    if ( !a5 )
      a5 = 72;
    if ( a2 < 64 )
      a2 = 64;
    if ( a3 < 64 )
      a3 = 64;
    *(_DWORD *)(a1 + 52) = a2;
    *(_DWORD *)(a1 + 56) = a3;
    v6 = (a5 * a3 + 2340) / 0x48u & 0xFFFFFFC0;
    *(_WORD *)v8 = (signed int)((a4 * a2 + 2340) / 0x48u & 0xFFFFFFC0) >> 6;
    *(_WORD *)(v8 + 2) = v6 >> 6;
    *(_DWORD *)(v8 + 4) = 0x10000;
    *(_DWORD *)(v8 + 8) = 0x10000;
    if ( *(_DWORD *)(a1 + 8) & 1 )
    {
      *(_DWORD *)(v8 + 4) = sub_10057D70((a4 * a2 + 2340) / 0x48u & 0xFFFFFFC0, *(_WORD *)(a1 + 76));
      *(_DWORD *)(v8 + 8) = sub_10057D70(v6, *(_WORD *)(a1 + 76));
      sub_1005A2F0(a1, v8);
    }
    if ( *(_DWORD *)(v7 + 72) )
      v9 = (*(int (__cdecl **)(_DWORD, signed int, signed int, signed int, signed int))(v7 + 72))(
             *(_DWORD *)(a1 + 96),
             a2,
             a3,
             a4,
             a5);
    result = v9;
  }
  else
  {
    result = 35;
  }
  return result;
}

//----- (1005A2F0) --------------------------------------------------------
unsigned int __cdecl sub_1005A2F0(int a1, int a2)
{
  unsigned int result; // eax@1

  *(_DWORD *)(a2 + 12) = (sub_10057C70(*(_WORD *)(a1 + 78), *(_DWORD *)(a2 + 8)) + 63) & 0xFFFFFFC0;
  *(_DWORD *)(a2 + 16) = sub_10057C70(*(_WORD *)(a1 + 80), *(_DWORD *)(a2 + 8)) & 0xFFFFFFC0;
  *(_DWORD *)(a2 + 20) = (sub_10057C70(*(_WORD *)(a1 + 82), *(_DWORD *)(a2 + 8)) + 32) & 0xFFFFFFC0;
  result = (sub_10057C70(*(_WORD *)(a1 + 84), *(_DWORD *)(a2 + 4)) + 32) & 0xFFFFFFC0;
  *(_DWORD *)(a2 + 24) = result;
  return result;
}

//----- (1005A380) --------------------------------------------------------
signed int __cdecl sub_1005A380(int a1, int a2)
{
  signed int result; // eax@2

  if ( a1 )
  {
    if ( a2 == 1970170211 )
      result = sub_10059C80(a1);
    else
      result = 6;
  }
  else
  {
    result = 35;
  }
  return result;
}

//----- (1005A3B0) --------------------------------------------------------
signed int __cdecl sub_1005A3B0(int a1, int a2)
{
  signed int result; // eax@2
  unsigned int v3; // [sp+0h] [bp-8h]@5
  _DWORD *v4; // [sp+4h] [bp-4h]@3

  if ( a1 )
  {
    v4 = *(_DWORD **)(a1 + 40);
    if ( v4 )
    {
      v3 = (unsigned int)&v4[*(_DWORD *)(a1 + 36)];
      while ( (unsigned int)v4 < v3 )
      {
        if ( *v4 == a2 )
        {
          *(_DWORD *)(a1 + 100) = *v4;
          return 0;
        }
        ++v4;
      }
      result = 6;
    }
    else
    {
      result = 38;
    }
  }
  else
  {
    result = 35;
  }
  return result;
}

//----- (1005A420) --------------------------------------------------------
int __cdecl sub_1005A420(int a1)
{
  int result; // eax@4
  int v2; // [sp+0h] [bp-Ch]@2
  int v3; // [sp+8h] [bp-4h]@2

  if ( a1 )
  {
    v3 = *(_DWORD *)(a1 + 12);
    v2 = *(_DWORD *)(*(_DWORD *)a1 + 108);
    if ( *(_DWORD *)(v3 + 8) )
      (*(void (__cdecl **)(int))(v3 + 8))(a1);
    result = sub_10057070(v2, &a1);
  }
  return result;
}

//----- (1005A480) --------------------------------------------------------
signed int __cdecl sub_1005A480(int a1, int a2, int a3, int *a4)
{
  signed int result; // eax@4
  int v5; // ecx@6
  int v6; // [sp+0h] [bp-10h]@5
  int v7; // [sp+4h] [bp-Ch]@5
  int v8; // [sp+8h] [bp-8h]@5
  int v9; // [sp+Ch] [bp-4h]@5

  if ( a1 && a3 && *(_DWORD *)a3 )
  {
    v7 = *(_DWORD *)a3;
    v6 = *(_DWORD *)(*(_DWORD *)a3 + 108);
    v8 = sub_10056F50(v6, *(_DWORD *)a1, (int)&v9);
    if ( !v8 )
    {
      v5 = v9;
      *(_DWORD *)v9 = *(_DWORD *)a3;
      *(_DWORD *)(v5 + 4) = *(_DWORD *)(a3 + 4);
      *(_DWORD *)(v5 + 8) = *(_DWORD *)(a3 + 8);
      *(_DWORD *)(v9 + 12) = a1;
      if ( *(_DWORD *)(a1 + 4) && (v8 = (*(int (__cdecl **)(int, int))(a1 + 4))(v9, a2)) != 0
        || (v8 = sub_10056FC0(v6, 4 * *(_DWORD *)(v7 + 36), 4 * *(_DWORD *)(v7 + 36) + 4, v7 + 40)) != 0 )
      {
        sub_1005A420(v9);
        v9 = 0;
      }
      else
      {
        *(_DWORD *)(*(_DWORD *)(v7 + 40) + 4 * (*(_DWORD *)(v7 + 36))++) = v9;
      }
    }
    if ( a4 )
      *a4 = v9;
    result = v8;
  }
  else
  {
    result = 6;
  }
  return result;
}

//----- (1005A5B0) --------------------------------------------------------
int __cdecl sub_1005A5B0(int a1, int a2)
{
  int v3; // [sp+4h] [bp-4h]@1

  v3 = 0;
  if ( a1 && *(_DWORD *)(a1 + 100) )
    v3 = (*(int (__cdecl **)(_DWORD, int))(*(_DWORD *)(*(_DWORD *)(a1 + 100) + 12) + 12))(*(_DWORD *)(a1 + 100), a2);
  return v3;
}

//----- (1005A600) --------------------------------------------------------
int __cdecl sub_1005A600(int a1, int a2, int a3)
{
  int v4; // [sp+0h] [bp-Ch]@7
  int v5; // [sp+4h] [bp-8h]@1
  int v6; // [sp+8h] [bp-4h]@2

  v5 = 0;
  if ( a1 )
  {
    v6 = *(_DWORD *)(a1 + 156);
    if ( a3 )
    {
      if ( *(_DWORD *)a3 )
        v6 = *(_DWORD *)(*(_DWORD *)a3 + 4);
      *(_DWORD *)a3 = 0;
    }
    while ( v6 )
    {
      v4 = *(_DWORD *)(v6 + 8);
      if ( *(_DWORD *)(v4 + 24) == a2 )
      {
        if ( a3 )
          *(_DWORD *)a3 = v6;
        return v4;
      }
      v6 = *(_DWORD *)(v6 + 4);
    }
  }
  return v5;
}

//----- (1005A690) --------------------------------------------------------
int __cdecl sub_1005A690(int a1)
{
  int v2; // [sp+0h] [bp-Ch]@1
  int v3; // [sp+8h] [bp-4h]@1

  v3 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(a1 + 4) + 104) + 4);
  v2 = *(_DWORD *)(v3 + 164);
  if ( !v2 || *(_DWORD *)(v2 + 24) != *(_DWORD *)(a1 + 72) )
    v2 = sub_1005A600(v3, *(_DWORD *)(a1 + 72), 0);
  return v2;
}

//----- (1005A6F0) --------------------------------------------------------
int __cdecl sub_1005A6F0(int a1, int a2, int a3)
{
  int v3; // ST14_4@4
  int v5; // [sp+8h] [bp-8h]@2
  int v6; // [sp+Ch] [bp-4h]@4

  if ( *(_DWORD *)(a2 + 72) == 1651078259 )
  {
    v5 = 7;
  }
  else
  {
    if ( *(_DWORD *)(a2 + 72) == 1869968492 )
    {
      v6 = *(_DWORD *)(a1 + 164);
      v3 = *(_DWORD *)(a1 + 156);
    }
    else
    {
      v6 = 0;
    }
    v5 = 7;
    if ( v6 )
      v5 = (*(int (__cdecl **)(int, int, int, _DWORD))(v6 + 68))(v6, a2, a3, 0);
  }
  return v5;
}

//----- (1005A790) --------------------------------------------------------
int __cdecl sub_1005A790(int a1, int a2)
{
  int result; // eax@2

  if ( a1 )
    result = sub_1005A6F0(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(a1 + 4) + 104) + 4), a1, a2);
  else
    result = 6;
  return result;
}

//----- (1005A7D0) --------------------------------------------------------
signed int __cdecl sub_1005A7D0(int a1, int a2)
{
  signed int result; // eax@2
  int v3; // ST10_4@11
  int v4; // [sp+8h] [bp-Ch]@5
  int v5; // [sp+Ch] [bp-8h]@5
  int v6; // [sp+10h] [bp-4h]@5

  if ( a1 )
  {
    if ( a2 )
    {
      v4 = *(_DWORD *)a1;
      v6 = 0;
      v6 = sub_10056F50(v4, *(_DWORD *)(a2 + 4), (int)&v5);
      if ( !v6 )
      {
        *(_DWORD *)(v5 + 4) = a1;
        *(_DWORD *)(v5 + 8) = v4;
        *(_DWORD *)v5 = a2;
        if ( **(_DWORD **)v5 & 2 )
        {
          v6 = sub_1005A950(v5);
          if ( v6 )
            goto LABEL_22;
        }
        if ( **(_DWORD **)v5 & 4 )
          *(_DWORD *)(a1 + 168) = v5;
        if ( **(_DWORD **)v5 & 1
          && (v3 = v5, *(_DWORD *)(v5 + 20) = *(_DWORD *)v5, (v6 = sub_10058AD0(v4, (int *)(v3 + 36))) != 0)
          || *(_DWORD *)(a2 + 24) && (v6 = (*(int (__cdecl **)(int))(a2 + 24))(v5)) != 0 )
        {
LABEL_22:
          if ( **(_DWORD **)v5 & 2 )
          {
            if ( *(_DWORD *)(v5 + 60) )
              (*(void (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(v5 + 20) + 56) + 20))(*(_DWORD *)(v5 + 60));
          }
          sub_10057070(v4, &v5);
        }
        else
        {
          *(_DWORD *)(a1 + 4 * (*(_DWORD *)(a1 + 24))++ + 28) = v5;
        }
      }
      result = v6;
    }
    else
    {
      result = 6;
    }
  }
  else
  {
    result = 33;
  }
  return result;
}

//----- (1005A950) --------------------------------------------------------
int __cdecl sub_1005A950(int a1)
{
  int v2; // [sp+0h] [bp-18h]@1
  int v3; // [sp+4h] [bp-14h]@1
  int v4; // [sp+8h] [bp-10h]@1
  int v5; // [sp+Ch] [bp-Ch]@1
  int v6; // [sp+10h] [bp-8h]@1
  int *v7; // [sp+14h] [bp-4h]@1

  v7 = *(int **)(a1 + 4);
  v4 = *v7;
  v3 = a1;
  v5 = *(_DWORD *)a1;
  v6 = sub_10056F50(v4, 0xCu, (int)&v2);
  if ( !v6 )
  {
    *(_DWORD *)(v3 + 20) = v5;
    *(_DWORD *)(v3 + 24) = *(_DWORD *)(v5 + 36);
    v6 = (*(int (__cdecl **)(int, int))(*(_DWORD *)(v5 + 56) + 4))(v4, v3 + 60);
    if ( !v6 )
    {
      *(_DWORD *)(v3 + 64) = *(_DWORD *)(*(_DWORD *)(v5 + 56) + 16);
      *(_DWORD *)(v3 + 68) = *(_DWORD *)(v5 + 40);
      *(_DWORD *)(v2 + 8) = a1;
      sub_100570F0((int)(v7 + 39), v2);
      sub_1005AA40((int)v7);
    }
    if ( v6 )
      sub_10057070(v4, &v2);
  }
  return v6;
}

//----- (1005AA40) --------------------------------------------------------
int __cdecl sub_1005AA40(int a1)
{
  int result; // eax@1

  result = sub_1005A600(a1, 1869968492, 0);
  *(_DWORD *)(a1 + 164) = result;
  return result;
}

//----- (1005AA70) --------------------------------------------------------
int __cdecl sub_1005AA70(int a1, char *a2)
{
  int result; // eax@3
  int v3; // [sp+0h] [bp-Ch]@1
  unsigned int v4; // [sp+4h] [bp-8h]@4
  unsigned int v5; // [sp+8h] [bp-4h]@4

  v3 = 0;
  if ( a1 && a2 )
  {
    v5 = a1 + 28;
    v4 = a1 + 28 + 4 * *(_DWORD *)(a1 + 24);
    while ( v5 < v4 )
    {
      if ( !strcmp(*(const char **)(**(_DWORD **)v5 + 8), a2) )
      {
        v3 = *(_DWORD *)v5;
        break;
      }
      v5 += 4;
    }
    result = v3;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1005AAF0) --------------------------------------------------------
int __cdecl sub_1005AAF0(int a1, char *a2)
{
  int v3; // [sp+0h] [bp-8h]@2
  int v4; // [sp+4h] [bp-4h]@1

  v4 = sub_1005AA70(a1, a2);
  if ( v4 )
    v3 = *(_DWORD *)(*(_DWORD *)v4 + 20);
  else
    v3 = 0;
  return v3;
}

//----- (1005AB30) --------------------------------------------------------
signed int __cdecl sub_1005AB30(int a1, int *a2)
{
  signed int result; // eax@2
  int v3; // [sp+0h] [bp-8h]@3
  int v4; // [sp+0h] [bp-8h]@5
  int v5; // [sp+4h] [bp-4h]@1

  v5 = 0;
  if ( a1 )
  {
    v3 = sub_10056F50(a1, 0xC4u, (int)&v5);
    if ( v3 )
    {
      result = v3;
    }
    else
    {
      *(_DWORD *)v5 = a1;
      *(_DWORD *)(v5 + 176) = 0x4000;
      v4 = sub_10056F50(a1, 0x4000u, v5 + 172);
      if ( v4 )
      {
        sub_10057070(a1, &v5);
        result = v4;
      }
      else
      {
        *a2 = v5;
        result = 0;
      }
    }
  }
  else
  {
    result = 6;
  }
  return result;
}

//----- (1005ABD0) --------------------------------------------------------
int *__cdecl sub_1005ABD0(int a1)
{
  int *result; // eax@2
  int *i; // [sp+4h] [bp-4h]@1

  for ( i = (int *)&off_100DDD7C; ; ++i )
  {
    result = i;
    if ( !*i )
      break;
    sub_1005A7D0(a1, *i);
  }
  return result;
}
// 100DDD7C: using guessed type void *off_100DDD7C;

//----- (1005AC20) --------------------------------------------------------
signed int __cdecl sub_1005AC20(int *a1)
{
  signed int result; // eax@2
  int v2; // [sp+0h] [bp-8h]@1
  signed int v3; // [sp+4h] [bp-4h]@3

  v2 = sub_1005B2F0();
  if ( v2 )
  {
    v3 = sub_1005AB30(v2, a1);
    if ( v3 )
    {
      sub_1005B340(v2);
    }
    else
    {
      *(_DWORD *)(*a1 + 12) = 2;
      *(_DWORD *)(*a1 + 16) = 1;
      *(_DWORD *)(*a1 + 20) = 7;
      sub_1005ABD0(*a1);
    }
    result = v3;
  }
  else
  {
    result = 7;
  }
  return result;
}

//----- (1005ACA0) --------------------------------------------------------
int __cdecl sub_1005ACA0(int a1)
{
  int result; // eax@1
  int v2; // [sp+0h] [bp-14h]@2
  int v3; // [sp+4h] [bp-10h]@2
  int v4; // [sp+8h] [bp-Ch]@2
  int v5; // [sp+Ch] [bp-8h]@2
  int v6; // [sp+10h] [bp-4h]@1

  result = a1 + 108;
  v6 = a1 + 108;
  if ( *(_DWORD *)(a1 + 72) == 1869968492 )
  {
    v2 = 0x10000;
    v4 = 0;
    v3 = 24576;
    v5 = 0x10000;
    result = sub_10058A80(v6, (int)&v2);
  }
  return result;
}

//----- (1005ACF0) --------------------------------------------------------
int __cdecl sub_1005ACF0(int a1)
{
  int result; // eax@1
  int v2; // ecx@4
  int v3; // edx@4
  int v4; // eax@7
  int v5; // ST0C_4@9
  int v6; // ST10_4@9
  int v7; // ST14_4@14
  int v8; // [sp+Ch] [bp-60h]@9
  int v9; // [sp+10h] [bp-5Ch]@9
  int v10; // [sp+14h] [bp-58h]@9
  int v11; // [sp+18h] [bp-54h]@9
  int v12; // [sp+1Ch] [bp-50h]@4
  int v13; // [sp+20h] [bp-4Ch]@4
  int v14; // [sp+24h] [bp-48h]@4
  int v15; // [sp+28h] [bp-44h]@9
  int v16; // [sp+2Ch] [bp-40h]@2
  int i; // [sp+30h] [bp-3Ch]@2
  int v18; // [sp+34h] [bp-38h]@1
  int v19; // [sp+38h] [bp-34h]@9
  int v20; // [sp+3Ch] [bp-30h]@4
  int v21; // [sp+40h] [bp-2Ch]@4
  int v22; // [sp+44h] [bp-28h]@2
  int v23; // [sp+48h] [bp-24h]@7
  int v24; // [sp+4Ch] [bp-20h]@7
  int j; // [sp+50h] [bp-1Ch]@4
  int v26; // [sp+54h] [bp-18h]@2
  int v27; // [sp+58h] [bp-14h]@4
  int v28; // [sp+5Ch] [bp-10h]@4
  int v29; // [sp+60h] [bp-Ch]@1
  int v30; // [sp+64h] [bp-8h]@2
  int v31; // [sp+68h] [bp-4h]@2

  v29 = a1 + 108;
  v18 = *(_DWORD *)(a1 + 4);
  result = a1;
  if ( *(_DWORD *)(a1 + 72) == 1869968492 )
  {
    v22 = sub_10057C70(*(_WORD *)(v18 + 76) / 60, *(_DWORD *)(*(_DWORD *)(v18 + 96) + 20));
    v31 = sub_1005AF50(v29);
    v26 = 5898240 * v31;
    v16 = *(_DWORD *)(v29 + 4);
    v30 = 0;
    for ( i = 0; i < *(_WORD *)v29; ++i )
    {
      v12 = *(_WORD *)(*(_DWORD *)(v29 + 12) + 2 * i);
      v2 = *(_DWORD *)(v16 + 8 * v30 + 4);
      v13 = *(_DWORD *)(v16 + 8 * v30);
      v14 = v2;
      v3 = *(_DWORD *)(v16 + 8 * v12 + 4);
      v27 = *(_DWORD *)(v16 + 8 * v12);
      v28 = v3;
      v20 = v13;
      v21 = v2;
      for ( j = v30; j <= v12; ++j )
      {
        if ( j >= v12 )
        {
          v23 = v13;
          v24 = v14;
        }
        else
        {
          v4 = *(_DWORD *)(v16 + 8 * j + 12);
          v23 = *(_DWORD *)(v16 + 8 * j + 8);
          v24 = v4;
        }
        v9 = v20 - v27;
        v10 = v21 - v28;
        v5 = v23 - v20;
        v6 = v24 - v21;
        v15 = sub_10058020(v20 - v27, v21 - v28);
        v19 = sub_10058020(v5, v6);
        v8 = sub_100584B0(v15, v19);
        v11 = sub_10057E60(v8 / 2);
        if ( v11 < 0x4000 && v11 > -16384 )
        {
          if ( v11 < 0 )
            v11 = -16384;
          else
            v11 = 0x4000;
        }
        v7 = sub_10057D70(v22, v11);
        sub_10058480((int)&v9, v7, v15 + v8 / 2 - v26);
        *(_DWORD *)(*(_DWORD *)(v29 + 4) + 8 * j) = v9 + v22 + v20;
        *(_DWORD *)(*(_DWORD *)(v29 + 4) + 8 * j + 4) = v10 + v22 + v21;
        v27 = v20;
        v28 = v21;
        v20 = v23;
        v21 = v24;
      }
      v30 = v12 + 1;
    }
    result = a1;
    *(_DWORD *)(a1 + 40) = (*(_DWORD *)(a1 + 40) + 4 * v22) & 0xFFFFFFC0;
  }
  return result;
}

//----- (1005AF50) --------------------------------------------------------
signed int __cdecl sub_1005AF50(int a1)
{
  signed int result; // eax@2
  signed int v2; // [sp+0h] [bp-30h]@5
  signed int v3; // [sp+4h] [bp-2Ch]@9
  signed int v4; // [sp+8h] [bp-28h]@1
  signed int v5; // [sp+Ch] [bp-24h]@1
  signed int v6; // [sp+10h] [bp-20h]@1
  signed int v7; // [sp+14h] [bp-1Ch]@1
  int v8; // [sp+18h] [bp-18h]@1
  int v9; // [sp+1Ch] [bp-14h]@1
  int v10; // [sp+20h] [bp-10h]@1
  int v11; // [sp+24h] [bp-Ch]@1
  signed int i; // [sp+28h] [bp-8h]@3
  int v13; // [sp+28h] [bp-8h]@14

  v8 = -1;
  v9 = -1;
  v10 = -1;
  v11 = -1;
  v5 = 0x7FFF;
  v4 = 0x7FFF;
  v7 = -32768;
  v6 = -32768;
  if ( (signed int)*(_WORD *)a1 >= 1 )
  {
    for ( i = 0; i <= *(_WORD *)(*(_DWORD *)(a1 + 12) + 2 * *(_WORD *)a1 - 2); ++i )
    {
      v2 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 8 * i);
      if ( v2 < v4 )
      {
        v4 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 8 * i);
        v8 = i;
      }
      if ( v2 > v6 )
      {
        v6 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 8 * i);
        v10 = i;
      }
      v3 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 8 * i + 4);
      if ( v3 < v5 )
      {
        v5 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 8 * i + 4);
        v9 = i;
      }
      if ( v3 > v7 )
      {
        v7 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 8 * i + 4);
        v11 = i;
      }
    }
    v13 = sub_1005B0C0(a1, v8);
    if ( !v13 )
    {
      v13 = sub_1005B0C0(a1, v9);
      if ( !v13 )
      {
        v13 = sub_1005B0C0(a1, v10);
        if ( !v13 )
        {
          v13 = sub_1005B0C0(a1, v11);
          if ( !v13 )
            v13 = 1;
        }
      }
    }
    result = v13;
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (1005B0C0) --------------------------------------------------------
int __cdecl sub_1005B0C0(int a1, int a2)
{
  int v2; // esi@8
  int v3; // eax@8
  signed int i; // [sp+4h] [bp-1Ch]@1
  int v6; // [sp+8h] [bp-18h]@8
  int v7; // [sp+Ch] [bp-14h]@1
  int v8; // [sp+10h] [bp-10h]@1
  int v9; // [sp+14h] [bp-Ch]@1
  int v10; // [sp+18h] [bp-8h]@3
  int v11; // [sp+1Ch] [bp-4h]@1

  v9 = *(_DWORD *)(a1 + 4) + 8 * a2;
  v8 = v9 - 8;
  v7 = v9 + 8;
  v11 = 0;
  for ( i = 0; i < *(_WORD *)a1; ++i )
  {
    v10 = *(_WORD *)(*(_DWORD *)(a1 + 12) + 2 * i);
    if ( a2 == v11 )
      v8 = *(_DWORD *)(a1 + 4) + 8 * v10;
    if ( a2 == v10 )
      v7 = *(_DWORD *)(a1 + 4) + 8 * v11;
    v11 = v10 + 1;
  }
  v2 = sub_10057980(*(_DWORD *)v9 - *(_DWORD *)v8, *(_DWORD *)(v7 + 4) - *(_DWORD *)(v9 + 4), 64);
  v3 = sub_10057980(*(_DWORD *)(v9 + 4) - *(_DWORD *)(v8 + 4), *(_DWORD *)v7 - *(_DWORD *)v9, 64);
  v6 = v2 - v3;
  if ( v2 != v3 )
    v6 = 2 * (v6 > 0) - 1;
  return v6;
}

//----- (1005B1C0) --------------------------------------------------------
signed int __cdecl sub_1005B1C0(int a1, int a2)
{
  signed int result; // eax@2
  unsigned int v3; // [sp+0h] [bp-4h]@3

  if ( a1 )
  {
    v3 = sub_10003430(a2);
    if ( v3 )
    {
      sub_10003450(v3, 0, 2);
      *(_DWORD *)(a1 + 4) = sub_10003450(v3, 0, 1);
      sub_10003450(v3, 0, 0);
      *(_DWORD *)(a1 + 12) = v3;
      *(_DWORD *)(a1 + 16) = a2;
      *(_DWORD *)(a1 + 8) = 0;
      *(_DWORD *)(a1 + 20) = sub_1005B2B0;
      *(_DWORD *)(a1 + 24) = sub_1005B270;
      result = 0;
    }
    else
    {
      result = 1;
    }
  }
  else
  {
    result = 40;
  }
  return result;
}
// 10003450: using guessed type _DWORD __cdecl sub_10003450(_DWORD, _DWORD, _DWORD);

//----- (1005B270) --------------------------------------------------------
int __cdecl sub_1005B270(int a1)
{
  int result; // eax@1

  sub_10003420(*(_DWORD *)(a1 + 12));
  *(_DWORD *)(a1 + 12) = 0;
  result = a1;
  *(_DWORD *)(a1 + 4) = 0;
  *(_DWORD *)a1 = 0;
  return result;
}
// 10003420: using guessed type _DWORD __cdecl sub_10003420(_DWORD);

//----- (1005B2B0) --------------------------------------------------------
int __cdecl sub_1005B2B0(int a1, int a2, void *a3, int a4)
{
  int v4; // ST0C_4@1

  v4 = *(_DWORD *)(a1 + 12);
  sub_10003450(v4, a2, 0);
  return sub_10002DA0(v4, a3, a4);
}
// 10002DA0: using guessed type _DWORD __cdecl sub_10002DA0(_DWORD, void *, _DWORD);
// 10003450: using guessed type _DWORD __cdecl sub_10003450(_DWORD, _DWORD, _DWORD);

//----- (1005B2F0) --------------------------------------------------------
int sub_1005B2F0()
{
  int v1; // [sp+0h] [bp-4h]@1

  v1 = sub_10003480(0, 0x10u);
  if ( v1 )
  {
    *(_DWORD *)v1 = 0;
    *(_DWORD *)(v1 + 4) = sub_10003480;
    *(_DWORD *)(v1 + 12) = sub_100034C0;
    *(_DWORD *)(v1 + 8) = sub_100034A0;
  }
  return v1;
}
// 100034A0: using guessed type int sub_100034A0();
// 100034C0: using guessed type int sub_100034C0();

//----- (1005B340) --------------------------------------------------------
int __cdecl sub_1005B340(int a1)
{
  return (*(int (__cdecl **)(int, int))(a1 + 8))(a1, a1);
}

//----- (1005B360) --------------------------------------------------------
int __cdecl sub_1005B360(int a1, int a2, int a3, int a4)
{
  int v5; // [sp+0h] [bp-18h]@4
  unsigned int v6; // [sp+4h] [bp-14h]@4
  unsigned int v7; // [sp+8h] [bp-10h]@2
  int v8; // [sp+Ch] [bp-Ch]@2
  int v9; // [sp+10h] [bp-8h]@2
  int v10; // [sp+14h] [bp-4h]@4

  *(_DWORD *)a4 = 0;
  *(_DWORD *)(a4 + 4) = 0;
  if ( *(_DWORD *)(a1 + 692) )
  {
    v7 = a3 | (a2 << 16);
    v9 = 0;
    v8 = *(_DWORD *)(a1 + 684) - 1;
    while ( v9 <= v8 )
    {
      v5 = v9 + ((v8 - v9) >> 1);
      v10 = *(_DWORD *)(a1 + 692) + 6 * (v9 + ((v8 - v9) >> 1));
      v6 = *(_WORD *)(v10 + 2) | (*(_WORD *)v10 << 16);
      if ( v6 == v7 )
      {
        *(_DWORD *)a4 = *(_WORD *)(v10 + 4);
        return 0;
      }
      if ( v6 >= v7 )
        v8 = v5 - 1;
      else
        v9 = v5 + 1;
    }
  }
  return 0;
}

//----- (1005B430) --------------------------------------------------------
signed int __cdecl sub_1005B430(int a1, int a2, int a3, int a4, int a5)
{
  int v6; // [sp+8h] [bp-14h]@2
  int v7; // [sp+Ch] [bp-10h]@2
  int v8; // [sp+10h] [bp-Ch]@1

  v8 = *(_DWORD *)a1;
  qmemcpy((void *)(a1 + 44), (const void *)(a1 + 12), 0x1Cu);
  if ( *(_WORD *)(v8 + 184) & 8 )
  {
    v6 = (a4 * a2 + 2340) / 0x48u & 0xFFFFFFC0;
    v7 = (a5 * a3 + 2340) / 0x48u & 0xFFFFFFC0;
  }
  else
  {
    v6 = (a4 * a2 + 36) / 0x48u;
    v7 = (a5 * a3 + 36) / 0x48u;
  }
  *(_WORD *)(a1 + 44) = v6 >> 6;
  *(_WORD *)(a1 + 46) = v7 >> 6;
  *(_DWORD *)(a1 + 48) = sub_10057D70(v6, *(_WORD *)(v8 + 76));
  *(_DWORD *)(a1 + 52) = sub_10057D70(v7, *(_WORD *)(v8 + 76));
  *(_BYTE *)(a1 + 108) = 0;
  return sub_1005CCA0(a1);
}

//----- (1005B540) --------------------------------------------------------
int __cdecl sub_1005B540(int a1, int a2, unsigned __int16 a3, int a4)
{
  int result; // eax@5
  signed int v5; // [sp+0h] [bp-4h]@7

  if ( a4 & 1 )
    a2 = 0;
  if ( !a2 )
    goto LABEL_12;
  if ( *(_DWORD *)a2 != *(_DWORD *)(a1 + 4) )
    return 35;
  if ( !*(_BYTE *)(a2 + 108) && (v5 = sub_1005CCA0(a2)) != 0 )
    result = v5;
  else
LABEL_12:
    result = sub_1005B5C0(a2, a1, a3, a4);
  return result;
}

//----- (1005B5C0) --------------------------------------------------------
int __cdecl sub_1005B5C0(int a1, int a2, unsigned __int16 a3, int a4)
{
  int v4; // ST10_4@6
  int v6; // [sp+4h] [bp-B0h]@6
  int v7; // [sp+8h] [bp-ACh]@6
  int v8; // [sp+Ch] [bp-A8h]@6
  int v9; // [sp+10h] [bp-A4h]@6
  int v10; // [sp+14h] [bp-A0h]@6
  int v11; // [sp+1Ch] [bp-98h]@6
  int v12; // [sp+58h] [bp-5Ch]@6
  char v13; // [sp+5Ch] [bp-58h]@6
  char v14; // [sp+78h] [bp-3Ch]@6
  int v15; // [sp+A4h] [bp-10h]@1
  int v16; // [sp+A8h] [bp-Ch]@1
  int v17; // [sp+ACh] [bp-8h]@1
  int v18; // [sp+B0h] [bp-4h]@1

  v16 = *(_DWORD *)(a2 + 4);
  v15 = *(_DWORD *)(v16 + 540);
  v18 = *(_DWORD *)(v16 + 112);
  v17 = 0;
  if ( !a1 || a4 & 1 || a4 & 0x400 )
  {
    a1 = 0;
    a4 |= 0xBu;
  }
  *(_DWORD *)(a2 + 128) = 0;
  v17 = (*(int (__cdecl **)(int, signed int, int, _DWORD))(v16 + 516))(v16, 1735162214, v18, 0);
  if ( !v17 )
  {
    memset(&v6, 0, 0xA0u);
    v4 = *(_DWORD *)(*(_DWORD *)(v16 + 104) + 36);
    v9 = v4;
    sub_10058B10(v4);
    sub_1005B790((int)&v14, v4 + 20, 0, 0);
    sub_1005B790((int)&v13, v4 + 20, 0, 0);
    *(_DWORD *)(a2 + 124) = 0;
    v10 = a4;
    v6 = v16;
    v7 = a1;
    v8 = a2;
    v11 = v18;
    v12 = sub_10057290(v18);
    *(_DWORD *)(a2 + 72) = 1869968492;
    *(_DWORD *)(a2 + 128) = 0;
    v17 = sub_1005B800((int)&v6, a3);
    if ( !v17 )
      v17 = sub_1005BD80((int)&v6, a3);
    if ( a1 && (signed int)*(_WORD *)(a1 + 14) < 24 )
      *(_DWORD *)(a2 + 124) |= 0x100u;
  }
  return v17;
}

//----- (1005B790) --------------------------------------------------------
int __cdecl sub_1005B790(int a1, int a2, int a3, int a4)
{
  int result; // eax@1

  *(_WORD *)(a1 + 8) = *(_WORD *)(a2 + 2) - a3;
  *(_WORD *)(a1 + 10) = *(_WORD *)a2 - a4;
  *(_DWORD *)(a1 + 12) = *(_DWORD *)(a2 + 20) + 8 * a3;
  *(_DWORD *)(a1 + 16) = *(_DWORD *)(a2 + 4) + 8 * a3;
  *(_DWORD *)(a1 + 20) = a3 + *(_DWORD *)(a2 + 8);
  result = a4;
  *(_DWORD *)(a1 + 24) = *(_DWORD *)(a2 + 12) + 2 * a4;
  return result;
}

//----- (1005B800) --------------------------------------------------------
int __cdecl sub_1005B800(int a1, unsigned int a2)
{
  unsigned __int16 v3; // [sp+0h] [bp-30h]@5
  __int16 v4; // [sp+4h] [bp-2Ch]@5
  int v5; // [sp+8h] [bp-28h]@15
  int v6; // [sp+Ch] [bp-24h]@1
  int v7; // [sp+10h] [bp-20h]@3
  int v8; // [sp+14h] [bp-1Ch]@1
  int v9; // [sp+18h] [bp-18h]@7
  int v10; // [sp+1Ch] [bp-14h]@2
  int v11; // [sp+20h] [bp-10h]@7
  int v12; // [sp+24h] [bp-Ch]@3
  char v13; // [sp+2Bh] [bp-5h]@1
  int v14; // [sp+2Ch] [bp-4h]@3

  v8 = *(_DWORD *)a1;
  v6 = *(_DWORD *)(a1 + 12);
  v13 = 0;
  if ( a2 < *(_DWORD *)(v8 + 16) )
  {
    *(_DWORD *)(a1 + 20) = a2;
    v14 = 0;
    v12 = 0x10000;
    v7 = 0x10000;
    if ( !(*(_DWORD *)(a1 + 16) & 1) )
    {
      v12 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 16);
      v7 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 20);
    }
    v4 = 0;
    v3 = 0;
    sub_1005BB00(v8, a2, 1, &v4, &v3);
    *(_DWORD *)(a1 + 52) = v4;
    *(_DWORD *)(a1 + 56) = v3;
    if ( !*(_BYTE *)(a1 + 64) )
    {
      *(_BYTE *)(a1 + 64) = 1;
      *(_DWORD *)(a1 + 60) = v3;
    }
    v9 = *(_DWORD *)(*(_DWORD *)(v8 + 656) + 4 * a2);
    v11 = 0;
    if ( a2 < (unsigned int)*(_WORD *)(v8 + 652) - 1 )
      v11 = *(_DWORD *)(*(_DWORD *)(v8 + 656) + 4 * a2 + 4) - v9;
    if ( v11 )
    {
      *(_DWORD *)(a1 + 28) = v11;
      v9 += *(_DWORD *)(a1 + 84);
      v10 = (*(int (__cdecl **)(int, unsigned int, int, int))(v8 + 520))(a1, a2, v9, v11);
      if ( !v10 )
      {
        v13 = 1;
        v10 = (*(int (__cdecl **)(int))(v8 + 528))(a1);
        if ( !v10 )
        {
          v5 = *(_WORD *)(a1 + 32);
          v11 -= 10;
          *(_DWORD *)(a1 + 68) = *(_DWORD *)(a1 + 36) - *(_DWORD *)(a1 + 52);
          *(_DWORD *)(a1 + 72) = 0;
          *(_DWORD *)(a1 + 76) = *(_DWORD *)(a1 + 56) + *(_DWORD *)(a1 + 68);
          *(_DWORD *)(a1 + 80) = 0;
          if ( !(*(_DWORD *)(a1 + 16) & 1) )
          {
            *(_DWORD *)(a1 + 68) = sub_10057C70(*(_DWORD *)(a1 + 68), v12);
            *(_DWORD *)(a1 + 76) = sub_10057C70(*(_DWORD *)(a1 + 76), v12);
          }
          if ( v5 < 0 )
          {
            v10 = 20;
          }
          else
          {
            v10 = sub_10058D10(v6, 0, v5);
            if ( !v10 )
            {
              v10 = (*(int (__cdecl **)(int))(v8 + 532))(a1);
              if ( !v10 )
              {
                v10 = sub_1005BBE0(a1);
                if ( !v10 )
                  sub_10058F10(v6);
              }
            }
          }
        }
        (*(void (__cdecl **)(int))(v8 + 524))(a1);
      }
    }
    else
    {
      *(_DWORD *)(a1 + 36) = 0;
      *(_DWORD *)(a1 + 44) = 0;
      *(_DWORD *)(a1 + 40) = 0;
      *(_DWORD *)(a1 + 48) = 0;
      *(_DWORD *)(a1 + 68) = 0;
      *(_DWORD *)(a1 + 76) = *(_DWORD *)(a1 + 56);
      if ( !(*(_DWORD *)(a1 + 16) & 1) )
        *(_DWORD *)(a1 + 76) = sub_10057C70(*(_DWORD *)(a1 + 76), v12);
      v10 = 0;
    }
  }
  else
  {
    v10 = 16;
  }
  return v10;
}

//----- (1005BB00) --------------------------------------------------------
__int16 __cdecl sub_1005BB00(int a1, unsigned int a2, char a3, _WORD *a4, _WORD *a5)
{
  __int16 result; // ax@1

  result = sub_1005BB50(a1 + 224, a2, a4, a5);
  if ( a3 )
  {
    if ( *(_DWORD *)(a1 + 488) )
    {
      result = (signed __int16)a5;
      *a5 = *(_WORD *)(a1 + 234);
    }
  }
  return result;
}

//----- (1005BB50) --------------------------------------------------------
__int16 __cdecl sub_1005BB50(int a1, unsigned int a2, _WORD *a3, _WORD *a4)
{
  __int16 result; // ax@2
  int v5; // ST04_4@4
  unsigned __int16 v6; // [sp+0h] [bp-8h]@1

  v6 = *(_WORD *)(a1 + 34);
  if ( v6 )
  {
    if ( a2 >= v6 )
    {
      *a3 = *(_WORD *)(*(_DWORD *)(a1 + 40) + 2 * (a2 - v6));
      result = (signed __int16)a4;
      *a4 = *(_WORD *)(*(_DWORD *)(a1 + 36) + 4 * v6 - 4);
    }
    else
    {
      v5 = *(_DWORD *)(a1 + 36) + 4 * a2;
      *a3 = *(_WORD *)(v5 + 2);
      result = *(_WORD *)v5;
      *a4 = *(_WORD *)v5;
    }
  }
  else
  {
    result = (signed __int16)a4;
    *a4 = 0;
    *a3 = 0;
  }
  return result;
}

//----- (1005BBE0) --------------------------------------------------------
int __cdecl sub_1005BBE0(int a1)
{
  int v1; // ST30_4@1
  int v2; // ST38_4@1
  int v3; // ST2C_4@1
  int v4; // ST20_4@1
  int v5; // edx@6
  int v6; // ecx@6
  int v7; // edx@6
  int v8; // edx@6
  int v9; // ecx@6
  int v10; // edx@6
  unsigned int v12; // [sp+0h] [bp-2Ch]@2
  signed int v13; // [sp+4h] [bp-28h]@2
  unsigned int v14; // [sp+8h] [bp-24h]@2
  signed int v15; // [sp+Ch] [bp-20h]@2
  int v16; // [sp+1Ch] [bp-10h]@1

  v1 = *(_DWORD *)(a1 + 12);
  v2 = v1 + 52;
  v3 = *(_WORD *)(v1 + 54);
  v4 = *(_DWORD *)(v1 + 56) + 8 * v3;
  *(_DWORD *)v4 = *(_DWORD *)(a1 + 36) - *(_DWORD *)(a1 + 52);
  *(_DWORD *)(v4 + 4) = 0;
  *(_DWORD *)(v4 + 8) = *(_DWORD *)(a1 + 56) + *(_DWORD *)v4;
  *(_DWORD *)(v4 + 12) = 0;
  *(_BYTE *)(*(_DWORD *)(v2 + 8) + v3) = 0;
  *(_BYTE *)(v3 + *(_DWORD *)(v2 + 8) + 1) = 0;
  v16 = v3 + 2;
  sub_1005B790(a1 + 116, v1 + 52, 0, 0);
  if ( !(*(_DWORD *)(a1 + 16) & 1) )
  {
    v14 = *(_DWORD *)(a1 + 132);
    v12 = v14 + 8 * v16;
    v15 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 16);
    v13 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 20);
    while ( v14 < v12 )
    {
      *(_DWORD *)v14 = sub_10057C70(*(_DWORD *)v14, v15);
      *(_DWORD *)(v14 + 4) = sub_10057C70(*(_DWORD *)(v14 + 4), v13);
      v14 += 8;
    }
  }
  memcpy(*(void **)(a1 + 128), *(const void **)(a1 + 132), 8 * v16);
  if ( !*(_BYTE *)(a1 + 65) )
  {
    v5 = *(_DWORD *)(a1 + 132);
    v6 = *(_DWORD *)(v5 + 8 * v16 - 16);
    v7 = *(_DWORD *)(v5 + 8 * v16 - 12);
    *(_DWORD *)(a1 + 68) = v6;
    *(_DWORD *)(a1 + 72) = v7;
    v8 = *(_DWORD *)(a1 + 132);
    v9 = *(_DWORD *)(v8 + 8 * v16 - 8);
    v10 = *(_DWORD *)(v8 + 8 * v16 - 4);
    *(_DWORD *)(a1 + 76) = v9;
    *(_DWORD *)(a1 + 80) = v10;
  }
  return 0;
}

//----- (1005BD80) --------------------------------------------------------
int __cdecl sub_1005BD80(int a1, unsigned int a2)
{
  int result; // eax@4
  int v3; // edx@5
  int v4; // eax@5
  int v5; // eax@14
  int v6; // [sp+0h] [bp-3Ch]@14
  __int16 v7; // [sp+4h] [bp-38h]@9
  int v8; // [sp+Ch] [bp-30h]@14
  unsigned __int16 v9; // [sp+10h] [bp-2Ch]@9
  int v10; // [sp+14h] [bp-28h]@5
  int v11; // [sp+18h] [bp-24h]@5
  int v12; // [sp+1Ch] [bp-20h]@16
  int v13; // [sp+20h] [bp-1Ch]@16
  int v14; // [sp+24h] [bp-18h]@7
  int v15; // [sp+28h] [bp-14h]@1
  int v16; // [sp+2Ch] [bp-10h]@1
  int v17; // [sp+30h] [bp-Ch]@1
  int v18; // [sp+34h] [bp-8h]@1
  int v19; // [sp+38h] [bp-4h]@3

  v17 = *(_DWORD *)a1;
  v15 = *(_DWORD *)(a1 + 8);
  v18 = *(_DWORD *)(a1 + 4);
  v16 = 0x10000;
  if ( !(*(_DWORD *)(a1 + 16) & 1) )
    v16 = *(_DWORD *)(v18 + 20);
  *(_DWORD *)(v15 + 124) &= 0xFFFFFDFF;
  v19 = sub_10058FD0(**(_DWORD **)(v15 + 148), *(_DWORD *)(a1 + 12));
  if ( v19 )
  {
    result = v19;
  }
  else
  {
    v3 = **(_DWORD **)(v15 + 148) + 20;
    v4 = v15 + 108;
    *(_DWORD *)v4 = *(_DWORD *)v3;
    *(_DWORD *)(v4 + 4) = *(_DWORD *)(v3 + 4);
    *(_DWORD *)(v4 + 8) = *(_DWORD *)(v3 + 8);
    *(_DWORD *)(v4 + 12) = *(_DWORD *)(v3 + 12);
    *(_DWORD *)(v4 + 16) = *(_DWORD *)(v3 + 16);
    sub_10058990(v15 + 108, -*(_DWORD *)(a1 + 68), 0);
    sub_10058880(v15 + 108, (int)&v11);
    v10 = *(_DWORD *)(a1 + 60);
    if ( *(_DWORD *)(v17 + 488) )
      v10 = *(_WORD *)(v17 + 234);
    *(_DWORD *)(v15 + 56) = v10;
    *(_DWORD *)(v15 + 32) = v11;
    *(_DWORD *)(v15 + 36) = v14;
    *(_DWORD *)(v15 + 40) = *(_DWORD *)(a1 + 76) - *(_DWORD *)(a1 + 68);
    if ( *(_BYTE *)(v17 + 304) && (signed int)*(_WORD *)(v17 + 342) > 0 )
    {
      sub_1005BB50(v17 + 308, a2, &v7, &v9);
    }
    else if ( *(_WORD *)(v17 + 376) == 0xFFFF )
    {
      v7 = *(_WORD *)(v17 + 232) / 2;
      v9 = *(_WORD *)(v17 + 232) + *(_WORD *)(v17 + 230) + *(_WORD *)(v17 + 228);
    }
    else
    {
      v7 = *(_WORD *)(v17 + 450) / 2;
      v9 = *(_WORD *)(v17 + 450) + *(_WORD *)(v17 + 446) - *(_WORD *)(v17 + 448);
    }
    if ( *(_DWORD *)(a1 + 16) & 1 )
    {
      v6 = *(_DWORD *)(a1 + 48) + v7 - v14;
      v8 = v9;
    }
    else
    {
      v5 = sub_10057C70(*(_DWORD *)(a1 + 48) + v7, v16);
      v6 = v5 - v14;
      v8 = sub_10057C70(v9, v16);
    }
    *(_DWORD *)(v15 + 60) = v9;
    *(_DWORD *)(v15 + 44) = (v11 - v13) / 2;
    *(_DWORD *)(v15 + 48) = v6;
    *(_DWORD *)(v15 + 52) = v8;
    *(_DWORD *)(v15 + 24) = v13 - v11;
    *(_DWORD *)(v15 + 28) = v14 - v12;
    result = 0;
  }
  return result;
}

//----- (1005C010) --------------------------------------------------------
signed int __cdecl sub_1005C010(int a1, int a2, int a3, int a4, int a5)
{
  signed int v6; // [sp+0h] [bp-10h]@13
  int v7; // [sp+4h] [bp-Ch]@1
  signed int v8; // [sp+8h] [bp-8h]@2

  v7 = sub_1005AAF0(*(_DWORD *)(*(_DWORD *)(a2 + 104) + 4), "sfnt");
  if ( !v7 )
    goto LABEL_21;
  v8 = sub_10057220(a1, 0);
  if ( v8 )
    return v8;
  v8 = (*(int (__cdecl **)(int, int, int, int, int))(v7 + 4))(a1, a2, a3, a4, a5);
  if ( v8 )
    return v8;
  if ( *(_DWORD *)(a2 + 156) == 0x10000 || *(_DWORD *)(a2 + 156) == 1953658213 )
  {
    if ( a3 < 0 )
      return 0;
    v8 = (*(int (__cdecl **)(int, int, int, int, int))(v7 + 8))(a1, a2, a3, a4, a5);
    if ( !v8 )
    {
      if ( *(_DWORD *)(a2 + 8) & 1 )
      {
        v6 = sub_1005C170(a2, a1) || sub_1005C360(a2, a1) || sub_1005C480(a2, a1);
        v8 = v6;
      }
      sub_1005C5A0(a2);
    }
  }
  else
  {
LABEL_21:
    v8 = 2;
  }
  return v8;
}

//----- (1005C170) --------------------------------------------------------
int __cdecl sub_1005C170(int a1, int a2)
{
  unsigned int v3; // [sp+0h] [bp-20h]@12
  _DWORD *v4; // [sp+4h] [bp-1Ch]@12
  unsigned int v5; // [sp+8h] [bp-18h]@6
  int *v6; // [sp+Ch] [bp-14h]@6
  int v7; // [sp+10h] [bp-10h]@1
  __int16 v8; // [sp+14h] [bp-Ch]@1
  int v9; // [sp+18h] [bp-8h]@2
  unsigned int v10; // [sp+1Ch] [bp-4h]@1

  v7 = *(_DWORD *)(a2 + 28);
  v8 = *(_WORD *)(a1 + 218);
  if ( (*(int (__cdecl **)(int, signed int, int, unsigned int *))(a1 + 516))(a1, 1819239265, a2, &v10) )
  {
    v9 = 144;
  }
  else if ( v8 )
  {
    *(_WORD *)(a1 + 652) = v10 >> 2;
    v9 = sub_10056F50(v7, 4 * *(_WORD *)(a1 + 652), a1 + 656);
    if ( !v9 )
    {
      v9 = sub_100573C0(a2, 4 * *(_WORD *)(a1 + 652));
      if ( !v9 )
      {
        v6 = *(int **)(a1 + 656);
        v5 = (unsigned int)&v6[*(_WORD *)(a1 + 652)];
        while ( (unsigned int)v6 < v5 )
        {
          *v6 = sub_10057570(a2);
          ++v6;
        }
        sub_10057490(a2);
      }
    }
  }
  else
  {
    *(_WORD *)(a1 + 652) = v10 >> 1;
    v9 = sub_10056F50(v7, 4 * *(_WORD *)(a1 + 652), a1 + 656);
    if ( !v9 )
    {
      v9 = sub_100573C0(a2, 2 * *(_WORD *)(a1 + 652));
      if ( !v9 )
      {
        v4 = *(_DWORD **)(a1 + 656);
        v3 = (unsigned int)&v4[*(_WORD *)(a1 + 652)];
        while ( (unsigned int)v4 < v3 )
        {
          *v4 = 2 * (unsigned __int16)sub_10057510(a2);
          ++v4;
        }
        sub_10057490(a2);
      }
    }
  }
  return v9;
}

//----- (1005C360) --------------------------------------------------------
int __cdecl sub_1005C360(int a1, int a2)
{
  unsigned int v3; // [sp+0h] [bp-14h]@5
  __int16 *v4; // [sp+4h] [bp-10h]@5
  int v5; // [sp+8h] [bp-Ch]@1
  int v6; // [sp+Ch] [bp-8h]@2
  unsigned int v7; // [sp+10h] [bp-4h]@1

  v5 = *(_DWORD *)(a2 + 28);
  if ( (*(int (__cdecl **)(int, signed int, int, unsigned int *))(a1 + 516))(a1, 1668707360, a2, &v7) )
  {
    *(_DWORD *)(a1 + 676) = 0;
    *(_DWORD *)(a1 + 680) = 0;
    v6 = 0;
  }
  else
  {
    *(_DWORD *)(a1 + 676) = v7 >> 1;
    v6 = sub_10056F50(v5, 2 * *(_DWORD *)(a1 + 676), a1 + 680);
    if ( !v6 )
    {
      v6 = sub_100573C0(a2, 2 * *(_DWORD *)(a1 + 676));
      if ( !v6 )
      {
        v4 = *(__int16 **)(a1 + 680);
        v3 = (unsigned int)&v4[*(_DWORD *)(a1 + 676)];
        while ( (unsigned int)v4 < v3 )
        {
          *v4 = sub_10057510(a2);
          ++v4;
        }
        sub_10057490(a2);
      }
    }
  }
  return v6;
}

//----- (1005C480) --------------------------------------------------------
int __cdecl sub_1005C480(int a1, int a2)
{
  int v3; // [sp+0h] [bp-8h]@3
  size_t v4; // [sp+4h] [bp-4h]@1

  if ( (*(int (__cdecl **)(int, signed int, int, size_t *))(a1 + 516))(a1, 1718642541, a2, &v4) )
  {
    *(_DWORD *)(a1 + 664) = 0;
    *(_DWORD *)(a1 + 660) = 0;
  }
  else
  {
    *(_DWORD *)(a1 + 660) = v4;
    v3 = sub_10057330(a2, v4, a1 + 664);
    if ( v3 )
      return v3;
  }
  if ( (*(int (__cdecl **)(int, signed int, int, size_t *))(a1 + 516))(a1, 1886545264, a2, &v4) )
  {
    *(_DWORD *)(a1 + 672) = 0;
    *(_DWORD *)(a1 + 668) = 0;
    v3 = 0;
  }
  else
  {
    *(_DWORD *)(a1 + 668) = v4;
    v3 = sub_10057330(a2, v4, a1 + 672);
  }
  return v3;
}

//----- (1005C5A0) --------------------------------------------------------
int __cdecl sub_1005C5A0(int a1)
{
  int result; // eax@1

  *(_DWORD *)(a1 + 520) = sub_1005C5F0;
  *(_DWORD *)(a1 + 528) = sub_1005C670;
  *(_DWORD *)(a1 + 532) = sub_1005C720;
  result = a1;
  *(_DWORD *)(a1 + 536) = 0;
  *(_DWORD *)(a1 + 524) = sub_1005C650;
  return result;
}

//----- (1005C5F0) --------------------------------------------------------
int __cdecl sub_1005C5F0(int a1, int a2, int a3, size_t a4)
{
  int result; // eax@3
  signed int v5; // [sp+0h] [bp-8h]@1
  int v6; // [sp+4h] [bp-4h]@1

  v6 = *(_DWORD *)(a1 + 24);
  v5 = sub_10057220(v6, a3);
  if ( v5 || (v5 = sub_100573C0(v6, a4)) != 0 )
    result = v5;
  else
    result = 0;
  return result;
}

//----- (1005C650) --------------------------------------------------------
int __cdecl sub_1005C650(int a1)
{
  return sub_10057490(*(_DWORD *)(a1 + 24));
}

//----- (1005C670) --------------------------------------------------------
signed int __cdecl sub_1005C670(int a1)
{
  signed int result; // eax@2
  int v2; // [sp+0h] [bp-8h]@1
  int v3; // [sp+4h] [bp-4h]@1

  v3 = *(_DWORD *)(a1 + 24);
  v2 = *(_DWORD *)(a1 + 28) - 10;
  if ( v2 >= 0 )
  {
    *(_WORD *)(a1 + 32) = sub_10057510(v3);
    *(_DWORD *)(a1 + 36) = sub_10057510(v3);
    *(_DWORD *)(a1 + 40) = sub_10057510(v3);
    *(_DWORD *)(a1 + 44) = sub_10057510(v3);
    *(_DWORD *)(a1 + 48) = sub_10057510(v3);
    *(_DWORD *)(a1 + 28) = v2;
    result = 0;
  }
  else
  {
    result = 20;
  }
  return result;
}

//----- (1005C720) --------------------------------------------------------
signed int __cdecl sub_1005C720(int a1)
{
  int v2; // [sp+0h] [bp-58h]@47
  int v3; // [sp+4h] [bp-54h]@38
  int v4; // [sp+8h] [bp-50h]@4
  int v5; // [sp+Ch] [bp-4Ch]@1
  int v6; // [sp+Ch] [bp-4Ch]@13
  __int16 v7; // [sp+10h] [bp-48h]@11
  char *v8; // [sp+14h] [bp-44h]@15
  _BYTE *j; // [sp+14h] [bp-44h]@24
  _BYTE *v10; // [sp+14h] [bp-44h]@36
  _BYTE *v11; // [sp+14h] [bp-44h]@45
  char v12; // [sp+1Bh] [bp-3Dh]@18
  int v13; // [sp+1Ch] [bp-3Ch]@1
  int v14; // [sp+20h] [bp-38h]@1
  int v15; // [sp+24h] [bp-34h]@1
  unsigned int v16; // [sp+28h] [bp-30h]@36
  unsigned int v17; // [sp+28h] [bp-30h]@45
  int v18; // [sp+2Ch] [bp-2Ch]@6
  int v19; // [sp+30h] [bp-28h]@1
  unsigned int v20; // [sp+34h] [bp-24h]@15
  __int16 *v21; // [sp+38h] [bp-20h]@1
  _WORD *i; // [sp+38h] [bp-20h]@7
  unsigned int v23; // [sp+3Ch] [bp-1Ch]@1
  int v24; // [sp+40h] [bp-18h]@1
  int k; // [sp+44h] [bp-14h]@54
  int v26; // [sp+48h] [bp-10h]@36
  int v27; // [sp+48h] [bp-10h]@45
  char v28; // [sp+4Fh] [bp-9h]@20
  _DWORD *v29; // [sp+50h] [bp-8h]@36
  unsigned int v30; // [sp+50h] [bp-8h]@45

  v24 = *(_DWORD *)(a1 + 24);
  v13 = *(_DWORD *)(a1 + 12);
  v19 = *(_WORD *)(a1 + 32);
  v15 = *(_DWORD *)a1;
  v14 = *(_DWORD *)(a1 + 8);
  v21 = *(__int16 **)(v13 + 64);
  v23 = (unsigned int)&v21[v19];
  v5 = *(_DWORD *)(a1 + 28) - (2 * v19 + 2);
  if ( v5 < 0 )
    goto LABEL_59;
  while ( (unsigned int)v21 < v23 )
  {
    *v21 = sub_10057510(v24);
    ++v21;
  }
  v4 = 0;
  if ( v19 > 0 )
    v4 = *(v21 - 1) + 1;
  v18 = sub_10058D10(v13, v4 + 2, 0);
  if ( !v18 )
  {
    for ( i = (_WORD *)(*(_DWORD *)(v13 + 64) + 2); (unsigned int)i < v23; ++i )
    {
      if ( *(i - 1) >= (signed int)*i )
        goto LABEL_59;
    }
    *(_DWORD *)(v14 + 140) = 0;
    *(_DWORD *)(v14 + 136) = 0;
    v7 = sub_10057510(v24);
    if ( (unsigned __int16)v7 > (signed int)*(_WORD *)(v15 + 294) )
      return 22;
    v6 = v5 - (unsigned __int16)v7;
    if ( v6 < 0 )
      return 22;
    *(_DWORD *)(v24 + 32) += (unsigned __int16)v7;
    v8 = *(char **)(v13 + 60);
    v20 = (unsigned int)&v8[v4];
    while ( (unsigned int)v8 < v20 )
    {
      if ( --v6 < 0 )
        goto LABEL_59;
      v12 = sub_100574D0(v24);
      *v8++ = v12;
      if ( v12 & 8 )
      {
        if ( --v6 < 0 )
          goto LABEL_59;
        v28 = sub_100574D0(v24);
        if ( (unsigned int)&v8[(unsigned __int8)v28] > v20 )
          goto LABEL_59;
        while ( (signed int)(unsigned __int8)v28 > 0 )
        {
          *v8++ = v12;
          --v28;
        }
      }
    }
    for ( j = *(_BYTE **)(v13 + 60); (unsigned int)j < v20; ++j )
    {
      if ( *j & 2 )
      {
        --v6;
      }
      else if ( !(*j & 0x10) )
      {
        v6 -= 2;
      }
      if ( *j & 4 )
      {
        --v6;
      }
      else if ( !(*j & 0x20) )
      {
        v6 -= 2;
      }
    }
    if ( v6 >= 0 )
    {
      v29 = *(_DWORD **)(v13 + 56);
      v16 = (unsigned int)&v29[2 * v4];
      v10 = *(_BYTE **)(v13 + 60);
      v26 = 0;
      while ( (unsigned int)v29 < v16 )
      {
        v3 = 0;
        if ( *v10 & 2 )
        {
          v3 = (unsigned __int8)sub_100574D0(v24);
          if ( !(*v10 & 0x10) )
            v3 = -v3;
        }
        else if ( !(*v10 & 0x10) )
        {
          v3 = sub_10057510(v24);
        }
        v26 += v3;
        *v29 = v26;
        v29 += 2;
        ++v10;
      }
      v30 = *(_DWORD *)(v13 + 56);
      v17 = v30 + 8 * v4;
      v11 = *(_BYTE **)(v13 + 60);
      v27 = 0;
      while ( v30 < v17 )
      {
        v2 = 0;
        if ( *v11 & 4 )
        {
          v2 = (unsigned __int8)sub_100574D0(v24);
          if ( !(*v11 & 0x20) )
            v2 = -v2;
        }
        else if ( !(*v11 & 0x20) )
        {
          v2 = sub_10057510(v24);
        }
        v27 += v2;
        *(_DWORD *)(v30 + 4) = v27;
        v30 += 8;
        ++v11;
      }
      for ( k = 0; k < v4; ++k )
        *(_BYTE *)(*(_DWORD *)(v13 + 60) + k) &= 1u;
      *(_WORD *)(v13 + 54) = v4;
      *(_WORD *)(v13 + 52) = v19;
      *(_DWORD *)(a1 + 28) = v6;
      return v18;
    }
LABEL_59:
    v18 = 20;
  }
  return v18;
}

//----- (1005CBA0) --------------------------------------------------------
int __cdecl sub_1005CBA0(int a1)
{
  int result; // eax@4
  int v2; // [sp+0h] [bp-Ch]@2
  int v3; // [sp+4h] [bp-8h]@2
  int v4; // [sp+8h] [bp-4h]@2

  if ( a1 )
  {
    v2 = *(_DWORD *)(a1 + 108);
    v4 = *(_DWORD *)(a1 + 112);
    v3 = *(_DWORD *)(a1 + 540);
    if ( v3 )
      (*(void (__cdecl **)(int))(v3 + 12))(a1);
    sub_10057070(v2, (_DWORD *)(a1 + 656));
    *(_WORD *)(a1 + 652) = 0;
    sub_10057070(v2, (_DWORD *)(a1 + 680));
    *(_DWORD *)(a1 + 676) = 0;
    sub_10057380(v4, (_DWORD *)(a1 + 664));
    result = sub_10057380(v4, (_DWORD *)(a1 + 672));
    *(_DWORD *)(a1 + 660) = 0;
    *(_DWORD *)(a1 + 668) = 0;
  }
  return result;
}

//----- (1005CC70) --------------------------------------------------------
int __cdecl sub_1005CC70(int a1)
{
  *(_BYTE *)(a1 + 108) = 0;
  return 0;
}

//----- (1005CC90) --------------------------------------------------------
int __cdecl sub_1005CC90(int a1)
{
  int result; // eax@1

  result = a1;
  *(_BYTE *)(a1 + 108) = 0;
  return result;
}

//----- (1005CCA0) --------------------------------------------------------
signed int __cdecl sub_1005CCA0(int a1)
{
  signed int result; // eax@5
  int v2; // [sp+0h] [bp-8h]@1
  signed int v3; // [sp+4h] [bp-4h]@1

  v3 = 0;
  v2 = *(_DWORD *)a1;
  if ( !(*(_DWORD *)(*(_DWORD *)a1 + 8) & 1) )
    goto LABEL_11;
  if ( !*(_BYTE *)(a1 + 108) )
    v3 = sub_1005CD00(a1);
  if ( v3 )
  {
    result = v3;
  }
  else
  {
LABEL_11:
    if ( *(_DWORD *)(v2 + 8) & 1 )
      result = 0;
    else
      result = v3;
  }
  return result;
}

//----- (1005CD00) --------------------------------------------------------
signed int __cdecl sub_1005CD00(int a1)
{
  signed int result; // eax@2
  int v2; // [sp+0h] [bp-Ch]@3

  if ( *(_BYTE *)(a1 + 108) )
  {
    result = 0;
  }
  else
  {
    v2 = *(_DWORD *)a1;
    if ( (signed int)*(_WORD *)(a1 + 44) >= 1 && (signed int)*(_WORD *)(a1 + 46) >= 1 )
    {
      if ( *(_WORD *)(a1 + 44) < (signed int)*(_WORD *)(a1 + 46) )
      {
        *(_DWORD *)(a1 + 88) = *(_DWORD *)(a1 + 52);
        *(_WORD *)(a1 + 80) = *(_WORD *)(a1 + 46);
        *(_DWORD *)(a1 + 72) = sub_10057980(*(_WORD *)(a1 + 44), 0x10000, *(_WORD *)(a1 + 46));
        *(_DWORD *)(a1 + 76) = 0x10000;
      }
      else
      {
        *(_DWORD *)(a1 + 88) = *(_DWORD *)(a1 + 48);
        *(_WORD *)(a1 + 80) = *(_WORD *)(a1 + 44);
        *(_DWORD *)(a1 + 72) = 0x10000;
        *(_DWORD *)(a1 + 76) = sub_10057980(*(_WORD *)(a1 + 46), 0x10000, *(_WORD *)(a1 + 44));
      }
      *(_DWORD *)(a1 + 56) = (sub_10057C70(*(_WORD *)(v2 + 78), *(_DWORD *)(a1 + 52)) + 32) & 0xFFFFFFC0;
      *(_DWORD *)(a1 + 60) = (sub_10057C70(*(_WORD *)(v2 + 80), *(_DWORD *)(a1 + 52)) + 32) & 0xFFFFFFC0;
      *(_DWORD *)(a1 + 64) = (sub_10057C70(*(_WORD *)(v2 + 82), *(_DWORD *)(a1 + 52)) + 32) & 0xFFFFFFC0;
      *(_DWORD *)(a1 + 68) = (sub_10057C70(*(_WORD *)(v2 + 84), *(_DWORD *)(a1 + 48)) + 32) & 0xFFFFFFC0;
      *(_BYTE *)(a1 + 108) = 1;
      result = 0;
    }
    else
    {
      result = 151;
    }
  }
  return result;
}

//----- (1005CE90) --------------------------------------------------------
int __cdecl sub_1005CE90(int a1)
{
  return sub_10058C40(*(_DWORD *)(a1 + 36));
}

//----- (1005CEB0) --------------------------------------------------------
signed int __cdecl sub_1005CEB0(int a1, int a2, int a3, _DWORD *a4)
{
  unsigned int v5; // [sp+0h] [bp-8h]@1
  signed int v6; // [sp+4h] [bp-4h]@4

  v5 = sub_1005CF10(a1, a2);
  if ( v5 )
  {
    if ( a4 )
      *a4 = *(_DWORD *)(v5 + 12);
    v6 = sub_10057220(a3, *(_DWORD *)(v5 + 8));
  }
  else
  {
    v6 = 142;
  }
  return v6;
}

//----- (1005CF10) --------------------------------------------------------
unsigned int __cdecl sub_1005CF10(int a1, int a2)
{
  unsigned int v3; // [sp+0h] [bp-8h]@1
  unsigned int v4; // [sp+4h] [bp-4h]@1

  v3 = *(_DWORD *)(a1 + 164);
  v4 = v3 + 16 * *(_WORD *)(a1 + 160);
  while ( v3 < v4 )
  {
    if ( *(_DWORD *)v3 == a2 && *(_DWORD *)(v3 + 12) )
      return v3;
    v3 += 16;
  }
  return 0;
}

//----- (1005CF80) --------------------------------------------------------
int __cdecl sub_1005CF80(int a1, int a2, int a3, int a4)
{
  int v5; // [sp+0h] [bp-Ch]@1
  int v6; // [sp+4h] [bp-8h]@1
  int v7; // [sp+8h] [bp-4h]@1

  *(_DWORD *)(a1 + 140) = 0;
  *(_DWORD *)(a1 + 144) = 0;
  *(_DWORD *)(a1 + 148) = 0;
  *(_WORD *)(a1 + 160) = 0;
  v5 = sub_10057290(a2);
  v7 = sub_10057650(a2, &v6);
  if ( !v6 )
  {
    if ( v7 == 1953784678 )
    {
      v6 = 132;
    }
    else
    {
      *(_DWORD *)a4 = v7;
      *(_DWORD *)(a4 + 12) = v5;
      v6 = sub_10057710(a2, (int)&unk_100DDE08, a4);
    }
  }
  return v6;
}

//----- (1005D030) --------------------------------------------------------
signed int __cdecl sub_1005D030(int a1, int a2, int a3)
{
  int v3; // ST0C_4@1
  unsigned int v5; // [sp+4h] [bp-Ch]@5
  unsigned int v6; // [sp+8h] [bp-8h]@5
  signed int v7; // [sp+Ch] [bp-4h]@1

  v3 = *(_DWORD *)(a2 + 28);
  *(_WORD *)(a1 + 160) = *(_WORD *)(a3 + 4);
  v7 = sub_10056F50(v3, 16 * *(_WORD *)(a1 + 160), a1 + 164);
  if ( !v7 )
  {
    v7 = sub_10057220(a2, *(_DWORD *)(a3 + 12) + 12);
    if ( !v7 )
    {
      v7 = sub_100573C0(a2, 16 * *(_WORD *)(a1 + 160));
      if ( !v7 )
      {
        v5 = *(_DWORD *)(a1 + 164);
        v6 = v5 + 16 * *(_WORD *)(a1 + 160);
        while ( v5 < v6 )
        {
          *(_DWORD *)v5 = sub_10057570(a2);
          *(_DWORD *)(v5 + 4) = sub_10057570(a2);
          *(_DWORD *)(v5 + 8) = sub_10057570(a2);
          *(_DWORD *)(v5 + 12) = sub_10057570(a2);
          v5 += 16;
        }
        sub_10057490(a2);
      }
    }
  }
  return v7;
}

//----- (1005D170) --------------------------------------------------------
signed int __cdecl sub_1005D170(int a1, int a2)
{
  return sub_1005D190(a1, a2, 1751474532);
}

//----- (1005D190) --------------------------------------------------------
signed int __cdecl sub_1005D190(int a1, int a2, int a3)
{
  signed int v4; // [sp+4h] [bp-4h]@1

  v4 = (*(int (__cdecl **)(int, int, int, _DWORD))(a1 + 516))(a1, a3, a2, 0);
  if ( !v4 )
    v4 = sub_10057710(a2, (int)&unk_100DDE20, a1 + 168);
  return v4;
}

//----- (1005D210) --------------------------------------------------------
int __cdecl sub_1005D210(int a1, int a2)
{
  __int16 v3; // [sp+0h] [bp-5Ch]@11
  __int16 v4; // [sp+4h] [bp-58h]@8
  char v5; // [sp+8h] [bp-54h]@1
  char v6; // [sp+9h] [bp-53h]@1
  __int16 v7; // [sp+Ah] [bp-52h]@1
  char v8; // [sp+Ch] [bp-50h]@1
  char v9; // [sp+Dh] [bp-4Fh]@1
  __int16 v10; // [sp+Eh] [bp-4Eh]@1
  char v11; // [sp+10h] [bp-4Ch]@1
  char v12; // [sp+11h] [bp-4Bh]@1
  __int16 v13; // [sp+12h] [bp-4Ah]@1
  char v14; // [sp+14h] [bp-48h]@1
  char v15; // [sp+15h] [bp-47h]@1
  __int16 v16; // [sp+16h] [bp-46h]@1
  char v17; // [sp+18h] [bp-44h]@1
  char v18; // [sp+19h] [bp-43h]@1
  __int16 v19; // [sp+1Ah] [bp-42h]@1
  char v20; // [sp+1Ch] [bp-40h]@1
  char v21; // [sp+1Dh] [bp-3Fh]@1
  __int16 v22; // [sp+1Eh] [bp-3Eh]@1
  char v23; // [sp+20h] [bp-3Ch]@1
  char v24; // [sp+21h] [bp-3Bh]@1
  __int16 v25; // [sp+22h] [bp-3Ah]@1
  char v26; // [sp+24h] [bp-38h]@1
  char v27; // [sp+25h] [bp-37h]@1
  __int16 v28; // [sp+26h] [bp-36h]@1
  char v29; // [sp+28h] [bp-34h]@1
  char v30; // [sp+29h] [bp-33h]@1
  __int16 v31; // [sp+2Ah] [bp-32h]@1
  char v32; // [sp+2Ch] [bp-30h]@1
  char v33; // [sp+2Dh] [bp-2Fh]@1
  __int16 v34; // [sp+2Eh] [bp-2Eh]@1
  char v35; // [sp+30h] [bp-2Ch]@1
  char v36; // [sp+31h] [bp-2Bh]@1
  __int16 v37; // [sp+32h] [bp-2Ah]@1
  char v38; // [sp+34h] [bp-28h]@1
  char v39; // [sp+35h] [bp-27h]@1
  __int16 v40; // [sp+36h] [bp-26h]@1
  char v41; // [sp+38h] [bp-24h]@1
  char v42; // [sp+39h] [bp-23h]@1
  __int16 v43; // [sp+3Ah] [bp-22h]@1
  char v44; // [sp+3Ch] [bp-20h]@1
  char v45; // [sp+3Dh] [bp-1Fh]@1
  __int16 v46; // [sp+3Eh] [bp-1Eh]@1
  char v47; // [sp+40h] [bp-1Ch]@1
  char v48; // [sp+41h] [bp-1Bh]@1
  __int16 v49; // [sp+42h] [bp-1Ah]@1
  int v50; // [sp+44h] [bp-18h]@1
  char v51; // [sp+48h] [bp-14h]@1
  char v52; // [sp+49h] [bp-13h]@1
  __int16 v53; // [sp+4Ah] [bp-12h]@1
  char v54; // [sp+4Ch] [bp-10h]@1
  char v55; // [sp+4Dh] [bp-Fh]@1
  __int16 v56; // [sp+4Eh] [bp-Eh]@1
  char v57; // [sp+50h] [bp-Ch]@1
  char v58; // [sp+51h] [bp-Bh]@1
  __int16 v59; // [sp+52h] [bp-Ah]@1
  char v60; // [sp+54h] [bp-8h]@1
  char v61; // [sp+55h] [bp-7h]@1
  __int16 v62; // [sp+56h] [bp-6h]@1
  int v63; // [sp+58h] [bp-4h]@1

  v63 = a1 + 268;
  v51 = 4;
  v52 = 0;
  v53 = 6;
  v54 = 17;
  v55 = 4;
  v56 = 0;
  v57 = 12;
  v58 = 2;
  v59 = 4;
  v60 = 0;
  v61 = 0;
  v62 = 0;
  v5 = 4;
  v6 = 0;
  v7 = 26;
  v8 = 12;
  v9 = 2;
  v10 = 6;
  v11 = 12;
  v12 = 2;
  v13 = 8;
  v14 = 12;
  v15 = 2;
  v16 = 10;
  v17 = 12;
  v18 = 2;
  v19 = 12;
  v20 = 12;
  v21 = 2;
  v22 = 14;
  v23 = 12;
  v24 = 2;
  v25 = 16;
  v26 = 12;
  v27 = 2;
  v28 = 18;
  v29 = 12;
  v30 = 2;
  v31 = 20;
  v32 = 12;
  v33 = 2;
  v34 = 22;
  v35 = 12;
  v36 = 2;
  v37 = 24;
  v38 = 12;
  v39 = 2;
  v40 = 26;
  v41 = 12;
  v42 = 2;
  v43 = 28;
  v44 = 12;
  v45 = 2;
  v46 = 30;
  v47 = 0;
  v48 = 0;
  v49 = 0;
  v50 = (*(int (__cdecl **)(int, signed int, int, _DWORD))(a1 + 516))(a1, 1835104368, a2, 0);
  if ( !v50 )
  {
    v50 = sub_10057710(a2, (int)&v51, v63);
    if ( !v50 )
    {
      *(_WORD *)(v63 + 6) = 0;
      *(_WORD *)(v63 + 8) = 0;
      *(_WORD *)(v63 + 10) = 0;
      *(_WORD *)(v63 + 12) = 0;
      *(_WORD *)(v63 + 14) = 0;
      *(_WORD *)(v63 + 16) = 0;
      *(_WORD *)(v63 + 18) = 0;
      *(_WORD *)(v63 + 20) = 0;
      *(_WORD *)(v63 + 22) = 0;
      *(_WORD *)(v63 + 24) = 0;
      *(_WORD *)(v63 + 26) = 0;
      *(_WORD *)(v63 + 28) = 0;
      *(_WORD *)(v63 + 30) = 0;
      if ( *(_DWORD *)v63 >= 0x10000 )
      {
        v50 = sub_10057710(a2, (int)&v5, v63);
        if ( !v50 )
        {
          if ( !*(_WORD *)(v63 + 20) )
            *(_WORD *)(v63 + 20) = 64;
          *(_DWORD *)(a1 + 16) = *(_WORD *)(v63 + 4);
          if ( *(_WORD *)(v63 + 10) <= (signed int)*(_WORD *)(v63 + 6) )
            v4 = *(_WORD *)(v63 + 6);
          else
            v4 = *(_WORD *)(v63 + 10);
          **(_WORD **)(a1 + 136) = v4;
          if ( *(_WORD *)(v63 + 12) <= (signed int)*(_WORD *)(v63 + 8) )
            v3 = *(_WORD *)(v63 + 8);
          else
            v3 = *(_WORD *)(v63 + 12);
          *(_WORD *)(*(_DWORD *)(a1 + 136) + 2) = v3;
          *(_DWORD *)(a1 + 300) = *(_WORD *)(v63 + 30) + *(_WORD *)(v63 + 28);
          if ( !*(_DWORD *)(a1 + 300) )
            *(_DWORD *)(a1 + 300) = 16;
          **(_WORD **)(a1 + 136) += 8;
          *(_WORD *)(*(_DWORD *)(a1 + 136) + 2) += 4;
        }
      }
    }
  }
  return v50;
}

//----- (1005D530) --------------------------------------------------------
signed int __cdecl sub_1005D530(int a1, int a2, char a3)
{
  signed int v3; // eax@4
  int v5; // [sp+0h] [bp-58h]@4
  signed int v6; // [sp+4h] [bp-54h]@3
  char v7; // [sp+8h] [bp-50h]@1
  char v8; // [sp+9h] [bp-4Fh]@1
  __int16 v9; // [sp+Ah] [bp-4Eh]@1
  char v10; // [sp+Ch] [bp-4Ch]@1
  char v11; // [sp+Dh] [bp-4Bh]@1
  __int16 v12; // [sp+Eh] [bp-4Ah]@1
  char v13; // [sp+10h] [bp-48h]@1
  char v14; // [sp+11h] [bp-47h]@1
  __int16 v15; // [sp+12h] [bp-46h]@1
  char v16; // [sp+14h] [bp-44h]@1
  char v17; // [sp+15h] [bp-43h]@1
  __int16 v18; // [sp+16h] [bp-42h]@1
  char v19; // [sp+18h] [bp-40h]@1
  char v20; // [sp+19h] [bp-3Fh]@1
  __int16 v21; // [sp+1Ah] [bp-3Eh]@1
  char v22; // [sp+1Ch] [bp-3Ch]@1
  char v23; // [sp+1Dh] [bp-3Bh]@1
  __int16 v24; // [sp+1Eh] [bp-3Ah]@1
  char v25; // [sp+20h] [bp-38h]@1
  char v26; // [sp+21h] [bp-37h]@1
  __int16 v27; // [sp+22h] [bp-36h]@1
  char v28; // [sp+24h] [bp-34h]@1
  char v29; // [sp+25h] [bp-33h]@1
  __int16 v30; // [sp+26h] [bp-32h]@1
  char v31; // [sp+28h] [bp-30h]@1
  char v32; // [sp+29h] [bp-2Fh]@1
  __int16 v33; // [sp+2Ah] [bp-2Eh]@1
  char v34; // [sp+2Ch] [bp-2Ch]@1
  char v35; // [sp+2Dh] [bp-2Bh]@1
  __int16 v36; // [sp+2Eh] [bp-2Ah]@1
  char v37; // [sp+30h] [bp-28h]@1
  char v38; // [sp+31h] [bp-27h]@1
  __int16 v39; // [sp+32h] [bp-26h]@1
  char v40; // [sp+34h] [bp-24h]@1
  char v41; // [sp+35h] [bp-23h]@1
  __int16 v42; // [sp+36h] [bp-22h]@1
  char v43; // [sp+38h] [bp-20h]@1
  char v44; // [sp+39h] [bp-1Fh]@1
  __int16 v45; // [sp+3Ah] [bp-1Eh]@1
  char v46; // [sp+3Ch] [bp-1Ch]@1
  char v47; // [sp+3Dh] [bp-1Bh]@1
  __int16 v48; // [sp+3Eh] [bp-1Ah]@1
  char v49; // [sp+40h] [bp-18h]@1
  char v50; // [sp+41h] [bp-17h]@1
  __int16 v51; // [sp+42h] [bp-16h]@1
  char v52; // [sp+44h] [bp-14h]@1
  char v53; // [sp+45h] [bp-13h]@1
  __int16 v54; // [sp+46h] [bp-12h]@1
  char v55; // [sp+48h] [bp-10h]@1
  char v56; // [sp+49h] [bp-Fh]@1
  __int16 v57; // [sp+4Ah] [bp-Eh]@1
  char v58; // [sp+4Ch] [bp-Ch]@1
  char v59; // [sp+4Dh] [bp-Bh]@1
  __int16 v60; // [sp+4Eh] [bp-Ah]@1
  char v61; // [sp+50h] [bp-8h]@1
  char v62; // [sp+51h] [bp-7h]@1
  __int16 v63; // [sp+52h] [bp-6h]@1

  v7 = 4;
  v8 = 0;
  v9 = 36;
  v10 = 16;
  v11 = 4;
  v12 = 0;
  v13 = 13;
  v14 = 2;
  v15 = 4;
  v16 = 13;
  v17 = 2;
  v18 = 6;
  v19 = 13;
  v20 = 2;
  v21 = 8;
  v22 = 12;
  v23 = 2;
  v24 = 10;
  v25 = 13;
  v26 = 2;
  v27 = 12;
  v28 = 13;
  v29 = 2;
  v30 = 14;
  v31 = 13;
  v32 = 2;
  v33 = 16;
  v34 = 13;
  v35 = 2;
  v36 = 18;
  v37 = 13;
  v38 = 2;
  v39 = 20;
  v40 = 13;
  v41 = 2;
  v42 = 22;
  v43 = 13;
  v44 = 2;
  v45 = 24;
  v46 = 13;
  v47 = 2;
  v48 = 26;
  v49 = 13;
  v50 = 2;
  v51 = 28;
  v52 = 13;
  v53 = 2;
  v54 = 30;
  v55 = 13;
  v56 = 2;
  v57 = 32;
  v58 = 12;
  v59 = 2;
  v60 = 34;
  v61 = 0;
  v62 = 0;
  v63 = 0;
  if ( a3 )
  {
    *(_BYTE *)(a1 + 304) = 0;
    if ( (*(int (__cdecl **)(int, signed int, int, _DWORD))(a1 + 516))(a1, 1986553185, a2, 0) )
      return 0;
    *(_BYTE *)(a1 + 304) = 1;
    v5 = a1 + 308;
    v3 = sub_10057710(a2, (int)&v7, a1 + 308);
  }
  else
  {
    if ( (*(int (__cdecl **)(int, signed int, int, _DWORD))(a1 + 516))(a1, 1751672161, a2, 0) )
      return 143;
    v5 = a1 + 224;
    v3 = sub_10057710(a2, (int)&v7, a1 + 224);
  }
  v6 = v3;
  if ( !v3 )
  {
    *(_DWORD *)(v5 + 36) = 0;
    *(_DWORD *)(v5 + 40) = 0;
    v6 = sub_1005D750(a1, a2, a3);
  }
  return v6;
}

//----- (1005D750) --------------------------------------------------------
signed int __cdecl sub_1005D750(int a1, int a2, char a3)
{
  signed int v4; // [sp+0h] [bp-38h]@18
  __int16 v5; // [sp+4h] [bp-34h]@25
  unsigned int v6; // [sp+8h] [bp-30h]@20
  unsigned int v7; // [sp+8h] [bp-30h]@25
  __int16 *v8; // [sp+Ch] [bp-2Ch]@17
  unsigned int v9; // [sp+10h] [bp-28h]@14
  unsigned int v10; // [sp+14h] [bp-24h]@14
  int v11; // [sp+18h] [bp-20h]@1
  signed int v12; // [sp+1Ch] [bp-1Ch]@8
  int v13; // [sp+20h] [bp-18h]@8
  signed int v14; // [sp+24h] [bp-14h]@3
  size_t v15; // [sp+28h] [bp-10h]@2
  int v16; // [sp+2Ch] [bp-Ch]@4
  int v17; // [sp+30h] [bp-8h]@4
  int v18; // [sp+34h] [bp-4h]@4

  v11 = *(_DWORD *)(a2 + 28);
  if ( a3 )
  {
    if ( (*(int (__cdecl **)(int, signed int, int, size_t *))(a1 + 516))(a1, 1986884728, a2, &v15) )
    {
      *(_WORD *)(a1 + 342) = 0;
      return 0;
    }
    v18 = *(_WORD *)(a1 + 342);
    v16 = a1 + 344;
    v17 = a1 + 348;
  }
  else
  {
    if ( (*(int (__cdecl **)(int, signed int, int, size_t *))(a1 + 516))(a1, 1752003704, a2, &v15) )
      return 147;
    v18 = *(_WORD *)(a1 + 258);
    v16 = a1 + 260;
    v17 = a1 + 264;
  }
  v13 = *(_WORD *)(a1 + 272) - v18;
  v12 = (v15 - 4 * v18) >> 1;
  if ( v13 >= 0 )
  {
    v14 = sub_10056F50(v11, 4 * v18, v16);
    if ( !v14 )
    {
      v14 = sub_10056F50(v11, 2 * v13, v17);
      if ( !v14 )
      {
        v14 = sub_100573C0(a2, v15);
        if ( !v14 )
        {
          v10 = *(_DWORD *)v16;
          v9 = *(_DWORD *)v16 + 4 * v18;
          while ( v10 < v9 )
          {
            *(_WORD *)v10 = sub_10057510(a2);
            *(_WORD *)(v10 + 2) = sub_10057510(a2);
            v10 += 4;
          }
          v8 = *(__int16 **)v17;
          if ( v13 >= v12 )
            v4 = v12;
          else
            v4 = v13;
          v6 = (unsigned int)&v8[v4];
          while ( (unsigned int)v8 < v6 )
          {
            *v8 = sub_10057510(a2);
            ++v8;
          }
          if ( v13 > v12 && v12 > 0 )
          {
            v5 = *(_WORD *)(*(_DWORD *)v17 + 2 * v12 - 2);
            v7 = *(_DWORD *)v17 + 2 * v13;
            while ( (unsigned int)v8 < v7 )
            {
              *v8 = v5;
              ++v8;
            }
          }
          sub_10057490(a2);
        }
      }
    }
  }
  else
  {
    v14 = a3 != 0 ? 152 : 149;
  }
  return v14;
}

//----- (1005D9E0) --------------------------------------------------------
signed int __cdecl sub_1005D9E0(int a1, int a2)
{
  int v3; // [sp+0h] [bp-24h]@9
  unsigned int v4; // [sp+4h] [bp-20h]@4
  int v5; // [sp+8h] [bp-1Ch]@1
  unsigned int v6; // [sp+Ch] [bp-18h]@4
  signed int v7; // [sp+14h] [bp-10h]@2
  int v8; // [sp+18h] [bp-Ch]@3
  int v9; // [sp+1Ch] [bp-8h]@1
  int v10; // [sp+20h] [bp-4h]@6

  v5 = *(_DWORD *)(a2 + 28);
  *(_DWORD *)(a1 + 372) = a2;
  if ( (*(int (__cdecl **)(int, signed int, int, int *))(a1 + 516))(a1, 1851878757, a2, &v9) )
  {
    v7 = 145;
  }
  else
  {
    v8 = sub_10057290(a2);
    v7 = sub_10057710(a2, (int)&unk_100DDE74, a1 + 356);
    if ( !v7 )
    {
      v6 = v8 + 12 * *(_DWORD *)(a1 + 360) + 6;
      v4 = v9 + v8;
      if ( v6 <= v9 + v8 )
      {
        v10 = *(_DWORD *)(a1 + 360);
        *(_DWORD *)(a1 + 360) = 0;
        v7 = sub_10056F50(v5, 20 * v10, a1 + 368);
        if ( !v7 )
        {
          v7 = sub_100573C0(a2, 12 * v10);
          if ( !v7 )
          {
            v3 = *(_DWORD *)(a1 + 368);
            while ( v10 )
            {
              v7 = sub_10057710(a2, (int)&unk_100DDE88, v3);
              if ( !v7 && *(_WORD *)(v3 + 8) )
              {
                *(_DWORD *)(v3 + 12) += *(_DWORD *)(a1 + 364) + v8;
                if ( *(_DWORD *)(v3 + 12) >= v6 && *(_DWORD *)(v3 + 12) + (unsigned int)*(_WORD *)(v3 + 8) <= v4 )
                {
                  v3 += 20;
                }
                else
                {
                  *(_DWORD *)(v3 + 12) = 0;
                  *(_WORD *)(v3 + 8) = 0;
                }
              }
              --v10;
            }
            *(_DWORD *)(a1 + 360) = (v3 - *(_DWORD *)(a1 + 368)) / 20;
            sub_10057490(a2);
            *(_WORD *)(a1 + 352) = *(_WORD *)(a1 + 360);
          }
        }
      }
      else
      {
        v7 = 145;
      }
    }
  }
  return v7;
}

//----- (1005DBE0) --------------------------------------------------------
int __cdecl sub_1005DBE0(int a1)
{
  int result; // eax@4
  int v2; // [sp+0h] [bp-10h]@1
  int v3; // [sp+4h] [bp-Ch]@1
  int v4; // [sp+Ch] [bp-4h]@1

  v2 = *(_DWORD *)(*(_DWORD *)(a1 + 104) + 8);
  v3 = *(_DWORD *)(a1 + 368);
  v4 = *(_DWORD *)(a1 + 360);
  while ( v4 )
  {
    sub_10057070(v2, (_DWORD *)(v3 + 16));
    *(_WORD *)(v3 + 8) = 0;
    --v4;
    v3 += 20;
  }
  sub_10057070(v2, (_DWORD *)(a1 + 368));
  result = a1 + 356;
  *(_DWORD *)(a1 + 360) = 0;
  *(_WORD *)(a1 + 356) = 0;
  *(_DWORD *)(a1 + 364) = 0;
  return result;
}

//----- (1005DC80) --------------------------------------------------------
int __cdecl sub_1005DC80(int a1, int a2)
{
  int v3; // [sp+0h] [bp-4h]@2

  if ( (*(int (__stdcall **)(int))(a1 + 516))(a1) )
  {
    v3 = 146;
  }
  else
  {
    v3 = sub_10057330(a2, *(_DWORD *)(a1 + 512), a1 + 508);
    if ( v3 )
      *(_DWORD *)(a1 + 512) = 0;
  }
  return v3;
}

//----- (1005DD10) --------------------------------------------------------
int __cdecl sub_1005DD10(int a1, int a2)
{
  _WORD *v3; // [sp+0h] [bp-E8h]@3
  char v4; // [sp+4h] [bp-E4h]@1
  char v5; // [sp+5h] [bp-E3h]@1
  __int16 v6; // [sp+6h] [bp-E2h]@1
  char v7; // [sp+8h] [bp-E0h]@1
  char v8; // [sp+9h] [bp-DFh]@1
  __int16 v9; // [sp+Ah] [bp-DEh]@1
  char v10; // [sp+Ch] [bp-DCh]@1
  char v11; // [sp+Dh] [bp-DBh]@1
  __int16 v12; // [sp+Eh] [bp-DAh]@1
  char v13; // [sp+10h] [bp-D8h]@1
  char v14; // [sp+11h] [bp-D7h]@1
  __int16 v15; // [sp+12h] [bp-D6h]@1
  int v16; // [sp+14h] [bp-D4h]@2
  char v17; // [sp+18h] [bp-D0h]@1
  char v18; // [sp+19h] [bp-CFh]@1
  __int16 v19; // [sp+1Ah] [bp-CEh]@1
  char v20; // [sp+1Ch] [bp-CCh]@1
  char v21; // [sp+1Dh] [bp-CBh]@1
  __int16 v22; // [sp+1Eh] [bp-CAh]@1
  char v23; // [sp+20h] [bp-C8h]@1
  char v24; // [sp+21h] [bp-C7h]@1
  __int16 v25; // [sp+22h] [bp-C6h]@1
  char v26; // [sp+24h] [bp-C4h]@1
  char v27; // [sp+25h] [bp-C3h]@1
  __int16 v28; // [sp+26h] [bp-C2h]@1
  char v29; // [sp+28h] [bp-C0h]@1
  char v30; // [sp+29h] [bp-BFh]@1
  __int16 v31; // [sp+2Ah] [bp-BEh]@1
  char v32; // [sp+2Ch] [bp-BCh]@1
  char v33; // [sp+2Dh] [bp-BBh]@1
  __int16 v34; // [sp+2Eh] [bp-BAh]@1
  char v35; // [sp+30h] [bp-B8h]@1
  char v36; // [sp+31h] [bp-B7h]@1
  __int16 v37; // [sp+32h] [bp-B6h]@1
  char v38; // [sp+34h] [bp-B4h]@1
  char v39; // [sp+35h] [bp-B3h]@1
  __int16 v40; // [sp+36h] [bp-B2h]@1
  char v41; // [sp+38h] [bp-B0h]@1
  char v42; // [sp+39h] [bp-AFh]@1
  __int16 v43; // [sp+3Ah] [bp-AEh]@1
  char v44; // [sp+3Ch] [bp-ACh]@1
  char v45; // [sp+3Dh] [bp-ABh]@1
  __int16 v46; // [sp+3Eh] [bp-AAh]@1
  char v47; // [sp+40h] [bp-A8h]@1
  char v48; // [sp+41h] [bp-A7h]@1
  __int16 v49; // [sp+42h] [bp-A6h]@1
  char v50; // [sp+44h] [bp-A4h]@1
  char v51; // [sp+45h] [bp-A3h]@1
  __int16 v52; // [sp+46h] [bp-A2h]@1
  char v53; // [sp+48h] [bp-A0h]@1
  char v54; // [sp+49h] [bp-9Fh]@1
  __int16 v55; // [sp+4Ah] [bp-9Eh]@1
  char v56; // [sp+4Ch] [bp-9Ch]@1
  char v57; // [sp+4Dh] [bp-9Bh]@1
  __int16 v58; // [sp+4Eh] [bp-9Ah]@1
  char v59; // [sp+50h] [bp-98h]@1
  char v60; // [sp+51h] [bp-97h]@1
  __int16 v61; // [sp+52h] [bp-96h]@1
  char v62; // [sp+54h] [bp-94h]@1
  char v63; // [sp+55h] [bp-93h]@1
  __int16 v64; // [sp+56h] [bp-92h]@1
  char v65; // [sp+58h] [bp-90h]@1
  char v66; // [sp+59h] [bp-8Fh]@1
  __int16 v67; // [sp+5Ah] [bp-8Eh]@1
  char v68; // [sp+5Ch] [bp-8Ch]@1
  char v69; // [sp+5Dh] [bp-8Bh]@1
  __int16 v70; // [sp+5Eh] [bp-8Ah]@1
  char v71; // [sp+60h] [bp-88h]@1
  char v72; // [sp+61h] [bp-87h]@1
  __int16 v73; // [sp+62h] [bp-86h]@1
  char v74; // [sp+64h] [bp-84h]@1
  char v75; // [sp+65h] [bp-83h]@1
  __int16 v76; // [sp+66h] [bp-82h]@1
  char v77; // [sp+68h] [bp-80h]@1
  char v78; // [sp+69h] [bp-7Fh]@1
  __int16 v79; // [sp+6Ah] [bp-7Eh]@1
  char v80; // [sp+6Ch] [bp-7Ch]@1
  char v81; // [sp+6Dh] [bp-7Bh]@1
  __int16 v82; // [sp+6Eh] [bp-7Ah]@1
  char v83; // [sp+70h] [bp-78h]@1
  char v84; // [sp+71h] [bp-77h]@1
  __int16 v85; // [sp+72h] [bp-76h]@1
  char v86; // [sp+74h] [bp-74h]@1
  char v87; // [sp+75h] [bp-73h]@1
  __int16 v88; // [sp+76h] [bp-72h]@1
  char v89; // [sp+78h] [bp-70h]@1
  char v90; // [sp+79h] [bp-6Fh]@1
  __int16 v91; // [sp+7Ah] [bp-6Eh]@1
  char v92; // [sp+7Ch] [bp-6Ch]@1
  char v93; // [sp+7Dh] [bp-6Bh]@1
  __int16 v94; // [sp+7Eh] [bp-6Ah]@1
  char v95; // [sp+80h] [bp-68h]@1
  char v96; // [sp+81h] [bp-67h]@1
  __int16 v97; // [sp+82h] [bp-66h]@1
  char v98; // [sp+84h] [bp-64h]@1
  char v99; // [sp+85h] [bp-63h]@1
  __int16 v100; // [sp+86h] [bp-62h]@1
  char v101; // [sp+88h] [bp-60h]@1
  char v102; // [sp+89h] [bp-5Fh]@1
  __int16 v103; // [sp+8Ah] [bp-5Eh]@1
  char v104; // [sp+8Ch] [bp-5Ch]@1
  char v105; // [sp+8Dh] [bp-5Bh]@1
  __int16 v106; // [sp+8Eh] [bp-5Ah]@1
  char v107; // [sp+90h] [bp-58h]@1
  char v108; // [sp+91h] [bp-57h]@1
  __int16 v109; // [sp+92h] [bp-56h]@1
  char v110; // [sp+94h] [bp-54h]@1
  char v111; // [sp+95h] [bp-53h]@1
  __int16 v112; // [sp+96h] [bp-52h]@1
  char v113; // [sp+98h] [bp-50h]@1
  char v114; // [sp+99h] [bp-4Fh]@1
  __int16 v115; // [sp+9Ah] [bp-4Eh]@1
  char v116; // [sp+9Ch] [bp-4Ch]@1
  char v117; // [sp+9Dh] [bp-4Bh]@1
  __int16 v118; // [sp+9Eh] [bp-4Ah]@1
  char v119; // [sp+A0h] [bp-48h]@1
  char v120; // [sp+A1h] [bp-47h]@1
  __int16 v121; // [sp+A2h] [bp-46h]@1
  char v122; // [sp+A4h] [bp-44h]@1
  char v123; // [sp+A5h] [bp-43h]@1
  __int16 v124; // [sp+A6h] [bp-42h]@1
  char v125; // [sp+A8h] [bp-40h]@1
  char v126; // [sp+A9h] [bp-3Fh]@1
  __int16 v127; // [sp+AAh] [bp-3Eh]@1
  char v128; // [sp+ACh] [bp-3Ch]@1
  char v129; // [sp+ADh] [bp-3Bh]@1
  __int16 v130; // [sp+AEh] [bp-3Ah]@1
  char v131; // [sp+B0h] [bp-38h]@1
  char v132; // [sp+B1h] [bp-37h]@1
  __int16 v133; // [sp+B2h] [bp-36h]@1
  char v134; // [sp+B4h] [bp-34h]@1
  char v135; // [sp+B5h] [bp-33h]@1
  __int16 v136; // [sp+B6h] [bp-32h]@1
  char v137; // [sp+B8h] [bp-30h]@1
  char v138; // [sp+B9h] [bp-2Fh]@1
  __int16 v139; // [sp+BAh] [bp-2Eh]@1
  char v140; // [sp+BCh] [bp-2Ch]@1
  char v141; // [sp+BDh] [bp-2Bh]@1
  __int16 v142; // [sp+BEh] [bp-2Ah]@1
  char v143; // [sp+C0h] [bp-28h]@1
  char v144; // [sp+C1h] [bp-27h]@1
  __int16 v145; // [sp+C2h] [bp-26h]@1
  char v146; // [sp+C4h] [bp-24h]@1
  char v147; // [sp+C5h] [bp-23h]@1
  __int16 v148; // [sp+C6h] [bp-22h]@1
  char v149; // [sp+CCh] [bp-1Ch]@1
  char v150; // [sp+CDh] [bp-1Bh]@1
  __int16 v151; // [sp+CEh] [bp-1Ah]@1
  char v152; // [sp+D0h] [bp-18h]@1
  char v153; // [sp+D1h] [bp-17h]@1
  __int16 v154; // [sp+D2h] [bp-16h]@1
  char v155; // [sp+D4h] [bp-14h]@1
  char v156; // [sp+D5h] [bp-13h]@1
  __int16 v157; // [sp+D6h] [bp-12h]@1
  char v158; // [sp+D8h] [bp-10h]@1
  char v159; // [sp+D9h] [bp-Fh]@1
  __int16 v160; // [sp+DAh] [bp-Eh]@1
  char v161; // [sp+DCh] [bp-Ch]@1
  char v162; // [sp+DDh] [bp-Bh]@1
  __int16 v163; // [sp+DEh] [bp-Ah]@1
  char v164; // [sp+E0h] [bp-8h]@1
  char v165; // [sp+E1h] [bp-7h]@1
  __int16 v166; // [sp+E2h] [bp-6h]@1
  char v167; // [sp+E4h] [bp-4h]@1
  char v168; // [sp+E5h] [bp-3h]@1
  __int16 v169; // [sp+E6h] [bp-2h]@1

  v17 = 4;
  v18 = 0;
  v19 = 78;
  v20 = 12;
  v21 = 2;
  v22 = 0;
  v23 = 13;
  v24 = 2;
  v25 = 2;
  v26 = 12;
  v27 = 2;
  v28 = 4;
  v29 = 12;
  v30 = 2;
  v31 = 6;
  v32 = 13;
  v33 = 2;
  v34 = 8;
  v35 = 13;
  v36 = 2;
  v37 = 10;
  v38 = 13;
  v39 = 2;
  v40 = 12;
  v41 = 13;
  v42 = 2;
  v43 = 14;
  v44 = 13;
  v45 = 2;
  v46 = 16;
  v47 = 13;
  v48 = 2;
  v49 = 18;
  v50 = 13;
  v51 = 2;
  v52 = 20;
  v53 = 13;
  v54 = 2;
  v55 = 22;
  v56 = 13;
  v57 = 2;
  v58 = 24;
  v59 = 13;
  v60 = 2;
  v61 = 26;
  v62 = 13;
  v63 = 2;
  v64 = 28;
  v65 = 13;
  v66 = 2;
  v67 = 30;
  v68 = 8;
  v69 = 1;
  v70 = 32;
  v71 = 8;
  v72 = 1;
  v73 = 33;
  v74 = 8;
  v75 = 1;
  v76 = 34;
  v77 = 8;
  v78 = 1;
  v79 = 35;
  v80 = 8;
  v81 = 1;
  v82 = 36;
  v83 = 8;
  v84 = 1;
  v85 = 37;
  v86 = 8;
  v87 = 1;
  v88 = 38;
  v89 = 8;
  v90 = 1;
  v91 = 39;
  v92 = 8;
  v93 = 1;
  v94 = 40;
  v95 = 8;
  v96 = 1;
  v97 = 41;
  v98 = 16;
  v99 = 4;
  v100 = 44;
  v101 = 16;
  v102 = 4;
  v103 = 48;
  v104 = 16;
  v105 = 4;
  v106 = 52;
  v107 = 16;
  v108 = 4;
  v109 = 56;
  v110 = 8;
  v111 = 1;
  v112 = 60;
  v113 = 8;
  v114 = 1;
  v115 = 61;
  v116 = 8;
  v117 = 1;
  v118 = 62;
  v119 = 8;
  v120 = 1;
  v121 = 63;
  v122 = 12;
  v123 = 2;
  v124 = 64;
  v125 = 12;
  v126 = 2;
  v127 = 66;
  v128 = 12;
  v129 = 2;
  v130 = 68;
  v131 = 13;
  v132 = 2;
  v133 = 70;
  v134 = 13;
  v135 = 2;
  v136 = 72;
  v137 = 13;
  v138 = 2;
  v139 = 74;
  v140 = 12;
  v141 = 2;
  v142 = 76;
  v143 = 12;
  v144 = 2;
  v145 = 78;
  v146 = 0;
  v147 = 0;
  v148 = 0;
  v4 = 4;
  v5 = 0;
  v6 = 8;
  v7 = 16;
  v8 = 4;
  v9 = 80;
  v10 = 16;
  v11 = 4;
  v12 = 84;
  v13 = 0;
  v14 = 0;
  v15 = 0;
  v149 = 4;
  v150 = 0;
  v151 = 10;
  v152 = 13;
  v153 = 2;
  v154 = 88;
  v155 = 13;
  v156 = 2;
  v157 = 90;
  v158 = 12;
  v159 = 2;
  v160 = 92;
  v161 = 12;
  v162 = 2;
  v163 = 94;
  v164 = 12;
  v165 = 2;
  v166 = 96;
  v167 = 0;
  v168 = 0;
  v169 = 0;
  if ( (*(int (__cdecl **)(int, signed int, int, _DWORD))(a1 + 516))(a1, 1330851634, a2, 0) )
  {
    *(_WORD *)(a1 + 376) = -1;
    v16 = 0;
  }
  else
  {
    v3 = (_WORD *)(a1 + 376);
    v16 = sub_10057710(a2, (int)&v17, a1 + 376);
    if ( !v16 )
    {
      *(_DWORD *)(a1 + 456) = 0;
      *(_DWORD *)(a1 + 460) = 0;
      *(_WORD *)(a1 + 464) = 0;
      *(_WORD *)(a1 + 466) = 0;
      *(_WORD *)(a1 + 468) = 0;
      *(_WORD *)(a1 + 470) = 0;
      *(_WORD *)(a1 + 472) = 0;
      if ( (signed int)*v3 >= 1 )
      {
        v16 = sub_10057710(a2, (int)&v4, (int)v3);
        if ( !v16 && (signed int)*v3 >= 2 )
          v16 = sub_10057710(a2, (int)&v149, (int)v3);
      }
    }
  }
  return v16;
}

//----- (1005E2A0) --------------------------------------------------------
signed int __cdecl sub_1005E2A0(int a1, int a2)
{
  signed int result; // eax@2
  signed int v3; // [sp+4h] [bp-4h]@3

  if ( (*(int (__cdecl **)(int, signed int, int, _DWORD))(a1 + 516))(a1, 1886352244, a2, 0) )
  {
    result = 148;
  }
  else
  {
    v3 = sub_10057710(a2, (int)&unk_100DDEA4, a1 + 476);
    if ( v3 )
      result = v3;
    else
      result = 0;
  }
  return result;
}

//----- (1005E310) --------------------------------------------------------
signed int __cdecl sub_1005E310(int a1, int a2)
{
  signed int result; // eax@2
  _DWORD *v3; // [sp+0h] [bp-8h]@1

  v3 = (_DWORD *)(a1 + 564);
  if ( (*(int (__cdecl **)(int, signed int, int, _DWORD))(a1 + 516))(a1, 1346587732, a2, 0) )
  {
    *v3 = 0;
    result = 0;
  }
  else
  {
    result = sub_10057710(a2, (int)&unk_100DDED0, (int)v3);
  }
  return result;
}

//----- (1005E390) --------------------------------------------------------
int __cdecl sub_1005E390(int a1, int a2)
{
  int result; // eax@2
  unsigned int i; // [sp+0h] [bp-14h]@7
  int v4; // [sp+4h] [bp-10h]@1
  int v5; // [sp+8h] [bp-Ch]@3
  unsigned int v6; // [sp+Ch] [bp-8h]@4
  int v7; // [sp+10h] [bp-4h]@4

  v4 = *(_DWORD *)(a2 + 28);
  if ( (*(int (__cdecl **)(int, signed int, int, _DWORD))(a1 + 516))(a1, 1734439792, a2, 0) )
  {
    result = 0;
  }
  else
  {
    v5 = sub_100573C0(a2, 4u);
    if ( !v5 )
    {
      *(_WORD *)(a1 + 556) = sub_10057510(a2);
      *(_WORD *)(a1 + 558) = sub_10057510(a2);
      sub_10057490(a2);
      v6 = *(_WORD *)(a1 + 558);
      v5 = sub_10056F50(v4, 4 * v6, (int)&v7);
      if ( !v5 )
      {
        v5 = sub_100573C0(a2, 4 * v6);
        if ( !v5 )
        {
          *(_DWORD *)(a1 + 560) = v7;
          for ( i = 0; i < v6; ++i )
          {
            *(_WORD *)(v7 + 4 * i) = sub_10057510(a2);
            *(_WORD *)(v7 + 4 * i + 2) = sub_10057510(a2);
          }
          sub_10057490(a2);
        }
      }
    }
    result = v5;
  }
  return result;
}

//----- (1005E4F0) --------------------------------------------------------
signed int __cdecl sub_1005E4F0(int a1, int a2)
{
  signed int result; // eax@2
  int v3; // ST24_4@7
  int v4; // [sp+0h] [bp-2Ch]@15
  unsigned int v5; // [sp+4h] [bp-28h]@15
  unsigned int v6; // [sp+8h] [bp-24h]@9
  unsigned int v7; // [sp+Ch] [bp-20h]@12
  unsigned int v8; // [sp+10h] [bp-1Ch]@12
  int v9; // [sp+18h] [bp-14h]@7
  int v10; // [sp+1Ch] [bp-10h]@1
  signed int v11; // [sp+20h] [bp-Ch]@3
  unsigned int i; // [sp+24h] [bp-8h]@4
  unsigned int v13; // [sp+28h] [bp-4h]@4

  v10 = *(_DWORD *)(a2 + 28);
  if ( (*(int (__cdecl **)(int, signed int, int, _DWORD))(a1 + 516))(a1, 1801810542, a2, 0) )
  {
    result = 0;
  }
  else
  {
    v11 = sub_100573C0(a2, 4u);
    if ( !v11 )
    {
      sub_10057510(a2);
      v13 = (unsigned __int16)sub_10057510(a2);
      sub_10057490(a2);
      for ( i = 0; ; ++i )
      {
        if ( i >= v13 )
        {
          *(_DWORD *)(a1 + 688) = -1;
          *(_DWORD *)(a1 + 684) = 0;
          *(_DWORD *)(a1 + 692) = 0;
          goto LABEL_24;
        }
        v11 = sub_100573C0(a2, 6u);
        if ( v11 )
          goto LABEL_24;
        sub_10057510(a2);
        v9 = (unsigned __int16)sub_10057510(a2) - 6;
        v3 = (unsigned __int16)sub_10057510(a2);
        sub_10057490(a2);
        if ( v3 == 1 )
          break;
        v11 = sub_10057270(a2, v9);
        if ( v11 )
          goto LABEL_24;
      }
      v11 = sub_100573C0(a2, 8u);
      if ( !v11 )
      {
        v6 = (unsigned __int16)sub_10057510(a2);
        sub_10057490(a2);
        v11 = sub_10056F50(v10, 6 * v6, a1 + 692);
        if ( !v11 )
        {
          v11 = sub_100573C0(a2, 6 * v6);
          if ( !v11 )
          {
            v8 = *(_DWORD *)(a1 + 692);
            v7 = v8 + 6 * v6;
            while ( v8 < v7 )
            {
              *(_WORD *)v8 = sub_10057510(a2);
              *(_WORD *)(v8 + 2) = sub_10057510(a2);
              *(_WORD *)(v8 + 4) = sub_10057510(a2);
              v8 += 6;
            }
            sub_10057490(a2);
            *(_DWORD *)(a1 + 684) = v6;
            *(_DWORD *)(a1 + 688) = i;
            v4 = *(_DWORD *)(a1 + 692);
            v5 = 1;
            while ( v5 < v6 )
            {
              if ( sub_1005E7C0(v4, v4 + 6) != -1 )
              {
                sub_100034E0(*(_DWORD *)(a1 + 692), v6, 6u, (int)sub_1005E7C0);
                break;
              }
              ++v5;
              v4 += 6;
            }
          }
        }
      }
    }
LABEL_24:
    result = v11;
  }
  return result;
}

//----- (1005E7C0) --------------------------------------------------------
signed int __cdecl sub_1005E7C0(int a1, int a2)
{
  signed int v3; // [sp+0h] [bp-14h]@2
  unsigned int v4; // [sp+4h] [bp-10h]@1
  unsigned int v5; // [sp+Ch] [bp-8h]@1

  v5 = *(_WORD *)(a1 + 2) | (*(_WORD *)a1 << 16);
  v4 = *(_WORD *)(a2 + 2) | (*(_WORD *)a2 << 16);
  if ( v5 >= v4 )
    v3 = v4 < v5;
  else
    v3 = -1;
  return v3;
}

//----- (1005E830) --------------------------------------------------------
int __cdecl sub_1005E830(int a1, int a2)
{
  int result; // eax@2
  unsigned int v3; // [sp+0h] [bp-20h]@6
  unsigned int v4; // [sp+4h] [bp-1Ch]@6
  __int16 v5; // [sp+8h] [bp-18h]@4
  int v6; // [sp+Ch] [bp-14h]@1
  int v7; // [sp+10h] [bp-10h]@1
  int v8; // [sp+14h] [bp-Ch]@4
  int v9; // [sp+14h] [bp-Ch]@6
  size_t v10; // [sp+18h] [bp-8h]@6
  int v11; // [sp+1Ch] [bp-4h]@3

  v6 = *(_DWORD *)(a2 + 28);
  v7 = a1 + 548;
  *(_WORD *)(a1 + 548) = 0;
  *(_WORD *)(v7 + 2) = 0;
  *(_DWORD *)(v7 + 4) = 0;
  if ( (*(int (__cdecl **)(int, signed int, int, _DWORD))(a1 + 516))(a1, 1751412088, a2, 0) )
  {
    result = 0;
  }
  else
  {
    v11 = sub_100573C0(a2, 8u);
    if ( !v11 )
    {
      *(_WORD *)v7 = sub_10057510(a2);
      v5 = sub_10057510(a2);
      v8 = sub_10057570(a2);
      sub_10057490(a2);
      if ( !*(_WORD *)v7 )
      {
        v11 = sub_10056F50(v6, 8 * v5, a1 + 552);
        if ( !v11 )
        {
          *(_WORD *)(a1 + 550) = v5;
          v10 = *(_DWORD *)(a1 + 16);
          v9 = v8 - (v10 + 2);
          v4 = *(_DWORD *)(a1 + 552);
          v3 = v4 + 8 * *(_WORD *)(a1 + 550);
          while ( v4 < v3 )
          {
            *(_BYTE *)v4 = sub_100575E0(a2, &v11);
            if ( v11 )
              break;
            *(_BYTE *)(v4 + 1) = sub_100575E0(a2, &v11);
            if ( v11 )
              break;
            v11 = sub_10056F50(v6, v10, v4 + 4);
            if ( v11 )
              break;
            v11 = sub_100572A0(a2, *(_DWORD *)(v4 + 4), v10);
            if ( v11 )
              break;
            if ( v9 > 0 )
            {
              v11 = sub_10057270(a2, v9);
              if ( v11 )
                break;
            }
            v4 += 8;
          }
        }
      }
    }
    result = v11;
  }
  return result;
}

//----- (1005EA20) --------------------------------------------------------
int __cdecl sub_1005EA20(int a1)
{
  int result; // eax@5
  int v2; // [sp+0h] [bp-8h]@2
  signed int i; // [sp+4h] [bp-4h]@2

  if ( a1 )
  {
    v2 = *(_DWORD *)(*(_DWORD *)(a1 + 104) + 8);
    for ( i = 0; i < *(_WORD *)(a1 + 550); ++i )
      sub_10057070(v2, (_DWORD *)(*(_DWORD *)(a1 + 552) + 8 * i + 4));
    result = sub_10057070(v2, (_DWORD *)(a1 + 552));
    *(_WORD *)(a1 + 550) = 0;
  }
  return result;
}

//----- (1005EAA0) --------------------------------------------------------
int __cdecl sub_1005EAA0(int a1, int a2)
{
  *(_DWORD *)(a1 + 16) = a2;
  return 0;
}

//----- (1005EAB0) --------------------------------------------------------
int __cdecl sub_1005EAB0(int a1, int a2)
{
  int result; // eax@1

  result = _byteswap_ushort(*(_WORD *)(a1 + 2));
  if ( (unsigned int)(unsigned __int16)result + a1 > *(_DWORD *)(a2 + 4) || (unsigned __int16)result < 0x106u )
  {
    result = a2;
    *(_DWORD *)(a2 + 12) = 8;
  }
  return result;
}

//----- (1005EB10) --------------------------------------------------------
int __cdecl sub_1005EB10(int a1, unsigned int a2)
{
  int v3; // [sp+0h] [bp-8h]@2

  if ( a2 >= 0x100 )
    v3 = 0;
  else
    v3 = *(_BYTE *)(a2 + *(_DWORD *)(a1 + 16) + 6);
  return v3;
}

//----- (1005EB50) --------------------------------------------------------
unsigned int __cdecl sub_1005EB50(int a1, unsigned int a2)
{
  int v2; // edx@1
  unsigned int result; // eax@1
  int v4; // ecx@9
  unsigned int v5; // [sp+4h] [bp-34h]@9
  unsigned int v6; // [sp+8h] [bp-30h]@9
  int v7; // [sp+Ch] [bp-2Ch]@9
  unsigned int i; // [sp+10h] [bp-28h]@7
  unsigned int v9; // [sp+18h] [bp-20h]@5
  int v10; // [sp+1Ch] [bp-1Ch]@5
  int v11; // [sp+20h] [bp-18h]@5
  int v12; // [sp+24h] [bp-14h]@5
  int v13; // [sp+28h] [bp-10h]@1
  unsigned int v14; // [sp+30h] [bp-8h]@13
  unsigned int v15; // [sp+34h] [bp-4h]@5

  v2 = *(_BYTE *)(a1 + 3);
  result = _byteswap_ushort(*(_WORD *)(a1 + 2));
  v13 = (unsigned __int16)result;
  if ( (unsigned __int16)result >= 0x10u )
  {
    if ( (unsigned int)(unsigned __int16)result + a1 > *(_DWORD *)(a2 + 4) )
      v13 = *(_DWORD *)(a2 + 4) - a1;
    v15 = (unsigned int)_byteswap_ushort(*(_WORD *)(a1 + 6)) >> 1;
    v11 = a1 + 2 * v15 + 16;
    v12 = v11 + 2 * v15;
    v10 = v12 + 2 * v15;
    v9 = v10 + 2 * v15;
    result = v13 + a1;
    if ( v9 <= v13 + a1 )
    {
      for ( i = 0; ; ++i )
      {
        result = i;
        if ( i >= v15 )
          break;
        v5 = _byteswap_ushort(*(_WORD *)(v11 + 2 * i));
        v6 = _byteswap_ushort(*(_WORD *)(a1 + 14 + 2 * i));
        v4 = *(_BYTE *)(v10 + 2 * i + 1);
        v7 = _byteswap_ushort(*(_WORD *)(v10 + 2 * i));
        result = v5;
        if ( v5 > v6 )
        {
          *(_DWORD *)(a2 + 12) = 8;
          return result;
        }
        if ( v7 && v7 != 0xFFFF )
        {
          v14 = v7 + v10 + 2 * i;
          result = v14;
          if ( v14 < v9 || (result = v14 + 2 * (v6 - v5) + 2, result > *(_DWORD *)(a2 + 4)) )
          {
            *(_DWORD *)(a2 + 12) = 8;
            return result;
          }
        }
        else if ( v7 == 0xFFFF )
        {
          result = a2;
          if ( *(_DWORD *)(a2 + 8) >= 2
            || i != v15 - 1
            || v5 != 0xFFFF
            || v6 != 0xFFFF
            || (signed __int16)(*(_BYTE *)(v12 + 2 * i + 1) | (unsigned __int16)(*(_BYTE *)(v12 + 2 * i) << 8)) != 1 )
          {
            *(_DWORD *)(a2 + 12) = 8;
            return result;
          }
        }
      }
    }
    else
    {
      *(_DWORD *)(a2 + 12) = 8;
    }
  }
  else
  {
    *(_DWORD *)(a2 + 12) = 8;
  }
  return result;
}

//----- (1005EDA0) --------------------------------------------------------
int __cdecl sub_1005EDA0(int a1, unsigned int a2)
{
  int v2; // ecx@2
  int v3; // ecx@4
  unsigned int v4; // ST28_4@8
  int v5; // eax@8
  int v6; // ecx@10
  int v7; // edx@10
  unsigned int v9; // [sp+0h] [bp-34h]@2
  int v10; // [sp+4h] [bp-30h]@4
  unsigned int v11; // [sp+8h] [bp-2Ch]@4
  int v12; // [sp+Ch] [bp-28h]@8
  unsigned int v13; // [sp+10h] [bp-24h]@2
  __int16 v14; // [sp+18h] [bp-1Ch]@8
  unsigned int v15; // [sp+1Ch] [bp-18h]@8
  unsigned int v16; // [sp+24h] [bp-10h]@2
  int v17; // [sp+28h] [bp-Ch]@8
  int v18; // [sp+2Ch] [bp-8h]@1
  int v19; // [sp+30h] [bp-4h]@1

  v19 = *(_DWORD *)(a1 + 16);
  v18 = 0;
  if ( a2 < 0x10000 )
  {
    v2 = *(_BYTE *)(v19 + 7);
    v16 = _byteswap_ushort(*(_WORD *)(v19 + 6)) & 0xFFFE;
    v13 = 0;
    v9 = v16 >> 1;
    while ( v13 < v9 )
    {
      v11 = _byteswap_ushort(*(_WORD *)(v19 + 2 * ((v9 + v13) >> 1) + 14));
      v3 = *(_BYTE *)(v16 + v19 + 2 * ((v9 + v13) >> 1) + 16 + 1);
      v10 = _byteswap_ushort(*(_WORD *)(v16 + v19 + 2 * ((v9 + v13) >> 1) + 16));
      if ( a2 >= v10 )
      {
        if ( a2 <= v11 )
        {
          v15 = a2;
          v4 = v16 + v16 + v19 + 2 * ((v9 + v13) >> 1) + 16;
          v14 = *(_BYTE *)(v4 + 1) | (unsigned __int16)(*(_BYTE *)v4 << 8);
          v17 = v16 + v4;
          v5 = *(_BYTE *)(v17 + 1);
          v12 = _byteswap_ushort(*(_WORD *)v17);
          if ( v12 != 0xFFFF )
          {
            if ( v12 )
            {
              v6 = v17 + v12 + 2 * (a2 - v10);
              v7 = *(_BYTE *)(v6 + 1);
              v15 = _byteswap_ushort(*(_WORD *)v6);
            }
            if ( v15 )
              v18 = (unsigned __int16)(v14 + v15);
          }
          return v18;
        }
        v13 = ((v9 + v13) >> 1) + 1;
      }
      else
      {
        v9 = (v9 + v13) >> 1;
      }
    }
  }
  return v18;
}

//----- (1005EF40) --------------------------------------------------------
signed int __cdecl sub_1005EF40(int a1, int a2, int a3)
{
  int v4; // [sp+0h] [bp-1Ch]@1
  int v5; // [sp+4h] [bp-18h]@5
  __int16 v6; // [sp+8h] [bp-14h]@6
  int v7; // [sp+14h] [bp-8h]@3
  int v8; // [sp+18h] [bp-4h]@1

  v8 = *(_DWORD *)(*(_DWORD *)(a2 + 104) + 4);
  v4 = *(_DWORD *)(a2 + 540);
  if ( !v4 )
  {
    v4 = sub_1005AAF0(v8, "sfnt");
    if ( !v4 )
      return 3;
    *(_DWORD *)(a2 + 540) = v4;
    *(_DWORD *)(a2 + 516) = *(_DWORD *)v4;
  }
  v7 = (*(int (__cdecl **)(int, int, int, int *))(v4 + 24))(a2, a1, a3, &v5);
  if ( !v7 )
  {
    *(_DWORD *)(a2 + 156) = v5;
    *(_WORD *)(a2 + 160) = v6;
    v7 = (*(int (__cdecl **)(int, int, int *))(v4 + 28))(a2, a1, &v5);
    if ( !v7 )
    {
      *(_DWORD *)a2 = *(_DWORD *)(a2 + 148);
      if ( *(_DWORD *)a2 < 1 )
        *(_DWORD *)a2 = 1;
    }
  }
  return v7;
}

//----- (1005F040) --------------------------------------------------------
int __cdecl sub_1005F040(int a1, int a2)
{
  int v2; // ST1C_4@14
  int v3; // ST14_4@31
  __int16 v5; // [sp+0h] [bp-2Ch]@33
  bool v6; // [sp+7h] [bp-25h]@3
  int i; // [sp+Ch] [bp-20h]@28
  signed int v8; // [sp+18h] [bp-14h]@14
  int v9; // [sp+18h] [bp-14h]@16
  signed int v10; // [sp+18h] [bp-14h]@22
  int v11; // [sp+20h] [bp-Ch]@1
  int v12; // [sp+24h] [bp-8h]@5

  v11 = *(_DWORD *)(a2 + 540);
  v6 = sub_1005CF10(a2, 1735162214) || sub_1005CF10(a2, 1128678944);
  v12 = (*(int (__cdecl **)(int, int))(v11 + 32))(a2, a1);
  if ( !v12 )
  {
    (*(void (__cdecl **)(int, int))(v11 + 44))(a2, a1);
    (*(void (__cdecl **)(int, int))(v11 + 40))(a2, a1);
    (*(void (__cdecl **)(int, int))(v11 + 56))(a2, a1);
    (*(void (__cdecl **)(int, int))(v11 + 52))(a2, a1);
    v12 = (*(int (__cdecl **)(int, int, _DWORD))(v11 + 36))(a2, a1, 0);
    if ( !v12 )
    {
      v12 = (*(int (__cdecl **)(int, int, signed int))(v11 + 36))(a2, a1, 1);
      if ( !v12 )
      {
        v12 = (*(int (__cdecl **)(int, int))(v11 + 48))(a2, a1);
        if ( !v12 )
        {
          v12 = (*(int (__cdecl **)(int, int))(v11 + 64))(a2, a1);
          if ( !v12 )
          {
            v12 = (*(int (__cdecl **)(int, int))(v11 + 76))(a2, a1);
            if ( !v12 )
            {
              v12 = (*(int (__cdecl **)(int, int))(v11 + 72))(a2, a1);
              if ( !v12 )
              {
                v12 = (*(int (__cdecl **)(int, int))(v11 + 80))(a2, a1);
                if ( !v12 )
                {
                  *(_DWORD *)(a2 + 20) = sub_1005F670(a2, 1u);
                  *(_DWORD *)(a2 + 24) = sub_1005F670(a2, 2u);
                  v8 = 0;
                  v2 = *(_DWORD *)(a2 + 108);
                  if ( v6 == 1 )
                    v8 = 1;
                  v9 = v8 | 0x18;
                  if ( *(_DWORD *)(a2 + 488) )
                    v9 |= 4u;
                  if ( *(_BYTE *)(a2 + 304) )
                    v9 |= 0x20u;
                  if ( *(_DWORD *)(a2 + 692) )
                    v9 |= 0x40u;
                  *(_DWORD *)(a2 + 8) = v9;
                  v10 = 0;
                  if ( v6 == 1 && *(_WORD *)(a2 + 376) != 0xFFFF )
                  {
                    if ( *(_WORD *)(a2 + 440) & 1 )
                      v10 = 1;
                    if ( *(_WORD *)(a2 + 440) & 0x20 )
                      v10 |= 2u;
                    *(_DWORD *)(a2 + 12) = v10;
                    sub_1005F470(a2);
                    for ( i = 0; i < *(_DWORD *)(a2 + 36); ++i )
                    {
                      v3 = *(_DWORD *)(*(_DWORD *)(a2 + 40) + 4 * i);
                      *(_DWORD *)(v3 + 4) = sub_1005F900(*(_WORD *)(v3 + 8), *(_WORD *)(v3 + 10));
                    }
                    *(_DWORD *)(a2 + 28) = 0;
                    *(_DWORD *)(a2 + 32) = 0;
                    *(_DWORD *)(a2 + 60) = *(_WORD *)(a2 + 204);
                    *(_DWORD *)(a2 + 64) = *(_WORD *)(a2 + 206);
                    *(_DWORD *)(a2 + 68) = *(_WORD *)(a2 + 208);
                    *(_DWORD *)(a2 + 72) = *(_WORD *)(a2 + 210);
                    *(_WORD *)(a2 + 76) = *(_WORD *)(a2 + 186);
                    *(_WORD *)(a2 + 78) = *(_WORD *)(a2 + 228);
                    *(_WORD *)(a2 + 80) = *(_WORD *)(a2 + 230);
                    *(_WORD *)(a2 + 82) = *(_WORD *)(a2 + 232) + *(_WORD *)(a2 + 78) - *(_WORD *)(a2 + 80);
                    *(_WORD *)(a2 + 84) = *(_WORD *)(a2 + 234);
                    if ( *(_BYTE *)(a2 + 304) )
                      v5 = *(_WORD *)(a2 + 318);
                    else
                      v5 = *(_WORD *)(a2 + 82);
                    *(_WORD *)(a2 + 86) = v5;
                    *(_WORD *)(a2 + 88) = *(_WORD *)(a2 + 484);
                    *(_WORD *)(a2 + 90) = *(_WORD *)(a2 + 486);
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return v12;
}

//----- (1005F470) --------------------------------------------------------
signed int __cdecl sub_1005F470(int a1)
{
  signed int result; // eax@2
  int v2; // ecx@8
  char v3; // [sp+0h] [bp-44h]@11
  int v4; // [sp+Ch] [bp-38h]@11
  int v5; // [sp+10h] [bp-34h]@11
  int *j; // [sp+14h] [bp-30h]@8
  int v7; // [sp+18h] [bp-2Ch]@8
  int v8; // [sp+1Ch] [bp-28h]@10
  int v9; // [sp+20h] [bp-24h]@8
  int v10; // [sp+24h] [bp-20h]@6
  int v11; // [sp+28h] [bp-1Ch]@6
  __int16 v12; // [sp+2Ch] [bp-18h]@6
  __int16 v13; // [sp+2Eh] [bp-16h]@6
  int v14; // [sp+30h] [bp-14h]@6
  int v15; // [sp+34h] [bp-10h]@1
  int v16; // [sp+38h] [bp-Ch]@1
  int i; // [sp+3Ch] [bp-8h]@3
  int v18; // [sp+40h] [bp-4h]@1

  v16 = *(_DWORD *)(a1 + 508);
  v15 = *(_DWORD *)(a1 + 512) + v16;
  v18 = v16;
  if ( v16 + 4 <= (unsigned int)v15 )
  {
    v18 += 2;
    i = (unsigned __int16)(*(_BYTE *)(v18 - 1) | (unsigned __int16)(*(_BYTE *)(v18 - 2) << 8));
    v18 += 2;
    for ( i = (unsigned __int16)(*(_BYTE *)(v18 - 1) | (unsigned __int16)(*(_BYTE *)(v18 - 2) << 8));
          i && v18 + 8 <= (unsigned int)v15;
          --i )
    {
      v18 += 2;
      v12 = *(_BYTE *)(v18 - 1) | (unsigned __int16)(*(_BYTE *)(v18 - 2) << 8);
      v18 += 2;
      v13 = *(_BYTE *)(v18 - 1) | (unsigned __int16)(*(_BYTE *)(v18 - 2) << 8);
      v10 = a1;
      v11 = 0;
      v18 += 4;
      v14 = *(_BYTE *)(v18 - 1) | (*(_BYTE *)(v18 - 2) << 8) | (*(_BYTE *)(v18 - 3) << 16) | (*(_BYTE *)(v18 - 4) << 24);
      if ( v14 && v16 + v14 + 2 < (unsigned int)v15 )
      {
        v9 = v14 + v16;
        v2 = *(_BYTE *)(v14 + v16 + 1);
        v7 = _byteswap_ushort(*(_WORD *)(v14 + v16));
        for ( j = (int *)&off_100DDF48; *j; ++j )
        {
          v8 = *j;
          if ( *(_DWORD *)(v8 + 20) == v7 )
          {
            sub_100590D0((int)&v3, v9, v15, 0);
            v5 = *(_DWORD *)(a1 + 16);
            (*(void (__cdecl **)(int, char *))(v8 + 24))(v9, &v3);
            if ( !v4 )
              sub_1005A480(v8, v9, (int)&v10, 0);
          }
        }
      }
    }
    result = 0;
  }
  else
  {
    result = 8;
  }
  return result;
}
// 100DDF48: using guessed type void *off_100DDF48;

//----- (1005F670) --------------------------------------------------------
int __cdecl sub_1005F670(int a1, unsigned __int16 a2)
{
  int v3; // [sp+10h] [bp-1Ch]@17
  signed int v4; // [sp+14h] [bp-18h]@1
  int v5; // [sp+18h] [bp-14h]@1
  int v6; // [sp+1Ch] [bp-10h]@1
  int v7; // [sp+20h] [bp-Ch]@1
  unsigned __int16 v8; // [sp+24h] [bp-8h]@1
  int (__cdecl *v9)(int, int); // [sp+28h] [bp-4h]@11

  v5 = *(_DWORD *)(a1 + 108);
  v6 = 0;
  v4 = -1;
  v7 = *(_DWORD *)(a1 + 368);
  v8 = 0;
  while ( v8 < (signed int)*(_WORD *)(a1 + 352) )
  {
    if ( *(_WORD *)(v7 + 6) == a2
      && (signed int)*(_WORD *)(v7 + 8) > 0
      && *(_WORD *)v7 == 3
      && (v4 == -1 || (*(_WORD *)(v7 + 4) & 0x3FF) == 9)
      && (signed int)*(_WORD *)(v7 + 2) <= 1 )
    {
      v4 = v8;
    }
    ++v8;
    v7 += 20;
  }
  v9 = 0;
  if ( v4 >= 0 )
  {
    v7 = *(_DWORD *)(a1 + 368) + 20 * v4;
    if ( (signed int)*(_WORD *)(v7 + 2) <= 1 )
      v9 = sub_1005F850;
  }
  if ( v7 && v9 )
  {
    if ( !*(_DWORD *)(v7 + 16)
      && ((v3 = *(_DWORD *)(a1 + 372), sub_10056F50(v5, *(_WORD *)(v7 + 8), v7 + 16))
       || sub_10057220(v3, *(_DWORD *)(v7 + 12))
       || sub_100572A0(v3, *(_DWORD *)(v7 + 16), *(_WORD *)(v7 + 8))) )
    {
      sub_10057070(v5, (_DWORD *)(v7 + 16));
      *(_WORD *)(v7 + 8) = 0;
      v6 = 0;
    }
    else
    {
      v6 = v9(v7, v5);
    }
  }
  return v6;
}

//----- (1005F850) --------------------------------------------------------
int __cdecl sub_1005F850(int a1, int a2)
{
  int result; // eax@2
  int v3; // [sp+0h] [bp-14h]@1
  unsigned int v4; // [sp+4h] [bp-10h]@1
  unsigned int v5; // [sp+8h] [bp-Ch]@5
  unsigned int i; // [sp+Ch] [bp-8h]@3
  int v7; // [sp+10h] [bp-4h]@1

  v7 = *(_DWORD *)(a1 + 16);
  v4 = (unsigned int)*(_WORD *)(a1 + 8) >> 1;
  if ( sub_10056F50(a2, v4 + 1, (int)&v3) )
  {
    result = 0;
  }
  else
  {
    for ( i = 0; i < v4; ++i )
    {
      v7 += 2;
      v5 = (unsigned __int16)(*(_BYTE *)(v7 - 1) | (unsigned __int16)(*(_BYTE *)(v7 - 2) << 8));
      if ( v5 < 0x20 || v5 > 0x7F )
        v5 = 63;
      *(_BYTE *)(i + v3) = v5;
    }
    *(_BYTE *)(v4 + v3) = 0;
    result = v3;
  }
  return result;
}

//----- (1005F900) --------------------------------------------------------
int __cdecl sub_1005F900(int a1, int a2)
{
  char *i; // [sp+4h] [bp-4h]@1

  for ( i = byte_100DDF78; i < &byte_100DDF78[132]; i += 12 )
  {
    if ( *(_DWORD *)i == a1 && (*((_DWORD *)i + 1) == a2 || *((_DWORD *)i + 1) == -1) )
      return *((_DWORD *)i + 2);
  }
  return 0;
}

//----- (1005F960) --------------------------------------------------------
int __cdecl sub_1005F960(int a1)
{
  int result; // eax@3
  int v2; // [sp+4h] [bp-8h]@1
  int v3; // [sp+8h] [bp-4h]@1

  v2 = *(_DWORD *)(a1 + 108);
  v3 = *(_DWORD *)(a1 + 540);
  sub_10057070(v2, (_DWORD *)(a1 + 692));
  *(_DWORD *)(a1 + 684) = 0;
  sub_10057070(v2, (_DWORD *)(a1 + 152));
  *(_DWORD *)(a1 + 148) = 0;
  sub_10057070(v2, (_DWORD *)(a1 + 164));
  *(_WORD *)(a1 + 160) = 0;
  sub_10057380(*(_DWORD *)(a1 + 112), (_DWORD *)(a1 + 508));
  *(_DWORD *)(a1 + 512) = 0;
  sub_10057070(v2, (_DWORD *)(a1 + 260));
  sub_10057070(v2, (_DWORD *)(a1 + 264));
  if ( *(_BYTE *)(a1 + 304) )
  {
    sub_10057070(v2, (_DWORD *)(a1 + 344));
    sub_10057070(v2, (_DWORD *)(a1 + 348));
    *(_BYTE *)(a1 + 304) = 0;
  }
  sub_10057070(v2, (_DWORD *)(a1 + 560));
  *(_WORD *)(a1 + 558) = 0;
  (*(void (__cdecl **)(int))(v3 + 60))(a1);
  (*(void (__cdecl **)(int))(v3 + 68))(a1);
  sub_10057070(v2, (_DWORD *)(a1 + 20));
  sub_10057070(v2, (_DWORD *)(a1 + 24));
  *(_DWORD *)(a1 + 28) = 0;
  sub_10057070(v2, (_DWORD *)(a1 + 32));
  result = a1;
  *(_DWORD *)(a1 + 540) = 0;
  return result;
}

//----- (1005FB10) --------------------------------------------------------
int __cdecl sub_1005FB10(int a1, int *a2)
{
  int v3; // [sp+0h] [bp-8h]@1
  int v4; // [sp+4h] [bp-4h]@1

  *a2 = 0;
  v4 = sub_10056F50(a1, 0x80Cu, (int)&v3);
  if ( !v4 )
  {
    *(_DWORD *)(v3 + 2056) = a1;
    sub_1005FB70(v3);
    *a2 = v3;
  }
  return v4;
}

//----- (1005FB70) --------------------------------------------------------
int __cdecl sub_1005FB70(int a1)
{
  int result; // eax@3
  unsigned int i; // [sp+4h] [bp-4h]@1

  for ( i = 0; i < 0x100; ++i )
  {
    *(_DWORD *)(a1 + 4 * i + 1032) = (((unsigned __int8)(i & 0xAA) >> 1) + (i & 0x55)) & 3 | 4
                                                                                           * (((unsigned __int8)(i & 0xAA) >> 1)
                                                                                            + (i & 0x55)) & 0x30 | 16 * (((i & 0xAA) >> 1) + (i & 0x55)) & 0x300 | ((((i & 0xAA) >> 1) + (i & 0x55)) << 6) & 0x3000;
    result = i + 1;
  }
  return result;
}

//----- (1005FBF0) --------------------------------------------------------
int __cdecl sub_1005FBF0(int a1)
{
  return sub_10057070(*(_DWORD *)(a1 + 2056), &a1);
}

//----- (1005FC20) --------------------------------------------------------
int __cdecl sub_1005FC20(int a1, int a2, unsigned int a3)
{
  int result; // eax@4

  if ( a1 && a2 && (signed int)a3 >= 4096 )
  {
    *(_DWORD *)(a1 + 32) = a2;
    result = a1;
    *(_DWORD *)(a1 + 36) = *(_DWORD *)(a1 + 32) + 4 * (a3 >> 2);
  }
  return result;
}

//----- (1005FC60) --------------------------------------------------------
signed int __cdecl sub_1005FC60(int a1, int a2)
{
  signed int result; // eax@5
  int v3; // eax@17
  int v4; // ecx@17
  int v5; // [sp+0h] [bp-8h]@1
  int v6; // [sp+4h] [bp-4h]@1

  v6 = *(_DWORD *)(a2 + 4);
  v5 = *(_DWORD *)a2;
  if ( a1 && *(_DWORD *)(a1 + 32) && *(_DWORD *)(a1 + 36) && v6 )
  {
    if ( *(_WORD *)(v6 + 2) && (signed int)*(_WORD *)v6 > 0 )
    {
      if ( *(_DWORD *)(v6 + 12) && *(_DWORD *)(v6 + 4) )
      {
        if ( *(_WORD *)(v6 + 2) == *(_WORD *)(*(_DWORD *)(v6 + 12) + 2 * *(_WORD *)v6 - 2) + 1 )
        {
          if ( v5 && *(_DWORD *)(v5 + 12) )
          {
            v3 = a1 + 132;
            *(_DWORD *)v3 = *(_DWORD *)v6;
            *(_DWORD *)(v3 + 4) = *(_DWORD *)(v6 + 4);
            *(_DWORD *)(v3 + 8) = *(_DWORD *)(v6 + 8);
            *(_DWORD *)(v3 + 12) = *(_DWORD *)(v6 + 12);
            *(_DWORD *)(v3 + 16) = *(_DWORD *)(v6 + 16);
            v4 = a1 + 108;
            *(_DWORD *)v4 = *(_DWORD *)v5;
            *(_DWORD *)(v4 + 4) = *(_DWORD *)(v5 + 4);
            *(_DWORD *)(v4 + 8) = *(_DWORD *)(v5 + 8);
            *(_DWORD *)(v4 + 12) = *(_DWORD *)(v5 + 12);
            *(_DWORD *)(v4 + 16) = *(_DWORD *)(v5 + 16);
            *(_DWORD *)(v4 + 20) = *(_DWORD *)(v5 + 20);
            result = sub_1005FD80(a1);
          }
          else
          {
            result = 20;
          }
        }
        else
        {
          result = 20;
        }
      }
      else
      {
        result = 20;
      }
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    result = 96;
  }
  return result;
}

//----- (1005FD80) --------------------------------------------------------
signed int __cdecl sub_1005FD80(int a1)
{
  signed int result; // eax@2
  signed int v2; // [sp+0h] [bp-4h]@1
  signed int v3; // [sp+0h] [bp-4h]@5

  sub_1005FF10(a1, *(_DWORD *)(a1 + 148) & 0x100);
  *(_DWORD *)(a1 + 28) = *(_DWORD *)(a1 + 16);
  *(_BYTE *)(a1 + 184) = 2;
  *(_BYTE *)(a1 + 185) = (*(_DWORD *)(a1 + 148) & 0x200) == 0;
  *(_DWORD *)(a1 + 168) = sub_1005FFA0;
  *(_DWORD *)(a1 + 172) = sub_10060000;
  *(_DWORD *)(a1 + 176) = sub_10060180;
  *(_DWORD *)(a1 + 180) = sub_10060310;
  *(_DWORD *)(a1 + 1028) = 0;
  *(_WORD *)(a1 + 964) = 0;
  *(_WORD *)(a1 + 966) = *(_DWORD *)(a1 + 108) - 1;
  *(_WORD *)(a1 + 60) = *(_WORD *)(a1 + 112);
  *(_DWORD *)(a1 + 64) = *(_DWORD *)(a1 + 120);
  v2 = sub_100605D0(a1, 0);
  if ( v2 )
  {
    result = v2;
  }
  else if ( *(_BYTE *)(a1 + 185)
         && *(_BYTE *)(a1 + 184)
         && (*(_DWORD *)(a1 + 168) = sub_10060340,
             *(_DWORD *)(a1 + 172) = sub_10060360,
             *(_DWORD *)(a1 + 176) = sub_10060430,
             *(_DWORD *)(a1 + 180) = sub_100605C0,
             *(_DWORD *)(a1 + 1028) = 0,
             *(_WORD *)(a1 + 964) = 0,
             *(_WORD *)(a1 + 966) = *(_DWORD *)(a1 + 112) - 1,
             (v3 = sub_100605D0(a1, 1u)) != 0) )
  {
    result = v3;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1005FF10) --------------------------------------------------------
int __cdecl sub_1005FF10(int a1, int a2)
{
  int result; // eax@4

  if ( a2 )
  {
    *(_DWORD *)a1 = 10;
    *(_DWORD *)(a1 + 20) = 128;
    *(_DWORD *)(a1 + 24) = 24;
  }
  else
  {
    *(_DWORD *)a1 = 6;
    *(_DWORD *)(a1 + 20) = 32;
    *(_DWORD *)(a1 + 24) = 2;
  }
  *(_DWORD *)(a1 + 4) = 1 << *(_DWORD *)a1;
  *(_DWORD *)(a1 + 8) = *(_DWORD *)(a1 + 4) / 2;
  *(_DWORD *)(a1 + 16) = *(_DWORD *)a1 - 6;
  result = a1;
  *(_DWORD *)(a1 + 12) = -*(_DWORD *)(a1 + 4);
  return result;
}

//----- (1005FFA0) --------------------------------------------------------
int __cdecl sub_1005FFA0(int a1, _WORD *a2)
{
  int v2; // ST00_4@1
  int result; // eax@1

  v2 = *(_DWORD *)(a1 + 116);
  *(_WORD *)(a1 + 160) = -(signed __int16)v2;
  *(_DWORD *)(a1 + 152) = v2 * (*(_DWORD *)(a1 + 108) - *a2 - 1);
  *(_WORD *)(a1 + 162) = 0;
  result = a1;
  *(_WORD *)(a1 + 164) = 0;
  return result;
}

//----- (10060000) --------------------------------------------------------
int __cdecl sub_10060000(int a1, __int16 a2, int a3, int a4)
{
  int result; // eax@1
  char v5; // [sp+3h] [bp-19h]@10
  int v6; // [sp+4h] [bp-18h]@1
  int v7; // [sp+8h] [bp-14h]@10
  int i; // [sp+10h] [bp-Ch]@11
  int v9; // [sp+14h] [bp-8h]@10
  int v10; // [sp+18h] [bp-4h]@2

  v6 = (-*(_DWORD *)(a1 + 4) & (a3 + *(_DWORD *)(a1 + 4) - 1)) >> *(_DWORD *)a1;
  result = a1;
  if ( a4 - a3 - *(_DWORD *)(a1 + 4) > *(_DWORD *)(a1 + 24) )
  {
    result = a1;
    v10 = (a4 & -*(_DWORD *)(a1 + 4)) >> *(_DWORD *)a1;
  }
  else
  {
    v10 = (-*(_DWORD *)(a1 + 4) & (a3 + *(_DWORD *)(a1 + 4) - 1)) >> *(_DWORD *)a1;
  }
  if ( v10 >= 0 && v6 < *(_WORD *)(a1 + 60) )
  {
    if ( v6 < 0 )
      v6 = 0;
    if ( v10 >= *(_WORD *)(a1 + 60) )
      v10 = *(_WORD *)(a1 + 60) - 1;
    v9 = (signed __int16)(v6 >> 3);
    v5 = 255 >> (v6 & 7);
    v7 = v9 + *(_DWORD *)(a1 + 152) + *(_DWORD *)(a1 + 64);
    if ( (signed __int16)(v10 >> 3) - v9 <= 0 )
    {
      result = (unsigned __int8)(~(unsigned __int8)(127 >> (v10 & 7)) & v5) | *(_BYTE *)v7;
      *(_BYTE *)v7 = result;
    }
    else
    {
      *(_BYTE *)v7 |= v5;
      for ( i = (signed __int16)(v10 >> 3) - v9 - 1; i > 0; --i )
        *(_BYTE *)++v7 = -1;
      result = (unsigned __int8)~(127 >> (v10 & 7)) | *(_BYTE *)(v7 + 1);
      *(_BYTE *)(v7 + 1) = result;
    }
  }
  return result;
}

//----- (10060180) --------------------------------------------------------
char __cdecl sub_10060180(int a1, __int16 a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@2
  char v8; // [sp+4h] [bp-14h]@3
  char v9; // [sp+8h] [bp-10h]@9
  int v10; // [sp+Ch] [bp-Ch]@1
  signed int v11; // [sp+Ch] [bp-Ch]@9
  signed int v12; // [sp+Ch] [bp-Ch]@15
  int v13; // [sp+14h] [bp-4h]@1

  v10 = -*(_DWORD *)(a1 + 4) & (a3 + *(_DWORD *)(a1 + 4) - 1);
  v13 = a4 & -*(_DWORD *)(a1 + 4);
  if ( v10 <= v13 )
  {
LABEL_15:
    v6 = v10 >> *(_DWORD *)a1;
    v12 = v10 >> *(_DWORD *)a1;
    if ( v12 >= 0 && v12 < *(_WORD *)(a1 + 60) )
    {
      v6 = *(_DWORD *)(a1 + 152) + (signed __int16)(v12 >> 3);
      *(_BYTE *)(v6 + *(_DWORD *)(a1 + 64)) = (128 >> (v12 & 7)) | *(_BYTE *)(*(_DWORD *)(a1 + 64) + v6);
    }
    return v6;
  }
  LOBYTE(v6) = a1;
  if ( v10 == *(_DWORD *)(a1 + 4) + v13 )
  {
    LOBYTE(v6) = *(_BYTE *)(a1 + 184);
    v8 = *(_BYTE *)(a1 + 184);
    if ( v8 == 2 || v8 == 5 )
    {
      if ( *(_DWORD *)(a5 + 28) != a6 || (LOBYTE(v6) = a5, *(_DWORD *)(a5 + 16) > 0) )
      {
        if ( *(_DWORD *)(a6 + 28) != a5 || (LOBYTE(v6) = a2, *(_DWORD *)(a5 + 20) != a2) )
        {
          v11 = v10 >> *(_DWORD *)a1;
          v9 = v11 & 7;
          if ( v11 < 0
            || v11 >= *(_WORD *)(a1 + 60)
            || (v6 = 128 >> v9,
                !((128 >> v9) & *(_BYTE *)(*(_DWORD *)(a1 + 64) + (signed __int16)(v11 >> 3) + *(_DWORD *)(a1 + 152)))) )
          {
            v10 = a4 & -*(_DWORD *)(a1 + 4);
            goto LABEL_15;
          }
        }
      }
    }
  }
  return v6;
}

//----- (10060310) --------------------------------------------------------
int __cdecl sub_10060310(int a1)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)(a1 + 152) += *(_WORD *)(a1 + 160);
  return result;
}

//----- (10060340) --------------------------------------------------------
int __cdecl sub_10060340(int a1)
{
  return a1;
}

//----- (10060360) --------------------------------------------------------
_BYTE *__cdecl sub_10060360(int a1, __int16 a2, int a3, int a4)
{
  _BYTE *result; // eax@1
  int v5; // [sp+8h] [bp-Ch]@2
  int v6; // [sp+8h] [bp-Ch]@3

  result = (_BYTE *)a1;
  if ( a4 - a3 < *(_DWORD *)(a1 + 4) )
  {
    v5 = -*(_DWORD *)(a1 + 4) & (a3 + *(_DWORD *)(a1 + 4) - 1);
    result = (_BYTE *)v5;
    if ( v5 == (a4 & -*(_DWORD *)(a1 + 4)) )
    {
      result = (_BYTE *)(128 >> (a2 & 7));
      v6 = v5 >> *(_DWORD *)a1;
      if ( v6 >= 0 )
      {
        result = (_BYTE *)a1;
        if ( v6 < *(_DWORD *)(a1 + 108) )
        {
          result = (_BYTE *)(*(_DWORD *)(a1 + 64) + (a2 >> 3) + *(_DWORD *)(a1 + 116) * (*(_DWORD *)(a1 + 108) - 1 - v6));
          *result |= 128 >> (a2 & 7);
        }
      }
    }
  }
  return result;
}

//----- (10060430) --------------------------------------------------------
char __cdecl sub_10060430(int a1, __int16 a2, int a3, int a4, int a5, int a6)
{
  _BYTE *v6; // eax@2
  char v8; // [sp+0h] [bp-14h]@3
  int v9; // [sp+8h] [bp-Ch]@1
  int v10; // [sp+8h] [bp-Ch]@9
  int v11; // [sp+8h] [bp-Ch]@15
  int v12; // [sp+10h] [bp-4h]@1

  v9 = -*(_DWORD *)(a1 + 4) & (a3 + *(_DWORD *)(a1 + 4) - 1);
  v12 = a4 & -*(_DWORD *)(a1 + 4);
  if ( v9 <= v12 )
  {
LABEL_15:
    v6 = (_BYTE *)(128 >> (a2 & 7));
    v11 = v9 >> *(_DWORD *)a1;
    if ( v11 >= 0 )
    {
      LOBYTE(v6) = a1;
      if ( v11 < *(_DWORD *)(a1 + 108) )
      {
        v6 = (_BYTE *)(*(_DWORD *)(a1 + 64) + (a2 >> 3) + *(_DWORD *)(a1 + 116) * (*(_DWORD *)(a1 + 108) - 1 - v11));
        *v6 |= 128 >> (a2 & 7);
      }
    }
    return (unsigned int)v6;
  }
  LOBYTE(v6) = a1;
  if ( v9 == *(_DWORD *)(a1 + 4) + v12 )
  {
    LOBYTE(v6) = *(_BYTE *)(a1 + 184);
    v8 = *(_BYTE *)(a1 + 184);
    if ( v8 == 2 || v8 == 5 )
    {
      if ( *(_DWORD *)(a5 + 28) != a6 || (LOBYTE(v6) = a5, *(_DWORD *)(a5 + 16) > 0) )
      {
        if ( *(_DWORD *)(a6 + 28) != a5 || (LOBYTE(v6) = a2, *(_DWORD *)(a5 + 20) != a2) )
        {
          v10 = v9 >> *(_DWORD *)a1;
          if ( v10 < 0
            || v10 >= *(_DWORD *)(a1 + 108)
            || (v6 = (_BYTE *)(*(_DWORD *)(a1 + 64)
                             + (a2 >> 3)
                             + *(_DWORD *)(a1 + 116) * (*(_DWORD *)(a1 + 108) - 1 - v10)),
                !((unsigned __int8)(128 >> (a2 & 7)) & *v6)) )
          {
            v9 = a4 & -*(_DWORD *)(a1 + 4);
            goto LABEL_15;
          }
        }
      }
    }
  }
  return (unsigned int)v6;
}

//----- (100605C0) --------------------------------------------------------
int __cdecl sub_100605C0(int a1)
{
  return a1;
}

//----- (100605D0) --------------------------------------------------------
signed int __cdecl sub_100605D0(int a1, unsigned __int8 a2)
{
  __int16 v3; // [sp+0h] [bp-Ch]@5
  __int16 v4; // [sp+4h] [bp-8h]@5
  __int16 v5; // [sp+8h] [bp-4h]@5

  while ( *(_DWORD *)(a1 + 1028) >= 0 )
  {
    *(_DWORD *)(a1 + 84) = *(_DWORD *)(a1 + 4) * *(_WORD *)(a1 + 4 * *(_DWORD *)(a1 + 1028) + 966);
    *(_DWORD *)(a1 + 80) = *(_DWORD *)(a1 + 4) * *(_WORD *)(a1 + 4 * *(_DWORD *)(a1 + 1028) + 964);
    *(_DWORD *)(a1 + 44) = *(_DWORD *)(a1 + 32);
    *(_DWORD *)(a1 + 48) = 0;
    if ( sub_100607A0(a1, a2) )
    {
      if ( *(_DWORD *)(a1 + 48) != 98 )
        return 1;
      *(_DWORD *)(a1 + 48) = 0;
      v5 = *(_WORD *)(a1 + 4 * *(_DWORD *)(a1 + 1028) + 964);
      v3 = *(_WORD *)(a1 + 4 * *(_DWORD *)(a1 + 1028) + 966);
      v4 = (v3 + v5) / 2;
      if ( *(_DWORD *)(a1 + 1028) >= 7 || v4 < v5 )
      {
        *(_DWORD *)(a1 + 1028) = 0;
        *(_DWORD *)(a1 + 48) = 20;
        return *(_DWORD *)(a1 + 48);
      }
      *(_WORD *)(a1 + 4 * *(_DWORD *)(a1 + 1028) + 968) = v4;
      *(_WORD *)(a1 + 4 * *(_DWORD *)(a1 + 1028) + 970) = v3;
      *(_WORD *)(a1 + 4 * (*(_DWORD *)(a1 + 1028))++ + 966) = v4 - 1;
    }
    else
    {
      if ( *(_DWORD *)(a1 + 96) && sub_10061B90(a1) )
        return *(_DWORD *)(a1 + 48);
      --*(_DWORD *)(a1 + 1028);
    }
  }
  return 0;
}

//----- (100607A0) --------------------------------------------------------
bool __cdecl sub_100607A0(int a1, int a2)
{
  bool result; // al@4
  unsigned __int16 v3; // [sp+0h] [bp-Ch]@1
  int v4; // [sp+4h] [bp-8h]@11
  signed int i; // [sp+8h] [bp-4h]@1

  *(_DWORD *)(a1 + 96) = 0;
  *(_BYTE *)(a1 + 91) = 0;
  *(_BYTE *)(a1 + 90) = 0;
  *(_DWORD *)(a1 + 40) = *(_DWORD *)(a1 + 36) - 32;
  *(_DWORD *)(a1 + 52) = 0;
  *(_DWORD *)(a1 + 92) = *(_DWORD *)(a1 + 44);
  *(_DWORD *)(*(_DWORD *)(a1 + 92) + 8) = *(_DWORD *)(a1 + 44);
  *(_WORD *)(a1 + 88) = 0;
  v3 = 0;
  for ( i = 0; i < *(_WORD *)(a1 + 132); ++i )
  {
    *(_DWORD *)(a1 + 104) = 0;
    *(_DWORD *)(a1 + 100) = 0;
    if ( sub_10060C50(a1, v3, *(_WORD *)(*(_DWORD *)(a1 + 144) + 2 * i), a2) )
      return 1;
    v3 = *(_WORD *)(*(_DWORD *)(a1 + 144) + 2 * i) + 1;
    if ( !(*(_DWORD *)(a1 + 76) & (*(_DWORD *)(a1 + 4) - 1))
      && *(_DWORD *)(a1 + 76) >= *(_DWORD *)(a1 + 80)
      && *(_DWORD *)(a1 + 76) <= *(_DWORD *)(a1 + 84)
      && *(_DWORD *)(a1 + 100)
      && *(_DWORD *)(*(_DWORD *)(a1 + 100) + 12) == *(_DWORD *)(*(_DWORD *)(a1 + 92) + 12) )
    {
      *(_DWORD *)(a1 + 44) -= 4;
    }
    v4 = *(_DWORD *)(a1 + 92);
    if ( sub_10060950(a1) )
      return 1;
    if ( *(_DWORD *)(a1 + 100) )
      *(_DWORD *)(v4 + 28) = *(_DWORD *)(a1 + 100);
  }
  if ( sub_10060A30(a1) )
    result = 1;
  else
    result = *(_DWORD *)(a1 + 44) >= *(_DWORD *)(a1 + 40);
  return result;
}

//----- (10060950) --------------------------------------------------------
char __cdecl sub_10060950(int a1)
{
  char result; // al@2
  int v2; // ST00_4@4
  int v3; // [sp+4h] [bp-4h]@1

  v3 = (*(_DWORD *)(a1 + 44) - *(_DWORD *)(*(_DWORD *)(a1 + 92) + 8)) >> 2;
  if ( v3 >= 0 )
  {
    if ( v3 > 0 )
    {
      v2 = *(_DWORD *)(a1 + 92);
      *(_DWORD *)(*(_DWORD *)(a1 + 92) + 16) = v3;
      *(_DWORD *)(a1 + 92) = *(_DWORD *)(a1 + 44);
      *(_DWORD *)(a1 + 44) += 32;
      *(_DWORD *)(*(_DWORD *)(a1 + 92) + 16) = 0;
      *(_DWORD *)(*(_DWORD *)(a1 + 92) + 8) = *(_DWORD *)(a1 + 44);
      *(_DWORD *)(v2 + 28) = *(_DWORD *)(a1 + 92);
      ++*(_WORD *)(a1 + 88);
    }
    if ( *(_DWORD *)(a1 + 44) < *(_DWORD *)(a1 + 40) )
    {
      *(_BYTE *)(a1 + 91) = 0;
      result = 0;
    }
    else
    {
      result = 1;
      *(_DWORD *)(a1 + 48) = 98;
    }
  }
  else
  {
    *(_DWORD *)(a1 + 48) = 99;
    result = 1;
  }
  return result;
}

//----- (10060A30) --------------------------------------------------------
char __cdecl sub_10060A30(int a1)
{
  int v1; // ST14_4@8
  char v2; // al@8
  int v4; // [sp+4h] [bp-10h]@8
  unsigned __int16 v5; // [sp+8h] [bp-Ch]@1
  int v6; // [sp+10h] [bp-4h]@2

  v5 = *(_WORD *)(a1 + 88);
  if ( (signed int)v5 <= 1 )
  {
    *(_DWORD *)(a1 + 96) = 0;
  }
  else
  {
    v6 = *(_DWORD *)(a1 + 96);
    while ( (signed int)v5 > 0 )
    {
      if ( (signed int)v5 <= 1 )
        *(_DWORD *)(v6 + 4) = 0;
      else
        *(_DWORD *)(v6 + 4) = *(_DWORD *)(v6 + 8) + 4 * *(_DWORD *)(v6 + 16);
      if ( *(_DWORD *)(v6 + 12) == -1 )
      {
        v1 = *(_DWORD *)(v6 + 20) - *(_DWORD *)(v6 + 16) + 1;
        v4 = *(_DWORD *)(v6 + 20);
        *(_DWORD *)(v6 + 20) = v1;
        *(_DWORD *)(v6 + 8) = *(_DWORD *)(v6 + 8) + 4 * *(_DWORD *)(v6 + 16) - 4;
        v2 = sub_10060B60(a1, v1);
      }
      else
      {
        v4 = *(_DWORD *)(v6 + 20) + *(_DWORD *)(v6 + 16) - 1;
        v2 = sub_10060B60(a1, *(_DWORD *)(v6 + 20));
      }
      if ( v2 || sub_10060B60(a1, v4 + 1) )
        return 1;
      v6 = *(_DWORD *)(v6 + 4);
      --v5;
    }
  }
  return 0;
}

//----- (10060B60) --------------------------------------------------------
char __cdecl sub_10060B60(int a1, int a2)
{
  int v2; // ST08_4@8
  int v4; // [sp+0h] [bp-Ch]@1
  int v5; // [sp+4h] [bp-8h]@1

  v5 = *(_DWORD *)(a1 + 52) - 1;
  v4 = *(_DWORD *)(a1 + 36) - 4 * *(_DWORD *)(a1 + 52);
  while ( v5 >= 0 && a2 < *(_DWORD *)(v4 + 4 * v5) )
    --v5;
  if ( v5 >= 0 && a2 > *(_DWORD *)(v4 + 4 * v5) )
  {
    while ( v5 >= 0 )
    {
      v2 = *(_DWORD *)(v4 + 4 * v5);
      *(_DWORD *)(v4 + 4 * v5) = a2;
      a2 = v2;
      --v5;
    }
  }
  if ( v5 < 0 )
  {
    *(_DWORD *)(a1 + 40) -= 4;
    if ( *(_DWORD *)(a1 + 40) <= *(_DWORD *)(a1 + 44) )
    {
      *(_DWORD *)(a1 + 48) = 98;
      return 1;
    }
    *(_DWORD *)(*(_DWORD *)(a1 + 36) + -4 * ++*(_DWORD *)(a1 + 52)) = a2;
  }
  return 0;
}

//----- (10060C50) --------------------------------------------------------
char __cdecl sub_10060C50(int a1, unsigned __int16 a2, unsigned __int16 a3, int a4)
{
  int v5; // [sp+10h] [bp-4Ch]@19
  int v6; // [sp+14h] [bp-48h]@19
  int v7; // [sp+20h] [bp-3Ch]@12
  signed int v8; // [sp+24h] [bp-38h]@12
  int v9; // [sp+30h] [bp-2Ch]@16
  int v10; // [sp+34h] [bp-28h]@16
  int v11; // [sp+38h] [bp-24h]@1
  int v12; // [sp+3Ch] [bp-20h]@1
  int v13; // [sp+40h] [bp-1Ch]@1
  unsigned int v14; // [sp+44h] [bp-18h]@1
  int v15; // [sp+48h] [bp-14h]@1
  int v16; // [sp+4Ch] [bp-10h]@1
  _BYTE *v17; // [sp+50h] [bp-Ch]@3
  unsigned int v18; // [sp+58h] [bp-4h]@3

  v13 = *(_DWORD *)(a1 + 136);
  v14 = v13 + 8 * a3;
  v11 = (*(_DWORD *)(v13 + 8 * a2) << *(_DWORD *)(a1 + 28)) - *(_DWORD *)(a1 + 8);
  v12 = (*(_DWORD *)(v13 + 8 * a2 + 4) << *(_DWORD *)(a1 + 28)) - *(_DWORD *)(a1 + 8);
  v15 = (*(_DWORD *)(v13 + 8 * a3) << *(_DWORD *)(a1 + 28)) - *(_DWORD *)(a1 + 8);
  v16 = (*(_DWORD *)(v13 + 8 * a3 + 4) << *(_DWORD *)(a1 + 28)) - *(_DWORD *)(a1 + 8);
  if ( a4 )
  {
    v11 = (*(_DWORD *)(v13 + 8 * a2 + 4) << *(_DWORD *)(a1 + 28)) - *(_DWORD *)(a1 + 8);
    v12 = (*(_DWORD *)(v13 + 8 * a2) << *(_DWORD *)(a1 + 28)) - *(_DWORD *)(a1 + 8);
    v15 = (*(_DWORD *)(v13 + 8 * a3 + 4) << *(_DWORD *)(a1 + 28)) - *(_DWORD *)(a1 + 8);
    v16 = (*(_DWORD *)(v13 + 8 * a3) << *(_DWORD *)(a1 + 28)) - *(_DWORD *)(a1 + 8);
  }
  v18 = v13 + 8 * a2;
  v17 = (_BYTE *)(*(_DWORD *)(a1 + 140) + a2);
  if ( !(*v17 & 3) )
  {
    if ( (*(_BYTE *)(*(_DWORD *)(a1 + 140) + a3) & 3) == 1 )
    {
      v11 = v15;
      v12 = v16;
      v14 -= 8;
    }
    else
    {
      v11 = (v15 + v11) / 2;
      v12 = (v16 + v12) / 2;
    }
    v18 -= 8;
    --v17;
  }
  *(_DWORD *)(a1 + 72) = v11;
  *(_DWORD *)(a1 + 76) = v12;
LABEL_9:
  while ( v18 < v14 )
  {
    v18 += 8;
    if ( !(*++v17 & 3) )
    {
      v9 = (*(_DWORD *)v18 << *(_DWORD *)(a1 + 28)) - *(_DWORD *)(a1 + 8);
      v10 = (*(_DWORD *)(v18 + 4) << *(_DWORD *)(a1 + 28)) - *(_DWORD *)(a1 + 8);
      if ( a4 )
      {
        v9 = (*(_DWORD *)(v18 + 4) << *(_DWORD *)(a1 + 28)) - *(_DWORD *)(a1 + 8);
        v10 = (*(_DWORD *)v18 << *(_DWORD *)(a1 + 28)) - *(_DWORD *)(a1 + 8);
      }
      while ( v18 < v14 )
      {
        v18 += 8;
        ++v17;
        v5 = (*(_DWORD *)v18 << *(_DWORD *)(a1 + 28)) - *(_DWORD *)(a1 + 8);
        v6 = (*(_DWORD *)(v18 + 4) << *(_DWORD *)(a1 + 28)) - *(_DWORD *)(a1 + 8);
        if ( a4 )
        {
          v5 = (*(_DWORD *)(v18 + 4) << *(_DWORD *)(a1 + 28)) - *(_DWORD *)(a1 + 8);
          v6 = (*(_DWORD *)v18 << *(_DWORD *)(a1 + 28)) - *(_DWORD *)(a1 + 8);
        }
        if ( (*v17 & 3) == 1 )
        {
          if ( sub_100615A0(a1, v9, v10, v5, v6) )
            return 1;
          goto LABEL_9;
        }
        if ( *v17 & 3 )
        {
          *(_DWORD *)(a1 + 48) = 20;
          return 1;
        }
        if ( sub_100615A0(a1, v9, v10, (v5 + v9) / 2, (v6 + v10) / 2) )
          return 1;
        v9 = v5;
        v10 = v6;
      }
      if ( sub_100615A0(a1, v9, v10, v11, v12) )
        return 1;
      return 0;
    }
    if ( (*v17 & 3) == 1 )
    {
      v7 = (*(_DWORD *)v18 << *(_DWORD *)(a1 + 28)) - *(_DWORD *)(a1 + 8);
      v8 = (*(_DWORD *)(v18 + 4) << *(_DWORD *)(a1 + 28)) - *(_DWORD *)(a1 + 8);
      if ( a4 )
      {
        v7 = (*(_DWORD *)(v18 + 4) << *(_DWORD *)(a1 + 28)) - *(_DWORD *)(a1 + 8);
        v8 = (*(_DWORD *)v18 << *(_DWORD *)(a1 + 28)) - *(_DWORD *)(a1 + 8);
      }
      if ( !sub_10061020(a1, v7, v8) )
        continue;
    }
    return 1;
  }
  if ( !sub_10061020(a1, v11, v12) )
    return 0;
  return 1;
}

//----- (10061020) --------------------------------------------------------
char __cdecl sub_10061020(int a1, int a2, signed int a3)
{
  int v4; // [sp+0h] [bp-8h]@22
  int v5; // [sp+4h] [bp-4h]@1

  v5 = *(_DWORD *)(a1 + 104);
  if ( v5 )
  {
    if ( v5 == 1 )
    {
      if ( a3 < *(_DWORD *)(a1 + 76) && (sub_10060950(a1) || sub_100611C0(a1, 2)) )
        return 1;
    }
    else if ( v5 == 2 && a3 > *(_DWORD *)(a1 + 76) && (sub_10060950(a1) || sub_100611C0(a1, 1)) )
    {
      return 1;
    }
  }
  else if ( a3 <= *(_DWORD *)(a1 + 76) )
  {
    if ( a3 < *(_DWORD *)(a1 + 76) && sub_100611C0(a1, 2) )
      return 1;
  }
  else if ( sub_100611C0(a1, 1) )
  {
    return 1;
  }
  v4 = *(_DWORD *)(a1 + 104);
  if ( v4 == 1 )
  {
    if ( sub_100612E0(
           a1,
           *(_DWORD *)(a1 + 72),
           *(_DWORD *)(a1 + 76),
           a2,
           a3,
           *(_DWORD *)(a1 + 80),
           *(_DWORD *)(a1 + 84)) )
    {
      return 1;
    }
  }
  else if ( v4 == 2
         && sub_10061530(
              a1,
              *(_DWORD *)(a1 + 72),
              *(_DWORD *)(a1 + 76),
              a2,
              a3,
              *(_DWORD *)(a1 + 80),
              *(_DWORD *)(a1 + 84)) )
  {
    return 1;
  }
  *(_DWORD *)(a1 + 72) = a2;
  *(_DWORD *)(a1 + 76) = a3;
  return 0;
}

//----- (100611C0) --------------------------------------------------------
char __cdecl sub_100611C0(int a1, int a2)
{
  char result; // al@4

  if ( !*(_DWORD *)(a1 + 96) )
  {
    *(_DWORD *)(a1 + 92) = *(_DWORD *)(a1 + 44);
    *(_DWORD *)(a1 + 96) = *(_DWORD *)(a1 + 92);
    *(_DWORD *)(a1 + 44) += 32;
  }
  if ( *(_DWORD *)(a1 + 44) >= *(_DWORD *)(a1 + 40) )
  {
    *(_DWORD *)(a1 + 48) = 98;
    return 1;
  }
  if ( a2 == 1 )
  {
    *(_DWORD *)(*(_DWORD *)(a1 + 92) + 12) = 1;
  }
  else
  {
    if ( a2 != 2 )
    {
      result = 1;
      *(_DWORD *)(a1 + 48) = 20;
      return result;
    }
    *(_DWORD *)(*(_DWORD *)(a1 + 92) + 12) = -1;
  }
  *(_DWORD *)(*(_DWORD *)(a1 + 92) + 20) = 0;
  *(_DWORD *)(*(_DWORD *)(a1 + 92) + 16) = 0;
  *(_DWORD *)(*(_DWORD *)(a1 + 92) + 8) = *(_DWORD *)(a1 + 44);
  *(_DWORD *)(*(_DWORD *)(a1 + 92) + 4) = 0;
  *(_DWORD *)(*(_DWORD *)(a1 + 92) + 28) = 0;
  if ( !*(_DWORD *)(a1 + 100) )
    *(_DWORD *)(a1 + 100) = *(_DWORD *)(a1 + 92);
  *(_DWORD *)(a1 + 104) = a2;
  *(_BYTE *)(a1 + 90) = 1;
  *(_BYTE *)(a1 + 91) = 0;
  return 0;
}

//----- (100612E0) --------------------------------------------------------
char __cdecl sub_100612E0(int a1, int a2, signed int a3, int a4, signed int a5, signed int a6, signed int a7)
{
  char result; // al@4
  int v8; // [sp+0h] [bp-2Ch]@6
  signed int v9; // [sp+4h] [bp-28h]@6
  _DWORD *v10; // [sp+8h] [bp-24h]@24
  int v11; // [sp+Ch] [bp-20h]@9
  int v12; // [sp+10h] [bp-1Ch]@19
  int v13; // [sp+14h] [bp-18h]@1
  signed int v14; // [sp+14h] [bp-18h]@22
  int v15; // [sp+18h] [bp-14h]@1
  int v16; // [sp+1Ch] [bp-10h]@22
  int v17; // [sp+20h] [bp-Ch]@24
  signed int v18; // [sp+24h] [bp-8h]@9
  int v19; // [sp+28h] [bp-4h]@22

  v13 = a4 - a2;
  v15 = a5 - a3;
  if ( a5 - a3 <= 0 || a5 < a6 || a3 > a7 )
    return 0;
  if ( a3 >= a6 )
  {
    v9 = a3 >> *(_DWORD *)a1;
    v8 = a3 & (*(_DWORD *)(a1 + 4) - 1);
  }
  else
  {
    a2 += sub_10057980(v13, a6 - a3, v15);
    v9 = a6 >> *(_DWORD *)a1;
    v8 = 0;
  }
  if ( a5 <= a7 )
  {
    v18 = a5 >> *(_DWORD *)a1;
    v11 = a5 & (*(_DWORD *)(a1 + 4) - 1);
  }
  else
  {
    v18 = a7 >> *(_DWORD *)a1;
    v11 = 0;
  }
  if ( v8 <= 0 )
  {
    if ( *(_BYTE *)(a1 + 91) )
    {
      *(_DWORD *)(a1 + 44) -= 4;
      *(_BYTE *)(a1 + 91) = 0;
    }
  }
  else
  {
    if ( v9 == v18 )
      return 0;
    a2 += v13 * (*(_DWORD *)(a1 + 4) - v8) / v15;
    ++v9;
  }
  *(_BYTE *)(a1 + 91) = v11 == 0;
  if ( *(_BYTE *)(a1 + 90) )
  {
    *(_DWORD *)(*(_DWORD *)(a1 + 92) + 20) = v9;
    *(_BYTE *)(a1 + 90) = 0;
  }
  v12 = v18 - v9 + 1;
  if ( (unsigned int)(*(_DWORD *)(a1 + 44) + 4 * v12) < *(_DWORD *)(a1 + 40) )
  {
    if ( v13 <= 0 )
    {
      v16 = -(*(_DWORD *)(a1 + 4) * -v13 / v15);
      v19 = *(_DWORD *)(a1 + 4) * -v13 % v15;
      v14 = -1;
    }
    else
    {
      v16 = v13 * *(_DWORD *)(a1 + 4) / v15;
      v19 = v13 * *(_DWORD *)(a1 + 4) % v15;
      v14 = 1;
    }
    v17 = -v15;
    v10 = *(_DWORD **)(a1 + 44);
    while ( v12 > 0 )
    {
      *v10 = a2;
      ++v10;
      a2 += v16;
      v17 += v19;
      if ( v17 >= 0 )
      {
        v17 -= v15;
        a2 += v14;
      }
      --v12;
    }
    *(_DWORD *)(a1 + 44) = v10;
    result = 0;
  }
  else
  {
    *(_DWORD *)(a1 + 48) = 98;
    result = 1;
  }
  return result;
}

//----- (10061530) --------------------------------------------------------
char __cdecl sub_10061530(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  char v7; // ST1F_1@1
  char v9; // [sp+2h] [bp-2h]@1

  v7 = *(_BYTE *)(a1 + 90);
  v9 = sub_100612E0(a1, a2, -a3, a4, -a5, -a7, -a6);
  if ( v7 && !*(_BYTE *)(a1 + 90) )
    *(_DWORD *)(*(_DWORD *)(a1 + 92) + 20) = -*(_DWORD *)(*(_DWORD *)(a1 + 92) + 20);
  return v9;
}

//----- (100615A0) --------------------------------------------------------
char __cdecl sub_100615A0(int a1, int a2, int a3, int a4, int a5)
{
  int v6; // [sp+0h] [bp-1Ch]@2
  int v7; // [sp+4h] [bp-18h]@3
  int v8; // [sp+8h] [bp-14h]@2
  int v9; // [sp+Ch] [bp-10h]@2
  int v10; // [sp+10h] [bp-Ch]@3
  int v11; // [sp+14h] [bp-8h]@10
  int v12; // [sp+18h] [bp-4h]@2

  *(_DWORD *)(a1 + 56) = a1 + 188;
  *(_DWORD *)(*(_DWORD *)(a1 + 56) + 16) = *(_DWORD *)(a1 + 72);
  *(_DWORD *)(*(_DWORD *)(a1 + 56) + 20) = *(_DWORD *)(a1 + 76);
  *(_DWORD *)(*(_DWORD *)(a1 + 56) + 8) = a2;
  *(_DWORD *)(*(_DWORD *)(a1 + 56) + 12) = a3;
  **(_DWORD **)(a1 + 56) = a4;
  *(_DWORD *)(*(_DWORD *)(a1 + 56) + 4) = a5;
  while ( 1 )
  {
    v9 = *(_DWORD *)(*(_DWORD *)(a1 + 56) + 20);
    v12 = *(_DWORD *)(*(_DWORD *)(a1 + 56) + 12);
    v8 = *(_DWORD *)(*(_DWORD *)(a1 + 56) + 4);
    v6 = **(_DWORD **)(a1 + 56);
    if ( v9 > v8 )
    {
      v10 = *(_DWORD *)(*(_DWORD *)(a1 + 56) + 4);
      v7 = *(_DWORD *)(*(_DWORD *)(a1 + 56) + 20);
    }
    else
    {
      v10 = *(_DWORD *)(*(_DWORD *)(a1 + 56) + 20);
      v7 = *(_DWORD *)(*(_DWORD *)(a1 + 56) + 4);
    }
    if ( v12 < v10 || v12 > v7 )
    {
      sub_10061790(*(_DWORD *)(a1 + 56));
      *(_DWORD *)(a1 + 56) += 16;
      goto LABEL_18;
    }
    if ( v9 == v8 )
    {
      *(_DWORD *)(a1 + 56) -= 16;
      goto LABEL_18;
    }
    v11 = (v9 >= v8) + 1;
    if ( *(_DWORD *)(a1 + 104) != v11 && (*(_DWORD *)(a1 + 104) && sub_10060950(a1) || sub_100611C0(a1, v11)) )
      return 1;
    if ( v11 == 1 )
    {
      if ( sub_10061860(a1, 2, (void (__cdecl *)(unsigned int))sub_10061790, *(_DWORD *)(a1 + 80), *(_DWORD *)(a1 + 84)) )
        return 1;
    }
    else if ( sub_10061AE0(
                a1,
                2,
                (void (__cdecl *)(unsigned int))sub_10061790,
                *(_DWORD *)(a1 + 80),
                *(_DWORD *)(a1 + 84)) )
    {
      return 1;
    }
LABEL_18:
    if ( *(_DWORD *)(a1 + 56) < (unsigned int)(a1 + 188) )
    {
      *(_DWORD *)(a1 + 72) = v6;
      *(_DWORD *)(a1 + 76) = v8;
      return 0;
    }
  }
}

//----- (10061790) --------------------------------------------------------
int __cdecl sub_10061790(int a1)
{
  int v1; // ST00_4@1
  int v2; // ST04_4@1
  int v3; // ST00_4@1
  int v4; // ST04_4@1
  int result; // eax@1

  *(_DWORD *)(a1 + 32) = *(_DWORD *)(a1 + 16);
  v1 = *(_DWORD *)(a1 + 8);
  *(_DWORD *)(a1 + 24) = (v1 + *(_DWORD *)(a1 + 16)) / 2;
  v2 = *(_DWORD *)(a1 + 24);
  *(_DWORD *)(a1 + 8) = (v1 + *(_DWORD *)a1) / 2;
  *(_DWORD *)(a1 + 16) = (*(_DWORD *)(a1 + 8) + v2) / 2;
  *(_DWORD *)(a1 + 36) = *(_DWORD *)(a1 + 20);
  v3 = *(_DWORD *)(a1 + 12);
  *(_DWORD *)(a1 + 28) = (v3 + *(_DWORD *)(a1 + 20)) / 2;
  v4 = *(_DWORD *)(a1 + 28);
  *(_DWORD *)(a1 + 12) = (v3 + *(_DWORD *)(a1 + 4)) / 2;
  result = (*(_DWORD *)(a1 + 12) + v4) / 2;
  *(_DWORD *)(a1 + 20) = result;
  return result;
}

//----- (10061860) --------------------------------------------------------
char __cdecl sub_10061860(int a1, int a2, void (__cdecl *a3)(unsigned int), int a4, int a5)
{
  unsigned int v6; // [sp+0h] [bp-24h]@17
  int v7; // [sp+4h] [bp-20h]@7
  _DWORD *v8; // [sp+Ch] [bp-18h]@1
  unsigned int v9; // [sp+10h] [bp-14h]@1
  int v10; // [sp+14h] [bp-10h]@1
  int v11; // [sp+14h] [bp-10h]@21
  int v12; // [sp+18h] [bp-Ch]@6
  int v13; // [sp+1Ch] [bp-8h]@1
  int v14; // [sp+1Ch] [bp-8h]@20
  int v15; // [sp+20h] [bp-4h]@4

  v9 = *(_DWORD *)(a1 + 56);
  v10 = *(_DWORD *)(v9 + 8 * a2 + 4);
  v13 = *(_DWORD *)(v9 + 4);
  v8 = *(_DWORD **)(a1 + 44);
  if ( v13 >= a4 && v10 <= a5 )
  {
    v15 = v13 & -*(_DWORD *)(a1 + 4);
    if ( v15 > a5 )
      v15 = a5;
    v12 = a4;
    if ( v10 >= a4 )
    {
      v7 = -*(_DWORD *)(a1 + 4) & (v10 + *(_DWORD *)(a1 + 4) - 1);
      v12 = -*(_DWORD *)(a1 + 4) & (v10 + *(_DWORD *)(a1 + 4) - 1);
      if ( !((unsigned __int16)v10 & (unsigned __int16)(*(_WORD *)(a1 + 4) - 1)) )
      {
        if ( *(_BYTE *)(a1 + 91) )
        {
          --v8;
          *(_BYTE *)(a1 + 91) = 0;
        }
        *v8 = *(_DWORD *)(v9 + 8 * a2);
        ++v8;
        v7 += *(_DWORD *)(a1 + 4);
      }
    }
    else
    {
      v7 = a4;
    }
    if ( *(_BYTE *)(a1 + 90) )
    {
      *(_DWORD *)(*(_DWORD *)(a1 + 92) + 20) = v12 >> *(_DWORD *)a1;
      *(_BYTE *)(a1 + 90) = 0;
    }
    if ( v15 >= v7 )
    {
      if ( (unsigned int)&v8[((v15 - v7) >> *(_DWORD *)a1) + 1] >= *(_DWORD *)(a1 + 40) )
      {
        *(_DWORD *)(a1 + 44) = v8;
        *(_DWORD *)(a1 + 48) = 98;
        return 1;
      }
      v6 = v9;
      while ( v9 >= v6 && v7 <= v15 )
      {
        *(_BYTE *)(a1 + 91) = 0;
        v14 = *(_DWORD *)(v9 + 4);
        if ( v14 <= v7 )
        {
          if ( v14 == v7 )
          {
            *(_BYTE *)(a1 + 91) = 1;
            *v8 = *(_DWORD *)v9;
            ++v8;
            v7 += *(_DWORD *)(a1 + 4);
          }
          v9 -= 8 * a2;
        }
        else
        {
          v11 = *(_DWORD *)(v9 + 8 * a2 + 4);
          if ( v14 - v11 < *(_DWORD *)(a1 + 20) )
          {
            *v8 = *(_DWORD *)(v9 + 8 * a2) + (v7 - v11) * (*(_DWORD *)v9 - *(_DWORD *)(v9 + 8 * a2)) / (v14 - v11);
            ++v8;
            v9 -= 8 * a2;
            v7 += *(_DWORD *)(a1 + 4);
          }
          else
          {
            a3(v9);
            v9 += 8 * a2;
          }
        }
      }
    }
  }
  *(_DWORD *)(a1 + 44) = v8;
  *(_DWORD *)(a1 + 56) -= 8 * a2;
  return 0;
}

//----- (10061AE0) --------------------------------------------------------
char __cdecl sub_10061AE0(int a1, int a2, void (__cdecl *a3)(unsigned int), int a4, int a5)
{
  char v5; // ST17_1@1
  char v7; // [sp+2h] [bp-6h]@1
  int v8; // [sp+4h] [bp-4h]@1

  v8 = *(_DWORD *)(a1 + 56);
  *(_DWORD *)(v8 + 4) = -*(_DWORD *)(v8 + 4);
  *(_DWORD *)(v8 + 12) = -*(_DWORD *)(v8 + 12);
  *(_DWORD *)(v8 + 20) = -*(_DWORD *)(v8 + 20);
  v5 = *(_BYTE *)(a1 + 90);
  v7 = sub_10061860(a1, a2, a3, -a5, -a4);
  if ( v5 && !*(_BYTE *)(a1 + 90) )
    *(_DWORD *)(*(_DWORD *)(a1 + 92) + 20) = -*(_DWORD *)(*(_DWORD *)(a1 + 92) + 20);
  *(_DWORD *)(v8 + 4) = -*(_DWORD *)(v8 + 4);
  return v7;
}

//----- (10061B90) --------------------------------------------------------
char __cdecl sub_10061B90(int a1)
{
  char result; // al@9
  int v2; // ST34_4@30
  int v3; // ecx@36
  int v4; // eax@57
  int v5; // [sp+0h] [bp-54h]@20
  __int16 v6; // [sp+4h] [bp-50h]@13
  __int16 v7; // [sp+8h] [bp-4Ch]@25
  int v8; // [sp+Ch] [bp-48h]@29
  int v9; // [sp+10h] [bp-44h]@32
  __int16 v10; // [sp+14h] [bp-40h]@3
  int v11; // [sp+18h] [bp-3Ch]@27
  int v12; // [sp+18h] [bp-3Ch]@54
  __int16 v13; // [sp+20h] [bp-34h]@1
  int *v14; // [sp+24h] [bp-30h]@1
  int *v15; // [sp+28h] [bp-2Ch]@1
  int *i; // [sp+2Ch] [bp-28h]@1
  int *v17; // [sp+30h] [bp-24h]@3
  int *v18; // [sp+34h] [bp-20h]@27
  __int16 v19; // [sp+38h] [bp-1Ch]@1
  int *v20; // [sp+3Ch] [bp-18h]@1
  __int16 v21; // [sp+40h] [bp-14h]@13
  __int16 v22; // [sp+44h] [bp-10h]@3
  __int16 v23; // [sp+48h] [bp-Ch]@27
  int v24; // [sp+4Ch] [bp-8h]@29
  int v25; // [sp+50h] [bp-4h]@32

  sub_10062020(&v14);
  sub_10062020(&v15);
  sub_10062020(&v20);
  i = *(int **)(a1 + 96);
  v19 = *(_DWORD *)(a1 + 80) >> *(_DWORD *)a1;
  v13 = *(_DWORD *)(a1 + 84) >> *(_DWORD *)a1;
  while ( i )
  {
    v17 = (int *)i[1];
    v22 = *((_WORD *)i + 10);
    v10 = *((_WORD *)i + 10) + *((_WORD *)i + 8) - 1;
    if ( v13 > v22 )
      v13 = v22;
    if ( v19 < v10 )
      v19 = v10;
    *i = 0;
    sub_10062030(&v14, (int)i);
    i = v17;
  }
  if ( *(_DWORD *)(a1 + 52) )
  {
    (*(void (__cdecl **)(int, __int16 *, __int16 *))(a1 + 168))(a1, &v13, &v19);
    for ( i = v14; i; i = (int *)i[1] )
      i[6] = (unsigned __int16)(i[5] - v13);
    v21 = v13;
    v6 = 0;
    if ( *(_DWORD *)(a1 + 52) > 0 && *(_DWORD *)(*(_DWORD *)(a1 + 36) + -4 * *(_DWORD *)(a1 + 52)) == v13 )
      --*(_DWORD *)(a1 + 52);
    while ( *(_DWORD *)(a1 + 52) > 0 )
    {
      for ( i = v14; i; i = v17 )
      {
        v17 = (int *)i[1];
        i[6] -= v6;
        if ( !i[6] )
        {
          sub_10062090(&v14, (int)i);
          v5 = i[3];
          if ( v5 == -1 )
          {
            sub_10062030(&v20, (int)i);
          }
          else if ( v5 == 1 )
          {
            sub_10062030(&v15, (int)i);
          }
        }
      }
      sub_100620E0(&v15);
      sub_100620E0(&v20);
      v7 = *(_WORD *)(*(_DWORD *)(a1 + 36) + -4 * (*(_DWORD *)(a1 + 52))--);
      v6 = v7 - v21;
      while ( v21 < v7 )
      {
        v23 = 0;
        v11 = (int)v15;
        v18 = v20;
        while ( v11 )
        {
          v8 = *(_DWORD *)v11;
          v24 = *v18;
          if ( v8 > v24 )
          {
            v2 = v8;
            v8 = v24;
            v24 = v2;
          }
          if ( v24 - v8 <= *(_DWORD *)(a1 + 4)
            && (v9 = v8 & -*(_DWORD *)(a1 + 4),
                v25 = -*(_DWORD *)(a1 + 4) & (v24 + *(_DWORD *)(a1 + 4) - 1),
                *(_BYTE *)(a1 + 184))
            && (v9 > v25 || v25 == *(_DWORD *)(a1 + 4) + v9) )
          {
            *(_DWORD *)v11 = v8;
            *v18 = v24;
            *(_DWORD *)(v11 + 24) = 1;
            ++v23;
          }
          else
          {
            HIWORD(v3) = HIWORD(v11);
            LOWORD(v3) = v21;
            (*(void (__cdecl **)(int, int, int, int, int, int *))(a1 + 172))(a1, v3, v8, v24, v11, v18);
          }
          v11 = *(_DWORD *)(v11 + 4);
          v18 = (int *)v18[1];
        }
        if ( v23 > 0 )
        {
          v12 = (int)v15;
          v18 = v20;
          while ( v12 )
          {
            if ( *(_DWORD *)(v12 + 24) )
            {
              *(_DWORD *)(v12 + 24) = 0;
              v4 = *v18;
              LOWORD(v4) = v21;
              (*(void (__cdecl **)(int, int, _DWORD, int, int, int *))(a1 + 176))(
                a1,
                v4,
                *(_DWORD *)v12,
                *v18,
                v12,
                v18);
            }
            v12 = *(_DWORD *)(v12 + 4);
            v18 = (int *)v18[1];
          }
        }
        (*(void (__cdecl **)(int))(a1 + 180))(a1);
        if ( ++v21 < v7 )
        {
          sub_100620E0(&v15);
          sub_100620E0(&v20);
        }
      }
      for ( i = v15; i; i = v17 )
      {
        v17 = (int *)i[1];
        if ( !i[4] )
          sub_10062090(&v15, (int)i);
      }
      for ( i = v20; i; i = v17 )
      {
        v17 = (int *)i[1];
        if ( !i[4] )
          sub_10062090(&v20, (int)i);
      }
    }
    result = 0;
  }
  else
  {
    *(_DWORD *)(a1 + 48) = 20;
    result = 1;
  }
  return result;
}

//----- (10062020) --------------------------------------------------------
_DWORD *__cdecl sub_10062020(_DWORD *a1)
{
  _DWORD *result; // eax@1

  result = a1;
  *a1 = 0;
  return result;
}

//----- (10062030) --------------------------------------------------------
_DWORD *__cdecl sub_10062030(_DWORD *a1, int a2)
{
  _DWORD *result; // eax@5
  _DWORD *v3; // [sp+4h] [bp-8h]@1
  int i; // [sp+8h] [bp-4h]@1

  v3 = a1;
  for ( i = *a1; i && *(_DWORD *)a2 >= *(_DWORD *)i; i = *(_DWORD *)(i + 4) )
    v3 = (_DWORD *)(i + 4);
  *(_DWORD *)(a2 + 4) = i;
  result = v3;
  *v3 = a2;
  return result;
}

//----- (10062090) --------------------------------------------------------
_DWORD *__cdecl sub_10062090(_DWORD *a1, int a2)
{
  _DWORD *result; // eax@1
  _DWORD *v3; // [sp+0h] [bp-8h]@1
  int i; // [sp+4h] [bp-4h]@1

  result = a1;
  v3 = a1;
  for ( i = *a1; i; i = *(_DWORD *)(i + 4) )
  {
    if ( i == a2 )
    {
      result = *(_DWORD **)(i + 4);
      *v3 = result;
      return result;
    }
    v3 = (_DWORD *)(i + 4);
    result = *(_DWORD **)(i + 4);
  }
  return result;
}

//----- (100620E0) --------------------------------------------------------
_DWORD *__cdecl sub_100620E0(_DWORD *a1)
{
  _DWORD *result; // eax@4
  int j; // [sp+0h] [bp-Ch]@5
  _DWORD *v3; // [sp+4h] [bp-8h]@4
  int i; // [sp+8h] [bp-4h]@1
  int v5; // [sp+8h] [bp-4h]@4

  for ( i = *a1; i; i = *(_DWORD *)(i + 4) )
  {
    *(_DWORD *)i = **(_DWORD **)(i + 8);
    *(_DWORD *)(i + 8) += 4 * *(_DWORD *)(i + 12);
    --*(_DWORD *)(i + 16);
  }
  v3 = a1;
  result = a1;
  v5 = *a1;
  if ( *a1 )
  {
    result = *(_DWORD **)(v5 + 4);
    for ( j = *(_DWORD *)(v5 + 4); j; j = *(_DWORD *)(v5 + 4) )
    {
      if ( *(_DWORD *)v5 > *(_DWORD *)j )
      {
        *v3 = j;
        *(_DWORD *)(v5 + 4) = *(_DWORD *)(j + 4);
        *(_DWORD *)(j + 4) = v5;
        v3 = a1;
        v5 = *a1;
      }
      else
      {
        v3 = (_DWORD *)(v5 + 4);
        result = *(_DWORD **)(v5 + 4);
        v5 = *(_DWORD *)(v5 + 4);
        if ( !v5 )
          return result;
      }
      result = *(_DWORD **)(v5 + 4);
    }
  }
  return result;
}

//----- (100621C0) --------------------------------------------------------
int __cdecl sub_100621C0(int a1)
{
  (*(void (__cdecl **)(_DWORD, _DWORD, _DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 20) + 56) + 8))(
    *(_DWORD *)(a1 + 60),
    *(_DWORD *)(*(_DWORD *)(a1 + 4) + 172),
    *(_DWORD *)(*(_DWORD *)(a1 + 4) + 176));
  return 0;
}

//----- (10062200) --------------------------------------------------------
int __cdecl sub_10062200(int a1, int a2, int a3, int a4)
{
  sub_10058A80(a2 + 108, a3);
  sub_10058990(a2 + 108, *(_DWORD *)a4, *(_DWORD *)(a4 + 4));
  return 0;
}

//----- (10062250) --------------------------------------------------------
signed int __cdecl sub_10062250(int a1, int a2, int a3)
{
  int v4; // [sp+0h] [bp-5Ch]@5
  int v5; // [sp+4h] [bp-58h]@5
  int v6; // [sp+8h] [bp-54h]@5
  int v7; // [sp+10h] [bp-4Ch]@2
  unsigned int v8; // [sp+14h] [bp-48h]@7
  int v9; // [sp+18h] [bp-44h]@11
  int v10; // [sp+1Ch] [bp-40h]@11
  int v11; // [sp+20h] [bp-3Ch]@11
  int v12; // [sp+48h] [bp-14h]@5
  int v13; // [sp+4Ch] [bp-10h]@5
  unsigned int v14; // [sp+50h] [bp-Ch]@5
  int v15; // [sp+54h] [bp-8h]@5
  int v16; // [sp+58h] [bp-4h]@5

  if ( *(_DWORD *)(a2 + 72) == *(_DWORD *)(a1 + 24) )
  {
    if ( a3 != 2 )
      return 6;
    v16 = a2 + 108;
    sub_10058880(a2 + 108, (int)&v12);
    v12 &= 0xFFFFFFC0;
    v13 &= 0xFFFFFFC0;
    v14 = (v14 + 63) & 0xFFFFFFC0;
    v15 = (v15 + 63) & 0xFFFFFFC0;
    v5 = (signed int)(v14 - v12) >> 6;
    v6 = (v15 - v13) >> 6;
    v4 = *(_DWORD *)(a1 + 8);
    if ( *(_DWORD *)(*(_DWORD *)(a2 + 148) + 4) & 1 )
    {
      sub_10057070(v4, (_DWORD *)(a2 + 88));
      *(_DWORD *)(*(_DWORD *)(a2 + 148) + 4) &= 0xFFFFFFFE;
    }
    v8 = 4 * ((unsigned int)(v5 + 31) >> 5);
    *(_BYTE *)(a2 + 94) = 1;
    *(_DWORD *)(a2 + 80) = v5;
    *(_DWORD *)(a2 + 76) = v6;
    *(_DWORD *)(a2 + 84) = v8;
    if ( !v6 && v5 )
      v6 = 1;
    v7 = sub_10056F50(v4, v6 * v8, a2 + 88);
    if ( !v7 )
    {
      *(_DWORD *)(*(_DWORD *)(a2 + 148) + 4) |= 1u;
      sub_10058990(v16, -v12, -v13);
      v9 = a2 + 76;
      v10 = v16;
      v11 = 0;
      v7 = (*(int (__cdecl **)(_DWORD, int *))(a1 + 64))(*(_DWORD *)(a1 + 60), &v9);
      sub_10058990(v16, v12, v13);
      if ( !v7 )
      {
        *(_DWORD *)(a2 + 72) = 1651078259;
        *(_DWORD *)(a2 + 100) = v12 >> 6;
        *(_DWORD *)(a2 + 104) = v15 >> 6;
      }
    }
  }
  else
  {
    v7 = 6;
  }
  return v7;
}

//----- (10062440) --------------------------------------------------------
int __cdecl sub_10062440(int a1)
{
  return sub_10062470(*(int **)(a1 + 4), (int *)(a1 + 20));
}

//----- (10062470) --------------------------------------------------------
int __cdecl sub_10062470(int *a1, int *a2)
{
  int v3; // [sp+0h] [bp-10h]@5
  int v4; // [sp+4h] [bp-Ch]@1
  int v5; // [sp+8h] [bp-8h]@1
  int v6; // [sp+Ch] [bp-4h]@1

  v5 = 0;
  v4 = *a1;
  *a2 = 0;
  v6 = sub_10056F50(v4, 0x50u, (int)&v5);
  if ( !v6 )
  {
    *(_DWORD *)v5 = v4;
    *(_DWORD *)(v5 + 4) = 0;
    v3 = sub_10062540(v4, (int *)(v5 + 20)) || sub_10058AD0(v4, (int *)(v5 + 24)) || sub_10058C40(*(_DWORD *)(v5 + 24));
    v6 = v3;
    if ( !v3 )
      *a2 = v5;
  }
  if ( v6 )
    sub_10062580(v5);
  return v6;
}

//----- (10062540) --------------------------------------------------------
int __cdecl sub_10062540(int a1, int *a2)
{
  int v3; // [sp+0h] [bp-8h]@1
  int v4; // [sp+4h] [bp-4h]@1

  v3 = sub_10056F50(a1, 0x50u, (int)&v4);
  if ( !v3 )
  {
    *(_DWORD *)v4 = a1;
    *a2 = v4;
  }
  return v3;
}

//----- (10062580) --------------------------------------------------------
int __cdecl sub_10062580(int a1)
{
  int v1; // ST08_4@2
  int result; // eax@2

  if ( a1 )
  {
    v1 = *(_DWORD *)a1;
    sub_10058C00(*(int **)(a1 + 24));
    sub_100625E0(*(_DWORD *)(a1 + 20));
    *(_DWORD *)(a1 + 16) = 0;
    *(_DWORD *)(a1 + 12) = 0;
    result = sub_10057070(v1, &a1);
  }
  return result;
}

//----- (100625E0) --------------------------------------------------------
int __cdecl sub_100625E0(int a1)
{
  int v1; // ST08_4@2
  int result; // eax@2

  if ( a1 )
  {
    v1 = *(_DWORD *)a1;
    sub_10057070(*(_DWORD *)a1, (_DWORD *)(a1 + 52));
    sub_10057070(v1, (_DWORD *)(a1 + 68));
    sub_10057070(v1, (_DWORD *)(a1 + 44));
    sub_10057070(v1, (_DWORD *)(a1 + 32));
    result = sub_10057070(v1, &a1);
  }
  return result;
}

//----- (10062660) --------------------------------------------------------
int __cdecl sub_10062660(int a1)
{
  return sub_10062580(*(_DWORD *)(a1 + 20));
}

//----- (10062680) --------------------------------------------------------
signed int __cdecl sub_10062680(int a1, int a2, int a3, unsigned int a4, signed int a5)
{
  return sub_100626B0(*(_DWORD *)(a1 + 20), a2, a3, a4, a5);
}

//----- (100626B0) --------------------------------------------------------
signed int __cdecl sub_100626B0(int a1, int a2, int a3, unsigned int a4, signed int a5)
{
  signed int result; // eax@21
  bool v6; // [sp+2h] [bp-1Eh]@17
  bool v7; // [sp+3h] [bp-1Dh]@13
  int v8; // [sp+4h] [bp-1Ch]@1
  signed int v9; // [sp+8h] [bp-18h]@1
  int v10; // [sp+Ch] [bp-14h]@1
  signed int v11; // [sp+10h] [bp-10h]@6
  signed int v12; // [sp+14h] [bp-Ch]@1
  signed int v13; // [sp+18h] [bp-8h]@1
  int v14; // [sp+1Ch] [bp-4h]@1

  v10 = *(_DWORD *)(a2 + 4);
  v12 = 0;
  v13 = *(_DWORD *)(a3 + 16);
  v9 = *(_DWORD *)(a3 + 20);
  v14 = *(_DWORD *)(v10 + 124);
  v8 = (a5 >> 16) & 0xF;
  if ( *(_DWORD *)(a1 + 12) != v10 || *(_DWORD *)(a1 + 16) != v14 )
  {
    *(_DWORD *)(a1 + 12) = v10;
    if ( !v14 )
    {
      v12 = sub_10062A40(a1, v10);
      if ( v12 )
      {
        if ( v12 != 38 )
        {
          v11 = v12;
          goto LABEL_20;
        }
      }
    }
    *(_DWORD *)(a1 + 16) = *(_DWORD *)(v10 + 124);
    v14 = *(_DWORD *)(v10 + 124);
    *(_DWORD *)(*(_DWORD *)(a1 + 20) + 20) = *(_DWORD *)(v14 + 320);
  }
  if ( *(_DWORD *)(v14 + 308) != v13 || *(_DWORD *)(v14 + 312) != v9 )
    sub_10062840(a1, v13, v9);
  sub_10058B10(*(_DWORD *)(a1 + 24));
  *(_BYTE *)(a1 + 72) = 1;
  *(_BYTE *)(a1 + 73) = 1;
  v7 = v8 == 2 || v8 == 3;
  *(_BYTE *)(a1 + 74) = v7;
  v6 = v8 == 2 || v8 == 4;
  *(_BYTE *)(a1 + 75) = v6;
  *(_BYTE *)(a1 + 76) = v8 != 1;
  v11 = sub_100643E0(a1, a4, (a5 | 0x801) & 0xFFFFFFFB);
LABEL_20:
  if ( v11 )
    result = v11;
  else
    result = v12;
  return result;
}

//----- (10062840) --------------------------------------------------------
int __cdecl sub_10062840(int a1, signed int a2, signed int a3)
{
  int result; // eax@25
  signed int v4; // [sp+8h] [bp-20h]@11
  signed int v5; // [sp+Ch] [bp-1Ch]@8
  int v6; // [sp+10h] [bp-18h]@15
  signed int v7; // [sp+14h] [bp-14h]@15
  int v8; // [sp+14h] [bp-14h]@17
  unsigned int v9; // [sp+14h] [bp-14h]@18
  int v10; // [sp+18h] [bp-10h]@1
  int i; // [sp+1Ch] [bp-Ch]@1
  int j; // [sp+1Ch] [bp-Ch]@4
  signed int k; // [sp+1Ch] [bp-Ch]@13
  _DWORD *v14; // [sp+20h] [bp-8h]@1
  int v15; // [sp+24h] [bp-4h]@1

  v15 = *(_DWORD *)(a1 + 16);
  v14 = (_DWORD *)(v15 + 4);
  v10 = v15 + 156;
  qmemcpy((void *)(v15 + 156), (const void *)(v15 + 4), 0x98u);
  for ( i = 0; i < *v14; ++i )
    *(_DWORD *)(v10 + 4 * i + 16) = sub_10057C70(v14[i + 4], a2);
  for ( j = 0; j < *(_DWORD *)(v15 + 8); ++j )
    *(_DWORD *)(v10 + 4 * j + 64) = sub_10057C70(v14[j + 16], a3);
  if ( *v14 <= 0 )
    v5 = 32000;
  else
    v5 = *(_DWORD *)(v15 + 172);
  *(_DWORD *)(v15 + 164) = v5;
  if ( *(_DWORD *)(v15 + 8) <= 0 )
    v4 = 32000;
  else
    v4 = *(_DWORD *)(v15 + 220);
  *(_DWORD *)(v15 + 168) = v4;
  for ( k = 0; k < 5; ++k )
  {
    v6 = v14[k + 33] - v14[k + 28];
    v7 = v6;
    if ( v6 < 0 )
      v7 = -v6;
    v8 = sub_10057C70(v7, a3);
    if ( v8 >= 32 )
    {
      if ( v8 >= 64 )
        v9 = (v8 + 32) & 0xFFFFFFC0;
      else
        v9 = ((v8 - 16) & 0xFFFFFFE0) + 32;
    }
    else
    {
      v9 = 0;
    }
    if ( v6 < 0 )
      v9 = -v9;
    *(_DWORD *)(v10 + 4 * k + 112) = (sub_10057C70(v14[k + 28], a3) + 32) & 0xFFFFFFC0;
    *(_DWORD *)(v10 + 4 * k + 132) = v9 + *(_DWORD *)(v10 + 4 * k + 112);
  }
  *(_DWORD *)(v15 + 308) = a2;
  result = v15;
  *(_DWORD *)(v15 + 312) = a3;
  return result;
}

//----- (10062A40) --------------------------------------------------------
signed int __cdecl sub_10062A40(int a1, int a2)
{
  signed int v3; // [sp+4h] [bp-8h]@1
  int v4; // [sp+8h] [bp-4h]@1

  v3 = sub_10056F50(*(_DWORD *)a1, 0x144u, (int)&v4);
  if ( !v3 )
  {
    *(_DWORD *)(a1 + 12) = a2;
    *(_DWORD *)(a1 + 16) = v4;
    v3 = sub_10062AC0(a1);
    *(_DWORD *)(a2 + 124) = v4;
    *(_DWORD *)(a2 + 128) = sub_100643B0;
    *(_DWORD *)v4 = a2;
  }
  return v3;
}

//----- (10062AC0) --------------------------------------------------------
signed int __cdecl sub_10062AC0(int a1)
{
  signed int v2; // [sp+0h] [bp-4h]@1

  v2 = sub_10063170(a1);
  if ( !v2 )
    v2 = sub_10062AF0(a1);
  return v2;
}

//----- (10062AF0) --------------------------------------------------------
int __cdecl sub_10062AF0(int a1)
{
  signed int v2; // [sp+0h] [bp-DCh]@63
  bool v3; // [sp+7h] [bp-D5h]@46
  int v4; // [sp+14h] [bp-C8h]@33
  int v5; // [sp+14h] [bp-C8h]@40
  int v6; // [sp+18h] [bp-C4h]@25
  int v7; // [sp+1Ch] [bp-C0h]@29
  int v8; // [sp+20h] [bp-BCh]@23
  int v9; // [sp+24h] [bp-B8h]@29
  signed int j; // [sp+28h] [bp-B4h]@23
  signed int v11; // [sp+2Ch] [bp-B0h]@23
  int v12; // [sp+30h] [bp-ACh]@23
  unsigned int v13; // [sp+34h] [bp-A8h]@12
  int v14; // [sp+38h] [bp-A4h]@12
  int v15; // [sp+3Ch] [bp-A0h]@8
  unsigned int v16; // [sp+40h] [bp-9Ch]@12
  unsigned int v17; // [sp+48h] [bp-94h]@12
  int *v18; // [sp+4Ch] [bp-90h]@52
  int *v19; // [sp+50h] [bp-8Ch]@52
  unsigned int v20; // [sp+54h] [bp-88h]@4
  char *v21; // [sp+58h] [bp-84h]@4
  int v22; // [sp+5Ch] [bp-80h]@1
  int v23; // [sp+60h] [bp-7Ch]@1
  signed int i; // [sp+64h] [bp-78h]@2
  signed int v25; // [sp+68h] [bp-74h]@4
  int v26; // [sp+6Ch] [bp-70h]@1
  int v27[12]; // [sp+70h] [bp-6Ch]@49
  int v28; // [sp+A0h] [bp-3Ch]@1
  int v29; // [sp+A4h] [bp-38h]@4
  int v30[12]; // [sp+A8h] [bp-34h]@50
  int v31; // [sp+D8h] [bp-4h]@1

  v31 = *(_DWORD *)(a1 + 16) + 4;
  v26 = *(_DWORD *)(a1 + 12);
  v23 = *(_DWORD *)(v26 + 92);
  v22 = *(_DWORD *)(v26 + 100);
  v28 = sub_1005A380(v26, 1970170211);
  if ( !v28 )
  {
    for ( i = 0; i < 5; ++i )
    {
      v21 = off_100DE508[i];
      v20 = (unsigned int)(v21 + 12);
      v25 = 0;
      v29 = 0;
      while ( (unsigned int)v21 < v20 && *v21 )
      {
        v15 = sub_1005A5B0(v26, (unsigned __int8)*v21);
        if ( v15 )
        {
          v28 = sub_10059230(v26, v15, 1);
          if ( !v28 && (signed int)*(_WORD *)(v23 + 110) > 0 )
          {
            v14 = *(_DWORD *)(v23 + 112);
            v16 = v14 + 8 * *(_WORD *)(v23 + 110);
            v13 = *(_DWORD *)(v23 + 112);
            v17 = v14 + 8;
            if ( i && i != 2 )
            {
              while ( v17 < v16 )
              {
                if ( *(_DWORD *)(v17 + 4) < *(_DWORD *)(v13 + 4) )
                  v13 = v17;
                v17 += 8;
              }
            }
            else
            {
              while ( v17 < v16 )
              {
                if ( *(_DWORD *)(v17 + 4) > *(_DWORD *)(v13 + 4) )
                  v13 = v17;
                v17 += 8;
              }
            }
            v8 = (signed int)(v13 - v14) >> 3;
            v11 = -1;
            v12 = 0;
            for ( j = 0; j < *(_WORD *)(v23 + 108); ++j )
            {
              v6 = *(_WORD *)(*(_DWORD *)(v23 + 120) + 2 * j);
              if ( v6 >= v8 )
              {
                v11 = *(_WORD *)(*(_DWORD *)(v23 + 120) + 2 * j);
                break;
              }
              v12 = v6 + 1;
            }
            if ( v11 >= 0 )
            {
              v9 = (signed int)(v13 - v14) >> 3;
              v7 = (signed int)(v13 - v14) >> 3;
              do
              {
                if ( v9 <= v12 )
                  v9 = v11;
                else
                  --v9;
                v4 = *(_DWORD *)(v14 + 8 * v9 + 4) - *(_DWORD *)(v13 + 4);
              }
              while ( v4 >= -5 && v4 <= 5 && v9 != v8 );
              do
              {
                if ( v7 >= v11 )
                  v7 = v12;
                else
                  ++v7;
                v5 = *(_DWORD *)(v14 + 8 * v7 + 4) - *(_DWORD *)(v13 + 4);
              }
              while ( v5 >= -5 && v5 <= 5 && v7 != v8 );
              v3 = (*(_BYTE *)(*(_DWORD *)(v23 + 116) + v9) & 3) != 1
                || (*(_BYTE *)(*(_DWORD *)(v23 + 116) + v7) & 3) != 1;
              if ( v3 )
                v27[v29++] = *(_DWORD *)(v13 + 4);
              else
                v30[v25++] = *(_DWORD *)(v13 + 4);
            }
          }
        }
        ++v21;
      }
      sub_100630E0(v29, (int)v27);
      sub_100630E0(v25, (int)v30);
      v18 = (int *)(v31 + 4 * i + 112);
      v19 = (int *)(v31 + 4 * i + 132);
      if ( v25 || v29 )
      {
        if ( v25 )
        {
          if ( v29 )
          {
            *v18 = v30[v25 / 2];
            *v19 = v27[v29 / 2];
          }
          else
          {
            *v19 = v30[v25 / 2];
            *v18 = *v19;
          }
        }
        else
        {
          *v19 = v27[v29 / 2];
          *v18 = *v19;
        }
      }
      else
      {
        *v18 = -10000;
        *v19 = -10000;
      }
      if ( *v19 != *v18 )
      {
        v2 = i && i != 2 ? 0 : 1;
        if ( v2 != *v19 > *v18 )
        {
          *v18 = (*v18 + *v19) / 2;
          *v19 = *v18;
        }
      }
    }
    sub_1005A3B0(v26, v22);
    v28 = 0;
  }
  return v28;
}
// 100DE508: using guessed type char *off_100DE508[5];
// 10062AF0: using guessed type int var_6C[12];
// 10062AF0: using guessed type int var_34[12];

//----- (100630E0) --------------------------------------------------------
int __cdecl sub_100630E0(signed int a1, int a2)
{
  int result; // eax@7
  int v3; // ST08_4@6
  signed int j; // [sp+4h] [bp-Ch]@3
  signed int i; // [sp+Ch] [bp-4h]@1

  for ( i = 1; i < a1; ++i )
  {
    for ( j = i; j > 0 && *(_DWORD *)(a2 + 4 * j) <= *(_DWORD *)(a2 + 4 * j - 4); --j )
    {
      v3 = *(_DWORD *)(a2 + 4 * j);
      *(_DWORD *)(a2 + 4 * j) = *(_DWORD *)(a2 + 4 * j - 4);
      *(_DWORD *)(a2 + 4 * j - 4) = v3;
    }
    result = i + 1;
  }
  return result;
}

//----- (10063170) --------------------------------------------------------
signed int __cdecl sub_10063170(int a1)
{
  int v1; // eax@1
  signed int result; // eax@2
  int v3; // [sp+0h] [bp-38h]@12
  unsigned int v4; // [sp+4h] [bp-34h]@9
  unsigned int v5; // [sp+8h] [bp-30h]@7
  signed int v6; // [sp+Ch] [bp-2Ch]@7
  int v7; // [sp+10h] [bp-28h]@1
  signed int *v8; // [sp+14h] [bp-24h]@5
  unsigned int v9; // [sp+18h] [bp-20h]@5
  unsigned int v10; // [sp+1Ch] [bp-1Ch]@5
  signed int v11; // [sp+20h] [bp-18h]@3
  signed int v12; // [sp+24h] [bp-14h]@1
  signed int i; // [sp+28h] [bp-10h]@5
  signed int *v14; // [sp+2Ch] [bp-Ch]@5
  int v15; // [sp+30h] [bp-8h]@1
  int v16; // [sp+34h] [bp-4h]@1

  v16 = *(_DWORD *)(a1 + 20);
  v1 = *(_DWORD *)(a1 + 16);
  v15 = v1 + 4;
  v12 = 32000;
  *(_DWORD *)(v1 + 4) = 0;
  *(_DWORD *)(v1 + 8) = 0;
  v7 = sub_1005A5B0(*(_DWORD *)(a1 + 12), 111);
  if ( v7 )
  {
    v11 = sub_10059230(*(_DWORD *)(a1 + 12), v7, 1);
    if ( !v11 )
    {
      v11 = sub_100633A0(*(_DWORD *)(a1 + 20), 0x10000, 0x10000, *(_DWORD *)(a1 + 12));
      if ( !v11 )
      {
        sub_10063D10(*(_DWORD *)(a1 + 20));
        sub_100641B0(*(_DWORD *)(a1 + 20));
        v10 = *(_DWORD *)(v16 + 68);
        v9 = v10 + 56 * *(_DWORD *)(v16 + 64);
        v14 = (signed int *)(v15 + 64);
        v8 = (signed int *)(v15 + 4);
        for ( i = 1; i >= 0; --i )
        {
          v5 = v10;
          v6 = 0;
          while ( v5 < v9 )
          {
            v4 = *(_DWORD *)(v5 + 28);
            if ( v4 && *(_DWORD *)(v4 + 28) == v5 && v4 > v5 )
            {
              v3 = *(_DWORD *)(v5 + 8) - *(_DWORD *)(v4 + 8);
              if ( v3 < 0 )
                v3 = -v3;
              if ( v6 < 12 )
                v14[v6++] = v3;
            }
            v5 += 56;
          }
          sub_100630E0(v6, (int)v14);
          *v8 = v6;
          if ( v6 > 0 && *v14 < v12 )
            v12 = *v14;
          v10 = *(_DWORD *)(v16 + 76);
          v9 = v10 + 56 * *(_DWORD *)(v16 + 72);
          v14 = (signed int *)(v15 + 16);
          v8 = (signed int *)v15;
        }
        if ( v12 == 32000 )
          v12 = 50;
        *(_DWORD *)(*(_DWORD *)(a1 + 20) + 20) = v12 / 5;
        *(_DWORD *)(*(_DWORD *)(a1 + 16) + 320) = *(_DWORD *)(*(_DWORD *)(a1 + 20) + 20);
      }
    }
    result = v11;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (100633A0) --------------------------------------------------------
int __cdecl sub_100633A0(int a1, signed int a2, signed int a3, int a4)
{
  int v4; // eax@21
  int v5; // ST20_4@33
  int v6; // ST14_4@37
  int v8; // [sp+8h] [bp-74h]@37
  int v9; // [sp+14h] [bp-68h]@33
  int v10; // [sp+18h] [bp-64h]@33
  int v11; // [sp+1Ch] [bp-60h]@33
  int v12; // [sp+20h] [bp-5Ch]@33
  int v13; // [sp+24h] [bp-58h]@33
  _DWORD *v14; // [sp+28h] [bp-54h]@28
  _WORD *v15; // [sp+2Ch] [bp-50h]@28
  _DWORD *v16; // [sp+30h] [bp-4Ch]@28
  __int16 v17; // [sp+34h] [bp-48h]@28
  int v18; // [sp+38h] [bp-44h]@21
  unsigned int v19; // [sp+3Ch] [bp-40h]@21
  unsigned int v20; // [sp+40h] [bp-3Ch]@21
  unsigned int v21; // [sp+44h] [bp-38h]@21
  _BYTE *v22; // [sp+48h] [bp-34h]@16
  int v23; // [sp+4Ch] [bp-30h]@13
  unsigned int v24; // [sp+50h] [bp-2Ch]@13
  unsigned int i; // [sp+54h] [bp-28h]@13
  unsigned int v26; // [sp+58h] [bp-24h]@5
  int v27; // [sp+5Ch] [bp-20h]@5
  unsigned int v28; // [sp+60h] [bp-1Ch]@2
  int v29; // [sp+64h] [bp-18h]@1
  int v30; // [sp+68h] [bp-14h]@1
  int v31; // [sp+6Ch] [bp-10h]@1
  unsigned int v32; // [sp+70h] [bp-Ch]@12
  int v33; // [sp+74h] [bp-8h]@1
  int v34; // [sp+78h] [bp-4h]@1

  v31 = *(_DWORD *)a1;
  v33 = 0;
  v29 = *(_DWORD *)(a4 + 92) + 108;
  v34 = *(_WORD *)(v29 + 2);
  v30 = *(_WORD *)v29;
  if ( v30 > *(_DWORD *)(a1 + 36) )
  {
    v28 = (v30 + 3) & 0xFFFFFFFC;
    v33 = sub_10056FC0(v31, 4 * *(_DWORD *)(a1 + 36), 4 * v28, a1 + 44);
    if ( v33 )
      return v33;
    *(_DWORD *)(a1 + 36) = v28;
  }
  if ( v34 + 2 > *(_DWORD *)(a1 + 24) )
  {
    v26 = (v34 + 9) & 0xFFFFFFF8;
    v27 = *(_DWORD *)(a1 + 24);
    v33 = sub_10056FC0(v31, 52 * v27, 52 * v26, a1 + 32);
    if ( v33 )
      return v33;
    v33 = sub_10056FC0(v31, 104 * v27, 104 * v26, a1 + 52);
    if ( v33 )
      return v33;
    v33 = sub_10056FC0(v31, 112 * v27, 112 * v26, a1 + 68);
    if ( v33 )
      return v33;
    *(_DWORD *)(a1 + 60) = *(_DWORD *)(a1 + 52) + 52 * v26;
    *(_DWORD *)(a1 + 76) = *(_DWORD *)(a1 + 68) + 56 * v26;
    *(_DWORD *)(a1 + 24) = v26;
  }
  *(_DWORD *)(a1 + 28) = v34;
  *(_DWORD *)(a1 + 40) = v30;
  *(_DWORD *)(a1 + 48) = 0;
  *(_DWORD *)(a1 + 56) = 0;
  *(_DWORD *)(a1 + 64) = 0;
  *(_DWORD *)(a1 + 72) = 0;
  *(_DWORD *)(a1 + 4) = 2;
  *(_DWORD *)(a1 + 8) = -1;
  if ( sub_10063AA0(v29) > 1 )
  {
    *(_DWORD *)(a1 + 4) = -2;
    *(_DWORD *)(a1 + 8) = 1;
  }
  *(_DWORD *)(a1 + 12) = a2;
  *(_DWORD *)(a1 + 16) = a3;
  v32 = *(_DWORD *)(a1 + 32);
  if ( *(_DWORD *)(a1 + 28) )
  {
    v24 = v32 + 52 * *(_DWORD *)(a1 + 28);
    v23 = *(_DWORD *)(v29 + 4);
    for ( i = v32; i < v24; i += 52 )
    {
      *(_DWORD *)(i + 12) = *(_DWORD *)v23;
      *(_DWORD *)(i + 16) = *(_DWORD *)(v23 + 4);
      *(_DWORD *)(i + 20) = sub_10057C70(*(_DWORD *)v23, a2);
      *(_DWORD *)(i + 4) = *(_DWORD *)(i + 20);
      *(_DWORD *)(i + 24) = sub_10057C70(*(_DWORD *)(v23 + 4), a3);
      *(_DWORD *)(i + 8) = *(_DWORD *)(i + 24);
      *(_DWORD *)i = 0;
      v23 += 8;
    }
    v22 = *(_BYTE **)(v29 + 8);
    i = v32;
    while ( i < v24 )
    {
      if ( !(*v22 & 3) )
        *(_DWORD *)i = 1;
      i += 52;
      ++v22;
    }
    v18 = 0;
    v21 = v32;
    v4 = 52 * **(_WORD **)(v29 + 12);
    v19 = v32 + v4;
    v20 = v32 + v4;
    for ( i = v32; i < v24; i += 52 )
    {
      *(_DWORD *)(i + 48) = v20;
      if ( i >= v19 )
      {
        *(_DWORD *)(i + 44) = v21;
        ++v18;
        if ( i + 52 < v24 )
        {
          v19 = v32 + 52 * *(_WORD *)(*(_DWORD *)(v29 + 12) + 2 * v18);
          v21 = i + 52;
          v20 = v19;
        }
      }
      else
      {
        *(_DWORD *)(i + 44) = i + 52;
        v20 = i;
      }
    }
    v14 = *(_DWORD **)(a1 + 44);
    v16 = &v14[*(_DWORD *)(a1 + 40)];
    v15 = *(_WORD **)(v29 + 12);
    v17 = 0;
    while ( v14 < v16 )
    {
      *v14 = v32 + 52 * v17;
      v17 = *v15 + 1;
      ++v14;
      ++v15;
    }
    for ( i = v32; ; i += 52 )
    {
      if ( i >= v24 )
        return v33;
      v11 = *(_DWORD *)(i + 48);
      v9 = *(_DWORD *)(i + 12) - *(_DWORD *)(v11 + 12);
      v10 = *(_DWORD *)(i + 16) - *(_DWORD *)(v11 + 16);
      *(_DWORD *)(i + 36) = sub_10063A10(v9, v10);
      v5 = *(_DWORD *)(i + 44);
      v12 = *(_DWORD *)(v5 + 12) - *(_DWORD *)(i + 12);
      v13 = *(_DWORD *)(v5 + 16) - *(_DWORD *)(i + 16);
      *(_DWORD *)(i + 40) = sub_10063A10(v12, v13);
      if ( *(_DWORD *)i & 3 )
        break;
      if ( *(_DWORD *)(i + 40) == *(_DWORD *)(i + 36) )
      {
        if ( *(_DWORD *)(i + 40) != 4 )
          break;
        v6 = sub_100638E0((int)&v9);
        v8 = v6 - sub_100638E0((int)&v12);
        if ( v8 > 256 )
          v8 = 512 - v8;
        if ( v8 < 0 )
          v8 = -v8;
        if ( v8 < 2 )
          break;
      }
      else if ( *(_DWORD *)(i + 36) == -*(_DWORD *)(i + 40) )
      {
        break;
      }
LABEL_44:
      ;
    }
    *(_DWORD *)i |= 0x100u;
    goto LABEL_44;
  }
  return v33;
}

//----- (100638E0) --------------------------------------------------------
int __cdecl sub_100638E0(int a1)
{
  int result; // eax@4
  int v2; // ST08_4@12
  int v3; // [sp+4h] [bp-Ch]@1
  signed int v4; // [sp+8h] [bp-8h]@2
  signed int v5; // [sp+8h] [bp-8h]@6
  signed int v6; // [sp+8h] [bp-8h]@9
  int v7; // [sp+8h] [bp-8h]@14
  int v8; // [sp+Ch] [bp-4h]@1

  v3 = *(_DWORD *)a1;
  v8 = *(_DWORD *)(a1 + 4);
  if ( v8 )
  {
    if ( v3 )
    {
      v6 = 0;
      if ( v3 < 0 )
      {
        v3 = -*(_DWORD *)a1;
        v8 = -*(_DWORD *)(a1 + 4);
        v6 = 256;
      }
      if ( v8 < 0 )
      {
        v2 = v3;
        v3 = -v8;
        v8 = v2;
        v6 -= 128;
      }
      if ( v3 == v8 )
      {
        v7 = v6 + 64;
      }
      else if ( v3 <= v8 )
      {
        v7 = v6 + 128 - dword_100DE108[sub_10057D70(v3, v8) >> 8];
      }
      else
      {
        v7 = dword_100DE108[sub_10057D70(v8, v3) >> 8] + v6;
      }
      if ( v7 > 256 )
        v7 -= 512;
      result = v7;
    }
    else
    {
      v5 = 128;
      if ( v8 < 0 )
        v5 = -128;
      result = v5;
    }
  }
  else
  {
    v4 = 0;
    if ( v3 < 0 )
      v4 = 256;
    result = v4;
  }
  return result;
}
// 100DE108: using guessed type int dword_100DE108[];

//----- (10063A10) --------------------------------------------------------
int __cdecl sub_10063A10(int a1, int a2)
{
  int v3; // [sp+0h] [bp-14h]@5
  int v4; // [sp+4h] [bp-10h]@2
  int v5; // [sp+8h] [bp-Ch]@7

  if ( a1 >= 0 )
    v4 = a1;
  else
    v4 = -a1;
  if ( a2 >= 0 )
    v3 = a2;
  else
    v3 = -a2;
  v5 = 4;
  if ( 12 * v4 >= v3 )
  {
    if ( 12 * v3 < v4 )
      v5 = 2 * (a1 > 0) - 1;
  }
  else
  {
    v5 = 4 * (a2 > 0) - 2;
  }
  return v5;
}

//----- (10063AA0) --------------------------------------------------------
signed int __cdecl sub_10063AA0(int a1)
{
  signed int result; // eax@2
  signed int v2; // [sp+0h] [bp-30h]@5
  signed int v3; // [sp+4h] [bp-2Ch]@9
  signed int v4; // [sp+8h] [bp-28h]@1
  signed int v5; // [sp+Ch] [bp-24h]@1
  signed int v6; // [sp+10h] [bp-20h]@1
  signed int v7; // [sp+14h] [bp-1Ch]@1
  int v8; // [sp+18h] [bp-18h]@1
  int v9; // [sp+1Ch] [bp-14h]@1
  signed int i; // [sp+20h] [bp-10h]@3
  int v11; // [sp+20h] [bp-10h]@14
  int v12; // [sp+28h] [bp-8h]@1
  int v13; // [sp+2Ch] [bp-4h]@1

  v12 = -1;
  v13 = -1;
  v8 = -1;
  v9 = -1;
  v5 = 0x7FFF;
  v4 = 0x7FFF;
  v7 = -32768;
  v6 = -32768;
  if ( (signed int)*(_WORD *)a1 >= 1 )
  {
    for ( i = 0; i <= *(_WORD *)(*(_DWORD *)(a1 + 12) + 2 * *(_WORD *)a1 - 2); ++i )
    {
      v2 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 8 * i);
      if ( v2 < v4 )
      {
        v4 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 8 * i);
        v12 = i;
      }
      if ( v2 > v6 )
      {
        v6 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 8 * i);
        v8 = i;
      }
      v3 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 8 * i + 4);
      if ( v3 < v5 )
      {
        v5 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 8 * i + 4);
        v13 = i;
      }
      if ( v3 > v7 )
      {
        v7 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 8 * i + 4);
        v9 = i;
      }
    }
    v11 = sub_10063C10(a1, v12);
    if ( !v11 )
    {
      v11 = sub_10063C10(a1, v13);
      if ( !v11 )
      {
        v11 = sub_10063C10(a1, v8);
        if ( !v11 )
        {
          v11 = sub_10063C10(a1, v9);
          if ( !v11 )
            v11 = 1;
        }
      }
    }
    result = v11;
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (10063C10) --------------------------------------------------------
int __cdecl sub_10063C10(int a1, int a2)
{
  int v2; // esi@8
  int v3; // eax@8
  signed int i; // [sp+4h] [bp-20h]@1
  int v6; // [sp+Ch] [bp-18h]@1
  int v7; // [sp+10h] [bp-14h]@1
  int v8; // [sp+14h] [bp-10h]@1
  int v9; // [sp+18h] [bp-Ch]@8
  int v10; // [sp+1Ch] [bp-8h]@3
  int v11; // [sp+20h] [bp-4h]@1

  v8 = *(_DWORD *)(a1 + 4) + 8 * a2;
  v7 = v8 - 8;
  v6 = v8 + 8;
  v11 = 0;
  for ( i = 0; i < *(_WORD *)a1; ++i )
  {
    v10 = *(_WORD *)(*(_DWORD *)(a1 + 12) + 2 * i);
    if ( a2 == v11 )
      v7 = *(_DWORD *)(a1 + 4) + 8 * v10;
    if ( a2 == v10 )
      v6 = *(_DWORD *)(a1 + 4) + 8 * v11;
    v11 = v10 + 1;
  }
  v2 = sub_10057980(*(_DWORD *)v8 - *(_DWORD *)v7, *(_DWORD *)(v6 + 4) - *(_DWORD *)(v8 + 4), 64);
  v3 = sub_10057980(*(_DWORD *)(v8 + 4) - *(_DWORD *)(v7 + 4), *(_DWORD *)v6 - *(_DWORD *)v8, 64);
  v9 = 0;
  if ( v2 != v3 )
    v9 = (v2 - v3 > 0) + 1;
  return v9;
}

//----- (10063D10) --------------------------------------------------------
int __cdecl sub_10063D10(int a1)
{
  int result; // eax@1
  int v2; // [sp+0h] [bp-54h]@41
  int v3; // [sp+4h] [bp-50h]@16
  int v4; // [sp+8h] [bp-4Ch]@12
  int v5; // [sp+Ch] [bp-48h]@8
  signed int v6; // [sp+10h] [bp-44h]@23
  signed int v7; // [sp+14h] [bp-40h]@31
  signed int v8; // [sp+18h] [bp-3Ch]@6
  signed int v9; // [sp+1Ch] [bp-38h]@6
  char v10; // [sp+23h] [bp-31h]@21
  signed int v11; // [sp+24h] [bp-30h]@6
  int v12; // [sp+28h] [bp-2Ch]@6
  int v13; // [sp+28h] [bp-2Ch]@21
  int v14; // [sp+2Ch] [bp-28h]@6
  int v15; // [sp+30h] [bp-24h]@3
  unsigned int v16; // [sp+34h] [bp-20h]@3
  void *v17; // [sp+38h] [bp-1Ch]@3
  unsigned int v18; // [sp+3Ch] [bp-18h]@3
  void *v19; // [sp+40h] [bp-14h]@1
  _DWORD *v20; // [sp+44h] [bp-10h]@1
  signed int v21; // [sp+48h] [bp-Ch]@1
  signed int i; // [sp+4Ch] [bp-8h]@1
  signed int v23; // [sp+50h] [bp-4h]@1

  v19 = *(void **)(a1 + 68);
  v20 = (_DWORD *)(a1 + 64);
  v21 = 1;
  v23 = 1;
  result = sub_10064060(a1, 1);
  for ( i = 1; i >= 0; --i )
  {
    v16 = *(_DWORD *)(a1 + 44);
    v18 = v16 + 4 * *(_DWORD *)(a1 + 40);
    v17 = v19;
    v15 = 0;
    while ( v16 < v18 )
    {
      v14 = *(_DWORD *)v16;
      v12 = *(_DWORD *)(*(_DWORD *)v16 + 48);
      v11 = 0;
      v8 = 32000;
      v9 = -32000;
      if ( *(_DWORD *)v16 != v12 )
      {
        if ( *(_DWORD *)(v12 + 40) >= 0 )
          v5 = *(_DWORD *)(v12 + 40);
        else
          v5 = -*(_DWORD *)(v12 + 40);
        if ( v5 == v21 )
        {
          v4 = *(_DWORD *)(v14 + 40) >= 0 ? *(_DWORD *)(v14 + 40) : -*(_DWORD *)(v14 + 40);
          if ( v4 == v21 )
          {
            while ( 1 )
            {
              v14 = *(_DWORD *)(v14 + 48);
              v3 = *(_DWORD *)(v14 + 40) >= 0 ? *(_DWORD *)(v14 + 40) : -*(_DWORD *)(v14 + 40);
              if ( v3 != v21 )
                break;
              if ( v14 == *(_DWORD *)v16 )
                goto LABEL_21;
            }
            v14 = *(_DWORD *)(v14 + 44);
          }
        }
LABEL_21:
        v13 = v14;
        v10 = 0;
        while ( 1 )
        {
          if ( v11 )
          {
            v6 = *(_DWORD *)(v14 + 28);
            if ( v6 < v8 )
              v8 = *(_DWORD *)(v14 + 28);
            if ( v6 > v9 )
              v9 = *(_DWORD *)(v14 + 28);
            if ( *(_DWORD *)(v14 + 40) != v23 || v14 == v13 )
            {
              *((_DWORD *)v17 + 12) = v14;
              *((_DWORD *)v17 + 2) = (v9 + v8) >> 1;
              if ( (*(_DWORD *)v14 | **((_DWORD **)v17 + 11)) & 3 )
                *(_DWORD *)v17 |= 1u;
              v9 = *(_DWORD *)(v14 + 32);
              v8 = v9;
              v7 = *(_DWORD *)(*((_DWORD *)v17 + 11) + 32);
              if ( v7 < v9 )
                v8 = *(_DWORD *)(*((_DWORD *)v17 + 11) + 32);
              if ( v7 > v9 )
                v9 = *(_DWORD *)(*((_DWORD *)v17 + 11) + 32);
              *((_DWORD *)v17 + 3) = v8;
              *((_DWORD *)v17 + 4) = v9;
              v11 = 0;
              ++v15;
              v17 = (char *)v17 + 56;
            }
          }
          if ( v14 == v13 )
          {
            if ( v10 )
              break;
            v10 = 1;
          }
          if ( !v11 )
          {
            if ( *(_DWORD *)(v14 + 40) >= 0 )
              v2 = *(_DWORD *)(v14 + 40);
            else
              v2 = -*(_DWORD *)(v14 + 40);
            if ( v2 == v21 )
            {
              v23 = *(_DWORD *)(v14 + 40);
              memset(v17, 0, 0x38u);
              *((_DWORD *)v17 + 1) = v23;
              *(_DWORD *)v17 = 0;
              v9 = *(_DWORD *)(v14 + 28);
              v8 = *(_DWORD *)(v14 + 28);
              *((_DWORD *)v17 + 11) = v14;
              *((_DWORD *)v17 + 12) = v14;
              *((_DWORD *)v17 + 13) = v16;
              *((_DWORD *)v17 + 10) = 32000;
              *((_DWORD *)v17 + 7) = 0;
              v11 = 1;
            }
          }
          v14 = *(_DWORD *)(v14 + 44);
        }
      }
      v16 += 4;
    }
    *v20 = v15;
    v19 = *(void **)(a1 + 76);
    v21 = 2;
    v20 = (_DWORD *)(a1 + 72);
    result = sub_10064060(a1, 0);
  }
  return result;
}

//----- (10064060) --------------------------------------------------------
int __cdecl sub_10064060(int a1, int a2)
{
  int result; // eax@1
  unsigned int v3; // [sp+4h] [bp-8h]@1
  unsigned int v4; // [sp+8h] [bp-4h]@1

  v4 = *(_DWORD *)(a1 + 32);
  result = v4 + 52 * *(_DWORD *)(a1 + 28);
  v3 = v4 + 52 * *(_DWORD *)(a1 + 28);
  switch ( a2 )
  {
    case 0:
      while ( v4 < v3 )
      {
        *(_DWORD *)(v4 + 28) = *(_DWORD *)(v4 + 12);
        *(_DWORD *)(v4 + 32) = *(_DWORD *)(v4 + 16);
        result = v4 + 52;
        v4 += 52;
      }
      break;
    case 1:
      while ( 1 )
      {
        result = v4;
        if ( v4 >= v3 )
          break;
        *(_DWORD *)(v4 + 28) = *(_DWORD *)(v4 + 16);
        *(_DWORD *)(v4 + 32) = *(_DWORD *)(v4 + 12);
        v4 += 52;
      }
      break;
    case 4:
      while ( v4 < v3 )
      {
        *(_DWORD *)(v4 + 28) = *(_DWORD *)(v4 + 20);
        result = v4;
        *(_DWORD *)(v4 + 32) = *(_DWORD *)(v4 + 4);
        v4 += 52;
      }
      break;
    case 5:
      while ( v4 < v3 )
      {
        *(_DWORD *)(v4 + 28) = *(_DWORD *)(v4 + 24);
        *(_DWORD *)(v4 + 32) = *(_DWORD *)(v4 + 8);
        result = v4 + 52;
        v4 += 52;
      }
      break;
    default:
      while ( 1 )
      {
        result = v4;
        if ( v4 >= v3 )
          break;
        *(_DWORD *)(v4 + 28) = *(_DWORD *)(v4 + 20);
        *(_DWORD *)(v4 + 32) = *(_DWORD *)(v4 + 24);
        v4 += 52;
      }
      break;
  }
  return result;
}

//----- (100641B0) --------------------------------------------------------
int __cdecl sub_100641B0(int a1)
{
  int result; // eax@1
  int v2; // [sp+0h] [bp-34h]@15
  signed int v3; // [sp+4h] [bp-30h]@19
  int v4; // [sp+8h] [bp-2Ch]@15
  int v5; // [sp+Ch] [bp-28h]@20
  int v6; // [sp+10h] [bp-24h]@14
  unsigned int k; // [sp+1Ch] [bp-18h]@9
  int v8; // [sp+1Ch] [bp-18h]@28
  unsigned int j; // [sp+20h] [bp-14h]@3
  unsigned int l; // [sp+20h] [bp-14h]@26
  unsigned int v11; // [sp+24h] [bp-10h]@1
  unsigned int v12; // [sp+28h] [bp-Ch]@1
  int v13; // [sp+2Ch] [bp-8h]@1
  signed int i; // [sp+30h] [bp-4h]@1

  v12 = *(_DWORD *)(a1 + 68);
  result = v12 + 56 * *(_DWORD *)(a1 + 64);
  v11 = v12 + 56 * *(_DWORD *)(a1 + 64);
  v13 = *(_DWORD *)(a1 + 8);
  for ( i = 1; i >= 0; --i )
  {
    for ( j = v12; j < v11; j += 56 )
    {
      if ( *(_DWORD *)(j + 44) != *(_DWORD *)(j + 48) && *(_DWORD *)(j + 4) == v13 )
      {
        for ( k = v12; k < v11; k += 56 )
        {
          if ( k != j && !(*(_DWORD *)(k + 4) + *(_DWORD *)(j + 4)) )
          {
            v6 = *(_DWORD *)(k + 8) - *(_DWORD *)(j + 8);
            if ( v6 >= 0 )
            {
              v4 = *(_DWORD *)(j + 12);
              v2 = *(_DWORD *)(j + 16);
              if ( v4 < *(_DWORD *)(k + 12) )
                v4 = *(_DWORD *)(k + 12);
              if ( v2 > *(_DWORD *)(k + 16) )
                v2 = *(_DWORD *)(k + 16);
              v3 = v2 - v4;
              if ( v2 - v4 >= 8 )
              {
                v5 = v6 + 3000 / v3;
                if ( v6 + 3000 / v3 < *(_DWORD *)(j + 40) )
                {
                  *(_DWORD *)(j + 40) = v5;
                  *(_DWORD *)(j + 28) = k;
                }
                if ( v5 < *(_DWORD *)(k + 40) )
                {
                  *(_DWORD *)(k + 40) = v5;
                  *(_DWORD *)(k + 28) = j;
                }
              }
            }
          }
        }
      }
    }
    for ( l = v12; l < v11; l += 56 )
    {
      v8 = *(_DWORD *)(l + 28);
      if ( v8 )
      {
        ++*(_DWORD *)(v8 + 36);
        if ( *(_DWORD *)(v8 + 28) != l )
        {
          *(_DWORD *)(l + 28) = 0;
          *(_DWORD *)(l + 32) = *(_DWORD *)(v8 + 28);
        }
      }
    }
    v12 = *(_DWORD *)(a1 + 76);
    v11 = v12 + 56 * *(_DWORD *)(a1 + 72);
    v13 = *(_DWORD *)(a1 + 4);
    result = i - 1;
  }
  return result;
}

//----- (100643B0) --------------------------------------------------------
int __cdecl sub_100643B0(int a1)
{
  return sub_10057070(*(_DWORD *)(*(_DWORD *)a1 + 108), &a1);
}

//----- (100643E0) --------------------------------------------------------
signed int __cdecl sub_100643E0(int a1, unsigned int a2, signed int a3)
{
  int v3; // edx@13
  int v4; // eax@13
  int v6; // [sp+4h] [bp-44h]@12
  int v7; // [sp+8h] [bp-40h]@12
  unsigned int v8; // [sp+Ch] [bp-3Ch]@12
  unsigned int v9; // [sp+10h] [bp-38h]@12
  int v10; // [sp+14h] [bp-34h]@7
  int v11; // [sp+18h] [bp-30h]@7
  int v12; // [sp+1Ch] [bp-2Ch]@7
  int v13; // [sp+20h] [bp-28h]@7
  int v14; // [sp+24h] [bp-24h]@7
  int v15; // [sp+28h] [bp-20h]@7
  int v16; // [sp+2Ch] [bp-1Ch]@1
  int v17; // [sp+30h] [bp-18h]@1
  int v18; // [sp+34h] [bp-14h]@1
  int v19; // [sp+38h] [bp-10h]@1
  int v20; // [sp+3Ch] [bp-Ch]@1
  int v21; // [sp+40h] [bp-8h]@1
  int v22; // [sp+44h] [bp-4h]@1

  v19 = *(_DWORD *)(a1 + 12);
  v17 = *(_DWORD *)(v19 + 92);
  v21 = *(_DWORD *)(*(_DWORD *)(a1 + 16) + 308);
  v18 = *(_DWORD *)(*(_DWORD *)(a1 + 16) + 312);
  v22 = *(_DWORD *)(a1 + 20);
  v16 = *(_DWORD *)(a1 + 24);
  v20 = sub_10059230(v19, a2, a3);
  if ( !v20 )
  {
    *(_BYTE *)(a1 + 44) = 0;
    *(_DWORD *)(v17 + 56) = *(_DWORD *)(v17 + 40);
    *(_DWORD *)(v17 + 60) = *(_DWORD *)(v17 + 52);
    if ( *(_DWORD *)(v17 + 72) != 1869968492 )
      return 7;
    v20 = sub_10058D10(v16, *(_WORD *)(v17 + 110) + 2, *(_WORD *)(v17 + 108));
    if ( !v20 )
    {
      memcpy(*(void **)(v16 + 72), *(const void **)(v17 + 112), 8 * *(_WORD *)(v17 + 110));
      memcpy(*(void **)(v16 + 64), *(const void **)(v17 + 120), 2 * *(_WORD *)(v17 + 108));
      memcpy(*(void **)(v16 + 60), *(const void **)(v17 + 116), *(_WORD *)(v17 + 110));
      *(_WORD *)(v16 + 54) = *(_WORD *)(v17 + 110);
      *(_WORD *)(v16 + 52) = *(_WORD *)(v17 + 108);
      *(_DWORD *)(a1 + 28) = 0;
      *(_DWORD *)(a1 + 32) = 0;
      *(_DWORD *)(a1 + 36) = sub_10057C70(*(_DWORD *)(v17 + 40), v21);
      *(_DWORD *)(a1 + 40) = 0;
      if ( *(_WORD *)(v17 + 110) )
      {
        v20 = sub_100633A0(v22, v21, v18, v19);
        if ( v20 )
          return v20;
        sub_10064840(v22);
        sub_10064F80(v22, *(_DWORD *)(a1 + 16));
        sub_100651E0(v22, *(_DWORD *)(a1 + 16));
        sub_10065250(a1);
        sub_10065AD0(a1);
        sub_100647B0(v22, v16);
        if ( *(_DWORD *)(v22 + 56) )
        {
          v11 = *(_DWORD *)(v22 + 60);
          v12 = v11 + 52 * *(_DWORD *)(v22 + 56) - 52;
          v14 = *(_DWORD *)(a1 + 36);
          v10 = v14 - *(_DWORD *)(v12 + 4);
          v13 = *(_DWORD *)(v11 + 4);
          v15 = *(_DWORD *)(v11 + 8);
          *(_DWORD *)(a1 + 28) = (v15 - v13 + 32) & 0xFFFFFFC0;
          *(_DWORD *)(a1 + 36) = (*(_DWORD *)(v12 + 8) + v10 + 32) & 0xFFFFFFC0;
        }
        sub_10058F10(v16);
      }
      if ( *(_DWORD *)(a1 + 28) )
        sub_10058990(v16 + 20, -*(_DWORD *)(a1 + 28), 0);
      sub_10058880(v16 + 20, (int)&v6);
      v6 &= 0xFFFFFFC0;
      v7 &= 0xFFFFFFC0;
      v8 = (v8 + 63) & 0xFFFFFFC0;
      v9 = (v9 + 63) & 0xFFFFFFC0;
      *(_DWORD *)(v17 + 24) = v8 - v6;
      *(_DWORD *)(v17 + 28) = v9 - v7;
      *(_DWORD *)(v17 + 32) = v6;
      *(_DWORD *)(v17 + 36) = v9;
      *(_DWORD *)(v17 + 40) = *(_DWORD *)(a1 + 36) - *(_DWORD *)(a1 + 28);
      *(_DWORD *)(v17 + 40) = (*(_DWORD *)(v17 + 40) + 32) & 0xFFFFFFC0;
      sub_10058B10(**(_DWORD **)(v17 + 148));
      v20 = sub_10058FD0(**(_DWORD **)(v17 + 148), v16);
      if ( !v20 )
      {
        v3 = **(_DWORD **)(v17 + 148) + 20;
        v4 = v17 + 108;
        *(_DWORD *)v4 = *(_DWORD *)v3;
        *(_DWORD *)(v4 + 4) = *(_DWORD *)(v3 + 4);
        *(_DWORD *)(v4 + 8) = *(_DWORD *)(v3 + 8);
        *(_DWORD *)(v4 + 12) = *(_DWORD *)(v3 + 12);
        *(_DWORD *)(v4 + 16) = *(_DWORD *)(v3 + 16);
        *(_DWORD *)(v17 + 72) = 1869968492;
      }
    }
  }
  return v20;
}

//----- (100647B0) --------------------------------------------------------
int __cdecl sub_100647B0(int a1, int a2)
{
  int result; // eax@1
  unsigned int v3; // [sp+0h] [bp-10h]@1
  int v4; // [sp+4h] [bp-Ch]@1
  _BYTE *v5; // [sp+8h] [bp-8h]@1
  unsigned int v6; // [sp+Ch] [bp-4h]@1

  v6 = *(_DWORD *)(a1 + 32);
  v3 = v6 + 52 * *(_DWORD *)(a1 + 28);
  v4 = *(_DWORD *)(a2 + 56);
  result = a2;
  v5 = *(_BYTE **)(a2 + 60);
  while ( v6 < v3 )
  {
    *(_DWORD *)v4 = *(_DWORD *)(v6 + 20);
    *(_DWORD *)(v4 + 4) = *(_DWORD *)(v6 + 24);
    if ( *(_DWORD *)v6 & 1 )
      *v5 = 0;
    else
      *v5 = 1;
    v6 += 52;
    result = v4 + 8;
    v4 += 8;
    ++v5;
  }
  return result;
}

//----- (10064840) --------------------------------------------------------
int __cdecl sub_10064840(int a1)
{
  sub_10063D10(a1);
  sub_100641B0(a1);
  sub_10064B10(a1);
  return sub_10064880(a1);
}

//----- (10064880) --------------------------------------------------------
int __cdecl sub_10064880(int a1)
{
  int result; // eax@1
  int v2; // [sp+0h] [bp-40h]@11
  int v3; // [sp+4h] [bp-3Ch]@13
  int v4; // [sp+8h] [bp-38h]@18
  int v5; // [sp+Ch] [bp-34h]@3
  int v6; // [sp+Ch] [bp-34h]@8
  int v7; // [sp+10h] [bp-30h]@3
  int v8; // [sp+10h] [bp-30h]@14
  int v9; // [sp+14h] [bp-2Ch]@12
  signed int v10; // [sp+18h] [bp-28h]@3
  int v11; // [sp+1Ch] [bp-24h]@19
  int v12; // [sp+20h] [bp-20h]@7
  int v13; // [sp+24h] [bp-1Ch]@7
  int v14; // [sp+28h] [bp-18h]@7
  int v15; // [sp+2Ch] [bp-14h]@7
  int v16; // [sp+30h] [bp-10h]@3
  int v17; // [sp+34h] [bp-Ch]@3
  int *v18; // [sp+38h] [bp-8h]@1
  int *v19; // [sp+3Ch] [bp-4h]@1

  v18 = *(int **)(a1 + 44);
  v19 = &v18[*(_DWORD *)(a1 + 40)];
  result = sub_10064060(a1, 0);
  while ( v18 < v19 )
  {
    v16 = *v18;
    v10 = 0;
    v17 = v16;
    v7 = v16;
    v5 = v16;
    while ( 1 )
    {
      result = *(_DWORD *)(v7 + 44);
      v7 = *(_DWORD *)(v7 + 44);
      if ( v7 == v17 )
        break;
      if ( *(_DWORD *)(v7 + 28) != *(_DWORD *)(v17 + 28) || *(_DWORD *)(v7 + 32) != *(_DWORD *)(v17 + 32) )
      {
        v13 = *(_DWORD *)(v7 + 28) - *(_DWORD *)(v16 + 28);
        v14 = *(_DWORD *)(v7 + 32) - *(_DWORD *)(v16 + 32);
        v15 = sub_100638E0((int)&v13);
        v12 = v5;
        while ( 1 )
        {
          v6 = v12;
          result = *(_DWORD *)(v12 + 48);
          v12 = *(_DWORD *)(v12 + 48);
          if ( v12 == v17 )
            goto LABEL_23;
          if ( *(_DWORD *)(v12 + 28) != *(_DWORD *)(v6 + 28) || *(_DWORD *)(v12 + 32) != *(_DWORD *)(v6 + 32) )
          {
            v13 = *(_DWORD *)(v6 + 28) - *(_DWORD *)(v12 + 28);
            v14 = *(_DWORD *)(v6 + 32) - *(_DWORD *)(v12 + 32);
            v2 = sub_100638E0((int)&v13);
            if ( v2 != v15 )
            {
              v17 = v6;
              v9 = sub_10064AD0(v2, v15);
              do
              {
                v3 = v7;
                while ( 1 )
                {
                  v8 = v3;
                  v3 = *(_DWORD *)(v3 + 44);
                  if ( v3 == v17 )
                    v10 = 1;
                  if ( *(_DWORD *)(v8 + 28) != *(_DWORD *)(v3 + 28) || *(_DWORD *)(v8 + 32) != *(_DWORD *)(v3 + 32) )
                  {
                    v13 = *(_DWORD *)(v3 + 28) - *(_DWORD *)(v8 + 28);
                    v14 = *(_DWORD *)(v3 + 32) - *(_DWORD *)(v8 + 32);
                    v4 = sub_100638E0((int)&v13);
                    if ( v4 != v15 )
                      break;
                  }
                }
                v11 = sub_10064AD0(v15, v4);
                if ( (v11 ^ v9) < 0 )
                {
                  do
                  {
                    *(_DWORD *)v6 |= 0x200u;
                    v6 = *(_DWORD *)(v6 + 44);
                  }
                  while ( v6 != v8 );
                  *(_DWORD *)v6 |= 0x200u;
                }
                v6 = v8;
                result = v3;
                v7 = v3;
                v15 = v4;
                v9 = v11;
              }
              while ( !v10 );
              goto LABEL_23;
            }
          }
        }
      }
    }
LABEL_23:
    ++v18;
  }
  return result;
}

//----- (10064AD0) --------------------------------------------------------
int __cdecl sub_10064AD0(int a1, int a2)
{
  int v3; // [sp+0h] [bp-4h]@1

  v3 = a2 - a1;
  if ( a2 - a1 < 0 )
    v3 += 512;
  if ( v3 > 256 )
    v3 -= 512;
  return v3;
}

//----- (10064B10) --------------------------------------------------------
int __cdecl sub_10064B10(int a1)
{
  int result; // eax@1
  bool v2; // [sp+Bh] [bp-59h]@37
  int v3; // [sp+Ch] [bp-58h]@44
  int v4; // [sp+10h] [bp-54h]@46
  int v5; // [sp+14h] [bp-50h]@41
  _DWORD *v6; // [sp+18h] [bp-4Ch]@41
  int v7; // [sp+20h] [bp-44h]@28
  int v8; // [sp+24h] [bp-40h]@28
  int v9; // [sp+28h] [bp-3Ch]@28
  int v10; // [sp+2Ch] [bp-38h]@28
  int v11; // [sp+30h] [bp-34h]@9
  char *v12; // [sp+34h] [bp-30h]@7
  char *k; // [sp+38h] [bp-2Ch]@7
  char *l; // [sp+38h] [bp-2Ch]@21
  char *m; // [sp+38h] [bp-2Ch]@26
  unsigned int j; // [sp+3Ch] [bp-28h]@5
  int v17; // [sp+3Ch] [bp-28h]@23
  int v18; // [sp+3Ch] [bp-28h]@28
  unsigned int v19; // [sp+40h] [bp-24h]@5
  unsigned int v20; // [sp+44h] [bp-20h]@1
  unsigned int v21; // [sp+48h] [bp-1Ch]@1
  int *v22; // [sp+4Ch] [bp-18h]@1
  signed int v23; // [sp+50h] [bp-14h]@3
  int v24; // [sp+50h] [bp-14h]@5
  signed int i; // [sp+54h] [bp-10h]@1
  signed int v26; // [sp+58h] [bp-Ch]@1
  signed int v27; // [sp+5Ch] [bp-8h]@1
  char *v28; // [sp+60h] [bp-4h]@1

  v28 = *(char **)(a1 + 52);
  v21 = *(_DWORD *)(a1 + 68);
  v20 = v21 + 56 * *(_DWORD *)(a1 + 64);
  result = a1 + 48;
  v22 = (int *)(a1 + 48);
  v26 = 1;
  v27 = *(_DWORD *)(a1 + 16);
  for ( i = 1; i >= 0; --i )
  {
    v23 = sub_10057C70(*(_DWORD *)(a1 + 20), v27);
    if ( v23 > 16 )
      v23 = 16;
    v24 = sub_10057D70(v23, v27);
    v19 = (unsigned int)v28;
    for ( j = v21; j < v20; j += 56 )
    {
      v12 = 0;
      for ( k = v28; (unsigned int)k < v19; k += 52 )
      {
        v11 = *(_DWORD *)(j + 8) - *(_DWORD *)k;
        if ( v11 < 0 )
          v11 = -v11;
        if ( v11 < v24 )
        {
          v12 = k;
          break;
        }
      }
      if ( v12 )
      {
        *(_DWORD *)(j + 24) = *((_DWORD *)k + 11);
        *(_DWORD *)(*((_DWORD *)k + 12) + 24) = j;
        *((_DWORD *)k + 12) = j;
      }
      else
      {
        while ( k > v28 && *((_DWORD *)k - 13) > *(_DWORD *)(j + 8) )
        {
          qmemcpy(k, k - 52, 0x34u);
          k -= 52;
        }
        v19 += 52;
        memset(k, 0, 0x34u);
        *((_DWORD *)k + 11) = j;
        *((_DWORD *)k + 12) = j;
        *(_DWORD *)k = *(_DWORD *)(j + 8);
        *((_DWORD *)k + 2) = sub_10057C70(*(_DWORD *)(j + 8), v27);
        *((_DWORD *)k + 1) = *((_DWORD *)k + 2);
        *(_DWORD *)(j + 24) = j;
      }
    }
    *v22 = (signed int)(v19 - (_DWORD)v28) / 52;
    for ( l = v28; (unsigned int)l < v19; l += 52 )
    {
      v17 = *((_DWORD *)l + 11);
      if ( v17 )
      {
        do
        {
          *(_DWORD *)(v17 + 20) = l;
          v17 = *(_DWORD *)(v17 + 24);
        }
        while ( v17 != *((_DWORD *)l + 11) );
      }
    }
    for ( m = v28; (unsigned int)m < v19; m += 52 )
    {
      v8 = 0;
      v9 = 0;
      v7 = 0;
      v10 = 0;
      v18 = *((_DWORD *)m + 11);
      do
      {
        if ( *(_DWORD *)v18 & 1 )
          ++v8;
        else
          ++v9;
        if ( *(_DWORD *)(v18 + 4) == v26 )
          v7 += *(_DWORD *)(v18 + 16) - *(_DWORD *)(v18 + 12);
        else
          v10 += *(_DWORD *)(v18 + 16) - *(_DWORD *)(v18 + 12);
        v2 = *(_DWORD *)(v18 + 32) && *(char **)(*(_DWORD *)(v18 + 32) + 20) != m;
        if ( *(_DWORD *)(v18 + 28) || v2 )
        {
          v6 = (_DWORD *)*((_DWORD *)m + 7);
          v5 = *(_DWORD *)(v18 + 28);
          if ( v2 )
          {
            v5 = *(_DWORD *)(v18 + 32);
            v6 = (_DWORD *)*((_DWORD *)m + 8);
          }
          if ( v6 )
          {
            v3 = *(_DWORD *)m - *v6;
            if ( v3 < 0 )
              v3 = -v3;
            v4 = *(_DWORD *)(v18 + 8) - *(_DWORD *)(v5 + 8);
            if ( v4 < 0 )
              v4 = -v4;
            if ( v4 < v3 )
              v6 = *(_DWORD **)(v5 + 20);
          }
          else
          {
            v6 = *(_DWORD **)(v5 + 20);
          }
          if ( v2 )
            *((_DWORD *)m + 8) = v6;
          else
            *((_DWORD *)m + 7) = v6;
        }
        v18 = *(_DWORD *)(v18 + 24);
      }
      while ( v18 != *((_DWORD *)m + 11) );
      *((_DWORD *)m + 3) = 0;
      if ( v8 > 0 && v8 >= v9 )
        *((_DWORD *)m + 3) |= 1u;
      *((_DWORD *)m + 4) = 4;
      if ( v7 <= v10 )
      {
        if ( v7 >= v10 )
          *((_DWORD *)m + 4) = 0;
        else
          *((_DWORD *)m + 4) = -v26;
      }
      else
      {
        *((_DWORD *)m + 4) = v26;
      }
      if ( *((_DWORD *)m + 8) && *((_DWORD *)m + 7) )
        *((_DWORD *)m + 8) = 0;
    }
    v28 = *(char **)(a1 + 60);
    v21 = *(_DWORD *)(a1 + 76);
    v20 = v21 + 56 * *(_DWORD *)(a1 + 72);
    v22 = (int *)(a1 + 56);
    v26 = 2;
    v27 = *(_DWORD *)(a1 + 12);
    result = i - 1;
  }
  return result;
}

//----- (10064F80) --------------------------------------------------------
int __cdecl sub_10064F80(int a1, int a2)
{
  int result; // eax@1
  bool v3; // [sp+2h] [bp-4Ah]@17
  signed int v4; // [sp+4h] [bp-48h]@21
  int v5; // [sp+4h] [bp-48h]@23
  signed int v6; // [sp+4h] [bp-48h]@28
  int v7; // [sp+4h] [bp-48h]@30
  _DWORD *v8; // [sp+8h] [bp-44h]@21
  _DWORD *v9; // [sp+8h] [bp-44h]@28
  signed int j; // [sp+10h] [bp-3Ch]@12
  int v11; // [sp+14h] [bp-38h]@10
  _DWORD *v12; // [sp+18h] [bp-34h]@10
  signed int v13; // [sp+1Ch] [bp-30h]@3
  signed int i; // [sp+28h] [bp-24h]@1
  char v15; // [sp+2Fh] [bp-1Dh]@1
  unsigned int v16; // [sp+30h] [bp-1Ch]@1
  signed int v17; // [sp+34h] [bp-18h]@1
  char v18[8]; // [sp+38h] [bp-14h]@5
  int v19; // [sp+44h] [bp-8h]@1
  unsigned int v20; // [sp+48h] [bp-4h]@1

  v16 = *(_DWORD *)(a1 + 52);
  v20 = v16 + 52 * *(_DWORD *)(a1 + 48);
  v19 = a2 + 4;
  result = *(_DWORD *)(a1 + 16);
  v17 = *(_DWORD *)(a1 + 16);
  v15 = 0;
  for ( i = 0; i < 5; ++i )
  {
    v13 = *(_DWORD *)(v19 + 4 * i + 112) - *(_DWORD *)(v19 + 4 * i + 132);
    if ( v13 < 0 )
      v13 = -v13;
    v18[i] = 0;
    result = sub_10057C70(v13, v17);
    if ( result < 48 )
    {
      v18[i] = 1;
      v15 = 1;
    }
  }
  if ( v15 )
  {
    while ( v16 < v20 )
    {
      v12 = 0;
      v11 = sub_10057C70(*(_WORD *)(*(_DWORD *)a2 + 76) / 40, v17);
      if ( v11 > 16 )
        v11 = 16;
      for ( j = 0; j < 5; ++j )
      {
        v3 = !j || j == 2;
        if ( v18[j] && (*(_DWORD *)(v16 + 16) == *(_DWORD *)(a1 + 8)) != v3 )
        {
          v8 = (_DWORD *)(v19 + 4 * j + 112);
          v4 = *(_DWORD *)v16 - *v8;
          if ( v4 < 0 )
            v4 = -v4;
          v5 = sub_10057C70(v4, v17);
          if ( v5 < v11 )
          {
            v11 = v5;
            v12 = v8;
          }
          if ( *(_DWORD *)(v16 + 12) & 1 && v5 && *(_DWORD *)v16 < *v8 != v3 )
          {
            v9 = (_DWORD *)(v19 + 4 * j + 132);
            v6 = *(_DWORD *)v16 - *v9;
            if ( v6 < 0 )
              v6 = -v6;
            v7 = sub_10057C70(v6, v17);
            if ( v7 < v11 )
            {
              v11 = v7;
              v12 = v9;
            }
          }
        }
      }
      if ( v12 )
        *(_DWORD *)(v16 + 24) = v12;
      result = v16 + 52;
      v16 += 52;
    }
  }
  return result;
}
// 10064F80: using guessed type char var_14[8];

//----- (100651E0) --------------------------------------------------------
int __cdecl sub_100651E0(int a1, int a2)
{
  int result; // eax@1
  unsigned int v3; // [sp+4h] [bp-8h]@1
  unsigned int v4; // [sp+8h] [bp-4h]@1

  v3 = *(_DWORD *)(a1 + 52);
  result = v3 + 52 * *(_DWORD *)(a1 + 48);
  v4 = v3 + 52 * *(_DWORD *)(a1 + 48);
  while ( v3 < v4 )
  {
    if ( *(_DWORD *)(v3 + 24) )
      *(_DWORD *)(v3 + 24) += 4 * ((a2 + 268 - (a2 + 116)) >> 2);
    result = v3 + 52;
    v3 += 52;
  }
  return result;
}

//----- (10065250) --------------------------------------------------------
int __cdecl sub_10065250(int a1)
{
  int result; // eax@1
  unsigned int v2; // [sp+0h] [bp-70h]@36
  int v3; // [sp+4h] [bp-6Ch]@51
  int v4; // [sp+8h] [bp-68h]@46
  int v5; // [sp+10h] [bp-60h]@48
  int v6; // [sp+14h] [bp-5Ch]@46
  int v7; // [sp+18h] [bp-58h]@46
  int v8; // [sp+20h] [bp-50h]@31
  signed int v9; // [sp+24h] [bp-4Ch]@33
  int v10; // [sp+2Ch] [bp-44h]@31
  int v11; // [sp+34h] [bp-3Ch]@31
  int v12; // [sp+38h] [bp-38h]@31
  signed int v13; // [sp+3Ch] [bp-34h]@31
  unsigned int v14; // [sp+40h] [bp-30h]@24
  int v15; // [sp+44h] [bp-2Ch]@8
  _DWORD *v16; // [sp+48h] [bp-28h]@8
  int v17; // [sp+4Ch] [bp-24h]@8
  unsigned int j; // [sp+50h] [bp-20h]@4
  unsigned int k; // [sp+50h] [bp-20h]@20
  unsigned int l; // [sp+50h] [bp-20h]@58
  int v21; // [sp+54h] [bp-1Ch]@3
  unsigned int v22; // [sp+58h] [bp-18h]@3
  int v23; // [sp+5Ch] [bp-14h]@42
  int i; // [sp+60h] [bp-10h]@1
  unsigned int v25; // [sp+64h] [bp-Ch]@1
  unsigned int v26; // [sp+68h] [bp-8h]@1
  int v27; // [sp+6Ch] [bp-4h]@1

  v27 = *(_DWORD *)(a1 + 20);
  result = *(_DWORD *)(v27 + 52);
  v25 = *(_DWORD *)(v27 + 52);
  v26 = v25 + 52 * *(_DWORD *)(v27 + 48);
  for ( i = 1; i >= 0; --i )
  {
    v22 = 0;
    v21 = 0;
    if ( i )
    {
      for ( j = v25; j < v26; j += 52 )
      {
        if ( !(*(_DWORD *)(j + 12) & 4) )
        {
          v16 = *(_DWORD **)(j + 24);
          v15 = 0;
          v17 = *(_DWORD *)(j + 28);
          if ( v16 )
          {
            v15 = j;
          }
          else if ( v17 && *(_DWORD *)(v17 + 24) )
          {
            v16 = *(_DWORD **)(v17 + 24);
            v15 = *(_DWORD *)(j + 28);
            v17 = j;
          }
          if ( v15 )
          {
            *(_DWORD *)(v15 + 8) = *v16;
            *(_DWORD *)(v15 + 12) |= 4u;
            if ( v17 && !*(_DWORD *)(v17 + 24) )
            {
              sub_10065A40(a1, v15, v17, i);
              *(_DWORD *)(v17 + 12) |= 4u;
            }
            if ( !v22 )
              v22 = j;
          }
        }
      }
    }
    for ( k = v25; k < v26; k += 52 )
    {
      if ( !(*(_DWORD *)(k + 12) & 4) )
      {
        v14 = *(_DWORD *)(k + 28);
        if ( v14 )
        {
          if ( *(_DWORD *)(v14 + 24) || v14 < k )
          {
            sub_10065A40(a1, v14, k, i);
            *(_DWORD *)(k + 12) |= 4u;
          }
          else if ( v22 )
          {
            v12 = *(_DWORD *)(v22 + 8) + *(_DWORD *)(k + 4) - *(_DWORD *)(v22 + 4);
            v8 = *(_DWORD *)(v14 + 4) - *(_DWORD *)(k + 4);
            v11 = v12 + (v8 >> 1);
            v10 = sub_100657D0(a1, i, v8);
            v13 = ((v12 + 32) & 0xFFFFFFC0) + (v10 >> 1) - v11;
            if ( v13 < 0 )
              v13 = -v13;
            v9 = ((v12 + v8 + 32) & 0xFFFFFFC0) - v10 + (v10 >> 1) - v11;
            if ( v9 < 0 )
              v9 = -v9;
            if ( v13 > v9 )
              v2 = ((v12 + v8 + 32) & 0xFFFFFFC0) - v10;
            else
              v2 = (v12 + 32) & 0xFFFFFFC0;
            *(_DWORD *)(k + 8) = v2;
            *(_DWORD *)(v14 + 8) = v10 + *(_DWORD *)(k + 8);
            *(_DWORD *)(k + 12) |= 4u;
            *(_DWORD *)(v14 + 12) |= 4u;
            if ( k > v25 && *(_DWORD *)(k + 8) < *(_DWORD *)(k - 44) )
              *(_DWORD *)(k + 8) = *(_DWORD *)(k - 44);
          }
          else
          {
            *(_DWORD *)(k + 8) = (*(_DWORD *)(k + 4) + 32) & 0xFFFFFFC0;
            v22 = k;
            *(_DWORD *)(k + 12) |= 4u;
            sub_10065A40(a1, k, v14, i);
          }
        }
        else
        {
          ++v21;
        }
      }
    }
    v23 = (signed int)(v26 - v25) / 52;
    if ( !i && (v23 == 6 || v23 == 12) )
    {
      if ( v23 == 6 )
      {
        v4 = v25;
        v6 = v25 + 104;
        v7 = v25 + 208;
      }
      else
      {
        v4 = v25 + 52;
        v6 = v25 + 260;
        v7 = v25 + 468;
      }
      v5 = *(_DWORD *)(v6 + 4) - *(_DWORD *)(v4 + 4) - (*(_DWORD *)(v7 + 4) - *(_DWORD *)(v6 + 4));
      if ( v5 < 0 )
        v5 = -v5;
      if ( v5 < 8 )
      {
        v3 = *(_DWORD *)(v7 + 8) - (2 * *(_DWORD *)(v6 + 8) - *(_DWORD *)(v4 + 8));
        *(_DWORD *)(v7 + 8) -= v3;
        if ( *(_DWORD *)(v7 + 28) )
          *(_DWORD *)(*(_DWORD *)(v7 + 28) + 8) -= v3;
        if ( v23 == 12 )
        {
          *(_DWORD *)(v25 + 424) -= v3;
          *(_DWORD *)(v25 + 580) -= v3;
        }
        *(_DWORD *)(v7 + 12) |= 4u;
        if ( *(_DWORD *)(v7 + 28) )
          *(_DWORD *)(*(_DWORD *)(v7 + 28) + 12) |= 4u;
      }
    }
    if ( v21 )
    {
      for ( l = v25; l < v26; l += 52 )
      {
        if ( !(*(_DWORD *)(l + 12) & 4) )
        {
          if ( *(_DWORD *)(l + 32) )
          {
            sub_10065A80(a1, *(_DWORD *)(l + 32), l);
          }
          else if ( v22 )
          {
            *(_DWORD *)(l + 8) = *(_DWORD *)(v22 + 8) + ((*(_DWORD *)(l + 4) - *(_DWORD *)(v22 + 4) + 32) & 0xFFFFFFC0);
          }
          else
          {
            *(_DWORD *)(l + 8) = (*(_DWORD *)(l + 4) + 32) & 0xFFFFFFC0;
            v22 = l;
          }
          *(_DWORD *)(l + 12) |= 4u;
          if ( l > v25 && *(_DWORD *)(l + 8) < *(_DWORD *)(l - 44) )
            *(_DWORD *)(l + 8) = *(_DWORD *)(l - 44);
          if ( l + 52 < v26 && *(_DWORD *)(l + 64) & 4 && *(_DWORD *)(l + 8) > *(_DWORD *)(l + 60) )
            *(_DWORD *)(l + 8) = *(_DWORD *)(l + 60);
        }
      }
    }
    v25 = *(_DWORD *)(v27 + 60);
    v26 = v25 + 52 * *(_DWORD *)(v27 + 56);
    result = i - 1;
  }
  return result;
}

//----- (100657D0) --------------------------------------------------------
int __cdecl sub_100657D0(int a1, int a2, int a3)
{
  int v4; // [sp+0h] [bp-10h]@9
  int v5; // [sp+0h] [bp-10h]@15
  int v6; // [sp+4h] [bp-Ch]@1
  unsigned int v7; // [sp+4h] [bp-Ch]@15
  int v8; // [sp+4h] [bp-Ch]@16
  int v9; // [sp+4h] [bp-Ch]@26
  int v10; // [sp+4h] [bp-Ch]@30
  signed int v11; // [sp+8h] [bp-8h]@1
  int v12; // [sp+Ch] [bp-4h]@1

  v12 = *(_DWORD *)(a1 + 16) + 156;
  v6 = a3;
  v11 = 0;
  if ( a3 < 0 )
  {
    v6 = -a3;
    v11 = 1;
  }
  if ( (!a2 || *(_BYTE *)(a1 + 75)) && (a2 || *(_BYTE *)(a1 + 74)) )
  {
    if ( a2 )
    {
      v9 = sub_10065990(*(_DWORD *)(a1 + 16) + 220, *(_DWORD *)(*(_DWORD *)(a1 + 16) + 160), v6);
      if ( v9 < 64 )
        v8 = 64;
      else
        v8 = (v9 + 16) & 0xFFFFFFC0;
    }
    else
    {
      v10 = sub_10065990(*(_DWORD *)(a1 + 16) + 172, *(_DWORD *)(*(_DWORD *)(a1 + 16) + 156), v6);
      if ( v10 >= 48 )
      {
        if ( v10 >= 128 )
          v8 = (v10 + 32) & 0xFFFFFFC0;
        else
          v8 = (v10 + 22) & 0xFFFFFFC0;
      }
      else
      {
        v8 = (v10 + 64) >> 1;
      }
    }
  }
  else
  {
    if ( v6 < 64 )
      v6 = 64;
    v4 = v6 - *(_DWORD *)(v12 + 4 * a2 + 8);
    if ( v4 < 0 )
      v4 = -v4;
    if ( v4 < 40 )
    {
      v6 = *(_DWORD *)(v12 + 4 * a2 + 8);
      if ( v6 < 48 )
        v6 = 48;
    }
    if ( v6 >= 192 )
    {
      v8 = (v6 + 32) & 0xFFFFFFC0;
    }
    else
    {
      v5 = v6 & 0x3F;
      v7 = v6 & 0xFFFFFFC0;
      if ( v5 >= 10 )
      {
        if ( v5 >= 32 )
        {
          if ( v5 >= 54 )
            v8 = v5 + v7;
          else
            v8 = v7 + 54;
        }
        else
        {
          v8 = v7 + 10;
        }
      }
      else
      {
        v8 = v5 + v7;
      }
    }
  }
  if ( v11 )
    v8 = -v8;
  return v8;
}

//----- (10065990) --------------------------------------------------------
int __cdecl sub_10065990(int a1, int a2, int a3)
{
  int v4; // [sp+0h] [bp-18h]@3
  signed int v5; // [sp+8h] [bp-10h]@1
  int v6; // [sp+Ch] [bp-Ch]@1
  unsigned int v7; // [sp+10h] [bp-8h]@8
  int i; // [sp+14h] [bp-4h]@1

  v5 = 98;
  v6 = a3;
  for ( i = 0; i < a2; ++i )
  {
    v4 = a3 - *(_DWORD *)(a1 + 4 * i);
    if ( v4 < 0 )
      v4 = -v4;
    if ( v4 < v5 )
    {
      v5 = v4;
      v6 = *(_DWORD *)(a1 + 4 * i);
    }
  }
  v7 = (v6 + 32) & 0xFFFFFFC0;
  if ( a3 < v6 )
  {
    if ( a3 > (signed int)(v7 - 48) )
      a3 = v6;
  }
  else if ( a3 < (signed int)(v7 + 48) )
  {
    a3 = v6;
  }
  return a3;
}

//----- (10065A40) --------------------------------------------------------
int __cdecl sub_10065A40(int a1, int a2, int a3, int a4)
{
  int result; // eax@1

  result = *(_DWORD *)(a2 + 8) + sub_100657D0(a1, a4, *(_DWORD *)(a3 + 4) - *(_DWORD *)(a2 + 4));
  *(_DWORD *)(a3 + 8) = result;
  return result;
}

//----- (10065A80) --------------------------------------------------------
int __cdecl sub_10065A80(int a1, int a2, int a3)
{
  int result; // eax@3
  int v4; // [sp+0h] [bp-8h]@1
  signed int v5; // [sp+4h] [bp-4h]@1

  v5 = 1;
  v4 = *(_DWORD *)(a3 + 4) - *(_DWORD *)(a2 + 4);
  if ( v4 < 0 )
  {
    v4 = -v4;
    v5 = -1;
  }
  result = *(_DWORD *)(a2 + 8) + v4 * v5;
  *(_DWORD *)(a3 + 8) = result;
  return result;
}

//----- (10065AD0) --------------------------------------------------------
int __cdecl sub_10065AD0(int a1)
{
  sub_10065AF0(a1);
  return sub_10065BF0(a1);
}

//----- (10065AF0) --------------------------------------------------------
int __cdecl sub_10065AF0(int a1)
{
  int result; // eax@1
  int k; // [sp+0h] [bp-1Ch]@6
  int v3; // [sp+4h] [bp-18h]@5
  unsigned int j; // [sp+8h] [bp-14h]@3
  signed int i; // [sp+Ch] [bp-10h]@1
  unsigned int v6; // [sp+10h] [bp-Ch]@1
  int v7; // [sp+14h] [bp-8h]@1
  unsigned int v8; // [sp+18h] [bp-4h]@1

  v7 = *(_DWORD *)(a1 + 20);
  result = *(_DWORD *)(v7 + 52);
  v6 = *(_DWORD *)(v7 + 52);
  v8 = v6 + 52 * *(_DWORD *)(v7 + 48);
  for ( i = 1; i >= 0; --i )
  {
    for ( j = v6; j < v8; j += 52 )
    {
      v3 = *(_DWORD *)(j + 44);
      do
      {
        for ( k = *(_DWORD *)(v3 + 44); ; k = *(_DWORD *)(k + 44) )
        {
          if ( i )
          {
            *(_DWORD *)(k + 24) = *(_DWORD *)(j + 8);
            *(_DWORD *)k |= 0x80u;
          }
          else
          {
            *(_DWORD *)(k + 20) = *(_DWORD *)(j + 8);
            *(_DWORD *)k |= 0x40u;
          }
          if ( k == *(_DWORD *)(v3 + 48) )
            break;
        }
        v3 = *(_DWORD *)(v3 + 24);
      }
      while ( v3 != *(_DWORD *)(j + 44) );
    }
    v6 = *(_DWORD *)(v7 + 60);
    v8 = v6 + 52 * *(_DWORD *)(v7 + 56);
    result = i - 1;
  }
  return result;
}

//----- (10065BF0) --------------------------------------------------------
int __cdecl sub_10065BF0(int a1)
{
  sub_10065AF0(a1);
  sub_10065C20(a1);
  return sub_10065E90(a1);
}

//----- (10065C20) --------------------------------------------------------
int __cdecl sub_10065C20(int a1)
{
  int result; // eax@1
  int v2; // [sp+4h] [bp-48h]@25
  unsigned int v3; // [sp+8h] [bp-44h]@17
  int v4; // [sp+Ch] [bp-40h]@19
  unsigned int v5; // [sp+10h] [bp-3Ch]@17
  int v6; // [sp+20h] [bp-2Ch]@11
  int v7; // [sp+24h] [bp-28h]@11
  int v8; // [sp+24h] [bp-28h]@14
  unsigned int j; // [sp+2Ch] [bp-20h]@4
  unsigned int v10; // [sp+30h] [bp-1Ch]@1
  signed int v11; // [sp+34h] [bp-18h]@1
  signed int i; // [sp+38h] [bp-14h]@1
  unsigned int v13; // [sp+3Ch] [bp-10h]@1
  unsigned int v14; // [sp+40h] [bp-Ch]@1
  int v15; // [sp+44h] [bp-8h]@1
  unsigned int v16; // [sp+48h] [bp-4h]@1

  v15 = *(_DWORD *)(a1 + 20);
  v10 = *(_DWORD *)(v15 + 32);
  v13 = v10 + 52 * *(_DWORD *)(v15 + 28);
  v14 = *(_DWORD *)(v15 + 52);
  result = v14 + 52 * *(_DWORD *)(v15 + 48);
  v16 = v14 + 52 * *(_DWORD *)(v15 + 48);
  v11 = 128;
  for ( i = 1; i >= 0; --i )
  {
    if ( v14 < v16 )
    {
      for ( j = v10; j < v13; j += 52 )
      {
        if ( !(v11 & *(_DWORD *)j) && (!(*(_DWORD *)j & 0x100) || *(_DWORD *)j & 0x200) )
        {
          if ( i )
          {
            v7 = *(_DWORD *)(j + 16);
            v6 = *(_DWORD *)(j + 8);
          }
          else
          {
            v7 = *(_DWORD *)(j + 12);
            v6 = *(_DWORD *)(j + 4);
          }
          if ( *(_DWORD *)v14 - v7 < 0 )
          {
            if ( v7 - *(_DWORD *)(v16 - 52) < 0 )
            {
              v5 = 0;
              v3 = (signed int)(v16 - v14) / 52;
              while ( v5 < v3 )
              {
                v4 = *(_DWORD *)(v14 + 52 * ((v5 + v3) >> 1));
                if ( v7 >= v4 )
                {
                  if ( v7 <= v4 )
                  {
                    v8 = *(_DWORD *)(v14 + 52 * ((v5 + v3) >> 1) + 8);
                    goto LABEL_28;
                  }
                  v5 = ((v5 + v3) >> 1) + 1;
                }
                else
                {
                  v3 = (v5 + v3) >> 1;
                }
              }
              v2 = v14 + 52 * v5 - 52;
              if ( !*(_DWORD *)(v2 + 20) )
                *(_DWORD *)(v2 + 20) = sub_10057D70(
                                         *(_DWORD *)(v14 + 52 * v5 + 8) - *(_DWORD *)(v2 + 8),
                                         *(_DWORD *)(v14 + 52 * v5) - *(_DWORD *)v2);
              v8 = *(_DWORD *)(v2 + 8) + sub_10057C70(v7 - *(_DWORD *)v2, *(_DWORD *)(v2 + 20));
            }
            else
            {
              v8 = *(_DWORD *)(v16 - 52 + 8) + v6 - *(_DWORD *)(v16 - 52 + 4);
            }
          }
          else
          {
            v8 = *(_DWORD *)(v14 + 8) - (*(_DWORD *)(v14 + 4) - v6);
          }
LABEL_28:
          if ( i )
            *(_DWORD *)(j + 24) = v8;
          else
            *(_DWORD *)(j + 20) = v8;
          *(_DWORD *)j |= v11;
        }
      }
    }
    v14 = *(_DWORD *)(v15 + 60);
    result = v14 + 52 * *(_DWORD *)(v15 + 56);
    v16 = v14 + 52 * *(_DWORD *)(v15 + 56);
    v11 = 64;
  }
  return result;
}

//----- (10065E90) --------------------------------------------------------
int __cdecl sub_10065E90(int a1)
{
  int result; // eax@1
  unsigned int v2; // [sp+0h] [bp-30h]@10
  unsigned int v3; // [sp+4h] [bp-2Ch]@10
  unsigned int *j; // [sp+8h] [bp-28h]@3
  unsigned int v5; // [sp+Ch] [bp-24h]@5
  unsigned int v6; // [sp+10h] [bp-20h]@5
  _DWORD *v7; // [sp+14h] [bp-1Ch]@5
  _DWORD *k; // [sp+14h] [bp-1Ch]@10
  unsigned int m; // [sp+14h] [bp-1Ch]@21
  unsigned int l; // [sp+14h] [bp-1Ch]@25
  unsigned int v11; // [sp+18h] [bp-18h]@1
  signed int v12; // [sp+1Ch] [bp-14h]@1
  unsigned int v13; // [sp+20h] [bp-10h]@1
  signed int i; // [sp+24h] [bp-Ch]@1
  unsigned int v15; // [sp+28h] [bp-8h]@1
  int v16; // [sp+2Ch] [bp-4h]@1

  v16 = *(_DWORD *)(a1 + 20);
  v11 = *(_DWORD *)(v16 + 32);
  v15 = v11 + 52 * *(_DWORD *)(v16 + 28);
  v12 = 128;
  v13 = *(_DWORD *)(v16 + 44) + 4 * *(_DWORD *)(v16 + 40);
  result = sub_10064060(v16, 5);
  for ( i = 1; i >= 0; --i )
  {
    for ( j = *(unsigned int **)(v16 + 44); (unsigned int)j < v13; ++j )
    {
      v7 = (_DWORD *)*j;
      v5 = *(_DWORD *)(*j + 48);
      v6 = *j;
      while ( (unsigned int)v7 <= v5 && !(v12 & *v7) )
        v7 += 13;
      if ( (unsigned int)v7 <= v5 )
      {
        v3 = (unsigned int)v7;
        v2 = (unsigned int)v7;
        for ( k = v7 + 13; (unsigned int)k <= v5; k += 13 )
        {
          if ( v12 & *k )
          {
            sub_10066100(v2 + 52, (unsigned int)(k - 13), v2, (int)k);
            v2 = (unsigned int)k;
          }
        }
        if ( v2 == v3 )
        {
          sub_10066090(v6, v5, v2);
        }
        else
        {
          sub_10066100(v2 + 52, v5, v2, v3);
          if ( v3 > v11 )
            sub_10066100(v6, v3 - 52, v2, v3);
        }
      }
    }
    if ( !i )
    {
      result = v11;
      for ( l = v11; l < v15; l += 52 )
      {
        result = l;
        *(_DWORD *)(l + 20) = *(_DWORD *)(l + 28);
      }
      return result;
    }
    for ( m = v11; m < v15; m += 52 )
      *(_DWORD *)(m + 24) = *(_DWORD *)(m + 28);
    v12 = 64;
    sub_10064060(v16, 4);
    result = i - 1;
  }
  return result;
}

//----- (10066090) --------------------------------------------------------
int __cdecl sub_10066090(unsigned int a1, unsigned int a2, unsigned int a3)
{
  int result; // eax@4
  int v4; // [sp+0h] [bp-8h]@1
  unsigned int i; // [sp+4h] [bp-4h]@1
  unsigned int j; // [sp+4h] [bp-4h]@4

  v4 = *(_DWORD *)(a3 + 28) - *(_DWORD *)(a3 + 32);
  for ( i = a1; i < a3; i += 52 )
    *(_DWORD *)(i + 28) = v4 + *(_DWORD *)(i + 32);
  result = a3 + 52;
  for ( j = a3 + 52; j <= a2; j += 52 )
  {
    result = j;
    *(_DWORD *)(j + 28) = v4 + *(_DWORD *)(j + 32);
  }
  return result;
}

//----- (10066100) --------------------------------------------------------
int __cdecl sub_10066100(unsigned int a1, unsigned int a2, int a3, int a4)
{
  int result; // eax@1
  int v5; // [sp+0h] [bp-18h]@1
  int v6; // [sp+4h] [bp-14h]@1
  int v7; // [sp+8h] [bp-10h]@1
  int v8; // [sp+Ch] [bp-Ch]@5
  int v9; // [sp+Ch] [bp-Ch]@6
  int v10; // [sp+Ch] [bp-Ch]@13
  int v11; // [sp+Ch] [bp-Ch]@14
  int v12; // [sp+Ch] [bp-Ch]@22
  int v13; // [sp+Ch] [bp-Ch]@23
  int v14; // [sp+10h] [bp-8h]@1
  unsigned int i; // [sp+14h] [bp-4h]@3
  unsigned int k; // [sp+14h] [bp-4h]@11
  unsigned int j; // [sp+14h] [bp-4h]@20

  v14 = *(_DWORD *)(a3 + 32);
  v6 = *(_DWORD *)(a4 + 32);
  v5 = *(_DWORD *)(a3 + 28) - v14;
  result = a4;
  v7 = *(_DWORD *)(a4 + 28) - v6;
  if ( a1 <= a2 )
  {
    result = *(_DWORD *)(a3 + 32);
    if ( v14 == v6 )
    {
      for ( i = a1; ; i += 52 )
      {
        result = i;
        if ( i > a2 )
          break;
        v8 = *(_DWORD *)(i + 32);
        if ( v8 > v14 )
          v9 = v7 + v8;
        else
          v9 = v5 + v8;
        *(_DWORD *)(i + 28) = v9;
      }
    }
    else if ( v14 >= v6 )
    {
      for ( j = a1; j <= a2; j += 52 )
      {
        v12 = *(_DWORD *)(j + 32);
        if ( v12 > v6 )
        {
          if ( v12 < v14 )
            v13 = *(_DWORD *)(a3 + 28) + sub_10057980(v12 - v14, *(_DWORD *)(a4 + 28) - *(_DWORD *)(a3 + 28), v6 - v14);
          else
            v13 = v5 + v12;
        }
        else
        {
          v13 = v7 + v12;
        }
        *(_DWORD *)(j + 28) = v13;
        result = j + 52;
      }
    }
    else
    {
      result = a1;
      for ( k = a1; k <= a2; k += 52 )
      {
        v10 = *(_DWORD *)(k + 32);
        if ( v10 > v14 )
        {
          if ( v10 < v6 )
            v11 = *(_DWORD *)(a3 + 28) + sub_10057980(v10 - v14, *(_DWORD *)(a4 + 28) - *(_DWORD *)(a3 + 28), v6 - v14);
          else
            v11 = v7 + v10;
        }
        else
        {
          v11 = v5 + v10;
        }
        result = k;
        *(_DWORD *)(k + 28) = v11;
      }
    }
  }
  return result;
}

//----- (100662B0) --------------------------------------------------------
int __cdecl sub_100662B0(int a1, int a2, char a3)
{
  int result; // eax@1

  *(_DWORD *)(a1 + 52) = a2;
  sub_100666F0(a1, 0, 0, *(_WORD *)(a2 + 6), *(_WORD *)(a2 + 4));
  *(_WORD *)(a1 + 42) = 0;
  *(_WORD *)(a1 + 40) = 0;
  *(_WORD *)(a1 + 46) = 0;
  *(_WORD *)(a1 + 44) = 0;
  *(_DWORD *)(a1 + 60) = 0;
  *(_DWORD *)(a1 + 64) = 0;
  *(_BYTE *)(a1 + 1) = 0;
  *(_DWORD *)(a1 + 68) = 0;
  *(_WORD *)(a1 + 2) = 1;
  *(_WORD *)(a1 + 34) = 1;
  *(_WORD *)(a1 + 32) = 1;
  *(_WORD *)(a1 + 4) = 3;
  *(_WORD *)(a1 + 36) = -1;
  *(_WORD *)(a1 + 38) = -1;
  *(_WORD *)(a1 + 6) = 3;
  *(_WORD *)(a1 + 48) = -1;
  *(_WORD *)(a1 + 50) = -1;
  *(_DWORD *)(a1 + 80) = 0;
  *(_DWORD *)(a1 + 72) = 0;
  *(_DWORD *)(a1 + 76) = 0;
  result = a1;
  *(_BYTE *)a1 = a3;
  return result;
}

//----- (100663A0) --------------------------------------------------------
int __cdecl sub_100663A0(int a1, __int16 a2, __int16 a3, __int16 a4, __int16 a5, char a6)
{
  int result; // eax@1
  __int16 v7; // ST1C_2@8
  int v8; // [sp+0h] [bp-14h]@4
  int v9; // [sp+Ch] [bp-8h]@4
  __int16 v10; // [sp+10h] [bp-4h]@8
  __int16 v11; // [sp+28h] [bp+14h]@8
  __int16 v12; // [sp+2Ch] [bp+18h]@8

  result = a4;
  if ( a4 > 0 && a5 > 0 )
  {
    v8 = *(_DWORD *)(a1 + 36);
    v9 = *(_DWORD *)(a1 + 36);
    if ( a6 & 1 )
      sub_10066600(a1, a2, a3, a4, a5);
    if ( !(a6 & 2) )
      LOWORD(v9) = HIWORD(v9);
    v12 = a5 - 1;
    v11 = a4 - 1;
    v10 = a2;
    v10 = *(_WORD *)(a1 + 42) + a2;
    v7 = *(_WORD *)(a1 + 40) + a3;
    *(_WORD *)(a1 + 38) = *((_WORD *)&v9 + byte_100DE550[0]);
    *(_WORD *)(a1 + 10) = byte_100DE550[1] + v10;
    *(_WORD *)(a1 + 8) = v7;
    *(_WORD *)(a1 + 14) = byte_100DE550[2] + v11 - byte_100DE550[1] + 1;
    sub_1006D920(a1);
    *(_WORD *)(a1 + 38) = *((_WORD *)&v9 + byte_100DE550[3]);
    *(_WORD *)(a1 + 8) = byte_100DE550[4] + v7;
    *(_WORD *)(a1 + 10) = v11 + v10;
    *(_WORD *)(a1 + 12) = byte_100DE550[5] + v12 - byte_100DE550[4] + 1;
    sub_1006DAF0(a1);
    *(_WORD *)(a1 + 38) = *((_WORD *)&v9 + byte_100DE550[6]);
    *(_WORD *)(a1 + 10) = byte_100DE550[8] + v11 + v10;
    *(_WORD *)(a1 + 8) = v12 + v7;
    *(_WORD *)(a1 + 14) = byte_100DE550[7] - (byte_100DE550[8] + v11) - 1;
    sub_1006D920(a1);
    *(_WORD *)(a1 + 38) = *((_WORD *)&v9 + byte_100DE550[9]);
    *(_WORD *)(a1 + 8) = byte_100DE550[11] + v12 + v7;
    *(_WORD *)(a1 + 10) = v10;
    *(_WORD *)(a1 + 12) = byte_100DE550[10] - (byte_100DE550[11] + v12) - 1;
    sub_1006DAF0(a1);
    result = v8;
    *(_DWORD *)(a1 + 36) = v8;
  }
  return result;
}

//----- (10066600) --------------------------------------------------------
int __cdecl sub_10066600(int a1, __int16 a2, __int16 a3, __int16 a4, __int16 a5)
{
  int result; // eax@1
  int v6; // [sp+0h] [bp-8h]@4
  __int16 v7; // [sp+4h] [bp-4h]@6

  result = a4;
  if ( a4 > 0 && a5 > 0 )
  {
    v6 = *(_DWORD *)(a1 + 36);
    *(_DWORD *)(a1 + 36) = *(_DWORD *)(a1 + 48);
    *(_WORD *)(a1 + 10) = *(_WORD *)(a1 + 42) + a2;
    *(_WORD *)(a1 + 8) = *(_WORD *)(a1 + 40) + a3;
    if ( *(_WORD *)(a1 + 6) == 3 || *(_WORD *)(a1 + 6) == 1 )
    {
      v7 = *(_WORD *)(a1 + 4);
      if ( *(_WORD *)(a1 + 6) == 3 )
        *(_WORD *)(a1 + 4) = 2;
      else
        *(_WORD *)(a1 + 4) = 0;
      sub_1006EB70(a1, a4 + (*(_WORD *)(a1 + 10) << 16), a5 + (*(_WORD *)(a1 + 8) << 16));
      *(_WORD *)(a1 + 4) = v7;
    }
    result = a1;
    *(_DWORD *)(a1 + 36) = v6;
  }
  return result;
}

//----- (100666F0) --------------------------------------------------------
int __cdecl sub_100666F0(int a1, __int16 a2, __int16 a3, __int16 a4, __int16 a5)
{
  int result; // eax@17

  if ( a2 < 0 )
    a2 = 0;
  if ( a3 < 0 )
    a3 = 0;
  if ( a4 < 1 )
    a4 = 1;
  if ( a5 < 1 )
    a5 = 1;
  if ( a2 >= (signed int)*(_WORD *)(*(_DWORD *)(a1 + 52) + 6) )
    a2 = *(_WORD *)(*(_DWORD *)(a1 + 52) + 6) - 1;
  if ( a4 + a2 > *(_WORD *)(*(_DWORD *)(a1 + 52) + 6) )
    a4 = *(_WORD *)(*(_DWORD *)(a1 + 52) + 6) - a2;
  if ( a3 >= (signed int)*(_WORD *)(*(_DWORD *)(a1 + 52) + 4) )
    a3 = *(_WORD *)(*(_DWORD *)(a1 + 52) + 4) - 1;
  if ( a5 + a3 > *(_WORD *)(*(_DWORD *)(a1 + 52) + 4) )
    a5 = *(_WORD *)(*(_DWORD *)(a1 + 52) + 4) - a3;
  *(_WORD *)(a1 + 26) = a2;
  HIWORD(result) = HIWORD(a1);
  *(_WORD *)(a1 + 30) = a4;
  LOWORD(result) = a3;
  *(_WORD *)(a1 + 24) = a3;
  *(_WORD *)(a1 + 28) = a5;
  return result;
}

//----- (10066800) --------------------------------------------------------
void sub_10066800()
{
  ;
}

//----- (10066810) --------------------------------------------------------
char __cdecl sub_10066810(char a1, char a2)
{
  char result; // al@1

  result = a1;
  byte_10E81B1D = a1;
  byte_10E81B1C = a2;
  return result;
}
// 10E81B1C: using guessed type char byte_10E81B1C;
// 10E81B1D: using guessed type char byte_10E81B1D;

//----- (10066830) --------------------------------------------------------
int __cdecl sub_10066830(int a1, signed int a2, int a3, int a4, int a5)
{
  int result; // eax@3
  __int16 v6; // ST14_2@11
  __int16 v7; // ST18_2@11
  __int16 v8; // ST5C_2@11
  int v9; // edx@47
  int v10; // eax@50
  int v11; // ecx@50
  int v12; // ecx@51
  __int16 v13; // [sp+4h] [bp-6Ch]@55
  __int16 v14; // [sp+Ah] [bp-66h]@11
  __int16 v15; // [sp+Eh] [bp-62h]@11
  signed __int16 j; // [sp+10h] [bp-60h]@6
  unsigned __int16 l; // [sp+10h] [bp-60h]@18
  signed __int16 ii; // [sp+10h] [bp-60h]@47
  unsigned __int16 v19; // [sp+14h] [bp-5Ch]@22
  unsigned __int16 v20; // [sp+18h] [bp-58h]@24
  char *v21; // [sp+20h] [bp-50h]@1
  __int16 k; // [sp+28h] [bp-48h]@15
  int v23; // [sp+2Ch] [bp-44h]@47
  int v24; // [sp+30h] [bp-40h]@47
  int v25; // [sp+34h] [bp-3Ch]@47
  int v26; // [sp+38h] [bp-38h]@15
  int v27; // [sp+3Ch] [bp-34h]@4
  int v28; // [sp+40h] [bp-30h]@11
  __int16 v29; // [sp+44h] [bp-2Ch]@13
  signed __int16 v30; // [sp+48h] [bp-28h]@11
  int v31; // [sp+4Ch] [bp-24h]@11
  signed __int16 v32; // [sp+54h] [bp-1Ch]@11
  __int16 v33; // [sp+5Ch] [bp-14h]@57
  signed __int16 i; // [sp+60h] [bp-10h]@4
  unsigned __int16 m; // [sp+60h] [bp-10h]@36
  signed __int16 n; // [sp+60h] [bp-10h]@44
  unsigned __int16 jj; // [sp+60h] [bp-10h]@53
  __int16 v38; // [sp+64h] [bp-Ch]@11
  __int16 v39; // [sp+68h] [bp-8h]@4
  unsigned __int16 v40; // [sp+6Ch] [bp-4h]@17
  int v41; // [sp+84h] [bp+14h]@1

  v21 = (char *)(a5 + (-a5 & 3));
  v41 = a4 - (-a5 & 3) - (((_BYTE)a4 - (-(char)a5 & 3)) & 3);
  if ( a2 >= 2 && 2 * a2 <= v41 )
  {
    v39 = *(_WORD *)(a1 + 4);
    *(_WORD *)(a1 + 4) = *(_WORD *)(a1 + 6);
    v27 = *(_DWORD *)(a1 + 36);
    *(_DWORD *)(a1 + 36) = *(_DWORD *)(a1 + 48);
    *(_WORD *)v21 = 0;
    for ( i = 1; (unsigned __int16)i < a2; ++i )
    {
      for ( j = i;
            j
         && *(_WORD *)(a3 + 4 * *(_WORD *)&v21[2 * (unsigned __int16)j - 2] + 2) > (signed int)*(_WORD *)(a3 + 4 * (unsigned __int16)i + 2);
            --j )
      {
        *(_WORD *)&v21[2 * (unsigned __int16)j] = *(_WORD *)&v21[2 * (unsigned __int16)j - 2];
      }
      *(_WORD *)&v21[2 * (unsigned __int16)j] = i;
    }
    v30 = 0;
    v32 = 0;
    v28 = 2 * a2 + (-2 * a2 & 3);
    v31 = (int)&v21[v28];
    v6 = *(_WORD *)(a1 + 26);
    v7 = *(_WORD *)(a1 + 30);
    v15 = *(_WORD *)(a1 + 28);
    v8 = *(_WORD *)(a1 + 42);
    v14 = *(_WORD *)(a1 + 24) - *(_WORD *)(a1 + 40);
    v38 = *(_WORD *)(a3 + 4 * *(_WORD *)v21 + 2);
    if ( v38 < v14 )
      v38 = *(_WORD *)(a1 + 24) - *(_WORD *)(a1 + 40);
    v29 = *(_WORD *)(a3 + 4 * *(_WORD *)&v21[2 * a2 - 2] + 2);
    if ( v29 > v15 + v14 )
      v29 = v15 + v14;
    v26 = 0;
    for ( k = v38; k < v29; ++k )
    {
      while ( 1 )
      {
        v40 = *(_WORD *)&v21[2 * v26];
        if ( *(_WORD *)(a3 + 4 * v40 + 2) > k )
          break;
        for ( l = 0; (signed int)l < 2; ++l )
        {
          if ( l )
          {
            if ( v40 == a2 - 1 )
              v19 = 0;
            else
              v19 = v40 + 1;
            v20 = v40;
          }
          else
          {
            if ( v40 )
              v19 = v40 - 1;
            else
              v19 = a2 - 1;
            v20 = v19;
          }
          if ( *(_WORD *)(a3 + 4 * v19 + 2) <= k )
          {
            if ( *(_WORD *)(a3 + 4 * v19 + 2) < k )
            {
              for ( m = 0; m < (signed int)(unsigned __int16)v30 && *(_WORD *)(v31 + 12 * m) != v20; ++m )
                ;
              if ( (unsigned __int16)v30 - m > 0 )
                memcpy_0((void *)(v31 + 12 * m), (const void *)(v31 + 12 * (m + 1)), 12 * ((unsigned __int16)--v30 - m));
            }
          }
          else
          {
            if ( (unsigned __int16)v30 == (unsigned __int16)((v41 - v28) / 0xCu) )
            {
              v32 = -1;
              goto LABEL_63;
            }
            *(_WORD *)(v31 + 12 * (unsigned __int16)v30) = v20;
            *(_DWORD *)(v31 + 12 * (unsigned __int16)v30 + 4) = ((*(_WORD *)(a3 + 4 * v19)
                                                                - (signed int)*(_WORD *)(a3 + 4 * v40)) << 16)
                                                              / (*(_WORD *)(a3 + 4 * v19 + 2)
                                                               - (signed int)*(_WORD *)(a3 + 4 * v40 + 2));
            *(_DWORD *)(v31 + 12 * (unsigned __int16)v30 + 8) = (*(_WORD *)(a3 + 4 * v40) << 16)
                                                              + *(_DWORD *)(v31 + 12 * (unsigned __int16)v30 + 4)
                                                              * (k - *(_WORD *)(a3 + 4 * v40 + 2));
            if ( (unsigned __int16)++v30 > (signed int)(unsigned __int16)v32 )
              v32 = v30;
          }
        }
        ++v26;
      }
      for ( n = 1; (unsigned __int16)n < (signed int)(unsigned __int16)v30; ++n )
      {
        if ( *(_DWORD *)(v31 + 12 * ((unsigned __int16)n - 1) + 8) > *(_DWORD *)(v31 + 12 * (unsigned __int16)n + 8) )
        {
          v9 = v31 + 12 * (unsigned __int16)n;
          v23 = *(_DWORD *)v9;
          v24 = *(_DWORD *)(v9 + 4);
          v25 = *(_DWORD *)(v9 + 8);
          for ( ii = n; ii && *(_DWORD *)(v31 + 12 * ((unsigned __int16)ii - 1) + 8) > v25; --ii )
          {
            v10 = v31 + 12 * ((unsigned __int16)ii - 1);
            v11 = v31 + 12 * (unsigned __int16)ii;
            *(_DWORD *)v11 = *(_DWORD *)v10;
            *(_DWORD *)(v11 + 4) = *(_DWORD *)(v10 + 4);
            *(_DWORD *)(v11 + 8) = *(_DWORD *)(v10 + 8);
          }
          v12 = v31 + 12 * (unsigned __int16)ii;
          *(_DWORD *)v12 = v23;
          *(_DWORD *)(v12 + 4) = v24;
          *(_DWORD *)(v12 + 8) = v25;
        }
      }
      for ( jj = 0; jj < (unsigned __int16)v30 - 1; jj += 2 )
      {
        v13 = *(_DWORD *)(v31 + 12 * jj + 8) >> 16;
        if ( *(_WORD *)(v31 + 12 * jj + 8) )
          ++v13;
        v33 = *(_DWORD *)(v31 + 12 * (jj + 1) + 8) >> 16;
        if ( !*(_WORD *)(v31 + 12 * (jj + 1) + 8) )
          --v33;
        if ( v13 <= v33 )
        {
          *(_WORD *)(a1 + 10) = *(_WORD *)(a1 + 42) + v13;
          *(_WORD *)(a1 + 8) = *(_WORD *)(a1 + 40) + k;
          *(_WORD *)(a1 + 14) = *(_WORD *)(a1 + 42) + v33;
          sub_1006D870(a1);
        }
        *(_DWORD *)(v31 + 12 * jj + 8) += *(_DWORD *)(v31 + 12 * jj + 4);
        *(_DWORD *)(v31 + 12 * (jj + 1) + 8) += *(_DWORD *)(v31 + 12 * (jj + 1) + 4);
      }
    }
LABEL_63:
    *(_WORD *)(a1 + 4) = v39;
    *(_DWORD *)(a1 + 36) = v27;
    if ( (unsigned __int16)v32 == 0xFFFF )
      result = -1;
    else
      result = v31 + 12 * (unsigned __int16)v32 - a5;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10066F20) --------------------------------------------------------
int __cdecl sub_10066F20(int a1, __int16 a2, __int16 a3, char a4)
{
  int result; // eax@25
  signed int v5; // [sp+4h] [bp-30h]@29
  int v6; // [sp+8h] [bp-2Ch]@44
  int v7; // [sp+8h] [bp-2Ch]@54
  __int16 v8; // [sp+Ch] [bp-28h]@31
  char (__cdecl *v9)(int); // [sp+10h] [bp-24h]@2
  char *(__cdecl *v10)(int); // [sp+14h] [bp-20h]@5
  __int16 v11; // [sp+18h] [bp-1Ch]@31
  signed int v12; // [sp+1Ch] [bp-18h]@31
  __int16 v13; // [sp+20h] [bp-14h]@41
  __int16 v14; // [sp+28h] [bp-Ch]@29
  __int16 v15; // [sp+2Ch] [bp-8h]@29
  __int16 v16; // [sp+30h] [bp-4h]@41

  if ( *(_DWORD *)(a1 + 72) )
    v9 = *(char (__cdecl **)(int))(a1 + 72);
  else
    v9 = sub_1006D920;
  if ( *(_DWORD *)(a1 + 76) )
    v10 = *(char *(__cdecl **)(int))(a1 + 76);
  else
    v10 = sub_1006DAF0;
  *(_WORD *)(a1 + 10) = *(_WORD *)(a1 + 42) + *(_WORD *)(a1 + 46);
  *(_WORD *)(a1 + 8) = *(_WORD *)(a1 + 40) + *(_WORD *)(a1 + 44);
  *(_WORD *)(a1 + 14) = *(_WORD *)(a1 + 42) + a2;
  *(_WORD *)(a1 + 12) = *(_WORD *)(a1 + 40) + a3;
  *(_WORD *)(a1 + 46) = a2;
  *(_WORD *)(a1 + 44) = a3;
  if ( a4 & 1 )
  {
    if ( (signed int)*(_WORD *)(a1 + 10) <= 0x1FFF )
    {
      if ( (signed int)*(_WORD *)(a1 + 10) < -8192 )
        *(_WORD *)(a1 + 10) = -8192;
    }
    else
    {
      *(_WORD *)(a1 + 10) = 0x1FFF;
    }
    if ( (signed int)*(_WORD *)(a1 + 8) <= 0x1FFF )
    {
      if ( (signed int)*(_WORD *)(a1 + 8) < -8192 )
        *(_WORD *)(a1 + 8) = -8192;
    }
    else
    {
      *(_WORD *)(a1 + 8) = 0x1FFF;
    }
    if ( (signed int)*(_WORD *)(a1 + 14) <= 0x1FFF )
    {
      if ( (signed int)*(_WORD *)(a1 + 14) < -8192 )
        *(_WORD *)(a1 + 14) = -8192;
    }
    else
    {
      *(_WORD *)(a1 + 14) = 0x1FFF;
    }
    if ( (signed int)*(_WORD *)(a1 + 12) <= 0x1FFF )
    {
      if ( (signed int)*(_WORD *)(a1 + 12) < -8192 )
        *(_WORD *)(a1 + 12) = -8192;
    }
    else
    {
      *(_WORD *)(a1 + 12) = 0x1FFF;
    }
  }
  if ( *(_WORD *)(a1 + 10) != *(_WORD *)(a1 + 14) || (result = *(_WORD *)(a1 + 12), *(_WORD *)(a1 + 8) != result) )
  {
    v14 = *(_WORD *)(a1 + 14) - *(_WORD *)(a1 + 10);
    v15 = v14;
    v5 = 1;
    if ( v14 < 0 )
    {
      v5 = -1;
      v15 = -v14;
    }
    v8 = *(_WORD *)(a1 + 12) - *(_WORD *)(a1 + 8);
    v11 = v8;
    v12 = 1;
    if ( v8 < 0 )
    {
      v12 = -1;
      v11 = -v8;
    }
    if ( v15 )
    {
      if ( v11 )
      {
        v13 = 2 * v15;
        v16 = 2 * v11;
        if ( v15 <= v11 )
        {
          *(_WORD *)(a1 + 16) = 0;
          *(_WORD *)(a1 + 18) = 1;
          if ( v13 >= v11 )
            *(_WORD *)(a1 + 16) -= (v12 ^ v5) + 1;
          v7 = v13 - v11 - (v5 < 0);
          *(_WORD *)(a1 + 12) = 0;
          while ( v11 )
          {
            *(_WORD *)(a1 + 12) += v12;
            if ( v7 >= 0 )
            {
              v10(a1);
              *(_WORD *)(a1 + 8) += *(_WORD *)(a1 + 12);
              *(_WORD *)(a1 + 12) = 0;
              *(_WORD *)(a1 + 10) += v5;
              v7 -= v16;
            }
            v7 += v13;
            --v11;
          }
          if ( a4 & 2 )
            *(_WORD *)(a1 + 12) += v12;
          v10(a1);
          result = a1;
          *(_WORD *)(a1 + 8) += *(_WORD *)(a1 + 12);
        }
        else
        {
          *(_WORD *)(a1 + 16) = 1;
          *(_WORD *)(a1 + 18) = 0;
          if ( v16 >= v15 )
            *(_WORD *)(a1 + 18) -= (v12 ^ v5) + 1;
          v6 = v16 - v15 - (v12 < 0);
          *(_WORD *)(a1 + 14) = 0;
          while ( v15 )
          {
            *(_WORD *)(a1 + 14) += v5;
            if ( v6 >= 0 )
            {
              v9(a1);
              *(_WORD *)(a1 + 10) += *(_WORD *)(a1 + 14);
              *(_WORD *)(a1 + 14) = 0;
              *(_WORD *)(a1 + 8) += v12;
              v6 -= v13;
            }
            v6 += v16;
            --v15;
          }
          if ( a4 & 2 )
            *(_WORD *)(a1 + 14) += v5;
          v9(a1);
          result = a1;
          *(_WORD *)(a1 + 10) += *(_WORD *)(a1 + 14);
        }
      }
      else
      {
        *(_WORD *)(a1 + 16) = 1;
        *(_WORD *)(a1 + 18) = 0;
        *(_WORD *)(a1 + 14) = v14;
        if ( a4 & 2 )
          *(_WORD *)(a1 + 14) += v5;
        result = v9(a1);
      }
    }
    else
    {
      *(_WORD *)(a1 + 16) = 0;
      *(_WORD *)(a1 + 18) = 1;
      *(_WORD *)(a1 + 12) = v8;
      if ( a4 & 2 )
        *(_WORD *)(a1 + 12) += v12;
      result = (int)v10(a1);
    }
  }
  else if ( a4 & 2 )
  {
    *(_WORD *)(a1 + 12) = 1;
    result = (int)v10(a1);
  }
  return result;
}

//----- (10067470) --------------------------------------------------------
unsigned int __cdecl sub_10067470(int a1, int a2, __int16 a3, __int16 a4, __int16 a5, __int16 a6, __int16 a7, __int16 a8)
{
  unsigned int result; // eax@2
  int v9; // [sp+8h] [bp+8h]@1

  v9 = sub_100682C0(a1, a2, a3, a4, a5, a6, a7, a8);
  if ( *(_BYTE *)(*(_DWORD *)(v9 + 52) + 8) == 8 )
  {
    if ( *(_DWORD *)(v9 + 68) )
    {
      if ( *(_BYTE *)(*(_DWORD *)(v9 + 56) + 8) == 1 )
      {
        *(_WORD *)(v9 + 38) = **(_WORD **)(v9 + 68);
        *(_WORD *)(v9 + 36) = *(_WORD *)(*(_DWORD *)(v9 + 68) + 2);
        result = sub_10067860(v9);
      }
      else
      {
        result = sub_10067D90(v9);
      }
    }
    else if ( *(_BYTE *)(*(_DWORD *)(v9 + 56) + 8) == 8 )
    {
      result = sub_10067BB0(v9);
    }
    else
    {
      result = sub_10067D90(v9);
    }
  }
  else
  {
    result = sub_10067D90(v9);
  }
  return result;
}

//----- (10067550) --------------------------------------------------------
int __cdecl sub_10067550(int a1, int a2, __int16 a3, __int16 a4, __int16 a5, __int16 a6, __int16 a7, __int16 a8)
{
  int v8; // eax@1
  int result; // eax@1
  int v10; // ST3C_4@8
  int v11; // [sp+0h] [bp-48h]@3
  unsigned __int8 v12; // [sp+7h] [bp-41h]@4
  unsigned __int16 v13; // [sp+8h] [bp-40h]@3
  char *v14; // [sp+Ch] [bp-3Ch]@4
  unsigned __int16 v15; // [sp+10h] [bp-38h]@3
  __int16 v16; // [sp+14h] [bp-34h]@1
  unsigned __int16 v17; // [sp+14h] [bp-34h]@2
  signed int v18; // [sp+20h] [bp-28h]@7
  unsigned int *v19; // [sp+24h] [bp-24h]@7
  int v20; // [sp+28h] [bp-20h]@9
  int v21; // [sp+2Ch] [bp-1Ch]@7
  unsigned int v22; // [sp+30h] [bp-18h]@7
  unsigned __int16 v23; // [sp+34h] [bp-14h]@2
  unsigned int *v24; // [sp+38h] [bp-10h]@3
  int v25; // [sp+3Ch] [bp-Ch]@5
  _BYTE *v26; // [sp+40h] [bp-8h]@2
  unsigned __int16 v27; // [sp+44h] [bp-4h]@2
  int v28; // [sp+50h] [bp+8h]@1

  v8 = sub_100682C0(a1, a2, a3, a4, a5, a6, a7, a8);
  v16 = *(_WORD *)(v8 + 14);
  result = sub_1006F040(v8);
  v28 = result;
  if ( result )
  {
    v27 = *(_WORD *)(*(_DWORD *)(result + 56) + 10);
    v26 = (_BYTE *)(((unsigned int)*(_WORD *)(result + 14) >> 3)
                  + *(_WORD *)(result + 12) * *(_WORD *)(*(_DWORD *)(result + 56) + 10)
                  + **(_DWORD **)(result + 56));
    v17 = ((unsigned __int8)*(_WORD *)(result + 14) - (_BYTE)v16) & 7;
    v23 = *(_WORD *)(*(_DWORD *)(result + 52) + 10);
    if ( !(*(_WORD *)(*(_DWORD *)(result + 52) + 10) << 30) )
    {
      v24 = (unsigned int *)(**(_DWORD **)(result + 52)
                           + *(_WORD *)(result + 8) * *(_WORD *)(*(_DWORD *)(result + 52) + 10)
                           + 4 * (8 * *(_WORD *)(result + 10) >> 5));
      v15 = 32 * (8 * *(_WORD *)(result + 10) >> 5) - 8 * *(_WORD *)(result + 10) + 32;
      v11 = *(_WORD *)(result + 16);
      v13 = *(_WORD *)(result + 18);
      do
      {
        v12 = *v26;
        v14 = v26 + 1;
        if ( v17 )
        {
          v25 = 8 - v17;
          v12 <<= v17;
        }
        else
        {
          v25 = 8;
        }
        v18 = v15;
        v19 = v24;
        v22 = (*v24 >> ((32 - v15) & 0x1F)) | (*v24 << (32 - ((32 - v15) & 0x1F)));
        v21 = v13;
        do
        {
          v10 = 2 * ((signed int)v12 >> 7);
          v12 *= 2;
          if ( v10 )
            v20 = *(_WORD *)(v28 + 38);
          else
            v20 = *(_WORD *)(v28 + 36);
          if ( (signed __int16)v20 >= 0 )
            v22 = (v22 >> 8) | (v20 << 24);
          else
            v22 = (v22 >> 8) | (v22 << 24);
          if ( --v21 )
          {
            v18 -= 8;
            if ( !v18 )
            {
              *v19 = v22;
              ++v19;
              v18 = 32;
              v22 = *v19;
            }
            if ( !--v25 )
            {
              v25 = 8;
              v12 = *v14++;
            }
          }
        }
        while ( v21 );
        *v19 = (v22 >> ((v18 - 8) & 0x1F)) | (v22 << (32 - ((v18 - 8) & 0x1F)));
        v26 += v27;
        result = (int)v24 + v23;
        v24 = (unsigned int *)((char *)v24 + v23);
        --v11;
      }
      while ( v11 );
    }
  }
  return result;
}

//----- (10067860) --------------------------------------------------------
int __cdecl sub_10067860(int a1)
{
  int result; // eax@1
  int v2; // ST1C_4@10
  int v3; // [sp+0h] [bp-44h]@3
  unsigned int v4; // [sp+4h] [bp-40h]@5
  unsigned int v5; // [sp+4h] [bp-40h]@9
  unsigned __int16 v6; // [sp+8h] [bp-3Ch]@3
  int v7; // [sp+Ch] [bp-38h]@5
  unsigned __int16 v8; // [sp+10h] [bp-34h]@3
  unsigned __int16 v9; // [sp+14h] [bp-30h]@2
  signed int v10; // [sp+1Ch] [bp-28h]@9
  unsigned int *v11; // [sp+20h] [bp-24h]@9
  int v12; // [sp+24h] [bp-20h]@11
  int v13; // [sp+28h] [bp-1Ch]@9
  unsigned int v14; // [sp+2Ch] [bp-18h]@9
  unsigned __int16 v15; // [sp+30h] [bp-14h]@2
  unsigned int *v16; // [sp+34h] [bp-10h]@3
  int v17; // [sp+38h] [bp-Ch]@4
  unsigned int v18; // [sp+3Ch] [bp-8h]@2
  unsigned __int16 v19; // [sp+40h] [bp-4h]@2
  int v20; // [sp+4Ch] [bp+8h]@1

  result = sub_1006F040(a1);
  v20 = result;
  if ( result )
  {
    v19 = *(_WORD *)(*(_DWORD *)(result + 56) + 10);
    v18 = ((unsigned int)*(_WORD *)(result + 14) >> 3)
        + *(_WORD *)(result + 12) * *(_WORD *)(*(_DWORD *)(result + 56) + 10)
        + **(_DWORD **)(result + 56);
    v9 = 8 * (*(_WORD *)(result + 14) >> 3) - *(_WORD *)(result + 14) + 8;
    v15 = *(_WORD *)(*(_DWORD *)(result + 52) + 10);
    if ( !(*(_WORD *)(*(_DWORD *)(result + 52) + 10) << 30) )
    {
      v16 = (unsigned int *)(**(_DWORD **)(result + 52)
                           + *(_WORD *)(result + 8) * *(_WORD *)(*(_DWORD *)(result + 52) + 10)
                           + 4 * (8 * *(_WORD *)(result + 10) >> 5));
      v8 = 32 * (8 * *(_WORD *)(result + 10) >> 5) - 8 * *(_WORD *)(result + 10) + 32;
      v3 = *(_WORD *)(result + 16);
      v6 = *(_WORD *)(result + 18);
      do
      {
        v17 = v9;
        if ( v18 << 31 )
        {
          v4 = *(_BYTE *)v18;
          v7 = v18 + 1;
        }
        else if ( v18 << 30 )
        {
          v4 = *(_WORD *)v18;
          v7 = v18 + 2;
          v17 = v9 + 8;
        }
        else
        {
          v4 = *(_DWORD *)v18;
          v7 = v18 + 4;
          v17 = v9 + 24;
        }
        v5 = (v4 >> ((-v9 + 8) & 0x1F)) | (v4 << (32 - ((-v9 + 8) & 0x1F)));
        v10 = v8;
        v11 = v16;
        v14 = (*v16 >> ((32 - v8) & 0x1F)) | (*v16 << (32 - ((32 - v8) & 0x1F)));
        v13 = v6;
        do
        {
          v2 = 2 * v5 & 3;
          v5 >>= 1;
          if ( v2 )
            v12 = *(_WORD *)(v20 + 38);
          else
            v12 = *(_WORD *)(v20 + 36);
          if ( (signed __int16)v12 >= 0 )
            v14 = (v14 >> 8) | (v12 << 24);
          else
            v14 = (v14 >> 8) | (v14 << 24);
          if ( --v13 )
          {
            v10 -= 8;
            if ( !v10 )
            {
              *v11 = v14;
              ++v11;
              v10 = 32;
              v14 = *v11;
            }
            if ( !--v17 )
            {
              if ( v7 << 30 )
              {
                v17 = 16;
                v5 = *(_WORD *)v7;
                v7 += 2;
              }
              else
              {
                v17 = 32;
                v5 = *(_DWORD *)v7;
                v7 += 4;
              }
            }
          }
        }
        while ( v13 );
        *v11 = (v14 >> ((v10 - 8) & 0x1F)) | (v14 << (32 - ((v10 - 8) & 0x1F)));
        v18 += v19;
        result = (int)v16 + v15;
        v16 = (unsigned int *)((char *)v16 + v15);
        --v3;
      }
      while ( v3 );
    }
  }
  return result;
}

//----- (10067BB0) --------------------------------------------------------
int __cdecl sub_10067BB0(int a1)
{
  int result; // eax@1
  signed int v2; // [sp+4h] [bp-30h]@16
  int v3; // [sp+8h] [bp-2Ch]@9
  char *v4; // [sp+Ch] [bp-28h]@4
  _BYTE *v5; // [sp+Ch] [bp-28h]@10
  _BYTE *v6; // [sp+Ch] [bp-28h]@12
  _BYTE *v7; // [sp+Ch] [bp-28h]@14
  char *v8; // [sp+10h] [bp-24h]@4
  _BYTE *v9; // [sp+10h] [bp-24h]@10
  _BYTE *v10; // [sp+10h] [bp-24h]@12
  _BYTE *v11; // [sp+10h] [bp-24h]@14
  unsigned int v12; // [sp+14h] [bp-20h]@4
  int v13; // [sp+14h] [bp-20h]@10
  int v14; // [sp+14h] [bp-20h]@12
  int v15; // [sp+18h] [bp-1Ch]@2
  int v16; // [sp+1Ch] [bp-18h]@2
  int v17; // [sp+20h] [bp-14h]@2
  size_t v18; // [sp+24h] [bp-10h]@2
  char *v19; // [sp+28h] [bp-Ch]@2
  int v20; // [sp+2Ch] [bp-8h]@2
  char *v21; // [sp+30h] [bp-4h]@2
  _BYTE *v22; // [sp+3Ch] [bp+8h]@1

  result = sub_1006F040(a1);
  v22 = (_BYTE *)result;
  if ( result )
  {
    v18 = *(_WORD *)(result + 18);
    v15 = *(_WORD *)(result + 16);
    v17 = *(_WORD *)(*(_DWORD *)(result + 52) + 10);
    v16 = *(_WORD *)(*(_DWORD *)(result + 56) + 10);
    v21 = (char *)(*(_WORD *)(result + 14) + v16 * *(_WORD *)(result + 12) + **(_DWORD **)(result + 56));
    v19 = (char *)(*(_WORD *)(result + 10) + v17 * *(_WORD *)(result + 8) + **(_DWORD **)(result + 52));
    v20 = 0;
    do
    {
      if ( v20 )
        goto LABEL_26;
      v12 = v18;
      v8 = v21;
      v4 = v19;
      while ( v12 >= 4 )
      {
        if ( *(_DWORD *)v4 != *(_DWORD *)v8 )
          goto LABEL_9;
        v12 -= 4;
        v8 += 4;
        v4 += 4;
      }
      if ( !v12 )
      {
LABEL_16:
        v2 = 0;
        goto LABEL_19;
      }
LABEL_9:
      v3 = (unsigned __int8)*v4 - (unsigned __int8)*v8;
      if ( (unsigned __int8)*v4 == (unsigned __int8)*v8 )
      {
        v13 = v12 - 1;
        v9 = v8 + 1;
        v5 = v4 + 1;
        if ( !v13 )
          goto LABEL_16;
        v3 = *v5 - *v9;
        if ( *v5 == *v9 )
        {
          v14 = v13 - 1;
          v10 = v9 + 1;
          v6 = v5 + 1;
          if ( !v14 )
            goto LABEL_16;
          v3 = *v6 - *v10;
          if ( *v6 == *v10 )
          {
            v11 = v10 + 1;
            v7 = v6 + 1;
            if ( v14 == 1 )
              goto LABEL_16;
            v3 = *v7 - *v11;
            if ( *v7 == *v11 )
              goto LABEL_16;
          }
        }
      }
      v2 = 1;
      if ( v3 <= 0 )
        v2 = -1;
LABEL_19:
      if ( v2 )
      {
LABEL_26:
        ++v20;
        memcpy(v19, v21, v18);
      }
      v21 += v16;
      v19 += v17;
      result = v15-- - 1;
    }
    while ( v15 );
    if ( !v20 )
      *v22 = 0;
  }
  return result;
}

//----- (10067D90) --------------------------------------------------------
unsigned int __cdecl sub_10067D90(int a1)
{
  unsigned int result; // eax@1
  unsigned int v2; // ST08_4@5
  unsigned int v3; // ST28_4@6
  int v4; // ST28_4@13
  int v5; // [sp+0h] [bp-50h]@4
  unsigned int v6; // [sp+4h] [bp-4Ch]@5
  int v7; // [sp+8h] [bp-48h]@4
  unsigned __int16 v8; // [sp+Ch] [bp-44h]@4
  int *v9; // [sp+10h] [bp-40h]@5
  unsigned __int16 v10; // [sp+14h] [bp-3Ch]@4
  int v11; // [sp+18h] [bp-38h]@3
  int v12; // [sp+18h] [bp-38h]@5
  unsigned __int16 v13; // [sp+20h] [bp-30h]@3
  unsigned int *v14; // [sp+2Ch] [bp-24h]@5
  signed int v15; // [sp+30h] [bp-20h]@13
  int v16; // [sp+34h] [bp-1Ch]@5
  unsigned int v17; // [sp+38h] [bp-18h]@5
  unsigned __int16 v18; // [sp+3Ch] [bp-14h]@3
  unsigned int *v19; // [sp+40h] [bp-10h]@4
  int v20; // [sp+48h] [bp-8h]@2
  int v21; // [sp+48h] [bp-8h]@3
  unsigned __int16 v22; // [sp+4Ch] [bp-4h]@2
  unsigned int v23; // [sp+58h] [bp+8h]@1

  result = sub_1006F040(a1);
  v23 = result;
  if ( result )
  {
    v22 = *(_WORD *)(*(_DWORD *)(result + 56) + 10);
    v20 = **(_DWORD **)(result + 56) + *(_WORD *)(result + 12) * *(_WORD *)(*(_DWORD *)(result + 56) + 10);
    result = *(_DWORD *)(result + 56);
    if ( (unsigned int)*(_BYTE *)(result + 8) < 9 )
    {
      v21 = v20 + 4 * ((signed int)*(_WORD *)(v23 + 14) << byte_100DE55C[*(_BYTE *)(*(_DWORD *)(v23 + 56) + 8)] >> 5);
      v13 = 32 - ((*(_WORD *)(v23 + 14) << byte_100DE55C[*(_BYTE *)(*(_DWORD *)(v23 + 56) + 8)]) & 0x1F);
      v18 = *(_WORD *)(*(_DWORD *)(v23 + 52) + 10);
      v11 = *(_BYTE *)(*(_DWORD *)(v23 + 56) + 8) | (*(_BYTE *)(*(_DWORD *)(v23 + 52) + 8) << 8);
      result = *(_BYTE *)(*(_DWORD *)(v23 + 52) + 8);
      if ( result < 9 )
      {
        v19 = (unsigned int *)(**(_DWORD **)(v23 + 52)
                             + *(_WORD *)(v23 + 8) * *(_WORD *)(*(_DWORD *)(v23 + 52) + 10)
                             + 4
                             * ((signed int)*(_WORD *)(v23 + 10) << byte_100DE55C[*(_BYTE *)(*(_DWORD *)(v23 + 52) + 8)] >> 5));
        v10 = 32 - ((*(_WORD *)(v23 + 10) << byte_100DE55C[*(_BYTE *)(*(_DWORD *)(v23 + 52) + 8)]) & 0x1F);
        v8 = *(_WORD *)(v23 + 18);
        v5 = *(_WORD *)(v23 + 16);
        v7 = (1 << *(_BYTE *)(*(_DWORD *)(v23 + 56) + 8)) - 1;
        do
        {
          v2 = *(_DWORD *)(v21 - (v21 & 3) - 4 * ((v13 - 8 * (v21 & 3) - 1) >> 5));
          v9 = (int *)(v21 - (v21 & 3) - 4 * ((v13 - 8 * (v21 & 3) - 1) >> 5) + 4);
          v6 = (v2 >> (31 * (v13 - 8 * (v21 & 3) - 32 * ((v13 - 8 * (v21 & 3) - 1) >> 5)) & 0x1F)) | (v2 << (32 - (31 * (v13 - 8 * (v21 & 3) - 32 * ((v13 - 8 * (v21 & 3) - 1) >> 5)) & 0x1F)));
          v14 = v19;
          v17 = (*v19 >> (31 * v10 & 0x1F)) | (*v19 << (32 - (31 * v10 & 0x1F)));
          v12 = (unsigned __int16)v11 | (((v13 - 8 * (v21 & 3) - 32 * ((v13 - 8 * (v21 & 3) - 1) >> 5) + 127) | ((v10 + 127) << 8)) << 16);
          v16 = v8;
          if ( *(_DWORD *)(v23 + 68) )
          {
            do
            {
              v4 = v6 & v7;
              v6 = (unsigned __int64)v6 >> v12;
              v15 = *(_WORD *)(*(_DWORD *)(v23 + 68) + 2 * v4);
              if ( (signed __int16)v15 >= 0 )
                v17 = (v15 >> (BYTE1(v12) & 0x1F)) | (v15 << (32 - (BYTE1(v12) & 0x1F))) | ((unsigned __int64)v17 >> SBYTE1(v12));
              else
                v17 = (v17 >> (BYTE1(v12) & 0x1F)) | (v17 << (32 - (BYTE1(v12) & 0x1F)));
              if ( --v16 )
              {
                v12 *= -65535;
                if ( v12 >= 0 )
                {
                  v12 += 0x20000000;
                  *v14 = v17;
                  ++v14;
                  v17 = *v14;
                }
                if ( !(v12 & 0x800000) )
                {
                  v12 += 0x200000;
                  v6 = *v9;
                  ++v9;
                }
              }
            }
            while ( (signed __int16)v16 > 0 );
          }
          else
          {
            do
            {
              v3 = v6 & v7;
              v6 = (unsigned __int64)v6 >> v12;
              v17 = ((unsigned __int64)v17 >> SBYTE1(v12)) | (v3 >> (BYTE1(v12) & 0x1F)) | (v3 << (32
                                                                                                 - (BYTE1(v12) & 0x1F)));
              if ( --v16 )
              {
                v12 *= -65535;
                if ( v12 >= 0 )
                {
                  v12 += 0x20000000;
                  *v14 = v17;
                  ++v14;
                  v17 = *v14;
                }
                if ( !(v12 & 0x800000) )
                {
                  v12 += 0x200000;
                  v6 = *v9;
                  ++v9;
                }
              }
            }
            while ( v16 );
          }
          v11 = -65535 * v12;
          *v14 = (v17 >> ((BYTE3(v11) - 127) & 0x1F)) | (v17 << (32 - ((BYTE3(v11) - 127) & 0x1F)));
          v21 += v22;
          result = (unsigned int)v19 + v18;
          v19 = (unsigned int *)((char *)v19 + v18);
          --v5;
        }
        while ( v5 );
      }
    }
  }
  return result;
}

//----- (100682C0) --------------------------------------------------------
int __cdecl sub_100682C0(int a1, int a2, __int16 a3, __int16 a4, __int16 a5, __int16 a6, __int16 a7, __int16 a8)
{
  *(_DWORD *)(a1 + 56) = a2;
  *(_WORD *)(a1 + 14) = a3;
  *(_WORD *)(a1 + 12) = a4;
  *(_WORD *)(a1 + 10) = a5;
  *(_WORD *)(a1 + 8) = a6;
  *(_WORD *)(a1 + 18) = a7;
  *(_WORD *)(a1 + 16) = a8;
  return a1;
}

//----- (10068320) --------------------------------------------------------
signed int __cdecl sub_10068320(unsigned int a1, unsigned int a2, unsigned int *a3)
{
  char v4; // [sp+2h] [bp-6h]@8
  bool v5; // [sp+3h] [bp-5h]@3
  unsigned int v6; // [sp+4h] [bp-4h]@14

  v5 = a1 >= 0xFFFFFFC2 || !a1;
  if ( v5 )
    return -15;
  v4 = a2 < 0xFFFFFFC2 && a2 ? 0 : 1;
  if ( v4 )
    return -15;
  if ( a1 != a2 )
  {
    if ( *(_DWORD *)a1 < *(_DWORD *)(a2 + 4) )
    {
      v6 = *(_DWORD *)(a1 + 8);
      *(_DWORD *)(a1 + 8) = sub_10002F70(*(void **)(a1 + 8), 8 * *(_DWORD *)(a2 + 4), a3);
      if ( !*(_DWORD *)(a1 + 8) )
      {
        sub_10002F50(v6, a3);
        return -26;
      }
      *(_DWORD *)a1 = *(_DWORD *)(a2 + 4);
    }
    *(_DWORD *)(a1 + 4) = *(_DWORD *)(a2 + 4);
    *(_WORD *)(a1 + 12) = *(_WORD *)(a2 + 12);
    *(_WORD *)(a1 + 16) = *(_WORD *)(a2 + 16);
    *(_WORD *)(a1 + 14) = *(_WORD *)(a2 + 14);
    *(_WORD *)(a1 + 18) = *(_WORD *)(a2 + 18);
    memcpy(*(void **)(a1 + 8), *(const void **)(a2 + 8), 8 * *(_DWORD *)(a2 + 4));
  }
  return 0;
}

//----- (10068450) --------------------------------------------------------
signed int __cdecl sub_10068450(unsigned int *a1)
{
  signed int result; // eax@2
  int v2; // [sp+0h] [bp-4h]@1

  v2 = sub_10002F30(0x14u, a1);
  if ( v2 )
  {
    *(_DWORD *)(v2 + 8) = sub_10002F30(8u, a1);
    if ( *(_DWORD *)(v2 + 8) )
    {
      *(_DWORD *)(v2 + 4) = 0;
      *(_WORD *)(v2 + 12) = 0;
      *(_WORD *)(v2 + 16) = 0;
      *(_WORD *)(v2 + 14) = 0;
      *(_WORD *)(v2 + 18) = 0;
      *(_DWORD *)v2 = 1;
      result = v2;
    }
    else
    {
      sub_10002F50(v2, a1);
      result = -26;
    }
  }
  else
  {
    result = -26;
  }
  return result;
}

//----- (100684F0) --------------------------------------------------------
int __cdecl sub_100684F0(unsigned int a1, unsigned int *a2)
{
  bool v3; // [sp+1h] [bp-1h]@3

  v3 = a1 >= 0xFFFFFFC2 || !a1;
  if ( !v3 )
  {
    sub_10002F50(*(_DWORD *)(a1 + 8), a2);
    sub_10002F50(a1, a2);
  }
  return 0;
}

//----- (10068540) --------------------------------------------------------
signed int __cdecl sub_10068540(unsigned int a1, unsigned int a2, unsigned int a3, unsigned int *a4)
{
  char v5; // [sp+1h] [bp-7h]@13
  char v6; // [sp+2h] [bp-6h]@8
  bool v7; // [sp+3h] [bp-5h]@3
  signed int v8; // [sp+4h] [bp-4h]@21

  v7 = a1 >= 0xFFFFFFC2 || !a1;
  if ( v7 )
    return -15;
  v6 = a2 < 0xFFFFFFC2 && a2 ? 0 : 1;
  if ( v6 )
    return -15;
  v5 = a3 < 0xFFFFFFC2 && a3 ? 0 : 1;
  if ( v5 )
    return -15;
  if ( *(_DWORD *)(a1 + 4) && *(_DWORD *)(a2 + 4) && sub_10068E40(a1 + 12, a2 + 12) )
  {
    v8 = sub_100690B0(
           a3,
           a1,
           a2,
           (int (__cdecl *)(int, unsigned int, unsigned int, unsigned int, unsigned int, int, int, unsigned int *))sub_10068EB0,
           0,
           0,
           a4);
    if ( v8 )
      return v8;
  }
  else
  {
    *(_DWORD *)(a3 + 4) = 0;
  }
  sub_10069BC0(a3);
  return 0;
}

//----- (10068630) --------------------------------------------------------
int __cdecl sub_10068630(int a1, unsigned int a2)
{
  int result; // eax@6
  bool v3; // [sp+3h] [bp-9h]@4
  int v4; // [sp+4h] [bp-8h]@7
  int i; // [sp+8h] [bp-4h]@7

  if ( a1 )
  {
    v3 = a2 >= 0xFFFFFFC2 || !a2;
    result = v3;
    if ( !v3 )
    {
      v4 = *(_DWORD *)(a2 + 8);
      for ( i = 0; i < *(_DWORD *)(a2 + 4); ++i )
      {
        sub_10066600(
          a1,
          *(_WORD *)(v4 + 8 * i),
          *(_WORD *)(v4 + 8 * i + 4),
          *(_WORD *)(v4 + 8 * i + 2) - *(_WORD *)(v4 + 8 * i),
          *(_WORD *)(v4 + 8 * i + 6) - *(_WORD *)(v4 + 8 * i + 4));
        result = i + 1;
      }
    }
  }
  return result;
}

//----- (100686E0) --------------------------------------------------------
char __cdecl sub_100686E0(unsigned int a1, signed int a2, signed int a3)
{
  bool v4; // [sp+2h] [bp-6h]@3
  char v5; // [sp+3h] [bp-5h]@1
  int i; // [sp+4h] [bp-4h]@11

  v5 = 0;
  v4 = a1 >= 0xFFFFFFC2 || !a1;
  if ( !v4
    && *(_DWORD *)(a1 + 4)
    && *(_WORD *)(a1 + 14) > a2
    && *(_WORD *)(a1 + 12) <= a2
    && *(_WORD *)(a1 + 18) > a3
    && *(_WORD *)(a1 + 16) <= a3 )
  {
    for ( i = 0; i < *(_DWORD *)(a1 + 4); ++i )
    {
      if ( *(_WORD *)(*(_DWORD *)(a1 + 8) + 8 * i + 2) > a2
        && *(_WORD *)(*(_DWORD *)(a1 + 8) + 8 * i) <= a2
        && *(_WORD *)(*(_DWORD *)(a1 + 8) + 8 * i + 6) > a3
        && *(_WORD *)(*(_DWORD *)(a1 + 8) + 8 * i + 4) <= a3 )
      {
        return 1;
      }
    }
  }
  return v5;
}

//----- (100687E0) --------------------------------------------------------
signed int __cdecl sub_100687E0(unsigned int a1, unsigned int a2, unsigned int a3, unsigned int *a4)
{
  signed int result; // eax@16
  char v5; // [sp+1h] [bp-7h]@13
  char v6; // [sp+2h] [bp-6h]@8
  bool v7; // [sp+3h] [bp-5h]@3
  signed int v8; // [sp+4h] [bp-4h]@21

  v7 = a1 >= 0xFFFFFFC2 || !a1;
  if ( v7 || (a2 >= 0xFFFFFFC2 || !a2 ? (v6 = 1) : (v6 = 0), v6 || (a3 >= 0xFFFFFFC2 || !a3 ? (v5 = 1) : (v5 = 0), v5)) )
  {
    result = -15;
  }
  else if ( *(_DWORD *)(a1 + 4) && *(_DWORD *)(a2 + 4) && sub_10068E40(a1 + 12, a2 + 12) )
  {
    v8 = sub_100690B0(
           a3,
           a1,
           a2,
           (int (__cdecl *)(int, unsigned int, unsigned int, unsigned int, unsigned int, int, int, unsigned int *))sub_10069CB0,
           (int (__cdecl *)(int, unsigned int, unsigned int, int, signed int, unsigned int *))sub_10069F70,
           0,
           a4);
    if ( v8 )
    {
      result = v8;
    }
    else
    {
      sub_10069BC0(a3);
      result = 0;
    }
  }
  else
  {
    result = sub_10068320(a3, a1, a4);
  }
  return result;
}

//----- (100688E0) --------------------------------------------------------
signed int __cdecl sub_100688E0(int a1, unsigned int a2, unsigned int a3, unsigned int *a4)
{
  signed int result; // eax@4
  int v5; // [sp+0h] [bp-14h]@5
  int v6; // [sp+4h] [bp-10h]@5
  __int16 *v7; // [sp+8h] [bp-Ch]@5
  __int16 v8; // [sp+Ch] [bp-8h]@5
  __int16 v9; // [sp+Eh] [bp-6h]@5
  __int16 v10; // [sp+10h] [bp-4h]@5
  __int16 v11; // [sp+12h] [bp-2h]@5

  if ( a1 && *(_WORD *)(a1 + 4) && *(_WORD *)(a1 + 6) )
  {
    v7 = &v8;
    v6 = 1;
    v8 = *(_WORD *)a1;
    v10 = *(_WORD *)(a1 + 2);
    v9 = *(_WORD *)(a1 + 4) + *(_WORD *)a1;
    v11 = *(_WORD *)(a1 + 6) + *(_WORD *)(a1 + 2);
    v5 = 1;
    result = sub_10068980((unsigned int)&v5, a2, a3, a4);
  }
  else
  {
    result = -15;
  }
  return result;
}

//----- (10068980) --------------------------------------------------------
signed int __cdecl sub_10068980(unsigned int a1, unsigned int a2, unsigned int a3, unsigned int *a4)
{
  signed int result; // eax@16
  signed int v5; // ST28_4@53
  char v6; // [sp+1h] [bp-37h]@13
  char v7; // [sp+2h] [bp-36h]@8
  bool v8; // [sp+3h] [bp-35h]@3
  __int16 v9; // [sp+4h] [bp-34h]@54
  __int16 v10; // [sp+10h] [bp-28h]@51
  __int16 v11; // [sp+1Ch] [bp-1Ch]@48
  __int16 v12; // [sp+28h] [bp-10h]@45
  signed int v13; // [sp+34h] [bp-4h]@42

  v8 = a1 >= 0xFFFFFFC2 || !a1;
  if ( v8 || (a2 >= 0xFFFFFFC2 || !a2 ? (v7 = 1) : (v7 = 0), v7 || (a3 >= 0xFFFFFFC2 || !a3 ? (v6 = 1) : (v6 = 0), v6)) )
  {
    result = -15;
  }
  else if ( a1 != a2 && *(_DWORD *)(a1 + 4) )
  {
    if ( *(_DWORD *)(a2 + 4) )
    {
      if ( *(_DWORD *)(a1 + 4) != 1
        || *(_WORD *)(a1 + 12) > (signed int)*(_WORD *)(a2 + 12)
        || *(_WORD *)(a1 + 16) > (signed int)*(_WORD *)(a2 + 16)
        || *(_WORD *)(a1 + 14) < (signed int)*(_WORD *)(a2 + 14)
        || *(_WORD *)(a1 + 18) < (signed int)*(_WORD *)(a2 + 18) )
      {
        if ( *(_DWORD *)(a2 + 4) != 1
          || *(_WORD *)(a2 + 12) > (signed int)*(_WORD *)(a1 + 12)
          || *(_WORD *)(a2 + 16) > (signed int)*(_WORD *)(a1 + 16)
          || *(_WORD *)(a2 + 14) < (signed int)*(_WORD *)(a1 + 14)
          || *(_WORD *)(a2 + 18) < (signed int)*(_WORD *)(a1 + 18) )
        {
          v13 = sub_100690B0(
                  a3,
                  a1,
                  a2,
                  (int (__cdecl *)(int, unsigned int, unsigned int, unsigned int, unsigned int, int, int, unsigned int *))sub_1006A020,
                  (int (__cdecl *)(int, unsigned int, unsigned int, int, signed int, unsigned int *))sub_10069F70,
                  (int (__cdecl *)(int, unsigned int, unsigned int, int, signed int, unsigned int *))sub_10069F70,
                  a4);
          if ( v13 )
          {
            result = v13;
          }
          else
          {
            if ( *(_WORD *)(a1 + 12) >= (signed int)*(_WORD *)(a2 + 12) )
              v12 = *(_WORD *)(a2 + 12);
            else
              v12 = *(_WORD *)(a1 + 12);
            *(_WORD *)(a3 + 12) = v12;
            if ( *(_WORD *)(a1 + 16) >= (signed int)*(_WORD *)(a2 + 16) )
              v11 = *(_WORD *)(a2 + 16);
            else
              v11 = *(_WORD *)(a1 + 16);
            *(_WORD *)(a3 + 16) = v11;
            if ( *(_WORD *)(a1 + 14) <= (signed int)*(_WORD *)(a2 + 14) )
              v10 = *(_WORD *)(a2 + 14);
            else
              v10 = *(_WORD *)(a1 + 14);
            *(_WORD *)(a3 + 14) = v10;
            v5 = *(_WORD *)(a1 + 18);
            if ( v5 <= *(_WORD *)(a2 + 18) )
              v9 = *(_WORD *)(a2 + 18);
            else
              v9 = *(_WORD *)(a1 + 18);
            *(_WORD *)(a3 + 18) = v9;
            result = 0;
          }
        }
        else if ( a3 == a2 )
        {
          result = 0;
        }
        else
        {
          result = sub_10068320(a3, a2, a4);
        }
      }
      else if ( a3 == a1 )
      {
        result = 0;
      }
      else
      {
        result = sub_10068320(a3, a1, a4);
      }
    }
    else if ( a3 == a1 )
    {
      result = 0;
    }
    else
    {
      result = sub_10068320(a3, a1, a4);
    }
  }
  else if ( a3 == a2 )
  {
    result = 0;
  }
  else
  {
    result = sub_10068320(a3, a2, a4);
  }
  return result;
}

//----- (10068C60) --------------------------------------------------------
signed int __cdecl sub_10068C60(unsigned int a1, unsigned int a2, unsigned int a3, unsigned int *a4)
{
  signed int result; // eax@16
  bool v5; // [sp+3h] [bp-11h]@25
  bool v6; // [sp+4h] [bp-10h]@19
  char v7; // [sp+5h] [bp-Fh]@13
  char v8; // [sp+6h] [bp-Eh]@8
  bool v9; // [sp+7h] [bp-Dh]@3
  signed int v10; // [sp+8h] [bp-Ch]@29
  signed int v11; // [sp+8h] [bp-Ch]@31
  signed int v12; // [sp+8h] [bp-Ch]@33
  unsigned int v13; // [sp+Ch] [bp-8h]@23
  unsigned int v14; // [sp+10h] [bp-4h]@17

  v9 = a1 >= 0xFFFFFFC2 || !a1;
  if ( v9 || (a2 >= 0xFFFFFFC2 || !a2 ? (v8 = 1) : (v8 = 0), v8 || (a3 >= 0xFFFFFFC2 || !a3 ? (v7 = 1) : (v7 = 0), v7)) )
  {
    result = -15;
  }
  else
  {
    v14 = sub_10068450(a4);
    v6 = v14 >= 0xFFFFFFC2 || !v14;
    if ( v6 )
    {
      result = v14;
    }
    else
    {
      v13 = sub_10068450(a4);
      v5 = v13 >= 0xFFFFFFC2 || !v13;
      if ( v5 )
      {
        sub_100684F0(v14, a4);
        result = v13;
      }
      else
      {
        v10 = sub_100687E0(a1, a2, v14, a4);
        if ( v10 )
        {
          sub_100684F0(v14, a4);
          sub_100684F0(v13, a4);
          result = v10;
        }
        else
        {
          v11 = sub_100687E0(a2, a1, v13, a4);
          if ( v11 )
          {
            sub_100684F0(v14, a4);
            sub_100684F0(v13, a4);
            result = v11;
          }
          else
          {
            v12 = sub_10068980(v14, v13, a3, a4);
            if ( v12 )
            {
              sub_100684F0(v14, a4);
              sub_100684F0(v13, a4);
              result = v12;
            }
            else
            {
              sub_100684F0(v14, a4);
              sub_100684F0(v13, a4);
              result = 0;
            }
          }
        }
      }
    }
  }
  return result;
}

//----- (10068E40) --------------------------------------------------------
bool __cdecl sub_10068E40(int a1, int a2)
{
  return *(_WORD *)(a1 + 2) > (signed int)*(_WORD *)a2
      && *(_WORD *)a1 < (signed int)*(_WORD *)(a2 + 2)
      && *(_WORD *)(a1 + 6) > (signed int)*(_WORD *)(a2 + 4)
      && *(_WORD *)(a1 + 4) < (signed int)*(_WORD *)(a2 + 6);
}

//----- (10068EB0) --------------------------------------------------------
signed int __cdecl sub_10068EB0(int a1, int a2, int a3, int a4, int a5, __int16 a6, __int16 a7, unsigned int *a8)
{
  int v8; // ST20_4@4
  int v9; // ST24_4@4
  int v10; // ST14_4@7
  int v11; // ST18_4@7
  __int16 v13; // [sp+0h] [bp-28h]@8
  __int16 v14; // [sp+Ch] [bp-1Ch]@5
  signed int v15; // [sp+18h] [bp-10h]@11
  int v16; // [sp+20h] [bp-8h]@1
  __int16 v17; // [sp+24h] [bp-4h]@10

  v16 = *(_DWORD *)(a1 + 8) + 8 * *(_DWORD *)(a1 + 4);
  while ( a2 != a3 && a4 != a5 )
  {
    v8 = *(_WORD *)a4;
    v9 = *(_WORD *)a2;
    if ( v9 <= v8 )
      v14 = *(_WORD *)a4;
    else
      v14 = *(_WORD *)a2;
    v10 = *(_WORD *)(a4 + 2);
    v11 = *(_WORD *)(a2 + 2);
    if ( v11 >= v10 )
      v13 = *(_WORD *)(a4 + 2);
    else
      v13 = *(_WORD *)(a2 + 2);
    v17 = v13;
    if ( v14 < v13 )
    {
      v15 = sub_10069020((int)&a1, &v16, (void **)(a1 + 8), a8);
      if ( v15 )
        return v15;
      *(_WORD *)v16 = v14;
      *(_WORD *)(v16 + 4) = a6;
      *(_WORD *)(v16 + 2) = v17;
      *(_WORD *)(v16 + 6) = a7;
      ++*(_DWORD *)(a1 + 4);
      v16 += 8;
    }
    if ( *(_WORD *)(a2 + 2) >= (signed int)*(_WORD *)(a4 + 2) )
    {
      if ( *(_WORD *)(a4 + 2) >= (signed int)*(_WORD *)(a2 + 2) )
      {
        a2 += 8;
        a4 += 8;
      }
      else
      {
        a4 += 8;
      }
    }
    else
    {
      a2 += 8;
    }
  }
  return 0;
}

//----- (10069020) --------------------------------------------------------
signed int __cdecl sub_10069020(int a1, _DWORD *a2, void **a3, unsigned int *a4)
{
  void *v5; // [sp+0h] [bp-4h]@2

  if ( *(_DWORD *)(*(_DWORD *)a1 + 4) >= **(_DWORD **)a1 - 1 )
  {
    v5 = *a3;
    *a3 = sub_10002F70(*a3, 16 * **(_DWORD **)a1, a4);
    if ( !*a3 )
    {
      sub_10002F50((unsigned int)v5, a4);
      return -26;
    }
    **(_DWORD **)a1 *= 2;
    *a2 = (char *)*a3 + 8 * *(_DWORD *)(*(_DWORD *)a1 + 4);
  }
  return 0;
}

//----- (100690B0) --------------------------------------------------------
signed int __cdecl sub_100690B0(int a1, unsigned int a2, unsigned int a3, int (__cdecl *a4)(int, unsigned int, unsigned int, unsigned int, unsigned int, int, int, unsigned int *), int (__cdecl *a5)(int, unsigned int, unsigned int, int, signed int, unsigned int *), int (__cdecl *a6)(int, unsigned int, unsigned int, int, signed int, unsigned int *), unsigned int *a7)
{
  signed int v8; // ST74_4@40
  int v9; // ST64_4@43
  int v10; // ST68_4@43
  signed int v11; // ecx@46
  int v12; // edx@46
  signed int v13; // ST5C_4@51
  int v14; // ST4C_4@54
  int v15; // ST50_4@54
  signed int v16; // eax@57
  int v17; // ecx@57
  int v18; // ST40_4@66
  int v19; // ST44_4@66
  int v20; // eax@69
  int v21; // ecx@69
  signed int v22; // ecx@86
  int v23; // edx@89
  signed int v24; // eax@99
  int v25; // ecx@102
  bool v26; // [sp+0h] [bp-A8h]@18
  char v27; // [sp+1h] [bp-A7h]@13
  bool v28; // [sp+2h] [bp-A6h]@8
  bool v29; // [sp+3h] [bp-A5h]@3
  __int16 v30; // [sp+4h] [bp-A4h]@100
  __int16 v31; // [sp+10h] [bp-98h]@87
  __int16 v32; // [sp+1Ch] [bp-8Ch]@67
  __int16 v33; // [sp+28h] [bp-80h]@55
  __int16 v34; // [sp+34h] [bp-74h]@52
  __int16 v35; // [sp+40h] [bp-68h]@44
  __int16 v36; // [sp+4Ch] [bp-5Ch]@41
  int v37; // [sp+58h] [bp-50h]@23
  unsigned int v38; // [sp+64h] [bp-44h]@16
  unsigned int v39; // [sp+68h] [bp-40h]@6
  int v40; // [sp+6Ch] [bp-3Ch]@109
  unsigned int v41; // [sp+70h] [bp-38h]@22
  unsigned int j; // [sp+74h] [bp-34h]@35
  unsigned int l; // [sp+74h] [bp-34h]@95
  int v44; // [sp+78h] [bp-30h]@39
  int v45; // [sp+78h] [bp-30h]@70
  int v46; // [sp+78h] [bp-30h]@89
  int v47; // [sp+78h] [bp-30h]@102
  unsigned int i; // [sp+7Ch] [bp-2Ch]@31
  unsigned int k; // [sp+7Ch] [bp-2Ch]@82
  unsigned int v50; // [sp+88h] [bp-20h]@22
  __int16 v51; // [sp+8Ch] [bp-1Ch]@49
  __int16 v52; // [sp+90h] [bp-18h]@28
  unsigned int v53; // [sp+94h] [bp-14h]@22
  int v54; // [sp+98h] [bp-10h]@30
  unsigned int v55; // [sp+9Ch] [bp-Ch]@22
  int v56; // [sp+A0h] [bp-8h]@31
  int v57; // [sp+A0h] [bp-8h]@69
  int v58; // [sp+A0h] [bp-8h]@80
  unsigned int v59; // [sp+A4h] [bp-4h]@22

  v29 = a2 >= 0xFFFFFFC2 || !a2;
  if ( v29 )
    return -15;
  v39 = *(_DWORD *)(a2 + 8);
  v28 = v39 >= 0xFFFFFFC2 || !v39;
  if ( v28 )
    return -15;
  v27 = a3 < 0xFFFFFFC2 && a3 ? 0 : 1;
  if ( v27 )
    return -15;
  v38 = *(_DWORD *)(a3 + 8);
  v26 = v38 >= 0xFFFFFFC2 || !v38;
  if ( v26 )
    return -15;
  v55 = *(_DWORD *)(a2 + 8);
  v50 = *(_DWORD *)(a3 + 8);
  v59 = v55 + 8 * *(_DWORD *)(a2 + 4);
  v53 = v50 + 8 * *(_DWORD *)(a3 + 4);
  v41 = *(_DWORD *)(a1 + 8);
  *(_DWORD *)(a1 + 4) = 0;
  if ( *(_DWORD *)(a2 + 4) <= *(_DWORD *)(a3 + 4) )
    v37 = *(_DWORD *)(a3 + 4);
  else
    v37 = *(_DWORD *)(a2 + 4);
  *(_DWORD *)a1 = 2 * v37;
  *(_DWORD *)(a1 + 8) = sub_10002F30(8 * *(_DWORD *)a1, a7);
  if ( !*(_DWORD *)(a1 + 8) )
  {
    *(_DWORD *)a1 = 0;
    *(_DWORD *)(a1 + 4) = 0;
    *(_WORD *)(a1 + 12) = 0;
    *(_WORD *)(a1 + 14) = 0;
    *(_WORD *)(a1 + 16) = 0;
    *(_WORD *)(a1 + 18) = 0;
    sub_10002F50(v41, a7);
    return -26;
  }
  if ( *(_WORD *)(a2 + 16) >= (signed int)*(_WORD *)(a3 + 16) )
    v52 = *(_WORD *)(a3 + 16);
  else
    v52 = *(_WORD *)(a2 + 16);
  v54 = 0;
  do
  {
    v56 = *(_DWORD *)(a1 + 4);
    for ( i = v55; i != v59 && *(_WORD *)(i + 4) == *(_WORD *)(v55 + 4); i += 8 )
      ;
    for ( j = v50; j != v53 && *(_WORD *)(j + 4) == *(_WORD *)(v50 + 4); j += 8 )
      ;
    v44 = 0;
    if ( *(_WORD *)(v55 + 4) >= (signed int)*(_WORD *)(v50 + 4) )
    {
      if ( *(_WORD *)(v50 + 4) >= (signed int)*(_WORD *)(v55 + 4) )
      {
        v51 = *(_WORD *)(v55 + 4);
      }
      else
      {
        v13 = *(_WORD *)(v50 + 4);
        if ( v13 <= v52 )
          v34 = v52;
        else
          v34 = *(_WORD *)(v50 + 4);
        v14 = *(_WORD *)(v55 + 4);
        v15 = *(_WORD *)(v50 + 6);
        if ( v15 >= v14 )
          v33 = *(_WORD *)(v55 + 4);
        else
          v33 = *(_WORD *)(v50 + 6);
        v16 = v34;
        v17 = v33;
        if ( v34 != v33 && a6 )
        {
          LOWORD(v16) = v33;
          LOWORD(v17) = v34;
          v44 = a6(a1, v50, j, v17, v16, a7);
        }
        v51 = *(_WORD *)(v55 + 4);
      }
    }
    else
    {
      v8 = *(_WORD *)(v55 + 4);
      if ( v8 <= v52 )
        v36 = v52;
      else
        v36 = *(_WORD *)(v55 + 4);
      v9 = *(_WORD *)(v50 + 4);
      v10 = *(_WORD *)(v55 + 6);
      if ( v10 >= v9 )
        v35 = *(_WORD *)(v50 + 4);
      else
        v35 = *(_WORD *)(v55 + 6);
      v11 = v36;
      v12 = v35;
      if ( v36 != v35 && a5 )
      {
        LOWORD(v11) = v35;
        LOWORD(v12) = v36;
        v44 = a5(a1, v55, i, v12, v11, a7);
      }
      v51 = *(_WORD *)(v50 + 4);
    }
    if ( v44 )
    {
      sub_10002F50(*(_DWORD *)(a1 + 8), a7);
      *(_DWORD *)(a1 + 8) = 0;
      sub_10002F50(v41, a7);
      *(_DWORD *)a1 = 0;
      *(_DWORD *)(a1 + 4) = 0;
      *(_WORD *)(a1 + 12) = 0;
      *(_WORD *)(a1 + 14) = 0;
      *(_WORD *)(a1 + 16) = 0;
      *(_WORD *)(a1 + 18) = 0;
      return v44;
    }
    if ( *(_DWORD *)(a1 + 4) != v56 )
      v54 = sub_100699D0(a1, v54, v56);
    v18 = *(_WORD *)(v50 + 6);
    v19 = *(_WORD *)(v55 + 6);
    if ( v19 >= v18 )
      v32 = *(_WORD *)(v50 + 6);
    else
      v32 = *(_WORD *)(v55 + 6);
    v52 = v32;
    v57 = *(_DWORD *)(a1 + 4);
    v20 = v32;
    v21 = v51;
    if ( v32 > v51 )
    {
      LOWORD(v20) = v32;
      LOWORD(v21) = v51;
      v45 = a4(a1, v55, i, v50, j, v21, v20, a7);
      if ( v45 )
      {
        sub_10002F50(*(_DWORD *)(a1 + 8), a7);
        *(_DWORD *)(a1 + 8) = 0;
        sub_10002F50(v41, a7);
        *(_DWORD *)a1 = 0;
        *(_DWORD *)(a1 + 4) = 0;
        *(_WORD *)(a1 + 12) = 0;
        *(_WORD *)(a1 + 14) = 0;
        *(_WORD *)(a1 + 16) = 0;
        *(_WORD *)(a1 + 18) = 0;
        return v45;
      }
    }
    if ( *(_DWORD *)(a1 + 4) != v57 )
      v54 = sub_100699D0(a1, v54, v57);
    if ( *(_WORD *)(v55 + 6) == v32 )
      v55 = i;
    if ( *(_WORD *)(v50 + 6) == v32 )
      v50 = j;
  }
  while ( v55 != v59 && v50 != v53 );
  v58 = *(_DWORD *)(a1 + 4);
  if ( v55 != v59 )
  {
    if ( a5 )
    {
      while ( 1 )
      {
        for ( k = v55; k < v59 && *(_WORD *)(k + 4) == *(_WORD *)(v55 + 4); k += 8 )
          ;
        v22 = *(_WORD *)(v55 + 4);
        if ( v22 <= v32 )
        {
          HIWORD(v22) = (unsigned int)v32 >> 16;
          v31 = v32;
        }
        else
        {
          v31 = *(_WORD *)(v55 + 4);
        }
        HIWORD(v23) = HIWORD(a7);
        LOWORD(v22) = *(_WORD *)(v55 + 6);
        LOWORD(v23) = v31;
        v46 = a5(a1, v55, k, v23, v22, a7);
        if ( v46 )
          break;
        v55 = k;
        if ( k == v59 )
          goto LABEL_105;
      }
      sub_10002F50(*(_DWORD *)(a1 + 8), a7);
      *(_DWORD *)(a1 + 8) = 0;
      sub_10002F50(v41, a7);
      *(_DWORD *)a1 = 0;
      *(_DWORD *)(a1 + 4) = 0;
      *(_WORD *)(a1 + 12) = 0;
      *(_WORD *)(a1 + 14) = 0;
      *(_WORD *)(a1 + 16) = 0;
      *(_WORD *)(a1 + 18) = 0;
      return v46;
    }
LABEL_105:
    if ( *(_DWORD *)(a1 + 4) != v58 )
      sub_100699D0(a1, v54, v58);
    if ( *(_DWORD *)(a1 + 4) < *(_DWORD *)a1 >> 1 )
    {
      if ( *(_DWORD *)(a1 + 4) )
      {
        v40 = *(_DWORD *)(a1 + 8);
        *(_DWORD *)a1 = *(_DWORD *)(a1 + 4);
        *(_DWORD *)(a1 + 8) = sub_10002F70(*(void **)(a1 + 8), 8 * *(_DWORD *)a1, a7);
        if ( !*(_DWORD *)(a1 + 8) )
          *(_DWORD *)(a1 + 8) = v40;
      }
      else
      {
        *(_DWORD *)a1 = 1;
        sub_10002F50(*(_DWORD *)(a1 + 8), a7);
        *(_DWORD *)(a1 + 8) = sub_10002F30(8u, a7);
        if ( !*(_DWORD *)(a1 + 8) )
          *(_DWORD *)a1 = 0;
      }
    }
    sub_10002F50(v41, a7);
    return 0;
  }
  if ( v50 == v53 || !a6 )
    goto LABEL_105;
  while ( 1 )
  {
    for ( l = v50; l < v53 && *(_WORD *)(l + 4) == *(_WORD *)(v50 + 4); l += 8 )
      ;
    v24 = *(_WORD *)(v50 + 4);
    if ( v24 <= v32 )
    {
      HIWORD(v24) = (unsigned int)v32 >> 16;
      v30 = v32;
    }
    else
    {
      v30 = *(_WORD *)(v50 + 4);
    }
    HIWORD(v25) = HIWORD(a7);
    LOWORD(v24) = *(_WORD *)(v50 + 6);
    LOWORD(v25) = v30;
    v47 = a6(a1, v50, l, v25, v24, a7);
    if ( v47 )
      break;
    v50 = l;
    if ( l == v53 )
      goto LABEL_105;
  }
  sub_10002F50(*(_DWORD *)(a1 + 8), a7);
  *(_DWORD *)(a1 + 8) = 0;
  sub_10002F50(v41, a7);
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(a1 + 4) = 0;
  *(_WORD *)(a1 + 12) = 0;
  *(_WORD *)(a1 + 14) = 0;
  *(_WORD *)(a1 + 16) = 0;
  *(_WORD *)(a1 + 18) = 0;
  return v47;
}

//----- (100699D0) --------------------------------------------------------
int __cdecl sub_100699D0(int a1, int a2, int a3)
{
  int v4; // ecx@21
  int v5; // [sp+0h] [bp-18h]@1
  int v6; // [sp+4h] [bp-14h]@1
  int v7; // [sp+4h] [bp-14h]@17
  int v8; // [sp+8h] [bp-10h]@1
  int v9; // [sp+Ch] [bp-Ch]@1
  int v10; // [sp+10h] [bp-8h]@1
  int v11; // [sp+10h] [bp-8h]@12
  int v12; // [sp+10h] [bp-8h]@17
  int v13; // [sp+14h] [bp-4h]@1
  int i; // [sp+14h] [bp-4h]@6

  v13 = *(_DWORD *)(a1 + 8) + 8 * *(_DWORD *)(a1 + 4);
  v6 = *(_DWORD *)(a1 + 8) + 8 * a2;
  v5 = a3 - a2;
  v10 = *(_DWORD *)(a1 + 8) + 8 * a3;
  v8 = *(_WORD *)(v10 + 4);
  v9 = 0;
  while ( v10 != v13 && *(_WORD *)(v10 + 4) == v8 )
  {
    v10 += 8;
    ++v9;
  }
  if ( v10 != v13 )
  {
    for ( i = v13 - 8; *(_WORD *)(i - 4) == *(_WORD *)(i + 4); i -= 8 )
      ;
    a3 = (i - *(_DWORD *)(a1 + 8)) >> 3;
    v13 = *(_DWORD *)(a1 + 8) + 8 * *(_DWORD *)(a1 + 4);
  }
  if ( v9 == v5 )
  {
    if ( v9 )
    {
      v11 = v10 - 8 * v9;
      if ( *(_WORD *)(v6 + 6) == *(_WORD *)(v11 + 4) )
      {
        do
        {
          if ( *(_WORD *)v6 != *(_WORD *)v11 || *(_WORD *)(v6 + 2) != *(_WORD *)(v11 + 2) )
            return a3;
          v6 += 8;
          v11 += 8;
          --v5;
        }
        while ( v5 );
        *(_DWORD *)(a1 + 4) -= v9;
        v12 = v11 - 8 * v9;
        v7 = v6 - 8 * v9;
        do
        {
          *(_WORD *)(v7 + 6) = *(_WORD *)(v12 + 6);
          v7 += 8;
          v12 += 8;
          --v9;
        }
        while ( v9 );
        if ( v12 == v13 )
        {
          a3 = a2;
        }
        else
        {
          do
          {
            v4 = *(_DWORD *)(v12 + 4);
            *(_DWORD *)v7 = *(_DWORD *)v12;
            *(_DWORD *)(v7 + 4) = v4;
            v7 += 8;
            v12 += 8;
          }
          while ( v12 != v13 );
        }
      }
    }
  }
  return a3;
}

//----- (10069BC0) --------------------------------------------------------
unsigned int __cdecl sub_10069BC0(unsigned int a1)
{
  unsigned int result; // eax@2
  unsigned int v2; // [sp+0h] [bp-Ch]@3
  int v3; // [sp+4h] [bp-8h]@3
  unsigned int v4; // [sp+8h] [bp-4h]@3

  if ( *(_DWORD *)(a1 + 4) )
  {
    v3 = a1 + 12;
    v2 = *(_DWORD *)(a1 + 8);
    v4 = v2 + 8 * *(_DWORD *)(a1 + 4) - 8;
    *(_WORD *)(a1 + 12) = *(_WORD *)v2;
    *(_WORD *)(v3 + 4) = *(_WORD *)(v2 + 4);
    *(_WORD *)(v3 + 2) = *(_WORD *)(v4 + 2);
    *(_WORD *)(v3 + 6) = *(_WORD *)(v4 + 6);
    while ( 1 )
    {
      result = v2;
      if ( v2 > v4 )
        break;
      if ( *(_WORD *)v2 < (signed int)*(_WORD *)v3 )
        *(_WORD *)v3 = *(_WORD *)v2;
      if ( *(_WORD *)(v2 + 2) > (signed int)*(_WORD *)(a1 + 14) )
        *(_WORD *)(a1 + 14) = *(_WORD *)(v2 + 2);
      v2 += 8;
    }
  }
  else
  {
    *(_WORD *)(a1 + 12) = 0;
    *(_WORD *)(a1 + 16) = 0;
    result = a1;
    *(_WORD *)(a1 + 14) = 0;
    *(_WORD *)(a1 + 18) = 0;
  }
  return result;
}

//----- (10069CB0) --------------------------------------------------------
signed int __cdecl sub_10069CB0(int a1, int a2, int a3, int a4, int a5, __int16 a6, __int16 a7, unsigned int *a8)
{
  signed int v9; // [sp+0h] [bp-Ch]@1
  __int16 v10; // [sp+4h] [bp-8h]@1
  int v11; // [sp+8h] [bp-4h]@1

  v9 = 0;
  v10 = *(_WORD *)a2;
  v11 = *(_DWORD *)(a1 + 8) + 8 * *(_DWORD *)(a1 + 4);
  while ( a2 != a3 && a4 != a5 )
  {
    if ( *(_WORD *)(a4 + 2) > v10 )
    {
      if ( *(_WORD *)a4 > v10 )
      {
        if ( *(_WORD *)a4 >= (signed int)*(_WORD *)(a2 + 2) )
        {
          if ( *(_WORD *)(a2 + 2) > v10 )
          {
            v9 = sub_10069020((int)&a1, &v11, (void **)(a1 + 8), a8);
            if ( v9 )
              return v9;
            *(_WORD *)v11 = v10;
            *(_WORD *)(v11 + 4) = a6;
            *(_WORD *)(v11 + 2) = *(_WORD *)(a2 + 2);
            *(_WORD *)(v11 + 6) = a7;
            ++*(_DWORD *)(a1 + 4);
            v11 += 8;
          }
          a2 += 8;
          if ( a2 != a3 )
            v10 = *(_WORD *)a2;
        }
        else
        {
          v9 = sub_10069020((int)&a1, &v11, (void **)(a1 + 8), a8);
          if ( v9 )
            return v9;
          *(_WORD *)v11 = v10;
          *(_WORD *)(v11 + 4) = a6;
          *(_WORD *)(v11 + 2) = *(_WORD *)a4;
          *(_WORD *)(v11 + 6) = a7;
          ++*(_DWORD *)(a1 + 4);
          v11 += 8;
          v10 = *(_WORD *)(a4 + 2);
          if ( v10 < (signed int)*(_WORD *)(a2 + 2) )
          {
            a4 += 8;
          }
          else
          {
            a2 += 8;
            if ( a2 != a3 )
              v10 = *(_WORD *)a2;
          }
        }
      }
      else
      {
        v10 = *(_WORD *)(a4 + 2);
        if ( v10 < (signed int)*(_WORD *)(a2 + 2) )
        {
          a4 += 8;
        }
        else
        {
          a2 += 8;
          if ( a2 != a3 )
            v10 = *(_WORD *)a2;
        }
      }
    }
    else
    {
      a4 += 8;
    }
  }
  while ( a2 != a3 )
  {
    v9 = sub_10069020((int)&a1, &v11, (void **)(a1 + 8), a8);
    if ( v9 )
      break;
    *(_WORD *)v11 = v10;
    *(_WORD *)(v11 + 4) = a6;
    *(_WORD *)(v11 + 2) = *(_WORD *)(a2 + 2);
    *(_WORD *)(v11 + 6) = a7;
    ++*(_DWORD *)(a1 + 4);
    v11 += 8;
    a2 += 8;
    if ( a2 != a3 )
      v10 = *(_WORD *)a2;
  }
  return v9;
}

//----- (10069F70) --------------------------------------------------------
signed int __cdecl sub_10069F70(int a1, int a2, int a3, __int16 a4, __int16 a5, unsigned int *a6)
{
  signed int v7; // [sp+0h] [bp-8h]@3
  int v8; // [sp+4h] [bp-4h]@1

  v8 = *(_DWORD *)(a1 + 8) + 8 * *(_DWORD *)(a1 + 4);
  while ( a2 != a3 )
  {
    v7 = sub_10069020((int)&a1, &v8, (void **)(a1 + 8), a6);
    if ( v7 )
      return v7;
    *(_WORD *)v8 = *(_WORD *)a2;
    *(_WORD *)(v8 + 4) = a4;
    *(_WORD *)(v8 + 2) = *(_WORD *)(a2 + 2);
    *(_WORD *)(v8 + 6) = a5;
    ++*(_DWORD *)(a1 + 4);
    v8 += 8;
    a2 += 8;
  }
  return 0;
}

//----- (1006A020) --------------------------------------------------------
signed int __cdecl sub_1006A020(int a1, _WORD *a2, _WORD *a3, _WORD *a4, _WORD *a5, __int16 a6, __int16 a7, unsigned int *a8)
{
  signed int v9; // [sp+0h] [bp-8h]@1
  int v10; // [sp+4h] [bp-4h]@1

  v9 = 0;
  v10 = *(_DWORD *)(a1 + 8) + 8 * *(_DWORD *)(a1 + 4);
  while ( a2 != a3 && a4 != a5 )
  {
    if ( *a2 >= (signed int)*a4 )
    {
      v9 = sub_1006A170((int)a4, a1, a6, a7, &v10, a8);
      a4 += 4;
    }
    else
    {
      v9 = sub_1006A170((int)a2, a1, a6, a7, &v10, a8);
      a2 += 4;
    }
    if ( v9 )
      return v9;
  }
  if ( a2 == a3 )
  {
    while ( a4 != a5 )
    {
      v9 = sub_1006A170((int)a4, a1, a6, a7, &v10, a8);
      if ( v9 )
        break;
      a4 += 4;
    }
  }
  else
  {
    while ( a2 != a3 )
    {
      v9 = sub_1006A170((int)a2, a1, a6, a7, &v10, a8);
      if ( v9 )
        break;
      a2 += 4;
    }
  }
  return v9;
}

//----- (1006A170) --------------------------------------------------------
signed int __cdecl sub_1006A170(int a1, int a2, __int16 a3, __int16 a4, _DWORD *a5, unsigned int *a6)
{
  signed int v7; // [sp+0h] [bp-4h]@8

  if ( *(_DWORD *)(a2 + 4)
    && *(_WORD *)(*a5 - 4) == a3
    && *(_WORD *)(*a5 - 2) == a4
    && *(_WORD *)(*a5 - 6) >= (signed int)*(_WORD *)a1 )
  {
    if ( *(_WORD *)(*a5 - 6) < (signed int)*(_WORD *)(a1 + 2) )
      *(_WORD *)(*a5 - 6) = *(_WORD *)(a1 + 2);
  }
  else
  {
    v7 = sub_10069020((int)&a2, a5, (void **)(a2 + 8), a6);
    if ( v7 )
      return v7;
    *(_WORD *)(*a5 + 4) = a3;
    *(_WORD *)(*a5 + 6) = a4;
    *(_WORD *)*a5 = *(_WORD *)a1;
    *(_WORD *)(*a5 + 2) = *(_WORD *)(a1 + 2);
    ++*(_DWORD *)(a2 + 4);
    *a5 += 8;
  }
  return 0;
}

//----- (1006A260) --------------------------------------------------------
int __cdecl sub_1006A260(int a1, __int16 a2, __int16 a3, __int16 a4, __int16 a5, __int16 a6, __int16 a7, __int16 a8, __int16 a9)
{
  int result; // eax@1
  double v10; // [sp+38h] [bp-68h]@24
  double v11; // [sp+40h] [bp-60h]@4
  int v12; // [sp+4Ch] [bp-54h]@8
  int v13; // [sp+4Ch] [bp-54h]@29
  int v14; // [sp+4Ch] [bp-54h]@51
  int v15; // [sp+50h] [bp-50h]@8
  int v16; // [sp+50h] [bp-50h]@29
  int v17; // [sp+50h] [bp-50h]@51
  __int16 v18; // [sp+54h] [bp-4Ch]@4
  int v19; // [sp+58h] [bp-48h]@8
  int v20; // [sp+58h] [bp-48h]@29
  int v21; // [sp+58h] [bp-48h]@51
  __int16 v22; // [sp+5Ch] [bp-44h]@4
  double v23; // [sp+60h] [bp-40h]@4
  int v24; // [sp+68h] [bp-38h]@8
  int v25; // [sp+68h] [bp-38h]@29
  int v26; // [sp+68h] [bp-38h]@51
  int v27; // [sp+6Ch] [bp-34h]@4
  double v28; // [sp+70h] [bp-30h]@46
  double v29; // [sp+78h] [bp-28h]@4
  __int16 v30; // [sp+80h] [bp-20h]@4
  char v31; // [sp+84h] [bp-1Ch]@6
  char v32; // [sp+85h] [bp-1Bh]@6
  char v33; // [sp+86h] [bp-1Ah]@6
  char v34; // [sp+87h] [bp-19h]@6
  double v35; // [sp+88h] [bp-18h]@4
  __int16 v36; // [sp+94h] [bp-Ch]@4
  __int16 v37; // [sp+98h] [bp-8h]@4
  __int16 v38; // [sp+9Ch] [bp-4h]@4
  __int16 v39; // [sp+ACh] [bp+Ch]@4
  __int16 v40; // [sp+B0h] [bp+10h]@4
  __int16 v41; // [sp+B4h] [bp+14h]@4
  __int16 v42; // [sp+B8h] [bp+18h]@4
  __int16 v43; // [sp+BCh] [bp+1Ch]@4
  __int16 v44; // [sp+C0h] [bp+20h]@4
  __int16 v45; // [sp+C4h] [bp+24h]@4
  __int16 v46; // [sp+C8h] [bp+28h]@4

  result = a4;
  if ( a4 > a2 )
  {
    result = a3;
    if ( a5 > a3 )
    {
      v39 = *(_WORD *)(a1 + 42) + a2;
      v41 = *(_WORD *)(a1 + 42) + a4;
      v40 = *(_WORD *)(a1 + 40) + a3;
      v42 = *(_WORD *)(a1 + 40) + a5;
      v43 = *(_WORD *)(a1 + 42) + a6;
      v44 = *(_WORD *)(a1 + 40) + a7;
      v45 = *(_WORD *)(a1 + 42) + a8;
      v46 = *(_WORD *)(a1 + 40) + a9;
      v35 = (double)((v41 - v39) / 2);
      v23 = (double)((v42 - v40) / 2);
      v11 = v35 * v35;
      v29 = v23 * v23;
      LOWORD(v27) = v43;
      HIWORD(v27) = v44;
      v36 = 0;
      v37 = (v42 - v40) / 2;
      v18 = (v41 - v39) / 2 + v39;
      v22 = v37 + v40;
      v38 = (v41 - v39) / 2 + v39;
      v30 = v37 + v40;
      if ( v43 != v45 || v44 != v46 )
      {
        sub_1006AB40(&v31, v43 - v38, v44 - v30, v45 - v38, v46 - v30);
      }
      else
      {
        v31 = 1;
        v32 = 1;
        v33 = 1;
        v34 = 1;
      }
      HIWORD(v15) = v36 + v38;
      LOWORD(v15) = v37 + v30;
      HIWORD(v24) = v38 - v36;
      LOWORD(v24) = v37 + v30;
      HIWORD(v19) = v38 - v36;
      LOWORD(v19) = v30 - v37;
      HIWORD(v12) = v36 + v38;
      LOWORD(v12) = v30 - v37;
      *(_DWORD *)(a1 + 8) = v24;
      if ( v33 == 1 || v33 && sub_1006AD30(v24, v27, v45, v46, v18, v22) )
        sub_1006DA90(a1);
      *(_DWORD *)(a1 + 8) = v15;
      if ( v34 == 1 || v34 && sub_1006AD30(v15, v27, v45, v46, v18, v22) )
        sub_1006DA90(a1);
      *(_DWORD *)(a1 + 8) = v19;
      if ( v32 == 1 || v32 && sub_1006AD30(v19, v27, v45, v46, v18, v22) )
        sub_1006DA90(a1);
      *(_DWORD *)(a1 + 8) = v12;
      if ( v31 == 1 || v31 && sub_1006AD30(v12, v27, v45, v46, v18, v22) )
        sub_1006DA90(a1);
      v10 = v29 - v11 * v23 + 0.25 * v11;
      while ( ((double)v36 + 1.0) * v29 < ((double)v37 - 0.5) * v11 )
      {
        if ( v10 >= 0.0 )
          v10 = ((double)v36 * 2.0 + 3.0) * v29 + ((double)v37-- * -2.0 + 2.0) * v11 + v10;
        else
          v10 = ((double)v36 * 2.0 + 3.0) * v29 + v10;
        HIWORD(v16) = ++v36 + v38;
        LOWORD(v16) = v37 + v30;
        HIWORD(v25) = v38 - v36;
        LOWORD(v25) = v37 + v30;
        HIWORD(v20) = v38 - v36;
        LOWORD(v20) = v30 - v37;
        HIWORD(v13) = v36 + v38;
        LOWORD(v13) = v30 - v37;
        *(_DWORD *)(a1 + 8) = v25;
        if ( v33 == 1 || v33 && sub_1006AD30(v25, v27, v45, v46, v18, v22) )
          sub_1006DA90(a1);
        *(_DWORD *)(a1 + 8) = v16;
        if ( v34 == 1 || v34 && sub_1006AD30(v16, v27, v45, v46, v18, v22) )
          sub_1006DA90(a1);
        *(_DWORD *)(a1 + 8) = v20;
        if ( v32 == 1 || v32 && sub_1006AD30(v20, v27, v45, v46, v18, v22) )
          sub_1006DA90(a1);
        *(_DWORD *)(a1 + 8) = v13;
        if ( v31 == 1 || v31 && sub_1006AD30(v13, v27, v45, v46, v18, v22) )
          sub_1006DA90(a1);
      }
      result = v37;
      v28 = ((double)v36 + 0.5) * ((double)v36 + 0.5) * v29
          + ((double)v37 - 1.0) * ((double)v37 - 1.0) * v11
          - v11 * v29;
      while ( v37 > 0 )
      {
        if ( v28 >= 0.0 )
          v28 = ((double)v37 * -2.0 + 3.0) * v11 + v28;
        else
          v28 = ((double)v36++ * 2.0 + 2.0) * v29 + ((double)v37 * -2.0 + 3.0) * v11 + v28;
        --v37;
        HIWORD(v17) = v36 + v38;
        LOWORD(v17) = v37 + v30;
        HIWORD(v26) = v38 - v36;
        LOWORD(v26) = v37 + v30;
        HIWORD(v21) = v38 - v36;
        LOWORD(v21) = v30 - v37;
        HIWORD(v14) = v36 + v38;
        LOWORD(v14) = v30 - v37;
        *(_DWORD *)(a1 + 8) = v26;
        if ( v33 == 1 || v33 && sub_1006AD30(v26, v27, v45, v46, v18, v22) )
          sub_1006DA90(a1);
        *(_DWORD *)(a1 + 8) = v17;
        if ( v34 == 1 || v34 && sub_1006AD30(v17, v27, v45, v46, v18, v22) )
          sub_1006DA90(a1);
        *(_DWORD *)(a1 + 8) = v21;
        if ( v32 == 1 || v32 && sub_1006AD30(v21, v27, v45, v46, v18, v22) )
          sub_1006DA90(a1);
        result = v14;
        *(_DWORD *)(a1 + 8) = v14;
        if ( v31 != 1 )
        {
          if ( !v31 )
            continue;
          result = sub_1006AD30(v14, v27, v45, v46, v18, v22);
          if ( !(_BYTE)result )
            continue;
        }
        result = sub_1006DA90(a1);
      }
    }
  }
  return result;
}

//----- (1006AB40) --------------------------------------------------------
_DWORD *__cdecl sub_1006AB40(_DWORD *a1, __int16 a2, __int16 a3, __int16 a4, __int16 a5)
{
  int v5; // eax@1
  _DWORD *result; // eax@3
  int v7; // ecx@30
  bool v8; // [sp+0h] [bp-18h]@27
  bool v9; // [sp+4h] [bp-14h]@22
  bool v10; // [sp+8h] [bp-10h]@17
  bool v11; // [sp+Ch] [bp-Ch]@12
  char v12; // [sp+15h] [bp-3h]@1
  char i; // [sp+15h] [bp-3h]@2
  unsigned __int8 v14; // [sp+15h] [bp-3h]@3
  char v15; // [sp+16h] [bp-2h]@1
  bool v16; // [sp+17h] [bp-1h]@14

  v12 = sub_1006ACF0(a2, a3);
  v15 = sub_1006ACF0(a4, a5);
  if ( (unsigned __int8)v12 == (unsigned __int8)v15 )
  {
    if ( v12 )
    {
      if ( v12 == 1 )
      {
        v10 = a5 < a3 || (v5 = a4, a4 > a2);
        v16 = v10;
      }
      else if ( v12 == 2 )
      {
        v5 = a5;
        v9 = a5 < a3 || (v5 = a2, a4 < a2);
        v16 = v9;
      }
      else
      {
        v5 = a3;
        v8 = a5 > a3 || a4 < a2;
        v16 = v8;
      }
    }
    else
    {
      v5 = a3;
      v11 = a5 > a3 || a4 > a2;
      v16 = v11;
    }
    LOBYTE(v5) = v16;
    BYTE1(v5) = v16;
    v7 = v5 << 16;
    LOWORD(v7) = v5;
    *a1 = v7;
    result = a1;
    *((_BYTE *)a1 + (unsigned __int8)v12) = v16 != 0 ? 10 : 13;
  }
  else
  {
    *a1 = 0;
    *((_BYTE *)a1 + (unsigned __int8)v12) = 5;
    *((_BYTE *)a1 + (unsigned __int8)v15) = 9;
    for ( i = v12 + 1; ; i = v14 + 1 )
    {
      v14 = i & 3;
      result = (_DWORD *)v14;
      if ( v14 == (unsigned __int8)v15 )
        break;
      *((_BYTE *)a1 + v14) = 1;
    }
  }
  return result;
}

//----- (1006ACF0) --------------------------------------------------------
char __cdecl sub_1006ACF0(__int16 a1, __int16 a2)
{
  char v3; // [sp+1h] [bp-1h]@2

  if ( a1 >= 0 )
    v3 = a2 < 0 ? 0 : 3;
  else
    v3 = (a2 >= 0) + 1;
  return v3;
}

//----- (1006AD30) --------------------------------------------------------
bool __cdecl sub_1006AD30(int a1, int a2, __int16 a3, __int16 a4, __int16 a5, __int16 a6)
{
  char v7; // [sp+Ch] [bp-4h]@1
  char v8; // [sp+Dh] [bp-3h]@1
  char v9; // [sp+Eh] [bp-2h]@1
  bool v10; // [sp+Fh] [bp-1h]@1

  v9 = sub_1006ACF0(a2 - a5, HIWORD(a2) - a6);
  v7 = sub_1006ACF0(a3 - a5, a4 - a6);
  v8 = sub_1006ACF0(HIWORD(a1) - a5, a1 - a6);
  v10 = 0;
  if ( (unsigned __int8)v8 != (unsigned __int8)v9 || (unsigned __int8)v8 != (unsigned __int8)v7 )
  {
    if ( (unsigned __int8)v8 == (unsigned __int8)v9 )
    {
      v10 = 0;
      if ( v9 )
      {
        if ( v9 == 1 )
        {
          if ( SHIWORD(a1) <= (signed __int16)a2 && (signed __int16)a1 >= SHIWORD(a2) )
            v10 = 1;
        }
        else if ( v9 == 2 )
        {
          if ( SHIWORD(a1) >= (signed __int16)a2 && (signed __int16)a1 >= SHIWORD(a2) )
            v10 = 1;
        }
        else if ( SHIWORD(a1) >= (signed __int16)a2 && (signed __int16)a1 <= SHIWORD(a2) )
        {
          v10 = 1;
        }
      }
      else if ( SHIWORD(a1) <= (signed __int16)a2 && (signed __int16)a1 <= SHIWORD(a2) )
      {
        v10 = 1;
      }
    }
    else if ( (unsigned __int8)v8 == (unsigned __int8)v7 )
    {
      v10 = 0;
      if ( v7 )
      {
        if ( v7 == 1 )
        {
          if ( a4 >= (signed __int16)a1 && a3 <= SHIWORD(a1) )
            v10 = 1;
        }
        else if ( v7 == 2 )
        {
          if ( a4 >= (signed __int16)a1 && a3 >= SHIWORD(a1) )
            v10 = 1;
        }
        else if ( a4 <= (signed __int16)a1 && a3 >= SHIWORD(a1) )
        {
          v10 = 1;
        }
      }
      else if ( a4 <= (signed __int16)a1 && a3 <= SHIWORD(a1) )
      {
        v10 = 1;
      }
    }
  }
  else if ( v8 )
  {
    if ( v8 == 1 )
    {
      if ( (signed __int16)a2 > a3 || SHIWORD(a2) < a4 )
        v10 = SHIWORD(a1) <= (signed __int16)a2
           && a3 <= SHIWORD(a1)
           && (signed __int16)a1 >= SHIWORD(a2)
           && a4 >= (signed __int16)a1;
      else
        v10 = (SHIWORD(a1) <= (signed __int16)a2 || a3 <= SHIWORD(a1))
           && ((signed __int16)a1 >= SHIWORD(a2) || a4 >= (signed __int16)a1);
    }
    else if ( v8 == 2 )
    {
      if ( (signed __int16)a2 < a3 || SHIWORD(a2) < a4 )
        v10 = SHIWORD(a1) >= (signed __int16)a2
           && a3 >= SHIWORD(a1)
           && (signed __int16)a1 >= SHIWORD(a2)
           && a4 >= (signed __int16)a1;
      else
        v10 = (SHIWORD(a1) >= (signed __int16)a2 || a3 >= SHIWORD(a1))
           && ((signed __int16)a1 >= SHIWORD(a2) || a4 >= (signed __int16)a1);
    }
    else if ( (signed __int16)a2 < a3 || SHIWORD(a2) > a4 )
    {
      v10 = SHIWORD(a1) >= (signed __int16)a2
         && a3 >= SHIWORD(a1)
         && (signed __int16)a1 <= SHIWORD(a2)
         && a4 <= (signed __int16)a1;
    }
    else
    {
      v10 = (SHIWORD(a1) >= (signed __int16)a2 || a3 >= SHIWORD(a1))
         && ((signed __int16)a1 <= SHIWORD(a2) || a4 <= (signed __int16)a1);
    }
  }
  else if ( (signed __int16)a2 > a3 || SHIWORD(a2) > a4 )
  {
    v10 = SHIWORD(a1) <= (signed __int16)a2
       && a3 <= SHIWORD(a1)
       && (signed __int16)a1 <= SHIWORD(a2)
       && a4 <= (signed __int16)a1;
  }
  else
  {
    v10 = (SHIWORD(a1) <= (signed __int16)a2 || a3 <= SHIWORD(a1))
       && ((signed __int16)a1 <= SHIWORD(a2) || a4 <= (signed __int16)a1);
  }
  return v10;
}

//----- (1006B190) --------------------------------------------------------
signed int __cdecl sub_1006B190(__int16 a1, __int16 a2, __int16 a3, __int16 a4, unsigned int *a5)
{
  signed int result; // eax@3
  double v6; // ST88_8@4
  double v7; // ST68_8@4
  float v8; // ST0C_4@4
  __int64 v9; // rax@14
  __int64 v10; // rax@16
  __int64 v11; // rax@24
  __int64 v12; // rax@26
  bool v13; // [sp+37h] [bp-5Dh]@6
  double v14; // [sp+44h] [bp-50h]@4
  double v15; // [sp+4Ch] [bp-48h]@4
  __int16 v16; // [sp+58h] [bp-3Ch]@4
  double v17; // [sp+64h] [bp-30h]@19
  double v18; // [sp+6Ch] [bp-28h]@4
  unsigned int v19; // [sp+74h] [bp-20h]@4
  __int16 v20; // [sp+78h] [bp-1Ch]@4
  __int16 v21; // [sp+84h] [bp-10h]@14
  __int16 v22; // [sp+86h] [bp-Eh]@14
  __int16 v23; // [sp+88h] [bp-Ch]@14
  __int16 v24; // [sp+8Ah] [bp-Ah]@14
  __int16 v25; // [sp+8Ch] [bp-8h]@4
  __int16 v26; // [sp+90h] [bp-4h]@4

  if ( a3 > a1 && a4 > a2 )
  {
    v6 = (double)((a3 - a1) / 2);
    v7 = (double)((a4 - a2) / 2);
    v16 = (a3 - a1) / 2 + a1;
    v20 = (a4 - a2) / 2 + a2;
    v15 = v6 * v6;
    v18 = v7 * v7;
    v14 = v18 - v15 * v7 + 0.25 * v15;
    v25 = 0;
    v8 = v7;
    v26 = sub_100701E0(v8);
    v19 = sub_10068450(a5);
    v13 = v19 >= 0xFFFFFFC2 || !v19;
    if ( v13 )
    {
      result = v19;
    }
    else
    {
      while ( ((double)v25 + 1.0) * v18 < ((double)v26 - 0.5) * v15 )
      {
        if ( v14 >= 0.0 )
          v14 = ((double)v25 * 2.0 + 3.0) * v18 + ((double)v26-- * -2.0 + 2.0) * v15 + v14;
        else
          v14 = ((double)v25 * 2.0 + 3.0) * v18 + v14;
        v21 = v16 - ++v25;
        v22 = v20 + v26;
        v9 = v16 + (signed int)v25 - (signed __int16)(v16 - v25);
        v23 = (WORD2(v9) ^ v9) - WORD2(v9);
        v24 = 1;
        if ( sub_100688E0((int)&v21, v19, v19, a5) == -26 )
        {
          sub_100684F0(v19, a5);
          return -26;
        }
        v21 = v16 - v25;
        v22 = v20 - v26;
        v10 = v16 + (signed int)v25 - (signed __int16)(v16 - v25);
        v23 = (WORD2(v10) ^ v10) - WORD2(v10);
        v24 = 1;
        if ( sub_100688E0((int)&v21, v19, v19, a5) == -26 )
        {
          sub_100684F0(v19, a5);
          return -26;
        }
      }
      --*(_WORD *)(v19 + 18);
      v17 = ((double)v25 + 0.5) * ((double)v25 + 0.5) * v18
          + ((double)v26 - 1.0) * ((double)v26 - 1.0) * v15
          - v15 * v18;
      while ( v26 > 0 )
      {
        if ( v17 >= 0.0 )
          v17 = ((double)v26 * -2.0 + 3.0) * v15 + v17;
        else
          v17 = ((double)v25++ * 2.0 + 2.0) * v18 + ((double)v26 * -2.0 + 3.0) * v15 + v17;
        --v26;
        v21 = v16 - v25;
        v22 = v20 + v26;
        v11 = v16 + (signed int)v25 - (signed __int16)(v16 - v25);
        v23 = (WORD2(v11) ^ v11) - WORD2(v11);
        v24 = 1;
        if ( sub_100688E0((int)&v21, v19, v19, a5) == -26 )
        {
          sub_100684F0(v19, a5);
          return -26;
        }
        v21 = v16 - v25;
        v22 = v20 - v26;
        v12 = v16 + (signed int)v25 - (signed __int16)(v16 - v25);
        v23 = (WORD2(v12) ^ v12) - WORD2(v12);
        v24 = 1;
        if ( sub_100688E0((int)&v21, v19, v19, a5) == -26 )
        {
          sub_100684F0(v19, a5);
          return -26;
        }
      }
      result = v19;
    }
  }
  else
  {
    result = sub_10068450(a5);
  }
  return result;
}

//----- (1006B660) --------------------------------------------------------
signed int __cdecl sub_1006B660(int a1, int a2, __int16 a3, __int16 a4, __int16 a5, __int16 a6, char a7, unsigned int *a8)
{
  bool v9; // [sp+0h] [bp-64h]@106
  bool v10; // [sp+1h] [bp-63h]@91
  bool v11; // [sp+2h] [bp-62h]@81
  bool v12; // [sp+3h] [bp-61h]@75
  bool v13; // [sp+9h] [bp-5Bh]@52
  bool v14; // [sp+Ah] [bp-5Ah]@43
  bool v15; // [sp+Bh] [bp-59h]@37
  bool v16; // [sp+1Bh] [bp-49h]@6
  unsigned int v17; // [sp+1Ch] [bp-48h]@35
  signed int v18; // [sp+20h] [bp-44h]@47
  signed int v19; // [sp+20h] [bp-44h]@57
  signed int v20; // [sp+20h] [bp-44h]@60
  signed int v21; // [sp+20h] [bp-44h]@63
  signed int v22; // [sp+20h] [bp-44h]@86
  signed int v23; // [sp+20h] [bp-44h]@95
  signed int v24; // [sp+20h] [bp-44h]@98
  signed int v25; // [sp+20h] [bp-44h]@101
  signed int v26; // [sp+20h] [bp-44h]@110
  signed int v27; // [sp+20h] [bp-44h]@113
  int v28; // [sp+24h] [bp-40h]@11
  int v29; // [sp+28h] [bp-3Ch]@50
  int v30; // [sp+2Ch] [bp-38h]@50
  char v31; // [sp+4Eh] [bp-16h]@10
  unsigned __int8 v32; // [sp+4Fh] [bp-15h]@18
  int v33; // [sp+50h] [bp-14h]@41
  unsigned __int8 v34; // [sp+57h] [bp-Dh]@10
  int v35; // [sp+58h] [bp-Ch]@4
  unsigned __int8 v36; // [sp+5Fh] [bp-5h]@11
  int v37; // [sp+60h] [bp-4h]@10

  if ( a5 <= a3 || a6 <= a4 )
    return sub_10068450(a8);
  v35 = sub_1006B190(a3, a4, a5, a6, a8);
  v16 = (unsigned int)v35 >= 0xFFFFFFC2 || !v35;
  if ( v16 )
    return v35;
  LOWORD(v37) = a3 + (a5 - a3) / 2;
  HIWORD(v37) = a4 + (a6 - a4) / 2;
  v34 = sub_1006ACF0(a1 - (a3 + (a5 - a3) / 2), HIWORD(a1) - (a4 + (a6 - a4) / 2));
  v31 = sub_1006ACF0(a2 - v37, HIWORD(a2) - HIWORD(v37));
  if ( v34 == (unsigned __int8)v31 )
  {
    v28 = a1;
    v36 = 1;
    if ( v34 )
    {
      if ( v34 == 1 )
      {
        *((_WORD *)&v28 + 2 * v36) = a3;
        *((_WORD *)&v28 + 2 * v36 + 1) = a4;
      }
      else if ( v34 == 2 )
      {
        *((_WORD *)&v28 + 2 * v36) = a3;
        *((_WORD *)&v28 + 2 * v36 + 1) = a6 + 1;
      }
      else
      {
        *((_WORD *)&v28 + 2 * v36) = a5;
        *((_WORD *)&v28 + 2 * v36 + 1) = a6 + 1;
      }
    }
    else
    {
      *((_WORD *)&v28 + 2 * v36) = a5;
      *((_WORD *)&v28 + 2 * v36 + 1) = a4;
    }
    *((_WORD *)&v28 + 2 * ++v36) = a2;
    *((_WORD *)&v28 + 2 * v36++ + 1) = HIWORD(a2);
    *((_WORD *)&v28 + 2 * v36) = v37;
    *((_WORD *)&v28 + 2 * v36++ + 1) = HIWORD(v37);
    v17 = sub_10068450(a8);
    v12 = v17 >= 0xFFFFFFC2 || !v17;
    if ( v12 )
    {
      sub_100684F0(v35, a8);
      return v17;
    }
    v33 = sub_1006C300((int)&v28, v36, 1, a8);
    v11 = (unsigned int)v33 >= 0xFFFFFFC2 || !v33;
    if ( v11 )
    {
      sub_100684F0(v35, a8);
      sub_100684F0(v17, a8);
      return v33;
    }
    if ( sub_1006C200(a1, a2, v37) > 180.0 )
    {
      v25 = sub_10068540(v35, v33, v17, a8);
      if ( v25 )
      {
        sub_100684F0(v35, a8);
        sub_100684F0(v33, a8);
        sub_100684F0(v17, a8);
        return v25;
      }
      if ( a7 )
      {
        v28 = a1;
        v29 = v37;
        v30 = a2;
        sub_100684F0(v33, a8);
        v33 = sub_1006C300((int)&v28, 3, 1, a8);
        v9 = (unsigned int)v33 >= 0xFFFFFFC2 || !v33;
        if ( v9 )
        {
          sub_100684F0(v35, a8);
          sub_100684F0(v17, a8);
          return v33;
        }
        v26 = sub_10068C60(v17, v33, v35, a8);
        if ( v26 )
        {
          sub_100684F0(v35, a8);
          sub_100684F0(v33, a8);
          sub_100684F0(v17, a8);
          return v26;
        }
      }
      else
      {
        v27 = sub_10068320(v35, v17, a8);
        if ( v27 )
        {
          sub_100684F0(v35, a8);
          sub_100684F0(v33, a8);
          sub_100684F0(v17, a8);
          return v27;
        }
      }
    }
    else
    {
      v22 = sub_100687E0(v35, v33, v17, a8);
      if ( v22 )
      {
        sub_100684F0(v35, a8);
        sub_100684F0(v33, a8);
        sub_100684F0(v17, a8);
        return v22;
      }
      if ( a7 )
      {
        v28 = a1;
        v29 = v37;
        v30 = a2;
        sub_100684F0(v33, a8);
        v33 = sub_1006C300((int)&v28, 3, 1, a8);
        v10 = (unsigned int)v33 >= 0xFFFFFFC2 || !v33;
        if ( v10 )
        {
          sub_100684F0(v35, a8);
          sub_100684F0(v17, a8);
          return v33;
        }
        v23 = sub_10068980(v17, v33, v35, a8);
        if ( v23 )
        {
          sub_100684F0(v35, a8);
          sub_100684F0(v33, a8);
          sub_100684F0(v17, a8);
          return v23;
        }
      }
      else
      {
        v24 = sub_10068320(v35, v17, a8);
        if ( v24 )
        {
          sub_100684F0(v35, a8);
          sub_100684F0(v33, a8);
          sub_100684F0(v17, a8);
          return v24;
        }
      }
    }
  }
  else
  {
    v28 = a1;
    v36 = 1;
    if ( v34 )
    {
      if ( v34 == 1 )
      {
        *((_WORD *)&v28 + 2 * v36) = a3;
        *((_WORD *)&v28 + 2 * v36 + 1) = a4;
      }
      else if ( v34 == 2 )
      {
        *((_WORD *)&v28 + 2 * v36) = a3;
        *((_WORD *)&v28 + 2 * v36 + 1) = a6 + 1;
      }
      else
      {
        *((_WORD *)&v28 + 2 * v36) = a5;
        *((_WORD *)&v28 + 2 * v36 + 1) = a6 + 1;
      }
    }
    else
    {
      *((_WORD *)&v28 + 2 * v36) = a5;
      *((_WORD *)&v28 + 2 * v36 + 1) = a4;
    }
    ++v36;
    v32 = v34;
    while ( v32 != (unsigned __int8)v31 )
    {
      if ( v32 )
      {
        if ( v32 == 1 )
        {
          *((_WORD *)&v28 + 2 * v36) = a3;
          *((_WORD *)&v28 + 2 * v36 + 1) = a4;
        }
        else if ( v32 == 2 )
        {
          *((_WORD *)&v28 + 2 * v36) = a3;
          *((_WORD *)&v28 + 2 * v36 + 1) = a6 + 1;
        }
        else
        {
          *((_WORD *)&v28 + 2 * v36) = a5;
          *((_WORD *)&v28 + 2 * v36 + 1) = a6 + 1;
        }
      }
      else
      {
        *((_WORD *)&v28 + 2 * v36) = a5;
        *((_WORD *)&v28 + 2 * v36 + 1) = a4;
      }
      v32 = (v32 + 1) % 4;
      ++v36;
    }
    if ( v31 )
    {
      if ( v31 == 1 )
      {
        *((_WORD *)&v28 + 2 * v36) = a3;
        *((_WORD *)&v28 + 2 * v36 + 1) = a4;
      }
      else if ( v31 == 2 )
      {
        *((_WORD *)&v28 + 2 * v36) = a3;
        *((_WORD *)&v28 + 2 * v36 + 1) = a6 + 1;
      }
      else
      {
        *((_WORD *)&v28 + 2 * v36) = a5;
        *((_WORD *)&v28 + 2 * v36 + 1) = a6 + 1;
      }
    }
    else
    {
      *((_WORD *)&v28 + 2 * v36) = a5;
      *((_WORD *)&v28 + 2 * v36 + 1) = a4;
    }
    *((_WORD *)&v28 + 2 * ++v36) = a2;
    *((_WORD *)&v28 + 2 * v36++ + 1) = HIWORD(a2);
    *((_WORD *)&v28 + 2 * v36) = v37;
    *((_WORD *)&v28 + 2 * v36++ + 1) = HIWORD(v37);
    v17 = sub_10068450(a8);
    v15 = v17 >= 0xFFFFFFC2 || !v17;
    if ( v15 )
    {
      sub_100684F0(v35, a8);
      return v17;
    }
    v33 = sub_1006C300((int)&v28, v36, 1, a8);
    v14 = (unsigned int)v33 >= 0xFFFFFFC2 || !v33;
    if ( v14 )
    {
      sub_100684F0(v35, a8);
      sub_100684F0(v17, a8);
      return v33;
    }
    v18 = sub_10068540(v35, v33, v17, a8);
    if ( v18 )
    {
      sub_100684F0(v35, a8);
      sub_100684F0(v33, a8);
      sub_100684F0(v17, a8);
      return v18;
    }
    if ( a7 )
    {
      v28 = a1;
      v29 = v37;
      v30 = a2;
      sub_100684F0(v33, a8);
      v33 = sub_1006C300((int)&v28, 3, 1, a8);
      v13 = (unsigned int)v33 >= 0xFFFFFFC2 || !v33;
      if ( v13 )
      {
        sub_100684F0(v35, a8);
        sub_100684F0(v17, a8);
        return v33;
      }
      if ( sub_1006C200(a1, a2, v37) < 180.0 )
      {
        v20 = sub_10068980(v17, v33, v35, a8);
        if ( v20 )
        {
          sub_100684F0(v35, a8);
          sub_100684F0(v33, a8);
          sub_100684F0(v17, a8);
          return v20;
        }
      }
      else
      {
        v19 = sub_10068C60(v17, v33, v35, a8);
        if ( v19 )
        {
          sub_100684F0(v35, a8);
          sub_100684F0(v33, a8);
          sub_100684F0(v17, a8);
          return v19;
        }
      }
    }
    else
    {
      v21 = sub_10068320(v35, v17, a8);
      if ( v21 )
      {
        sub_100684F0(v35, a8);
        sub_100684F0(v33, a8);
        sub_100684F0(v17, a8);
        return v21;
      }
    }
  }
  sub_100684F0(v33, a8);
  sub_100684F0(v17, a8);
  --*(_WORD *)(v35 + 18);
  return v35;
}

//----- (1006C200) --------------------------------------------------------
double __cdecl sub_1006C200(int a1, int a2, int a3)
{
  double result; // st7@5
  double v4; // st7@6
  double v5; // st7@8
  double v6; // [sp+10h] [bp-10h]@8
  double v7; // [sp+18h] [bp-8h]@6
  double v8; // [sp+18h] [bp-8h]@10

  if ( (SHIWORD(a1) != SHIWORD(a2) || (signed __int16)a1 != (signed __int16)a2)
    && (SHIWORD(a3) != SHIWORD(a2) || (signed __int16)a3 != (signed __int16)a2) )
  {
    v4 = (double)(SHIWORD(a1) - (signed int)SHIWORD(a2));
    sub_1007439A(v4);
    v7 = v4 * 57.2957795130823;
    if ( v7 < 0.0 )
      v7 = v7 + 360.0;
    v5 = (double)(SHIWORD(a3) - (signed int)SHIWORD(a2));
    sub_1007439A(v5);
    v6 = v5 * 57.2957795130823;
    if ( v6 < 0.0 )
      v6 = v6 + 360.0;
    v8 = v7 - v6;
    if ( v8 < 0.0 )
      v8 = v8 + 360.0;
    result = v8;
  }
  else
  {
    result = 0.0;
  }
  return result;
}
// 1007439A: using guessed type double __usercall sub_1007439A@<st0>(double@<st0>);

//----- (1006C300) --------------------------------------------------------
signed int __cdecl sub_1006C300(int a1, signed int a2, int a3, unsigned int *a4)
{
  signed int result; // eax@6
  int v5; // edx@11
  int v6; // eax@11
  int v7; // ecx@38
  int v8; // edx@38
  bool v9; // [sp+3h] [bp-53Dh]@3
  __int16 v10; // [sp+34h] [bp-50Ch]@34
  __int16 v11; // [sp+40h] [bp-500h]@31
  __int16 v12; // [sp+4Ch] [bp-4F4h]@28
  __int16 v13; // [sp+58h] [bp-4E8h]@25
  int v14; // [sp+64h] [bp-4DCh]@44
  int v15; // [sp+68h] [bp-4D8h]@42
  int v16; // [sp+6Ch] [bp-4D4h]@7
  int v17; // [sp+70h] [bp-4D0h]@7
  int k; // [sp+74h] [bp-4CCh]@50
  int v19; // [sp+78h] [bp-4C8h]@42
  int v20; // [sp+7Ch] [bp-4C4h]@45
  int v21; // [sp+88h] [bp-4B8h]@44
  int v22; // [sp+8Ch] [bp-4B4h]@67
  char *j; // [sp+90h] [bp-4B0h]@44
  int v24; // [sp+94h] [bp-4ACh]@7
  char *v25; // [sp+98h] [bp-4A8h]@10
  char v26; // [sp+9Ch] [bp-4A4h]@42
  int v27; // [sp+B8h] [bp-488h]@50
  char v28; // [sp+C8h] [bp-478h]@42
  unsigned int v29; // [sp+1F4h] [bp-34Ch]@43
  char *v30; // [sp+1FCh] [bp-344h]@53
  char v31; // [sp+200h] [bp-340h]@42
  char *v32; // [sp+520h] [bp-20h]@54
  int v33; // [sp+52Ch] [bp-14h]@1
  int v34; // [sp+530h] [bp-10h]@40
  char *v35; // [sp+534h] [bp-Ch]@50
  bool v36; // [sp+53Bh] [bp-5h]@83
  int i; // [sp+53Ch] [bp-4h]@45

  v33 = sub_10068450(a4);
  v9 = (unsigned int)v33 >= 0xFFFFFFC2 || !v33;
  if ( v9 )
    return v33;
  v17 = 0;
  v16 = 0;
  v24 = 0;
  if ( !a1 || a2 < 1 )
  {
    sub_100684F0(v33, a4);
    return -15;
  }
  v25 = (char *)a1;
  if ( a2 == 1 )
  {
    *(_WORD *)(v33 + 12) = *(_WORD *)v25;
    *(_WORD *)(v33 + 14) = *(_WORD *)v25;
    *(_WORD *)(v33 + 16) = *((_WORD *)v25 + 1);
    *(_WORD *)(v33 + 18) = *((_WORD *)v25 + 1);
    *(_DWORD *)(v33 + 4) = 1;
    v5 = *(_DWORD *)(v33 + 16);
    v6 = *(_DWORD *)(v33 + 8);
    *(_DWORD *)v6 = *(_DWORD *)(v33 + 12);
    *(_DWORD *)(v6 + 4) = v5;
    return v33;
  }
  if ( a2 != 4 && (a2 != 5 || *((_WORD *)v25 + 8) != *(_WORD *)v25 || *((_WORD *)v25 + 9) != *((_WORD *)v25 + 1))
    || (*((_WORD *)v25 + 1) != *((_WORD *)v25 + 3)
     || *((_WORD *)v25 + 2) != *((_WORD *)v25 + 4)
     || *((_WORD *)v25 + 5) != *((_WORD *)v25 + 7)
     || *((_WORD *)v25 + 6) != *(_WORD *)v25)
    && (*(_WORD *)v25 != *((_WORD *)v25 + 2)
     || *((_WORD *)v25 + 3) != *((_WORD *)v25 + 5)
     || *((_WORD *)v25 + 4) != *((_WORD *)v25 + 6)
     || *((_WORD *)v25 + 7) != *((_WORD *)v25 + 1)) )
  {
    v34 = sub_10002F30(44 * a2, a4);
    if ( !v34 )
    {
      sub_100684F0(v33, a4);
      return -26;
    }
    v25 = &v31;
    v15 = sub_1006CFD0(a2, a1, (int)&v19, (int)&v26, v34, (int)&v28, a4);
    if ( v15 )
    {
      sub_1006D2A0(v29, a4);
      sub_10002F50(v34, a4);
      sub_100684F0(v33, a4);
      return v15;
    }
    v14 = v21;
    j = &v31;
    if ( a3 == 2 )
    {
      for ( i = v20; i < v19; ++i )
      {
        if ( v14 && i == *(_DWORD *)v14 )
        {
          sub_1006D4F0((int)&v26, *(_DWORD *)(v14 + 4));
          sub_1006CF30((int)&v26);
          v14 = *(_DWORD *)(v14 + 8);
        }
        v35 = &v26;
        k = v27;
        v22 = v27;
        while ( k )
        {
          if ( v22 == k )
          {
            *(_WORD *)v25 = *(_WORD *)(k + 4);
            *((_WORD *)v25 + 1) = i;
            v25 += 4;
            if ( ++v17 == 200 )
            {
              v30 = (char *)sub_10002F30(0x324u, a4);
              if ( !v30 )
              {
                sub_1006D2A0(v29, a4);
                for ( j = v32; --v24 >= 0; j = v30 )
                {
                  v30 = (char *)*((_DWORD *)j + 200);
                  sub_10002F50((unsigned int)j, a4);
                }
                sub_10002F50(v34, a4);
                sub_100684F0(v33, a4);
                return -26;
              }
              *((_DWORD *)j + 200) = v30;
              j = v30;
              v25 = v30;
              ++v24;
              v17 = 0;
            }
            v22 = *(_DWORD *)(v22 + 36);
          }
          sub_1006CDF0((int)&k, (int)&v35, i, &v16);
        }
        if ( sub_1006D430((int)&v26) || v16 )
        {
          sub_1006CF30((int)&v26);
          v16 = 0;
        }
      }
    }
    else
    {
      i = v20;
LABEL_46:
      if ( i < v19 )
      {
        if ( v14 && i == *(_DWORD *)v14 )
        {
          sub_1006D4F0((int)&v26, *(_DWORD *)(v14 + 4));
          v14 = *(_DWORD *)(v14 + 8);
        }
        v35 = &v26;
        for ( k = v27; ; sub_1006CCC0((int)&k, (int)&v35, i) )
        {
          if ( !k )
          {
            sub_1006D430((int)&v26);
            ++i;
            goto LABEL_46;
          }
          *(_WORD *)v25 = *(_WORD *)(k + 4);
          *((_WORD *)v25 + 1) = i;
          v25 += 4;
          if ( ++v17 == 200 )
          {
            v30 = (char *)sub_10002F30(0x324u, a4);
            if ( !v30 )
            {
              sub_1006D2A0(v29, a4);
              for ( j = v32; --v24 >= 0; j = v30 )
              {
                v30 = (char *)*((_DWORD *)j + 200);
                sub_10002F50((unsigned int)j, a4);
              }
              sub_10002F50(v34, a4);
              sub_100684F0(v33, a4);
              return -26;
            }
            *((_DWORD *)j + 200) = v30;
            j = v30;
            v25 = v30;
            ++v24;
            v17 = 0;
          }
        }
      }
    }
    sub_1006D2A0(v29, a4);
    v36 = sub_1006D580(v24, v17, (int)&v31, v33, a4) == 0;
    for ( j = v32; --v24 >= 0; j = v30 )
    {
      v30 = (char *)*((_DWORD *)j + 200);
      sub_10002F50((unsigned int)j, a4);
    }
    sub_10002F50(v34, a4);
    if ( v36 )
    {
      sub_100684F0(v33, a4);
      result = -26;
    }
    else
    {
      result = v33;
    }
  }
  else
  {
    if ( *(_WORD *)v25 >= (signed int)*((_WORD *)v25 + 4) )
      v13 = *((_WORD *)v25 + 4);
    else
      v13 = *(_WORD *)v25;
    *(_WORD *)(v33 + 12) = v13;
    if ( *((_WORD *)v25 + 1) >= (signed int)*((_WORD *)v25 + 5) )
      v12 = *((_WORD *)v25 + 5);
    else
      v12 = *((_WORD *)v25 + 1);
    *(_WORD *)(v33 + 16) = v12;
    if ( *(_WORD *)v25 <= (signed int)*((_WORD *)v25 + 4) )
      v11 = *((_WORD *)v25 + 4);
    else
      v11 = *(_WORD *)v25;
    *(_WORD *)(v33 + 14) = v11;
    if ( *((_WORD *)v25 + 1) <= (signed int)*((_WORD *)v25 + 5) )
      v10 = *((_WORD *)v25 + 5);
    else
      v10 = *((_WORD *)v25 + 1);
    *(_WORD *)(v33 + 18) = v10;
    if ( *(_WORD *)(v33 + 12) != *(_WORD *)(v33 + 14) && *(_WORD *)(v33 + 16) != *(_WORD *)(v33 + 18) )
    {
      *(_DWORD *)(v33 + 4) = 1;
      v7 = *(_DWORD *)(v33 + 16);
      v8 = *(_DWORD *)(v33 + 8);
      *(_DWORD *)v8 = *(_DWORD *)(v33 + 12);
      *(_DWORD *)(v8 + 4) = v7;
    }
    result = v33;
  }
  return result;
}

//----- (1006CCC0) --------------------------------------------------------
int __cdecl sub_1006CCC0(int a1, int a2, int a3)
{
  int result; // eax@2
  int v4; // [sp+0h] [bp-18h]@5
  int v5; // [sp+4h] [bp-14h]@5
  int v6; // [sp+8h] [bp-10h]@5
  int v7; // [sp+Ch] [bp-Ch]@5
  _DWORD *v8; // [sp+10h] [bp-8h]@5
  _DWORD *v9; // [sp+14h] [bp-4h]@5

  if ( **(_DWORD **)a1 == a3 )
  {
    *(_DWORD *)(*(_DWORD *)a2 + 28) = *(_DWORD *)(*(_DWORD *)a1 + 28);
    *(_DWORD *)a1 = *(_DWORD *)(*(_DWORD *)a2 + 28);
    result = a1;
    if ( *(_DWORD *)a1 )
    {
      result = a2;
      *(_DWORD *)(*(_DWORD *)a1 + 32) = *(_DWORD *)a2;
    }
  }
  else
  {
    v4 = *(_DWORD *)(*(_DWORD *)a1 + 24);
    v5 = *(_DWORD *)(*(_DWORD *)a1 + 20);
    v6 = *(_DWORD *)(*(_DWORD *)a1 + 16);
    v7 = *(_DWORD *)(*(_DWORD *)a1 + 12);
    v8 = (_DWORD *)(*(_DWORD *)a1 + 4);
    v9 = (_DWORD *)(*(_DWORD *)a1 + 8);
    if ( v6 <= 0 )
    {
      if ( *v9 < 0 )
      {
        *v8 += v7;
        *v9 += v4;
      }
      else
      {
        *v8 += v6;
        *v9 += v5;
      }
    }
    else if ( *v9 <= 0 )
    {
      *v8 += v7;
      *v9 += v4;
    }
    else
    {
      *v8 += v6;
      *v9 += v5;
    }
    *(_DWORD *)a2 = *(_DWORD *)a1;
    result = *(_DWORD *)a1;
    *(_DWORD *)a1 = *(_DWORD *)(*(_DWORD *)a1 + 28);
  }
  return result;
}

//----- (1006CDF0) --------------------------------------------------------
_DWORD *__cdecl sub_1006CDF0(int a1, int a2, int a3, _DWORD *a4)
{
  _DWORD *result; // eax@2
  int v5; // [sp+0h] [bp-18h]@5
  int v6; // [sp+4h] [bp-14h]@5
  int v7; // [sp+8h] [bp-10h]@5
  int v8; // [sp+Ch] [bp-Ch]@5
  _DWORD *v9; // [sp+10h] [bp-8h]@5
  _DWORD *v10; // [sp+14h] [bp-4h]@5

  if ( **(_DWORD **)a1 == a3 )
  {
    *(_DWORD *)(*(_DWORD *)a2 + 28) = *(_DWORD *)(*(_DWORD *)a1 + 28);
    *(_DWORD *)a1 = *(_DWORD *)(*(_DWORD *)a2 + 28);
    result = a4;
    *a4 = 1;
    if ( *(_DWORD *)a1 )
    {
      result = *(_DWORD **)a1;
      *(_DWORD *)(*(_DWORD *)a1 + 32) = *(_DWORD *)a2;
    }
  }
  else
  {
    v5 = *(_DWORD *)(*(_DWORD *)a1 + 24);
    v6 = *(_DWORD *)(*(_DWORD *)a1 + 20);
    v7 = *(_DWORD *)(*(_DWORD *)a1 + 16);
    v8 = *(_DWORD *)(*(_DWORD *)a1 + 12);
    v9 = (_DWORD *)(*(_DWORD *)a1 + 4);
    v10 = (_DWORD *)(*(_DWORD *)a1 + 8);
    if ( v7 <= 0 )
    {
      if ( *v10 < 0 )
      {
        *v9 += v8;
        *v10 += v5;
      }
      else
      {
        *v9 += v7;
        *v10 += v6;
      }
    }
    else if ( *v10 <= 0 )
    {
      *v9 += v8;
      *v10 += v5;
    }
    else
    {
      *v9 += v7;
      *v10 += v6;
    }
    *(_DWORD *)a2 = *(_DWORD *)a1;
    result = *(_DWORD **)(*(_DWORD *)a1 + 28);
    *(_DWORD *)a1 = result;
  }
  return result;
}

//----- (1006CF30) --------------------------------------------------------
int __cdecl sub_1006CF30(int a1)
{
  int result; // eax@1
  int v2; // [sp+0h] [bp-Ch]@1
  int v3; // [sp+4h] [bp-8h]@1
  signed int v4; // [sp+8h] [bp-4h]@1
  int i; // [sp+14h] [bp+8h]@1

  v4 = 1;
  v2 = 0;
  *(_DWORD *)(a1 + 36) = 0;
  v3 = a1;
  result = *(_DWORD *)(a1 + 28);
  for ( i = *(_DWORD *)(a1 + 28); i; i = *(_DWORD *)(i + 28) )
  {
    if ( *(_DWORD *)(i + 40) )
      ++v2;
    else
      --v2;
    if ( !v4 && !v2 || v4 && v2 )
    {
      *(_DWORD *)(v3 + 36) = i;
      v3 = i;
      v4 = v4 == 0;
    }
    result = *(_DWORD *)(i + 28);
  }
  *(_DWORD *)(v3 + 36) = 0;
  return result;
}

//----- (1006CFD0) --------------------------------------------------------
int __cdecl sub_1006CFD0(signed int a1, int a2, int a3, int a4, int a5, int a6, unsigned int *a7)
{
  int result; // eax@2
  signed int v8; // edx@4
  int v9; // [sp+4h] [bp-1Ch]@3
  int v10; // [sp+8h] [bp-18h]@9
  int i; // [sp+Ch] [bp-14h]@3
  int v12; // [sp+10h] [bp-10h]@6
  int v13; // [sp+14h] [bp-Ch]@5
  int v14; // [sp+18h] [bp-8h]@6
  int v15; // [sp+1Ch] [bp-4h]@9

  if ( a1 >= 2 )
  {
    v9 = 0;
    *(_DWORD *)(a4 + 28) = 0;
    *(_DWORD *)(a4 + 32) = 0;
    *(_DWORD *)(a4 + 36) = 0;
    *(_DWORD *)(a4 + 4) = -1000000;
    *(_DWORD *)(a3 + 16) = 0;
    *(_DWORD *)a3 = -1000000;
    *(_DWORD *)(a3 + 4) = 1000000;
    *(_DWORD *)(a6 + 300) = 0;
    for ( i = a2 + 4 * a1 - 4; ; i = v13 )
    {
      v8 = a1--;
      if ( !v8 )
        break;
      v13 = a2;
      a2 += 4;
      if ( *(_WORD *)(i + 2) <= (signed int)*(_WORD *)(v13 + 2) )
      {
        v14 = v13;
        v12 = i;
        *(_DWORD *)(a5 + 40) = 1;
      }
      else
      {
        v14 = i;
        v12 = v13;
        *(_DWORD *)(a5 + 40) = 0;
      }
      if ( *(_WORD *)(v14 + 2) != *(_WORD *)(v12 + 2) )
      {
        *(_DWORD *)a5 = *(_WORD *)(v14 + 2) - 1;
        v15 = *(_WORD *)(v14 + 2) - *(_WORD *)(v12 + 2);
        sub_1006D1B0(
          v15,
          *(_WORD *)v12,
          *(_WORD *)v14,
          (_DWORD *)(a5 + 4),
          (int *)(a5 + 8),
          (int *)(a5 + 12),
          (_DWORD *)(a5 + 16),
          (_DWORD *)(a5 + 20),
          (_DWORD *)(a5 + 24));
        v10 = sub_1006D2E0(a3, a5, *(_WORD *)(v12 + 2), (int)&a6, &v9, a7);
        if ( v10 )
          return v10;
        if ( (signed int)*(_WORD *)(i + 2) > *(_DWORD *)a3 )
          *(_DWORD *)a3 = *(_WORD *)(i + 2);
        if ( (signed int)*(_WORD *)(i + 2) < *(_DWORD *)(a3 + 4) )
          *(_DWORD *)(a3 + 4) = *(_WORD *)(i + 2);
        a5 += 44;
      }
    }
    result = 0;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1006D1B0) --------------------------------------------------------
int __cdecl sub_1006D1B0(signed int a1, __int16 a2, __int16 a3, _DWORD *a4, int *a5, int *a6, _DWORD *a7, _DWORD *a8, _DWORD *a9)
{
  int result; // eax@3
  signed int v10; // [sp+0h] [bp-4h]@2

  if ( a1 )
  {
    *a4 = a2;
    v10 = a3 - *a4;
    if ( v10 >= 0 )
    {
      *a6 = v10 / a1;
      *a7 = *a6 + 1;
      *a8 = 2 * v10 - *a7 * 2 * a1;
      *a9 = 2 * v10 - *a6 * 2 * a1;
      result = a1 * -2 * *a6 + 2 * v10;
      *a5 = result;
    }
    else
    {
      *a6 = v10 / a1;
      *a7 = *a6 - 1;
      *a8 = *a7 * 2 * a1 + -2 * v10;
      *a9 = *a6 * 2 * a1 + -2 * v10;
      result = 2 * a1;
      *a5 = a1 * 2 * *a6 - 2 * v10 - 2 * a1;
    }
  }
  return result;
}

//----- (1006D2A0) --------------------------------------------------------
int *__cdecl sub_1006D2A0(unsigned int a1, unsigned int *a2)
{
  unsigned int v2; // ST08_4@2
  int *result; // eax@2

  while ( a1 )
  {
    v2 = *(_DWORD *)(a1 + 300);
    result = sub_10002F50(a1, a2);
    a1 = v2;
  }
  return result;
}

//----- (1006D2E0) --------------------------------------------------------
signed int __cdecl sub_1006D2E0(int a1, int a2, int a3, int a4, _DWORD *a5, unsigned int *a6)
{
  int i; // [sp+0h] [bp-14h]@1
  int v8; // [sp+4h] [bp-10h]@8
  int j; // [sp+8h] [bp-Ch]@12
  int v10; // [sp+Ch] [bp-8h]@1
  int v11; // [sp+10h] [bp-4h]@12

  v10 = a1 + 8;
  for ( i = *(_DWORD *)(a1 + 16); i && *(_DWORD *)i < a3; i = *(_DWORD *)(i + 8) )
    v10 = i;
  if ( !i || *(_DWORD *)i > a3 )
  {
    if ( *a5 > 24 )
    {
      v8 = sub_10002F30(0x130u, a6);
      if ( !v8 )
        return -26;
      *(_DWORD *)(*(_DWORD *)a4 + 300) = v8;
      *(_DWORD *)(v8 + 300) = 0;
      *(_DWORD *)a4 = v8;
      *a5 = 0;
    }
    i = *(_DWORD *)a4 + 12 * (*a5)++;
    *(_DWORD *)(i + 8) = *(_DWORD *)(v10 + 8);
    *(_DWORD *)(i + 4) = 0;
    *(_DWORD *)(v10 + 8) = i;
  }
  *(_DWORD *)i = a3;
  v11 = 0;
  for ( j = *(_DWORD *)(i + 4); j && *(_DWORD *)(j + 4) < *(_DWORD *)(a2 + 4); j = *(_DWORD *)(j + 28) )
    v11 = j;
  *(_DWORD *)(a2 + 28) = j;
  if ( v11 )
    *(_DWORD *)(v11 + 28) = a2;
  else
    *(_DWORD *)(i + 4) = a2;
  return 0;
}

//----- (1006D430) --------------------------------------------------------
signed int __cdecl sub_1006D430(int a1)
{
  int v2; // [sp+0h] [bp-10h]@3
  int i; // [sp+4h] [bp-Ch]@3
  signed int v4; // [sp+8h] [bp-8h]@1
  int v5; // [sp+Ch] [bp-4h]@7
  int v6; // [sp+18h] [bp+8h]@1

  v4 = 0;
  v6 = *(_DWORD *)(a1 + 28);
  while ( v6 )
  {
    v2 = v6;
    for ( i = v6; *(_DWORD *)(*(_DWORD *)(i + 32) + 4) > *(_DWORD *)(v6 + 4); i = *(_DWORD *)(i + 32) )
      ;
    v6 = *(_DWORD *)(v6 + 28);
    if ( i != v2 )
    {
      v5 = *(_DWORD *)(i + 32);
      *(_DWORD *)(*(_DWORD *)(v2 + 32) + 28) = v6;
      if ( v6 )
        *(_DWORD *)(v6 + 32) = *(_DWORD *)(v2 + 32);
      *(_DWORD *)(v2 + 28) = i;
      *(_DWORD *)(*(_DWORD *)(i + 32) + 28) = v2;
      *(_DWORD *)(i + 32) = v2;
      *(_DWORD *)(v2 + 32) = v5;
      v4 = 1;
    }
  }
  return v4;
}

//----- (1006D4F0) --------------------------------------------------------
int __cdecl sub_1006D4F0(int a1, int a2)
{
  int result; // eax@1
  int v3; // [sp+0h] [bp-8h]@6
  int v4; // [sp+4h] [bp-4h]@1
  int v5; // [sp+10h] [bp+8h]@1

  result = a1;
  v4 = a1;
  v5 = *(_DWORD *)(a1 + 28);
  while ( a2 )
  {
    while ( v5 && *(_DWORD *)(v5 + 4) < *(_DWORD *)(a2 + 4) )
    {
      v4 = v5;
      v5 = *(_DWORD *)(v5 + 28);
    }
    v3 = *(_DWORD *)(a2 + 28);
    *(_DWORD *)(a2 + 28) = v5;
    if ( v5 )
      *(_DWORD *)(v5 + 32) = a2;
    *(_DWORD *)(a2 + 32) = v4;
    result = a2;
    *(_DWORD *)(v4 + 28) = a2;
    v4 = a2;
    a2 = v3;
  }
  return result;
}

//----- (1006D580) --------------------------------------------------------
signed int __cdecl sub_1006D580(int a1, signed int a2, int a3, int a4, unsigned int *a5)
{
  signed int result; // eax@2
  signed int v6; // edx@11
  unsigned int v7; // [sp+0h] [bp-1Ch]@1
  _WORD *v8; // [sp+4h] [bp-18h]@1
  int v9; // [sp+8h] [bp-14h]@5
  int v10; // [sp+Ch] [bp-10h]@1
  int v11; // [sp+Ch] [bp-10h]@5
  int i; // [sp+10h] [bp-Ch]@9
  int v13; // [sp+14h] [bp-8h]@5
  signed int v14; // [sp+18h] [bp-4h]@7

  v7 = *(_DWORD *)(a4 + 8);
  v8 = (_WORD *)(a4 + 12);
  v10 = (a2 + 200 * a1) >> 1;
  *(_DWORD *)(a4 + 8) = sub_10002F70(*(void **)(a4 + 8), 8 * v10, a5);
  if ( v10 )
  {
    if ( *(_DWORD *)(a4 + 8) )
    {
      *(_DWORD *)a4 = v10;
      v13 = a3;
      v9 = *(_DWORD *)(a4 + 8) - 8;
      v11 = 0;
      *v8 = 0x7FFF;
      *(_WORD *)(a4 + 14) = -32767;
      while ( a1 >= 0 )
      {
        v14 = 100;
        if ( !a1 )
          v14 = a2 >> 1;
        for ( i = v13; ; i += 8 )
        {
          v6 = v14--;
          if ( !v6 )
            break;
          if ( *(_WORD *)i != *(_WORD *)(i + 4) )
          {
            if ( v11
              && *(_WORD *)i == *(_WORD *)v9
              && *(_WORD *)(i + 2) == *(_WORD *)(v9 + 6)
              && *(_WORD *)(i + 4) == *(_WORD *)(v9 + 2)
              && (v11 == 1 || *(_WORD *)(v9 - 4) != *(_WORD *)(v9 + 4))
              && v14
              && *(_WORD *)(i + 10) > (signed int)*(_WORD *)(i + 6) )
            {
              *(_WORD *)(v9 + 6) = *(_WORD *)(i + 6) + 1;
            }
            else
            {
              ++v11;
              v9 += 8;
              *(_WORD *)v9 = *(_WORD *)i;
              *(_WORD *)(v9 + 4) = *(_WORD *)(i + 2);
              *(_WORD *)(v9 + 2) = *(_WORD *)(i + 4);
              *(_WORD *)(v9 + 6) = *(_WORD *)(i + 6) + 1;
              if ( *(_WORD *)v9 < (signed int)*v8 )
                *v8 = *(_WORD *)v9;
              if ( *(_WORD *)(v9 + 2) > (signed int)*(_WORD *)(a4 + 14) )
                *(_WORD *)(a4 + 14) = *(_WORD *)(v9 + 2);
            }
          }
        }
        v13 = *(_DWORD *)(v13 + 800);
        --a1;
      }
      if ( v11 )
      {
        *(_WORD *)(a4 + 16) = *(_WORD *)(*(_DWORD *)(a4 + 8) + 4);
        *(_WORD *)(a4 + 18) = *(_WORD *)(v9 + 6);
      }
      else
      {
        *v8 = 0;
        *(_WORD *)(a4 + 16) = 0;
        *(_WORD *)(a4 + 14) = 0;
        *(_WORD *)(a4 + 18) = 0;
      }
      *(_DWORD *)(a4 + 4) = v11;
      result = 1;
    }
    else
    {
      sub_10002F50(v7, a5);
      result = 0;
    }
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (1006D810) --------------------------------------------------------
int __cdecl sub_1006D810(int a1, __int16 a2, __int16 a3)
{
  *(_WORD *)(a1 + 46) = a2;
  *(_WORD *)(a1 + 44) = a3;
  *(_WORD *)(a1 + 10) = *(_WORD *)(a1 + 46) + *(_WORD *)(a1 + 42);
  *(_WORD *)(a1 + 8) = *(_WORD *)(a1 + 44) + *(_WORD *)(a1 + 40);
  return sub_1006DA90(a1);
}

//----- (1006D870) --------------------------------------------------------
char __cdecl sub_1006D870(int a1)
{
  int v1; // eax@3
  int v3; // [sp+0h] [bp-30h]@3
  __int16 v4; // [sp+4h] [bp-2Ch]@1
  char v5; // [sp+8h] [bp-28h]@6
  int v6; // [sp+14h] [bp-1Ch]@1

  v6 = *(_WORD *)(a1 + 10);
  v4 = *(_WORD *)(a1 + 14) - *(_WORD *)(a1 + 10);
  if ( v4 < 0 )
  {
    v6 = *(_WORD *)(a1 + 14);
    v4 = -v4;
  }
  v1 = (signed __int16)(v4 + 1);
  v6 = v1 + (v6 << 16);
  v3 = *(_WORD *)(a1 + 6);
  if ( v3 == 1 )
  {
    LOBYTE(v1) = sub_1006DC40(a1, v6, *(_WORD *)(a1 + 8), (int)&v5);
  }
  else if ( v3 == 3 )
  {
    LOBYTE(v1) = sub_1006E130(a1, v6, *(_WORD *)(a1 + 8), (int)&v5);
  }
  return v1;
}

//----- (1006D920) --------------------------------------------------------
char __cdecl sub_1006D920(int a1)
{
  __int16 v1; // ax@1
  int v3; // [sp+8h] [bp-2Ch]@1
  char v4; // [sp+Ch] [bp-28h]@8
  int v5; // [sp+18h] [bp-1Ch]@1

  v5 = *(_WORD *)(a1 + 10);
  v1 = *(_WORD *)(a1 + 14);
  v3 = *(_WORD *)(a1 + 14);
  if ( *(_WORD *)(a1 + 14) )
  {
    if ( v3 < 0 )
    {
      v5 += v3 + 1;
      v3 = 0x8000 - v3;
    }
    v5 = v3 + (v5 << 16);
    if ( (signed int)*(_WORD *)(a1 + 2) > 1 )
    {
      LOBYTE(v1) = a1;
      switch ( *(_WORD *)(a1 + 4) )
      {
        case 0:
        case 2:
          LOBYTE(v1) = sub_1006DFC0(a1, v5, *(_WORD *)(a1 + 8));
          break;
        case 3:
        case 4:
          LOBYTE(v1) = sub_1006E8F0(a1, v5, (int)&v4);
          break;
        default:
          return v1;
      }
    }
    else
    {
      v1 = *(_WORD *)(a1 + 4);
      switch ( *(_WORD *)(a1 + 4) )
      {
        case 0:
          LOBYTE(v1) = sub_1006DFC0(a1, v5, *(_WORD *)(a1 + 8));
          break;
        case 2:
          LOBYTE(v1) = sub_1006DFC0(a1, v5, *(_WORD *)(a1 + 8));
          break;
        case 3:
          LOBYTE(v1) = sub_1006E130(a1, v5, *(_WORD *)(a1 + 8), (int)&v4);
          break;
        case 4:
          LOBYTE(v1) = (unsigned int)sub_1006E560(a1, v5, *(_WORD *)(a1 + 8), *(int **)(a1 + 64));
          break;
        default:
          return v1;
      }
    }
  }
  return v1;
}

//----- (1006DA90) --------------------------------------------------------
int __cdecl sub_1006DA90(int a1)
{
  int result; // eax@1
  int v2; // [sp+0h] [bp-4h]@1

  result = a1;
  v2 = *(_WORD *)(a1 + 4);
  if ( *(_WORD *)(a1 + 4) && v2 != 2 )
  {
    if ( v2 == 3 )
      result = sub_1006E240(a1, *(_WORD *)(a1 + 10), *(_WORD *)(a1 + 8));
  }
  else
  {
    result = sub_1006E040(a1, *(_WORD *)(a1 + 10), *(_WORD *)(a1 + 8));
  }
  return result;
}

//----- (1006DAF0) --------------------------------------------------------
char *__cdecl sub_1006DAF0(int a1)
{
  char *result; // eax@1
  int v2; // ST18_4@3
  int v3; // [sp+8h] [bp-2Ch]@1
  char v4; // [sp+Ch] [bp-28h]@7
  int v5; // [sp+1Ch] [bp-18h]@1

  v5 = *(_WORD *)(a1 + 8);
  result = (char *)*(_WORD *)(a1 + 12);
  v3 = *(_WORD *)(a1 + 12);
  if ( *(_WORD *)(a1 + 12) )
  {
    if ( v3 < 0 )
    {
      v2 = -v3;
      v5 = v5 - v2 + 1;
      v3 = v2 + 0x8000;
    }
    v5 = v3 + (v5 << 16);
    if ( (signed int)*(_WORD *)(a1 + 2) <= 1 )
    {
      result = (char *)*(_WORD *)(a1 + 4);
      switch ( result )
      {
        case 0u:
        case 2u:
          result = (char *)sub_1006E0B0(a1, v5, *(_WORD *)(a1 + 10));
          break;
        case 3u:
          result = (char *)sub_1006E330(a1, v5, *(_WORD *)(a1 + 10), (int)&v4);
          break;
        case 4u:
          result = sub_1006E6A0(a1, v5, *(_WORD *)(a1 + 10), *(int **)(a1 + 64));
          break;
        default:
          return result;
      }
    }
    else
    {
      result = (char *)*(_WORD *)(a1 + 4);
      switch ( result )
      {
        case 0u:
        case 2u:
          result = (char *)sub_1006E0B0(a1, v5, *(_WORD *)(a1 + 10));
          break;
        case 3u:
        case 4u:
          result = (char *)sub_1006EA30(a1, v5, (int)&v4);
          break;
        default:
          return result;
      }
    }
  }
  return result;
}

//----- (1006DC40) --------------------------------------------------------
unsigned int __cdecl sub_1006DC40(int a1, signed int a2, int a3, int a4)
{
  unsigned int result; // eax@1

  *(_DWORD *)(a4 + 20) = a2 & 0x7FFF;
  *(_DWORD *)(a4 + 12) = a2 >> 16;
  *(_DWORD *)(a4 + 16) = a3;
  result = sub_1006DD00(a1, a4);
  if ( *(_DWORD *)a4 )
  {
    *(_DWORD *)(a4 + 32) = (*(_DWORD *)(*(_DWORD *)(a1 + 60) + 4 * (a3 & 0x1F)) >> (*(_BYTE *)(a4 + 12) & 0x1F)) | (*(_DWORD *)(*(_DWORD *)(a1 + 60) + 4 * (a3 & 0x1F)) << (32 - (*(_BYTE *)(a4 + 12) & 0x1F)));
    *(_DWORD *)(a4 + 36) = 1;
    result = sub_1006DE20(a1, a4);
  }
  return result;
}

//----- (1006DD00) --------------------------------------------------------
int __cdecl sub_1006DD00(int a1, int a2)
{
  int result; // eax@2

  *(_DWORD *)a2 = 0;
  *(_DWORD *)(a2 + 24) = *(_WORD *)(a1 + 26) - *(_DWORD *)(a2 + 12);
  if ( *(_DWORD *)(a2 + 24) <= 0
    || (*(_DWORD *)(a2 + 12) += *(_DWORD *)(a2 + 24),
        result = *(_DWORD *)(a2 + 20) - *(_DWORD *)(a2 + 24),
        *(_DWORD *)(a2 + 20) = result,
        *(_DWORD *)(a2 + 20) > 0) )
  {
    result = *(_WORD *)(a1 + 26);
    if ( result + *(_WORD *)(a1 + 30) > *(_DWORD *)(a2 + 12) )
    {
      if ( *(_WORD *)(a1 + 26) + (signed int)*(_WORD *)(a1 + 30) - *(_WORD *)(a2 + 12) <= *(_DWORD *)(a2 + 20) )
        *(_DWORD *)(a2 + 20) = *(_WORD *)(a1 + 26) + *(_WORD *)(a1 + 30) - *(_WORD *)(a2 + 12);
      result = a1;
      if ( (signed int)*(_WORD *)(a1 + 24) <= *(_DWORD *)(a2 + 16) )
      {
        result = *(_WORD *)(a1 + 24);
        if ( result + *(_WORD *)(a1 + 28) > *(_DWORD *)(a2 + 16) )
        {
          *(_DWORD *)(a2 + 24) &= ~(*(_DWORD *)(a2 + 24) >> 31);
          *(_BYTE *)a1 = 1;
          result = a2;
          *(_DWORD *)a2 = 1;
        }
      }
    }
  }
  return result;
}

//----- (1006DE20) --------------------------------------------------------
unsigned int __cdecl sub_1006DE20(int a1, int a2)
{
  unsigned int v2; // ST04_4@1
  __int16 v3; // ST0C_2@2
  char v4; // ST04_1@9
  unsigned int result; // eax@9
  unsigned int v6; // [sp+0h] [bp-1Ch]@1
  int v7; // [sp+4h] [bp-18h]@1
  int v8; // [sp+8h] [bp-14h]@2
  int v9; // [sp+10h] [bp-Ch]@1
  unsigned int v10; // [sp+14h] [bp-8h]@1
  unsigned int *v11; // [sp+18h] [bp-4h]@1

  v9 = *(_DWORD *)(a2 + 20);
  v2 = 8 * *(_DWORD *)(a2 + 12);
  v11 = (unsigned int *)(**(_DWORD **)(a1 + 52)
                       + *(_DWORD *)(a2 + 16) * *(_WORD *)(*(_DWORD *)(a1 + 52) + 10)
                       + 4 * (v2 >> 5));
  v7 = 32 - (v2 & 0x1F);
  v10 = (*v11 >> (31 * v7 & 0x1F)) | (*v11 << (32 - (31 * v7 & 0x1F)));
  v6 = *(_DWORD *)(a2 + 32);
  do
  {
    v8 = 2 * v6 & 3;
    v6 = (v6 >> (*(_BYTE *)(a2 + 36) & 0x1F)) | (v6 << (32 - (*(_BYTE *)(a2 + 36) & 0x1F)));
    v3 = *(_WORD *)(v8 + a1 + 36);
    if ( v3 >= 0 )
      v10 = (v10 >> 8) | (*(_WORD *)(v8 + a1 + 36) << 24);
    else
      v10 = (v10 >> 8) | (v10 << 24);
    if ( --v9 )
    {
      v7 -= 8;
      if ( !v7 )
      {
        *v11 = v10;
        ++v11;
        v7 = 32;
        v10 = *v11;
      }
    }
  }
  while ( v9 );
  v4 = v7 - 8;
  result = v10 >> (v4 & 0x1F);
  *v11 = result | (v10 << (32 - (v4 & 0x1F)));
  return result;
}

//----- (1006DFC0) --------------------------------------------------------
int __cdecl sub_1006DFC0(int a1, int a2, int a3)
{
  return sub_1006EB70(
           a1,
           (a2 & 0xFFFF7FFF) + *(_WORD *)(a1 + 34) - 1 - ((unsigned int)*(_WORD *)(a1 + 34) >> 1 << 16),
           ((a3 - ((unsigned int)*(_WORD *)(a1 + 32) >> 1)) << 16) + *(_WORD *)(a1 + 32));
}

//----- (1006E040) --------------------------------------------------------
int __cdecl sub_1006E040(int a1, int a2, int a3)
{
  return sub_1006EB70(
           a1,
           (a2 << 16) + *(_WORD *)(a1 + 34) - ((unsigned int)*(_WORD *)(a1 + 34) >> 1 << 16),
           (a3 << 16) + *(_WORD *)(a1 + 32) - ((unsigned int)*(_WORD *)(a1 + 32) >> 1 << 16));
}

//----- (1006E0B0) --------------------------------------------------------
int __cdecl sub_1006E0B0(int a1, int a2, int a3)
{
  return sub_1006EB70(
           a1,
           ((a3 - ((unsigned int)*(_WORD *)(a1 + 34) >> 1)) << 16) + *(_WORD *)(a1 + 34),
           (a2 & 0xFFFF7FFF) + *(_WORD *)(a1 + 32) - 1 - ((unsigned int)*(_WORD *)(a1 + 32) >> 1 << 16));
}

//----- (1006E130) --------------------------------------------------------
char __cdecl sub_1006E130(int a1, signed int a2, int a3, int a4)
{
  char result; // al@2
  int v5; // [sp+0h] [bp-Ch]@7
  unsigned int v6; // [sp+4h] [bp-8h]@5
  _BYTE *v7; // [sp+8h] [bp-4h]@5

  *(_DWORD *)(a4 + 20) = a2 & 0x7FFF;
  *(_DWORD *)(a4 + 12) = a2 >> 16;
  *(_DWORD *)(a4 + 16) = a3;
  if ( *(_DWORD *)(a4 + 20) == 1 )
  {
    result = sub_1006E240(a1, *(_DWORD *)(a4 + 12), *(_DWORD *)(a4 + 16));
  }
  else
  {
    result = sub_1006DD00(a1, a4);
    if ( *(_DWORD *)a4 )
    {
      result = a1;
      if ( !(*(_WORD *)(a1 + 38) & 0x8000) )
      {
        v7 = (_BYTE *)(*(_DWORD *)(a4 + 12) + **(_DWORD **)(a1 + 52) + a3 * *(_WORD *)(*(_DWORD *)(a1 + 52) + 10));
        v6 = *(_DWORD *)(a4 + 20);
        if ( v6 <= 0x10 )
        {
          v5 = *(&dword_100DE568 + *(_WORD *)(a1 + 38));
          do
          {
            result = v5;
            *v7++ = v5;
            --v6;
          }
          while ( v6 );
        }
        else
        {
          result = (unsigned int)memset(v7, *(&dword_100DE568 + *(_WORD *)(a1 + 38)), v6);
        }
      }
    }
  }
  return result;
}

//----- (1006E240) --------------------------------------------------------
int __cdecl sub_1006E240(int a1, signed int a2, signed int a3)
{
  int result; // eax@1
  _BYTE *v4; // ST08_4@5
  unsigned int v5; // [sp+18h] [bp+Ch]@5

  result = a1;
  if ( *(_WORD *)(a1 + 26) <= a2 )
  {
    result = *(_WORD *)(a1 + 26) + *(_WORD *)(a1 + 30);
    if ( result > a2 )
    {
      result = a1;
      if ( *(_WORD *)(a1 + 24) <= a3 )
      {
        result = *(_WORD *)(a1 + 24) + *(_WORD *)(a1 + 28);
        if ( result > a3 )
        {
          *(_BYTE *)a1 = 1;
          v5 = 8 * a2;
          v4 = (_BYTE *)(**(_DWORD **)(a1 + 52) + a3 * *(_WORD *)(*(_DWORD *)(a1 + 52) + 10) + (v5 >> 3));
          result = **(_DWORD **)(a1 + 52) + a3 * *(_WORD *)(*(_DWORD *)(a1 + 52) + 10) + (v5 >> 3);
          *v4 = ((unsigned __int64)*(_WORD *)(a1 + 38) << (v5 & 7)) | ~(unsigned __int8)(255i64 << (v5 & 7)) & *v4;
        }
      }
    }
  }
  return result;
}

//----- (1006E330) --------------------------------------------------------
int __cdecl sub_1006E330(int a1, signed int a2, int a3, int a4)
{
  int result; // eax@1
  _BYTE *v5; // [sp+Ch] [bp-4h]@2
  int v6; // [sp+18h] [bp+8h]@1

  *(_DWORD *)(a4 + 8) = a2 & 0x7FFF;
  *(_DWORD *)(a4 + 16) = a2 >> 16;
  *(_DWORD *)(a4 + 12) = a3;
  result = sub_1006E430(a1, a4);
  v6 = result;
  if ( *(_DWORD *)(a4 + 4) )
  {
    v5 = (_BYTE *)((a3 & 0x1FFFFFFF)
                 + *(_DWORD *)(a4 + 16) * *(_WORD *)(*(_DWORD *)(result + 52) + 10)
                 + **(_DWORD **)(result + 52));
    do
    {
      *v5;
      *v5 = *(_WORD *)(v6 + 38);
      v5 += *(_WORD *)(*(_DWORD *)(v6 + 52) + 10);
      result = *(_DWORD *)(a4 + 8) - 1;
      *(_DWORD *)(a4 + 8) = result;
    }
    while ( *(_DWORD *)(a4 + 8) > 0 );
  }
  return result;
}

//----- (1006E430) --------------------------------------------------------
int __cdecl sub_1006E430(int a1, int a2)
{
  int result; // eax@3

  *(_DWORD *)(a2 + 4) = 0;
  *(_DWORD *)(a2 + 28) = *(_WORD *)(a1 + 24) - *(_DWORD *)(a2 + 16);
  if ( *(_DWORD *)(a2 + 28) <= 0
    || (*(_DWORD *)(a2 + 16) += *(_DWORD *)(a2 + 28),
        *(_DWORD *)(a2 + 8) -= *(_DWORD *)(a2 + 28),
        *(_DWORD *)(a2 + 8) > 0) )
  {
    if ( *(_WORD *)(a1 + 24) + (signed int)*(_WORD *)(a1 + 28) > *(_DWORD *)(a2 + 16) )
    {
      if ( *(_WORD *)(a1 + 24) + (signed int)*(_WORD *)(a1 + 28) - *(_WORD *)(a2 + 16) <= *(_DWORD *)(a2 + 8) )
        *(_DWORD *)(a2 + 8) = *(_WORD *)(a1 + 24) + *(_WORD *)(a1 + 28) - *(_WORD *)(a2 + 16);
      if ( (signed int)*(_WORD *)(a1 + 26) <= *(_DWORD *)(a2 + 12) )
      {
        if ( *(_WORD *)(a1 + 26) + (signed int)*(_WORD *)(a1 + 30) > *(_DWORD *)(a2 + 12) )
        {
          *(_DWORD *)(a2 + 28) &= ~(*(_DWORD *)(a2 + 28) >> 31);
          *(_BYTE *)a1 = 1;
          *(_DWORD *)(a2 + 4) = 1;
          result = a1;
        }
        else
        {
          result = a1;
        }
      }
      else
      {
        result = a1;
      }
    }
    else
    {
      result = a1;
    }
  }
  else
  {
    result = a1;
  }
  return result;
}

//----- (1006E560) --------------------------------------------------------
char *__cdecl sub_1006E560(int a1, signed int a2, int a3, int *a4)
{
  char *result; // eax@3
  char v5; // [sp+0h] [bp-30h]@1
  signed int v6; // [sp+Ch] [bp-24h]@1
  int v7; // [sp+10h] [bp-20h]@1
  int v8; // [sp+14h] [bp-1Ch]@1
  int v9; // [sp+20h] [bp-10h]@1
  int v10; // [sp+24h] [bp-Ch]@1
  char *v11; // [sp+28h] [bp-8h]@1
  int v12; // [sp+2Ch] [bp-4h]@1
  signed int v13; // [sp+3Ch] [bp+Ch]@1
  int v14; // [sp+3Ch] [bp+Ch]@4

  v11 = &v5;
  v8 = a2 & 0x7FFF;
  v6 = a2 >> 16;
  v7 = a3;
  v9 = *a4;
  v12 = *(_BYTE *)(a1 + 1);
  v10 = v8 + v12;
  *(_BYTE *)(a1 + 1) = a2 + v12;
  v13 = (a2 - *((_DWORD *)v11 + 5)) << 16;
  if ( v13 < 0 )
  {
    v12 = *((_DWORD *)v11 + 9) - 1;
    v13 >>= 30;
  }
  *((_DWORD *)v11 + 8) = (*((_DWORD *)v11 + 8) >> (v12 & 0x1F)) | (*((_DWORD *)v11 + 8) << (32 - (v12 & 0x1F)));
  *((_DWORD *)v11 + 9) = v13 + 1;
  sub_1006DD00(a1, (int)v11);
  result = v11;
  if ( *(_DWORD *)v11 )
  {
    v14 = *((_DWORD *)v11 + 6) * *((_DWORD *)v11 + 9);
    *((_DWORD *)v11 + 8) = (*((_DWORD *)v11 + 8) >> (v14 & 0x1F)) | (*((_DWORD *)v11 + 8) << (32 - (v14 & 0x1F)));
    result = (char *)sub_1006DE20(a1, (int)v11);
  }
  return result;
}

//----- (1006E6A0) --------------------------------------------------------
char *__cdecl sub_1006E6A0(int a1, signed int a2, int a3, int *a4)
{
  char *result; // eax@3
  char v5; // [sp+0h] [bp-3Ch]@1
  int v6; // [sp+8h] [bp-34h]@1
  int v7; // [sp+Ch] [bp-30h]@1
  signed int v8; // [sp+10h] [bp-2Ch]@1
  int v9; // [sp+20h] [bp-1Ch]@1
  int v10; // [sp+24h] [bp-18h]@1
  char *v11; // [sp+28h] [bp-14h]@1
  int v12; // [sp+2Ch] [bp-10h]@1
  __int16 v13; // [sp+30h] [bp-Ch]@5
  char v14; // [sp+37h] [bp-5h]@6
  char *v15; // [sp+38h] [bp-4h]@4
  int v16; // [sp+44h] [bp+8h]@3
  signed int v17; // [sp+48h] [bp+Ch]@1
  int v18; // [sp+48h] [bp+Ch]@4
  unsigned int v19; // [sp+4Ch] [bp+10h]@4
  int v20; // [sp+4Ch] [bp+10h]@4

  v11 = &v5;
  v6 = a2 & 0x7FFF;
  v8 = a2 >> 16;
  v7 = a3;
  v9 = *a4;
  v12 = *(_BYTE *)(a1 + 1);
  v10 = v6 + v12;
  *(_BYTE *)(a1 + 1) = a2 + v12;
  v17 = (a2 - *((_DWORD *)v11 + 2)) << 16;
  if ( v17 < 0 )
  {
    v12 = *((_DWORD *)v11 + 9) - 1;
    v17 >>= 30;
  }
  *((_DWORD *)v11 + 8) = (*((_DWORD *)v11 + 8) >> (v12 & 0x1F)) | (*((_DWORD *)v11 + 8) << (32 - (v12 & 0x1F)));
  *((_DWORD *)v11 + 9) = v17 + 1;
  v16 = sub_1006E430(a1, (int)v11);
  result = v11;
  if ( *((_DWORD *)v11 + 1) )
  {
    v18 = *((_DWORD *)v11 + 7) * *((_DWORD *)v11 + 9);
    *((_DWORD *)v11 + 8) = (*((_DWORD *)v11 + 8) >> (v18 & 0x1F)) | (*((_DWORD *)v11 + 8) << (32 - (v18 & 0x1F)));
    v19 = 8 * a3;
    v15 = (char *)(**(_DWORD **)(v16 + 52) + (v19 >> 3) + *((_DWORD *)v11 + 4) * *(_WORD *)(*(_DWORD *)(v16 + 52) + 10));
    v20 = v19 & 7;
    do
    {
      v12 = 2 * *((_DWORD *)v11 + 8) & 3;
      *((_DWORD *)v11 + 8) = (*((_DWORD *)v11 + 8) >> (v11[36] & 0x1F)) | (*((_DWORD *)v11 + 8) << (32 - (v11[36] & 0x1F)));
      v12 += v16 + 36;
      v13 = *(_WORD *)v12;
      if ( v13 >= 0 )
      {
        v14 = *v15;
        v13 <<= v20;
        v14 &= ~(unsigned __int8)(255 << v20);
        v14 |= v13;
        *v15 = v14;
      }
      v15 += *(_WORD *)(*(_DWORD *)(v16 + 52) + 10);
      --*((_DWORD *)v11 + 2);
      result = v11;
    }
    while ( *((_DWORD *)v11 + 2) );
  }
  return result;
}

//----- (1006E8F0) --------------------------------------------------------
int __cdecl sub_1006E8F0(int a1, signed int a2, int a3)
{
  int v3; // ST18_4@1
  int v4; // ecx@1
  bool v5; // sf@1
  int result; // eax@6
  unsigned int v7; // [sp+4h] [bp-10h]@1
  signed int v8; // [sp+8h] [bp-Ch]@1
  int v9; // [sp+Ch] [bp-8h]@1
  int *v10; // [sp+10h] [bp-4h]@1

  v7 = *(_WORD *)(a1 + 2);
  *(_DWORD *)(a3 + 16) = v7 >> 1;
  *(_DWORD *)(a3 + 12) = a2 - (*(_DWORD *)(a3 + 16) * *(_WORD *)(a1 + 18) << 16);
  *(_DWORD *)(a3 + 16) = *(_WORD *)(a1 + 8) - *(_DWORD *)(a3 + 16);
  v9 = *(_WORD *)(a1 + 18) << 16;
  v3 = *(_BYTE *)(a1 + 1);
  v4 = -256 * (8 * (*(_DWORD *)(a3 + 12) << 16 >> 31) + 4);
  v5 = v3 + v4 < 0;
  v8 = v3 + v4;
  v10 = *(int **)(a1 + 64);
  if ( v5 )
    v10 = (int *)((char *)v10 + -(*(_WORD *)(a1 + 2) * (v8 >> 8)) - 4);
  do
  {
    *(_BYTE *)(a1 + 1) = v8;
    if ( *(_WORD *)(a1 + 4) == 4 )
      sub_1006E560(a1, *(_DWORD *)(a3 + 12), *(_DWORD *)(a3 + 16), v10);
    else
      sub_1006E130(a1, a2, *(_DWORD *)(a3 + 16), a3);
    ++*(_DWORD *)(a3 + 16);
    *(_DWORD *)(a3 + 12) += v9;
    result = (int)v10 + (v8 >> 8);
    v10 = (int *)((char *)v10 + (v8 >> 8));
    --v7;
  }
  while ( v7 );
  return result;
}

//----- (1006EA30) --------------------------------------------------------
int __cdecl sub_1006EA30(int a1, signed int a2, int a3)
{
  int v3; // ST18_4@1
  int v4; // ecx@1
  bool v5; // sf@1
  int result; // eax@6
  int v7; // [sp+4h] [bp-10h]@1
  signed int v8; // [sp+8h] [bp-Ch]@1
  int *v9; // [sp+Ch] [bp-8h]@1
  unsigned int v10; // [sp+10h] [bp-4h]@1

  v10 = *(_WORD *)(a1 + 2);
  *(_DWORD *)(a3 + 12) = v10 >> 1;
  *(_DWORD *)(a3 + 16) = a2 - (*(_DWORD *)(a3 + 12) * *(_WORD *)(a1 + 16) << 16);
  *(_DWORD *)(a3 + 12) = *(_WORD *)(a1 + 10) - *(_DWORD *)(a3 + 12);
  v7 = *(_WORD *)(a1 + 16) << 16;
  v3 = *(_BYTE *)(a1 + 1);
  v4 = (8 * (*(_DWORD *)(a3 + 16) << 16 >> 31) + 4) << 8;
  v5 = v3 + v4 < 0;
  v8 = v3 + v4;
  v9 = *(int **)(a1 + 64);
  if ( v5 )
    v9 = (int *)((char *)v9 + -(*(_WORD *)(a1 + 2) * (v8 >> 8)) - 4);
  do
  {
    *(_BYTE *)(a1 + 1) = v8;
    if ( *(_WORD *)(a1 + 4) == 4 )
      sub_1006E6A0(a1, *(_DWORD *)(a3 + 16), *(_DWORD *)(a3 + 12), v9);
    else
      sub_1006E330(a1, a2, *(_DWORD *)(a3 + 12), a3);
    ++*(_DWORD *)(a3 + 12);
    *(_DWORD *)(a3 + 16) += v7;
    result = (int)v9 + (v8 >> 8);
    v9 = (int *)((char *)v9 + (v8 >> 8));
    --v10;
  }
  while ( v10 );
  return result;
}

//----- (1006EB70) --------------------------------------------------------
int __cdecl sub_1006EB70(int a1, signed int a2, signed int a3)
{
  int result; // eax@5
  int v4; // edx@10
  unsigned int v5; // ST04_4@15
  unsigned int v6; // ST20_4@16
  int v7; // ST28_4@26
  unsigned int v8; // ST18_4@32
  int v9; // [sp+0h] [bp-44h]@28
  unsigned int v10; // [sp+4h] [bp-40h]@15
  int v11; // [sp+8h] [bp-3Ch]@1
  int v12; // [sp+Ch] [bp-38h]@1
  int v13; // [sp+10h] [bp-34h]@31
  unsigned int v14; // [sp+14h] [bp-30h]@13
  int v15; // [sp+1Ch] [bp-28h]@30
  int v16; // [sp+20h] [bp-24h]@17
  int i; // [sp+20h] [bp-24h]@32
  int v18; // [sp+20h] [bp-24h]@34
  int v19; // [sp+24h] [bp-20h]@1
  unsigned int v20; // [sp+28h] [bp-1Ch]@14
  int v21; // [sp+2Ch] [bp-18h]@15
  unsigned int *v22; // [sp+30h] [bp-14h]@15
  int *v23; // [sp+30h] [bp-14h]@32
  int v24; // [sp+34h] [bp-10h]@15
  unsigned int v25; // [sp+38h] [bp-Ch]@15
  unsigned int *v26; // [sp+3Ch] [bp-8h]@13
  int v27; // [sp+40h] [bp-4h]@1

  v11 = (signed __int16)a3;
  v27 = a3 >> 16;
  v12 = (signed __int16)a2;
  v19 = a2 >> 16;
  if ( *(_WORD *)(a1 + 26) > a2 >> 16 )
  {
    v12 = (signed __int16)a2 - (*(_WORD *)(a1 + 26) - v19);
    v19 = *(_WORD *)(a1 + 26);
  }
  if ( *(_WORD *)(a1 + 24) > v27 )
  {
    v11 = (signed __int16)a3 - (*(_WORD *)(a1 + 24) - v27);
    v27 = *(_WORD *)(a1 + 24);
  }
  result = *(_WORD *)(a1 + 30);
  if ( result + *(_WORD *)(a1 + 26) > v19 )
  {
    if ( *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26) - v19 <= v12 )
      v12 = *(_WORD *)(a1 + 30) + *(_WORD *)(a1 + 26) - v19;
    result = *(_WORD *)(a1 + 28);
    if ( result + *(_WORD *)(a1 + 24) > v27 )
    {
      result = a1;
      if ( *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24) - v27 <= v11 )
      {
        v4 = *(_WORD *)(a1 + 28);
        result = v4 + *(_WORD *)(a1 + 24) - v27;
        v11 = v4 + *(_WORD *)(a1 + 24) - v27;
      }
      if ( v11 > 0 && v12 > 0 )
      {
        *(_BYTE *)a1 = 1;
        v14 = 32 - (8 * v19 & 0x1F);
        v26 = (unsigned int *)(v27 * *(_WORD *)(*(_DWORD *)(a1 + 52) + 10)
                             + **(_DWORD **)(a1 + 52)
                             + 4 * ((unsigned int)(8 * v19) >> 5));
        if ( *(_WORD *)(a1 + 4) == 2 )
        {
          v9 = v11;
          if ( v14 >= 8 * v12 )
            v14 = 8 * v12;
          v15 = 8 * v12 - v14;
          result = *(_WORD *)(a1 + 38) << 16;
          if ( !(*(_WORD *)(a1 + 38) & 0x8000) )
          {
            v13 = *(&dword_100DE568 + *(_WORD *)(a1 + 38));
            do
            {
              v8 = ~(((unsigned int)(0xFFFFFFFFui64 >> v14) >> ((32 - (8 * v19 & 0x1F) - v14) & 0x1F)) | ((unsigned int)(0xFFFFFFFFui64 >> v14) << (32 - ((32 - (8 * v19 & 0x1F) - v14) & 0x1F))));
              *v26 = *v26 & ~v8 | v13 & v8;
              v23 = (int *)(v26 + 1);
              for ( i = v15 - 32; i >= 0; i -= 32 )
              {
                *v23 = v13;
                ++v23;
              }
              v18 = i + 32;
              if ( v18 )
                *v23 = *v23 & ~((1 << v18) - 1) | v13 & ((1 << v18) - 1);
              result = *(_DWORD *)(a1 + 52);
              v26 = (unsigned int *)((char *)v26 + *(_WORD *)(result + 10));
              --v9;
            }
            while ( v9 );
          }
        }
        else
        {
          v20 = (v19 << 16) & 0x1FFFFF | v11 | (v27 << 27);
          do
          {
            v5 = *(_DWORD *)(*(_DWORD *)(a1 + 60) + (v20 >> 25));
            v10 = (v5 >> ((v20 >> 16) & 0x1F)) | (v5 << (32 - ((v20 >> 16) & 0x1F)));
            v22 = v26;
            v21 = 32 - (8 * v19 & 0x1F);
            v25 = (*v26 >> (31 * v14 & 0x1F)) | (*v26 << (32 - (31 * v14 & 0x1F)));
            v24 = v12;
            do
            {
              v6 = v10 << 31;
              v10 = (v10 << 31) | (v10 >> 1);
              if ( v6 >> 31 )
                v16 = *(_WORD *)(a1 + 38);
              else
                v16 = *(_WORD *)(a1 + 36);
              if ( (signed __int16)v16 >= 0 )
                v25 = (v16 << 24) | (v25 >> 8);
              else
                v25 = (v25 >> 8) | (v25 << 24);
              if ( --v24 )
              {
                v21 -= 8;
                if ( !v21 )
                {
                  *v22 = v25;
                  ++v22;
                  v21 = 32;
                  v25 = *v22;
                }
              }
            }
            while ( v24 );
            *v22 = (v25 >> ((v21 - 8) & 0x1F)) | (v25 << (32 - ((v21 - 8) & 0x1F)));
            v26 = (unsigned int *)((char *)v26 + *(_WORD *)(*(_DWORD *)(a1 + 52) + 10));
            v7 = v20 + 0x8000000;
            result = v7 - 1;
            v20 = v7 - 1;
          }
          while ( v20 << 16 );
        }
      }
    }
  }
  return result;
}

//----- (1006F040) --------------------------------------------------------
int __cdecl sub_1006F040(int a1)
{
  int result; // eax@6
  __int16 v2; // [sp+0h] [bp-8h]@1
  __int16 v3; // [sp+4h] [bp-4h]@1

  v2 = *(_WORD *)(a1 + 10);
  v3 = *(_WORD *)(a1 + 8);
  if ( *(_WORD *)(a1 + 26) > (signed int)*(_WORD *)(a1 + 10) )
  {
    *(_WORD *)(a1 + 18) -= *(_WORD *)(a1 + 26) - *(_WORD *)(a1 + 10);
    *(_WORD *)(a1 + 14) += *(_WORD *)(a1 + 26) - *(_WORD *)(a1 + 10);
    *(_WORD *)(a1 + 10) = *(_WORD *)(a1 + 26);
  }
  if ( *(_WORD *)(a1 + 24) > (signed int)*(_WORD *)(a1 + 8) )
  {
    *(_WORD *)(a1 + 16) -= *(_WORD *)(a1 + 24) - *(_WORD *)(a1 + 8);
    *(_WORD *)(a1 + 12) += *(_WORD *)(a1 + 24) - *(_WORD *)(a1 + 8);
    *(_WORD *)(a1 + 8) = *(_WORD *)(a1 + 24);
  }
  if ( *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26) > v2 )
  {
    if ( *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26) - v2 < *(_WORD *)(a1 + 18) )
      *(_WORD *)(a1 + 18) = *(_WORD *)(a1 + 30) + *(_WORD *)(a1 + 26) - v2;
    if ( *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24) > v3 )
    {
      if ( *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24) - v3 < *(_WORD *)(a1 + 16) )
        *(_WORD *)(a1 + 16) = *(_WORD *)(a1 + 28) + *(_WORD *)(a1 + 24) - v3;
      if ( (signed int)*(_WORD *)(a1 + 18) > 0 )
      {
        if ( (signed int)*(_WORD *)(a1 + 16) > 0 )
        {
          *(_BYTE *)a1 = 1;
          result = a1;
        }
        else
        {
          result = 0;
        }
      }
      else
      {
        result = 0;
      }
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1006F210) --------------------------------------------------------
int __cdecl sub_1006F210(unsigned int a1, unsigned int a2)
{
  int result; // eax@2
  void (__cdecl *v3)(unsigned int); // [sp+0h] [bp-10h]@11
  int v4; // [sp+4h] [bp-Ch]@8
  int (__cdecl *v5)(unsigned int); // [sp+8h] [bp-8h]@7
  int v6; // [sp+Ch] [bp-4h]@11

  if ( word_10E81B20 == 9320 )
  {
    if ( a1 <= 0xFFFFFF7 )
    {
      if ( a2 < (unsigned __int16)word_10E81B22 )
      {
        v5 = (int (__cdecl *)(unsigned int))dword_10E81B30[13 * a2];
        if ( v5 )
          v4 = v5(a2);
        else
          v4 = 1;
        if ( v4 )
        {
          v6 = sub_1006F780(a1, a2);
          v3 = (void (__cdecl *)(unsigned int))dword_10E81B34[13 * a2];
          if ( v3 )
            v3(a2);
        }
        else
        {
          v6 = 0;
        }
        result = v6;
      }
      else
      {
        result = 0;
      }
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10E81B20: using guessed type __int16 word_10E81B20;
// 10E81B22: using guessed type __int16 word_10E81B22;
// 10E81B30: using guessed type int dword_10E81B30[];
// 10E81B34: using guessed type int dword_10E81B34[];

//----- (1006F2C0) --------------------------------------------------------
int *__cdecl sub_1006F2C0(unsigned int a1, unsigned int a2)
{
  int *result; // eax@1
  int (__cdecl *v3)(unsigned int); // [sp+0h] [bp-Ch]@7
  signed int v4; // [sp+4h] [bp-8h]@4
  int (__cdecl *v5)(unsigned int); // [sp+8h] [bp-4h]@3

  result = (int *)(unsigned __int16)word_10E81B20;
  if ( word_10E81B20 == 9320 && a2 < (unsigned __int16)word_10E81B22 )
  {
    result = (int *)dword_10E81B30[13 * a2];
    v5 = (int (__cdecl *)(unsigned int))dword_10E81B30[13 * a2];
    if ( v5 )
    {
      result = (int *)v5(a2);
      v4 = (signed int)result;
    }
    else
    {
      v4 = 1;
    }
    if ( v4 )
    {
      result = sub_1006F940(a1, a2);
      v3 = (int (__cdecl *)(unsigned int))dword_10E81B34[13 * a2];
      if ( v3 )
        result = (int *)v3(a2);
    }
  }
  return result;
}
// 10E81B20: using guessed type __int16 word_10E81B20;
// 10E81B22: using guessed type __int16 word_10E81B22;
// 10E81B30: using guessed type int dword_10E81B30[];
// 10E81B34: using guessed type int dword_10E81B34[];

//----- (1006F350) --------------------------------------------------------
int __cdecl sub_1006F350(int a1, void *a2)
{
  char *v2; // ecx@4
  signed int v4; // [sp+4h] [bp-4h]@3

  if ( word_10E81B20 == 9320 && a1 < (unsigned int)(unsigned __int16)word_10E81B22 )
  {
    v2 = (char *)&unk_10E81B40 + 52 * a1;
    *(_DWORD *)a2 = *(_DWORD *)v2;
    *((_DWORD *)a2 + 1) = *((_DWORD *)v2 + 1);
    *((_DWORD *)a2 + 2) = *((_DWORD *)v2 + 2);
    *((_DWORD *)a2 + 3) = *((_DWORD *)v2 + 3);
    *((_DWORD *)a2 + 4) = *((_DWORD *)v2 + 4);
    *((_DWORD *)a2 + 5) = *((_DWORD *)v2 + 5);
    *((_DWORD *)a2 + 7) = 8 * *((_DWORD *)a2 + 1) + 8;
    *((_DWORD *)a2 + 6) = *((_DWORD *)a2 + 4) - *((_DWORD *)a2 + 7);
    *((_DWORD *)a2 + 8) = 10000 * (unsigned __int64)*((_DWORD *)a2 + 4) / *((_DWORD *)a2 + 3);
    *((_DWORD *)a2 + 9) = 10000 * (unsigned __int64)*((_DWORD *)a2 + 5) / *((_DWORD *)a2 + 3);
    *((_DWORD *)a2 + 10) = 10000 * (unsigned __int64)*((_DWORD *)a2 + 7) / *((_DWORD *)a2 + 3);
    v4 = 0;
  }
  else
  {
    memset(a2, 204, 0x2Cu);
    *((_DWORD *)a2 + 6) = -1;
    v4 = -1;
  }
  return v4;
}
// 10E81B20: using guessed type __int16 word_10E81B20;
// 10E81B22: using guessed type __int16 word_10E81B22;

//----- (1006F470) --------------------------------------------------------
void *__cdecl sub_1006F470(void *a1, unsigned int a2, unsigned int a3)
{
  void (__cdecl *v4)(unsigned int); // [sp+0h] [bp-10h]@15
  int v5; // [sp+4h] [bp-Ch]@12
  int (__cdecl *v6)(unsigned int); // [sp+8h] [bp-8h]@11
  void *v7; // [sp+Ch] [bp-4h]@2

  if ( word_10E81B20 == 9320 )
  {
    if ( a3 < (unsigned __int16)word_10E81B22 )
    {
      if ( a1 )
      {
        if ( a2 )
        {
          if ( a2 <= 0xFFFFFF7 )
          {
            v6 = (int (__cdecl *)(unsigned int))dword_10E81B30[13 * a3];
            if ( v6 )
              v5 = v6(a3);
            else
              v5 = 1;
            if ( v5 )
            {
              v7 = sub_1006FB90(a1, a2, a3);
              v4 = (void (__cdecl *)(unsigned int))dword_10E81B34[13 * a3];
              if ( v4 )
                v4(a3);
            }
            else
            {
              v7 = 0;
            }
          }
          else
          {
            v7 = 0;
          }
        }
        else
        {
          sub_1006F2C0((unsigned int)a1, a3);
          v7 = 0;
        }
      }
      else
      {
        v7 = (void *)sub_1006F210(a2, a3);
      }
    }
    else
    {
      v7 = 0;
    }
  }
  else
  {
    v7 = 0;
  }
  return v7;
}
// 10E81B20: using guessed type __int16 word_10E81B20;
// 10E81B22: using guessed type __int16 word_10E81B22;
// 10E81B30: using guessed type int dword_10E81B30[];
// 10E81B34: using guessed type int dword_10E81B34[];

//----- (1006F580) --------------------------------------------------------
signed int __cdecl sub_1006F580(int a1)
{
  signed int result; // eax@2
  int v2; // ST18_4@11
  int v3; // edx@11
  unsigned int v4; // ST28_4@11
  unsigned int v5; // ST20_4@11
  void (__cdecl *v6)(unsigned int); // [sp+0h] [bp-20h]@11
  int v7; // [sp+4h] [bp-1Ch]@8
  int *v8; // [sp+10h] [bp-10h]@7
  unsigned int v9; // [sp+18h] [bp-8h]@7

  if ( word_10E81B20 == 9320 )
  {
    if ( a1 )
    {
      if ( (signed int)(unsigned __int16)word_10E81B22 < 8 )
      {
        v9 = (unsigned __int16)word_10E81B22++;
        v8 = &dword_10E81B24[13 * v9];
        if ( *(_DWORD *)a1 )
          v7 = (*(int (__cdecl **)(unsigned int))a1)(v9);
        else
          v7 = 1;
        if ( v7 )
        {
          v2 = *(_DWORD *)(a1 + 12);
          v3 = (int)(v8 + 3);
          *(_DWORD *)v3 = *(_DWORD *)a1;
          *(_DWORD *)(v3 + 4) = *(_DWORD *)(a1 + 4);
          *(_DWORD *)(v3 + 8) = *(_DWORD *)(a1 + 8);
          *(_DWORD *)(v3 + 12) = *(_DWORD *)(a1 + 12);
          v8[10] = v2;
          v8[11] = 8;
          v8[12] = v8[11];
          v4 = *(_DWORD *)(a1 + 8);
          *(_DWORD *)(v4 + 4) = v2 - 8;
          *(_DWORD *)v4 = 0;
          v5 = v4 + (*(_DWORD *)(v4 + 4) & 0xFFFFFFFC);
          *(_DWORD *)(v5 + 4) = 8;
          *(_DWORD *)v5 = *(_DWORD *)(v4 + 4);
          v8[2] = v5;
          *(_DWORD *)(v5 + 4) &= 0xFFFFFFFE;
          sub_1006FE80(v4, 0, v9);
          v6 = *(void (__cdecl **)(unsigned int))(a1 + 4);
          if ( v6 )
            v6(v9);
          result = v9;
        }
        else
        {
          result = -1;
        }
      }
      else
      {
        result = -1;
      }
    }
    else
    {
      result = -1;
    }
  }
  else
  {
    result = -1;
  }
  return result;
}
// 10E81B20: using guessed type __int16 word_10E81B20;
// 10E81B22: using guessed type __int16 word_10E81B22;
// 10E81B24: using guessed type int dword_10E81B24[];

//----- (1006F700) --------------------------------------------------------
__int16 *sub_1006F700()
{
  signed int i; // [sp+0h] [bp-4h]@1

  memset(&word_10E81B20, 0, 0x1A4u);
  for ( i = 0; i < 8; ++i )
  {
    dword_10E81B24[13 * i] = (int)&dword_10E81B24[13 * i];
    dword_10E81B28[13 * i] = (int)&dword_10E81B24[13 * i];
  }
  word_10E81B20 = 9320;
  return &word_10E81B20;
}
// 10E81B20: using guessed type __int16 word_10E81B20;
// 10E81B24: using guessed type int dword_10E81B24[];
// 10E81B28: using guessed type int dword_10E81B28[];

//----- (1006F780) --------------------------------------------------------
int __cdecl sub_1006F780(unsigned int a1, unsigned int a2)
{
  int result; // eax@2
  unsigned int v3; // [sp+0h] [bp-24h]@6
  int *v4; // [sp+Ch] [bp-18h]@5
  unsigned int v5; // [sp+10h] [bp-14h]@19
  int v6; // [sp+14h] [bp-10h]@25
  int v7; // [sp+18h] [bp-Ch]@19
  int i; // [sp+1Ch] [bp-8h]@9

  if ( a1 )
  {
    if ( a1 <= 0xFFFFFF7 )
    {
      v4 = &dword_10E81B24[13 * a2];
      if ( a1 >= 8 )
        v3 = a1 + (-a1 & 3) + 8;
      else
        v3 = 16;
      ++v4[7];
      if ( v3 >= 0xC800 )
      {
        for ( i = v4[1]; (int *)i != v4 && *(_DWORD *)(i - 4) < v3; i = *(_DWORD *)(i + 4) )
          ;
      }
      else
      {
        for ( i = *v4; (int *)i != v4 && *(_DWORD *)(i - 4) < v3; i = *(_DWORD *)i )
          ;
      }
      if ( (int *)i == v4 )
      {
        v6 = 0;
      }
      else
      {
        v7 = i - 8;
        v5 = *(_DWORD *)(i - 8 + 4) & 0xFFFFFFFC;
        if ( ++v4[8] > (unsigned int)v4[9] )
          v4[9] = v4[8];
        sub_1006FE80(v7, 1, a2);
        if ( v5 >= v3 + 16 )
        {
          sub_1006FDD0(v7, v3, a2);
          v5 = v3;
        }
        v4[11] += v5;
        if ( v4[11] > (unsigned int)v4[12] )
          v4[12] = v4[11];
        v6 = i;
      }
      if ( !v6 )
        --v4[7];
      result = v6;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10E81B24: using guessed type int dword_10E81B24[];

//----- (1006F940) --------------------------------------------------------
int *__cdecl sub_1006F940(unsigned int a1, unsigned int a2)
{
  int *result; // eax@1
  int v3; // ST18_4@9
  int *v4; // [sp+0h] [bp-10h]@1
  bool v5; // [sp+7h] [bp-9h]@2
  int *v6; // [sp+8h] [bp-8h]@1
  int v7; // [sp+Ch] [bp-4h]@1

  result = (int *)(a1 - 8);
  v7 = a1 - 8;
  v6 = &dword_10E81B24[13 * a2];
  v4 = &dword_10E81B24[13 * a2];
  if ( a1 )
  {
    result = &dword_10E81B24[13 * a2];
    v5 = a1 >= v4[5] && (result = (int *)(v4[6] + v4[5]), a1 <= (unsigned int)result);
  }
  else
  {
    v5 = 0;
  }
  if ( v5 )
  {
    result = (int *)(a1 - 8);
    if ( !(*(_DWORD *)(v7 + 4) & 1) )
    {
      --v6[8];
      v6[11] -= *(_DWORD *)(v7 + 4) & 0xFFFFFFFC;
      v3 = sub_1006FA10(v7, a2, 0);
      result = (int *)sub_1006FE80(v3, 0, a2);
    }
  }
  return result;
}
// 10E81B24: using guessed type int dword_10E81B24[];

//----- (1006FA10) --------------------------------------------------------
int __cdecl sub_1006FA10(int a1, unsigned int a2, unsigned int a3)
{
  int result; // eax@3
  unsigned int v4; // [sp+8h] [bp-14h]@4
  unsigned int v5; // [sp+Ch] [bp-10h]@4
  unsigned int v6; // [sp+10h] [bp-Ch]@5
  unsigned int v7; // [sp+14h] [bp-8h]@9
  unsigned int v8; // [sp+18h] [bp-4h]@4

  if ( a1 && a2 < (unsigned __int16)word_10E81B22 )
  {
    v4 = a1 + (*(_DWORD *)(a1 + 4) & 0xFFFFFFFC);
    v8 = a1 - (*(_DWORD *)a1 & 0xFFFFFFFC);
    v5 = *(_DWORD *)(a1 + 4) & 0xFFFFFFFC;
    if ( *(_DWORD *)(v4 + 4) & 1 )
      v6 = *(_DWORD *)(v4 + 4) & 0xFFFFFFFC;
    else
      v6 = 0;
    if ( v8 != a1 && *(_DWORD *)(v8 + 4) & 1 )
      v7 = *(_DWORD *)(v8 + 4) & 0xFFFFFFFC;
    else
      v7 = 0;
    if ( a3 )
    {
      if ( v6 < a3 )
      {
        if ( v7 < a3 )
        {
          if ( v7 + v6 < a3 )
          {
            v6 = 0;
            v7 = 0;
          }
        }
        else
        {
          v6 = 0;
        }
      }
      else
      {
        v7 = 0;
      }
    }
    if ( v6 )
    {
      sub_1006FE80(v4, 1, a2);
      v5 += v6;
      *(_DWORD *)(a1 + 4) = v5 | *(_DWORD *)(a1 + 4) & 3;
      v4 += *(_DWORD *)(v4 + 4) & 0xFFFFFFFC;
      *(_DWORD *)v4 = *(_DWORD *)(a1 + 4);
    }
    if ( v7 )
    {
      sub_1006FE80(v8, 1, a2);
      a1 = v8;
      *(_DWORD *)(v8 + 4) = (v7 + v5) | *(_DWORD *)(v8 + 4) & 3;
      *(_DWORD *)v4 = *(_DWORD *)(v8 + 4);
    }
    result = a1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10E81B22: using guessed type __int16 word_10E81B22;

//----- (1006FB90) --------------------------------------------------------
void *__cdecl sub_1006FB90(void *a1, unsigned int a2, unsigned int a3)
{
  void *result; // eax@2
  int v4; // eax@19
  int v5; // eax@25
  unsigned int v6; // [sp+0h] [bp-24h]@12
  int *v7; // [sp+4h] [bp-20h]@3
  bool v8; // [sp+Bh] [bp-19h]@4
  int *v9; // [sp+Ch] [bp-18h]@1
  void *v10; // [sp+10h] [bp-14h]@1
  int v11; // [sp+14h] [bp-10h]@15
  unsigned int v12; // [sp+1Ch] [bp-8h]@14
  int v13; // [sp+20h] [bp-4h]@14

  v9 = &dword_10E81B24[13 * a3];
  v10 = a1;
  if ( a2 <= 0xFFFFFF7 )
  {
    v7 = &dword_10E81B24[13 * a3];
    if ( a1 )
      v8 = (unsigned int)a1 >= v7[5] && (unsigned int)a1 <= v7[6] + v7[5];
    else
      v8 = 0;
    if ( v8 )
    {
      if ( a2 >= 8 )
        v6 = a2 + (-a2 & 3) + 8;
      else
        v6 = 16;
      v13 = (int)a1 - 8;
      v12 = *((_DWORD *)a1 - 1) & 0xFFFFFFFC;
      if ( v12 >= v6 )
      {
        if ( v12 > v6 + 16 )
        {
          v9[11] -= v12 - v6;
          v5 = sub_1006FDD0(v13, v6, a3);
          sub_1006FA10(v5, a3, 0);
        }
      }
      else
      {
        v11 = sub_1006FA10(v13, a3, v6 - v12);
        if ( (*(_DWORD *)(v11 + 4) & 0xFFFFFFFC) < v6 )
        {
          --v9[8];
          v9[11] -= v12;
          v10 = (void *)sub_1006F780(v6 - 8, a3);
          ++v9[8];
          v9[11] += v12;
          if ( v10 )
          {
            memcpy(v10, a1, v12 - 8);
            sub_1006F940((unsigned int)a1, a3);
          }
        }
        else
        {
          v10 = (void *)(v11 + 8);
          if ( (void *)(v11 + 8) != a1 )
            memcpy_0(v10, a1, v12 - 8);
          if ( (*(_DWORD *)(v11 + 4) & 0xFFFFFFFC) > v6 + 16 )
          {
            v4 = sub_1006FDD0(v11, v6, a3);
            sub_1006FA10(v4, a3, 0);
          }
          v9[11] += (*(_DWORD *)(v11 + 4) & 0xFFFFFFFC) - v12;
        }
      }
      result = v10;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10E81B24: using guessed type int dword_10E81B24[];

//----- (1006FDD0) --------------------------------------------------------
int __cdecl sub_1006FDD0(int a1, int a2, unsigned int a3)
{
  int result; // eax@5
  _DWORD *v4; // ST10_4@6

  if ( a1 && (unsigned int)(*(_DWORD *)(a1 + 4) - a2) >= 0x10 && a3 <= (unsigned __int16)word_10E81B22 && !(a2 & 3) )
  {
    v4 = (_DWORD *)(a1 + (*(_DWORD *)(a1 + 4) & 0xFFFFFFFC));
    *(_DWORD *)(a2 + a1 + 4) = (*(_DWORD *)(a1 + 4) & 0xFFFFFFFC) - a2;
    *(_DWORD *)(a2 + a1) = a2;
    *v4 = *(_DWORD *)(a2 + a1 + 4);
    sub_1006FE80(a2 + a1, 0, a3);
    *(_DWORD *)(a1 + 4) = a2 | *(_DWORD *)(a1 + 4) & 3;
    result = a2 + a1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10E81B22: using guessed type __int16 word_10E81B22;

//----- (1006FE80) --------------------------------------------------------
int __cdecl sub_1006FE80(unsigned int a1, int a2, unsigned int a3)
{
  int result; // eax@2
  int *v4; // ST18_4@9
  int v5; // ST1C_4@9
  int v6; // ST20_4@9
  int v7; // ST10_4@10
  int v8; // ST14_4@10
  int v9; // ST08_4@12
  _DWORD *v10; // ST0C_4@12
  int *v11; // [sp+28h] [bp-4h]@7

  if ( a1 )
  {
    result = (unsigned __int16)word_10E81B22;
    if ( a3 <= (unsigned __int16)word_10E81B22 )
    {
      if ( a2 )
      {
        if ( a2 == 1 )
        {
          v9 = *(_DWORD *)(a1 + 8);
          v10 = *(_DWORD **)(a1 + 12);
          *(_DWORD *)(v9 + 4) = v10;
          *v10 = v9;
          result = a1;
          *(_DWORD *)(a1 + 4) &= 0xFFFFFFFE;
        }
      }
      else
      {
        *(_DWORD *)(a1 + 4) |= 1u;
        *(_DWORD *)(a1 + 8) = a1 + 8;
        *(_DWORD *)(a1 + 12) = a1 + 8;
        v11 = &dword_10E81B24[13 * a3];
        if ( (*(_DWORD *)(a1 + 4) & 0xFFFFFFFC) - 8 < 0xC800
          && a1 <= dword_10E81B24[13 * a3 + 5] + ((unsigned int)dword_10E81B24[13 * a3 + 6] >> 1) )
        {
          v7 = a1 + 8;
          v8 = *v11;
          *(_DWORD *)(v8 + 4) = a1 + 8;
          *(_DWORD *)v7 = v8;
          *(_DWORD *)(v7 + 4) = v11;
          result = a1 + 8;
          *v11 = a1 + 8;
        }
        else
        {
          v4 = (int *)v11[1];
          v5 = a1 + 8;
          v6 = *v4;
          *(_DWORD *)(v6 + 4) = a1 + 8;
          *(_DWORD *)v5 = v6;
          *(_DWORD *)(v5 + 4) = v4;
          result = (int)v4;
          *v4 = a1 + 8;
        }
      }
    }
  }
  return result;
}
// 10E81B22: using guessed type __int16 word_10E81B22;
// 10E81B24: using guessed type int dword_10E81B24[];

//----- (1006FFD0) --------------------------------------------------------
int __usercall sub_1006FFD0@<eax>(__int16 a1@<ax>)
{
  int v1; // eax@1

  v1 = (signed __int16)(25736 * a1 >> 13);
  return 0x7FFF
       - ((signed __int16)(v1 * v1 >> 15)
        * (signed __int16)(0x7FFF
                         - (21845
                          * (signed __int16)((signed __int16)(v1 * v1 >> 15)
                                           * (signed __int16)(0x7FFF - (17476 * (signed __int16)(v1 * v1 >> 15) >> 19)) >> 15) >> 18)) >> 16);
}

//----- (10070030) --------------------------------------------------------
int __usercall sub_10070030@<eax>(__int16 a1@<ax>)
{
  int v1; // ecx@1

  v1 = (signed __int16)(25736 * a1 >> 13);
  return v1
       * (signed __int16)(0x7FFF
                        - (21845
                         * (signed __int16)((signed __int16)(v1 * v1 >> 15)
                                          * (signed __int16)(0x7FFF
                                                           - (26214
                                                            * (signed __int16)((signed __int16)(v1 * v1 >> 15)
                                                                             * (signed __int16)(0x7FFF
                                                                                              - (24966
                                                                                               * (signed __int16)(v1 * v1 >> 15) >> 20)) >> 15) >> 19)) >> 15) >> 17)) >> 15;
}

//----- (100700B0) --------------------------------------------------------
int __cdecl sub_100700B0(int a1)
{
  __int16 v1; // ax@1
  int result; // eax@4

  v1 = ((a1 + 0x2000) & 0x3FFF) - 0x2000;
  if ( ((a1 + 0x2000) >> 14) & 3 )
  {
    if ( (((a1 + 0x2000) >> 14) & 3) == 1 )
    {
      result = (unsigned __int16)sub_1006FFD0(v1);
    }
    else if ( (((a1 + 0x2000) >> 14) & 3) == 2 )
    {
      result = (unsigned __int16)-sub_10070030(v1);
    }
    else
    {
      result = (unsigned __int16)-sub_1006FFD0(v1);
    }
  }
  else
  {
    result = (unsigned __int16)sub_10070030(v1);
  }
  return result;
}

//----- (10070110) --------------------------------------------------------
int __cdecl sub_10070110(int a1)
{
  return sub_100700B0(a1 + 0x4000);
}

//----- (10070130) --------------------------------------------------------
double __cdecl sub_10070130(double a1, double a2)
{
  double result; // st7@1
  double v3; // [sp+0h] [bp-8h]@2

  result = 0.0;
  if ( a2 > 0.0 )
  {
    v3 = a2 + a2;
    result = fmod(a1, v3);
    if ( a2 > result )
    {
      if ( -a2 > result )
        result = result + v3;
    }
    else
    {
      result = result - v3;
    }
  }
  return result;
}

//----- (10070190) --------------------------------------------------------
void __cdecl sub_10070190(double a1)
{
  sub_10070130(a1, 3.1415926535898);
}

//----- (100701B0) --------------------------------------------------------
int __cdecl sub_100701B0(double a1)
{
  int result; // eax@2

  if ( a1 >= 0.0 )
    result = (signed int)(a1 + 0.5);
  else
    result = (signed int)(a1 - 0.5);
  return result;
}

//----- (100701E0) --------------------------------------------------------
int __cdecl sub_100701E0(float a1)
{
  double v1; // st7@1
  int result; // eax@2

  v1 = a1;
  if ( a1 >= 0.0 )
    result = (signed int)(v1 + 0.5);
  else
    result = (signed int)(v1 - 0.5);
  return result;
}

//----- (10070210) --------------------------------------------------------
double __cdecl sub_10070210(float a1, float a2)
{
  double v2; // st7@1
  double result; // st7@2
  float v4; // [sp+8h] [bp+8h]@5

  v2 = a2;
  if ( a2 > 0.000001 )
  {
    if ( a1 < 0.0 )
      a2 = -v2;
    v4 = v2 * (double)(signed int)((a1 + a2 * 0.5) / v2);
    result = v4;
  }
  else
  {
    result = a1;
  }
  return result;
}

//----- (10070280) --------------------------------------------------------
signed int __cdecl sub_10070280(unsigned int a1)
{
  unsigned int v1; // edi@1
  unsigned int v2; // esi@1
  unsigned int v3; // ecx@1
  signed int v4; // eax@1
  signed int v5; // ecx@8
  unsigned int v6; // edx@9
  int v7; // eax@11
  signed int result; // eax@16

  v1 = a1;
  v2 = 0;
  v3 = a1;
  v4 = 32;
  if ( !a1 )
    v4 = 33;
  if ( a1 >> 16 )
  {
    v3 = a1 >> 16;
    v4 = 16;
  }
  if ( v3 >> 8 )
  {
    v3 >>= 8;
    v4 -= 8;
  }
  do
  {
    --v4;
    v3 >>= 1;
  }
  while ( v3 );
  v5 = (31 - v4) & 0xFFFFFFFE;
  if ( v5 >= 0 )
    v6 = 1 << v5;
  else
    v6 = 0;
  do
  {
    v7 = v6 + v2;
    if ( v6 + v2 <= v1 )
    {
      v1 -= v7;
      v2 = v7 + v6;
    }
    v2 >>= 1;
    v6 >>= 2;
  }
  while ( v6 );
  if ( v1 > v2 )
    ++v2;
  result = (unsigned __int16)v2;
  if ( (unsigned __int16)v2 != v2 )
    result = 0xFFFF;
  return result;
}

//----- (10070300) --------------------------------------------------------
int __cdecl sub_10070300(unsigned __int8 a1, unsigned int a2)
{
  return dword_100DEE68[a1 ^ (unsigned __int8)a2] ^ (a2 >> 8);
}
// 100DEE68: using guessed type int dword_100DEE68[];

//----- (10070320) --------------------------------------------------------
unsigned int __cdecl sub_10070320(unsigned int *a1, signed int a2, unsigned int a3)
{
  unsigned int *v3; // edx@1
  unsigned int result; // eax@1
  signed int i; // esi@1
  unsigned int v6; // edi@5
  unsigned int v7; // eax@6
  unsigned int v8; // eax@6
  unsigned int v9; // eax@6
  unsigned int v10; // eax@6
  unsigned int v11; // ecx@6
  unsigned int v12; // ecx@6
  unsigned int v13; // ecx@6

  v3 = a1;
  result = a3;
  for ( i = a2; i; --i )
  {
    if ( !((unsigned __int8)v3 & 3) )
      break;
    result = dword_100DEE68[(unsigned __int8)result ^ *(_BYTE *)v3] ^ (result >> 8);
    v3 = (unsigned int *)((char *)v3 + 1);
  }
  if ( i >= 8 )
  {
    v6 = (unsigned int)i >> 3;
    do
    {
      v7 = dword_100DEE68[(unsigned __int8)result ^ (unsigned __int8)*v3] ^ (result >> 8);
      v8 = dword_100DEE68[(unsigned __int8)v7 ^ (unsigned __int8)(*(_WORD *)v3 >> 8)] ^ (v7 >> 8);
      v9 = dword_100DEE68[(unsigned __int8)v8 ^ (unsigned __int8)(*v3 >> 16)] ^ (v8 >> 8);
      v10 = dword_100DEE68[(unsigned __int8)v9 ^ (*v3 >> 24)] ^ (v9 >> 8);
      v3 += 2;
      v11 = dword_100DEE68[(unsigned __int8)v10 ^ (unsigned __int8)*(v3 - 1)] ^ (v10 >> 8);
      v12 = dword_100DEE68[(unsigned __int8)v11 ^ (unsigned __int8)(*((_WORD *)v3 - 2) >> 8)] ^ (v11 >> 8);
      v13 = dword_100DEE68[(unsigned __int8)v12 ^ (unsigned __int8)(*(v3 - 1) >> 16)] ^ (v12 >> 8);
      i -= 8;
      --v6;
      result = dword_100DEE68[(unsigned __int8)v13 ^ (*(v3 - 1) >> 24)] ^ (v13 >> 8);
    }
    while ( v6 );
  }
  for ( ; i > 0; v3 = (unsigned int *)((char *)v3 + 1) )
  {
    result = dword_100DEE68[(unsigned __int8)result ^ *(_BYTE *)v3] ^ (result >> 8);
    --i;
  }
  return result;
}
// 100DEE68: using guessed type int dword_100DEE68[];

//----- (10070460) --------------------------------------------------------
int __cdecl sub_10070460(void *a1, void *a2)
{
  signed int v2; // ST0C_4@1
  int v4; // [sp+0h] [bp-4h]@1

  v2 = sub_10002FC0(66, 25, (int)a1);
  v4 = v2 | sub_10002FC0(91, 50, (int)a2);
  if ( v4 )
  {
    memset(a1, 32, 0x18u);
    memset(a2, 32, 0x31u);
  }
  *((_BYTE *)a1 + 24) = 0;
  *((_BYTE *)a2 + 49) = 0;
  return v4;
}

//----- (100704D0) --------------------------------------------------------
signed int __cdecl sub_100704D0(_WORD *a1, int a2, int a3, int a4, int a5)
{
  signed int v6; // [sp+0h] [bp-18h]@1
  __int16 v7; // [sp+4h] [bp-14h]@1
  char v8; // [sp+6h] [bp-12h]@2
  char v9; // [sp+7h] [bp-11h]@2
  __int16 v10; // [sp+8h] [bp-10h]@2
  char v11; // [sp+Ah] [bp-Eh]@2
  char v12; // [sp+Bh] [bp-Dh]@2
  __int16 v13; // [sp+Ch] [bp-Ch]@2
  char v14; // [sp+Eh] [bp-Ah]@2
  char v15; // [sp+Fh] [bp-9h]@2
  __int16 v16; // [sp+10h] [bp-8h]@2
  unsigned __int8 v17; // [sp+12h] [bp-6h]@2
  char v18; // [sp+13h] [bp-5h]@2
  char v19; // [sp+14h] [bp-4h]@2

  v6 = sub_10002FC0(4, 17, (int)&v7);
  if ( v6 )
  {
    *a1 = 0x7FFF;
    *(_DWORD *)a2 = -1;
    *(_DWORD *)a3 = -1;
    *(_DWORD *)a4 = -1;
    *(_DWORD *)a5 = -32769;
  }
  else
  {
    *a1 = v7;
    *(_BYTE *)a2 = v8;
    *(_BYTE *)(a2 + 1) = v9;
    *(_WORD *)(a2 + 2) = v10;
    *(_BYTE *)a3 = v11;
    *(_BYTE *)(a3 + 1) = v12;
    *(_WORD *)(a3 + 2) = v13;
    *(_BYTE *)a4 = v14;
    *(_BYTE *)(a4 + 1) = v15;
    *(_WORD *)(a4 + 2) = v16;
    *(_WORD *)a5 = v17;
    *(_BYTE *)(a5 + 2) = v18;
    *(_BYTE *)(a5 + 3) = v19;
  }
  return v6;
}

//----- (100705B0) --------------------------------------------------------
signed int __cdecl sub_100705B0(int a1)
{
  signed int v2; // [sp+0h] [bp-8h]@1
  char v3; // [sp+4h] [bp-4h]@1
  char v4; // [sp+5h] [bp-3h]@2
  __int16 v5; // [sp+6h] [bp-2h]@2

  v2 = sub_10002FC0(189, 4, (int)&v3);
  if ( v2 )
  {
    *(_DWORD *)a1 = -1;
  }
  else
  {
    *(_BYTE *)a1 = v3;
    *(_BYTE *)(a1 + 1) = v4;
    *(_WORD *)(a1 + 2) = v5;
  }
  return v2;
}

//----- (10070610) --------------------------------------------------------
signed int __cdecl sub_10070610(_DWORD *a1)
{
  signed int v2; // [sp+0h] [bp-4h]@1

  v2 = sub_10002FC0(0, 4, (int)a1);
  if ( v2 )
    *a1 = 0;
  return v2;
}

//----- (10070640) --------------------------------------------------------
int __cdecl sub_10070640(void *a1)
{
  signed int v2; // [sp+0h] [bp-4h]@1

  v2 = sub_10002FC0(149, 40, (int)a1);
  if ( v2 )
    memset(a1, 32, 0x28u);
  *((_BYTE *)a1 + 40) = 0;
  return v2;
}

//----- (10070680) --------------------------------------------------------
int __cdecl sub_10070680(void *a1)
{
  signed int v2; // [sp+0h] [bp-4h]@1

  v2 = sub_10002FC0(36, 30, (int)a1);
  if ( v2 )
    memset(a1, 32, 0x1Eu);
  *((_BYTE *)a1 + 30) = 0;
  return v2;
}

//----- (100706C0) --------------------------------------------------------
signed int __cdecl sub_100706C0(_BYTE *a1)
{
  signed int v2; // [sp+0h] [bp-4h]@1

  v2 = sub_10002FC0(21, 1, (int)a1);
  if ( v2 )
    *a1 = 0;
  return v2;
}

//----- (100706F0) --------------------------------------------------------
signed int sub_100706F0()
{
  signed int v0; // ST10_4@1
  signed int v2; // [sp+0h] [bp-24h]@10
  char v3; // [sp+8h] [bp-1Ch]@1
  int i; // [sp+1Ch] [bp-8h]@2
  char v5; // [sp+23h] [bp-1h]@7

  byte_10F8E1D8 = 0;
  sub_100707C0();
  v0 = sub_10002FC0(24, 12, (int)&v3);
  byte_10F8E1D8 = 1;
  if ( !v0 )
  {
    for ( i = 0; i < 2; ++i )
    {
      if ( !memcmp(&v3, &a006D0598[11 * i], 0xAu) )
      {
        byte_10F8E1D8 = 0;
        break;
      }
    }
    sub_100706C0(&v5);
    if ( v5 != 101 )
      byte_10F8E1D8 = 2;
  }
  if ( byte_10F8E1D8 )
    v2 = -1;
  else
    v2 = 0;
  return v2;
}
// 10F8E1D8: using guessed type char byte_10F8E1D8;

//----- (100707C0) --------------------------------------------------------
signed int sub_100707C0()
{
  signed int v1; // [sp+0h] [bp-20h]@1
  unsigned int v2; // [sp+4h] [bp-1Ch]@2
  int v3; // [sp+8h] [bp-18h]@1
  int v4; // [sp+Ch] [bp-14h]@2
  unsigned int i; // [sp+10h] [bp-10h]@2
  int v6; // [sp+14h] [bp-Ch]@1
  unsigned int v7; // [sp+18h] [bp-8h]@2
  int v8; // [sp+1Ch] [bp-4h]@2

  memset(dword_10F8E160, 0, 0x78u);
  sub_10070610(&v3);
  v1 = sub_10002FC0(v3, 12, (int)&v6);
  if ( !v1 )
  {
    dword_10F8E170 = v8;
    dword_10F8E174 = v7;
    dword_10F8E16C = v6;
    v2 = v7;
    v4 = v8 + v3;
    for ( i = 2; i <= v2; ++i )
    {
      v1 = sub_10002FC0(v4, 12, (int)&v6);
      if ( v1 )
        break;
      dword_10F8E164[3 * i] = v8;
      dword_10F8E168[3 * i] = v7;
      dword_10F8E160[3 * i] = v6;
      v4 += dword_10F8E170;
    }
  }
  return v1;
}
// 10F8E160: using guessed type int dword_10F8E160[];
// 10F8E164: using guessed type int dword_10F8E164[];
// 10F8E168: using guessed type int dword_10F8E168[];
// 10F8E16C: using guessed type int dword_10F8E16C;
// 10F8E170: using guessed type int dword_10F8E170;
// 10F8E174: using guessed type int dword_10F8E174;

//----- (100708B0) --------------------------------------------------------
int __cdecl sub_100708B0(char *a1, void *a2)
{
  int v3; // [sp+0h] [bp-4h]@1

  v3 = sub_10071120(a1, a2);
  if ( !v3 )
    v3 = sub_10071290((int)a2);
  return v3;
}

//----- (100708F0) --------------------------------------------------------
int __cdecl sub_100708F0(int a1, int a2, int a3, int a4, char *a5, char *a6, int a7)
{
  signed int v8; // [sp+0h] [bp-18h]@2
  signed int v9; // [sp+4h] [bp-14h]@1
  size_t v10; // [sp+8h] [bp-10h]@10
  size_t v11; // [sp+8h] [bp-10h]@15
  char v12; // [sp+Ch] [bp-Ch]@2
  int i; // [sp+10h] [bp-8h]@3
  int v14; // [sp+14h] [bp-4h]@1

  v9 = *(_DWORD *)a7;
  v14 = 0;
  do
  {
    v8 = sub_10071040(a1, a2, (int *)&v12, v9);
    if ( !v8 )
    {
      for ( i = 0; i < a4; ++i )
      {
        if ( *(_BYTE *)(a2 + 2) == *(_BYTE *)(i + a3) )
        {
          v14 = 1;
          *(_DWORD *)a7 = v9;
          break;
        }
      }
      if ( v14 )
      {
        if ( a5 )
        {
          v10 = strlen(a5);
          if ( v10 != strlen((const char *)(a2 + 19)) || memcmp(a5, (const void *)(a2 + 19), v10) )
            v14 = 0;
        }
      }
      if ( v14 )
      {
        if ( a6 )
        {
          v11 = strlen(a6);
          if ( v11 != strlen((const char *)(a2 + 6)) || memcmp(a6, (const void *)(a2 + 6), v11) )
            v14 = 0;
        }
      }
    }
    ++v9;
  }
  while ( !v8 && !v14 );
  return v8;
}

//----- (10070A30) --------------------------------------------------------
signed int __cdecl sub_10070A30(_DWORD *a1)
{
  signed int v2; // [sp+0h] [bp-4h]@2

  if ( byte_10F8E1D8 )
  {
    *a1 = 0;
    v2 = -1;
  }
  else
  {
    *a1 = dword_10F8E180;
    v2 = 0;
  }
  return v2;
}
// 10F8E180: using guessed type int dword_10F8E180;
// 10F8E1D8: using guessed type char byte_10F8E1D8;

//----- (10070A70) --------------------------------------------------------
int __cdecl sub_10070A70(void *a1, int a2)
{
  int v3; // [sp+0h] [bp-8h]@2

  if ( a2 < (unsigned int)dword_10F8E180 )
  {
    v3 = sub_10070CF0(dword_10F8E178 + dword_10F8E17C * a2, a1);
    if ( !v3 )
      v3 = sub_10071290((int)a1);
  }
  else
  {
    v3 = -1;
  }
  return v3;
}
// 10F8E178: using guessed type int dword_10F8E178;
// 10F8E17C: using guessed type int dword_10F8E17C;
// 10F8E180: using guessed type int dword_10F8E180;

//----- (10070AD0) --------------------------------------------------------
int __cdecl sub_10070AD0(int a1, int a2, void *a3)
{
  __int16 v4; // [sp+0h] [bp-38h]@12
  __int16 v5; // [sp+2h] [bp-36h]@13
  __int16 v6; // [sp+4h] [bp-34h]@13
  __int16 v7; // [sp+6h] [bp-32h]@13
  char v8; // [sp+8h] [bp-30h]@13
  int v9; // [sp+Ch] [bp-2Ch]@2
  int v10; // [sp+10h] [bp-28h]@5
  int v11; // [sp+14h] [bp-24h]@7
  __int16 v12; // [sp+18h] [bp-20h]@7
  __int16 v13; // [sp+1Ah] [bp-1Eh]@7
  int v14; // [sp+1Ch] [bp-1Ch]@7
  int v15; // [sp+20h] [bp-18h]@7
  __int16 v16; // [sp+24h] [bp-14h]@7
  char v17; // [sp+26h] [bp-12h]@7
  __int16 v18; // [sp+27h] [bp-11h]@7
  __int16 v19; // [sp+29h] [bp-Fh]@7
  char v20; // [sp+2Bh] [bp-Dh]@7
  int v21; // [sp+2Ch] [bp-Ch]@12
  int v22; // [sp+30h] [bp-8h]@1
  int i; // [sp+34h] [bp-4h]@10

  v22 = 0;
  memset(a3, 0, 0x16Cu);
  if ( (signed int)*(_BYTE *)(a2 + 35) <= 0 )
    v22 = -1;
  else
    v9 = *(_DWORD *)(a1 + 12) + dword_10F8E1A0 * (*(_BYTE *)(a2 + 35) - 1);
  if ( !v22 )
    v22 = sub_10002FC0(v9, 32, (int)&v10);
  if ( !v22 )
  {
    *(_DWORD *)a3 = v10;
    *((_DWORD *)a3 + 1) = v11;
    *((_WORD *)a3 + 4) = v12;
    *((_WORD *)a3 + 5) = v13;
    *((_DWORD *)a3 + 5) = v14;
    *((_DWORD *)a3 + 6) = v15;
    *((_WORD *)a3 + 14) = v16;
    *((_BYTE *)a3 + 30) = v17;
    *((_WORD *)a3 + 16) = v18;
    *((_WORD *)a3 + 17) = v19;
    *((_BYTE *)a3 + 36) = v20;
    if ( (signed int)*((_BYTE *)a3 + 36) > 32 )
      *((_BYTE *)a3 + 36) = 32;
  }
  if ( !v22 )
  {
    for ( i = 0; i < *((_BYTE *)a3 + 36); ++i )
    {
      v9 = v21 + dword_10F8E1AC * i;
      v22 = sub_10002FC0(v21 + dword_10F8E1AC * i, 9, (int)&v4);
      if ( v22 )
        break;
      *((_WORD *)a3 + 5 * i + 22) = v4;
      *((_WORD *)a3 + 5 * i + 23) = v5;
      *((_WORD *)a3 + 5 * i + 24) = v6;
      *((_WORD *)a3 + 5 * i + 25) = v7;
      *((_BYTE *)a3 + 10 * i + 52) = v8;
    }
  }
  return v22;
}
// 10F8E1A0: using guessed type int dword_10F8E1A0;
// 10F8E1AC: using guessed type int dword_10F8E1AC;

//----- (10070C80) --------------------------------------------------------
int __cdecl sub_10070C80(int a1, void *a2)
{
  __int16 v3; // [sp+0h] [bp-18h]@1
  char v4; // [sp+2h] [bp-16h]@2
  int v5; // [sp+14h] [bp-4h]@1

  v5 = sub_10002FC0(a1, 14, (int)&v3);
  if ( v5 )
  {
    memset(a2, 0, 0x10u);
  }
  else
  {
    *(_WORD *)a2 = v3;
    sub_100710D0((int)a2 + 2, (int)&v4, 13);
  }
  return v5;
}

//----- (10070CF0) --------------------------------------------------------
int __cdecl sub_10070CF0(int a1, void *a2)
{
  signed int v3; // [sp+0h] [bp-18h]@1
  char v4; // [sp+4h] [bp-14h]@1
  char v5; // [sp+8h] [bp-10h]@2
  int v6; // [sp+Ah] [bp-Eh]@2
  int v7; // [sp+Eh] [bp-Ah]@2

  v3 = sub_10002FC0(a1, 14, (int)&v4);
  if ( v3 )
  {
    memset(a2, 0, 0x10u);
  }
  else
  {
    *((_DWORD *)a2 + 2) = v6;
    *((_DWORD *)a2 + 3) = v7;
    sub_100710D0((int)a2, (int)&v4, 5);
    sub_100710D0((int)a2 + 5, (int)&v5, 3);
  }
  return v3;
}

//----- (10070D80) --------------------------------------------------------
int __cdecl sub_10070D80(int a1, int a2, int a3, int *a4)
{
  unsigned int v5; // [sp+0h] [bp-84h]@3
  unsigned __int8 v6; // [sp+4h] [bp-80h]@1
  char v7; // [sp+5h] [bp-7Fh]@3
  unsigned __int8 v8; // [sp+6h] [bp-7Eh]@3
  char v9; // [sp+7h] [bp-7Dh]@3
  int v10; // [sp+13h] [bp-71h]@3
  char v11; // [sp+17h] [bp-6Dh]@3
  unsigned __int8 v12; // [sp+1Dh] [bp-67h]@3
  char v13; // [sp+1Eh] [bp-66h]@3
  char v14; // [sp+1Fh] [bp-65h]@3
  int v15; // [sp+20h] [bp-64h]@1
  int v16; // [sp+24h] [bp-60h]@1
  int v17; // [sp+28h] [bp-5Ch]@17
  __int16 v18; // [sp+2Ch] [bp-58h]@17
  __int16 v19; // [sp+2Eh] [bp-56h]@17
  int v20; // [sp+30h] [bp-54h]@17
  int v21; // [sp+34h] [bp-50h]@17
  __int16 v22; // [sp+38h] [bp-4Ch]@17
  char v23; // [sp+3Ah] [bp-4Ah]@17
  __int16 v24; // [sp+3Bh] [bp-49h]@17
  __int16 v25; // [sp+3Dh] [bp-47h]@17
  char v26; // [sp+3Fh] [bp-45h]@17
  int v27; // [sp+40h] [bp-44h]@17
  char v28; // [sp+44h] [bp-40h]@1
  char v29; // [sp+50h] [bp-34h]@1
  int v30; // [sp+8Ch] [bp+8h]@3
  int v31; // [sp+8Ch] [bp+8h]@5

  memset(&v6, 0, 0x1Cu);
  memset(&v29, 0, 0x2Du);
  memset(&v28, 0, 0xCu);
  memset(&v16, 0, 0x20u);
  *a4 = -1;
  v15 = sub_10002FC0(a1, 28, (int)&v6);
  if ( v15 )
    return v15;
  *(_WORD *)a3 = v6;
  *(_BYTE *)(a3 + 2) = v7;
  *(_WORD *)(a3 + 4) = v8;
  *(_DWORD *)(a3 + 28) = v10;
  sub_100710D0(a3 + 6, (int)&v9, 13);
  sub_100710D0(a3 + 19, (int)&v11, 7);
  *(_WORD *)(a3 + 32) = v12;
  *(_BYTE *)(a3 + 35) = v14;
  *(_BYTE *)(a3 + 34) = v13;
  v30 = a1 + 28;
  v5 = *(_WORD *)(a3 + 32);
  if ( v5 > 0x2D )
    v5 = 45;
  v15 = sub_10002FC0(v30, v5, (int)&v29);
  v31 = v30 + *(_WORD *)(a3 + 32);
  if ( v15 )
    return v15;
  memcpy((void *)(a3 + 36), &v29, v5);
  *(_BYTE *)(v5 + a3 + 36) = 0;
  if ( *(_BYTE *)(a3 + 34) & 1 )
  {
    v15 = sub_10002FC0(v31, 12, (int)&v28);
    if ( v15 )
      return v15;
    sub_100710D0(a3 + 82, (int)&v28, 13);
    v31 += dword_10F8E194;
  }
  else
  {
    *(_BYTE *)(a3 + 82) = 0;
  }
  if ( (signed int)*(_BYTE *)(a3 + 35) > 0 )
  {
    if ( (signed int)*(_BYTE *)(a3 + 35) > 1 )
      a2 += dword_10F8E1A0 * (*(_BYTE *)(a3 + 35) - 1);
    v15 = sub_10002FC0(a2, 32, (int)&v16);
    if ( v15 )
      return v15;
    *(_DWORD *)(a3 + 96) = v16;
    *(_DWORD *)(a3 + 100) = v17;
    *(_WORD *)(a3 + 104) = v18;
    *(_WORD *)(a3 + 106) = v19;
    *(_DWORD *)(a3 + 108) = v20;
    *(_DWORD *)(a3 + 112) = v21;
    *(_BYTE *)(a3 + 126) = v23;
    *(_WORD *)(a3 + 124) = v22;
    *(_WORD *)(a3 + 128) = v24;
    *(_WORD *)(a3 + 130) = v25;
    *(_BYTE *)(a3 + 132) = v26;
    *(_DWORD *)(a3 + 136) = v27;
  }
  *a4 = v31;
  return 0;
}
// 10F8E194: using guessed type int dword_10F8E194;
// 10F8E1A0: using guessed type int dword_10F8E1A0;

//----- (10071040) --------------------------------------------------------
signed int __cdecl sub_10071040(int a1, int a2, int *a3, signed int a4)
{
  signed int result; // eax@2
  int v5; // [sp+0h] [bp-4h]@5

  if ( a4 < *(_WORD *)(a1 + 16) )
  {
    if ( a4 < *(_WORD *)(a1 + 36) )
      sub_100712E0(a1);
    do
    {
      v5 = sub_10070D80(*(_DWORD *)(a1 + 40), *(_DWORD *)(a1 + 12), a2, a3);
      if ( !v5 )
      {
        ++*(_WORD *)(a1 + 36);
        *(_DWORD *)(a1 + 40) = *a3;
      }
    }
    while ( *(_WORD *)(a1 + 36) != a4 + 1 && !v5 );
    result = v5;
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (100710D0) --------------------------------------------------------
int __cdecl sub_100710D0(int a1, int a2, int a3)
{
  int result; // eax@3
  int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < a3 - 1; ++i )
  {
    result = *(_BYTE *)(i + a2);
    if ( !*(_BYTE *)(i + a2) )
      break;
    *(_BYTE *)(i + a1) = *(_BYTE *)(i + a2);
    result = i + 1;
  }
  *(_BYTE *)(i + a1) = 0;
  return result;
}

//----- (10071120) --------------------------------------------------------
int __cdecl sub_10071120(char *a1, void *a2)
{
  signed int v3; // [sp+0h] [bp-44h]@1
  char v4; // [sp+4h] [bp-40h]@6
  char v5; // [sp+1Bh] [bp-29h]@1
  unsigned int v6; // [sp+1Ch] [bp-28h]@2
  unsigned int v7; // [sp+20h] [bp-24h]@2
  int v8; // [sp+24h] [bp-20h]@2
  unsigned int v9; // [sp+28h] [bp-1Ch]@1
  int v10; // [sp+2Ch] [bp-18h]@1
  int v11; // [sp+30h] [bp-14h]@1
  int v12; // [sp+34h] [bp-10h]@1
  int v13; // [sp+38h] [bp-Ch]@6
  unsigned int v14; // [sp+3Ch] [bp-8h]@1
  int v15; // [sp+40h] [bp-4h]@6

  v5 = 0;
  v3 = -1;
  v10 = dword_10F8E178;
  v11 = dword_10F8E17C;
  v12 = dword_10F8E180;
  v14 = 0;
  v9 = dword_10F8E180 - 1;
  if ( (unsigned int)dword_10F8E174 >= 2 )
  {
    v7 = 0;
    v8 = -1;
    v6 = v12 - 1;
    do
    {
      v6 = (v9 - v14) >> 2;
      if ( !v6 )
        v6 = 1;
      v7 = v14;
      while ( 1 )
      {
        v13 = v10 + v11 * v7;
        v15 = sub_10070CF0(v10 + v11 * v7, &v4);
        if ( v15 )
          break;
        v8 = strcmp(a1, &v4);
        if ( v8 <= 0 )
        {
          if ( v8 >= 0 )
          {
            memcpy(a2, &v4, 0x10u);
            v3 = 0;
            v5 = 1;
          }
          else
          {
            if ( v7 == v14 )
              v5 = 1;
            v9 = v7 - 1;
          }
          break;
        }
        if ( v7 == v9 )
        {
          v5 = 1;
          break;
        }
        v14 = v7 + 1;
        v7 += v6;
        if ( v7 >= v9 )
          v7 = v9;
      }
    }
    while ( !v5 );
  }
  return v3;
}
// 10F8E174: using guessed type int dword_10F8E174;
// 10F8E178: using guessed type int dword_10F8E178;
// 10F8E17C: using guessed type int dword_10F8E17C;
// 10F8E180: using guessed type int dword_10F8E180;

//----- (10071290) --------------------------------------------------------
int __cdecl sub_10071290(int a1)
{
  int v1; // ST08_4@1

  v1 = sub_10070C80(*(_DWORD *)(a1 + 8), (void *)(a1 + 16));
  *(_DWORD *)(a1 + 32) = dword_10F8E188 + *(_DWORD *)(a1 + 8);
  sub_100712E0(a1);
  return v1;
}
// 10F8E188: using guessed type int dword_10F8E188;

//----- (100712E0) --------------------------------------------------------
int __cdecl sub_100712E0(int a1)
{
  int result; // eax@1

  *(_WORD *)(a1 + 36) = 0;
  result = *(_DWORD *)(a1 + 32);
  *(_DWORD *)(a1 + 40) = result;
  return result;
}

//----- (100715D8) --------------------------------------------------------
void __cdecl sub_100715D8(char a1)
{
  int v1; // ecx@0

  if ( v1 != dword_100F0050 )
    __report_gsfailure(a1);
}
// 10076776: using guessed type _DWORD __cdecl __report_gsfailure(char);
// 100F0050: using guessed type int dword_100F0050;

//----- (100725FA) --------------------------------------------------------
void __thiscall sub_100725FA(int this)
{
  *(_DWORD *)this = &off_100DF7C8;
  sub_1007A32B(this);
}
// 100DF7C8: using guessed type int (__thiscall *off_100DF7C8)(void *, char);

//----- (10072605) --------------------------------------------------------
void *__thiscall sub_10072605(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_100DF7C8;
  sub_1007A32B((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 100DF7C8: using guessed type int (__thiscall *off_100DF7C8)(void *, char);

//----- (10072627) --------------------------------------------------------
std::exception *__thiscall sub_10072627(std::exception *this, struct std::exception *a2)
{
  std::exception *v2; // esi@1

  v2 = this;
  std::exception::exception(this, a2);
  *(_DWORD *)v2 = &off_100DF7C8;
  return v2;
}
// 100DF7C8: using guessed type int (__thiscall *off_100DF7C8)(void *, char);

//----- (1007439A) --------------------------------------------------------
int __thiscall sub_1007439A(void *this)
{
  return _cintrindisp2(this, &unk_100F0D00);
}
// 1007E220: using guessed type int __fastcall _cintrindisp2(_DWORD, _DWORD);

//----- (10078902) --------------------------------------------------------
int __cdecl sub_10078902(int a1)
{
  int result; // eax@1

  result = a1;
  dword_10E8206C = a1;
  return result;
}
// 10E8206C: using guessed type int dword_10E8206C;

//----- (10079195) --------------------------------------------------------
signed int __cdecl sub_10079195(_DWORD *a1)
{
  signed int result; // eax@2

  if ( a1 && dword_10E82074 )
  {
    *a1 = dword_10E82074;
    result = 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 22;
  }
  return result;
}
// 10078A08: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10E82074: using guessed type int dword_10E82074;

//----- (100791CC) --------------------------------------------------------
signed int __cdecl sub_100791CC(_DWORD *a1)
{
  signed int result; // eax@2

  if ( a1 && dword_10E82074 )
  {
    *a1 = dword_10E82080;
    result = 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 22;
  }
  return result;
}
// 10078A08: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10E82074: using guessed type int dword_10E82074;
// 10E82080: using guessed type int dword_10E82080;

//----- (1007979D) --------------------------------------------------------
void sub_1007979D()
{
  void **v0; // esi@1
  void *v1; // edi@2
  unsigned int i; // eax@3

  v0 = (void **)dword_10F8F220;
  do
  {
    v1 = *v0;
    if ( *v0 )
    {
      for ( i = (unsigned int)v1 + 2048; (unsigned int)v1 < i; i = (unsigned int)*v0 + 2048 )
      {
        if ( *((_DWORD *)v1 + 2) )
          DeleteCriticalSection((LPCRITICAL_SECTION)((char *)v1 + 12));
        v1 = (char *)v1 + 64;
      }
      free(*v0);
      *v0 = 0;
    }
    ++v0;
  }
  while ( (signed int)v0 < (signed int)&dword_10F8F320 );
}
// 10F8F220: using guessed type int dword_10F8F220[];
// 10F8F320: using guessed type int dword_10F8F320;

//----- (10079C4A) --------------------------------------------------------
int (*sub_10079C4A())(void)
{
  int (*result)(void); // eax@1
  int (**v1)(void); // esi@1

  result = (int (*)(void))&unk_100EDCEC;
  v1 = (int (**)(void))&unk_100EDCEC;
  if ( &unk_100EDCEC < &unk_100EDCEC )
  {
    do
    {
      result = *v1;
      if ( *v1 )
        result = (int (*)(void))result();
      ++v1;
    }
    while ( v1 < (int (**)(void))&unk_100EDCEC );
  }
  return result;
}

//----- (10079C6E) --------------------------------------------------------
void __cdecl sub_10079C6E()
{
  void (**v0)(void); // esi@1

  v0 = (void (**)(void))&unk_100EDCF4;
  if ( &unk_100EDCF4 < &unk_100EDCF4 )
  {
    do
    {
      if ( *v0 )
        (*v0)();
      ++v0;
    }
    while ( v0 < (void (**)(void))&unk_100EDCF4 );
  }
}

//----- (1007A32B) --------------------------------------------------------
void __thiscall sub_1007A32B(int this)
{
  bool v1; // zf@1

  v1 = *(_DWORD *)(this + 8) == 0;
  *(_DWORD *)this = &off_100DFA30;
  if ( !v1 )
    free(*(void **)(this + 4));
}
// 100DFA30: using guessed type int (__thiscall *off_100DFA30)(void *, char);

//----- (1007A34E) --------------------------------------------------------
void *__thiscall sub_1007A34E(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_1007A32B((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (1007A36A) --------------------------------------------------------
void __thiscall sub_1007A36A(struct type_info *this)
{
  *(_DWORD *)this = &off_100DFA50;
  type_info::_Type_info_dtor(this);
}
// 100DFA50: using guessed type int (__thiscall *off_100DFA50)(void *, char);

//----- (1007A378) --------------------------------------------------------
void *__thiscall sub_1007A378(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_1007A36A((struct type_info *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (1007A4C1) --------------------------------------------------------
int __cdecl sub_1007A4C1(int a1)
{
  int result; // eax@1

  result = a1;
  dword_10E821D0 = a1;
  return result;
}
// 10E821D0: using guessed type int dword_10E821D0;

//----- (1007A537) --------------------------------------------------------
void __thiscall sub_1007A537(int this)
{
  *(_DWORD *)this = &off_100DFA7C;
  sub_1007A32B(this);
}
// 100DFA7C: using guessed type int (__thiscall *off_100DFA7C)(void *, char);

//----- (1007A542) --------------------------------------------------------
void *__thiscall sub_1007A542(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_100DFA7C;
  sub_1007A32B((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 100DFA7C: using guessed type int (__thiscall *off_100DFA7C)(void *, char);

//----- (1007B0C5) --------------------------------------------------------
std::exception *__thiscall sub_1007B0C5(std::exception *this, struct std::exception *a2)
{
  std::exception *v2; // esi@1

  v2 = this;
  std::exception::exception(this, a2);
  *(_DWORD *)v2 = &off_100DFA7C;
  return v2;
}
// 100DFA7C: using guessed type int (__thiscall *off_100DFA7C)(void *, char);

//----- (1007B596) --------------------------------------------------------
int __cdecl sub_1007B596(int a1)
{
  int result; // eax@1

  result = a1;
  dword_10E824F4 = a1;
  return result;
}
// 10E824F4: using guessed type int dword_10E824F4;

//----- (1007D3C0) --------------------------------------------------------
int __cdecl sub_1007D3C0(int a1, FILE *a2)
{
  FILE *v2; // esi@1
  int v3; // eax@1
  unsigned int v5; // eax@9
  int v6; // eax@15
  char *v7; // edi@15
  signed __int32 v8; // edi@15
  _BYTE *v9; // eax@20
  __int64 v10; // rax@23
  _WORD *v11; // [sp+4h] [bp-4h]@9

  v2 = a2;
  a2 = (FILE *)_fileno(a2);
  v3 = v2->_flag;
  if ( !(v3 & 0x82) )
  {
    *_errno() = 9;
LABEL_3:
    v2->_flag |= 0x20u;
    return -1;
  }
  if ( v3 & 0x40 )
  {
    *_errno() = 34;
    goto LABEL_3;
  }
  if ( v3 & 1 )
  {
    v2->_cnt = 0;
    if ( !(v3 & 0x10) )
    {
      v2->_flag = v3 | 0x20;
      return -1;
    }
    v2->_ptr = v2->_base;
    v2->_flag = v3 & 0xFFFFFFFE;
  }
  v5 = v2->_flag & 0xFFFFFFEF | 2;
  v2->_flag = v5;
  v2->_cnt = 0;
  v11 = 0;
  if ( !(v5 & 0x10C)
    && ((void **)v2 != sub_100843C5() + 8 && (void **)v2 != sub_100843C5() + 16 || !sub_10084367((signed int)a2)) )
  {
    _getbuf(v2);
  }
  if ( v2->_flag & 0x108 )
  {
    v6 = (int)v2->_base;
    v7 = v2->_ptr;
    v2->_ptr = (char *)(v6 + 1);
    v8 = (signed __int32)&v7[-v6];
    v2->_cnt = v2->_bufsiz - 1;
    if ( v8 <= 0 )
    {
      if ( a2 == (FILE *)-1 || a2 == (FILE *)-2 )
        v9 = &unk_100F0998;
      else
        v9 = (_BYTE *)(dword_10F8F220[(signed int)a2 >> 5] + (((unsigned __int8)a2 & 0x1F) << 6));
      if ( v9[4] & 0x20 )
      {
        v10 = _lseeki64((int)a2, 0i64, 2);
        if ( (HIDWORD(v10) & (unsigned int)v10) == -1 )
          goto LABEL_27;
      }
    }
    else
    {
      v11 = sub_10084247((int)a2, v6, v8);
    }
    *v2->_base = a1;
  }
  else
  {
    v8 = 1;
    v11 = sub_10084247((int)a2, (int)&a1, 1u);
  }
  if ( v11 != (_WORD *)v8 )
  {
LABEL_27:
    v2->_flag |= 0x20u;
    return -1;
  }
  return (unsigned __int8)a1;
}
// 10084323: using guessed type _DWORD __cdecl _getbuf(_DWORD);
// 10F8F220: using guessed type int dword_10F8F220[];

//----- (1007F2E4) --------------------------------------------------------
#error "1007F2E9: positive sp value has been found (funcsize=0)"

//----- (1007F2EF) --------------------------------------------------------
#error "1007F2F4: positive sp value has been found (funcsize=0)"

//----- (1007F2FA) --------------------------------------------------------
#error "1007F2FF: positive sp value has been found (funcsize=0)"

//----- (1007F300) --------------------------------------------------------
#error "1007F305: positive sp value has been found (funcsize=0)"

//----- (1007F306) --------------------------------------------------------
#error "1007F30B: positive sp value has been found (funcsize=0)"

//----- (1007F30C) --------------------------------------------------------
#error "1007F311: positive sp value has been found (funcsize=0)"

//----- (1007F312) --------------------------------------------------------
#error "1007F32D: positive sp value has been found (funcsize=0)"

//----- (1007F333) --------------------------------------------------------
#error "1007F348: positive sp value has been found (funcsize=0)"

//----- (1007F34E) --------------------------------------------------------
#error "1007F369: positive sp value has been found (funcsize=0)"

//----- (1007F36A) --------------------------------------------------------
#error "1007F379: positive sp value has been found (funcsize=0)"

//----- (1007F37A) --------------------------------------------------------
#error "1007F38D: positive sp value has been found (funcsize=0)"

//----- (1007F38E) --------------------------------------------------------
#error "1007F39D: positive sp value has been found (funcsize=0)"

//----- (1007F39E) --------------------------------------------------------
#error "1007F3BD: positive sp value has been found (funcsize=0)"

//----- (1007F3C3) --------------------------------------------------------
#error "1007F3DC: positive sp value has been found (funcsize=0)"

//----- (1007F3E2) --------------------------------------------------------
#error "1007F401: positive sp value has been found (funcsize=0)"

//----- (1007F402) --------------------------------------------------------
#error "1007F415: positive sp value has been found (funcsize=0)"

//----- (1007F416) --------------------------------------------------------
#error "1007F42D: positive sp value has been found (funcsize=0)"

//----- (1007F42E) --------------------------------------------------------
#error "1007F441: positive sp value has been found (funcsize=0)"

//----- (1007F442) --------------------------------------------------------
#error "1007F461: positive sp value has been found (funcsize=0)"

//----- (1007F467) --------------------------------------------------------
#error "1007F480: positive sp value has been found (funcsize=0)"

//----- (1007F486) --------------------------------------------------------
#error "1007F4A5: positive sp value has been found (funcsize=0)"

//----- (1007F4A6) --------------------------------------------------------
#error "1007F4B9: positive sp value has been found (funcsize=0)"

//----- (1007F4BA) --------------------------------------------------------
#error "1007F4D1: positive sp value has been found (funcsize=0)"

//----- (1007F4D2) --------------------------------------------------------
#error "1007F4E5: positive sp value has been found (funcsize=0)"

//----- (1007F4E6) --------------------------------------------------------
#error "1007F505: positive sp value has been found (funcsize=0)"

//----- (1007F50B) --------------------------------------------------------
#error "1007F524: positive sp value has been found (funcsize=0)"

//----- (1007F52A) --------------------------------------------------------
#error "1007F549: positive sp value has been found (funcsize=0)"

//----- (1007F54A) --------------------------------------------------------
#error "1007F55D: positive sp value has been found (funcsize=0)"

//----- (1007F55E) --------------------------------------------------------
#error "1007F575: positive sp value has been found (funcsize=0)"

//----- (1007F576) --------------------------------------------------------
#error "1007F589: positive sp value has been found (funcsize=0)"

//----- (1007F58A) --------------------------------------------------------
#error "1007F5A9: positive sp value has been found (funcsize=0)"

//----- (1007F5AF) --------------------------------------------------------
#error "1007F5C8: positive sp value has been found (funcsize=0)"

//----- (1007F5CE) --------------------------------------------------------
#error "1007F5ED: positive sp value has been found (funcsize=0)"

//----- (1007F5EE) --------------------------------------------------------
#error "1007F601: positive sp value has been found (funcsize=0)"

//----- (1007F602) --------------------------------------------------------
#error "1007F619: positive sp value has been found (funcsize=0)"

//----- (1007F61A) --------------------------------------------------------
#error "1007F62D: positive sp value has been found (funcsize=0)"

//----- (1007F62E) --------------------------------------------------------
#error "1007F64D: positive sp value has been found (funcsize=0)"

//----- (1007F653) --------------------------------------------------------
#error "1007F66C: positive sp value has been found (funcsize=0)"

//----- (1007F672) --------------------------------------------------------
#error "1007F691: positive sp value has been found (funcsize=0)"

//----- (1007F692) --------------------------------------------------------
#error "1007F6A5: positive sp value has been found (funcsize=0)"

//----- (1007F6A6) --------------------------------------------------------
#error "1007F6BD: positive sp value has been found (funcsize=0)"

//----- (1007F6BE) --------------------------------------------------------
#error "1007F6D1: positive sp value has been found (funcsize=0)"

//----- (1007F6D2) --------------------------------------------------------
#error "1007F6F1: positive sp value has been found (funcsize=0)"

//----- (1007F6F7) --------------------------------------------------------
#error "1007F710: positive sp value has been found (funcsize=0)"

//----- (1007F716) --------------------------------------------------------
#error "1007F735: positive sp value has been found (funcsize=0)"

//----- (1007F736) --------------------------------------------------------
#error "1007F749: positive sp value has been found (funcsize=0)"

//----- (1007F74A) --------------------------------------------------------
#error "1007F761: positive sp value has been found (funcsize=0)"

//----- (1007F762) --------------------------------------------------------
#error "1007F775: positive sp value has been found (funcsize=0)"

//----- (1007FF4B) --------------------------------------------------------
int __cdecl sub_1007FF4B(int a1, int a2, struct localeinfo_struct *a3)
{
  signed int v3; // eax@1
  char v6; // [sp+Ch] [bp-28h]@1
  char v7; // [sp+10h] [bp-24h]@1
  int v8; // [sp+18h] [bp-1Ch]@4
  char v9; // [sp+1Ch] [bp-18h]@3
  int v10; // [sp+20h] [bp-14h]@1
  char v11; // [sp+24h] [bp-10h]@1

  _LocaleUpdate::_LocaleUpdate((_LocaleUpdate *)&v7, a3);
  v10 = __strgtold12_l(&v11, &v6, a2, 0, 0, 0, 0, &v7);
  v3 = sub_100817E5((int)&v11, a1);
  if ( v10 & 3 )
  {
    if ( v10 & 1 )
      goto LABEL_8;
    if ( v10 & 2 )
      goto LABEL_3;
  }
  else
  {
    if ( v3 == 1 )
    {
LABEL_3:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
      return 3;
    }
    if ( v3 == 2 )
    {
LABEL_8:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
      return 4;
    }
  }
  if ( v9 )
    *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
  return 0;
}
// 10078A2C: using guessed type _DWORD __cdecl __strgtold12_l(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (1007FFF1) --------------------------------------------------------
int __cdecl sub_1007FFF1(int a1, int a2, struct localeinfo_struct *a3)
{
  signed int v3; // eax@1
  char v6; // [sp+Ch] [bp-28h]@1
  char v7; // [sp+10h] [bp-24h]@1
  int v8; // [sp+18h] [bp-1Ch]@4
  char v9; // [sp+1Ch] [bp-18h]@3
  int v10; // [sp+20h] [bp-14h]@1
  char v11; // [sp+24h] [bp-10h]@1

  _LocaleUpdate::_LocaleUpdate((_LocaleUpdate *)&v7, a3);
  v10 = __strgtold12_l(&v11, &v6, a2, 0, 0, 0, 0, &v7);
  v3 = sub_10081D27((int)&v11, a1);
  if ( v10 & 3 )
  {
    if ( v10 & 1 )
      goto LABEL_8;
    if ( v10 & 2 )
      goto LABEL_3;
  }
  else
  {
    if ( v3 == 1 )
    {
LABEL_3:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
      return 3;
    }
    if ( v3 == 2 )
    {
LABEL_8:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
      return 4;
    }
  }
  if ( v9 )
    *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
  return 0;
}
// 10078A2C: using guessed type _DWORD __cdecl __strgtold12_l(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (10080512) --------------------------------------------------------
int sub_10080512()
{
  dword_10F8F33C = _get_sse2_info();
  return 0;
}
// 100804B2: using guessed type int _get_sse2_info(void);
// 10F8F33C: using guessed type int dword_10F8F33C;

//----- (1008051F) --------------------------------------------------------
void sub_1008051F()
{
  dword_10F8F1FC = 0;
}
// 10F8F1FC: using guessed type int dword_10F8F1FC;

//----- (10080E1C) --------------------------------------------------------
int sub_10080E1C()
{
  return 0;
}

//----- (100817E5) --------------------------------------------------------
signed int __cdecl sub_100817E5(int a1, int a2)
{
  __int16 v2; // bx@1
  int v3; // ebx@1
  int v4; // eax@1
  int v5; // ebx@2
  int v6; // eax@2
  signed int result; // eax@5
  signed int v8; // esi@7
  int v9; // edx@7
  int *v10; // edi@7
  int v11; // eax@8
  bool i; // zf@8
  int v13; // eax@13
  unsigned int v14; // edx@13
  int *v15; // ecx@13
  bool v16; // cf@14
  int v17; // eax@29
  int v18; // edx@29
  int *v19; // ebx@30
  unsigned int v20; // esi@30
  char v21; // cl@30
  signed int v22; // edx@31
  int *v23; // ecx@31
  signed int v24; // esi@36
  int v25; // eax@36
  int *v26; // ebx@36
  bool j; // zf@37
  int v28; // eax@42
  unsigned int v29; // edx@42
  int *v30; // ecx@42
  unsigned int v31; // edi@42
  signed int k; // ecx@45
  int *v33; // ecx@47
  unsigned int v34; // esi@47
  signed int v35; // edi@47
  int v36; // eax@54
  int v37; // edx@54
  int *v38; // ebx@55
  unsigned int v39; // esi@55
  char v40; // cl@55
  signed int v41; // edx@56
  int *v42; // ecx@56
  int v43; // eax@63
  int v44; // edx@63
  int *v45; // ebx@64
  unsigned int v46; // esi@64
  char v47; // cl@64
  signed int v48; // edx@65
  int *v49; // ecx@65
  int v50; // eax@71
  int v51; // edx@71
  unsigned int v52; // edi@72
  signed int v53; // edx@73
  int *v54; // ecx@73
  int v55; // ebx@79
  int v56; // edx@80
  unsigned int v57; // [sp+8h] [bp-2Ch]@7
  int v58; // [sp+Ch] [bp-28h]@7
  int v59; // [sp+10h] [bp-24h]@7
  unsigned int v60; // [sp+14h] [bp-20h]@1
  int v61; // [sp+18h] [bp-1Ch]@1
  int v62; // [sp+1Ch] [bp-18h]@1
  int v63; // [sp+20h] [bp-14h]@1
  int v64; // [sp+24h] [bp-10h]@7
  int v65; // [sp+28h] [bp-Ch]@7
  int v66; // [sp+2Ch] [bp-8h]@7
  int v67; // [sp+30h] [bp-4h]@13
  int v68; // [sp+3Ch] [bp+8h]@7
  unsigned int v69; // [sp+3Ch] [bp+8h]@13
  signed int v70; // [sp+3Ch] [bp+8h]@29
  signed int v71; // [sp+3Ch] [bp+8h]@42
  signed int v72; // [sp+3Ch] [bp+8h]@54
  signed int v73; // [sp+3Ch] [bp+8h]@63
  signed int v74; // [sp+3Ch] [bp+8h]@71

  v2 = *(_WORD *)(a1 + 10);
  v63 = *(_WORD *)(a1 + 10) & 0x8000;
  v60 = *(_DWORD *)(a1 + 6);
  v3 = (v2 & 0x7FFF) - 0x3FFF;
  v4 = *(_WORD *)a1 << 16;
  v61 = *(_DWORD *)(a1 + 2);
  v62 = v4;
  if ( v3 != -16383 )
  {
    v68 = 0;
    v57 = v60;
    v58 = v61;
    v59 = v62;
    v8 = dword_100F1108 - 1;
    v64 = v3;
    v65 = dword_100F1108 / 32;
    v9 = dword_100F1108 % 32;
    v10 = (int *)(&v60 + dword_100F1108 / 32);
    v66 = 31 - dword_100F1108 % 32;
    if ( (1 << (31 - dword_100F1108 % 32)) & *v10 )
    {
      v11 = v65;
      for ( i = (~(-1 << (31 - v9)) & *(&v60 + v65)) == 0; i; i = *(&v60 + v11) == 0 )
      {
        if ( ++v11 >= 3 )
          goto LABEL_22;
      }
      v13 = v8 / 32;
      v67 = 0;
      v14 = 1 << (31 - v8 % 32);
      v15 = (int *)(&v60 + v8 / 32);
      v69 = v14 + *v15;
      if ( v69 >= *v15 )
      {
        v16 = v69 < v14;
        goto LABEL_18;
      }
LABEL_19:
      v67 = 1;
      while ( 1 )
      {
        --v13;
        *v15 = v69;
        if ( v13 < 0 || !v67 )
          break;
        v67 = 0;
        v15 = (int *)(&v60 + v13);
        v69 = *v15 + 1;
        if ( v69 >= *v15 )
        {
          v16 = (unsigned int)*v15 >= 0xFFFFFFFF;
LABEL_18:
          if ( !v16 )
            continue;
        }
        goto LABEL_19;
      }
      v68 = v67;
    }
LABEL_22:
    *v10 &= -1 << v66;
    if ( v65 + 1 < 3 )
      memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
    if ( v68 )
      ++v3;
    if ( v3 >= dword_100F1104 - dword_100F1108 )
    {
      if ( v3 > dword_100F1104 )
      {
        if ( v3 < dword_100F1100 )
        {
          v60 &= 0x7FFFFFFFu;
          v5 = dword_100F1114 + v3;
          v50 = dword_100F110C / 32;
          v51 = dword_100F110C % 32;
          v65 = 0;
          v74 = 0;
          v67 = 32 - dword_100F110C % 32;
          do
          {
            v52 = *(&v60 + v74);
            v64 = ~(-1 << v51) & *(&v60 + v74);
            *(&v60 + v74++) = v65 | (v52 >> v51);
            v65 = v64 << v67;
          }
          while ( v74 < 3 );
          v53 = 2;
          v54 = &v62 - v50;
          do
          {
            if ( v53 < v50 )
              *(&v60 + v53) = 0;
            else
              *(&v60 + v53) = *v54;
            --v53;
            --v54;
          }
          while ( v53 >= 0 );
          result = 0;
        }
        else
        {
          v61 = 0;
          v62 = 0;
          v60 = 2147483648;
          v43 = dword_100F110C / 32;
          v44 = dword_100F110C % 32;
          v65 = 0;
          v73 = 0;
          v67 = 32 - dword_100F110C % 32;
          do
          {
            v45 = (int *)(&v60 + v73);
            v46 = *v45;
            v64 = ~(-1 << v44) & *v45;
            v47 = v67;
            *v45 = v65 | (v46 >> v44);
            ++v73;
            v65 = v64 << v47;
          }
          while ( v73 < 3 );
          v48 = 2;
          v49 = &v62 - v43;
          do
          {
            if ( v48 < v43 )
              *(&v60 + v48) = 0;
            else
              *(&v60 + v48) = *v49;
            --v48;
            --v49;
          }
          while ( v48 >= 0 );
          v5 = dword_100F1114 + dword_100F1100;
          result = 1;
        }
        goto LABEL_79;
      }
      v60 = v57;
      v61 = v58;
      v17 = (dword_100F1104 - v64) / 32;
      v62 = v59;
      v18 = (dword_100F1104 - v64) % 32;
      v65 = 0;
      v70 = 0;
      v67 = 32 - v18;
      do
      {
        v19 = (int *)(&v60 + v70);
        v20 = *v19;
        v64 = ~(-1 << v18) & *v19;
        v21 = v67;
        *v19 = v65 | (v20 >> v18);
        ++v70;
        v65 = v64 << v21;
      }
      while ( v70 < 3 );
      v22 = 2;
      v23 = &v62 - v17;
      do
      {
        if ( v22 < v17 )
          *(&v60 + v22) = 0;
        else
          *(&v60 + v22) = *v23;
        --v22;
        --v23;
      }
      while ( v22 >= 0 );
      v24 = dword_100F1108 - 1;
      v25 = dword_100F1108 / 32;
      v65 = dword_100F1108 / 32;
      v26 = (int *)(&v60 + dword_100F1108 / 32);
      v64 = 31 - dword_100F1108 % 32;
      if ( (1 << (31 - dword_100F1108 % 32)) & *v26 )
      {
        for ( j = (~(-1 << (31 - dword_100F1108 % 32)) & *(&v60 + v25)) == 0; j; j = *(&v60 + v25) == 0 )
        {
          if ( ++v25 >= 3 )
            goto LABEL_52;
        }
        v28 = v24 / 32;
        v71 = 0;
        v29 = 1 << (31 - v24 % 32);
        v30 = (int *)(&v60 + v24 / 32);
        v31 = *v30 + v29;
        if ( v31 < *v30 || v31 < v29 )
          v71 = 1;
        *v30 = v31;
        for ( k = v71; --v28 >= 0 && k; k = v35 )
        {
          v33 = (int *)(&v60 + v28);
          v34 = *v33 + 1;
          v35 = 0;
          if ( v34 < *v33 || v34 < 1 )
            v35 = 1;
          *v33 = v34;
        }
      }
LABEL_52:
      *v26 &= -1 << v64;
      if ( v65 + 1 < 3 )
        memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
      v36 = (dword_100F110C + 1) / 32;
      v37 = (dword_100F110C + 1) % 32;
      v65 = 0;
      v72 = 0;
      v67 = 32 - v37;
      do
      {
        v38 = (int *)(&v60 + v72);
        v39 = *v38;
        v64 = ~(-1 << v37) & *v38;
        v40 = v67;
        *v38 = v65 | (v39 >> v37);
        ++v72;
        v65 = v64 << v40;
      }
      while ( v72 < 3 );
      v41 = 2;
      v42 = &v62 - v36;
      do
      {
        if ( v41 < v36 )
          *(&v60 + v41) = 0;
        else
          *(&v60 + v41) = *v42;
        --v41;
        --v42;
      }
      while ( v41 >= 0 );
    }
    else
    {
      v60 = 0;
      v61 = 0;
      v62 = 0;
    }
    v5 = 0;
    result = 2;
    goto LABEL_79;
  }
  v5 = 0;
  v6 = 0;
  while ( !*(&v60 + v6) )
  {
    if ( ++v6 >= 3 )
    {
      result = 0;
      goto LABEL_79;
    }
  }
  v60 = 0;
  v61 = 0;
  v62 = 0;
  result = 2;
LABEL_79:
  v55 = v60 | (v63 != 0 ? 0x80000000 : 0) | (v5 << (31 - dword_100F110C));
  if ( dword_100F1110 == 64 )
  {
    v56 = v61;
    *(_DWORD *)(a2 + 4) = v55;
    *(_DWORD *)a2 = v56;
  }
  else if ( dword_100F1110 == 32 )
  {
    *(_DWORD *)a2 = v55;
  }
  return result;
}
// 100F1100: using guessed type int dword_100F1100;
// 100F1104: using guessed type int dword_100F1104;
// 100F1108: using guessed type int dword_100F1108;
// 100F110C: using guessed type int dword_100F110C;
// 100F1110: using guessed type int dword_100F1110;
// 100F1114: using guessed type int dword_100F1114;

//----- (10081D27) --------------------------------------------------------
signed int __cdecl sub_10081D27(int a1, int a2)
{
  __int16 v2; // bx@1
  int v3; // ebx@1
  int v4; // eax@1
  int v5; // ebx@2
  int v6; // eax@2
  signed int result; // eax@5
  signed int v8; // esi@7
  int v9; // edx@7
  int *v10; // edi@7
  int v11; // eax@8
  bool i; // zf@8
  int v13; // eax@13
  unsigned int v14; // edx@13
  int *v15; // ecx@13
  bool v16; // cf@14
  int v17; // eax@29
  int v18; // edx@29
  int *v19; // ebx@30
  unsigned int v20; // esi@30
  char v21; // cl@30
  signed int v22; // edx@31
  int *v23; // ecx@31
  signed int v24; // esi@36
  int v25; // eax@36
  int *v26; // ebx@36
  bool j; // zf@37
  int v28; // eax@42
  unsigned int v29; // edx@42
  int *v30; // ecx@42
  unsigned int v31; // edi@42
  signed int k; // ecx@45
  int *v33; // ecx@47
  unsigned int v34; // esi@47
  signed int v35; // edi@47
  int v36; // eax@54
  int v37; // edx@54
  int *v38; // ebx@55
  unsigned int v39; // esi@55
  char v40; // cl@55
  signed int v41; // edx@56
  int *v42; // ecx@56
  int v43; // eax@63
  int v44; // edx@63
  int *v45; // ebx@64
  unsigned int v46; // esi@64
  char v47; // cl@64
  signed int v48; // edx@65
  int *v49; // ecx@65
  int v50; // eax@71
  int v51; // edx@71
  unsigned int v52; // edi@72
  signed int v53; // edx@73
  int *v54; // ecx@73
  int v55; // ebx@79
  int v56; // edx@80
  unsigned int v57; // [sp+8h] [bp-2Ch]@7
  int v58; // [sp+Ch] [bp-28h]@7
  int v59; // [sp+10h] [bp-24h]@7
  unsigned int v60; // [sp+14h] [bp-20h]@1
  int v61; // [sp+18h] [bp-1Ch]@1
  int v62; // [sp+1Ch] [bp-18h]@1
  int v63; // [sp+20h] [bp-14h]@1
  int v64; // [sp+24h] [bp-10h]@7
  int v65; // [sp+28h] [bp-Ch]@7
  int v66; // [sp+2Ch] [bp-8h]@7
  int v67; // [sp+30h] [bp-4h]@13
  int v68; // [sp+3Ch] [bp+8h]@7
  unsigned int v69; // [sp+3Ch] [bp+8h]@13
  signed int v70; // [sp+3Ch] [bp+8h]@29
  signed int v71; // [sp+3Ch] [bp+8h]@42
  signed int v72; // [sp+3Ch] [bp+8h]@54
  signed int v73; // [sp+3Ch] [bp+8h]@63
  signed int v74; // [sp+3Ch] [bp+8h]@71

  v2 = *(_WORD *)(a1 + 10);
  v63 = *(_WORD *)(a1 + 10) & 0x8000;
  v60 = *(_DWORD *)(a1 + 6);
  v3 = (v2 & 0x7FFF) - 0x3FFF;
  v4 = *(_WORD *)a1 << 16;
  v61 = *(_DWORD *)(a1 + 2);
  v62 = v4;
  if ( v3 != -16383 )
  {
    v68 = 0;
    v57 = v60;
    v58 = v61;
    v59 = v62;
    v8 = dword_100F1120 - 1;
    v64 = v3;
    v65 = dword_100F1120 / 32;
    v9 = dword_100F1120 % 32;
    v10 = (int *)(&v60 + dword_100F1120 / 32);
    v66 = 31 - dword_100F1120 % 32;
    if ( (1 << (31 - dword_100F1120 % 32)) & *v10 )
    {
      v11 = v65;
      for ( i = (~(-1 << (31 - v9)) & *(&v60 + v65)) == 0; i; i = *(&v60 + v11) == 0 )
      {
        if ( ++v11 >= 3 )
          goto LABEL_22;
      }
      v13 = v8 / 32;
      v67 = 0;
      v14 = 1 << (31 - v8 % 32);
      v15 = (int *)(&v60 + v8 / 32);
      v69 = v14 + *v15;
      if ( v69 >= *v15 )
      {
        v16 = v69 < v14;
        goto LABEL_18;
      }
LABEL_19:
      v67 = 1;
      while ( 1 )
      {
        --v13;
        *v15 = v69;
        if ( v13 < 0 || !v67 )
          break;
        v67 = 0;
        v15 = (int *)(&v60 + v13);
        v69 = *v15 + 1;
        if ( v69 >= *v15 )
        {
          v16 = (unsigned int)*v15 >= 0xFFFFFFFF;
LABEL_18:
          if ( !v16 )
            continue;
        }
        goto LABEL_19;
      }
      v68 = v67;
    }
LABEL_22:
    *v10 &= -1 << v66;
    if ( v65 + 1 < 3 )
      memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
    if ( v68 )
      ++v3;
    if ( v3 >= dword_100F111C - dword_100F1120 )
    {
      if ( v3 > dword_100F111C )
      {
        if ( v3 < dword_100F1118 )
        {
          v60 &= 0x7FFFFFFFu;
          v5 = dword_100F112C + v3;
          v50 = dword_100F1124 / 32;
          v51 = dword_100F1124 % 32;
          v65 = 0;
          v74 = 0;
          v67 = 32 - dword_100F1124 % 32;
          do
          {
            v52 = *(&v60 + v74);
            v64 = ~(-1 << v51) & *(&v60 + v74);
            *(&v60 + v74++) = v65 | (v52 >> v51);
            v65 = v64 << v67;
          }
          while ( v74 < 3 );
          v53 = 2;
          v54 = &v62 - v50;
          do
          {
            if ( v53 < v50 )
              *(&v60 + v53) = 0;
            else
              *(&v60 + v53) = *v54;
            --v53;
            --v54;
          }
          while ( v53 >= 0 );
          result = 0;
        }
        else
        {
          v61 = 0;
          v62 = 0;
          v60 = 2147483648;
          v43 = dword_100F1124 / 32;
          v44 = dword_100F1124 % 32;
          v65 = 0;
          v73 = 0;
          v67 = 32 - dword_100F1124 % 32;
          do
          {
            v45 = (int *)(&v60 + v73);
            v46 = *v45;
            v64 = ~(-1 << v44) & *v45;
            v47 = v67;
            *v45 = v65 | (v46 >> v44);
            ++v73;
            v65 = v64 << v47;
          }
          while ( v73 < 3 );
          v48 = 2;
          v49 = &v62 - v43;
          do
          {
            if ( v48 < v43 )
              *(&v60 + v48) = 0;
            else
              *(&v60 + v48) = *v49;
            --v48;
            --v49;
          }
          while ( v48 >= 0 );
          v5 = dword_100F112C + dword_100F1118;
          result = 1;
        }
        goto LABEL_79;
      }
      v60 = v57;
      v61 = v58;
      v17 = (dword_100F111C - v64) / 32;
      v62 = v59;
      v18 = (dword_100F111C - v64) % 32;
      v65 = 0;
      v70 = 0;
      v67 = 32 - v18;
      do
      {
        v19 = (int *)(&v60 + v70);
        v20 = *v19;
        v64 = ~(-1 << v18) & *v19;
        v21 = v67;
        *v19 = v65 | (v20 >> v18);
        ++v70;
        v65 = v64 << v21;
      }
      while ( v70 < 3 );
      v22 = 2;
      v23 = &v62 - v17;
      do
      {
        if ( v22 < v17 )
          *(&v60 + v22) = 0;
        else
          *(&v60 + v22) = *v23;
        --v22;
        --v23;
      }
      while ( v22 >= 0 );
      v24 = dword_100F1120 - 1;
      v25 = dword_100F1120 / 32;
      v65 = dword_100F1120 / 32;
      v26 = (int *)(&v60 + dword_100F1120 / 32);
      v64 = 31 - dword_100F1120 % 32;
      if ( (1 << (31 - dword_100F1120 % 32)) & *v26 )
      {
        for ( j = (~(-1 << (31 - dword_100F1120 % 32)) & *(&v60 + v25)) == 0; j; j = *(&v60 + v25) == 0 )
        {
          if ( ++v25 >= 3 )
            goto LABEL_52;
        }
        v28 = v24 / 32;
        v71 = 0;
        v29 = 1 << (31 - v24 % 32);
        v30 = (int *)(&v60 + v24 / 32);
        v31 = *v30 + v29;
        if ( v31 < *v30 || v31 < v29 )
          v71 = 1;
        *v30 = v31;
        for ( k = v71; --v28 >= 0 && k; k = v35 )
        {
          v33 = (int *)(&v60 + v28);
          v34 = *v33 + 1;
          v35 = 0;
          if ( v34 < *v33 || v34 < 1 )
            v35 = 1;
          *v33 = v34;
        }
      }
LABEL_52:
      *v26 &= -1 << v64;
      if ( v65 + 1 < 3 )
        memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
      v36 = (dword_100F1124 + 1) / 32;
      v37 = (dword_100F1124 + 1) % 32;
      v65 = 0;
      v72 = 0;
      v67 = 32 - v37;
      do
      {
        v38 = (int *)(&v60 + v72);
        v39 = *v38;
        v64 = ~(-1 << v37) & *v38;
        v40 = v67;
        *v38 = v65 | (v39 >> v37);
        ++v72;
        v65 = v64 << v40;
      }
      while ( v72 < 3 );
      v41 = 2;
      v42 = &v62 - v36;
      do
      {
        if ( v41 < v36 )
          *(&v60 + v41) = 0;
        else
          *(&v60 + v41) = *v42;
        --v41;
        --v42;
      }
      while ( v41 >= 0 );
    }
    else
    {
      v60 = 0;
      v61 = 0;
      v62 = 0;
    }
    v5 = 0;
    result = 2;
    goto LABEL_79;
  }
  v5 = 0;
  v6 = 0;
  while ( !*(&v60 + v6) )
  {
    if ( ++v6 >= 3 )
    {
      result = 0;
      goto LABEL_79;
    }
  }
  v60 = 0;
  v61 = 0;
  v62 = 0;
  result = 2;
LABEL_79:
  v55 = v60 | (v63 != 0 ? 0x80000000 : 0) | (v5 << (31 - dword_100F1124));
  if ( dword_100F1128 == 64 )
  {
    v56 = v61;
    *(_DWORD *)(a2 + 4) = v55;
    *(_DWORD *)a2 = v56;
  }
  else if ( dword_100F1128 == 32 )
  {
    *(_DWORD *)a2 = v55;
  }
  return result;
}
// 100F1118: using guessed type int dword_100F1118;
// 100F111C: using guessed type int dword_100F111C;
// 100F1120: using guessed type int dword_100F1120;
// 100F1124: using guessed type int dword_100F1124;
// 100F1128: using guessed type int dword_100F1128;
// 100F112C: using guessed type int dword_100F112C;

//----- (100825C8) --------------------------------------------------------
int sub_100825C8()
{
  return _decode_pointer(dword_10E8265C);
}
// 100776E2: using guessed type _DWORD __cdecl _decode_pointer(_DWORD);
// 10E8265C: using guessed type int dword_10E8265C;

//----- (10082785) --------------------------------------------------------
int __cdecl sub_10082785(int a1)
{
  int result; // eax@1

  result = a1;
  dword_10E82668 = a1;
  return result;
}
// 10E82668: using guessed type int dword_10E82668;

//----- (1008278F) --------------------------------------------------------
int __cdecl sub_1008278F(int a1)
{
  int result; // eax@1

  result = a1;
  dword_10E8266C = a1;
  return result;
}
// 10E8266C: using guessed type int dword_10E8266C;

//----- (100837F2) --------------------------------------------------------
int __cdecl sub_100837F2(int a1, int a2, int a3)
{
  HMODULE v3; // eax@2
  HMODULE v4; // edi@2
  FARPROC v5; // eax@3
  FARPROC v6; // eax@4
  FARPROC v7; // eax@4
  FARPROC v8; // eax@7
  FARPROC v9; // eax@8
  int (*v10)(void); // esi@11
  int (__stdcall *v11)(int, signed int, char *, signed int, char *); // eax@11
  int (__stdcall *v12)(int, signed int, char *, signed int, char *); // edi@11
  int v13; // eax@13
  int (*v14)(void); // eax@22
  int (__stdcall *v15)(int); // eax@25
  int (__stdcall *v16)(int, int, int, int); // eax@27
  char v18; // [sp+10h] [bp-20h]@14
  char v19; // [sp+18h] [bp-18h]@15
  char v20; // [sp+1Ch] [bp-14h]@14
  unsigned int v21; // [sp+20h] [bp-10h]@1
  int v22; // [sp+24h] [bp-Ch]@1
  int v23; // [sp+28h] [bp-8h]@1
  int v24; // [sp+2Ch] [bp-4h]@1

  v23 = _encoded_null();
  v24 = 0;
  v22 = 0;
  v21 = 0;
  if ( !dword_10E82680 )
  {
    v3 = LoadLibraryA("USER32.DLL");
    v4 = v3;
    if ( !v3 )
      return 0;
    v5 = GetProcAddress(v3, "MessageBoxA");
    if ( !v5 )
      return 0;
    dword_10E82680 = _encode_pointer(v5);
    v6 = GetProcAddress(v4, "GetActiveWindow");
    dword_10E82684 = _encode_pointer(v6);
    v7 = GetProcAddress(v4, "GetLastActivePopup");
    dword_10E82688 = _encode_pointer(v7);
    if ( sub_10079195(&v22) )
      _invoke_watson(0, 0, 0, 0, 0);
    if ( v22 == 2 )
    {
      v8 = GetProcAddress(v4, "GetUserObjectInformationA");
      dword_10E82690 = _encode_pointer(v8);
      if ( dword_10E82690 )
      {
        v9 = GetProcAddress(v4, "GetProcessWindowStation");
        dword_10E8268C = _encode_pointer(v9);
      }
    }
  }
  if ( dword_10E8268C == v23
    || dword_10E82690 == v23
    || (v10 = (int (*)(void))_decode_pointer(dword_10E8268C),
        v11 = (int (__stdcall *)(int, signed int, char *, signed int, char *))_decode_pointer(dword_10E82690),
        v12 = v11,
        !v10)
    || !v11
    || (v13 = v10()) != 0 && v12(v13, 1, &v18, 12, &v20) && v19 & 1 )
  {
    if ( dword_10E82684 != v23 )
    {
      v14 = (int (*)(void))_decode_pointer(dword_10E82684);
      if ( v14 )
      {
        v24 = v14();
        if ( v24 )
        {
          if ( dword_10E82688 != v23 )
          {
            v15 = (int (__stdcall *)(int))_decode_pointer(dword_10E82688);
            if ( v15 )
              v24 = v15(v24);
          }
        }
      }
    }
  }
  else
  {
    if ( sub_100791CC(&v21) )
      _invoke_watson(0, 0, 0, 0, 0);
    if ( v21 < 4 )
      a3 |= 0x40000u;
    else
      a3 |= 0x200000u;
  }
  v16 = (int (__stdcall *)(int, int, int, int))_decode_pointer(dword_10E82680);
  if ( v16 )
    return v16(v24, a1, a2, a3);
  return 0;
}
// 1007766B: using guessed type _DWORD __cdecl _encode_pointer(_DWORD);
// 100776D9: using guessed type int _encoded_null(void);
// 100776E2: using guessed type _DWORD __cdecl _decode_pointer(_DWORD);
// 1007890C: using guessed type int __cdecl _invoke_watson(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10E82680: using guessed type int dword_10E82680;
// 10E82684: using guessed type int dword_10E82684;
// 10E82688: using guessed type int dword_10E82688;
// 10E8268C: using guessed type int dword_10E8268C;
// 10E82690: using guessed type int dword_10E82690;

//----- (10083A89) --------------------------------------------------------
DWORD __cdecl sub_10083A89(int a1, int a2, int a3, DWORD dwMoveMethod)
{
  void *v4; // eax@1
  DWORD v6; // eax@5
  _BYTE *v7; // eax@7
  DWORD lDistanceToMove; // [sp+8h] [bp-8h]@4
  LONG DistanceToMoveHigh; // [sp+Ch] [bp-4h]@1

  DistanceToMoveHigh = a3;
  v4 = (void *)sub_100855C5(a1);
  if ( v4 == (void *)-1 )
  {
    *_errno() = 9;
    return -1;
  }
  lDistanceToMove = SetFilePointer(v4, a2, &DistanceToMoveHigh, dwMoveMethod);
  if ( lDistanceToMove == -1 )
  {
    v6 = GetLastError();
    if ( v6 )
    {
      _dosmaperr(v6);
      return -1;
    }
  }
  v7 = (_BYTE *)(dword_10F8F220[a1 >> 5] + ((a1 & 0x1F) << 6) + 4);
  *v7 &= 0xFDu;
  return lDistanceToMove;
}
// 10074370: using guessed type _DWORD __cdecl _dosmaperr(_DWORD);
// 10F8F220: using guessed type int dword_10F8F220[];

//----- (10083C25) --------------------------------------------------------
_WORD *__cdecl sub_10083C25(int a1, int a2, DWORD nNumberOfBytesToWrite)
{
  int *v4; // esi@5
  int v5; // edi@5
  int v6; // eax@5
  char v7; // bl@5
  int v8; // eax@13
  void *v9; // ST18_4@13
  DWORD v10; // eax@16
  const char *v11; // ebx@16
  char v12; // cl@19
  int *v13; // esi@19
  int v14; // eax@19
  int v15; // eax@20
  int v16; // eax@27
  signed int v17; // esi@27
  int v18; // eax@31
  int v19; // esi@36
  __int16 v20; // ax@39
  int v21; // ecx@45
  char v22; // dl@45
  int v23; // eax@46
  DWORD v24; // ecx@51
  char *v25; // eax@51
  char *v26; // edx@53
  char v27; // dl@53
  int v28; // ebx@56
  DWORD v29; // ecx@64
  char *v30; // eax@64
  __int16 *v31; // edx@66
  __int16 v32; // dx@66
  int v33; // ebx@69
  DWORD v34; // ecx@74
  WCHAR *v35; // eax@74
  WCHAR v36; // dx@76
  int v37; // esi@79
  int v38; // ebx@79
  DWORD Mode; // [sp+4h] [bp-7Ch]@13
  int v40; // [sp+8h] [bp-78h]@13
  char v41; // [sp+Fh] [bp-71h]@5
  int *v42; // [sp+10h] [bp-70h]@5
  DWORD v43; // [sp+14h] [bp-6Ch]@56
  int v44; // [sp+18h] [bp-68h]@1
  LPCVOID lpBuffer; // [sp+1Ch] [bp-64h]@1
  _WORD *v46; // [sp+20h] [bp-60h]@1
  DWORD NumberOfBytesWritten; // [sp+24h] [bp-5Ch]@16
  WCHAR WideCharStr[2]; // [sp+28h] [bp-58h]@20
  _WORD *v49; // [sp+2Ch] [bp-54h]@17
  char Buffer; // [sp+30h] [bp-50h]@51
  CHAR v51[688]; // [sp+184h] [bp+104h]@79
  WCHAR v52; // [sp+434h] [bp+3B4h]@74
  CHAR MultiByteStr; // [sp+588h] [bp+508h]@20
  char v54; // [sp+589h] [bp+509h]@20

  lpBuffer = (LPCVOID)a2;
  v46 = 0;
  v44 = 0;
  if ( !nNumberOfBytesToWrite )
    return 0;
  if ( !a2 )
  {
    *__doserrno() = 0;
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    return (_WORD *)-1;
  }
  v4 = &dword_10F8F220[a1 >> 5];
  v5 = (a1 & 0x1F) << 6;
  v6 = v5 + *v4;
  v7 = (char)(2 * *(_BYTE *)(v6 + 36)) >> 1;
  v42 = &dword_10F8F220[a1 >> 5];
  v41 = v7;
  if ( (v7 == 2 || v7 == 1) && !(~(_BYTE)nNumberOfBytesToWrite & 1) )
  {
    *__doserrno() = 0;
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    return (_WORD *)-1;
  }
  if ( *(_BYTE *)(v6 + 4) & 0x20 )
    sub_10083A89(a1, 0, 0, 2u);
  if ( sub_10084367(a1) )
  {
    if ( *(_BYTE *)(v5 + *v4 + 4) & 0x80 )
    {
      v8 = _getptd();
      v9 = *(void **)(v5 + *v4);
      v40 = *(_DWORD *)(*(_DWORD *)(v8 + 108) + 20) == 0;
      if ( GetConsoleMode(v9, &Mode) )
      {
        if ( !v40 || v7 )
        {
          v10 = GetConsoleCP();
          v11 = (const char *)lpBuffer;
          Mode = v10;
          NumberOfBytesWritten = 0;
          if ( nNumberOfBytesToWrite )
          {
            v49 = 0;
            while ( 1 )
            {
              if ( v41 )
              {
                if ( v41 == 1 || v41 == 2 )
                {
                  v19 = *(_WORD *)v11;
                  v11 += 2;
                  ++v49;
                  *(_DWORD *)WideCharStr = v19;
                  v40 = (_WORD)v19 == 10;
                }
                if ( v41 == 1 || v41 == 2 )
                {
                  v20 = _putwch_nolock(WideCharStr[0]);
                  if ( v20 != WideCharStr[0] )
                    goto LABEL_89;
                  v46 = (_WORD *)((char *)v46 + 1);
                  if ( v40 )
                  {
                    *(_DWORD *)WideCharStr = 13;
                    if ( (unsigned __int16)_putwch_nolock(13) != 13 )
                      goto LABEL_89;
                    v46 = (_WORD *)((char *)v46 + 1);
                    ++v44;
                  }
                }
                goto LABEL_43;
              }
              v12 = *v11;
              v13 = v42;
              v40 = *v11 == 10;
              v14 = v5 + *v42;
              if ( *(_DWORD *)(v14 + 56) )
              {
                MultiByteStr = *(_BYTE *)(v14 + 52);
                v54 = v12;
                *(_DWORD *)(v14 + 56) = 0;
                v15 = mbtowc(WideCharStr, &MultiByteStr, 2u);
              }
              else
              {
                if ( isleadbyte(v12) )
                {
                  if ( nNumberOfBytesToWrite + (_BYTE *)lpBuffer - v11 <= 1 )
                  {
                    v21 = *v13;
                    v22 = *v11;
                    v46 = (_WORD *)((char *)v46 + 1);
                    *(_BYTE *)(v5 + v21 + 52) = v22;
                    *(_DWORD *)(v5 + *v13 + 56) = 1;
                    goto LABEL_90;
                  }
                  if ( mbtowc(WideCharStr, v11, 2u) == -1 )
                    goto LABEL_90;
                  ++v11;
                  v49 = (_WORD *)((char *)v49 + 1);
                  goto LABEL_27;
                }
                v15 = mbtowc(WideCharStr, v11, 1u);
              }
              if ( v15 == -1 )
                goto LABEL_90;
LABEL_27:
              ++v11;
              v49 = (_WORD *)((char *)v49 + 1);
              v16 = WideCharToMultiByte(Mode, 0, WideCharStr, 1, &MultiByteStr, 5, 0, 0);
              v17 = v16;
              if ( !v16 )
                goto LABEL_90;
              if ( !WriteFile(*(HANDLE *)(v5 + *v42), &MultiByteStr, v16, &NumberOfBytesWritten, 0) )
                goto LABEL_89;
              v46 = (_WORD *)((char *)v49 + v44);
              if ( (signed int)NumberOfBytesWritten < v17 )
                goto LABEL_90;
              if ( v40 )
              {
                v18 = *v42;
                MultiByteStr = 13;
                if ( !WriteFile(*(HANDLE *)(v5 + v18), &MultiByteStr, 1u, &NumberOfBytesWritten, 0) )
                  goto LABEL_89;
                if ( (signed int)NumberOfBytesWritten < 1 )
                  goto LABEL_90;
                ++v44;
                v46 = (_WORD *)((char *)v46 + 1);
              }
LABEL_43:
              if ( (unsigned int)v49 >= nNumberOfBytesToWrite )
                goto LABEL_90;
            }
          }
          goto LABEL_91;
        }
      }
    }
  }
  v23 = v5 + *v4;
  if ( *(_BYTE *)(v23 + 4) & 0x80 )
  {
    *(_DWORD *)WideCharStr = 0;
    if ( v7 )
    {
      v49 = lpBuffer;
      if ( v7 == 2 )
      {
        if ( nNumberOfBytesToWrite <= 0 )
          goto LABEL_96;
        while ( 1 )
        {
          NumberOfBytesWritten = 0;
          v29 = (char *)v49 - (_BYTE *)lpBuffer;
          v30 = &Buffer;
          do
          {
            if ( v29 >= nNumberOfBytesToWrite )
              break;
            v31 = v49;
            ++v49;
            v32 = *v31;
            v29 += 2;
            if ( v32 == 10 )
            {
              v44 += 2;
              *(_WORD *)v30 = 13;
              v30 += 2;
              NumberOfBytesWritten += 2;
            }
            NumberOfBytesWritten += 2;
            *(_WORD *)v30 = v32;
            v30 += 2;
          }
          while ( NumberOfBytesWritten < 0x3FF );
          v33 = v30 - &Buffer;
          if ( !WriteFile(*(HANDLE *)(v5 + *v4), &Buffer, v30 - &Buffer, &v43, 0) )
            break;
          v46 = (_WORD *)((char *)v46 + v43);
          if ( (signed int)v43 < v33 || (char *)v49 - (_BYTE *)lpBuffer >= nNumberOfBytesToWrite )
            goto LABEL_90;
          v4 = v42;
        }
      }
      else
      {
        if ( nNumberOfBytesToWrite <= 0 )
          goto LABEL_96;
        while ( 1 )
        {
          NumberOfBytesWritten = 0;
          v34 = (char *)v49 - (_BYTE *)lpBuffer;
          v35 = &v52;
          do
          {
            if ( v34 >= nNumberOfBytesToWrite )
              break;
            v36 = *v49;
            ++v49;
            v34 += 2;
            if ( v36 == 10 )
            {
              *v35 = 13;
              ++v35;
              NumberOfBytesWritten += 2;
            }
            NumberOfBytesWritten += 2;
            *v35 = v36;
            ++v35;
          }
          while ( NumberOfBytesWritten < 0x152 );
          v37 = 0;
          v38 = WideCharToMultiByte(0xFDE9u, 0, &v52, v35 - &v52, v51, 683, 0, 0);
          if ( !v38 )
            break;
          while ( WriteFile(*(HANDLE *)(v5 + *v42), &v51[v37], v38 - v37, &v43, 0) )
          {
            v37 += v43;
            if ( v38 <= v37 )
              goto LABEL_84;
          }
          *(_DWORD *)WideCharStr = GetLastError();
LABEL_84:
          if ( v38 <= v37 )
          {
            v46 = (_WORD *)((char *)v49 - (_BYTE *)lpBuffer);
            if ( (char *)v49 - (_BYTE *)lpBuffer < nNumberOfBytesToWrite )
              continue;
          }
          goto LABEL_90;
        }
      }
    }
    else
    {
      NumberOfBytesWritten = (DWORD)lpBuffer;
      if ( nNumberOfBytesToWrite <= 0 )
        goto LABEL_96;
      while ( 1 )
      {
        v49 = 0;
        v24 = NumberOfBytesWritten - (_DWORD)lpBuffer;
        v25 = &Buffer;
        do
        {
          if ( v24 >= nNumberOfBytesToWrite )
            break;
          v26 = (char *)NumberOfBytesWritten++;
          v27 = *v26;
          ++v24;
          if ( v27 == 10 )
          {
            ++v44;
            *v25++ = 13;
            v49 = (_WORD *)((char *)v49 + 1);
          }
          *v25++ = v27;
          v49 = (_WORD *)((char *)v49 + 1);
        }
        while ( (unsigned int)v49 < 0x400 );
        v28 = v25 - &Buffer;
        if ( !WriteFile(*(HANDLE *)(v5 + *v4), &Buffer, v25 - &Buffer, &v43, 0) )
          break;
        v46 = (_WORD *)((char *)v46 + v43);
        if ( (signed int)v43 < v28 || NumberOfBytesWritten - (unsigned int)lpBuffer >= nNumberOfBytesToWrite )
          goto LABEL_90;
        v4 = v42;
      }
    }
  }
  else if ( WriteFile(*(HANDLE *)v23, lpBuffer, nNumberOfBytesToWrite, &v43, 0) )
  {
    *(_DWORD *)WideCharStr = 0;
    v46 = (_WORD *)v43;
    goto LABEL_90;
  }
LABEL_89:
  *(_DWORD *)WideCharStr = GetLastError();
LABEL_90:
  if ( !v46 )
  {
LABEL_91:
    if ( *(_DWORD *)WideCharStr )
    {
      if ( *(_DWORD *)WideCharStr == 5 )
      {
        *_errno() = 9;
        *__doserrno() = 5;
      }
      else
      {
        _dosmaperr(*(_DWORD *)WideCharStr);
      }
      return (_WORD *)-1;
    }
    v4 = v42;
LABEL_96:
    if ( *(_BYTE *)(v5 + *v4 + 4) & 0x40 && *(_BYTE *)lpBuffer == 26 )
      return 0;
    *_errno() = 28;
    *__doserrno() = 0;
    return (_WORD *)-1;
  }
  return (_WORD *)((char *)v46 - v44);
}
// 10074370: using guessed type _DWORD __cdecl _dosmaperr(_DWORD);
// 100778FE: using guessed type int _getptd(void);
// 10078A08: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10F8F220: using guessed type int dword_10F8F220[];
// 10083C25: using guessed type CHAR var_410[688];

//----- (10084247) --------------------------------------------------------
_WORD *__cdecl sub_10084247(int a1, int a2, DWORD nNumberOfBytesToWrite)
{
  int *v4; // ebx@7
  int v5; // esi@7
  _WORD *v6; // [sp+14h] [bp-1Ch]@9

  if ( a1 == -2 )
  {
    *__doserrno() = 0;
    *_errno() = 9;
    return (_WORD *)-1;
  }
  if ( a1 < 0
    || a1 >= uNumber
    || (v4 = &dword_10F8F220[a1 >> 5], v5 = (a1 & 0x1F) << 6, !(*(_BYTE *)(*v4 + v5 + 4) & 1)) )
  {
    *__doserrno() = 0;
    *_errno() = 9;
    _invalid_parameter(0, 0, 0, 0, 0);
    return (_WORD *)-1;
  }
  __lock_fhandle(a1);
  if ( *(_BYTE *)(*v4 + v5 + 4) & 1 )
  {
    v6 = sub_10083C25(a1, a2, nNumberOfBytesToWrite);
  }
  else
  {
    *_errno() = 9;
    *__doserrno() = 0;
    v6 = (_WORD *)-1;
  }
  sub_100856D6(a1);
  return v6;
}
// 10078A08: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10085636: using guessed type _DWORD __cdecl __lock_fhandle(_DWORD);
// 10F8F220: using guessed type int dword_10F8F220[];

//----- (10084367) --------------------------------------------------------
int __cdecl sub_10084367(signed int a1)
{
  int result; // eax@2

  if ( a1 == -2 )
  {
    *_errno() = 9;
    result = 0;
  }
  else if ( a1 >= 0 && a1 < uNumber )
  {
    result = *(_BYTE *)(dword_10F8F220[a1 >> 5] + ((a1 & 0x1F) << 6) + 4) & 0x40;
  }
  else
  {
    *_errno() = 9;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 0;
  }
  return result;
}
// 10078A08: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10F8F220: using guessed type int dword_10F8F220[];

//----- (100843C5) --------------------------------------------------------
void **sub_100843C5()
{
  return &off_100F13F0;
}
// 100F13F0: using guessed type void *off_100F13F0;

//----- (100843CB) --------------------------------------------------------
signed int sub_100843CB()
{
  size_t v0; // eax@1
  void *v1; // eax@6
  signed int result; // eax@8
  int v3; // edx@9
  void **v4; // ecx@9
  signed int v5; // edx@12
  _DWORD *v6; // ecx@12
  int v7; // eax@13

  v0 = dword_10F8F1E0;
  if ( !dword_10F8F1E0 )
  {
    v0 = 512;
LABEL_5:
    dword_10F8F1E0 = v0;
    goto LABEL_6;
  }
  if ( dword_10F8F1E0 < 20 )
  {
    v0 = 20;
    goto LABEL_5;
  }
LABEL_6:
  v1 = (void *)_calloc_crt(v0, 4);
  dword_10F8E1DC = v1;
  if ( v1 || (dword_10F8F1E0 = 20, v1 = (void *)_calloc_crt(0x14u, 4), (dword_10F8E1DC = v1) != 0) )
  {
    v3 = 0;
    v4 = &off_100F13F0;
    while ( 1 )
    {
      *(_DWORD *)((char *)v1 + v3) = v4;
      v4 += 8;
      v3 += 4;
      if ( (signed int)v4 >= (signed int)&unk_100F1670 )
        break;
      v1 = dword_10F8E1DC;
    }
    v5 = 0;
    v6 = &unk_100F1400;
    do
    {
      v7 = *(_DWORD *)(((v5 & 0x1F) << 6) + dword_10F8F220[v5 >> 5]);
      if ( v7 == -1 || v7 == -2 || !v7 )
        *v6 = -2;
      v6 += 8;
      ++v5;
    }
    while ( (signed int)v6 < (signed int)&unk_100F1460 );
    result = 0;
  }
  else
  {
    result = 26;
  }
  return result;
}
// 100794B6: using guessed type _DWORD __cdecl _calloc_crt(size_t, _DWORD);
// 100F13F0: using guessed type void *off_100F13F0;
// 10F8F1E0: using guessed type int dword_10F8F1E0;
// 10F8F220: using guessed type int dword_10F8F220[];

//----- (10085544) --------------------------------------------------------
signed int __cdecl sub_10085544(signed int a1)
{
  int *v1; // edi@3
  int v2; // esi@3
  int v3; // eax@3
  DWORD v5; // [sp-8h] [bp-14h]@9

  if ( a1 >= 0 && a1 < uNumber )
  {
    v1 = &dword_10F8F220[a1 >> 5];
    v2 = (a1 & 0x1F) << 6;
    v3 = v2 + *v1;
    if ( *(_BYTE *)(v3 + 4) & 1 )
    {
      if ( *(_DWORD *)v3 != -1 )
      {
        if ( dword_10E81CDC == 1 )
        {
          if ( !a1 )
          {
            v5 = -10;
            goto LABEL_12;
          }
          if ( a1 == 1 )
          {
            v5 = -11;
            goto LABEL_12;
          }
          if ( a1 == 2 )
          {
            v5 = -12;
LABEL_12:
            SetStdHandle(v5, 0);
            goto LABEL_13;
          }
        }
LABEL_13:
        *(_DWORD *)(v2 + *v1) = -1;
        return 0;
      }
    }
  }
  *_errno() = 9;
  *__doserrno() = 0;
  return -1;
}
// 10E81CDC: using guessed type int dword_10E81CDC;
// 10F8F220: using guessed type int dword_10F8F220[];

//----- (100855C5) --------------------------------------------------------
signed int __cdecl sub_100855C5(signed int a1)
{
  signed int result; // eax@2
  int v2; // eax@5

  if ( a1 == -2 )
  {
    *__doserrno() = 0;
    *_errno() = 9;
    result = -1;
  }
  else if ( a1 >= 0 && a1 < uNumber && (v2 = dword_10F8F220[a1 >> 5] + ((a1 & 0x1F) << 6), *(_BYTE *)(v2 + 4) & 1) )
  {
    result = *(_DWORD *)v2;
  }
  else
  {
    *__doserrno() = 0;
    *_errno() = 9;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = -1;
  }
  return result;
}
// 10078A08: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10F8F220: using guessed type int dword_10F8F220[];

//----- (100856D6) --------------------------------------------------------
void __cdecl sub_100856D6(signed int a1)
{
  LeaveCriticalSection((LPCRITICAL_SECTION)(dword_10F8F220[a1 >> 5] + ((a1 & 0x1F) << 6) + 12));
}
// 10F8F220: using guessed type int dword_10F8F220[];

//----- (100859D7) --------------------------------------------------------
int sub_100859D7()
{
  return flsall(1);
}
// 100858FD: using guessed type _DWORD __cdecl flsall(_DWORD);

//----- (10085C5C) --------------------------------------------------------
signed int __cdecl sub_10085C5C(signed int a1)
{
  signed int v1; // edi@6
  void *v2; // eax@7
  DWORD v3; // edi@8
  signed int result; // eax@11

  if ( sub_100855C5(a1) == -1
    || (a1 == 1 && *(_BYTE *)(dword_10F8F220[0] + 132) & 1 || a1 == 2 && *(_BYTE *)(dword_10F8F220[0] + 68) & 1)
    && (v1 = sub_100855C5(2), sub_100855C5(1) == v1)
    || (v2 = (void *)sub_100855C5(a1), CloseHandle(v2)) )
  {
    v3 = 0;
  }
  else
  {
    v3 = GetLastError();
  }
  sub_10085544(a1);
  *(_BYTE *)(dword_10F8F220[a1 >> 5] + ((a1 & 0x1F) << 6) + 4) = 0;
  if ( v3 )
  {
    _dosmaperr(v3);
    result = -1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10074370: using guessed type _DWORD __cdecl _dosmaperr(_DWORD);
// 10F8F220: using guessed type int dword_10F8F220[];

//----- (10085E00) --------------------------------------------------------
int __usercall sub_10085E00@<eax>(int a1@<ebp>)
{
  return sub_10020CE0(*(_DWORD *)(a1 - 84));
}

//----- (10085E20) --------------------------------------------------------
void __usercall sub_10085E20(int a1@<ebp>)
{
  int v1; // esi@1
  int *i; // ebp@1
  int v3; // edi@2
  void (__stdcall ***v4)(_DWORD); // ecx@3
  int v5; // ecx@9
  int v9; // edx@11
  void *v10; // eax@11

  v1 = *(_DWORD *)(a1 - 20);
  for ( i = *(int **)(v1 + 4); i != *(int **)(v1 + 8); ++i )
  {
    v3 = *i;
    if ( *i )
    {
      v4 = *(void (__stdcall ****)(_DWORD))(v3 + 4);
      if ( v4 && *(_BYTE *)(v3 + 8) && v4 )
        (**v4)(1);
      j__free((void *)v3);
    }
  }
  v5 = *(_DWORD *)(v1 + 4);
  v9 = *(_DWORD *)(v1 + 8);
  v10 = *(void **)(v1 + 4);
  *(_DWORD *)(v1 + 8) = v5;
  j__free(v10);
  *(_DWORD *)(v1 + 4) = 0;
  *(_DWORD *)(v1 + 8) = 0;
  *(_DWORD *)(v1 + 12) = 0;
}

//----- (10085E28) --------------------------------------------------------
int __usercall sub_10085E28@<eax>(int a1@<ebp>)
{
  return sub_10020CE0(*(_DWORD *)(a1 - 20));
}

//----- (10085E40) --------------------------------------------------------
int __usercall sub_10085E40@<eax>(int a1@<ebp>)
{
  return sub_10020CE0(*(_DWORD *)(a1 - 16));
}

//----- (10085E60) --------------------------------------------------------
int (__thiscall ***__usercall sub_10085E60@<eax>(int a1@<ebp>))(_DWORD, _DWORD)
{
  int (__thiscall ***result)(_DWORD, _DWORD); // eax@1

  result = *(int (__thiscall ****)(_DWORD, _DWORD))(a1 - 12 + 4);
  if ( result && *(_BYTE *)(a1 - 12 + 8) )
  {
    if ( result )
      result = (int (__thiscall ***)(_DWORD, _DWORD))(**result)(result, 1);
  }
  return result;
}

//----- (10085E68) --------------------------------------------------------
int __cdecl SEH_1000F860(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10085E80) --------------------------------------------------------
void __usercall sub_10085E80(int a1@<ebp>)
{
  sub_10011F30(*(void **)(a1 - 16));
}

//----- (10085E88) --------------------------------------------------------
int __cdecl filebuf::~filebuf(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10085EA0) --------------------------------------------------------
void __usercall sub_10085EA0(int a1@<ebp>)
{
  sub_10020FE0(a1 - 100);
}

//----- (10085EA8) --------------------------------------------------------
void __usercall sub_10085EA8(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 140));
}

//----- (10085EB6) --------------------------------------------------------
int __cdecl SEH_100118E0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10085EC0) --------------------------------------------------------
void __usercall sub_10085EC0(int a1@<ebp>)
{
  sub_10020FE0(a1 - 44);
}

//----- (10085EC8) --------------------------------------------------------
int __cdecl SEH_10011F80(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10085EE0) --------------------------------------------------------
signed int __usercall sub_10085EE0@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 92);
}

//----- (10085EE8) --------------------------------------------------------
signed int __usercall sub_10085EE8@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 92);
}

//----- (10085EF0) --------------------------------------------------------
signed int __usercall sub_10085EF0@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 44);
}

//----- (10085EF8) --------------------------------------------------------
int __usercall sub_10085EF8@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 140), &dword_109D17E0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D17E0: using guessed type int dword_109D17E0;

//----- (10085F0D) --------------------------------------------------------
signed int __usercall sub_10085F0D@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 44);
}

//----- (10085F15) --------------------------------------------------------
signed int __usercall sub_10085F15@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 44);
}

//----- (10085F1D) --------------------------------------------------------
int __usercall sub_10085F1D@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 140), &dword_109D17E0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D17E0: using guessed type int dword_109D17E0;

//----- (10085F32) --------------------------------------------------------
int __cdecl SEH_10012BC0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10085F40) --------------------------------------------------------
void __usercall sub_10085F40(int a1@<ebp>)
{
  sub_10015AB0(a1 - 156);
}

//----- (10085F4B) --------------------------------------------------------
signed int __usercall sub_10085F4B@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 188);
}

//----- (10085F56) --------------------------------------------------------
signed int __usercall sub_10085F56@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 188);
}

//----- (10085F61) --------------------------------------------------------
signed int __usercall sub_10085F61@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 156);
}

//----- (10085F6C) --------------------------------------------------------
int __cdecl SEH_10013D70(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10085F80) --------------------------------------------------------
signed int __usercall sub_10085F80@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 44);
}

//----- (10085F88) --------------------------------------------------------
signed int __usercall sub_10085F88@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 44);
}

//----- (10085F90) --------------------------------------------------------
int __cdecl SEH_10034A30(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10085FA0) --------------------------------------------------------
int __usercall sub_10085FA0@<eax>(int a1@<ebp>)
{
  int v1; // ebx@1
  _DWORD **v2; // ebp@1
  _DWORD *i; // edi@1
  _DWORD **v4; // esi@2
  int result; // eax@3

  v1 = *(_DWORD *)(a1 - 16);
  v2 = *(_DWORD ***)(v1 + 8);
  for ( i = *v2; i != v2; --*(_DWORD *)(v1 + 12) )
  {
    v4 = (_DWORD **)i;
    i = (_DWORD *)*i;
    *v4[1] = *v4;
    (*v4)[1] = v4[1];
    sub_100156E0((int)(v4 + 2));
    j__free(v4);
  }
  j__free(*(void **)(v1 + 8));
  result = 0;
  *(_DWORD *)(v1 + 8) = 0;
  *(_DWORD *)(v1 + 12) = 0;
  return result;
}

//----- (10085FA8) --------------------------------------------------------
void __usercall sub_10085FA8(int a1@<ebp>)
{
  int v1; // ecx@1

  v1 = *(_DWORD *)(a1 - 16);
  JUMPOUT(&loc_10015F10);
}

//----- (10085FB3) --------------------------------------------------------
void __usercall sub_10085FB3(int a1@<ebp>)
{
  int v1; // ecx@1

  v1 = *(_DWORD *)(a1 - 16);
  JUMPOUT(&loc_10015F10);
}

//----- (10085FBE) --------------------------------------------------------
void __usercall sub_10085FBE(int a1@<ebp>)
{
  void **v1; // edi@1
  signed int v2; // esi@1

  v1 = (void **)(*(_DWORD *)(a1 - 16) + 60);
  v2 = 0;
  do
  {
    if ( *(_DWORD *)((char *)*v1 + v2) )
      j__free(*(void **)((char *)*v1 + v2));
    v2 += 4;
  }
  while ( v2 < 1024 );
  j__free(*v1);
}

//----- (10085FE0) --------------------------------------------------------
void __usercall sub_10085FE0(int a1@<ebp>)
{
  int v1; // ecx@1

  v1 = *(_DWORD *)(a1 - 24);
  JUMPOUT(&loc_10015F10);
}

//----- (10085FE8) --------------------------------------------------------
void __usercall sub_10085FE8(int a1@<ebp>)
{
  int v1; // ecx@1

  v1 = *(_DWORD *)(a1 - 24);
  JUMPOUT(&loc_10015F10);
}

//----- (10085FF3) --------------------------------------------------------
void __usercall sub_10085FF3(int a1@<ebp>)
{
  int v1; // ecx@1

  v1 = *(_DWORD *)(a1 - 24);
  JUMPOUT(&loc_10015F10);
}

//----- (10085FFE) --------------------------------------------------------
void __usercall sub_10085FFE(int a1@<ebp>)
{
  int v1; // ecx@1

  v1 = *(_DWORD *)(a1 - 24);
  JUMPOUT(&loc_100162C0);
}

//----- (10086009) --------------------------------------------------------
void __usercall sub_10086009(int a1@<ebp>)
{
  void **v1; // edi@1
  signed int v2; // esi@1
  void (__stdcall ***v3)(_DWORD); // ecx@2

  v1 = (void **)(*(_DWORD *)(a1 - 24) + 64);
  v2 = 0;
  do
  {
    v3 = *(void (__stdcall ****)(_DWORD))((char *)*v1 + v2);
    if ( v3 )
      (**v3)(1);
    v2 += 4;
  }
  while ( v2 < 1024 );
  j__free(*v1);
}

//----- (10086020) --------------------------------------------------------
void __usercall sub_10086020(int a1@<ebp>)
{
  j__free(*(void **)(a1 + 12));
}

//----- (1008602B) --------------------------------------------------------
int __cdecl SEH_100164C0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086040) --------------------------------------------------------
int __usercall sub_10086040@<eax>(int a1@<ebp>)
{
  int v1; // esi@1
  int result; // eax@1
  int v3; // edi@2
  int v4; // eax@2
  void **v5; // eax@4
  int v6; // ebp@5
  int v7; // ebp@5
  void *v8; // ST00_4@5
  int *v9; // eax@6
  int v10; // ebp@6
  int v11; // ecx@6

  v1 = a1 - 728;
  for ( result = *(_DWORD *)(a1 - 728 + 44); result; result = *(_DWORD *)(v1 + 44) )
  {
    v3 = *(_DWORD *)(v1 + 12) + 56;
    v4 = result - 1;
    *(_DWORD *)(v1 + 12) = v3;
    *(_DWORD *)(v1 + 44) = v4;
    if ( !v4 || v3 == *(_DWORD *)(v1 + 8) )
    {
      v5 = *(void ***)(v1 + 16);
      *(_DWORD *)(v1 + 16) = v5 + 1;
      j__free(*v5);
      if ( *(_DWORD *)(v1 + 44) )
      {
        v9 = *(int **)(v1 + 16);
        v10 = v1 + 4;
        v11 = *v9;
        *(_DWORD *)v10 = *v9;
        *(_DWORD *)(v10 + 4) = v11 + 4088;
        *(_DWORD *)(v10 + 8) = v11;
        *(_DWORD *)(v10 + 12) = v9;
      }
      else
      {
        v6 = v1 + 4;
        *(_DWORD *)v6 = 0;
        *(_DWORD *)(v6 + 4) = 0;
        *(_DWORD *)(v6 + 8) = 0;
        *(_DWORD *)(v6 + 12) = 0;
        v7 = v1 + 20;
        *(_DWORD *)(v1 + 20) = 0;
        v8 = *(void **)(v1 + 36);
        *(_DWORD *)(v7 + 4) = 0;
        *(_DWORD *)(v7 + 8) = 0;
        *(_DWORD *)(v7 + 12) = 0;
        j__free(v8);
      }
    }
  }
  return result;
}

//----- (1008604B) --------------------------------------------------------
void __usercall sub_1008604B(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 800));
}

//----- (10086059) --------------------------------------------------------
int __usercall sub_10086059@<eax>(int a1@<ebp>)
{
  return sub_10020CE0(*(_DWORD *)(a1 - 800));
}

//----- (10086064) --------------------------------------------------------
void __usercall sub_10086064(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 800));
}

//----- (10086072) --------------------------------------------------------
int __usercall sub_10086072@<eax>(int a1@<ebp>)
{
  return sub_10020CE0(*(_DWORD *)(a1 - 800));
}

//----- (1008607D) --------------------------------------------------------
void __usercall sub_1008607D(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 800));
}

//----- (1008608B) --------------------------------------------------------
void __usercall sub_1008608B(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 800));
}

//----- (10086099) --------------------------------------------------------
void __usercall sub_10086099(int a1@<ebp>)
{
  sub_10031530(*(void **)(a1 - 800));
}

//----- (100860A4) --------------------------------------------------------
void __usercall sub_100860A4(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 800));
}

//----- (100860B2) --------------------------------------------------------
void __usercall sub_100860B2(int a1@<ebp>)
{
  sub_1001A7A0(*(void **)(a1 - 800));
}

//----- (100860BD) --------------------------------------------------------
void __usercall sub_100860BD(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 800));
}

//----- (100860CB) --------------------------------------------------------
void __usercall sub_100860CB(int a1@<ebp>)
{
  sub_1001A7A0(*(void **)(a1 - 800));
}

//----- (100860D6) --------------------------------------------------------
void __usercall sub_100860D6(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 800));
}

//----- (100860E4) --------------------------------------------------------
void __usercall sub_100860E4(int a1@<ebp>)
{
  sub_1001A7A0(*(void **)(a1 - 800));
}

//----- (100860EF) --------------------------------------------------------
void __usercall sub_100860EF(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 800));
}

//----- (100860FD) --------------------------------------------------------
void __usercall sub_100860FD(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 800));
}

//----- (1008610B) --------------------------------------------------------
void __usercall sub_1008610B(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 800));
}

//----- (10086119) --------------------------------------------------------
void __usercall sub_10086119(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 800));
}

//----- (10086127) --------------------------------------------------------
void __usercall sub_10086127(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 800));
}

//----- (10086135) --------------------------------------------------------
void __usercall sub_10086135(int a1@<ebp>)
{
  sub_1001A7A0(*(void **)(a1 - 800));
}

//----- (10086140) --------------------------------------------------------
void __usercall sub_10086140(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 800));
}

//----- (1008614E) --------------------------------------------------------
void __usercall sub_1008614E(int a1@<ebp>)
{
  sub_10031530(*(void **)(a1 - 800));
}

//----- (10086159) --------------------------------------------------------
void __usercall sub_10086159(int a1@<ebp>)
{
  sub_1001A7A0(*(void **)(a1 - 800));
}

//----- (10086164) --------------------------------------------------------
void __usercall sub_10086164(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 800));
}

//----- (10086172) --------------------------------------------------------
void __usercall sub_10086172(int a1@<ebp>)
{
  sub_1001A7A0(*(void **)(a1 - 800));
}

//----- (1008617D) --------------------------------------------------------
void __usercall sub_1008617D(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 800));
}

//----- (1008618B) --------------------------------------------------------
void __usercall sub_1008618B(int a1@<ebp>)
{
  sub_10031530(*(void **)(a1 - 800));
}

//----- (10086196) --------------------------------------------------------
int __usercall sub_10086196@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 872), &dword_109D1880);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1880: using guessed type int dword_109D1880;

//----- (100861AB) --------------------------------------------------------
void __usercall sub_100861AB(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 800));
}

//----- (100861B9) --------------------------------------------------------
void __usercall sub_100861B9(int a1@<ebp>)
{
  sub_10031530(*(void **)(a1 - 800));
}

//----- (100861C4) --------------------------------------------------------
int __usercall sub_100861C4@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 872), &dword_109D1880);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1880: using guessed type int dword_109D1880;

//----- (100861D9) --------------------------------------------------------
void __usercall sub_100861D9(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 800));
}

//----- (100861E7) --------------------------------------------------------
void __usercall sub_100861E7(int a1@<ebp>)
{
  sub_10031530(*(void **)(a1 - 800));
}

//----- (100861F2) --------------------------------------------------------
void __usercall sub_100861F2(int a1@<ebp>)
{
  sub_1001A7A0(*(void **)(a1 - 800));
}

//----- (100861FD) --------------------------------------------------------
void __usercall sub_100861FD(int a1@<ebp>)
{
  sub_1001A7A0(*(void **)(a1 - 800));
}

//----- (10086208) --------------------------------------------------------
int __usercall sub_10086208@<eax>(int a1@<ebp>)
{
  return sub_10020CE0(*(_DWORD *)(a1 - 792));
}

//----- (10086213) --------------------------------------------------------
void __usercall sub_10086213(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 800));
}

//----- (10086221) --------------------------------------------------------
int __cdecl SEH_10016720(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086230) --------------------------------------------------------
void __usercall sub_10086230(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 20));
}

//----- (10086246) --------------------------------------------------------
int __cdecl SEH_10019980(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086250) --------------------------------------------------------
void __usercall sub_10086250(int a1@<ebp>)
{
  sub_10020FE0(a1 - 44);
}

//----- (10086258) --------------------------------------------------------
void __usercall sub_10086258(int a1@<ebp>)
{
  j__free(*(void **)(a1 + 12));
}

//----- (10086263) --------------------------------------------------------
int __cdecl SEH_10019B00(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086270) --------------------------------------------------------
void __usercall sub_10086270(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 16));
}

//----- (1008627B) --------------------------------------------------------
void __usercall sub_1008627B(int a1@<ebp>)
{
  sub_10031530(*(void **)(a1 - 16));
}

//----- (10086283) --------------------------------------------------------
int __cdecl SEH_1001AB20(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086290) --------------------------------------------------------
void __usercall sub_10086290(int a1@<ebp>)
{
  sub_1001A7A0(*(void **)(a1 - 20));
}

//----- (10086298) --------------------------------------------------------
int __usercall sub_10086298@<eax>(int a1@<ebp>)
{
  return sub_10020CE0(*(_DWORD *)(a1 - 16));
}

//----- (100862A0) --------------------------------------------------------
int __cdecl SEH_1001B1A0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (100862B0) --------------------------------------------------------
int __usercall sub_100862B0@<eax>(int a1@<ebp>)
{
  return sub_10020CE0(*(_DWORD *)(a1 - 20));
}

//----- (100862B8) --------------------------------------------------------
int __usercall sub_100862B8@<eax>(int a1@<ebp>)
{
  int v1; // esi@1
  int v2; // edx@1
  int v3; // ecx@1
  int v7; // eax@3
  int result; // eax@3

  v1 = *(_DWORD *)(a1 - 16) + 8;
  v2 = *(_DWORD *)(*(_DWORD *)(a1 - 16) + 16);
  v3 = *(_DWORD *)(*(_DWORD *)(a1 - 16) + 12);
  v7 = *(_DWORD *)(v1 + 8);
  *(_DWORD *)(v1 + 8) = v3;
  j__free(*(void **)(v1 + 4));
  result = 0;
  *(_DWORD *)(v1 + 4) = 0;
  *(_DWORD *)(v1 + 8) = 0;
  *(_DWORD *)(v1 + 12) = 0;
  return result;
}
// 100862B8: could not find valid save-restore pair for edi

//----- (100862C3) --------------------------------------------------------
int __cdecl SEH_1001E460(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (100862D0) --------------------------------------------------------
int __usercall sub_100862D0@<eax>(int a1@<ebp>)
{
  return sub_10020CE0(*(_DWORD *)(a1 - 20));
}

//----- (100862D8) --------------------------------------------------------
void __usercall sub_100862D8(int a1@<ebp>)
{
  int v1; // ecx@1

  v1 = *(_DWORD *)(a1 - 24);
  JUMPOUT(&loc_1001E9D0);
}

//----- (100862E3) --------------------------------------------------------
int __cdecl SEH_1001E670(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (100862F0) --------------------------------------------------------
void __usercall sub_100862F0(int a1@<ebp>)
{
  sub_10031530(*(void **)(a1 - 16));
}

//----- (100862F8) --------------------------------------------------------
void __usercall sub_100862F8(int a1@<ebp>)
{
  sub_1001A7A0(*(void **)(a1 - 16));
}

//----- (10086300) --------------------------------------------------------
void __usercall sub_10086300(int a1@<ebp>)
{
  sub_1001A7A0(*(void **)(a1 - 16));
}

//----- (10086308) --------------------------------------------------------
int __cdecl SEH_1001FFF0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086320) --------------------------------------------------------
void __usercall sub_10086320(int a1@<ebp>)
{
  sub_10031530(*(void **)(a1 - 20));
}

//----- (10086328) --------------------------------------------------------
void __usercall sub_10086328(int a1@<ebp>)
{
  sub_1001A7A0(*(void **)(a1 - 20));
}

//----- (10086330) --------------------------------------------------------
void __usercall sub_10086330(int a1@<ebp>)
{
  sub_1001A7A0(*(void **)(a1 - 20));
}

//----- (10086338) --------------------------------------------------------
int __usercall sub_10086338@<eax>(int a1@<ebp>)
{
  return sub_10020CE0(*(_DWORD *)(a1 - 16));
}

//----- (10086340) --------------------------------------------------------
void __usercall sub_10086340(int a1@<ebp>)
{
  int v1; // esi@1
  int *i; // ebp@1
  int v3; // edi@2
  int v4; // ecx@8
  int v8; // eax@10

  v1 = *(_DWORD *)(a1 - 20) + 100;
  for ( i = *(int **)(*(_DWORD *)(a1 - 20) + 104); i != *(int **)(v1 + 8); ++i )
  {
    v3 = *i;
    if ( *i )
    {
      if ( *(_DWORD *)(v3 + 4) && *(_BYTE *)(v3 + 20) )
        j__free(*(void **)(v3 + 4));
      j__free((void *)v3);
    }
  }
  v4 = *(_DWORD *)(v1 + 4);
  v8 = *(_DWORD *)(v1 + 8);
  *(_DWORD *)(v1 + 8) = v4;
  j__free(*(void **)(v1 + 4));
  *(_DWORD *)(v1 + 4) = 0;
  *(_DWORD *)(v1 + 8) = 0;
  *(_DWORD *)(v1 + 12) = 0;
}

//----- (1008634B) --------------------------------------------------------
void __usercall sub_1008634B(int a1@<ebp>)
{
  j__free(*(void **)(a1 + 4));
}

//----- (10086356) --------------------------------------------------------
int __cdecl SEH_100203B0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086360) --------------------------------------------------------
void __usercall sub_10086360(int a1@<ebp>)
{
  sub_10031530(*(void **)(a1 - 20));
}

//----- (10086368) --------------------------------------------------------
void __usercall sub_10086368(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 16));
}

//----- (10086373) --------------------------------------------------------
int __usercall sub_10086373@<eax>(int a1@<ebp>)
{
  return sub_10020CE0(*(_DWORD *)(a1 - 16));
}

//----- (1008637B) --------------------------------------------------------
void __usercall sub_1008637B(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 16));
}

//----- (10086386) --------------------------------------------------------
int __usercall sub_10086386@<eax>(int a1@<ebp>)
{
  return sub_10020CE0(*(_DWORD *)(a1 - 16));
}

//----- (1008638E) --------------------------------------------------------
void __usercall sub_1008638E(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 16));
}

//----- (10086399) --------------------------------------------------------
int __usercall sub_10086399@<eax>(int a1@<ebp>)
{
  return sub_10020CE0(*(_DWORD *)(a1 - 16));
}

//----- (100863A1) --------------------------------------------------------
int __cdecl SEH_10020540(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (100863B0) --------------------------------------------------------
void __usercall sub_100863B0(int a1@<ebp>)
{
  sub_10031670(*(_DWORD *)(a1 - 16));
}

//----- (100863B8) --------------------------------------------------------
void __usercall sub_100863B8(int a1@<ebp>)
{
  int v1; // esi@1
  int v2; // ecx@4
  int v6; // eax@6

  v1 = *(_DWORD *)(a1 - 16) + 376;
  if ( *(_BYTE *)(*(_DWORD *)(a1 - 16) + 380) && *(_DWORD *)(*(_DWORD *)(a1 - 16) + 376) )
    sub_1003DFA0(*(_DWORD *)v1);
  v2 = *(_DWORD *)(v1 + 12);
  v6 = *(_DWORD *)(v1 + 16);
  *(_DWORD *)(v1 + 16) = v2;
  j__free(*(void **)(v1 + 12));
  *(_DWORD *)(v1 + 12) = 0;
  *(_DWORD *)(v1 + 16) = 0;
  *(_DWORD *)(v1 + 20) = 0;
}
// 100863B8: could not find valid save-restore pair for edi

//----- (100863C6) --------------------------------------------------------
void __usercall sub_100863C6(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 20));
}

//----- (100863D1) --------------------------------------------------------
int __usercall sub_100863D1@<eax>(int a1@<ebp>)
{
  return sub_10020CE0(*(_DWORD *)(a1 - 20));
}

//----- (100863D9) --------------------------------------------------------
int __cdecl SEH_100209B0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (100863FB) --------------------------------------------------------
int __cdecl SEH_10020EF0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086410) --------------------------------------------------------
signed int __usercall sub_10086410@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 100);
}

//----- (10086418) --------------------------------------------------------
int __usercall sub_10086418@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 136), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (1008642D) --------------------------------------------------------
signed int __usercall sub_1008642D@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 64);
}

//----- (10086435) --------------------------------------------------------
int __usercall sub_10086435@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 136), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (1008644A) --------------------------------------------------------
int __cdecl SEH_100212D0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086460) --------------------------------------------------------
signed int __usercall sub_10086460@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 100);
}

//----- (10086468) --------------------------------------------------------
int __usercall sub_10086468@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 136), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (1008647D) --------------------------------------------------------
signed int __usercall sub_1008647D@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 64);
}

//----- (10086485) --------------------------------------------------------
int __cdecl SEH_100216A0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086490) --------------------------------------------------------
signed int __usercall sub_10086490@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 44);
}

//----- (10086498) --------------------------------------------------------
int __usercall sub_10086498@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 + 8), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (100864AA) --------------------------------------------------------
signed int __usercall sub_100864AA@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 44);
}

//----- (100864B2) --------------------------------------------------------
int __usercall sub_100864B2@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 + 8), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (100864C4) --------------------------------------------------------
int __cdecl SEH_10021CA0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (100864D0) --------------------------------------------------------
signed int __usercall sub_100864D0@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 132);
}

//----- (100864DB) --------------------------------------------------------
signed int __usercall sub_100864DB@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 132);
}

//----- (100864E6) --------------------------------------------------------
int __usercall sub_100864E6@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 64), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (100864F8) --------------------------------------------------------
signed int __usercall sub_100864F8@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 132);
}

//----- (10086503) --------------------------------------------------------
int __usercall sub_10086503@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 152), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (10086518) --------------------------------------------------------
signed int __usercall sub_10086518@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 132);
}

//----- (10086523) --------------------------------------------------------
signed int __usercall sub_10086523@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 132);
}

//----- (1008652E) --------------------------------------------------------
int __usercall sub_1008652E@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 152), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (10086543) --------------------------------------------------------
signed int __usercall sub_10086543@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 132);
}

//----- (1008654E) --------------------------------------------------------
int __usercall sub_1008654E@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 80), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (10086560) --------------------------------------------------------
int __cdecl SEH_10022210(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086570) --------------------------------------------------------
signed int __usercall sub_10086570@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 276);
}

//----- (1008657B) --------------------------------------------------------
signed int __usercall sub_1008657B@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 276);
}

//----- (10086586) --------------------------------------------------------
int __usercall sub_10086586@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 332), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (1008659B) --------------------------------------------------------
signed int __usercall sub_1008659B@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 276);
}

//----- (100865A6) --------------------------------------------------------
int __usercall sub_100865A6@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 328), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (100865BB) --------------------------------------------------------
signed int __usercall sub_100865BB@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 276);
}

//----- (100865C6) --------------------------------------------------------
signed int __usercall sub_100865C6@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 276);
}

//----- (100865D1) --------------------------------------------------------
int __usercall sub_100865D1@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 328), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (100865E6) --------------------------------------------------------
signed int __usercall sub_100865E6@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 224);
}

//----- (100865F1) --------------------------------------------------------
signed int __usercall sub_100865F1@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 224);
}

//----- (100865FC) --------------------------------------------------------
int __usercall sub_100865FC@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 328), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (10086611) --------------------------------------------------------
signed int __usercall sub_10086611@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 276);
}

//----- (1008661C) --------------------------------------------------------
signed int __usercall sub_1008661C@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 276);
}

//----- (10086627) --------------------------------------------------------
int __usercall sub_10086627@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 328), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (1008663C) --------------------------------------------------------
signed int __usercall sub_1008663C@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 224);
}

//----- (10086647) --------------------------------------------------------
int __usercall sub_10086647@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 328), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (1008665C) --------------------------------------------------------
int __cdecl SEH_10022AA0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086670) --------------------------------------------------------
signed int __usercall sub_10086670@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 188);
}

//----- (1008667B) --------------------------------------------------------
signed int __usercall sub_1008667B@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 188);
}

//----- (10086686) --------------------------------------------------------
int __usercall sub_10086686@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 272), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (1008669B) --------------------------------------------------------
signed int __usercall sub_1008669B@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 152);
}

//----- (100866A6) --------------------------------------------------------
signed int __usercall sub_100866A6@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 152);
}

//----- (100866B1) --------------------------------------------------------
int __usercall sub_100866B1@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 272), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (100866C6) --------------------------------------------------------
signed int __usercall sub_100866C6@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 188);
}

//----- (100866D1) --------------------------------------------------------
int __usercall sub_100866D1@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 272), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (100866E6) --------------------------------------------------------
signed int __usercall sub_100866E6@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 64);
}

//----- (100866EE) --------------------------------------------------------
int __usercall sub_100866EE@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 272), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (10086703) --------------------------------------------------------
int __usercall sub_10086703@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 272), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (10086718) --------------------------------------------------------
int __cdecl SEH_10023710(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086730) --------------------------------------------------------
signed int __usercall sub_10086730@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 340);
}

//----- (1008673B) --------------------------------------------------------
signed int __usercall sub_1008673B@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 340);
}

//----- (10086746) --------------------------------------------------------
int __usercall sub_10086746@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 440), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (1008675B) --------------------------------------------------------
signed int __usercall sub_1008675B@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 340);
}

//----- (10086766) --------------------------------------------------------
signed int __usercall sub_10086766@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 340);
}

//----- (10086771) --------------------------------------------------------
int __usercall sub_10086771@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 440), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (10086786) --------------------------------------------------------
signed int __usercall sub_10086786@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 340);
}

//----- (10086791) --------------------------------------------------------
signed int __usercall sub_10086791@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 340);
}

//----- (1008679C) --------------------------------------------------------
signed int __usercall sub_1008679C@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 340);
}

//----- (100867A7) --------------------------------------------------------
signed int __usercall sub_100867A7@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 340);
}

//----- (100867B2) --------------------------------------------------------
int __usercall sub_100867B2@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 440), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (100867C7) --------------------------------------------------------
int __cdecl SEH_10024490(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (100867E0) --------------------------------------------------------
signed int __usercall sub_100867E0@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 348);
}

//----- (100867EB) --------------------------------------------------------
signed int __usercall sub_100867EB@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 348);
}

//----- (100867F6) --------------------------------------------------------
int __usercall sub_100867F6@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 440), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (1008680B) --------------------------------------------------------
signed int __usercall sub_1008680B@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 348);
}

//----- (10086816) --------------------------------------------------------
signed int __usercall sub_10086816@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 348);
}

//----- (10086821) --------------------------------------------------------
int __usercall sub_10086821@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 440), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (10086836) --------------------------------------------------------
signed int __usercall sub_10086836@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 348);
}

//----- (10086841) --------------------------------------------------------
signed int __usercall sub_10086841@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 348);
}

//----- (1008684C) --------------------------------------------------------
int __usercall sub_1008684C@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 440), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (10086861) --------------------------------------------------------
signed int __usercall sub_10086861@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 348);
}

//----- (1008686C) --------------------------------------------------------
signed int __usercall sub_1008686C@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 348);
}

//----- (10086877) --------------------------------------------------------
int __usercall sub_10086877@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 440), &dword_109D19A0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19A0: using guessed type int dword_109D19A0;

//----- (1008688C) --------------------------------------------------------
int __cdecl SEH_10025410(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (100868A0) --------------------------------------------------------
signed int __usercall sub_100868A0@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 64);
}

//----- (100868A8) --------------------------------------------------------
signed int __usercall sub_100868A8@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 64);
}

//----- (100868B0) --------------------------------------------------------
int __cdecl SEH_10026450(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (100868C0) --------------------------------------------------------
void __usercall sub_100868C0(int a1@<ebp>)
{
  sub_10031530(*(void **)(a1 - 16));
}

//----- (100868C8) --------------------------------------------------------
void __usercall sub_100868C8(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 20));
}

//----- (100868D3) --------------------------------------------------------
int __usercall sub_100868D3@<eax>(int a1@<ebp>)
{
  return sub_10020CE0(*(_DWORD *)(a1 - 20));
}

//----- (100868DB) --------------------------------------------------------
int __cdecl SEH_100279D0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (100868F0) --------------------------------------------------------
void __usercall sub_100868F0(int a1@<ebp>)
{
  sub_10031670(*(_DWORD *)(a1 - 20));
}

//----- (100868F8) --------------------------------------------------------
void __usercall sub_100868F8(int a1@<ebp>)
{
  int v1; // ecx@1

  v1 = *(_DWORD *)(a1 - 20);
  JUMPOUT(&loc_1001EA20);
}

//----- (10086906) --------------------------------------------------------
void __usercall sub_10086906(int a1@<ebp>)
{
  j__free(*(void **)(a1 - 16));
}

//----- (10086911) --------------------------------------------------------
int __usercall sub_10086911@<eax>(int a1@<ebp>)
{
  return sub_10020CE0(*(_DWORD *)(a1 - 16));
}

//----- (10086919) --------------------------------------------------------
int __cdecl SEH_10027BA0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086930) --------------------------------------------------------
void __usercall sub_10086930(int a1@<ebp>)
{
  sub_10031530(*(void **)(a1 - 28));
}

//----- (10086938) --------------------------------------------------------
int __cdecl SEH_10027CD0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086950) --------------------------------------------------------
signed int __usercall sub_10086950@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 160);
}

//----- (1008695B) --------------------------------------------------------
signed int __usercall sub_1008695B@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 160);
}

//----- (10086966) --------------------------------------------------------
int __usercall sub_10086966@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 212), &dword_109D19C0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19C0: using guessed type int dword_109D19C0;

//----- (1008697B) --------------------------------------------------------
signed int __usercall sub_1008697B@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 160);
}

//----- (10086986) --------------------------------------------------------
signed int __usercall sub_10086986@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 160);
}

//----- (10086991) --------------------------------------------------------
int __usercall sub_10086991@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 212), &dword_109D19C0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19C0: using guessed type int dword_109D19C0;

//----- (100869A6) --------------------------------------------------------
signed int __usercall sub_100869A6@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 160);
}

//----- (100869B1) --------------------------------------------------------
signed int __usercall sub_100869B1@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 160);
}

//----- (100869BC) --------------------------------------------------------
int __usercall sub_100869BC@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 212), &dword_109D19C0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19C0: using guessed type int dword_109D19C0;

//----- (100869D1) --------------------------------------------------------
signed int __usercall sub_100869D1@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 160);
}

//----- (100869DC) --------------------------------------------------------
signed int __usercall sub_100869DC@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 160);
}

//----- (100869E7) --------------------------------------------------------
int __usercall sub_100869E7@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 212), &dword_109D19C0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19C0: using guessed type int dword_109D19C0;

//----- (100869FC) --------------------------------------------------------
void __usercall sub_100869FC(int a1@<ebp>)
{
  int v1; // ecx@1

  v1 = a1 - 184;
  if ( *(_DWORD *)(a1 - 184 + 4) )
  {
    if ( *(_BYTE *)(v1 + 20) )
      j__free(*(void **)(v1 + 4));
  }
}

//----- (10086A07) --------------------------------------------------------
signed int __usercall sub_10086A07@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 100);
}

//----- (10086A0F) --------------------------------------------------------
signed int __usercall sub_10086A0F@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 100);
}

//----- (10086A17) --------------------------------------------------------
signed int __usercall sub_10086A17@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 160);
}

//----- (10086A22) --------------------------------------------------------
signed int __usercall sub_10086A22@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 100);
}

//----- (10086A2A) --------------------------------------------------------
signed int __usercall sub_10086A2A@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 100);
}

//----- (10086A32) --------------------------------------------------------
int __usercall sub_10086A32@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 212), &dword_109D19C0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19C0: using guessed type int dword_109D19C0;

//----- (10086A47) --------------------------------------------------------
int __cdecl SEH_1002FCF0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086A60) --------------------------------------------------------
void __usercall sub_10086A60(int a1@<ebp>)
{
  sub_10031530(*(void **)(a1 - 16));
}

//----- (10086A68) --------------------------------------------------------
int __cdecl SEH_10020160(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086A80) --------------------------------------------------------
void __usercall sub_10086A80(int a1@<ebp>)
{
  sub_10031530(*(void **)(a1 - 20));
}

//----- (10086A88) --------------------------------------------------------
int __usercall sub_10086A88@<eax>(int a1@<ebp>)
{
  return sub_10020CE0(*(_DWORD *)(a1 - 16));
}

//----- (10086A90) --------------------------------------------------------
int __usercall sub_10086A90@<eax>(int a1@<ebp>)
{
  return sub_10020CE0(*(_DWORD *)(a1 - 16));
}

//----- (10086A98) --------------------------------------------------------
int __cdecl SEH_10031670(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086AB0) --------------------------------------------------------
void __usercall sub_10086AB0(int a1@<ebp>)
{
  sub_10031670(*(_DWORD *)(a1 - 20));
}

//----- (10086AB8) --------------------------------------------------------
void __usercall sub_10086AB8(int a1@<ebp>)
{
  int v1; // ecx@1

  v1 = *(_DWORD *)(a1 - 20);
  JUMPOUT(&loc_1001EA20);
}

//----- (10086AC6) --------------------------------------------------------
void __usercall sub_10086AC6(int a1@<ebp>)
{
  int v1; // esi@1
  int *i; // ebp@1
  int v3; // edi@2
  int v4; // ecx@8
  int v8; // eax@10

  v1 = *(_DWORD *)(a1 - 16);
  for ( i = *(int **)(v1 + 4); i != *(int **)(v1 + 8); ++i )
  {
    v3 = *i;
    if ( *i )
    {
      if ( *(_DWORD *)(v3 + 4) && *(_BYTE *)(v3 + 8) )
        j__free(*(void **)(v3 + 4));
      j__free((void *)v3);
    }
  }
  v4 = *(_DWORD *)(v1 + 4);
  v8 = *(_DWORD *)(v1 + 8);
  *(_DWORD *)(v1 + 8) = v4;
  j__free(*(void **)(v1 + 4));
  *(_DWORD *)(v1 + 4) = 0;
  *(_DWORD *)(v1 + 8) = 0;
  *(_DWORD *)(v1 + 12) = 0;
}

//----- (10086ACE) --------------------------------------------------------
int __usercall sub_10086ACE@<eax>(int a1@<ebp>)
{
  return sub_10020CE0(*(_DWORD *)(a1 - 16));
}

//----- (10086AD6) --------------------------------------------------------
int __cdecl SEH_100317D0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086AE0) --------------------------------------------------------
signed int __usercall sub_10086AE0@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 64);
}

//----- (10086AE8) --------------------------------------------------------
signed int __usercall sub_10086AE8@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 64);
}

//----- (10086AF0) --------------------------------------------------------
int __usercall sub_10086AF0@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 148), &dword_109D19F0);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D19F0: using guessed type int dword_109D19F0;

//----- (10086B05) --------------------------------------------------------
signed int __usercall sub_10086B05@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 64);
}

//----- (10086B0D) --------------------------------------------------------
signed int __usercall sub_10086B0D@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 64);
}

//----- (10086B15) --------------------------------------------------------
int __cdecl SEH_10034EB0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086B20) --------------------------------------------------------
signed int __usercall sub_10086B20@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 44);
}

//----- (10086B28) --------------------------------------------------------
signed int __usercall sub_10086B28@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 44);
}

//----- (10086B30) --------------------------------------------------------
int __usercall sub_10086B30@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 + 4), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086B42) --------------------------------------------------------
int __cdecl SEH_10035D30(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086B50) --------------------------------------------------------
signed int __usercall sub_10086B50@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 44);
}

//----- (10086B58) --------------------------------------------------------
signed int __usercall sub_10086B58@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 44);
}

//----- (10086B60) --------------------------------------------------------
int __usercall sub_10086B60@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 216), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086B75) --------------------------------------------------------
int __cdecl SEH_10036230(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086B80) --------------------------------------------------------
signed int __usercall sub_10086B80@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 296);
}

//----- (10086B8B) --------------------------------------------------------
signed int __usercall sub_10086B8B@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 296);
}

//----- (10086B96) --------------------------------------------------------
int __usercall sub_10086B96@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 396), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086BAB) --------------------------------------------------------
signed int __usercall sub_10086BAB@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 296);
}

//----- (10086BB6) --------------------------------------------------------
signed int __usercall sub_10086BB6@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 296);
}

//----- (10086BC1) --------------------------------------------------------
int __usercall sub_10086BC1@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 396), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086BD6) --------------------------------------------------------
int __cdecl SEH_10036860(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086BE0) --------------------------------------------------------
signed int __usercall sub_10086BE0@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 360);
}

//----- (10086BEB) --------------------------------------------------------
signed int __usercall sub_10086BEB@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 360);
}

//----- (10086BF6) --------------------------------------------------------
signed int __usercall sub_10086BF6@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 360);
}

//----- (10086C01) --------------------------------------------------------
signed int __usercall sub_10086C01@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 360);
}

//----- (10086C0C) --------------------------------------------------------
int __usercall sub_10086C0C@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 464), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086C21) --------------------------------------------------------
int __cdecl SEH_10037300(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086C30) --------------------------------------------------------
signed int __usercall sub_10086C30@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 484);
}

//----- (10086C3B) --------------------------------------------------------
signed int __usercall sub_10086C3B@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 484);
}

//----- (10086C46) --------------------------------------------------------
int __usercall sub_10086C46@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 620), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086C5B) --------------------------------------------------------
signed int __usercall sub_10086C5B@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 484);
}

//----- (10086C66) --------------------------------------------------------
signed int __usercall sub_10086C66@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 484);
}

//----- (10086C71) --------------------------------------------------------
int __usercall sub_10086C71@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 620), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086C86) --------------------------------------------------------
signed int __usercall sub_10086C86@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 484);
}

//----- (10086C91) --------------------------------------------------------
signed int __usercall sub_10086C91@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 484);
}

//----- (10086C9C) --------------------------------------------------------
int __usercall sub_10086C9C@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 620), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086CB1) --------------------------------------------------------
signed int __usercall sub_10086CB1@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 404);
}

//----- (10086CBC) --------------------------------------------------------
signed int __usercall sub_10086CBC@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 404);
}

//----- (10086CC7) --------------------------------------------------------
int __usercall sub_10086CC7@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 620), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086CDC) --------------------------------------------------------
signed int __usercall sub_10086CDC@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 484);
}

//----- (10086CE7) --------------------------------------------------------
signed int __usercall sub_10086CE7@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 484);
}

//----- (10086CF2) --------------------------------------------------------
int __usercall sub_10086CF2@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 620), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086D07) --------------------------------------------------------
signed int __usercall sub_10086D07@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 404);
}

//----- (10086D12) --------------------------------------------------------
signed int __usercall sub_10086D12@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 404);
}

//----- (10086D1D) --------------------------------------------------------
int __usercall sub_10086D1D@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 620), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086D32) --------------------------------------------------------
signed int __usercall sub_10086D32@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 484);
}

//----- (10086D3D) --------------------------------------------------------
signed int __usercall sub_10086D3D@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 484);
}

//----- (10086D48) --------------------------------------------------------
int __usercall sub_10086D48@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 620), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086D5D) --------------------------------------------------------
signed int __usercall sub_10086D5D@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 404);
}

//----- (10086D68) --------------------------------------------------------
signed int __usercall sub_10086D68@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 404);
}

//----- (10086D73) --------------------------------------------------------
int __usercall sub_10086D73@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 620), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086D88) --------------------------------------------------------
signed int __usercall sub_10086D88@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 484);
}

//----- (10086D93) --------------------------------------------------------
signed int __usercall sub_10086D93@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 484);
}

//----- (10086D9E) --------------------------------------------------------
int __usercall sub_10086D9E@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 620), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086DB3) --------------------------------------------------------
signed int __usercall sub_10086DB3@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 404);
}

//----- (10086DBE) --------------------------------------------------------
signed int __usercall sub_10086DBE@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 404);
}

//----- (10086DC9) --------------------------------------------------------
int __usercall sub_10086DC9@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 620), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086DDE) --------------------------------------------------------
signed int __usercall sub_10086DDE@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 568);
}

//----- (10086DE9) --------------------------------------------------------
signed int __usercall sub_10086DE9@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 568);
}

//----- (10086DF4) --------------------------------------------------------
signed int __usercall sub_10086DF4@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 288);
}

//----- (10086DFF) --------------------------------------------------------
signed int __usercall sub_10086DFF@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 288);
}

//----- (10086E0A) --------------------------------------------------------
int __cdecl SEH_10037E60(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10086E20) --------------------------------------------------------
signed int __usercall sub_10086E20@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 504);
}

//----- (10086E2B) --------------------------------------------------------
signed int __usercall sub_10086E2B@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 504);
}

//----- (10086E36) --------------------------------------------------------
int __usercall sub_10086E36@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 636), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086E4B) --------------------------------------------------------
signed int __usercall sub_10086E4B@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 504);
}

//----- (10086E56) --------------------------------------------------------
signed int __usercall sub_10086E56@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 504);
}

//----- (10086E61) --------------------------------------------------------
int __usercall sub_10086E61@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 636), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086E76) --------------------------------------------------------
signed int __usercall sub_10086E76@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 504);
}

//----- (10086E81) --------------------------------------------------------
signed int __usercall sub_10086E81@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 504);
}

//----- (10086E8C) --------------------------------------------------------
int __usercall sub_10086E8C@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 636), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086EA1) --------------------------------------------------------
signed int __usercall sub_10086EA1@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 452);
}

//----- (10086EAC) --------------------------------------------------------
signed int __usercall sub_10086EAC@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 452);
}

//----- (10086EB7) --------------------------------------------------------
int __usercall sub_10086EB7@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 636), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086ECC) --------------------------------------------------------
signed int __usercall sub_10086ECC@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 504);
}

//----- (10086ED7) --------------------------------------------------------
signed int __usercall sub_10086ED7@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 504);
}

//----- (10086EE2) --------------------------------------------------------
int __usercall sub_10086EE2@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 636), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086EF7) --------------------------------------------------------
signed int __usercall sub_10086EF7@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 452);
}

//----- (10086F02) --------------------------------------------------------
signed int __usercall sub_10086F02@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 452);
}

//----- (10086F0D) --------------------------------------------------------
int __usercall sub_10086F0D@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 636), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086F22) --------------------------------------------------------
signed int __usercall sub_10086F22@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 504);
}

//----- (10086F2D) --------------------------------------------------------
signed int __usercall sub_10086F2D@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 504);
}

//----- (10086F38) --------------------------------------------------------
int __usercall sub_10086F38@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 636), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086F4D) --------------------------------------------------------
signed int __usercall sub_10086F4D@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 452);
}

//----- (10086F58) --------------------------------------------------------
signed int __usercall sub_10086F58@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 452);
}

//----- (10086F63) --------------------------------------------------------
int __usercall sub_10086F63@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 636), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086F78) --------------------------------------------------------
signed int __usercall sub_10086F78@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 504);
}

//----- (10086F83) --------------------------------------------------------
signed int __usercall sub_10086F83@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 504);
}

//----- (10086F8E) --------------------------------------------------------
int __usercall sub_10086F8E@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 636), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086FA3) --------------------------------------------------------
signed int __usercall sub_10086FA3@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 452);
}

//----- (10086FAE) --------------------------------------------------------
signed int __usercall sub_10086FAE@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 452);
}

//----- (10086FB9) --------------------------------------------------------
int __usercall sub_10086FB9@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 636), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086FCE) --------------------------------------------------------
signed int __usercall sub_10086FCE@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 600);
}

//----- (10086FD9) --------------------------------------------------------
signed int __usercall sub_10086FD9@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 600);
}

//----- (10086FE4) --------------------------------------------------------
int __usercall sub_10086FE4@<eax>(int a1@<ebp>)
{
  return nullsub_4(*(_DWORD *)(a1 - 636), &dword_109D1A00);
}
// 10013D60: using guessed type int __cdecl nullsub_4(_DWORD, _DWORD);
// 109D1A00: using guessed type int dword_109D1A00;

//----- (10086FF9) --------------------------------------------------------
signed int __usercall sub_10086FF9@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 452);
}

//----- (10087004) --------------------------------------------------------
signed int __usercall sub_10087004@<eax>(int a1@<ebp>)
{
  return sub_100156E0(a1 - 452);
}

//----- (1008700F) --------------------------------------------------------
int __cdecl SEH_100399F0(struct EHExceptionRecord *a1, struct EHRegistrationNode *a2, struct _CONTEXT *a3, void *a4)
{
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 10072760: using guessed type _DWORD __cdecl __CxxFrameHandler3(struct EHExceptionRecord *, struct EHRegistrationNode *, struct _CONTEXT *, void *);

//----- (10087019) --------------------------------------------------------
#error "10087025: call analysis failed (funcsize=7)"

//----- (10087034) --------------------------------------------------------
void __cdecl sub_10087034()
{
  dword_10E81CE0 = &off_100DF7C8;
  sub_1007A32B((int)&dword_10E81CE0);
}
// 100DF7C8: using guessed type int (__thiscall *off_100DF7C8)(void *, char);

#error "There were 50 decompilation failure(s) on 1964 function(s)"
