/* This file has been generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2015 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <math.h>
#include <defs.h>

#include <stdarg.h>


//-------------------------------------------------------------------------
// Function declarations

#define __thiscall __cdecl // Test compile in C mode

unsigned int __cdecl sub_10001000(__int16 a1);
void sub_10001030();
void *sub_10001090();
int __cdecl sub_10001120(unsigned int a1, int a2, int a3);
signed int sub_10001160();
__int16 __cdecl sub_10001170(int a1);
// unsigned int __usercall sub_10001290@<eax>(unsigned int result@<eax>, _BYTE *a2@<edx>, int a3@<ecx>);
// char __usercall sub_10001390@<al>(signed int *a1@<ecx>, int *a2@<ebx>, int a3@<esi>, _BYTE *a4, int a5);
// void __usercall sub_10001790(_DWORD *a1@<ecx>, _BYTE *a2@<edi>, int a3, int a4);
// int __usercall sub_100018C0@<eax>(char *a1@<ecx>, int a2@<ebx>);
// int __usercall sub_10001AB0@<eax>(int a1@<ebx>, __int16 a2, unsigned int a3, int a4);
void sub_10001B30();
// bool __usercall sub_10001BA0@<al>(_BYTE *a1@<edx>, unsigned int *a2@<ecx>, int a3@<ebx>, _BYTE *a4);
signed int __fastcall sub_10001DE0(_BYTE *a1, int a2);
void sub_10001FD0();
char __cdecl sub_10002550(unsigned __int16 a1);
int __cdecl sub_100025C0(unsigned __int16 a1, char a2);
bool __cdecl sub_10002650(unsigned __int16 a1);
bool __cdecl sub_10002680(unsigned __int16 a1);
int __cdecl sub_100026C0(unsigned __int16 a1);
signed __int16 __cdecl sub_10002820(unsigned __int16 a1, char **a2);
_DWORD *__cdecl sub_10002880(char a1, _DWORD *a2, char a3, _DWORD *a4);
__int16 __cdecl sub_100028B0(char a1, __int16 a2, char **a3);
signed int __cdecl sub_10002940(int a1, _DWORD *a2, int a3);
signed int __cdecl sub_10002A70(int a1, _DWORD *a2);
int __cdecl sub_10002A80();
int sub_10002AF0();
int sub_10002B10();
int __cdecl sub_10002B30(char a1);
int __cdecl sub_10002B50(char a1);
int sub_10002B70();
int __cdecl nullsub_1();
void __cdecl sub_10002CA0(_BYTE *a1, unsigned int a2);
char __cdecl sub_10002CC0(const char *a1);
void __cdecl sub_10002FF0(_BYTE *a1, int a2, char a3);
char *__cdecl sub_100031A0(int a1, _BYTE *a2, unsigned __int16 a3);
char *__cdecl sub_10003280(__int16 a1);
char *__cdecl sub_100032E0(__int16 a1);
char *__cdecl sub_10003340(__int16 a1, char *a2);
const char *__cdecl sub_10003380(char a1);
int __cdecl sub_100033B0(const char *a1);
void sub_10003400();
BOOL __cdecl sub_10003410(int a1, int a2, char a3, void *a4, __int16 a5, int a6);
signed int sub_10003480();
char sub_100034C0();
void sub_100034F0();
int sub_10003F00();
__int16 __cdecl sub_10003F30(int a1, int a2, int a3, int a4);
int __cdecl j_HWM_pvg_rgn_get_info(_DWORD, _DWORD); // weak
__int16 __cdecl sub_10003F70(int a1, _DWORD *a2, _BYTE *a3);
int __cdecl sub_10003FD0(int a1, int a2, int a3);
char __cdecl sub_10003FF0(int a1, int a2, int a3);
int __cdecl sub_10004030(int a1, int a2, int a3);
int __cdecl sub_10004060(int a1, int a2, int a3);
int __cdecl sub_10004080(int, void *, int, void *); // idb
char *__cdecl sub_100040D0(int a1, char *a2, int a3, char *a4, int a5);
char sub_10004200();
char __cdecl sub_10004210(char *a1, int a2, char a3, char *a4, int a5);
char __cdecl sub_10004310(char *a1, int a2, char a3, char *a4);
int sub_10004380();
int __cdecl sub_100043A0(int a1, int a2);
int sub_100043D0();
int __cdecl sub_100043F0(int a1, int a2, int a3, int a4);
int j_TSK_pvg_get_us_timer(void); // weak
int __cdecl sub_10004430(int a1, int a2, int a3, int a4);
int __cdecl sub_10004460(int a1);
signed int __cdecl sub_10004480(int a1, int a2);
int __cdecl sub_100044C0(int a1, int a2);
int __cdecl sub_100044F0(int a1, int a2);
int __cdecl sub_10004520(int a1);
int __cdecl sub_10004540(_BYTE *a1);
int __cdecl sub_10004580(int a1, int a2);
int __cdecl sub_100045B0(int a1, int a2);
int __cdecl sub_100045D0(int a1, int a2);
signed int __cdecl sub_10004630(int a1);
// int __usercall sub_100046B0@<eax>(const char **a1@<esi>);
// int __usercall sub_100049B0@<eax>(int a1@<eax>, int a2@<ecx>);
signed int __cdecl sub_100049D0(int a1);
int __cdecl sub_10004AA0(LONG Value); // idb
int sub_10004B30(void); // weak
int j_HWM_pvg_hsdb_get_lrus_online(void); // weak
int __cdecl j_HWM_pvg_log_err(_DWORD); // weak
int __cdecl j_HWM_pvg_read_reg(_DWORD); // weak
int __cdecl j_mem_unmap(_DWORD, _DWORD); // weak
signed int __cdecl sub_10004B80(unsigned int a1);
int j_FIL_vfs_dyn_linker(void); // weak
int __cdecl sub_10004BD0(int a1, int a2, int a3, int a4, int a5);
int __cdecl j_FIL_vfs_mmap(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __cdecl j_FIL_vfs_open(_DWORD, _DWORD, _DWORD); // weak
signed int __cdecl sub_10004C40(unsigned int a1, void *a2, int a3);
signed int __cdecl sub_10004C80(unsigned int a1, void *a2, int a3, int a4, int a5);
int __cdecl j_FIL_vfs_rename(_DWORD, _DWORD); // weak
signed int __cdecl sub_10004D10(unsigned int a1, int a2, int a3, int a4);
__int64 __cdecl sub_10004D60(int a1);
int __cdecl sub_10004D80(int a1, int a2, int a3);
int __cdecl j_FIL_vfs_write(_DWORD, _DWORD, _DWORD); // weak
int __cdecl sub_10004DB0(int a1, int a2, int a3, char a4);
signed int __cdecl sub_10004DD0(unsigned int a1, int a2, int a3);
int __cdecl sub_10004DF0(int a1, int a2, int a3);
unsigned int __cdecl sub_10004E10(int a1, int a2, unsigned int a3, char a4, unsigned __int16 a5, int a6);
// int __usercall sub_10004FC0@<eax>(int a1@<esi>);
int __cdecl sub_10005070(int a1, unsigned __int64 a2);
// int __usercall sub_10005120@<eax>(int a1@<ebx>, unsigned __int64 a2);
unsigned int __cdecl sub_100051B0(int a1, void *a2, int a3, int a4, int a5);
int __cdecl sub_10005300(unsigned __int16 a1);
char *__cdecl sub_10005320(unsigned __int16 a1);
char __thiscall sub_10005360(void *this);
int sub_10005390();
char __cdecl sub_100053C0(int a1);
int __cdecl sub_100053E0(int, char *); // idb
char __thiscall sub_10005440(void *this);
void __cdecl sub_10005460(_BYTE *a1, unsigned int a2, char a3);
int __cdecl sub_100056A0(int a1, _BYTE *a2, int a3);
int __cdecl sub_100056F0(void *, size_t); // idb
int __cdecl sub_10005720(char *DstBuf, size_t MaxCount, char *Format, va_list ArgList); // idb
int sub_10005760(char *DstBuf, size_t MaxCount, char *Format, ...);
int __cdecl sub_10005790(const char *a1, _BYTE *a2, int a3);
char sub_100057D0();
int __cdecl sub_10005800();
signed int sub_10005810();
int sub_10005840();
int __cdecl sub_10005850(_DWORD *a1, unsigned int a2, int a3, int a4, int a5, int a6);
char __cdecl sub_100059E0(char *a1);
int __cdecl sub_10005A10(unsigned __int8 *a1, int a2);
signed int __cdecl sub_10005A80(unsigned int a1, int a2, int a3, int a4);
signed int __cdecl sub_10005AE0(unsigned int a1, int a2, int a3);
char __cdecl sub_10005B00(char a1);
char __cdecl sub_10005B40(char a1);
signed int __cdecl sub_10005BB0(char a1);
char __cdecl sub_10005C30(char a1);
char __cdecl sub_10005CA0(char a1);
char __cdecl sub_10005D50(int a1);
char __thiscall sub_10005E50(void *this);
int __thiscall sub_10005E60(void *this);
char __thiscall sub_10005E80(void *this);
char __cdecl sub_10005F10(int a1, char a2);
char __cdecl sub_10005FD0(char a1);
int __cdecl sub_10006000(int a1);
int sub_10006090();
char __thiscall sub_100060C0(void *this);
// char __usercall sub_10006130@<al>(__int16 a1@<bx>, __int16 a2@<di>, void *a3@<esi>, char a4);
// void *__usercall sub_10006170@<eax>(char a1@<bl>, __int16 a2, __int16 a3, void *a4);
char __cdecl sub_10006210(char a1, unsigned __int8 a2, void *a3);
bool __cdecl sub_10006250(char a1, char a2, void *a3);
char __cdecl sub_100062B0(char a1, unsigned __int8 a2, void *a3);
char __cdecl sub_100062F0(char a1, char a2, void *a3);
char __cdecl sub_10006320(char a1, unsigned __int8 a2, void *a3);
char __cdecl sub_10006360(char a1, char a2, void *a3);
char __cdecl sub_100063A0(char a1, unsigned __int8 a2, void *a3);
bool __cdecl sub_100063E0(char a1, char a2, void *a3);
char __cdecl sub_10006430(char a1, unsigned __int8 a2, void *a3);
bool __cdecl sub_10006470(char a1, char a2, void *a3);
char __cdecl sub_100064B0(char a1, unsigned __int8 a2, void *a3);
bool __cdecl sub_100064F0(char a1, char a2, void *a3);
char __cdecl sub_10006530(char a1, void *a2);
char __cdecl sub_10006560(char a1, void *a2);
char __cdecl sub_10006590(char a1, void *a2);
char __cdecl sub_100065C0(char a1, void *a2);
char __cdecl sub_100065F0(char a1, void *a2);
char __cdecl sub_10006620(char a1, void *a2);
char __cdecl sub_10006650(char a1, unsigned __int8 a2, void *a3);
char __cdecl sub_10006690(char a1, char a2, void *a3);
char __cdecl sub_100066E0(char a1, unsigned __int8 a2, void *a3);
char __cdecl sub_10006720(char a1, char a2, void *a3);
char __cdecl sub_10006750(char a1, void *a2);
char __cdecl sub_10006780(char a1, void *a2);
char __cdecl sub_100067B0(char a1, void *a2);
char __cdecl sub_100067E0(int a1, char a2, char a3, int a4, void *a5);
bool __cdecl sub_10006B80(char a1, unsigned __int8 a2, int a3);
bool __cdecl sub_10006BF0(char a1, unsigned __int8 a2, int a3);
bool __cdecl sub_10006C50(char a1, unsigned __int8 a2, int a3);
char __cdecl sub_10006CC0(char a1, _BYTE *a2);
char __thiscall sub_10006D00(void *this);
char __cdecl sub_10006D70(char a1, int a2);
char __cdecl sub_10006DA0(char a1, int a2);
char __cdecl sub_10006DD0(char a1, int a2, char a3, unsigned __int8 *a4, _BYTE *a5, unsigned int a6);
char *__cdecl sub_10006FA0(char **a1);
int sub_10006FF0();
int __cdecl sub_10007030(_BYTE *a1, int a2);
signed int __cdecl sub_100070A0(_BYTE *a1, int a2);
// char *__usercall sub_10007140@<eax>(char *result@<eax>, const char *a2@<edi>, int a3@<esi>);
// const char *__usercall sub_100071A0@<eax>(int a1@<eax>);
// int __usercall sub_100071C0@<eax>(unsigned int a1@<ebx>);
// int __usercall sub_10007200@<eax>(_DWORD *a1@<eax>, void (__cdecl *a2)(signed int, void *)@<ebx>, int a3@<esi>);
// int __usercall sub_100072A0@<eax>(int result@<eax>);
char *__cdecl sub_100072E0(int a1, char *a2, int a3, const char *a4);
// int __usercall sub_10007490@<eax>(int a1@<eax>);
// int __usercall sub_100074C0@<eax>(int a1@<esi>);
void __cdecl sub_100074F0(int (**a1)(void), char **a2, _DWORD *a3);
int sub_10007960();
void *sub_100079B0();
char *sub_10007A10();
char __cdecl sub_10007A30(int a1, int a2, unsigned int a3);
char **sub_10007A70();
int __cdecl sub_10007A80(int a1, int a2, int a3);
int __cdecl sub_10007B30(int a1, int a2, int a3, const char *a4, const char *a5);
// char *__usercall sub_10007D40@<eax>(const char *a1@<ecx>, const char *a2@<ebx>, int a3, char *a4, int a5, char a6);
char *__cdecl sub_10007E00(char a1);
int *__cdecl sub_10007EA0(_BYTE *a1);
// int __usercall sub_10007F60@<eax>(int a1@<eax>);
// signed int __usercall sub_100080C0@<eax>(int a1@<esi>);
int __cdecl sub_10008130(int, int); // weak
int __cdecl sub_10008410(int a1, unsigned int a2);
__int16 __cdecl sub_10008500(int a1, unsigned int a2);
__int16 __cdecl sub_10008550(unsigned int *a1, _WORD *a2, _WORD *a3);
signed int __cdecl sub_100085D0(_BYTE *a1, char a2, int a3);
int __cdecl sub_10008620(int, float, float, int, int); // idb
unsigned int __cdecl sub_10008710(char *a1, char a2, char a3, char a4, int a5);
unsigned int __cdecl sub_10008760(_BYTE *a1, signed int a2, signed int a3, signed int a4, int a5);
unsigned int __cdecl sub_10008820(void *a1, size_t a2, int a3);
int __cdecl sub_10008880(unsigned __int8 *a1, unsigned __int8 a2, unsigned __int8 a3, unsigned __int8 a4, int a5);
int __cdecl sub_100088D0(_BYTE *a1, unsigned __int16 a2, unsigned __int16 a3, __int16 a4, int a5);
int __cdecl sub_10008970(_BYTE *a1, unsigned int a2, unsigned int a3, unsigned int a4, int a5);
unsigned int __cdecl sub_10008A20(char *a1);
int __cdecl sub_10008A40(_BYTE *a1);
int __cdecl sub_10008A60(unsigned __int8 *a1);
unsigned int __cdecl sub_10008A80(int a1, int a2);
unsigned int __cdecl sub_10008DB0(int a1, int a2);
unsigned int __cdecl sub_100091F0(_BYTE *a1);
int __cdecl sub_10009210(unsigned __int8 *a1);
int __cdecl sub_10009230(unsigned __int8 *a1);
int __cdecl sub_10009250(_BYTE *a1);
int __cdecl sub_10009270(int a1);
// void __cdecl __noreturn exit(int);
int __cdecl sub_100092C0(unsigned __int8 *a1);
int __cdecl sub_100092E0(int a1);
unsigned int __cdecl sub_10009370(int a1);
signed int __cdecl sub_10009390(int a1);
unsigned int __cdecl sub_100093E0(int a1);
int __cdecl sub_10009440(_BYTE *a1);
unsigned int __cdecl sub_10009460(_BYTE *a1);
int __cdecl sub_10009480(unsigned __int8 *a1);
int __cdecl sub_100094A0(_BYTE *a1);
signed int __cdecl sub_100094C0(_BYTE *a1, int a2);
int __cdecl sub_100094F0(_BYTE *a1, int a2);
int __cdecl sub_10009530(int a1, int a2);
int __cdecl sub_100095C0(unsigned __int8 *a1);
int __cdecl sub_100095E0(int a1);
int __cdecl sub_10009610(unsigned __int8 *a1);
unsigned int __cdecl sub_10009630(int a1);
int __cdecl sub_10009660(int a1);
int __cdecl sub_10009750(int a1);
signed int __cdecl sub_10009860(_BYTE *a1, int a2);
signed int __cdecl sub_10009890(unsigned __int8 *a1, int a2);
int __cdecl sub_100098C0(unsigned __int8 *a1);
int __cdecl sub_10009920(int a1);
signed int __cdecl sub_10009930(_BYTE *a1, int a2);
int __cdecl sub_10009960(int a1, int a2);
unsigned int __cdecl sub_100099E0(int a1);
unsigned int __cdecl sub_10009A20(int a1);
int __cdecl sub_10009A70(int a1);
int __cdecl sub_10009AA0(int a1);
unsigned int __cdecl sub_10009AD0(int a1);
unsigned int __cdecl sub_10009B00(int a1);
unsigned int __cdecl sub_10009B20(int a1);
void __cdecl __noreturn sub_10009B60(int a1);
signed int __cdecl sub_10009CD0(int a1, int a2);
// time_t __cdecl static _mkgmtime(struct tm *Tm);
// signed int __usercall sub_10009D30@<eax>(int a1@<eax>, int a2@<edi>);
signed int __cdecl sub_10009E00(int a1);
unsigned int __cdecl sub_10009E10(unsigned int a1);
bool __cdecl sub_10009E30(int a1);
int __cdecl sub_10009F00(int a1);
int __cdecl sub_10009F20(int a1, int a2);
signed int __cdecl sub_10009F60(int a1, void *a2, unsigned __int16 a3, __int16 a4);
int __cdecl sub_1000A020(int a1);
// int __usercall sub_1000A060@<eax>(int a1@<eax>, int a2@<esi>);
// signed int __usercall sub_1000A110@<eax>(int a1@<eax>, int a2@<esi>);
// char __usercall sub_1000A2E0@<al>(int a1@<eax>, char *a2@<edx>, unsigned int a3@<ecx>);
// int __usercall sub_1000A2F0@<eax>(int result@<eax>);
// char __usercall sub_1000A310@<al>(int a1@<eax>);
// int __usercall sub_1000A330@<eax>(int a1@<esi>, unsigned __int8 a2);
int __fastcall sub_1000A370(int a1, int a2);
// int __usercall sub_1000A390@<eax>(int a1@<esi>);
// signed int __usercall sub_1000A3D0@<eax>(int a1@<ecx>, int a2@<edi>, int a3, int a4, int a5, int a6);
int __cdecl sub_1000A5E0(int a1);
signed int __cdecl sub_1000A850(unsigned int a1, int a2, int a3);
// int __usercall sub_1000A8F0@<eax>(int a1@<eax>);
// int __usercall sub_1000A910@<eax>(int a1@<edi>, int a2);
// signed int __usercall sub_1000A940@<eax>(int a1@<eax>, int a2@<ebx>);
// void __cdecl __noreturn exit_0(int);
// char __usercall sub_1000AA30@<al>(char *a1@<edx>, size_t a2@<ecx>, int a3@<esi>);
// signed int __usercall sub_1000AA60@<eax>(int a1@<eax>);
signed int __cdecl sub_1000AA90(unsigned int a1);
signed int __cdecl sub_1000AAE0(int a1, int a2);
signed int __cdecl sub_1000ACD0(unsigned int a1, int a2, int a3);
signed int __cdecl sub_1000AD30(unsigned int a1, int a2, int a3);
int __cdecl sub_1000AEC0(char a1);
// signed int __usercall sub_1000AEE0@<eax>(char a1@<al>, int a2@<ecx>);
// int __usercall sub_1000AF80@<eax>(char a1@<al>);
// int __usercall sub_1000AFA0@<eax>(char a1@<al>);
// signed __int16 __usercall sub_1000AFC0@<ax>(char a1@<al>, unsigned __int16 a2@<si>);
char __cdecl sub_1000B200(char a1, unsigned __int16 a2, void *a3);
char __cdecl sub_1000B380(char a1, unsigned __int16 a2, int a3);
char __cdecl sub_1000B4E0(int a1, int a2, void *a3, char a4, __int16 a5, char a6);
char __cdecl sub_1000B620(char a1, unsigned __int16 a2, int a3);
char __cdecl sub_1000B700(char a1, int a2, __int16 a3, __int16 a4, void *a5, int a6);
char __cdecl sub_1000B980(char a1, int a2, __int16 a3, __int16 a4, void *a5);
char __cdecl sub_1000B9B0(char a1, int a2, void *a3);
char __cdecl sub_1000B9E0(char a1, int a2, void *a3, int a4);
signed int __fastcall sub_1000BA10(unsigned __int8 a1);
char __cdecl sub_1000BA20(unsigned __int8 a1);
__int16 __cdecl sub_1000BA40(unsigned __int8 a1);
signed int __cdecl sub_1000BA60(char a1, char a2);
int __cdecl sub_1000BAC0(char a1);
signed int __cdecl sub_1000BB00(char a1, char a2, char a3);
int __cdecl sub_1000BB70(char a1);
int __cdecl sub_1000BBB0(char a1);
char __cdecl sub_1000BBF0(char a1, int a2);
char __cdecl sub_1000BC10(char a1, int a2);
char __cdecl sub_1000BC40(char a1, int a2);
char __cdecl sub_1000BC90(char a1, int a2);
char __cdecl sub_1000BCC0(char a1, int a2);
char __cdecl sub_1000BCE0(int a1);
char __cdecl sub_1000BD00(char a1);
char sub_1000BD30();
BOOL __cdecl sub_1000BDD0(int a1, int a2);
char __cdecl sub_1000BDF0(int a1, char a2, int a3, int a4, int a5);
char sub_1000BE30();
char __cdecl sub_1000BEB0(char a1);
int __cdecl sub_1000BEF0(char a1);
int __cdecl sub_1000BF40(int a1);
char __cdecl sub_1000BF50(int a1, unsigned int a2);
int __cdecl sub_1000BF80(int a1, int a2, int a3);
// void __cdecl __noreturn exit_1(int);
int __cdecl sub_1000BFF0(int a1, char a2);
int __cdecl sub_1000C010(int a1, int a2, int a3);
int __cdecl sub_1000C040(int a1, int a2, int a3, int a4, int a5);
int __cdecl sub_1000C080(int a1, int a2, int a3, int a4, int a5, int a6);
int __cdecl sub_1000C0C0(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
char __cdecl sub_1000C110(int a1);
int __cdecl sub_1000C140(int a1);
char *sub_1000C160(char *Format, ...);
int __cdecl sub_1000C1A0(int a1, int ArgList);
int __cdecl sub_1000C200(int ArgList);
int __cdecl sub_1000C210(int a1, int ArgList);
int __cdecl sub_1000C270(int ArgList);
int sub_1000C280();
int __cdecl sub_1000C2B0(unsigned __int8 *a1);
unsigned int __cdecl sub_1000C2D0(void *a1);
unsigned int __cdecl sub_1000C2F0(void *a1);
unsigned int __cdecl sub_1000C310(void *a1);
unsigned int __cdecl sub_1000C330(void *a1);
unsigned int __cdecl sub_1000C350(void *a1);
unsigned int __cdecl sub_1000C370(void *a1);
// signed int __usercall sub_1000C3D0@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>);
// int __usercall sub_1000D480@<eax>(int a1@<esi>, int a2, unsigned int a3);
// signed int __usercall sub_1000D4E0@<eax>(int a1@<eax>, int a2, int a3);
// void *__usercall sub_1000E260@<eax>(void *a1@<eax>);
unsigned int __cdecl sub_1000E280(int a1, unsigned int a2);
// int __usercall sub_1000E2E0@<eax>(int result@<eax>);
// int __usercall sub_1000E320@<eax>(int result@<eax>);
// unsigned int __usercall sub_1000FA40@<eax>(int a1@<esi>, int a2);
// void *__usercall sub_1000FB40@<eax>(size_t a1@<eax>, char *a2@<ecx>, _DWORD *a3);
// void *__usercall sub_1000FBC0@<eax>(int a1@<eax>, size_t a2@<ebx>, char *a3);
// int __usercall sub_1000FC60@<eax>(int a1@<edi>, int a2, size_t a3);
// int __usercall sub_1000FD20@<eax>(size_t a1@<edi>, int a2@<esi>, void *a3);
// int __usercall sub_1000FD80@<eax>(char *a1@<edi>);
// int __usercall sub_1000FE40@<eax>(int a1@<ebx>);
char __cdecl sub_1000FF00(char *a1, size_t a2, int a3);
char __cdecl sub_1000FF50(char *a1, unsigned int a2, int a3);
bool __cdecl sub_1000FFA0(int a1, int a2);
// int __usercall sub_1000FFD0@<eax>(char *a1@<edx>, void *a2@<ecx>, size_t a3, size_t a4, int a5, int a6, unsigned int a7);
// int __usercall sub_100101E0@<eax>(void *a1@<eax>, int a2);
char *__cdecl sub_10010230(int a1, int a2);
signed int __cdecl sub_100102C0(char a1, void *a2, size_t a3, char *a4, _WORD *a5, int a6);
bool __cdecl sub_100103F0(void *a1, int a2);
// BOOL __usercall sub_10010470@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>);
// int __usercall sub_10010510@<eax>(int result@<eax>);
unsigned int __fastcall sub_100105A0(unsigned int a1, int a2);
// int __usercall sub_100105C0@<eax>(int result@<eax>);
// int __usercall sub_10010650@<eax>(int result@<eax>, int a2, int a3);
// int __usercall sub_10010AD0@<eax>(int a1@<eax>, _BYTE *a2@<edx>, int a3@<ecx>);
// void *__usercall sub_10010B80@<eax>(int a1@<edi>);
// int __usercall sub_10010BE0@<eax>(int result@<eax>, int a2@<edx>);
// signed int __usercall sub_10010DB0@<eax>(int a1@<edx>, int a2@<ebx>, int a3@<edi>);
_WORD *__fastcall sub_10010E30(int a1, int a2);
// unsigned int __usercall sub_10010EA0@<eax>(int a1@<esi>, unsigned int a2);
// unsigned int __usercall sub_10011050@<eax>(int a1@<esi>, int a2);
// int __usercall sub_10011120@<eax>(int result@<eax>, int a2@<edi>, int a3);
// int __usercall sub_100111D0@<eax>(int result@<eax>, __int16 a2@<cx>);
// unsigned int __usercall sub_10011210@<eax>(unsigned int a1@<edx>, int a2@<esi>, void *a3);
// signed int __usercall sub_10011270@<eax>(signed int result@<eax>, int a2@<ecx>, int a3);
// int __usercall sub_10011350@<eax>(int result@<eax>, int a2@<edx>, int a3@<ecx>);
// int __usercall sub_100118F0@<eax>(int a1@<eax>);
// int __usercall sub_10011B30@<eax>(int a1@<eax>, int a2@<ecx>, _BYTE *a3, int a4);
// signed int __usercall sub_10011BD0@<eax>(int a1@<esi>, int a2);
// unsigned int __usercall sub_10011DB0@<eax>(int a1@<edi>);
// int __usercall sub_10011EF0@<eax>(int a1@<eax>, int a2, int a3, int a4);
signed int __cdecl sub_100121A0(int a1, int a2);
// signed int __usercall sub_10012460@<eax>(int a1@<eax>);
// _WORD *__usercall sub_10012530@<eax>(int a1@<eax>, int a2@<ecx>, int a3);
signed int __cdecl sub_10012750(int a1, int a2);
signed int __cdecl sub_10012A60(int a1, int a2);
signed int __cdecl sub_10012E70(int a1, int a2);
int __cdecl sub_10012FE0(unsigned int a1, _BYTE *a2, unsigned int a3);
signed int __cdecl sub_100130E0(int a1);
// signed int __usercall sub_10013100@<eax>(unsigned int *a1@<eax>, _DWORD *a2, unsigned int a3, int a4, int a5, int a6, int *a7, int a8, unsigned int *a9, unsigned int *a10);
// int (__cdecl *__usercall sub_100135A0@<eax>(_DWORD *a1@<eax>, int a2@<esi>, int a3))(_DWORD, _DWORD, _DWORD);
// int __usercall sub_100135F0@<eax>(int result@<eax>, char a2, char a3, int a4, int a5);
signed int __cdecl sub_10013610(int a1, int a2, int a3, int a4, int a5, int a6);
// int __usercall sub_100139C0@<eax>(int a1@<edi>, int a2@<esi>, int a3);
// signed int __usercall sub_10013B00@<eax>(int a1@<edx>, unsigned int *a2@<esi>, _DWORD *a3, int *a4);
// signed int __usercall sub_10013B50@<eax>(unsigned int *a1@<eax>, int *a2@<ecx>, int a3@<ebx>, unsigned int a4@<esi>, unsigned int a5, _DWORD *a6, unsigned int *a7, unsigned int *a8, int *a9);
// int __usercall sub_10013BF0@<eax>(_DWORD *a1@<eax>, _DWORD *a2@<edx>, _DWORD *a3@<ecx>, _DWORD *a4);
signed int __cdecl sub_10013C10(int a1);
// int __usercall sub_10013C20@<eax>(int a1@<eax>, int a2@<ecx>, int a3);
// int __usercall sub_100142C0@<eax>(int a1@<eax>, int a2, int a3);
// signed int __usercall sub_10014CA0@<eax>(int a1@<edi>, int a2);
signed int __cdecl sub_10014FD0(int a1, int a2);
char __cdecl sub_10014FF0(int a1, int a2);
bool __cdecl sub_10015110(void *a1);
char __cdecl sub_10015150(char a1);
char __cdecl sub_10015180(char a1, void *a2);
int __cdecl sub_10015200(char a1, _DWORD *a2);
bool __cdecl sub_10015250(unsigned __int8 a1, char a2, unsigned int a3);
bool __cdecl sub_100152E0(char a1, char a2, char a3, int a4, unsigned int a5, unsigned int a6);
char __cdecl sub_10015380(char a1);
char __cdecl sub_10015400(char a1, int a2);
// int __usercall sub_10015570@<eax>(char a1@<cl>, int *a2@<esi>, unsigned __int16 a3);
// int __usercall sub_100155B0@<eax>(unsigned __int8 a1@<bl>, int *a2@<esi>, int a3);
signed int sub_100155F0();
char __cdecl sub_10015600(unsigned __int8 a1, unsigned __int16 a2, int a3);
char __cdecl sub_10015660(char a1, void *a2);
char __cdecl sub_10015780(unsigned __int8 a1, unsigned __int8 a2, int a3);
char __cdecl sub_10015800(int a1, char a2, char a3, unsigned __int8 *a4, int *a5, unsigned int a6);
int __cdecl sub_100159B0(char *a1, char a2);
bool __cdecl sub_10015A20(int a1, void *a2);
char __cdecl sub_10015AE0(int a1, bool *a2);
int __cdecl sub_10015BA0(char a1);
int __cdecl sub_10015BC0(int, void *); // idb
// int __usercall sub_10015C20@<eax>(char a1@<al>);
BOOL __cdecl sub_10015C50(char a1, int a2);
int __cdecl sub_10015C80(int, char, int, int, void *); // idb
char __cdecl sub_10015CB0(void *a1);
BOOL __cdecl sub_10015CD0(int a1);
char __cdecl sub_10015CF0(int a1, char a2, int a3, int a4, void *a5);
bool __cdecl sub_10015D20(char a1, void *a2);
// signed int __usercall sub_10015D60@<eax>(char a1@<al>);
bool __cdecl sub_10015D80(char a1, void *a2);
bool __cdecl sub_10015E70(char a1, char a2, int a3, int a4, void *a5);
BOOL __cdecl sub_10015EA0(unsigned __int8 a1);
// BOOL __usercall sub_10015EB0@<eax>(unsigned __int8 a1@<al>, char a2);
bool __cdecl sub_10015EE0(char a1, char a2, unsigned __int8 a3, int a4);
bool __cdecl sub_10016090(unsigned __int8 a1, int a2);
bool __cdecl sub_100160D0(char a1, char a2, char a3, unsigned __int8 *a4, _DWORD *a5, int a6);
char __cdecl sub_100161C0(char a1, unsigned __int8 a2, int a3);
bool __cdecl sub_10016260(char a1, unsigned __int8 a2, int a3);
char __cdecl sub_100162E0(char a1, unsigned __int8 a2, int a3);
char __cdecl sub_10016350(char a1, void *a2);
char __cdecl sub_100163D0(unsigned __int8 a1, unsigned __int8 a2, int a3);
char __cdecl sub_10016450(unsigned __int8 a1, unsigned __int8 a2, int a3);
char __cdecl sub_100164D0(char a1, unsigned __int8 a2, int a3);
char __cdecl sub_10016540(char a1, char a2, char a3, unsigned __int8 *a4, int a5);
char __cdecl sub_10016650(char a1, void *a2);
bool __cdecl sub_10016670(unsigned __int8 a1, char *a2);
char __cdecl sub_100166B0(int a1, char a2, int a3, int a4, void *a5);
BOOL sub_100166F0();
char __cdecl sub_10016750(int a1, char *a2);
BOOL __cdecl sub_10016840(int a1, int a2);
char __cdecl sub_10016860(int a1, char a2, int a3, int a4, char *a5);
char __cdecl sub_100168A0(int a1, int a2);
BOOL __cdecl sub_10016950(int a1, int a2);
char __cdecl sub_10016970(int a1, char a2, int a3, int a4, int a5);
char __cdecl sub_100169B0(void *a1);
char __cdecl sub_100169D0(void *a1);
char __cdecl sub_10016B20(int a1, char a2, char a3, int a4, void *a5, size_t a6);
char __cdecl sub_10016CC0(char a1);
// __int16 __usercall sub_10016D00@<ax>(unsigned __int8 a1@<al>);
char __cdecl sub_10016D10(unsigned __int8 a1, char *a2);
char __cdecl sub_10016DE0(char a1, char a2, char a3, int a4, char *a5, unsigned int a6);
char __cdecl sub_10016E60(char a1, char a2, char a3, int a4, void *a5);
int __cdecl sub_10016F70(char a1);
char __cdecl sub_10016FC0(unsigned __int16 a1, char *a2, char a3);
char __cdecl sub_100170F0(char a1, int a2);
bool __cdecl sub_10017170(void *a1);
char __cdecl sub_100171C0(char a1, int a2);
// __int16 __usercall sub_100172A0@<ax>(unsigned __int8 a1@<al>);
char __cdecl sub_100172B0(unsigned __int8 a1, int *a2, const void *a3);
char __cdecl sub_10017340(unsigned __int8 a1, char a2);
bool __cdecl sub_10017400(__int16 a1, char a2, int a3, int a4, void *a5);
char __cdecl sub_10017500(char a1);
char __cdecl sub_10017540(char a1);
int __cdecl sub_10017560(char a1, char a2);
// bool __usercall sub_10017610@<al>(unsigned __int8 a1@<al>, char a2, unsigned __int8 a3);
// char __usercall sub_10017640@<al>(unsigned __int8 a1@<bl>, size_t a2@<edi>, int a3@<esi>, char a4, unsigned __int8 a5, void *a6);
char __cdecl sub_100176E0(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5);
char __cdecl sub_10017760(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5);
char __cdecl sub_100177E0(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5);
char __cdecl sub_10017860(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5);
char __cdecl sub_100178E0(char a1);
// int TXT_get_static_string(void); weak
int __cdecl sub_10017980(int, void *, __int16, int); // idb
int __cdecl sub_10017B10(int, char *); // idb
int __cdecl sub_10017BF0(int a1, unsigned __int16 a2, unsigned __int16 a3);
int __cdecl sub_10017E40(int, int, char, void *, __int16, int); // idb
int __cdecl sub_100185E0(int, int, char *, __int16, int); // idb
int __cdecl sub_10019010(int a1, int a2, int a3);
int __cdecl sub_100190D0(int a1, int a2, int a3);
char __cdecl sub_10019190(int a1);
char __cdecl sub_10019400(char *a1);
signed int __cdecl sub_100194E0(int a1);
int __cdecl sub_10019570(char *, char *, int, __int16); // idb
int __cdecl sub_10019970(void *, char *, __int16); // idb
int __cdecl sub_10019B10(int, char *, char *, __int16); // idb
int __cdecl sub_10019B70(int a1);
int __cdecl sub_10019C90(char *); // idb
int __cdecl sub_1001A210(char *); // idb
int __cdecl sub_1001A460(char *); // idb
int __cdecl sub_1001A790(int a1);
int __cdecl sub_1001A800(char *, int, int); // idb
__int32 __cdecl sub_1001AFA0(int a1, char *a2);
int __cdecl sub_1001B0D0(int, void *, int, int); // idb
char __cdecl sub_1001B660(int a1, int a2, __int16 a3);
signed __int16 __cdecl sub_1001B700(__int16 a1);
int __cdecl sub_1001B7C0(int, int, int, char *); // idb
int __cdecl sub_1001C470(int a1, int a2, int a3);
int __cdecl sub_1001C4C0(char *, int, __int16); // idb
int __cdecl sub_1001C560(char *, __int16); // idb
int __cdecl sub_1001C6D0(_DWORD *a1, _DWORD *a2, int a3, int a4);
int __cdecl sub_1001C740(int a1, unsigned int *a2, int a3, int a4);
int __cdecl sub_1001CA70(int a1, unsigned int *a2, int a3, int a4);
int __cdecl sub_1001CDA0(int a1, _DWORD *a2, int a3, int a4);
int __cdecl sub_1001D110(int a1, unsigned int *a2, int a3, int a4);
int __cdecl sub_1001D440(int, int, __int16, void *); // idb
int __cdecl sub_1001D4E0(int, int, __int16, void *); // idb
int __cdecl sub_1001D510(int, int, __int16, void *); // idb
int __cdecl sub_1001D8B0(int, int, __int16, void *); // idb
signed int __cdecl sub_1001D9B0(int a1, int a2, __int16 a3, void *a4);
int __cdecl sub_1001DA50(int a1, int a2, __int16 a3, void *a4);
signed int __cdecl sub_1001DA80(int a1, int a2, __int16 a3, void *a4);
int __cdecl sub_1001DE50(int, int, __int16, void *); // idb
char __cdecl sub_1001DF20(int a1, unsigned __int8 a2);
int __cdecl sub_1001DFB0(__int16, int, char *); // idb
int __cdecl sub_1001E100(int, int, void *, __int16); // idb
int __cdecl sub_1001E150(int, int, void *); // idb
int __cdecl sub_1001E180(int, int, void *); // idb
int __cdecl sub_1001E330(int a1, int a2, unsigned __int16 a3);
int __cdecl sub_1001E520(int a1, int a2);
int __cdecl sub_1001E690(int, int, void *); // idb
int __cdecl sub_1001E730(int a1, int a2, int a3, unsigned __int8 a4, int a5);
int __cdecl sub_1001E980(int a1, int a2, unsigned int *a3);
unsigned int __cdecl sub_1001EB60(int a1);
int __cdecl sub_1001EBE0(int a1, int a2, __int16 a3, _WORD *a4, int a5);
int __cdecl sub_1001ED10(int a1, int a2, __int16 a3, _WORD *a4, int a5);
int __cdecl sub_1001EE40(int a1, int a2, __int16 a3, _WORD *a4, int a5);
int __cdecl sub_1001EF80(int a1, unsigned __int8 a2, int a3, __int16 a4, _WORD *a5, int a6, _WORD *a7, int a8, int a9, char a10, __int16 a11, char a12, char a13);
int __cdecl sub_1001F210(int a1, _BYTE *a2, __int16 a3);
size_t __cdecl sub_1001F270(int a1, char *a2, int a3);
char *__cdecl sub_1001F360(int a1, void *a2, int a3);
int __cdecl sub_1001F4D0(int, void *, char); // idb
char __cdecl sub_1001F5C0(int a1, void *a2, int a3, int a4, int a5);
int __cdecl sub_1001F6F0(int, int, void *); // idb
unsigned int __cdecl sub_1001F7A0(int a1, int a2, unsigned int *a3, int a4);
int __cdecl sub_1001F970(int a1, int a2, int a3);
int __cdecl sub_1001F990(int a1, int a2, int a3);
int __cdecl sub_1001FBC0(int a1);
char __cdecl sub_1001FC20(int a1, int a2, int a3, int a4, unsigned __int8 a5, int a6);
int __cdecl sub_1001FF40(int a1, int a2, _BYTE *a3);
signed int __cdecl sub_10020010(int a1, unsigned __int8 a2);
int __cdecl sub_10020220(int a1, int a2, int a3, __int16 a4);
int __cdecl sub_10020540(int a1, unsigned __int16 a2);
int __cdecl sub_10020880(int a1);
int __cdecl sub_10020C20(int a1, unsigned __int16 a2);
int __cdecl sub_10020F00(int, int, void *); // idb
int __cdecl sub_10020FF0(int a1, int a2, int a3, __int16 a4, int a5);
int __cdecl sub_10021530(int a1, int a2, int a3);
char __cdecl sub_10021880(int a1, unsigned __int16 a2, char a3);
int __cdecl sub_10021980(int a1, _BYTE *a2, __int16 a3);
int __cdecl sub_10021AB0(int a1, int a2, int a3, int a4, unsigned __int16 a5);
int __cdecl sub_10021B20(int a1, int a2);
int __cdecl sub_10021B80(int a1, int a2);
int __cdecl sub_10021C90(int a1, int a2);
_BYTE *__cdecl sub_10021F90(int a1, int a2, _BYTE *a3);
int __cdecl sub_10022020(int a1, int a2, unsigned __int16 a3);
int __cdecl sub_10022470(int a1, unsigned int a2);
int __cdecl sub_100224D0(int a1, int a2);
int __cdecl sub_10022570(int a1);
int __cdecl sub_10022650(int a1, _DWORD *a2);
int __cdecl sub_10022690(int a1, int a2, int *a3);
int __cdecl sub_100228B0(int a1, unsigned __int8 a2, unsigned __int16 a3, char a4, int *a5, int a6);
char __cdecl sub_10022A60(unsigned __int8 a1, unsigned __int16 a2, char a3);
int __cdecl sub_10022AE0(int a1, int a2, unsigned __int8 a3, unsigned int a4, int a5);
int __cdecl sub_10022D90(int a1, int a2, char a3, unsigned int a4, int a5);
int __cdecl sub_10022E20(int a1, int *a2, int *a3);
int __cdecl sub_10022F60(int a1, int a2, unsigned __int16 a3);
signed int __cdecl sub_10023150(_BYTE *a1, signed int a2);
signed int __cdecl sub_10023220(int a1);
signed int __cdecl sub_10023270(int a1, unsigned int a2);
int __cdecl sub_10023370(int a1);
// int __cdecl sub_10023490(float); idb
int __cdecl sub_100234C0(unsigned __int8 a1, unsigned int a2);
unsigned int __cdecl sub_100234E0(unsigned int *a1, signed int a2, unsigned int a3);
void *__cdecl sub_100236F0(int a1, int a2, void *a3, int a4);
void __cdecl sub_10024030(unsigned int a1, char a2, int a3);
signed int __cdecl sub_100241B0(int *a1);
signed int __cdecl sub_100242C0(unsigned int *a1, int a2, unsigned __int16 a3);
signed int __cdecl sub_100243B0(unsigned int *a1, int a2, unsigned __int16 a3);
int __cdecl sub_100243F0(int, void *, int); // idb
signed int __cdecl sub_100244D0(unsigned int a1, int a2);
unsigned int __cdecl sub_10024630(int a1, _DWORD *a2);
signed int __cdecl sub_10024720(unsigned int *a1);
signed int __cdecl sub_10024770(unsigned int *a1);
// signed int __usercall sub_100247F0@<eax>(int a1@<esi>, __int16 a2, char a3);
signed int __cdecl sub_100248E0(int a1, __int16 a2, char a3);
signed int __cdecl sub_10024AE0(int a1, char a2);
int __cdecl sub_10024B80(int a1, int a2, char a3);
signed int __cdecl sub_10024C60(int a1, int a2);
signed int __cdecl sub_10024D40(int a1, unsigned int a2);
// signed int __usercall sub_10024F10@<eax>(int a1@<esi>);
signed int __cdecl sub_10024FA0(int a1, char a2);
// int SYS_exit_krnl(void); weak
// int __cdecl HWM_pvg_read_rgn(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int SYS_enter_krnl(void); weak
// int __cdecl reg_read(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl reg_write(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int TSK_pvg_get_id(void); weak
// int __cdecl TSK_pvg_get_msg(_DWORD, _DWORD); weak
// int TSK_pvg_get_timer(void); weak
// int __cdecl TSK_pvg_get_tsk_info(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl TSK_pvg_kill_process(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl TSK_pvg_release_smphr(_DWORD); weak
// int __cdecl TSK_pvg_reply_msg(_DWORD, _DWORD); weak
// int __cdecl TSK_pvg_reserve_smphr(_DWORD, _DWORD); weak
// int __cdecl TSK_pvg_send_msg_ex(_DWORD, _DWORD); weak
// int __cdecl TSK_pvg_suspend(_DWORD); weak
// int __cdecl TSK_pvg_wait_evnt(_DWORD); weak
// int FIL_vfs_close(void); weak
// int __cdecl FIL_vfs_memmove_swi(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int FIL_vfs_read(void); weak
// int __cdecl FIL_vfs_read_ofst(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl FIL_vfs_seek(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl FIL_vfs_size(_DWORD); weak
// int __cdecl FIL_vfs_truncate(_DWORD, _DWORD, _DWORD); weak
// int __cdecl FIL_vfs_write_ofst(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl SYS_pvg_is_booting(_DWORD); weak
// int __cdecl SYS_pvg_var_ctrl(_DWORD, _DWORD); weak
// void *__cdecl memcpy(void *, const void *, size_t);
// void *__cdecl memset(void *, int, size_t);
// char *__cdecl strncpy(char *, const char *, size_t);
// int __cdecl strncmp(const char *, const char *, size_t);
// char *__cdecl strncat(char *, const char *, size_t);
// int sprintf(char *, const char *, ...);
// _DWORD __thiscall _LocaleUpdate::_LocaleUpdate(_LocaleUpdate *this, struct localeinfo_struct *); idb
// int __cdecl isalpha(int);
// int __cdecl islower(int);
// int __cdecl isdigit(int);
// int __cdecl isalnum(int);
// __int32 __cdecl strtol(const char *, char **, int);
// void *__cdecl memcpy_0(void *, const void *, size_t);
// char *__cdecl strrchr(const char *, int);
// int *__cdecl _errno();
// unsigned __int32 *__cdecl __doserrno();
// _DWORD __cdecl _dosmaperr(_DWORD); weak
// int __cdecl toupper(int);
// int __cdecl tolower(int);
// void *__cdecl memchr(const void *, int, size_t);
// char *__cdecl strchr(const char *, int);
// int __cdecl _vsnprintf_l(char *DstBuf, size_t MaxCount, const char *Format, _locale_t Locale, va_list ArgList);
int __cdecl sub_10026A6F(char *DstBuf, size_t MaxCount, char *Format, va_list ArgList); // idb
// double __cdecl floor(double);
// double __cdecl log(double);
// int __cdecl memcmp(const void *, const void *, size_t);
// size_t __cdecl strlen(const char *);
// char *__cdecl strcpy(char *, const char *);
// char *__cdecl strcat(char *, const char *);
int __cdecl sub_10029389(int, FILE *); // idb
int __cdecl sub_10029F1E(int a1);
// int __cdecl _invoke_watson(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// _DWORD __cdecl _encode_pointer(_DWORD); weak
// int _encoded_null(void); weak
// _DWORD __cdecl _decode_pointer(_DWORD); weak
// int _getptd(void); weak
signed int __cdecl sub_1002BCEA(_DWORD *a1);
signed int __cdecl sub_1002BD21(_DWORD *a1);
// void __cdecl free(void *);
// _DWORD __cdecl _calloc_crt(size_t, _DWORD); weak
void sub_1002C2F2();
int (*sub_1002C79F())(void);
void __cdecl sub_1002C7C3(); // idb
// int __cdecl isleadbyte(int);
// int _get_sse2_info(void); weak
int sub_1003096C();
void sub_10030979();
DWORD __cdecl sub_10030981(int a1, int a2, int a3, DWORD dwMoveMethod);
// __int64 __cdecl _lseeki64(int, __int64, int);
_WORD *__cdecl sub_10030B1D(int a1, int a2, DWORD nNumberOfBytesToWrite);
_WORD *__cdecl sub_1003113F(int a1, int a2, DWORD nNumberOfBytesToWrite);
// _DWORD __cdecl _getbuf(_DWORD); weak
int __cdecl sub_1003125F(signed int a1);
void **sub_100312BD();
signed int sub_100312C3();
// int __cdecl _fileno(FILE *);
int __cdecl sub_10031D68(int, int, struct localeinfo_struct *); // idb
int __cdecl sub_10031E0E(int, int, struct localeinfo_struct *); // idb
int sub_10032702();
int __cdecl sub_100328BF(int a1);
int __cdecl sub_100328C9(int a1);
int __cdecl sub_100328D3(int a1);
int __cdecl sub_100329B2(int a1);
// int __cdecl mbtowc(wchar_t *, const char *, size_t);
int sub_10033D16();
signed int __cdecl sub_100347D0(signed int a1);
signed int __cdecl sub_10034851(signed int a1);
// _DWORD __cdecl __lock_fhandle(_DWORD); weak
void __cdecl sub_10034962(signed int a1);
// int __cdecl _putwch_nolock(__int16 Buffer); idb
// _DWORD __cdecl flsall(_DWORD); weak
int sub_10034C63();
signed int __cdecl sub_10034C7D(int a1, int a2);
signed int __cdecl sub_100351BF(int a1, int a2);
// _DWORD __cdecl __strgtold12_l(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
int __cdecl sub_10036AB8(int a1, int a2, int a3);
signed int __cdecl sub_100373DD(signed int a1);
int __cdecl sub_10037580(int a1);
int __cdecl sub_100375C0(int a1);
int __cdecl sub_10037600(int a1);
int __cdecl sub_10037640(int a1);
int __cdecl sub_10037680(int a1, int a2, int a3, int a4);
int __cdecl sub_100376F0(int a1, int a2, int a3);
int __cdecl sub_10037790(int a1);
// BOOL __stdcall CloseHandle(HANDLE hObject);
// BOOL __stdcall SetStdHandle(DWORD nStdHandle, HANDLE hHandle);
// HMODULE __stdcall LoadLibraryA(LPCSTR lpLibFileName);
// BOOL __stdcall GetConsoleMode(HANDLE hConsoleHandle, LPDWORD lpMode);
// UINT __stdcall GetConsoleCP();
// BOOL __stdcall WriteFile(HANDLE hFile, LPCVOID lpBuffer, DWORD nNumberOfBytesToWrite, LPDWORD lpNumberOfBytesWritten, LPOVERLAPPED lpOverlapped);
// DWORD __stdcall SetFilePointer(HANDLE hFile, LONG lDistanceToMove, PLONG lpDistanceToMoveHigh, DWORD dwMoveMethod);
// void __stdcall LeaveCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// int __stdcall WideCharToMultiByte(UINT CodePage, DWORD dwFlags, LPCWSTR lpWideCharStr, int cchWideChar, LPSTR lpMultiByteStr, int cbMultiByte, LPCSTR lpDefaultChar, LPBOOL lpUsedDefaultChar);
// void __stdcall DeleteCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// FARPROC __stdcall GetProcAddress(HMODULE hModule, LPCSTR lpProcName);
// DWORD __stdcall GetLastError();
// LONG __stdcall InterlockedExchange(volatile LONG *Target, LONG Value);

//-------------------------------------------------------------------------
// Data declarations

__int16 word_10038204[] = { 7 }; // weak
_UNKNOWN unk_1003820C; // weak
int dword_10038240[] = { 2003 }; // weak
int dword_10038250[] = { 2004 }; // weak
void *off_10038270 = &unk_1003822C; // weak
wchar_t asc_100382B0[3] = L"#$√Å"; // weak
_UNKNOWN unk_1003886C; // weak
_UNKNOWN unk_10038870; // weak
_UNKNOWN unk_10038874; // weak
_UNKNOWN unk_10038878; // weak
_UNKNOWN unk_10038894; // weak
__int16 word_100388C8[] = { 1 }; // weak
__int16 word_100388CA[] = { 5819 }; // weak
__int16 word_10038908[] = { 1 }; // weak
__int16 word_1003890A[] = { 1685 }; // weak
_UNKNOWN unk_10038970; // weak
char *off_10038974 = "/shr_mem/mdb_intf.shr"; // weak
void *tsk_app_hdr_ptr = &tsk_app_hdr; // weak
_UNKNOWN unk_1003C5B8; // weak
int (*off_1003D7B8[4])() = { &sub_10005830, &sub_10005810, &sub_10005820, &sub_10005810 }; // weak
char byte_10057FF8[] = { '\0' }; // weak
_UNKNOWN unk_10059520; // weak
char *off_100598D0 = "failure listener"; // weak
_BYTE word_10059DB2[1362] =
{
  0,
  0,
  0,
  0,
  31,
  0,
  59,
  0,
  90,
  0,
  120,
  0,
  151,
  0,
  181,
  0,
  212,
  0,
  243,
  0,
  17,
  1,
  48,
  1,
  78,
  1,
  0,
  0,
  0,
  0,
  23,
  21,
  3,
  3,
  10,
  0,
  0,
  0,
  65,
  66,
  67,
  68,
  69,
  70,
  71,
  72,
  74,
  75,
  76,
  77,
  80,
  81,
  82,
  83,
  0,
  0,
  93,
  0,
  90,
  0,
  87,
  0,
  96,
  0,
  1,
  0,
  94,
  0,
  91,
  0,
  88,
  0,
  97,
  0,
  2,
  0,
  95,
  0,
  92,
  0,
  89,
  0,
  98,
  0,
  0,
  0,
  0,
  0,
  226,
  0,
  228,
  0,
  224,
  0,
  1,
  0,
  227,
  0,
  229,
  0,
  225,
  0,
  2,
  0,
  60,
  2,
  61,
  2,
  59,
  2,
  0,
  0,
  220,
  0,
  1,
  0,
  222,
  0,
  2,
  0,
  58,
  2,
  255,
  255,
  255,
  255,
  10,
  18,
  10,
  18,
  10,
  28,
  14,
  29,
  14,
  29,
  14,
  29,
  10,
  29,
  10,
  28,
  10,
  24,
  10,
  24,
  0,
  24,
  0,
  23,
  0,
  22,
  0,
  23,
  0,
  23,
  0,
  23,
  0,
  28,
  0,
  24,
  0,
  22,
  0,
  20,
  10,
  24,
  10,
  18,
  10,
  20,
  10,
  24,
  10,
  13,
  10,
  20,
  10,
  28,
  10,
  18,
  0,
  22,
  0,
  22,
  0,
  20,
  0,
  18,
  10,
  18,
  0,
  28,
  0,
  23,
  0,
  22,
  10,
  28,
  10,
  22,
  10,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  0,
  1,
  0,
  136,
  25,
  0,
  0,
  1,
  0,
  1,
  0,
  137,
  25,
  0,
  0,
  2,
  0,
  1,
  0,
  138,
  25,
  0,
  0,
  4,
  0,
  1,
  0,
  139,
  25,
  0,
  0,
  5,
  0,
  1,
  0,
  140,
  25,
  0,
  0,
  6,
  0,
  1,
  0,
  141,
  25,
  0,
  0,
  18,
  0,
  1,
  0,
  142,
  25,
  0,
  0,
  19,
  0,
  1,
  0,
  143,
  25,
  0,
  0,
  20,
  0,
  1,
  0,
  144,
  25,
  0,
  0,
  21,
  0,
  1,
  0,
  145,
  25,
  0,
  0,
  22,
  0,
  1,
  0,
  146,
  25,
  0,
  0,
  23,
  0,
  1,
  0,
  147,
  25,
  0,
  0,
  25,
  0,
  1,
  0,
  148,
  25,
  0,
  0,
  26,
  0,
  1,
  0,
  149,
  25,
  0,
  0,
  27,
  0,
  1,
  0,
  150,
  25,
  0,
  0,
  28,
  0,
  1,
  0,
  151,
  25,
  0,
  0,
  29,
  0,
  1,
  0,
  152,
  25,
  0,
  0,
  30,
  0,
  1,
  0,
  153,
  25,
  0,
  0,
  31,
  0,
  1,
  0,
  154,
  25,
  0,
  0,
  32,
  0,
  4,
  0,
  155,
  25,
  0,
  0,
  36,
  0,
  4,
  0,
  156,
  25,
  0,
  0,
  40,
  0,
  1,
  0,
  157,
  25,
  0,
  0,
  41,
  0,
  1,
  0,
  158,
  25,
  0,
  0,
  42,
  0,
  1,
  0,
  159,
  25,
  0,
  0,
  43,
  0,
  1,
  0,
  160,
  25,
  0,
  0,
  44,
  0,
  1,
  0,
  161,
  25,
  0,
  0,
  45,
  0,
  1,
  0,
  162,
  25,
  0,
  0,
  46,
  0,
  1,
  0,
  163,
  25,
  0,
  0,
  47,
  0,
  1,
  0,
  164,
  25,
  0,
  0,
  49,
  0,
  1,
  0,
  166,
  25,
  0,
  0,
  50,
  0,
  30,
  0,
  167,
  25,
  0,
  0,
  80,
  0,
  1,
  0,
  168,
  25,
  0,
  0,
  81,
  0,
  1,
  0,
  169,
  25,
  0,
  0,
  84,
  0,
  4,
  0,
  170,
  25,
  0,
  0,
  88,
  0,
  1,
  0,
  171,
  25,
  0,
  0,
  89,
  0,
  1,
  0,
  172,
  25,
  0,
  0,
  92,
  0,
  4,
  0,
  173,
  25,
  0,
  0,
  96,
  0,
  4,
  0,
  174,
  25,
  0,
  0,
  100,
  0,
  1,
  0,
  175,
  25,
  0,
  0,
  208,
  0,
  4,
  0,
  168,
  23,
  0,
  0,
  104,
  0,
  1,
  0,
  177,
  25,
  0,
  0,
  105,
  0,
  1,
  0,
  178,
  25,
  0,
  0,
  106,
  0,
  1,
  0,
  179,
  25,
  0,
  0,
  107,
  0,
  1,
  0,
  180,
  25,
  0,
  0,
  108,
  0,
  1,
  0,
  181,
  25,
  0,
  0,
  109,
  0,
  1,
  0,
  182,
  25,
  0,
  0,
  110,
  0,
  1,
  0,
  183,
  25,
  0,
  0,
  111,
  0,
  1,
  0,
  184,
  25,
  0,
  0,
  112,
  0,
  1,
  0,
  185,
  25,
  0,
  0,
  113,
  0,
  1,
  0,
  186,
  25,
  0,
  0,
  114,
  0,
  1,
  0,
  187,
  25,
  0,
  0,
  115,
  0,
  1,
  0,
  188,
  25,
  0,
  0,
  116,
  0,
  1,
  0,
  189,
  25,
  0,
  0,
  117,
  0,
  1,
  0,
  190,
  25,
  0,
  0,
  118,
  0,
  1,
  0,
  191,
  25,
  0,
  0,
  120,
  0,
  4,
  0,
  192,
  25,
  0,
  0,
  124,
  0,
  4,
  0,
  193,
  25,
  0,
  0,
  128,
  0,
  4,
  0,
  194,
  25,
  0,
  0,
  132,
  0,
  4,
  0,
  195,
  25,
  0,
  0,
  136,
  0,
  4,
  0,
  196,
  25,
  0,
  0,
  140,
  0,
  1,
  0,
  197,
  25,
  0,
  0,
  141,
  0,
  1,
  0,
  198,
  25,
  0,
  0,
  142,
  0,
  1,
  0,
  199,
  25,
  0,
  0,
  144,
  0,
  2,
  0,
  200,
  25,
  0,
  0,
  146,
  0,
  1,
  0,
  201,
  25,
  0,
  0,
  147,
  0,
  1,
  0,
  202,
  25,
  0,
  0,
  148,
  0,
  1,
  0,
  203,
  25,
  0,
  0,
  149,
  0,
  1,
  0,
  204,
  25,
  0,
  0,
  150,
  0,
  1,
  0,
  205,
  25,
  0,
  0,
  151,
  0,
  1,
  0,
  206,
  25,
  0,
  0,
  152,
  0,
  1,
  0,
  207,
  25,
  0,
  0,
  153,
  0,
  1,
  0,
  208,
  25,
  0,
  0,
  154,
  0,
  1,
  0,
  209,
  25,
  0,
  0,
  155,
  0,
  1,
  0,
  210,
  25,
  0,
  0,
  156,
  0,
  1,
  0,
  211,
  25,
  0,
  0,
  157,
  0,
  1,
  0,
  212,
  25,
  0,
  0,
  158,
  0,
  1,
  0,
  213,
  25,
  0,
  0,
  159,
  0,
  1,
  0,
  214,
  25,
  0,
  0,
  160,
  0,
  1,
  0,
  215,
  25,
  0,
  0,
  161,
  0,
  1,
  0,
  216,
  25,
  0,
  0,
  162,
  0,
  1,
  0,
  217,
  25,
  0,
  0,
  163,
  0,
  1,
  0,
  218,
  25,
  0,
  0,
  164,
  0,
  1,
  0,
  219,
  25,
  0,
  0,
  165,
  0,
  1,
  0,
  220,
  25,
  0,
  0,
  166,
  0,
  1,
  0,
  221,
  25,
  0,
  0,
  167,
  0,
  1,
  0,
  222,
  25,
  0,
  0,
  168,
  0,
  1,
  0,
  223,
  25,
  0,
  0,
  169,
  0,
  1,
  0,
  224,
  25,
  0,
  0,
  170,
  0,
  1,
  0,
  225,
  25,
  0,
  0,
  171,
  0,
  1,
  0,
  226,
  25,
  0,
  0,
  172,
  0,
  1,
  0,
  227,
  25,
  0,
  0,
  173,
  0,
  1,
  0,
  228,
  25,
  0,
  0,
  174,
  0,
  1,
  0,
  229,
  25,
  0,
  0,
  177,
  0,
  1,
  0,
  231,
  25,
  0,
  0,
  178,
  0,
  1,
  0,
  232,
  25,
  0,
  0,
  179,
  0,
  1,
  0,
  233,
  25,
  0,
  0,
  180,
  0,
  1,
  0,
  234,
  25,
  0,
  0,
  181,
  0,
  1,
  0,
  235,
  25,
  0,
  0,
  182,
  0,
  5,
  0,
  236,
  25,
  0,
  0,
  187,
  0,
  1,
  0,
  237,
  25,
  0,
  0,
  188,
  0,
  1,
  0,
  238,
  25,
  0,
  0,
  189,
  0,
  1,
  0,
  239,
  25,
  0,
  0,
  190,
  0,
  1,
  0,
  240,
  25,
  0,
  0,
  191,
  0,
  1,
  0,
  241,
  25,
  0,
  0,
  192,
  0,
  1,
  0,
  242,
  25,
  0,
  0,
  193,
  0,
  1,
  0,
  243,
  25,
  0,
  0,
  194,
  0,
  1,
  0,
  244,
  25,
  0,
  0,
  195,
  0,
  1,
  0,
  245,
  25,
  0,
  0,
  196,
  0,
  1,
  0,
  246,
  25,
  0,
  0,
  197,
  0,
  1,
  0,
  28,
  26,
  0,
  0,
  198,
  0,
  1,
  0,
  29,
  26,
  0,
  0,
  199,
  0,
  1,
  0,
  30,
  26,
  0,
  0,
  200,
  0,
  1,
  0,
  117,
  26,
  0,
  0,
  201,
  0,
  1,
  0,
  118,
  26,
  0,
  0,
  202,
  0,
  1,
  0,
  124,
  26,
  0,
  0,
  203,
  0,
  1,
  0,
  144,
  26,
  0,
  0,
  204,
  0,
  1,
  0,
  145,
  26,
  0,
  0,
  205,
  0,
  1,
  0,
  30,
  27,
  0,
  0,
  206,
  0,
  1,
  0,
  149,
  26,
  0,
  0,
  32,
  0,
  0,
  0,
  150,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  167,
  26,
  0,
  0,
  4,
  0,
  0,
  0,
  168,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  169,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  170,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  171,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  172,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  176,
  26,
  0,
  0,
  13,
  0,
  0,
  0,
  241,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  244,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  247,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  248,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  249,
  26,
  0,
  0,
  13,
  0,
  0,
  0,
  29,
  27,
  0,
  0,
  1,
  0,
  0,
  0,
  40,
  27,
  0,
  0,
  1,
  0,
  0,
  0,
  39,
  27,
  0,
  0,
  1,
  0,
  0,
  0,
  47,
  27,
  0,
  0,
  1,
  0,
  0,
  0,
  49,
  27,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  1,
  0,
  0
}; // idb
int dword_1005E18C[] = { 88 }; // weak
__int16 word_1005E63C[] = { 836 }; // weak
char *off_1005E65C = "/shr_mem/iop_a_pkt_intf.shr"; // weak
char *off_1005E670 = "/shr_mem/iop_b_pkt_intf.shr"; // weak
char *off_1005E684 = "/shr_mem/iop_c_pkt_intf.shr"; // weak
char *off_1005E698 = "/shr_mem/iop_d_dbg_pkt_intf.shr"; // weak
char *off_1005E6AC = "/shr_mem/iop_d_pkt_intf.shr"; // weak
char *off_1005E6C0 = "/shr_mem/iop_m_pkt_intf.shr"; // weak
__int16 word_1005FB80[] = { 43 }; // weak
char byte_1005FB84[] = { '\x06' }; // weak
_UNKNOWN unk_10060EF0; // weak
_UNKNOWN unk_10060F08; // weak
_UNKNOWN unk_10060F50; // weak
int dword_10060F54[] = { 6767 }; // weak
_UNKNOWN unk_10060F60; // weak
_UNKNOWN unk_10060F78; // weak
_UNKNOWN unk_10060F90; // weak
int dword_10060F94[] = { 6769 }; // weak
_UNKNOWN unk_10060FA8; // weak
int dword_10060FAC[] = { 6093 }; // weak
_UNKNOWN unk_10066338; // weak
int dword_1006633C[] = { 0 }; // weak
_WORD dword_10067690[512] =
{
  25542,
  42339,
  31992,
  33916,
  30702,
  39287,
  31734,
  36219,
  62207,
  3570,
  27606,
  48491,
  28638,
  45423,
  50577,
  21701,
  12384,
  20528,
  258,
  769,
  26574,
  43367,
  11094,
  32043,
  65255,
  6654,
  55221,
  25303,
  43853,
  59051,
  30444,
  39542,
  51855,
  17866,
  33311,
  40322,
  51593,
  16585,
  32250,
  34685,
  64239,
  5626,
  22962,
  60249,
  18318,
  51527,
  61691,
  3056,
  44353,
  60589,
  54451,
  26580,
  41567,
  64930,
  44869,
  60079,
  39971,
  49052,
  42067,
  63396,
  29412,
  38514,
  49307,
  23488,
  46965,
  49847,
  64993,
  7421,
  37693,
  44691,
  9804,
  27174,
  13932,
  23094,
  16254,
  16703,
  63477,
  759,
  52355,
  20428,
  13416,
  23604,
  42321,
  62629,
  58833,
  13541,
  61945,
  2289,
  29154,
  37745,
  55467,
  29656,
  12642,
  21297,
  5418,
  16149,
  1032,
  3076,
  51093,
  21191,
  9030,
  25891,
  50077,
  24259,
  6192,
  10264,
  38455,
  41366,
  1290,
  3845,
  39471,
  46490,
  1806,
  2311,
  4644,
  13842,
  32795,
  39808,
  58079,
  15842,
  60365,
  9963,
  10062,
  26919,
  45695,
  52658,
  30186,
  40821,
  2322,
  6921,
  33565,
  40579,
  11352,
  29740,
  6708,
  11802,
  6966,
  11547,
  28380,
  45678,
  23220,
  61018,
  41051,
  64416,
  21156,
  63058,
  15222,
  19771,
  54967,
  25046,
  45949,
  52915,
  10578,
  31529,
  58333,
  16099,
  12126,
  28975,
  33811,
  38788,
  21414,
  62803,
  53689,
  26833,
  0,
  0,
  60865,
  11501,
  8256,
  24608,
  64739,
  8188,
  45433,
  51377,
  23478,
  60763,
  27348,
  48746,
  52109,
  18123,
  48743,
  55742,
  14706,
  19257,
  19092,
  56906,
  19608,
  54348,
  22704,
  59480,
  53125,
  19151,
  53435,
  27600,
  61381,
  10991,
  43599,
  58794,
  64493,
  5883,
  17286,
  50499,
  19866,
  55117,
  13158,
  21811,
  34065,
  38021,
  17802,
  53061,
  63977,
  4345,
  516,
  1538,
  32766,
  33151,
  20640,
  61520,
  15480,
  17468,
  40741,
  47775,
  43083,
  58280,
  20898,
  62289,
  41821,
  65187,
  16512,
  49216,
  36613,
  35471,
  37439,
  44434,
  40225,
  48285,
  14448,
  18488,
  62961,
  1269,
  48227,
  57276,
  46711,
  49590,
  55983,
  30170,
  8514,
  25377,
  4128,
  12304,
  65509,
  6911,
  62461,
  3827,
  53951,
  28114,
  52609,
  19661,
  3096,
  5132,
  4902,
  13587,
  60611,
  12268,
  24510,
  57695,
  38709,
  41623,
  17544,
  52292,
  5934,
  14615,
  50323,
  22468,
  42837,
  62119,
  32508,
  33406,
  15738,
  18237,
  25800,
  44132,
  23994,
  59229,
  6450,
  11033,
  29670,
  38259,
  24768,
  41056,
  33049,
  39041,
  20382,
  53583,
  56483,
  32732,
  8772,
  26146,
  10836,
  32298,
  36923,
  43920,
  34827,
  33672,
  18060,
  51782,
  61127,
  10734,
  47211,
  54200,
  5160,
  15380,
  56999,
  31198,
  24252,
  57950,
  2838,
  7435,
  56237,
  30427,
  57563,
  15328,
  12900,
  22066,
  14964,
  20026,
  2580,
  7690,
  18834,
  56137,
  1548,
  2566,
  9288,
  27684,
  23736,
  58460,
  49823,
  24002,
  54205,
  28371,
  44099,
  61356,
  25284,
  42594,
  37177,
  43153,
  38193,
  42133,
  58579,
  14308,
  31218,
  35705,
  59349,
  13031,
  51339,
  17352,
  14190,
  22839,
  28122,
  46957,
  36097,
  35981,
  54705,
  25813,
  20124,
  53838,
  43337,
  57513,
  27864,
  46188,
  22188,
  64086,
  62707,
  2036,
  60111,
  9706,
  26058,
  44901,
  31476,
  36474,
  44615,
  59822,
  2064,
  6152,
  47727,
  54714,
  30960,
  34936,
  9546,
  28453,
  11868,
  29230,
  7224,
  9244,
  42583,
  61862,
  46195,
  51124,
  50839,
  20934,
  59595,
  9192,
  56737,
  31965,
  29928,
  40052,
  7998,
  8479,
  19350,
  56651,
  48481,
  56509,
  35597,
  34443,
  35343,
  34186,
  28896,
  36976,
  15996,
  16958,
  46449,
  50357,
  26316,
  43622,
  18576,
  55368,
  774,
  1283,
  63223,
  502,
  3612,
  4622,
  25026,
  41825,
  13674,
  24373,
  22446,
  63831,
  47465,
  53433,
  34327,
  37254,
  49561,
  22721,
  7482,
  10013,
  40487,
  47518,
  57817,
  14561,
  63723,
  5112,
  38955,
  45976,
  4386,
  13073,
  27090,
  47977,
  55721,
  28889,
  36359,
  35214,
  37939,
  42900,
  39725,
  46747,
  7740,
  8734,
  34581,
  37511,
  59849,
  8425,
  52871,
  18894,
  21930,
  65365,
  10320,
  30760,
  57253,
  31455,
  35843,
  36748,
  41305,
  63649,
  35081,
  32905,
  3354,
  5901,
  48997,
  55999,
  59095,
  12774,
  17028,
  50754,
  26832,
  47208,
  16770,
  49985,
  39209,
  45209,
  11610,
  30509,
  3870,
  4367,
  45179,
  52144,
  21672,
  64596,
  47981,
  54971,
  5676,
  14870
}; // idb
_WORD dword_10067A90[512] =
{
  50853,
  25443,
  63620,
  31868,
  61081,
  30583,
  63117,
  31611,
  65293,
  62194,
  54973,
  27499,
  57009,
  28527,
  37204,
  50629,
  24656,
  12336,
  515,
  257,
  52905,
  26471,
  22141,
  11051,
  59161,
  65278,
  46434,
  55255,
  19942,
  43947,
  60570,
  30326,
  36677,
  51914,
  8093,
  33410,
  35136,
  51657,
  64135,
  32125,
  61205,
  64250,
  45803,
  22873,
  36553,
  18247,
  64267,
  61680,
  16876,
  44461,
  45927,
  54484,
  24573,
  41634,
  17898,
  44975,
  9151,
  40092,
  21495,
  42148,
  58518,
  29298,
  39771,
  49344,
  30146,
  47031,
  57628,
  65021,
  15790,
  37779,
  19562,
  9766,
  27738,
  13878,
  32321,
  16191,
  62722,
  63479,
  33615,
  52428,
  26716,
  13364,
  20980,
  42405,
  53556,
  58853,
  63752,
  61937,
  58003,
  29041,
  43891,
  55512,
  25171,
  12593,
  10815,
  5397,
  2060,
  1028,
  38226,
  51143,
  18021,
  8995,
  40286,
  50115,
  12328,
  6168,
  14241,
  38550,
  2575,
  1285,
  12213,
  39578,
  3593,
  1799,
  9270,
  4626,
  7067,
  32896,
  57149,
  58082,
  52518,
  60395,
  20073,
  10023,
  32717,
  45746,
  60063,
  30069,
  4635,
  2313,
  7582,
  33667,
  22644,
  11308,
  13358,
  6682,
  13869,
  6939,
  56498,
  28270,
  46318,
  23130,
  23547,
  41120,
  42230,
  21074,
  30285,
  15163,
  46945,
  54998,
  32206,
  46003,
  21115,
  10537,
  56638,
  58339,
  24177,
  12079,
  5015,
  33924,
  42741,
  21331,
  47464,
  53713,
  0,
  0,
  49452,
  60909,
  16480,
  8224,
  58143,
  64764,
  31176,
  45489,
  46829,
  23387,
  54462,
  27242,
  36166,
  52171,
  26585,
  48830,
  29259,
  14649,
  38110,
  19018,
  39124,
  19532,
  45288,
  22616,
  34122,
  53199,
  47979,
  53456,
  50474,
  61423,
  20453,
  43690,
  60694,
  64507,
  34501,
  17219,
  39639,
  19789,
  26197,
  13107,
  4500,
  34181,
  35535,
  17733,
  59664,
  63993,
  1030,
  514,
  65153,
  32639,
  41200,
  20560,
  30788,
  15420,
  9658,
  40863,
  19427,
  43176,
  41715,
  20817,
  24062,
  41891,
  32960,
  16448,
  1418,
  36751,
  16301,
  37522,
  8636,
  40349,
  28744,
  14392,
  61700,
  62965,
  25567,
  48316,
  30657,
  46774,
  44917,
  56026,
  16995,
  8481,
  8240,
  4112,
  58650,
  65535,
  64782,
  62451,
  49005,
  53970,
  33100,
  52685,
  6164,
  3084,
  9781,
  4883,
  49967,
  60652,
  48865,
  24415,
  13730,
  38807,
  35020,
  17476,
  11833,
  5911,
  37719,
  50372,
  22002,
  42919,
  64642,
  32382,
  31303,
  15677,
  51372,
  25700,
  47847,
  23901,
  12843,
  6425,
  59029,
  29555,
  49312,
  24672,
  6552,
  33153,
  40657,
  20303,
  41855,
  56540,
  17510,
  8738,
  21630,
  10794,
  15275,
  37008,
  2947,
  34952,
  36042,
  17990,
  50985,
  61166,
  27603,
  47288,
  10300,
  5140,
  42873,
  57054,
  48354,
  24158,
  5661,
  2827,
  44406,
  56283,
  56123,
  57568,
  25686,
  12850,
  29774,
  14906,
  5150,
  2570,
  37595,
  18761,
  3082,
  1542,
  18540,
  9252,
  47332,
  23644,
  40797,
  49858,
  48494,
  54227,
  17391,
  44204,
  50342,
  25186,
  14760,
  37265,
  12708,
  38293,
  54071,
  58596,
  62091,
  31097,
  54578,
  59367,
  35651,
  51400,
  28249,
  14135,
  55991,
  28013,
  396,
  36237,
  45412,
  54741,
  40146,
  20046,
  18912,
  43433,
  55476,
  27756,
  44282,
  22102,
  62215,
  62708,
  53029,
  60138,
  51887,
  25957,
  62606,
  31354,
  18409,
  44718,
  4120,
  2056,
  28629,
  47802,
  61576,
  30840,
  19055,
  9509,
  23666,
  11822,
  14372,
  7196,
  22513,
  42662,
  29639,
  46260,
  38737,
  50886,
  52003,
  59624,
  41340,
  56797,
  59548,
  29812,
  15905,
  7967,
  38621,
  19275,
  25052,
  48573,
  3462,
  35723,
  3973,
  35466,
  57488,
  28784,
  31810,
  15934,
  29124,
  46517,
  52394,
  26214,
  37080,
  18504,
  1541,
  771,
  63233,
  63222,
  7186,
  3598,
  49827,
  24929,
  27231,
  13621,
  44793,
  22359,
  27088,
  47545,
  6033,
  34438,
  39256,
  49601,
  14887,
  7453,
  10169,
  40606,
  55608,
  57825,
  60179,
  63736,
  11187,
  39064,
  8755,
  4369,
  53947,
  26985,
  43376,
  55769,
  1929,
  36494,
  13223,
  38036,
  11702,
  39835,
  15394,
  7710,
  5522,
  34695,
  51488,
  59881,
  34633,
  52942,
  43775,
  21845,
  20600,
  10280,
  42362,
  57311,
  911,
  35980,
  23032,
  41377,
  2432,
  35209,
  6679,
  3341,
  26074,
  49087,
  55089,
  59110,
  33990,
  16962,
  53432,
  26728,
  33475,
  16705,
  10672,
  39321,
  23159,
  11565,
  7697,
  3855,
  31691,
  45232,
  43260,
  21588,
  28118,
  48059,
  11322,
  5654
}; // idb
_WORD dword_10067E90[512] =
{
  42339,
  25542,
  33916,
  31992,
  39287,
  30702,
  36219,
  31734,
  3570,
  62207,
  48491,
  27606,
  45423,
  28638,
  21701,
  50577,
  20528,
  12384,
  769,
  258,
  43367,
  26574,
  32043,
  11094,
  6654,
  65255,
  25303,
  55221,
  59051,
  43853,
  39542,
  30444,
  17866,
  51855,
  40322,
  33311,
  16585,
  51593,
  34685,
  32250,
  5626,
  64239,
  60249,
  22962,
  51527,
  18318,
  3056,
  61691,
  60589,
  44353,
  26580,
  54451,
  64930,
  41567,
  60079,
  44869,
  49052,
  39971,
  63396,
  42067,
  38514,
  29412,
  23488,
  49307,
  49847,
  46965,
  7421,
  64993,
  44691,
  37693,
  27174,
  9804,
  23094,
  13932,
  16703,
  16254,
  759,
  63477,
  20428,
  52355,
  23604,
  13416,
  62629,
  42321,
  13541,
  58833,
  2289,
  61945,
  37745,
  29154,
  29656,
  55467,
  21297,
  12642,
  16149,
  5418,
  3076,
  1032,
  21191,
  51093,
  25891,
  9030,
  24259,
  50077,
  10264,
  6192,
  41366,
  38455,
  3845,
  1290,
  46490,
  39471,
  2311,
  1806,
  13842,
  4644,
  39808,
  32795,
  15842,
  58079,
  9963,
  60365,
  26919,
  10062,
  52658,
  45695,
  40821,
  30186,
  6921,
  2322,
  40579,
  33565,
  29740,
  11352,
  11802,
  6708,
  11547,
  6966,
  45678,
  28380,
  61018,
  23220,
  64416,
  41051,
  63058,
  21156,
  19771,
  15222,
  25046,
  54967,
  52915,
  45949,
  31529,
  10578,
  16099,
  58333,
  28975,
  12126,
  38788,
  33811,
  62803,
  21414,
  26833,
  53689,
  0,
  0,
  11501,
  60865,
  24608,
  8256,
  8188,
  64739,
  51377,
  45433,
  60763,
  23478,
  48746,
  27348,
  18123,
  52109,
  55742,
  48743,
  19257,
  14706,
  56906,
  19092,
  54348,
  19608,
  59480,
  22704,
  19151,
  53125,
  27600,
  53435,
  10991,
  61381,
  58794,
  43599,
  5883,
  64493,
  50499,
  17286,
  55117,
  19866,
  21811,
  13158,
  38021,
  34065,
  53061,
  17802,
  4345,
  63977,
  1538,
  516,
  33151,
  32766,
  61520,
  20640,
  17468,
  15480,
  47775,
  40741,
  58280,
  43083,
  62289,
  20898,
  65187,
  41821,
  49216,
  16512,
  35471,
  36613,
  44434,
  37439,
  48285,
  40225,
  18488,
  14448,
  1269,
  62961,
  57276,
  48227,
  49590,
  46711,
  30170,
  55983,
  25377,
  8514,
  12304,
  4128,
  6911,
  65509,
  3827,
  62461,
  28114,
  53951,
  19661,
  52609,
  5132,
  3096,
  13587,
  4902,
  12268,
  60611,
  57695,
  24510,
  41623,
  38709,
  52292,
  17544,
  14615,
  5934,
  22468,
  50323,
  62119,
  42837,
  33406,
  32508,
  18237,
  15738,
  44132,
  25800,
  59229,
  23994,
  11033,
  6450,
  38259,
  29670,
  41056,
  24768,
  39041,
  33049,
  53583,
  20382,
  32732,
  56483,
  26146,
  8772,
  32298,
  10836,
  43920,
  36923,
  33672,
  34827,
  51782,
  18060,
  10734,
  61127,
  54200,
  47211,
  15380,
  5160,
  31198,
  56999,
  57950,
  24252,
  7435,
  2838,
  30427,
  56237,
  15328,
  57563,
  22066,
  12900,
  20026,
  14964,
  7690,
  2580,
  56137,
  18834,
  2566,
  1548,
  27684,
  9288,
  58460,
  23736,
  24002,
  49823,
  28371,
  54205,
  61356,
  44099,
  42594,
  25284,
  43153,
  37177,
  42133,
  38193,
  14308,
  58579,
  35705,
  31218,
  13031,
  59349,
  17352,
  51339,
  22839,
  14190,
  46957,
  28122,
  35981,
  36097,
  25813,
  54705,
  53838,
  20124,
  57513,
  43337,
  46188,
  27864,
  64086,
  22188,
  2036,
  62707,
  9706,
  60111,
  44901,
  26058,
  36474,
  31476,
  59822,
  44615,
  6152,
  2064,
  54714,
  47727,
  34936,
  30960,
  28453,
  9546,
  29230,
  11868,
  9244,
  7224,
  61862,
  42583,
  51124,
  46195,
  20934,
  50839,
  9192,
  59595,
  31965,
  56737,
  40052,
  29928,
  8479,
  7998,
  56651,
  19350,
  56509,
  48481,
  34443,
  35597,
  34186,
  35343,
  36976,
  28896,
  16958,
  15996,
  50357,
  46449,
  43622,
  26316,
  55368,
  18576,
  1283,
  774,
  502,
  63223,
  4622,
  3612,
  41825,
  25026,
  24373,
  13674,
  63831,
  22446,
  53433,
  47465,
  37254,
  34327,
  22721,
  49561,
  10013,
  7482,
  47518,
  40487,
  14561,
  57817,
  5112,
  63723,
  45976,
  38955,
  13073,
  4386,
  47977,
  27090,
  28889,
  55721,
  35214,
  36359,
  42900,
  37939,
  46747,
  39725,
  8734,
  7740,
  37511,
  34581,
  8425,
  59849,
  18894,
  52871,
  65365,
  21930,
  30760,
  10320,
  31455,
  57253,
  36748,
  35843,
  63649,
  41305,
  32905,
  35081,
  5901,
  3354,
  55999,
  48997,
  12774,
  59095,
  50754,
  17028,
  47208,
  26832,
  49985,
  16770,
  45209,
  39209,
  30509,
  11610,
  4367,
  3870,
  52144,
  45179,
  64596,
  21672,
  54971,
  47981,
  14870,
  5676
}; // idb
_WORD dword_10068290[512] =
{
  25443,
  50853,
  31868,
  63620,
  30583,
  61081,
  31611,
  63117,
  62194,
  65293,
  27499,
  54973,
  28527,
  57009,
  50629,
  37204,
  12336,
  24656,
  257,
  515,
  26471,
  52905,
  11051,
  22141,
  65278,
  59161,
  55255,
  46434,
  43947,
  19942,
  30326,
  60570,
  51914,
  36677,
  33410,
  8093,
  51657,
  35136,
  32125,
  64135,
  64250,
  61205,
  22873,
  45803,
  18247,
  36553,
  61680,
  64267,
  44461,
  16876,
  54484,
  45927,
  41634,
  24573,
  44975,
  17898,
  40092,
  9151,
  42148,
  21495,
  29298,
  58518,
  49344,
  39771,
  47031,
  30146,
  65021,
  57628,
  37779,
  15790,
  9766,
  19562,
  13878,
  27738,
  16191,
  32321,
  63479,
  62722,
  52428,
  33615,
  13364,
  26716,
  42405,
  20980,
  58853,
  53556,
  61937,
  63752,
  29041,
  58003,
  55512,
  43891,
  12593,
  25171,
  5397,
  10815,
  1028,
  2060,
  51143,
  38226,
  8995,
  18021,
  50115,
  40286,
  6168,
  12328,
  38550,
  14241,
  1285,
  2575,
  39578,
  12213,
  1799,
  3593,
  4626,
  9270,
  32896,
  7067,
  58082,
  57149,
  60395,
  52518,
  10023,
  20073,
  45746,
  32717,
  30069,
  60063,
  2313,
  4635,
  33667,
  7582,
  11308,
  22644,
  6682,
  13358,
  6939,
  13869,
  28270,
  56498,
  23130,
  46318,
  41120,
  23547,
  21074,
  42230,
  15163,
  30285,
  54998,
  46945,
  46003,
  32206,
  10537,
  21115,
  58339,
  56638,
  12079,
  24177,
  33924,
  5015,
  21331,
  42741,
  53713,
  47464,
  0,
  0,
  60909,
  49452,
  8224,
  16480,
  64764,
  58143,
  45489,
  31176,
  23387,
  46829,
  27242,
  54462,
  52171,
  36166,
  48830,
  26585,
  14649,
  29259,
  19018,
  38110,
  19532,
  39124,
  22616,
  45288,
  53199,
  34122,
  53456,
  47979,
  61423,
  50474,
  43690,
  20453,
  64507,
  60694,
  17219,
  34501,
  19789,
  39639,
  13107,
  26197,
  34181,
  4500,
  17733,
  35535,
  63993,
  59664,
  514,
  1030,
  32639,
  65153,
  20560,
  41200,
  15420,
  30788,
  40863,
  9658,
  43176,
  19427,
  20817,
  41715,
  41891,
  24062,
  16448,
  32960,
  36751,
  1418,
  37522,
  16301,
  40349,
  8636,
  14392,
  28744,
  62965,
  61700,
  48316,
  25567,
  46774,
  30657,
  56026,
  44917,
  8481,
  16995,
  4112,
  8240,
  65535,
  58650,
  62451,
  64782,
  53970,
  49005,
  52685,
  33100,
  3084,
  6164,
  4883,
  9781,
  60652,
  49967,
  24415,
  48865,
  38807,
  13730,
  17476,
  35020,
  5911,
  11833,
  50372,
  37719,
  42919,
  22002,
  32382,
  64642,
  15677,
  31303,
  25700,
  51372,
  23901,
  47847,
  6425,
  12843,
  29555,
  59029,
  24672,
  49312,
  33153,
  6552,
  20303,
  40657,
  56540,
  41855,
  8738,
  17510,
  10794,
  21630,
  37008,
  15275,
  34952,
  2947,
  17990,
  36042,
  61166,
  50985,
  47288,
  27603,
  5140,
  10300,
  57054,
  42873,
  24158,
  48354,
  2827,
  5661,
  56283,
  44406,
  57568,
  56123,
  12850,
  25686,
  14906,
  29774,
  2570,
  5150,
  18761,
  37595,
  1542,
  3082,
  9252,
  18540,
  23644,
  47332,
  49858,
  40797,
  54227,
  48494,
  44204,
  17391,
  25186,
  50342,
  37265,
  14760,
  38293,
  12708,
  58596,
  54071,
  31097,
  62091,
  59367,
  54578,
  51400,
  35651,
  14135,
  28249,
  28013,
  55991,
  36237,
  396,
  54741,
  45412,
  20046,
  40146,
  43433,
  18912,
  27756,
  55476,
  22102,
  44282,
  62708,
  62215,
  60138,
  53029,
  25957,
  51887,
  31354,
  62606,
  44718,
  18409,
  2056,
  4120,
  47802,
  28629,
  30840,
  61576,
  9509,
  19055,
  11822,
  23666,
  7196,
  14372,
  42662,
  22513,
  46260,
  29639,
  50886,
  38737,
  59624,
  52003,
  56797,
  41340,
  29812,
  59548,
  7967,
  15905,
  19275,
  38621,
  48573,
  25052,
  35723,
  3462,
  35466,
  3973,
  28784,
  57488,
  15934,
  31810,
  46517,
  29124,
  26214,
  52394,
  18504,
  37080,
  771,
  1541,
  63222,
  63233,
  3598,
  7186,
  24929,
  49827,
  13621,
  27231,
  22359,
  44793,
  47545,
  27088,
  34438,
  6033,
  49601,
  39256,
  7453,
  14887,
  40606,
  10169,
  57825,
  55608,
  63736,
  60179,
  39064,
  11187,
  4369,
  8755,
  26985,
  53947,
  55769,
  43376,
  36494,
  1929,
  38036,
  13223,
  39835,
  11702,
  7710,
  15394,
  34695,
  5522,
  59881,
  51488,
  52942,
  34633,
  21845,
  43775,
  10280,
  20600,
  57311,
  42362,
  35980,
  911,
  41377,
  23032,
  35209,
  2432,
  3341,
  6679,
  49087,
  26074,
  59110,
  55089,
  16962,
  33990,
  26728,
  53432,
  16705,
  33475,
  39321,
  10672,
  11565,
  23159,
  3855,
  7697,
  45232,
  31691,
  21588,
  43260,
  48059,
  28118,
  5654,
  11322
}; // idb
int dword_10068690[] = { 99 }; // weak
int dword_10068A90[] = { 25344 }; // weak
int dword_10068E90[] = { 6488064 }; // weak
int dword_10069290[] = { 1660944384 }; // weak
int dword_100696B8[] = { 128 }; // weak
int dword_100696C8[] = { 0 }; // weak
int dword_100696D8[] = { 0 }; // weak
char byte_10069749[] = { '\0' }; // weak
char byte_1006974A[] = { '\0' }; // weak
char byte_1006974B[] = { '\0' }; // weak
char byte_1006974C[] = { '\x10' }; // weak
int dword_10069760[] = { 0 }; // weak
_UNKNOWN unk_100697D8; // weak
_UNKNOWN unk_10069C58; // weak
char byte_10069CD0[] = { '\0' }; // weak
char byte_10069DD0[] = { '\0' }; // weak
char byte_10069ED0[] = { '\0' }; // weak
int dword_10069FD0[] = { 0 }; // weak
int dword_1006A048[] = { 0 }; // weak
int (__cdecl *off_1006A0C8)(int, int) = &sub_10012E70; // weak
int dword_1006A2B0[] = { 0 }; // weak
int dword_1006A2F8[] = { 16 }; // weak
_UNKNOWN unk_1006A348; // weak
_UNKNOWN unk_1006A3C8; // weak
_UNKNOWN unk_1006A448; // weak
_UNKNOWN unk_1006A4C0; // weak
_UNKNOWN unk_1006A538; // weak
_UNKNOWN unk_1006B538; // weak
_UNKNOWN unk_1006B698; // weak
int dword_1006B69C[] = { 1312 }; // weak
_UNKNOWN unk_1006D678; // weak
char byte_1006D679[] = { '\0' }; // weak
int dword_1006E5E8 = 64; // weak
__int16 word_1006E5EC[] = { 6782 }; // weak
__int16 word_1006E5F0[] = { 128 }; // weak
_UNKNOWN unk_1006E60C; // weak
_DWORD dword_1006E610[10] = { 64, 24, 62, 18, 65, 27525120, 27394467, 27721729, 27591078, 0 }; // idb
char *off_100704B0 = "/shr_mem/iop_gtx_intf.shr"; // weak
int (__cdecl *off_100711A0[3])(char) = { &sub_10005C30, &sub_10005B40, &sub_10005B00 }; // weak
_UNKNOWN unk_10071700; // weak
int dword_10071704[] = { 6829 }; // weak
__int16 word_10072AA8[] = { 1565 }; // weak
__int16 word_10072AAC[] = { 534 }; // weak
char byte_10072AB0[] = { '\x04' }; // weak
__int16 word_10072AB2[] = { 6512 }; // weak
int dword_10072AC8[] = { 118000 }; // weak
__int16 word_100735F2[] = { 233 }; // weak
int dword_100735F8[] = { 6201 }; // weak
__int16 word_100761A8[] = { 114 }; // weak
_UNKNOWN unk_100769E0; // weak
int dword_100769E4[] = { 6006 }; // weak
__int16 word_10076B08[] = { 551 }; // weak
_UNKNOWN unk_10079138; // weak
int dword_1007913C[] = { 0 }; // weak
_UNKNOWN unk_10079150; // weak
int dword_10079154[] = { 0 }; // weak
_UNKNOWN unk_10079178; // weak
int dword_1007917C[] = { 0 }; // weak
_UNKNOWN unk_100791A8; // weak
int dword_100791AC[] = { 0 }; // weak
char byte_1007D8BA[] = { '\x04' }; // weak
char byte_1007D8BF[] = { '\a' }; // weak
char byte_10081270[] = { ' ' }; // weak
_UNKNOWN unk_10081330; // weak
char *off_10081334 = "BIA-"; // idb
_UNKNOWN unk_100813F8; // weak
_UNKNOWN unk_1008146F; // weak
char byte_10081484[] = { '\x02' }; // weak
char byte_10081494[] = { '\x03' }; // weak
char byte_10081495[] = { '\x02' }; // weak
__int16 word_10081496[] = { 129 }; // weak
int dword_10081498[] = { 32 }; // weak
__int16 word_100814C2[] = { 2 }; // weak
int dword_100819E0[] = { 0 }; // weak
_UNKNOWN unk_1008BC70; // weak
int dword_1008BC74[] = { 3535 }; // weak
_UNKNOWN unk_1008BCA8; // weak
int dword_1008BCAC[] = { 6813 }; // weak
_UNKNOWN unk_1008BCE0; // weak
int dword_1008BCE4[] = { 9036 }; // weak
_UNKNOWN unk_1008BD18; // weak
int dword_1008BD1C[] = { 6763 }; // weak
char byte_1008C280[] = { ' ' }; // weak
_UNKNOWN unk_1008C320; // weak
_UNKNOWN unk_1008C328; // weak
_UNKNOWN unk_1008E8A8; // weak
void *off_1008EC90 = &unk_10153000; // weak
_UNKNOWN unk_1008ECA0; // weak
_UNKNOWN unk_1008ED00; // weak
wchar_t *off_1008EF10 = L"         (((((                  H"; // weak
int dword_1008F2C8 = 1024; // weak
int dword_1008F2CC = 4294966273; // weak
int dword_1008F2D0 = 53; // weak
int dword_1008F2D4 = 11; // weak
int dword_1008F2D8 = 64; // weak
int dword_1008F2DC = 1023; // weak
int dword_1008F2E0 = 128; // weak
int dword_1008F2E4 = 4294967169; // weak
int dword_1008F2E8 = 24; // weak
int dword_1008F2EC = 8; // weak
int dword_1008F2F0 = 32; // weak
int dword_1008F2F4 = 127; // weak
_UNKNOWN unk_1008F740; // weak
_UNKNOWN unk_100A0570; // weak
_UNKNOWN unk_100A07F0; // weak
_UNKNOWN unk_100A0CF0; // weak
__int16 word_100A0DD0[]; // weak
_UNKNOWN unk_100A0DD4; // weak
char byte_100A0DD5[]; // weak
int dword_100A0DD8[]; // weak
_UNKNOWN unk_100A0DE8; // weak
char byte_100A0DE9[]; // weak
int dword_100A0DF0[]; // weak
int dword_100A0DF4[]; // weak
_UNKNOWN unk_100A10C8; // weak
int dword_100A13A8; // idb
char byte_100A13B0[]; // weak
char byte_100A13B1; // weak
__int16 word_100A13B2; // weak
__int16 word_100A13B4; // weak
int dword_100A13B8; // weak
int dword_100A13BC; // weak
int dword_100A1404[]; // weak
__int16 word_100A141C; // weak
_UNKNOWN unk_100A1520; // weak
_UNKNOWN unk_100A1557; // weak
int dword_100A1734; // weak
int dword_100A1738; // weak
char byte_100A173C[512]; // idb
__int16 word_100A193C; // weak
int dword_100A1940; // weak
int dword_100A1944; // weak
int dword_100A1948[]; // weak
_UNKNOWN unk_100A1960; // weak
int dword_100A1964[]; // weak
int dword_100A1968[]; // weak
int dword_100A196C[]; // weak
int dword_100A19E0; // weak
int dword_100A19E4; // weak
int dword_100A19E8; // weak
int dword_100A19EC; // weak
int dword_100A19F0; // weak
int dword_100A19F4; // weak
int dword_100A19F8; // weak
int dword_100A19FC; // weak
int dword_100A1A00; // weak
int dword_100A1A04; // weak
char byte_100A8260; // weak
char byte_100A8261; // weak
_DWORD dword_100B5250[16]; // idb
int dword_100B5290[]; // weak
int dword_100B52D0; // weak
int dword_100B52D8[]; // weak
int dword_100CC438; // weak
_UNKNOWN unk_100CC440; // weak
char byte_100CC718[]; // weak
char byte_100CC719[]; // weak
_UNKNOWN unk_100CD980; // weak
int dword_100CF330; // weak
int dword_100CF334; // weak
int dword_100CF338; // weak
int dword_100CF33C; // weak
int dword_100CF340; // weak
int dword_100CF344; // weak
int dword_100CF348; // weak
int dword_100CF34C; // weak
int dword_100CF350; // weak
int dword_100CF354; // weak
int dword_100CF358; // weak
int dword_100CF35C; // weak
_UNKNOWN unk_100CF360; // weak
_UNKNOWN unk_100CF364; // weak
int dword_100CF368; // weak
int dword_100CF370; // weak
_UNKNOWN unk_100CF378; // weak
int dword_100D08B8; // weak
char byte_100D08C0[]; // weak
char byte_100D08C4[]; // weak
char byte_100D08C5[]; // weak
int dword_100D08CC[]; // weak
int dword_100D08D4[]; // weak
int dword_100D0908[]; // weak
int dword_100D090C; // weak
int dword_100D0910; // weak
int dword_100D0914; // weak
int dword_100D0918; // weak
int dword_100D091C[]; // weak
int dword_100D0920; // weak
int dword_100D0924; // weak
int dword_100D0928; // weak
int dword_100D092C; // weak
_UNKNOWN unk_100D0930; // weak
int dword_100D0A4C; // weak
int dword_100D0A50; // weak
int dword_100D0A60; // weak
int dword_100D0A64; // weak
int dword_100D0A70; // weak
int dword_100D0A74; // weak
char byte_101308C8[254]; // idb
char byte_101309C6[]; // weak
char byte_101309C7[]; // weak
int dword_101354B8[]; // weak
int dword_101354CC[]; // weak
int dword_101375B0[]; // weak
int dword_101375C4[]; // weak
int dword_10138BB8[]; // weak
int dword_10138BCC[]; // weak
char byte_10143310[]; // weak
char byte_10143311[]; // weak
_UNKNOWN unk_101433B0; // weak
int dword_10143680[]; // weak
int dword_10143684[]; // weak
_UNKNOWN unk_10143BA0; // weak
_UNKNOWN unk_10146AA8; // weak
_UNKNOWN unk_10146FA8; // weak
_UNKNOWN unk_10147050; // weak
char byte_10147070; // weak
char byte_10147071; // weak
char byte_10147072; // weak
char byte_10147073; // weak
_UNKNOWN unk_10147078; // weak
_UNKNOWN unk_10147098; // weak
int dword_101481C4; // weak
int dword_101484EC; // weak
int dword_10148544; // weak
int dword_10148550; // weak
int dword_10148B30; // weak
int dword_10148B3C; // weak
int dword_10148B48; // weak
int dword_10148B4C; // weak
int dword_10148B50; // weak
int dword_10148C20; // weak
int dword_10148C24; // weak
int dword_10148C28; // weak
int dword_10148C2C; // weak
int dword_10148C30; // weak
int dword_10148C60[]; // weak
char byte_10148C64[]; // weak
char byte_10148C68[688]; // idb
int dword_10148F18[]; // weak
__int16 word_10148F1C[]; // weak
char byte_10148F1E[]; // weak
int dword_10148F20[]; // weak
int dword_10148F24[]; // weak
__int16 word_10148F28[]; // weak
char byte_10148F2A[]; // weak
int dword_10148F2C[]; // weak
int dword_10148F30[]; // weak
int dword_10148F34[]; // weak
int dword_10148F38[]; // weak
int dword_10148F3C[]; // weak
int dword_10148F40[]; // weak
int dword_10148F44[]; // weak
int dword_10148F48[]; // weak
int dword_10148F4C[]; // weak
_UNKNOWN unk_1014906C; // weak
char byte_1014909E[]; // weak
_UNKNOWN unk_1014909F; // weak
char byte_101490D1[]; // weak
__int16 word_101490D2[]; // weak
_UNKNOWN unk_101490D4; // weak
__int16 word_101490FC[]; // weak
_UNKNOWN unk_10149100; // weak
char byte_10149150[]; // weak
int dword_10152AE0; // weak
char byte_10152AE4; // weak
char byte_10152B00[402]; // idb
char byte_10152C92; // weak
__int16 word_10152CCE; // weak
char byte_10152F04; // weak
int dword_10152F08[]; // weak
int dword_10152F0C[]; // weak
int dword_10152F10[]; // weak
int dword_10152F14[]; // weak
int dword_10152F18[]; // weak
int dword_10152F1C[]; // weak
int dword_10152F20[]; // weak
int dword_10152F24[]; // weak
char byte_10152F30; // weak
int dword_10152F40[]; // weak
int dword_10152F44[]; // weak
__int16 word_10152F48[]; // weak
_UNKNOWN unk_10152F4C; // weak
int dword_10152F80; // weak
void *dword_10152F84; // idb
int dword_10152F88; // weak
int dword_10152F8C; // weak
int dword_10152F90; // weak
void *dword_10152F94; // idb
int dword_10152F98; // weak
void *dword_10152F9C; // idb
int dword_10152FA0; // weak
int dword_10152FA4; // weak
int dword_10152FA8; // weak
int dword_10152FAC; // weak
int dword_10152FB0; // weak
int dword_10152FBC; // weak
int dword_10152FC0; // weak
char byte_10152FC4[]; // weak
void *dword_10152FE0; // idb
int dword_10154000; // weak
int dword_10154004; // weak
UINT uNumber; // idb
int dword_10154020[]; // weak
int dword_10154120; // weak
int dword_10154138; // weak


//----- (10001000) --------------------------------------------------------
unsigned int __cdecl sub_10001000(__int16 a1)
{
  unsigned int result; // eax@1

  result = 0;
  do
  {
    if ( word_10038204[result] == a1 )
      break;
    ++result;
  }
  while ( result < 4 );
  return result;
}
// 10038204: using guessed type __int16 word_10038204[];

//----- (10001030) --------------------------------------------------------
void sub_10001030()
{
  unsigned int v0; // esi@1
  int v1; // ST0C_4@2
  __int16 v2; // ax@2
  bool v3; // zf@2
  char v4; // [sp+7h] [bp-5h]@2
  char v5; // [sp+8h] [bp-4h]@2

  nullsub_1();
  v0 = 0;
  do
  {
    v1 = (unsigned __int16)word_10038204[v0];
    dword_100A0DD8[2 * v0] = 0;
    v2 = sub_10003F70(v1, &v5, &v4);
    v3 = byte_100A0DD5[8 * v0] == 0;
    word_100A0DD0[v0] = v2;
    sub_10024030(v0++, v3, 0);
  }
  while ( v0 < 2 );
}
// 10038204: using guessed type __int16 word_10038204[];
// 100A0DD0: using guessed type __int16 word_100A0DD0[];
// 100A0DD8: using guessed type int dword_100A0DD8[];

//----- (10001090) --------------------------------------------------------
void *sub_10001090()
{
  void *result; // eax@2
  unsigned int v1; // ecx@3

  memcpy(&unk_100A0DD4, &unk_1003820C, 0x10u);
  memset(&dword_10152F80, 0, 0x34u);
  dword_10152F8C = 0;
  dword_10152F90 = 0;
  dword_10152F80 = (int)&unk_100A0DD4;
  dword_10152F84 = &unk_100A0CF0;
  dword_10152F88 = 2;
  dword_10152F94 = &unk_100A07F0;
  dword_10152F98 = 32;
  dword_10152F9C = &unk_100A0570;
  dword_10152FA0 = 32;
  dword_10152FA8 = (int)&unk_1008F740;
  dword_10152FAC = 132;
  memset(&unk_100A0CF0, 0, 0xE0u);
  memset(&unk_100A07F0, 0, 0x500u);
  result = memset(dword_10152F9C, 0, 20 * dword_10152FA0);
  v1 = 0;
  if ( (unsigned int)dword_10152FAC <= 0 )
    goto LABEL_11;
  result = 0;
  do
  {
    *(_DWORD *)((char *)result + dword_10152FA8 + 4) = -1;
    *(_DWORD *)((char *)result + dword_10152FA8) = (char *)result + dword_10152FA8 + 524;
    *(_WORD *)((char *)result + dword_10152FA8 + 8) = 0;
    ++v1;
    result = (char *)result + 524;
  }
  while ( v1 < dword_10152FAC );
  if ( (unsigned int)dword_10152FAC <= 0 )
  {
LABEL_11:
    dword_10152FB0 = 0;
  }
  else
  {
    result = (void *)dword_10152FA8;
    *(_DWORD *)(524 * v1 + dword_10152FA8 - 524) = 0;
    dword_10152FB0 = dword_10152FA8;
  }
  return result;
}
// 10152F80: using guessed type int dword_10152F80;
// 10152F88: using guessed type int dword_10152F88;
// 10152F8C: using guessed type int dword_10152F8C;
// 10152F90: using guessed type int dword_10152F90;
// 10152F98: using guessed type int dword_10152F98;
// 10152FA0: using guessed type int dword_10152FA0;
// 10152FA8: using guessed type int dword_10152FA8;
// 10152FAC: using guessed type int dword_10152FAC;
// 10152FB0: using guessed type int dword_10152FB0;

//----- (10001120) --------------------------------------------------------
int __cdecl sub_10001120(unsigned int a1, int a2, int a3)
{
  return -(sub_10003F30((unsigned __int16)word_10038204[a1 >> 30], a1 << 9, a3, a2) != 0);
}
// 10038204: using guessed type __int16 word_10038204[];

//----- (10001160) --------------------------------------------------------
signed int sub_10001160()
{
  return -1;
}

//----- (10001170) --------------------------------------------------------
__int16 __cdecl sub_10001170(int a1)
{
  __int16 result; // ax@1
  bool v2; // zf@1
  bool v3; // sf@1
  _WORD *v4; // ebx@2
  int v5; // ebp@2
  unsigned int v6; // eax@3
  void *v7; // edi@3
  char v8; // cl@4
  __int16 v9; // ax@6
  int v10; // edx@7
  __int16 v11; // [sp+4h] [bp-Ch]@1
  int v12; // [sp+8h] [bp-8h]@1
  int v13; // [sp+Ch] [bp-4h]@1

  result = 0;
  v2 = *(_WORD *)(a1 + 828) == 0;
  v3 = *(_WORD *)(a1 + 828) < 0;
  v12 = 0;
  v11 = 0;
  v13 = 0;
  if ( !v3 && !v2 )
  {
    v4 = (_WORD *)(a1 + 912);
    v5 = a1 + 830;
    do
    {
      *v4 = 14896;
      *(_BYTE *)(a1 + 914) = 0;
      *(_BYTE *)v4 += *(_BYTE *)(v5 + 2);
      v6 = strlen("????????.SRT") + 1;
      v7 = (void *)(a1 + 911);
      do
      {
        v8 = *((_BYTE *)v7 + 1);
        v7 = (char *)v7 + 1;
      }
      while ( v8 );
      qmemcpy(v7, "????????.SRT", v6);
      if ( !sub_100243B0((unsigned int *)&dword_100A13A8, (int)v4, *(_WORD *)v5) )
      {
        sub_10017980(dword_100A13A8, (void *)(a1 + 4 * v11 + 860), 5 - v11, (int)&v12);
        v9 = v12;
        *(_WORD *)(v5 + 4) = v11;
        *(_BYTE *)(v5 + 3) = v9;
        v11 += v9;
      }
      sub_100241B0(&dword_100A13A8);
      v10 = *(_WORD *)(a1 + 828);
      v5 += 6;
      ++v13;
    }
    while ( v13 < v10 );
    result = v11;
  }
  return result;
}

//----- (10001290) --------------------------------------------------------
unsigned int __usercall sub_10001290@<eax>(unsigned int result@<eax>, _BYTE *a2@<edx>, int a3@<ecx>)
{
  int v3; // esi@2
  int v4; // edi@3
  unsigned int v5; // eax@3
  int v6; // edi@5
  unsigned int v7; // eax@5
  int v8; // edi@7
  unsigned int v9; // eax@7
  unsigned __int8 v10; // cl@9
  int v11; // edi@9
  unsigned int v12; // eax@9
  unsigned __int8 v13; // cl@11
  int v14; // edi@11
  unsigned int v15; // eax@11
  unsigned __int8 v16; // cl@13
  int v17; // edi@13
  unsigned int v18; // eax@13
  unsigned __int8 v19; // cl@15
  int v20; // edi@15
  unsigned int v21; // eax@15
  int v22; // ecx@17

  if ( a3 )
  {
    v3 = a3;
    do
    {
      v4 = *a2 ^ (result >> 24);
      v5 = 2 * result;
      if ( v4 & 0xFFFFFF80 )
        v5 ^= 0x4C11DB7u;
      v6 = (unsigned __int8)(2 * *a2) ^ (v5 >> 24);
      v7 = 2 * v5;
      if ( v6 & 0xFFFFFF80 )
        v7 ^= 0x4C11DB7u;
      v8 = (unsigned __int8)(4 * *a2) ^ (v7 >> 24);
      v9 = 2 * v7;
      if ( v8 & 0xFFFFFF80 )
        v9 ^= 0x4C11DB7u;
      v10 = 8 * *a2;
      v11 = v10 ^ (v9 >> 24);
      v12 = 2 * v9;
      if ( v11 & 0xFFFFFF80 )
        v12 ^= 0x4C11DB7u;
      v13 = 16 * *a2;
      v14 = v13 ^ (v12 >> 24);
      v15 = 2 * v12;
      if ( v14 & 0xFFFFFF80 )
        v15 ^= 0x4C11DB7u;
      v16 = 32 * *a2;
      v17 = v16 ^ (v15 >> 24);
      v18 = 2 * v15;
      if ( v17 & 0xFFFFFF80 )
        v18 ^= 0x4C11DB7u;
      v19 = *a2 << 6;
      v20 = v19 ^ (v18 >> 24);
      v21 = 2 * v18;
      if ( v20 & 0xFFFFFF80 )
        v21 ^= 0x4C11DB7u;
      v22 = (v21 >> 24) ^ (unsigned __int8)(*a2 << 7);
      result = 2 * v21;
      if ( v22 & 0xFFFFFF80 )
        result ^= 0x4C11DB7u;
      ++a2;
      --v3;
    }
    while ( v3 );
  }
  return result;
}

//----- (10001390) --------------------------------------------------------
char __usercall sub_10001390@<al>(signed int *a1@<ecx>, int *a2@<ebx>, int a3@<esi>, _BYTE *a4, int a5)
{
  signed int v5; // ebp@1
  signed int v6; // eax@1
  int v7; // edi@10
  char *v8; // ebp@10
  int *v9; // ecx@15
  unsigned int v10; // eax@15
  int v11; // edi@23
  int v12; // ebp@27
  int v13; // ecx@27
  int v14; // eax@27
  int v15; // edi@28
  int v16; // eax@39
  char v18; // [sp+9h] [bp-6Bh]@1
  char v19; // [sp+Ah] [bp-6Ah]@1
  char v20; // [sp+Bh] [bp-69h]@1
  signed int *v21; // [sp+Ch] [bp-68h]@1
  char *v22; // [sp+Ch] [bp-68h]@23
  signed int v23; // [sp+10h] [bp-64h]@2
  int v24; // [sp+14h] [bp-60h]@1
  unsigned int v25; // [sp+18h] [bp-5Ch]@1
  char v26; // [sp+1Ch] [bp-58h]@2
  unsigned __int8 v27; // [sp+29h] [bp-4Bh]@6

  v21 = a1;
  v5 = 0;
  v18 = 0;
  v20 = 0;
  v19 = 0;
  v25 = *a4 - 48;
  v24 = *a2;
  v6 = sub_100243B0((unsigned int *)&dword_100A13A8, (int)a4, 0xFFFFu);
  *v21 = v6;
  if ( !v6 )
  {
    *(_DWORD *)(a3 + 900) = -9;
    *(_DWORD *)(a3 + 904) = 0;
    v23 = 512;
    if ( !sub_100244D0(v25, (int)&v26) )
    {
      while ( 1 )
      {
        *(_DWORD *)(dword_100A13A8 + 16) = v5 << 9;
        if ( sub_100243F0(dword_100A13A8, (void *)(a3 + 908), v23) )
          break;
        if ( *(_BYTE *)(a3 + 908) == 1 && !*(_BYTE *)(a3 + 925) && v5 >= v27 )
          *(_DWORD *)(a3 + 904) += *(_DWORD *)(a3 + 920);
        *(_DWORD *)(a3 + 900) = sub_10001290(*(_DWORD *)(a3 + 900), (_BYTE *)(a3 + 908), v23);
        ++v5;
        v23 = 32;
      }
    }
    *(_DWORD *)(a3 + 900) = ~*(_DWORD *)(a3 + 900);
    if ( *a2 >= 2 )
    {
      sub_10004310(".\\mdb\\mdb_bld_db_lst.c", 1068, 1, 0);
      *v21 = -1;
      goto LABEL_46;
    }
    v7 = 92 * a5;
    v8 = (char *)&unk_100A0DE8 + 368 * a5;
    if ( !sub_10003FD0(dword_10038240[a5], (int)&unk_100A0DE8 + 368 * a5, 368) )
    {
      if ( (byte_100A0DE9[v7 * 4] & 0xE0) == -96 )
      {
        if ( dword_100A0DF0[v7] != *(_DWORD *)(a3 + 900) || dword_100A0DF4[v7] != *(_DWORD *)(a3 + 904) )
          goto LABEL_46;
        if ( *a2 >= 2 )
        {
          v19 = 1;
        }
        else
        {
          dword_10152F20[2 * *a2] = (int)v8;
          v9 = &dword_10152F20[2 * *a2];
          v10 = 8 * v25;
          dword_10152F40[v10 / 2] = (int)v9;
          word_10152F48[v10] = *(_WORD *)(*v9 + 2);
          ++*a2;
          v18 = 1;
        }
        if ( *v8 & 0x80 )
          v20 = 1;
        if ( v19 == 1 )
          sub_10004310(".\\mdb\\mdb_bld_db_lst.c", 1055, 1, 0);
        if ( !v18 || v19 )
          goto LABEL_46;
      }
      else
      {
        sub_10004310(".\\mdb\\mdb_bld_db_lst.c", 1061, 1, 0);
      }
      v11 = 8 * a5;
      v22 = (char *)&unk_100A1960 + 32 * a5;
      if ( sub_10003FD0(dword_10038250[a5], (int)&unk_100A1960 + 32 * a5, 32)
        || dword_100A1964[v11] != *(_DWORD *)(a3 + 900)
        || dword_100A1968[v11] != *(_DWORD *)(a3 + 904) )
      {
        v12 = v24;
      }
      else
      {
        if ( !v20 )
        {
          sub_10004310(".\\mdb\\mdb_bld_db_lst.c", 1134, 1, 0);
          goto LABEL_46;
        }
        v12 = v24;
        v13 = *a2;
        v14 = v24;
        if ( v24 < *a2 )
        {
          v15 = dword_100A196C[v11] & 0xFFFFFFF;
          do
          {
            if ( *(_DWORD *)(dword_10152F20[2 * v14] + 84) == v15 )
              break;
            ++v14;
          }
          while ( v14 < v13 );
        }
        if ( v14 >= v13 )
          sub_10004310(".\\mdb\\mdb_bld_db_lst.c", 1126, 1, 0);
        else
          dword_10152F10[2 * v14] = (int)v22;
      }
      if ( v20 )
      {
        dword_10152F44[4 * v25] = (int)&dword_10152F10[2 * v12];
        v16 = v24;
        if ( v24 < *a2 )
        {
          do
          {
            if ( !dword_10152F10[2 * v12] )
            {
              *(_DWORD *)(a3 + 1424) = *(_DWORD *)(dword_10152F20[2 * v12] + 8);
              *(_DWORD *)(a3 + 1428) = *(_DWORD *)(dword_10152F20[2 * v12] + 12);
              *(_WORD *)(a3 + 1420) = *(_WORD *)(dword_10152F20[2 * v12] + 2);
              sub_10004310(".\\mdb\\mdb_bld_db_lst.c", 1158, 1, 0);
              sub_10004060(dword_10038250[a5], a3 + 1420, 32);
              dword_10152F10[2 * v12] = (int)v22;
            }
            ++v12;
          }
          while ( v12 < *a2 );
          v16 = v24;
        }
        for ( ; v16 < *a2 - 1; ++v16 )
          dword_10152F14[2 * v16] = (int)&dword_10152F18[2 * v16];
      }
    }
  }
LABEL_46:
  sub_100241B0(&dword_100A13A8);
  return v18;
}
// 10038240: using guessed type int dword_10038240[];
// 10038250: using guessed type int dword_10038250[];
// 100A0DF0: using guessed type int dword_100A0DF0[];
// 100A0DF4: using guessed type int dword_100A0DF4[];
// 100A1964: using guessed type int dword_100A1964[];
// 100A1968: using guessed type int dword_100A1968[];
// 100A196C: using guessed type int dword_100A196C[];
// 10152F10: using guessed type int dword_10152F10[];
// 10152F14: using guessed type int dword_10152F14[];
// 10152F18: using guessed type int dword_10152F18[];
// 10152F20: using guessed type int dword_10152F20[];
// 10152F40: using guessed type int dword_10152F40[];
// 10152F44: using guessed type int dword_10152F44[];
// 10152F48: using guessed type __int16 word_10152F48[];

//----- (10001790) --------------------------------------------------------
void __usercall sub_10001790(_DWORD *a1@<ecx>, _BYTE *a2@<edi>, int a3, int a4)
{
  int v4; // ebx@6
  int v5; // edx@7
  bool v6; // al@7
  signed int v7; // esi@7
  const char *v8; // ebx@8
  char *v9; // ecx@13
  _BYTE *v10; // edx@13
  char v11; // al@14
  signed int v12; // [sp+0h] [bp-Ch]@1
  _DWORD *v13; // [sp+4h] [bp-8h]@2

  v12 = 0;
  if ( *a2 < 4u )
  {
    v13 = a1;
    do
    {
      if ( v12 >= 4 || !*a1 || *a1 == -1 )
        break;
      v4 = a4;
      if ( !sub_10017E40(a3, (int)a1, 5, (void *)(a4 + 908), 101, 1) )
      {
        v5 = *a2;
        v6 = 0;
        v7 = 0;
        if ( v5 <= 0 )
        {
LABEL_13:
          v9 = (char *)(a4 + 908);
          v10 = (_BYTE *)(101 * v5 + v4 + 423);
          do
          {
            v11 = *v9;
            *v10++ = *v9++;
          }
          while ( v11 );
          *(_DWORD *)(v4 + 8 * *a2 + 16) = *v13;
          *(_DWORD *)(v4 + 8 * (*a2)++ + 20) = *(_DWORD *)(a3 + 24);
        }
        else
        {
          v8 = (const char *)(a4 + 423);
          while ( !v6 )
          {
            v6 = strcmp((const char *)(a4 + 908), v8) == 0;
            ++v7;
            v8 += 101;
            if ( v7 >= *a2 )
            {
              if ( v6 )
                break;
              v4 = a4;
              v5 = *a2;
              goto LABEL_13;
            }
          }
        }
      }
      ++v12;
      a1 = v13 + 1;
      ++v13;
    }
    while ( *a2 < 4u );
  }
}

//----- (100018C0) --------------------------------------------------------
int __usercall sub_100018C0@<eax>(char *a1@<ecx>, int a2@<ebx>)
{
  unsigned int v2; // eax@1
  void *v3; // edi@1
  char v4; // cl@2
  _WORD *v5; // ebp@4
  int v6; // eax@4
  int v7; // esi@11
  char *v8; // eax@11
  char v9; // cl@12
  unsigned int v10; // ecx@13
  char *v11; // eax@13
  int v12; // esi@13
  char v13; // dl@14
  int v14; // edx@15
  int v15; // eax@15
  int v16; // esi@17
  signed int v17; // eax@18
  _DWORD *v18; // ecx@19
  int v20; // [sp+8h] [bp-Ch]@6
  _DWORD *v21; // [sp+Ch] [bp-8h]@5
  signed int v22; // [sp+10h] [bp-4h]@1

  *(_BYTE *)(a2 + 914) = 0;
  v22 = 1;
  strncpy((char *)(a2 + 912), a1, 2u);
  v2 = strlen("????????.MPS") + 1;
  v3 = (void *)(a2 + 913);
  do
  {
    v4 = *((_BYTE *)v3 + 1);
    v3 = (char *)v3 + 1;
  }
  while ( v4 );
  qmemcpy(v3, "????????.MPS", v2);
  if ( !sub_100243B0((unsigned int *)&dword_100A13A8, a2 + 912, *(_WORD *)(a2 + 4)) )
  {
    v5 = (_WORD *)(a2 + 910);
    v6 = a2 + 60;
LABEL_5:
    v21 = (_DWORD *)v6;
    while ( 1 )
    {
      v20 = *(_DWORD *)(dword_100A13A8 + 16);
      sub_100243F0(dword_100A13A8, (void *)(a2 + 908), 1);
      if ( sub_100243F0(dword_100A13A8, (void *)(a2 + 910), 2) )
        break;
      v22 = 0;
      if ( *(_BYTE *)(a2 + 908) == 76 )
      {
        if ( *v5 > 0xC8u || sub_100243F0(dword_100A13A8, (void *)(a2 + 912), *v5) )
          break;
        v7 = a2 + 920;
        v8 = (char *)(a2 + 920);
        do
          v9 = *v8++;
        while ( v9 );
        v10 = (unsigned int)(&v8[strlen(&v8[v7 - 920] - a2) - 919] - a2);
        v11 = (char *)(v7 + v10);
        v12 = v7 + v10 + 1;
        do
          v13 = *v11++;
        while ( v13 );
        v14 = (int)(&v11[v10 + 9] - v12);
        v15 = *v5;
        if ( v14 > v15 - 8 )
        {
          *v21 = v20;
          v6 = (int)(v21 + 16);
          goto LABEL_5;
        }
        if ( v14 < v15 - 4 )
        {
          do
          {
            v16 = *(_DWORD *)(a2 + v14 + 912);
            if ( !v16 )
              break;
            v17 = 0;
            if ( *(_WORD *)(a2 + 2) > 0 )
            {
              v18 = (_DWORD *)(a2 + 84);
              while ( v16 != *v18 )
              {
                ++v17;
                v18 += 16;
                if ( v17 >= *(_WORD *)(a2 + 2) )
                  goto LABEL_24;
              }
              *(_DWORD *)((v17 << 6) + a2 + 60) = v20;
            }
LABEL_24:
            v14 += 4;
          }
          while ( v14 < *v5 - 4 );
        }
      }
      else
      {
        *(_DWORD *)(dword_100A13A8 + 16) += *v5;
      }
    }
  }
  sub_100241B0(&dword_100A13A8);
  return v22;
}

//----- (10001AB0) --------------------------------------------------------
int __usercall sub_10001AB0@<eax>(int a1@<ebx>, __int16 a2, unsigned int a3, int a4)
{
  __int64 v4; // rax@1
  signed int v5; // esi@1
  _WORD *v6; // edi@2
  int v7; // ecx@2

  a1 = (signed __int16)a1;
  v4 = a3;
  v5 = *(_WORD *)(a3 + 462);
  if ( (signed __int16)a1 > 0 )
  {
    v6 = (_WORD *)(a4 + 862);
    v7 = a4 + 833;
    do
    {
      if ( HIDWORD(v4) == *(_BYTE *)v7 + *(_WORD *)(v7 + 1) )
        v7 += 6;
      WORD1(v4) = HIWORD(a3);
      LOWORD(v4) = *(_WORD *)(a3 + 460);
      if ( (_WORD)v4 == *(v6 - 1) )
      {
        LODWORD(v4) = *v6;
        if ( (signed int)v4 >= v5 )
        {
          v5 = (signed __int16)v4;
          LODWORD(v4) = a4 + (a2 << 6);
          *(_DWORD *)(v4 + 88) &= 0xFFFFF7FF;
          *(_WORD *)(v4 + 58) = *(_WORD *)(v7 - 3);
        }
      }
      ++HIDWORD(v4);
      v6 += 2;
    }
    while ( SHIDWORD(v4) < a1 );
  }
  return v4;
}

//----- (10001B30) --------------------------------------------------------
void sub_10001B30()
{
  _DWORD *v0; // ecx@1
  int v1; // edi@2
  unsigned int v2; // ebx@3
  int v3; // eax@5
  unsigned int v4; // edx@5
  int v5; // esi@6
  signed int v6; // [sp+10h] [bp-4h]@1

  v0 = &unk_10152F4C;
  v6 = 4;
  do
  {
    v1 = *(v0 - 3);
    *v0 = 0;
    if ( v1 )
    {
      v2 = 0;
      if ( *((_WORD *)v0 - 2) )
      {
        do
        {
          if ( !v1 )
            break;
          v3 = *(_DWORD *)v1;
          v4 = 0;
          if ( *(_WORD *)(*(_DWORD *)v1 + 2) )
          {
            v5 = 0;
            do
            {
              *v0 |= *(_DWORD *)(v5 + v3 + 88);
              v3 = *(_DWORD *)v1;
              ++v4;
              v5 += 64;
            }
            while ( v4 < *(_WORD *)(*(_DWORD *)v1 + 2) );
          }
          v1 = *(_DWORD *)(v1 + 4);
          v2 += v4;
        }
        while ( v2 < *((_WORD *)v0 - 2) );
      }
    }
    v0 += 4;
    --v6;
  }
  while ( v6 );
}

//----- (10001BA0) --------------------------------------------------------
bool __usercall sub_10001BA0@<al>(_BYTE *a1@<edx>, unsigned int *a2@<ecx>, int a3@<ebx>, _BYTE *a4)
{
  int v4; // esi@1
  int v5; // edi@1
  signed int v6; // ebp@1
  __int16 v7; // di@3
  _BYTE *v8; // esi@7
  int v9; // edx@10
  int v10; // eax@10
  int v11; // edx@11
  int v12; // ecx@12
  signed int v13; // ecx@13
  unsigned __int16 v14; // ax@18
  int v15; // ecx@19
  char v16; // dl@19
  int v17; // edx@24
  int v18; // eax@24
  int v19; // edx@25
  int v20; // ecx@26
  signed int v21; // ecx@27
  signed int v22; // ecx@33
  bool result; // al@33
  _BYTE *v24; // [sp+10h] [bp-6Ch]@1
  signed int v25; // [sp+10h] [bp-6Ch]@7
  signed int v26; // [sp+14h] [bp-68h]@1
  unsigned int *v27; // [sp+18h] [bp-64h]@1
  char v28; // [sp+24h] [bp-58h]@4
  unsigned __int8 v29; // [sp+31h] [bp-4Bh]@5

  v27 = a2;
  v24 = a1;
  v26 = 0;
  v4 = a3 + 48;
  v5 = a3 + 368;
  v6 = 5;
  do
  {
    *(_DWORD *)v5 = 0;
    *(_DWORD *)(v5 + 4) = 0;
    *(_WORD *)(v5 + 8) = 0;
    *(_BYTE *)(v5 + 10) = 0;
    memset((void *)v4, 0, 0x40u);
    *(_DWORD *)v4 = -1;
    *(_DWORD *)(v4 + 4) = -1;
    *(_DWORD *)(v4 + 8) = -1;
    *(_DWORD *)(v4 + 12) = -1;
    v5 += 11;
    v4 += 64;
    --v6;
  }
  while ( v6 );
  v7 = 0;
  if ( *v27 )
  {
    v6 = *v27 >> 9;
  }
  else
  {
    if ( sub_100244D0(*v24 - 48, (int)&v28) )
    {
      v22 = 0;
      result = 0;
      goto LABEL_35;
    }
    v6 = v29;
  }
  while ( 1 )
  {
    *(_DWORD *)(dword_100A13A8 + 16) = v6 << 9;
    v8 = (_BYTE *)(a3 + 908);
    v25 = v6;
    if ( sub_100243F0(dword_100A13A8, (void *)(a3 + 908), 512) )
      break;
    if ( *v8 == 1 && !*(_BYTE *)(a3 + 925) )
    {
      v9 = *(_BYTE *)(a3 + 917);
      v10 = 84 - v9;
      if ( 84 == v9
        && (v11 = *(_BYTE *)(a3 + 918), v10 = 82 - v11, 82 == v11)
        && (v12 = *(_BYTE *)(a3 + 919), v10 = 69 - v12, 69 == v12) )
      {
        v13 = 0;
      }
      else
      {
        v13 = 1;
        if ( v10 <= 0 )
          v13 = -1;
      }
      if ( !v13 )
      {
        if ( v7 >= 5 )
        {
          if ( !v26 )
            v26 = v6;
        }
        else
        {
          v14 = 0;
          do
          {
            v15 = (signed __int16)v14;
            v16 = v8[(signed __int16)v14 + 1];
            if ( v16 == 32 )
              break;
            ++v14;
            *(_BYTE *)(a3 + v15 + 11 * v7 + 368) = v16;
            v6 = v25;
          }
          while ( v14 < 8u );
          *(_BYTE *)((signed __int16)v14 + a3 + 11 * ++v7 + 368) = 0;
        }
      }
      v17 = *(_BYTE *)(a3 + 917);
      v18 = 77 - v17;
      if ( 77 == v17
        && (v19 = *(_BYTE *)(a3 + 918), v18 = 80 - v19, 80 == v19)
        && (v20 = *(_BYTE *)(a3 + 919), v18 = 83 - v20, 83 == v20) )
      {
        v21 = 0;
      }
      else
      {
        v21 = 1;
        if ( v18 <= 0 )
          v21 = -1;
      }
      if ( !v21 )
      {
        *(_WORD *)(a3 + 4) = v6;
        *a4 = 1;
      }
    }
    ++v6;
  }
  v22 = v26;
  result = v26 == 0;
LABEL_35:
  *(_WORD *)(a3 + 2) = v7;
  if ( v22 )
    *v27 = v22 << 9;
  else
    *v27 = v6 << 9;
  return result;
}

//----- (10001DE0) --------------------------------------------------------
signed int __fastcall sub_10001DE0(_BYTE *a1, int a2)
{
  signed int result; // eax@1
  int v3; // edi@1
  _BYTE *v4; // esi@6
  int v5; // eax@6
  int v6; // ecx@9
  char v7; // dl@9
  __int16 v8; // cx@11
  bool v9; // al@11
  int v10; // ebp@13
  __int16 v11; // si@14
  int v12; // edi@14
  int v13; // edx@15
  int v14; // eax@15
  int v15; // eax@16
  int v16; // edx@16
  signed int v17; // ecx@18
  bool v18; // [sp+7h] [bp-71h]@13
  int i; // [sp+8h] [bp-70h]@5
  int v20; // [sp+Ch] [bp-6Ch]@1
  int v21; // [sp+10h] [bp-68h]@11
  char v22; // [sp+14h] [bp-64h]@4
  unsigned __int8 v23; // [sp+21h] [bp-57h]@5
  char v24[12]; // [sp+68h] [bp-10h]@10

  result = dword_100A13A8;
  v3 = a2;
  v20 = a2;
  if ( dword_100A13A8 )
  {
    if ( *(_BYTE *)dword_100A13A8 )
    {
      if ( *(_BYTE *)(dword_100A13A8 + 11) & 0x10 )
      {
        result = sub_100244D0(*a1 - 48, (int)&v22);
        if ( !result )
        {
          for ( i = v23; ; ++i )
          {
            *(_DWORD *)(dword_100A13A8 + 16) = i << 9;
            v4 = (_BYTE *)(v3 + 908);
            v5 = sub_100243F0(dword_100A13A8, (void *)(v3 + 908), 512);
            if ( v5 )
              break;
            if ( *v4 == 1 && !*(_BYTE *)(v3 + 925) )
            {
              do
              {
                v6 = (signed __int16)v5;
                v7 = v4[(signed __int16)v5 + 1];
                if ( v7 == 32 )
                  break;
                LOWORD(v5) = v5 + 1;
                v24[v6] = v7;
              }
              while ( (unsigned __int16)v5 < 8u );
              v8 = 0;
              v24[(signed __int16)v5] = 0;
              v9 = 0;
              v21 = 0;
              if ( *(_WORD *)(v3 + 2) > 0 )
              {
                do
                {
                  if ( v9 )
                    break;
                  v10 = v8;
                  v9 = strcmp(v24, (const char *)(11 * v8 + v3 + 368)) == 0;
                  v18 = v9;
                  if ( v9 )
                  {
                    v11 = 0;
                    v12 = v3 + 917;
                    while ( 1 )
                    {
                      v13 = (int)*(&off_10038270 + v11);
                      v14 = *(_BYTE *)v13 - *(_BYTE *)v12;
                      if ( *(_BYTE *)v13 != *(_BYTE *)v12
                        || (v15 = *(_BYTE *)(v13 + 1), v16 = v13 + 1, (v14 = v15 - *(_BYTE *)(v12 + 1)) != 0)
                        || (v14 = *(_BYTE *)(v16 + 1) - *(_BYTE *)(v12 + 2), *(_BYTE *)(v16 + 1) != *(_BYTE *)(v12 + 2)) )
                      {
                        v17 = 1;
                        if ( v14 <= 0 )
                          v17 = -1;
                      }
                      else
                      {
                        v17 = 0;
                      }
                      if ( !v17 )
                        break;
                      if ( ++v11 >= 5 )
                      {
                        v3 = v20;
                        goto LABEL_25;
                      }
                    }
                    v3 = v20;
                    *(_WORD *)(v20 + 2 * (v11 + 32 * v10) + 48) = i;
LABEL_25:
                    v9 = v18;
                  }
                  v8 = v21++ + 1;
                }
                while ( (signed __int16)v21 < *(_WORD *)(v3 + 2) );
              }
            }
          }
          result = sub_100241B0(&dword_100A13A8);
        }
      }
    }
  }
  return result;
}
// 10038270: using guessed type void *off_10038270;
// 10001DE0: using guessed type char var_10[12];

//----- (10001FD0) --------------------------------------------------------
void sub_10001FD0()
{
  __int16 v0; // si@1
  _BYTE *v1; // eax@5
  signed int v2; // ecx@5
  int v3; // esi@7
  int v4; // ebp@7
  char *v5; // edi@7
  bool v6; // bl@10
  unsigned int v7; // eax@13
  int *v8; // ecx@13
  int *v9; // edx@13
  __int16 v10; // dx@16
  __int16 v11; // cx@16
  bool v12; // sf@16
  unsigned __int8 v13; // of@16
  int v14; // eax@19
  char v15; // cl@20
  __int16 v16; // dx@21
  int v17; // ebx@25
  char *v18; // eax@25
  char *v19; // esi@25
  char v20; // cl@26
  unsigned int v21; // eax@27
  char *v22; // edi@27
  char v23; // cl@28
  char *v24; // esi@30
  __int16 v25; // ax@30
  __int16 v26; // si@49
  int v27; // edx@53
  int v28; // ebx@53
  char *v29; // edi@53
  int v30; // eax@53
  int v31; // ecx@54
  unsigned int v32; // edx@54
  char v33; // [sp+10h] [bp-4Ch]@7
  char v34; // [sp+11h] [bp-4Bh]@10
  char v35; // [sp+12h] [bp-4Ah]@7
  char v36; // [sp+13h] [bp-49h]@7
  int v37; // [sp+14h] [bp-48h]@1
  char v38[4]; // [sp+18h] [bp-44h]@1
  int v39; // [sp+1Ch] [bp-40h]@1
  char *v40; // [sp+20h] [bp-3Ch]@7
  int v41; // [sp+24h] [bp-38h]@21
  int v42; // [sp+28h] [bp-34h]@3
  int v43; // [sp+2Ch] [bp-30h]@7
  int v44; // [sp+30h] [bp-2Ch]@7
  int v45; // [sp+34h] [bp-28h]@13
  int v46; // [sp+38h] [bp-24h]@25
  int v47; // [sp+3Ch] [bp-20h]@25
  int v48; // [sp+40h] [bp-1Ch]@25
  int v49; // [sp+44h] [bp-18h]@25
  int v50; // [sp+48h] [bp-14h]@16
  char v51[2]; // [sp+4Ch] [bp-10h]@20
  char v52; // [sp+4Eh] [bp-Eh]@25

  v0 = 0;
  memset(byte_100A13B0, 0, 0x5B0u);
  dword_100A13A8 = 0;
  v37 = 0;
  strcpy(v38, "0:.");
  word_100A141C = 0;
  sub_100044C0(45, 60000);
  v39 = 0;
  do
  {
    if ( v37 >= 2 )
      break;
    if ( sub_10001390(&v42, &v37, (int)byte_100A13B0, v38, v0) != 1 && !v42 )
    {
      word_100A13B4 = -1;
      byte_100A13B0[0] = 0;
      byte_100A13B1 = 0;
      v1 = &unk_100A1557;
      v2 = 4;
      do
      {
        *v1 = 0;
        v1 += 101;
        --v2;
      }
      while ( v2 );
      v3 = v37;
      v4 = 0;
      v5 = (char *)&unk_100A0DE8 + 368 * v37;
      v35 = 0;
      v43 = 0;
      v33 = 0;
      v36 = 0;
      v44 = 0;
      v40 = (char *)&unk_100A0DE8 + 368 * v37;
      do
      {
        if ( v4 || (signed int)v5 >= (signed int)&unk_100A10C8 )
          break;
        v42 = sub_100243B0((unsigned int *)&dword_100A13A8, (int)v38, 0xFFFFu);
        v6 = sub_10001BA0(v38, (unsigned int *)&v44, (int)byte_100A13B0, &v36);
        v34 = v6;
        if ( v6 )
          v33 = -128;
        if ( word_100A13B2 > 0 )
        {
          sub_10001DE0(v38, (int)byte_100A13B0);
          v45 = (unsigned __int16)sub_10001170((int)byte_100A13B0);
          memset(byte_10152B00, 0, 0x404u);
          v7 = 8 * (signed __int16)v39;
          v8 = &dword_10152F20[2 * v3];
          v9 = &dword_10152F10[2 * v3];
          if ( dword_10152F40[v7 / 2] )
          {
            dword_10152F1C[2 * v3] = (int)v8;
            dword_10152F0C[2 * v3] = (int)v9;
          }
          else
          {
            dword_10152F40[v7 / 2] = (int)v8;
            dword_10152F44[v7 / 2] = (int)v9;
          }
          v10 = v39;
          v40 += 368;
          *v8 = (int)v5;
          qmemcpy(v5, byte_100A13B0, 0x70u);
          v11 = word_10152F48[v7];
          word_10152F48[v7] = word_100A13B2 + v11;
          v13 = __OFSUB__(v37 + 1, 2);
          v12 = v37 - 1 < 0;
          v50 = (unsigned __int16)(v11 + (v10 << 13));
          ++v37;
          if ( !(v12 ^ v13) && !v6 )
          {
            v34 = 1;
            v33 = -128;
            nullsub_1();
          }
          v14 = 0;
          do
          {
            v15 = v38[v14];
            v51[v14++] = v15;
          }
          while ( v15 );
          v16 = 0;
          v41 = 0;
          if ( word_100A13B2 <= 0 )
          {
LABEL_47:
            if ( word_100A13B4 != -1 )
              v4 = sub_100018C0(v38, (int)byte_100A13B0);
          }
          else
          {
            while ( !v4 )
            {
              v17 = v16;
              v46 = 0;
              v47 = 0;
              v48 = 0;
              v49 = 0;
              v52 = 0;
              v18 = (char *)&unk_100A1520 + 11 * v16;
              v19 = (char *)&unk_100A1520 + 11 * v16;
              do
                v20 = *v18++;
              while ( v20 );
              v21 = v18 - v19;
              v22 = (char *)&v50 + 3;
              do
                v23 = (v22++)[1];
              while ( v23 );
              qmemcpy(v22, v19, v21);
              v4 = sub_10019570(byte_10152B00, v51, 0, v16 + v50);
              if ( !v4 )
              {
                v24 = &byte_100A13B0[64 * v17];
                v4 = sub_1001B0D0((int)byte_10152B00, v24 + 64, 4, (int)&v46);
                v25 = *((_WORD *)v24 + 38);
                if ( v25 == 17 )
                {
                  ++v24[74];
                }
                else if ( v25 == 11 && v24[74] == 25 )
                {
                  if ( v47 )
                  {
                    if ( v47 != -1 )
                    {
                      v4 = sub_10017E40((int)byte_10152B00, (int)&v47, 5, byte_100A173C, 101, 1);
                      if ( !strncmp("FHS", byte_100A173C, 3u) )
                        v24[74] = 27;
                    }
                  }
                }
                if ( v36 == 1 )
                  *((_DWORD *)v24 + 22) |= 0x400u;
                if ( word_10152CCE & 0x8000 && byte_10152C92 != 6 && byte_10152C92 != 7 )
                  sub_10001AB0(v45, v41, (unsigned int)byte_10152B00, (int)byte_100A13B0);
                sub_10001790(&v46, &v35, (int)byte_10152B00, (int)byte_100A13B0);
                sub_100194E0((int)byte_10152B00);
              }
              if ( (signed __int16)++v41 >= word_100A13B2 )
              {
                if ( v4 )
                  break;
                goto LABEL_47;
              }
              v16 = v41;
            }
          }
          v26 = v39;
          if ( !(_WORD)v39 && sub_10001000(7) != 4 )
            LOWORD(v43) = word_100A13B2;
          if ( v4 )
          {
            nullsub_1();
            sub_10004310(".\\mdb\\mdb_bld_db_lst.c", 660, 1, 0);
          }
          else
          {
            dword_100A13B8 = dword_100A1734;
            byte_100A13B0[0] = v33 | v43 & 0x3F;
            v27 = dword_10038240[v26];
            byte_100A13B1 = v35 | 0xA0;
            dword_100A13BC = dword_100A1738;
            sub_10004060(v27, (int)byte_100A13B0, 368);
            v28 = v37;
            v29 = v40 - 368;
            dword_10152F18[2 * v37] = (int)(v40 - 368);
            qmemcpy(v29, byte_100A13B0, 0x70u);
            dword_100A1944 = dword_100A1738;
            dword_100A1940 = dword_100A1734;
            v30 = 0;
            word_100A193C = word_100A13B2;
            if ( word_100A13B2 > 0 )
            {
              do
              {
                v31 = (signed __int16)v30;
                v32 = dword_100A1404[16 * (signed __int16)v30++] | 0x80000000;
                dword_100A1948[v31] = v32;
              }
              while ( (signed __int16)v30 < word_100A13B2 );
            }
            sub_10004060(dword_10038250[(signed __int16)v39], (int)&word_100A193C, 32);
            dword_10152F08[2 * v28] = (int)&word_100A193C;
          }
          v5 = v40;
          v3 = v37;
        }
      }
      while ( !v34 );
    }
    ++v38[0];
    v0 = v39 + 1;
    v13 = __OFSUB__(v39 + 1, 4);
    v12 = (signed __int16)(v39++ - 3) < 0;
  }
  while ( v12 ^ v13 );
  sub_10004460(45);
  sub_10001B30();
}
// 10038240: using guessed type int dword_10038240[];
// 10038250: using guessed type int dword_10038250[];
// 100A13B1: using guessed type char byte_100A13B1;
// 100A13B2: using guessed type __int16 word_100A13B2;
// 100A13B4: using guessed type __int16 word_100A13B4;
// 100A13B8: using guessed type int dword_100A13B8;
// 100A13BC: using guessed type int dword_100A13BC;
// 100A1404: using guessed type int dword_100A1404[];
// 100A141C: using guessed type __int16 word_100A141C;
// 100A1734: using guessed type int dword_100A1734;
// 100A1738: using guessed type int dword_100A1738;
// 100A193C: using guessed type __int16 word_100A193C;
// 100A1940: using guessed type int dword_100A1940;
// 100A1944: using guessed type int dword_100A1944;
// 100A1948: using guessed type int dword_100A1948[];
// 10152C92: using guessed type char byte_10152C92;
// 10152CCE: using guessed type __int16 word_10152CCE;
// 10152F08: using guessed type int dword_10152F08[];
// 10152F0C: using guessed type int dword_10152F0C[];
// 10152F10: using guessed type int dword_10152F10[];
// 10152F18: using guessed type int dword_10152F18[];
// 10152F1C: using guessed type int dword_10152F1C[];
// 10152F20: using guessed type int dword_10152F20[];
// 10152F40: using guessed type int dword_10152F40[];
// 10152F44: using guessed type int dword_10152F44[];
// 10152F48: using guessed type __int16 word_10152F48[];
// 10001FD0: using guessed type char var_10[2];

//----- (10002550) --------------------------------------------------------
char __cdecl sub_10002550(unsigned __int16 a1)
{
  char result; // al@1
  unsigned int v2; // ecx@2
  int v3; // edx@3
  int v4; // ecx@3
  unsigned int v5; // edi@4
  _WORD *v6; // edx@5
  unsigned int v7; // esi@5
  unsigned int v8; // edx@6
  _WORD *v9; // ecx@9

  result = 0;
  if ( a1 != -1 )
  {
    v2 = (unsigned int)a1 >> 13;
    if ( v2 < 4 )
    {
      v3 = 8 * v2;
      v4 = dword_10152F44[4 * v2];
      if ( v4 )
      {
        v5 = a1 & 0x1FFF;
        if ( v5 < (unsigned __int16)word_10152F48[v3] )
        {
          v6 = *(_WORD **)v4;
          v7 = 0;
          if ( *(_DWORD *)v4 )
          {
            while ( 1 )
            {
              v8 = v7 + *v6;
              if ( v8 > v5 )
                break;
              v4 = *(_DWORD *)(v4 + 4);
              v7 = v8;
              v6 = *(_WORD **)v4;
              if ( !*(_DWORD *)v4 )
                return result;
            }
            v9 = *(_WORD **)v4;
            if ( v9 )
              result = (*(_DWORD *)&v9[2 * (v5 - v7) + 6] >> 31) & 1;
          }
        }
      }
    }
  }
  return result;
}
// 10152F44: using guessed type int dword_10152F44[];
// 10152F48: using guessed type __int16 word_10152F48[];

//----- (100025C0) --------------------------------------------------------
int __cdecl sub_100025C0(unsigned __int16 a1, char a2)
{
  int v2; // esi@1
  signed int v3; // eax@2
  int v4; // ecx@2
  int v5; // ecx@4
  __int16 *v6; // edx@5

  v2 = ~a2 & 1;
  if ( a1 == -1 )
  {
    v3 = (a2 & 2) != 0 ? 3 : 0;
    v4 = (unsigned __int16)word_10152F48[8 * v3];
  }
  else
  {
    v3 = (unsigned int)a1 >> 13;
    v4 = a1 & 0x1FFF;
  }
  v5 = v4 - 1;
  if ( v5 >= 0 )
  {
LABEL_10:
    if ( v3 >= v2 )
      return (unsigned __int16)((_WORD)v3 << 13) | v5 & 0x1FFF;
  }
  else
  {
    v6 = &word_10152F48[8 * v3];
    while ( v3 >= v2 )
    {
      --v3;
      v6 -= 8;
      if ( v3 >= 0 )
        v5 = (unsigned __int16)*v6 - 1;
      if ( v5 >= 0 )
        goto LABEL_10;
    }
  }
  return 0xFFFF;
}
// 10152F48: using guessed type __int16 word_10152F48[];

//----- (10002650) --------------------------------------------------------
bool __cdecl sub_10002650(unsigned __int16 a1)
{
  return a1 != -1 && (unsigned int)a1 >> 13 == sub_10001000(7);
}

//----- (10002680) --------------------------------------------------------
bool __cdecl sub_10002680(unsigned __int16 a1)
{
  return a1 != -1 && (unsigned int)a1 >> 13 != sub_10001000(7) && (a1 & 0xE000u) < 0x8000;
}

//----- (100026C0) --------------------------------------------------------
int __cdecl sub_100026C0(unsigned __int16 a1)
{
  unsigned int v1; // ecx@1
  int result; // eax@1
  int v3; // edx@2
  int v4; // ecx@2
  unsigned int v5; // edi@3
  int v6; // edx@4
  unsigned int v7; // esi@4
  unsigned int v8; // edx@5
  int v9; // ecx@8

  v1 = (unsigned int)a1 >> 13;
  result = 0;
  if ( v1 < 4 )
  {
    v3 = 8 * v1;
    v4 = dword_10152F40[4 * v1];
    if ( v4 )
    {
      v5 = a1 & 0x1FFF;
      if ( v5 < (unsigned __int16)word_10152F48[v3] )
      {
        v6 = *(_DWORD *)v4;
        v7 = 0;
        if ( *(_DWORD *)v4 )
        {
          while ( 1 )
          {
            v8 = v7 + *(_WORD *)(v6 + 2);
            if ( v8 >= v5 )
              break;
            v4 = *(_DWORD *)(v4 + 4);
            v7 = v8;
            v6 = *(_DWORD *)v4;
            if ( !*(_DWORD *)v4 )
              return result;
          }
          v9 = *(_DWORD *)v4;
          if ( v9 )
            result = ((v5 - v7) << 6) + v9 + 48;
        }
      }
    }
  }
  return result;
}
// 10152F40: using guessed type int dword_10152F40[];
// 10152F48: using guessed type __int16 word_10152F48[];

//----- (10002820) --------------------------------------------------------
signed __int16 __cdecl sub_10002820(unsigned __int16 a1, char **a2)
{
  signed __int16 result; // ax@2

  if ( a1 > 0x72u )
  {
    *a2 = sub_10005320(0x13A7u);
    result = 5031;
  }
  else
  {
    sub_10004310(".\\mdb\\mdb_emb_smbl.c", 500, 1, 0);
    *a2 = sub_10005320(6u);
    result = 6;
  }
  return result;
}

//----- (10002880) --------------------------------------------------------
_DWORD *__cdecl sub_10002880(char a1, _DWORD *a2, char a3, _DWORD *a4)
{
  _DWORD *result; // eax@3

  if ( a1 == 5 || a1 == 18 )
  {
    result = a2;
    if ( (unsigned __int16)a2 > 0x72u )
    {
LABEL_14:
      *a4 = "%";
    }
    else
    {
      result = (_DWORD *)(unsigned __int16)a2;
      switch ( (unsigned __int16)a2 )
      {
        case 1u:
        case 2u:
        case 3u:
        case 4u:
        case 5u:
        case 6u:
        case 7u:
          *a4 = "\"";
          return result;
        case 8u:
        case 9u:
        case 0xAu:
        case 0xBu:
          *a4 = L"#$\u00c1\u00c0\u5c2e\u646d\u5c62\u646d\u5f62\u6d65\u5f62\u6d73\u6c62\u632e";
          return result;
        case 0xCu:
        case 0xDu:
          *a4 = &asc_100382B0[1];
          return result;
        case 0x72u:
          if ( a3 )
          {
            if ( a3 == 1 )
              *a4 = "¿";
            else
LABEL_13:
              *a4 = &unk_10038970;
          }
          else
          {
            *a4 = L"\u2400\uc100\uc000\u2e00\u6d5c\u6264\u6d5c\u6264\u655f\u626d\u735f\u626d\u2e6cc";
          }
          break;
        default:
          goto LABEL_13;
        case 0u:
        case 0x14u:
        case 0x15u:
        case 0x1Eu:
        case 0x1Fu:
        case 0x28u:
          goto LABEL_14;
      }
    }
  }
  else
  {
    result = a4;
    *a4 = &unk_10038970;
  }
  return result;
}
// 100382B0: using guessed type wchar_t asc_100382B0[3];

//----- (100028B0) --------------------------------------------------------
__int16 __cdecl sub_100028B0(char a1, __int16 a2, char **a3)
{
  char *v3; // eax@2

  switch ( a1 )
  {
    case 5:
    case 0x12:
      LOWORD(v3) = sub_10002820(a2, a3);
      break;
    case 3:
      v3 = sub_10003280(a2);
      *a3 = v3;
      break;
    case 0xD:
      v3 = sub_100032E0(a2);
      *a3 = v3;
      break;
    default:
      v3 = sub_10005320(0x13A7u);
      *a3 = v3;
      break;
  }
  return (unsigned int)v3;
}

//----- (10002940) --------------------------------------------------------
signed int __cdecl sub_10002940(int a1, _DWORD *a2, int a3)
{
  signed int result; // eax@2
  int v4; // edx@3
  int v5; // esi@3
  unsigned int v6; // ecx@3
  unsigned int v7; // eax@4
  int v8; // ecx@6
  int v9; // ecx@8
  int v10; // eax@12
  char v11; // bl@12
  signed int v12; // edi@12
  int v13; // ebp@17
  int v14; // eax@19
  int v15; // eax@21
  char v16; // [sp+4h] [bp+4h]@12

  if ( *(_BYTE *)(a1 + 8) == 27 )
  {
    v4 = a3;
    v5 = *(_DWORD *)(a3 + 4);
    v6 = *(_DWORD *)(v5 + 4);
    if ( v6 <= 1 )
    {
      **(_WORD **)(a3 + 8) = 0;
      v10 = **(_DWORD **)(v5 + 12);
      v11 = 0;
      v16 = 0;
      v12 = 1;
      if ( !(v10 & 1) )
      {
        do
        {
          if ( (unsigned __int8)v11 >= 0x20u )
            break;
          v12 *= 2;
          ++v11;
        }
        while ( !(v10 & v12) );
        v16 = v11;
      }
      if ( (unsigned int)**(_WORD **)(a3 + 8) < *(_DWORD *)(v5 + 16) )
      {
        v13 = 0;
        do
        {
          if ( (unsigned __int8)v11 >= 0x20u )
            break;
          v14 = *(_DWORD *)(v5 + 20);
          if ( v14 )
          {
            sub_10002880(18, (_DWORD *)**(_WORD **)(v5 + 8), v16, (_DWORD *)(v14 + v13));
            v4 = a3;
          }
          v15 = *(_DWORD *)(v5 + 24);
          if ( v15 )
          {
            sub_100028B0(18, **(_WORD **)(v5 + 8), (char **)(v13 + v15));
            v4 = a3;
          }
          do
          {
            v12 *= 2;
            ++v11;
          }
          while ( !(**(_DWORD **)(v5 + 12) & v12) && (unsigned __int8)v11 < 0x20u );
          ++**(_WORD **)(v4 + 8);
          v13 += 4;
          v16 = v11;
        }
        while ( (unsigned int)**(_WORD **)(v4 + 8) < *(_DWORD *)(v5 + 16) );
      }
      *a2 |= 1u;
      result = 0;
    }
    else
    {
      v7 = 0;
      if ( v6 )
      {
        do
        {
          if ( v7 >= *(_DWORD *)(v5 + 16) )
            break;
          v8 = *(_DWORD *)(v5 + 20);
          if ( v8 )
            *(_DWORD *)(v8 + 4 * v7) = &unk_10038970;
          v9 = *(_DWORD *)(v5 + 24);
          if ( v9 )
            *(_DWORD *)(v9 + 4 * v7) = 0;
          ++v7;
        }
        while ( v7 < *(_DWORD *)(v5 + 4) );
      }
      **(_WORD **)(a3 + 8) = v7;
      *a2 |= 1u;
      result = 0;
    }
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (10002A70) --------------------------------------------------------
signed int __cdecl sub_10002A70(int a1, _DWORD *a2)
{
  *a2 |= 1u;
  return 1;
}

//----- (10002A80) --------------------------------------------------------
int __cdecl sub_10002A80()
{
  int *v0; // eax@1
  signed int v1; // ecx@1
  int v2; // eax@3
  signed int v3; // ecx@3

  memset(byte_10152B00, 0, 0x404u);
  v0 = dword_10152F44;
  v1 = 4;
  do
  {
    *(v0 - 1) = 0;
    *v0 = 0;
    *((_WORD *)v0 + 2) = 0;
    *((_BYTE *)v0 + 6) = 0;
    v0[2] = 0;
    v0 += 4;
    --v1;
  }
  while ( v1 );
  v2 = 0;
  v3 = 2;
  do
  {
    dword_10152F20[v2] = 0;
    dword_10152F24[v2] = 0;
    dword_10152F10[v2] = 0;
    dword_10152F14[v2] = 0;
    v2 += 2;
    --v3;
  }
  while ( v3 );
  return nullsub_1();
}
// 10152F10: using guessed type int dword_10152F10[];
// 10152F14: using guessed type int dword_10152F14[];
// 10152F20: using guessed type int dword_10152F20[];
// 10152F24: using guessed type int dword_10152F24[];
// 10152F44: using guessed type int dword_10152F44[];

//----- (10002AF0) --------------------------------------------------------
int sub_10002AF0()
{
  return sub_10003FD0(2002, (int)&byte_10152F30, 1);
}
// 10152F30: using guessed type char byte_10152F30;

//----- (10002B10) --------------------------------------------------------
int sub_10002B10()
{
  return sub_10003FD0(2005, (int)&byte_10152F04, 1);
}
// 10152F04: using guessed type char byte_10152F04;

//----- (10002B30) --------------------------------------------------------
int __cdecl sub_10002B30(char a1)
{
  byte_10152F30 = a1;
  return sub_10004060(2002, (int)&byte_10152F30, 1);
}
// 10152F30: using guessed type char byte_10152F30;

//----- (10002B50) --------------------------------------------------------
int __cdecl sub_10002B50(char a1)
{
  byte_10152F04 = a1;
  return sub_10004060(2005, (int)&byte_10152F04, 1);
}
// 10152F04: using guessed type char byte_10152F04;

//----- (10002B70) --------------------------------------------------------
int sub_10002B70()
{
  int *v0; // eax@1
  signed int v1; // ecx@1
  int v2; // eax@3
  signed int v3; // ecx@3
  __int16 v4; // si@9
  unsigned __int16 v5; // ax@9
  unsigned __int16 v6; // di@9
  bool v8; // [sp+Fh] [bp-1h]@9

  nullsub_1();
  nullsub_1();
  memset(byte_10152B00, 0, 0x404u);
  v0 = dword_10152F44;
  v1 = 4;
  do
  {
    *(v0 - 1) = 0;
    *v0 = 0;
    *((_WORD *)v0 + 2) = 0;
    *((_BYTE *)v0 + 6) = 0;
    v0[2] = 0;
    v0 += 4;
    --v1;
  }
  while ( v1 );
  v2 = 0;
  v3 = 2;
  do
  {
    dword_10152F20[v2] = 0;
    dword_10152F24[v2] = 0;
    dword_10152F10[v2] = 0;
    dword_10152F14[v2] = 0;
    v2 += 2;
    --v3;
  }
  while ( v3 );
  byte_10152AE4 = sub_10005360(0) == 29;
  if ( (unsigned __int16)sub_10002AF0() )
    sub_10002B30(1);
  if ( (unsigned __int16)sub_10002B10() )
    sub_10002B50(1);
  sub_10001FD0();
  v4 = sub_10003FD0(2006, (int)&v8, 1);
  v5 = sub_100025C0(0xFFFFu, 3);
  v6 = v5;
  if ( !v4 && v8 == 1 && !sub_10002680(v5) )
    nullsub_1();
  v8 = sub_10002680(v6);
  return sub_10004060(2006, (int)&v8, 1);
}
// 10152AE4: using guessed type char byte_10152AE4;
// 10152F10: using guessed type int dword_10152F10[];
// 10152F14: using guessed type int dword_10152F14[];
// 10152F20: using guessed type int dword_10152F20[];
// 10152F24: using guessed type int dword_10152F24[];
// 10152F44: using guessed type int dword_10152F44[];

//----- (10002CA0) --------------------------------------------------------
void __cdecl sub_10002CA0(_BYTE *a1, unsigned int a2)
{
  sub_10005460(a1, a2, 1);
}

//----- (10002CC0) --------------------------------------------------------
char __cdecl sub_10002CC0(const char *a1)
{
  int v1; // eax@1
  unsigned int v2; // ebp@1
  int v3; // esi@1
  unsigned int v4; // esi@4
  char v5; // cl@21
  bool v6; // zf@25
  char v7; // cl@47
  bool v8; // zf@54
  char v9; // cl@63

  v1 = strlen(a1);
  v2 = v1;
  v3 = 0;
  if ( v1 )
  {
    while ( 1 )
    {
      v1 = islower(a1[v3]);
      if ( v1 )
        break;
      if ( ++v3 >= v2 )
        goto LABEL_4;
    }
  }
  else
  {
LABEL_4:
    v4 = 0;
    if ( v2 )
    {
      do
      {
        v1 = isalpha(a1[v4]);
        if ( v1 )
        {
          if ( v4
            && (LOBYTE(v1) = a1[v4 - 1], (_BYTE)v1 != 32)
            && (_BYTE)v1 != 45
            && (_BYTE)v1 != 47
            && (_BYTE)v1 != 34
            && (_BYTE)v1 != 40
            && (_BYTE)v1 != 46 )
          {
            a1[v4] += 32;
          }
          else
          {
            v1 = a1[v4];
            switch ( v1 )
            {
              case 65:
                if ( !v4
                  || (LOBYTE(v1) = a1[v4 + 1], (_BYTE)v1 != 32)
                  && ((_BYTE)v1 != 78 || a1[v4 + 2] != 68 || a1[v4 + 3] != 32) )
                {
                  v5 = a1[v4 + 1];
                  if ( v5 != 65 || a1[v4 + 2] != 65 || (LOBYTE(v1) = a1[v4 + 3], (_BYTE)v1 != 32) && (_BYTE)v1 )
                  {
                    v6 = v5 == 77;
                    goto LABEL_38;
                  }
                  goto LABEL_42;
                }
                a1[v4] = 97;
                break;
              case 66:
                if ( a1[v4 + 1] == 77 && a1[v4 + 2] == 87 )
                {
                  LOBYTE(v1) = a1[v4 + 3];
                  if ( (_BYTE)v1 == 32 )
                    goto LABEL_42;
                  if ( !(_BYTE)v1 )
                    v4 += 2;
                }
                break;
              case 73:
                if ( a1[v4 + 1] == 67 && a1[v4 + 2] == 87 && a1[v4 + 3] == 87 )
                {
                  LOBYTE(v1) = a1[v4 + 4];
                  if ( (_BYTE)v1 == 32 || !(_BYTE)v1 )
                    v4 += 3;
                }
                break;
              case 75:
                v6 = a1[v4 + 1] == 70;
LABEL_38:
                if ( v6 && a1[v4 + 2] == 67 )
                {
                  LOBYTE(v1) = a1[v4 + 3];
                  if ( (_BYTE)v1 == 32 || !(_BYTE)v1 )
LABEL_42:
                    v4 += 2;
                }
                break;
              case 77:
                if ( a1[v4 + 1] == 67 )
                {
                  LOBYTE(v1) = a1[v4 + 3];
                  if ( (_BYTE)v1 != 32 )
                  {
                    if ( (_BYTE)v1 )
                    {
                      a1[++v4] = 99;
                      goto LABEL_87;
                    }
                  }
                }
                break;
              case 78:
                v7 = a1[v4 + 1];
                if ( v7 == 87 )
                {
                  LOBYTE(v1) = a1[v4 + 2];
                  if ( (_BYTE)v1 == 32 || !(_BYTE)v1 || (_BYTE)v1 == 41 )
                    goto LABEL_87;
                }
                if ( v7 == 69 )
                {
                  LOBYTE(v1) = a1[v4 + 2];
                  if ( (_BYTE)v1 != 32 && (_BYTE)v1 )
                  {
                    v8 = (_BYTE)v1 == 41;
                    goto LABEL_86;
                  }
                  goto LABEL_87;
                }
                break;
              case 79:
                if ( !v4 || a1[v4 + 1] != 70 || a1[v4 + 2] != 32 )
                  goto LABEL_59;
                a1[v4] = 111;
                break;
              case 68:
LABEL_59:
                if ( a1[v4 + 1] == 39 )
                {
                  LOBYTE(v1) = a1[v4 + 3];
                  if ( (_BYTE)v1 != 32 )
                  {
                    if ( (_BYTE)v1 )
                      v4 += 2;
                  }
                }
                break;
              case 83:
                v9 = a1[v4 + 1];
                if ( v9 == 87 )
                {
                  LOBYTE(v1) = a1[v4 + 2];
                  if ( (_BYTE)v1 == 32 || !(_BYTE)v1 || (_BYTE)v1 == 41 )
                    goto LABEL_87;
                }
                if ( v9 == 69 )
                {
                  LOBYTE(v1) = a1[v4 + 2];
                  if ( (_BYTE)v1 != 32 && (_BYTE)v1 )
                  {
                    v8 = (_BYTE)v1 == 41;
                    goto LABEL_86;
                  }
                  goto LABEL_87;
                }
                break;
              case 84:
                if ( v4 )
                {
                  LOBYTE(v1) = a1[v4 + 1];
                  if ( (_BYTE)v1 != 72 || a1[v4 + 2] != 69 || a1[v4 + 3] != 32 )
                  {
                    if ( (_BYTE)v1 == 79 && a1[v4 + 2] == 32 )
                      a1[v4] = 116;
                  }
                  else
                  {
                    a1[v4] = 116;
                  }
                }
                break;
              case 85:
                if ( a1[v4 + 1] == 83 )
                {
                  LOBYTE(v1) = a1[v4 + 2];
                  if ( (_BYTE)v1 == 32
                    || !(_BYTE)v1
                    || (_BYTE)v1 == 65 && ((LOBYTE(v1) = a1[v4 + 3], (_BYTE)v1 == 32) || !(_BYTE)v1) )
                  {
                    v8 = a1[++v4 + 1] == 65;
LABEL_86:
                    if ( v8 )
LABEL_87:
                      ++v4;
                  }
                }
                break;
              default:
                break;
            }
          }
        }
        ++v4;
      }
      while ( v4 < v2 );
    }
  }
  return v1;
}

//----- (10002FF0) --------------------------------------------------------
void __cdecl sub_10002FF0(_BYTE *a1, int a2, char a3)
{
  char *v3; // ebp@1
  char v4; // bl@3
  __int16 v5; // ax@5
  int v6; // esi@7
  const char *v7; // eax@7
  char v8; // cl@8
  float v9; // ST20_4@11
  int v10; // eax@11
  const void *v11; // edx@13
  unsigned int v12; // eax@13
  char *v13; // edi@13
  char v14; // cl@14
  char v15; // cl@18
  char *v16; // eax@22
  char v17; // cl@23
  __int32 v18; // [sp+14h] [bp-18h]@10
  char *v19; // [sp+18h] [bp-14h]@10
  char v20[5]; // [sp+1Ch] [bp-10h]@8
  char v21[5]; // [sp+1Dh] [bp-Fh]@24
  char v22; // [sp+21h] [bp-Bh]@10

  v3 = a1;
  if ( (signed __int16)a2 >= 2 )
  {
    if ( *a1 == 31 )
    {
      *a1 = 44;
      v3 = a1 + 1;
      --a2;
      v4 = 1;
    }
    else
    {
      v4 = 0;
    }
    v5 = 0;
    if ( *v3 == 32 )
    {
      do
        ++v5;
      while ( v3[v5] == 32 );
    }
    v6 = v5;
    v7 = &v3[v5];
    if ( strlen(v7) <= 5 )
    {
      do
      {
        v8 = *v7;
        v7[&v20[-v6] - v3] = *v7;
        ++v7;
      }
      while ( v8 );
      if ( byte_10152AE4 )
      {
        v19 = &v22;
        v18 = strtol(v20, &v19, 10);
        if ( v19 <= v20 )
          goto LABEL_20;
        v9 = (double)v18 * 0.3048000037670135;
        v10 = sub_10023490(v9);
        if ( sprintf(v20, "%ld", v10) <= 0 || a3 != 1 )
          goto LABEL_20;
        v11 = &unk_10038870;
        v12 = strlen((const char *)&unk_10038870) + 1;
        v13 = (char *)&v19 + 3;
        do
          v14 = (v13++)[1];
        while ( v14 );
      }
      else
      {
        if ( !a3 )
        {
LABEL_20:
          if ( v4 )
          {
            *v3++ = 32;
            --a2;
          }
          v16 = v20;
          do
            v17 = *v16++;
          while ( v17 );
          if ( (signed __int16)((_WORD)v16 - (unsigned int)v21) < (signed __int16)a2 )
            strcpy(v3, v20);
          return;
        }
        v11 = &unk_1003886C;
        v12 = strlen((const char *)&unk_1003886C) + 1;
        v13 = (char *)&v19 + 3;
        do
          v15 = (v13++)[1];
        while ( v15 );
      }
      qmemcpy(v13, v11, v12);
      goto LABEL_20;
    }
  }
}
// 10152AE4: using guessed type char byte_10152AE4;
// 10002FF0: using guessed type char var_10[5];

//----- (100031A0) --------------------------------------------------------
char *__cdecl sub_100031A0(int a1, _BYTE *a2, unsigned __int16 a3)
{
  char *result; // eax@1
  int v4; // edx@5
  char v5; // cl@6
  char *v6; // edi@7
  char v7; // cl@8
  char v8; // [sp+Ch] [bp-Ch]@7

  result = sub_10005320(word_100814C2[*(_BYTE *)a1]);
  if ( a3 >= strlen(result) + 6 || *(_BYTE *)a1 >= 1u && *(_BYTE *)a1 <= 0xCu )
  {
    v4 = a2 - result;
    do
    {
      v5 = *result;
      result[v4] = *result;
      ++result;
    }
    while ( v5 );
    sprintf(&v8, " %d", *(_BYTE *)(a1 + 1) + 1900);
    result = (char *)(strlen(&v8) + 1);
    v6 = a2 - 1;
    do
      v7 = (v6++)[1];
    while ( v7 );
    qmemcpy(v6, &v8, (unsigned int)result);
  }
  else
  {
    *a2 = 0;
  }
  return result;
}
// 100814C2: using guessed type __int16 word_100814C2[];

//----- (10003280) --------------------------------------------------------
char *__cdecl sub_10003280(__int16 a1)
{
  int v1; // eax@1
  char *result; // eax@4

  v1 = 0;
  while ( word_10038908[2 * v1] != a1 )
  {
    if ( (unsigned int)++v1 >= 0x1A )
      return sub_10005320(0x1AA7u);
  }
  result = sub_10005320(word_1003890A[2 * v1]);
  if ( !result )
    result = sub_10005320(0x1AA7u);
  return result;
}
// 10038908: using guessed type __int16 word_10038908[];
// 1003890A: using guessed type __int16 word_1003890A[];

//----- (100032E0) --------------------------------------------------------
char *__cdecl sub_100032E0(__int16 a1)
{
  int v1; // eax@1
  char *result; // eax@4

  v1 = 0;
  while ( word_100388C8[2 * v1] != a1 )
  {
    if ( (unsigned int)++v1 >= 0xE )
      return sub_10005320(0x1AA7u);
  }
  result = sub_10005320(word_100388CA[2 * v1]);
  if ( !result )
    result = sub_10005320(0x1AA7u);
  return result;
}
// 100388C8: using guessed type __int16 word_100388C8[];
// 100388CA: using guessed type __int16 word_100388CA[];

//----- (10003340) --------------------------------------------------------
char *__cdecl sub_10003340(__int16 a1, char *a2)
{
  char *result; // eax@2

  *(_DWORD *)a2 = 0;
  if ( (unsigned int)(unsigned __int16)a1 - 100 > 2 )
  {
    result = sub_10005320(0x1AA7u);
  }
  else
  {
    sub_100028B0(18, a1, &a2);
    result = a2;
  }
  return result;
}

//----- (10003380) --------------------------------------------------------
const char *__cdecl sub_10003380(char a1)
{
  const char *result; // eax@1

  result = (const char *)&unk_10038894;
  if ( a1 == 1 )
  {
    result = (const char *)&unk_10038874;
  }
  else if ( a1 == 2 )
  {
    result = (const char *)&unk_10038878;
  }
  else if ( (unsigned __int8)(a1 - 1) <= 5u )
  {
    result = "HWY ";
  }
  return result;
}

//----- (100033B0) --------------------------------------------------------
int __cdecl sub_100033B0(const char *a1)
{
  int result; // eax@1
  unsigned int v2; // ebx@1
  unsigned int v3; // esi@1

  result = strlen(a1);
  v2 = result;
  v3 = 0;
  if ( result )
  {
    do
    {
      result = islower(a1[v3]);
      if ( result )
        a1[v3] -= 32;
      ++v3;
    }
    while ( v3 < v2 );
  }
  return result;
}

//----- (10003400) --------------------------------------------------------
void sub_10003400()
{
  dword_10152AE0 = -15;
}
// 10152AE0: using guessed type int dword_10152AE0;

//----- (10003410) --------------------------------------------------------
BOOL __cdecl sub_10003410(int a1, int a2, char a3, void *a4, __int16 a5, int a6)
{
  bool v6; // al@1

  sub_10017E40(a1, a2, a3, a4, a5, a6 & 0xFFFFFFF7);
  v6 = *(_BYTE *)a4 != 0;
  if ( !*(_BYTE *)a4 && a6 & 8 )
    v6 = sub_10017E40(a1, a2, a3, a4, a5, a6) == 0;
  return v6 == 0;
}

//----- (10003480) --------------------------------------------------------
signed int sub_10003480()
{
  sub_10003400();
  if ( !sub_10004AA0((LONG)&off_10038974) )
    sub_10004310(".\\mdb_main\\mdb_main.c", 749, 1, 0);
  return sub_10004630((int)&off_10038974);
}
// 10038974: using guessed type char *off_10038974;

//----- (100034C0) --------------------------------------------------------
char sub_100034C0()
{
  char result; // al@1
  unsigned int v1; // ecx@1

  result = 0;
  v1 = 0;
  while ( dword_10148C60[v1] != -1 )
  {
    v1 += 317;
    ++result;
    if ( v1 >= 10144 )
      return -1;
  }
  return result;
}
// 10148C60: using guessed type int dword_10148C60[];

//----- (100034F0) --------------------------------------------------------
void sub_100034F0()
{
  __int16 v0; // bx@1
  unsigned int v1; // esi@1
  __int16 v2; // si@4
  char v3; // al@11
  int v4; // esi@11
  unsigned int v5; // eax@12
  char *v6; // edx@20
  int v7; // eax@21
  unsigned int v8; // ebx@24
  char *v9; // esi@25
  int v10; // eax@27
  int v11; // eax@29
  unsigned int v12; // ebx@31
  int v13; // edx@31
  char *v14; // eax@32
  unsigned int v15; // ebx@36
  int v16; // edx@36
  char *v17; // eax@37
  int v18; // ecx@42
  int v19; // eax@42
  int v20; // edx@42
  int v21; // esi@42
  int v22; // edi@42
  char v23; // al@45
  int v24; // eax@49
  size_t v25; // eax@51
  int v26; // edx@51
  int v27; // eax@57
  size_t v28; // eax@59
  int v29; // eax@64
  int v30; // [sp-8h] [bp-118h]@17
  int *v31; // [sp-4h] [bp-114h]@17
  unsigned __int8 v32; // [sp+13h] [bp-FDh]@11
  char *v33; // [sp+14h] [bp-FCh]@14
  int v34; // [sp+18h] [bp-F8h]@14
  int v35; // [sp+1Ch] [bp-F4h]@12
  int v36; // [sp+20h] [bp-F0h]@9
  char *v37; // [sp+24h] [bp-ECh]@20
  char v38; // [sp+2Bh] [bp-E5h]@4
  int v39; // [sp+2Ch] [bp-E4h]@1
  int v40; // [sp+30h] [bp-E0h]@1
  char v41; // [sp+34h] [bp-DCh]@4
  unsigned __int8 v42; // [sp+38h] [bp-D8h]@9
  char v43; // [sp+39h] [bp-D7h]@10
  __int16 v44[2]; // [sp+3Ah] [bp-D6h]@24
  int v45; // [sp+3Eh] [bp-D2h]@42
  int v46; // [sp+42h] [bp-CEh]@42
  int v47; // [sp+46h] [bp-CAh]@42
  char v48[4]; // [sp+7Ah] [bp-96h]@73
  int v49; // [sp+7Eh] [bp-92h]@73
  unsigned int v50; // [sp+BCh] [bp-54h]@18
  int v51; // [sp+C0h] [bp-50h]@73

  sub_100057D0();
  sub_10003480();
  v0 = 0;
  v1 = 0;
  v40 = 0;
  v39 = 0;
  do
  {
    dword_10148C60[v1] = -1;
    byte_10148C64[v1 * 4] = 3;
    memset(&byte_10148C68[v1 * 4], 0, 0x404u);
    v1 += 317;
  }
  while ( v1 < 10144 );
  do
  {
LABEL_3:
    sub_10004540(&v39);
    if ( v39 & 1 )
    {
      v2 = sub_10003F70(7, &v41, &v38);
      if ( (_WORD)v40 != v0 && v2 == v0 )
      {
        sub_10001030();
        sub_10002B70();
      }
      v40 = (unsigned __int16)v2;
    }
  }
  while ( !(v39 & 2) || sub_100043A0((int)&v42, (int)&v36) == 1 );
  while ( 1 )
  {
    if ( v43 == 11 )
    {
      v3 = sub_100034C0();
      v4 = v36;
      v32 = v3;
      if ( v3 == -1 )
      {
        v35 = 7;
      }
      else
      {
        v5 = 1268 * (unsigned __int8)v3;
        dword_10148C60[v5 / 4] = v36;
        byte_10148C64[v5] = 0;
        memset(&byte_10148C68[v5], 0, 0x404u);
        v35 = 4;
      }
      v33 = (char *)&v32;
      v34 = 1;
      sub_10004480(v4, (int)&v33);
    }
    else
    {
      v32 = v42;
      if ( v42 >= 0xFFu )
      {
        v35 = 6;
LABEL_76:
        v31 = (int *)&v33;
        v30 = v36;
      }
      else if ( dword_10148C60[317 * v42] == v36 )
      {
        if ( v50 <= 0x80 )
        {
          *(_DWORD *)(4112 * v42 + dword_10152AE0) = v36;
          v37 = (char *)128;
          *(_BYTE *)(4112 * v32 + dword_10152AE0 + 4) = v43;
          v6 = v37;
          *(_DWORD *)(4112 * v32 + dword_10152AE0 + 8) = 0;
          *(_BYTE *)(4112 * v32 + dword_10152AE0 + 12) = 1;
          switch ( v43 )
          {
            case 0xC:
              v32 = v42;
              v7 = 317 * v42;
              dword_10148C60[v7] = -1;
              byte_10148C64[v7 * 4] = 3;
              v31 = (int *)&v33;
              v35 = 4;
              v30 = v36;
              goto LABEL_77;
            case 0:
              if ( v50 == 104 )
              {
                v8 = 1268 * v32;
                memset((char *)&unk_1014906C + v8, 0, 0x68u);
                qmemcpy((char *)&unk_1014906C + v8, v44, 0x68u);
                if ( byte_101490D1[v8] )
                  v9 = 0;
                else
                  v9 = (char *)&unk_1014909F + v8;
                v10 = sub_10019570(
                        &byte_10148C68[v8],
                        (char *)(byte_1014909E[v8] == 0 ? (unsigned int)&unk_1014906C + v8 : 0),
                        (int)v9,
                        word_101490D2[v8 / 2]);
                v0 = 0;
                v35 = v10;
              }
              else
              {
                *(_BYTE *)(4112 * v32 + dword_10152AE0 + 12) = 0;
                v35 = 8;
              }
              goto LABEL_76;
            case 1:
              if ( (char *)v50 != v6 )
                goto LABEL_29;
              v12 = 1268 * v32;
              v37 = (char *)&unk_101490D4 + v12;
              memset((char *)&unk_101490D4 + v12, 0, 0x80u);
              v13 = (int)v37;
              qmemcpy((char *)&unk_101490D4 + v12, v44, 0x80u);
              dword_10148F24[v12 / 4] = v13;
              word_10148F28[v12 / 2] = word_101490FC[v12 / 2];
              if ( byte_10149150[v12] )
                v14 = 0;
              else
                v14 = (char *)&unk_10149100 + v12;
              dword_10148F2C[v12 / 4] = (int)v14;
              byte_10148F2A[v12] = 1;
              v0 = 0;
              v35 = 0;
              goto LABEL_76;
            case 2:
              if ( (char *)v50 == v6 )
              {
                v15 = 1268 * v32;
                v37 = (char *)&unk_101490D4 + v15;
                memset((char *)&unk_101490D4 + v15, 0, 0x80u);
                v16 = (int)v37;
                qmemcpy((char *)&unk_101490D4 + v15, v44, 0x80u);
                dword_10148F18[v15 / 4] = v16;
                word_10148F1C[v15 / 2] = word_101490FC[v15 / 2];
                if ( byte_10149150[v15] )
                  v17 = 0;
                else
                  v17 = (char *)&unk_10149100 + v15;
                dword_10148F20[v15 / 4] = (int)v17;
                byte_10148F1E[v15] = 1;
                v0 = 0;
                v35 = 0;
              }
              else
              {
LABEL_29:
                v11 = v32;
LABEL_30:
                *(_BYTE *)(4112 * v11 + dword_10152AE0 + 12) = 0;
                v35 = 8;
              }
              goto LABEL_76;
            case 3:
              if ( v50 == 16 )
              {
                v18 = *(_DWORD *)v44;
                v19 = 317 * v32;
                v20 = v45;
                v21 = v46;
                v22 = v47;
                dword_10148F30[v19] = *(_DWORD *)v44;
                dword_10148F34[v19] = v20;
                dword_10148F38[v19] = v21;
                dword_10148F3C[v19] = v22;
                dword_100A19E4 = v20;
                dword_10148F40[v19] = -1073741825;
                dword_100A19E0 = v18;
                dword_10148F44[v19] = 0x7FFFFFFF;
                dword_10148F48[v19] = -1073741825;
                dword_10148F4C[v19] = 0x7FFFFFFF;
                v31 = (int *)&v33;
                dword_100A19EC = v22;
                dword_100A19E8 = v21;
                v35 = 0;
                v30 = v36;
              }
              else
              {
                *(_BYTE *)(4112 * v32 + dword_10152AE0 + 12) = 0;
                v31 = (int *)&v33;
                v35 = 8;
                v30 = v36;
              }
              goto LABEL_77;
            case 4:
              if ( v50 == 1 )
              {
                v23 = sub_1001DF20((int)&byte_10148C68[1268 * v32], v44[0]);
                v35 = 0;
                *(_DWORD *)(4112 * v32 + dword_10152AE0 + 8) = 1;
                *(_BYTE *)(4112 * v32 + dword_10152AE0 + 13) = v23;
                v31 = (int *)&v33;
                v30 = v36;
              }
              else
              {
                *(_BYTE *)(4112 * v32 + dword_10152AE0 + 12) = 0;
                v31 = (int *)&v33;
                v35 = 8;
                v30 = v36;
              }
              goto LABEL_77;
            case 5:
              dword_100A19E0 = 0;
              dword_100A19E4 = 0;
              dword_100A19E8 = 0;
              dword_100A19EC = 0;
              dword_100A19F0 = 0;
              dword_100A19F4 = 0;
              dword_100A19F8 = 0;
              dword_100A19FC = 0;
              dword_100A1A00 = 0;
              dword_100A1A04 = 0;
              if ( v50 == 2 )
              {
                v35 = sub_1001D9B0((int)&byte_10148C68[1268 * v32], (int)&dword_100A19E0, v44[0], 0);
                if ( (_WORD)dword_100A19FC )
                  v24 = (unsigned __int16)dword_100A19FC - 1;
                else
                  v24 = 0;
                v25 = 8 * v24 + 40;
                v26 = 4112 * v32;
                if ( v25 >= 0x1000 )
                {
                  *(_DWORD *)(v26 + dword_10152AE0 + 8) = 0;
                  *(_BYTE *)(4112 * v32 + dword_10152AE0 + 12) = 0;
                  v31 = (int *)&v33;
                  v35 = 9;
                  v30 = v36;
                }
                else
                {
                  *(_DWORD *)(v26 + dword_10152AE0 + 8) = v25;
                  memcpy_0((void *)(4112 * v32 + dword_10152AE0 + 13), &dword_100A19E0, v25);
                  v31 = (int *)&v33;
                  v30 = v36;
                }
              }
              else
              {
                *(_BYTE *)(4112 * v32 + dword_10152AE0 + 12) = 0;
                v31 = (int *)&v33;
                v35 = 8;
                v30 = v36;
              }
              goto LABEL_77;
            case 6:
              if ( v50 == 2 )
              {
                v35 = sub_1001DA80((int)&byte_10148C68[1268 * v32], (int)&dword_100A19E0, v44[0], 0);
                if ( (_WORD)dword_100A19FC )
                  v27 = (unsigned __int16)dword_100A19FC - 1;
                else
                  v27 = 0;
                v28 = 8 * v27 + 40;
LABEL_60:
                if ( v28 >= 0x1000 )
                {
                  *(_DWORD *)(4112 * v32 + dword_10152AE0 + 8) = 0;
                  *(_BYTE *)(4112 * v32 + dword_10152AE0 + 12) = 0;
                  v35 = 9;
                }
                else
                {
                  *(_DWORD *)(4112 * v32 + dword_10152AE0 + 8) = v28;
                  memcpy_0((void *)(4112 * v32 + dword_10152AE0 + 13), &dword_100A19E0, v28);
                }
              }
              else
              {
                *(_BYTE *)(4112 * v32 + dword_10152AE0 + 12) = 0;
                v35 = 8;
              }
              goto LABEL_76;
            case 9:
              dword_100A19E0 = 0;
              dword_100A19E4 = 0;
              dword_100A19E8 = 0;
              dword_100A19EC = 0;
              dword_100A19F0 = 0;
              dword_100A19F4 = 0;
              dword_100A19F8 = 0;
              dword_100A19FC = 0;
              dword_100A1A00 = 0;
              dword_100A1A04 = 0;
              v11 = v32;
              if ( v50 != 2 )
                goto LABEL_30;
              v29 = sub_1001D440((int)&byte_10148C68[1268 * v32], (int)&dword_100A19E0, v44[0], 0);
              goto LABEL_65;
            case 0xA:
              v11 = v32;
              if ( v50 != 2 )
                goto LABEL_30;
              v29 = sub_1001D510((int)&byte_10148C68[1268 * v32], (int)&dword_100A19E0, v44[0], 0);
LABEL_65:
              v35 = v29;
              if ( (_WORD)dword_100A1A00 == v0 )
                v28 = 44;
              else
                v28 = 8 * ((unsigned __int16)dword_100A1A00 - 1) + 44;
              goto LABEL_60;
            case 7:
              sub_100194E0((int)&byte_10148C68[1268 * v32]);
              v35 = 0;
              v33 = 0;
              v34 = 0;
              sub_10004480(v36, (int)&v33);
              goto LABEL_78;
            case 8:
              if ( v50 == 72 )
              {
                qmemcpy(&v51, v44, 0x48u);
                v35 = sub_10017E40(
                        (int)&byte_10148C68[1268 * v32],
                        (int)&v51,
                        v48[0],
                        (void *)(4112 * v32 + dword_10152AE0 + 13),
                        *(__int16 *)&v48[2],
                        v49);
                *(_DWORD *)(4112 * v32 + dword_10152AE0 + 8) = strlen((const char *)(4112 * v32 + dword_10152AE0 + 13));
                v31 = (int *)&v33;
                v30 = v36;
              }
              else
              {
                *(_BYTE *)(4112 * v32 + dword_10152AE0 + 12) = 0;
                v31 = (int *)&v33;
                v35 = 8;
                v30 = v36;
              }
              goto LABEL_77;
            default:
              *(_DWORD *)(4112 * v32 + dword_10152AE0) = -1;
              *(_BYTE *)(4112 * v32 + dword_10152AE0 + 4) = v43;
              *(_DWORD *)(4112 * v32 + dword_10152AE0 + 8) = 0;
              *(_BYTE *)(4112 * v32 + dword_10152AE0 + 12) = 0;
              break;
          }
          goto LABEL_78;
        }
        v31 = (int *)&v33;
        v35 = 8;
        v30 = v36;
      }
      else
      {
        v31 = (int *)&v33;
        v35 = 5;
        v30 = v36;
      }
LABEL_77:
      v34 = 0;
      v33 = 0;
      sub_10004480(v30, (int)v31);
    }
LABEL_78:
    if ( sub_100043A0((int)&v42, (int)&v36) == 1 )
      goto LABEL_3;
  }
}
// 100A19E0: using guessed type int dword_100A19E0;
// 100A19E4: using guessed type int dword_100A19E4;
// 100A19E8: using guessed type int dword_100A19E8;
// 100A19EC: using guessed type int dword_100A19EC;
// 100A19F0: using guessed type int dword_100A19F0;
// 100A19F4: using guessed type int dword_100A19F4;
// 100A19F8: using guessed type int dword_100A19F8;
// 100A19FC: using guessed type int dword_100A19FC;
// 100A1A00: using guessed type int dword_100A1A00;
// 100A1A04: using guessed type int dword_100A1A04;
// 10148C60: using guessed type int dword_10148C60[];
// 10148F18: using guessed type int dword_10148F18[];
// 10148F1C: using guessed type __int16 word_10148F1C[];
// 10148F20: using guessed type int dword_10148F20[];
// 10148F24: using guessed type int dword_10148F24[];
// 10148F28: using guessed type __int16 word_10148F28[];
// 10148F2C: using guessed type int dword_10148F2C[];
// 10148F30: using guessed type int dword_10148F30[];
// 10148F34: using guessed type int dword_10148F34[];
// 10148F38: using guessed type int dword_10148F38[];
// 10148F3C: using guessed type int dword_10148F3C[];
// 10148F40: using guessed type int dword_10148F40[];
// 10148F44: using guessed type int dword_10148F44[];
// 10148F48: using guessed type int dword_10148F48[];
// 10148F4C: using guessed type int dword_10148F4C[];
// 101490D2: using guessed type __int16 word_101490D2[];
// 101490FC: using guessed type __int16 word_101490FC[];
// 10152AE0: using guessed type int dword_10152AE0;

//----- (10003F00) --------------------------------------------------------
int sub_10003F00()
{
  sub_10004B30();
  sub_10005840();
  sub_10001090();
  sub_10001030();
  nullsub_1();
  sub_10005800();
  sub_10002A80();
  return sub_10002B70();
}
// 10004B30: using guessed type int sub_10004B30(void);

//----- (10003F30) --------------------------------------------------------
__int16 __cdecl sub_10003F30(int a1, int a2, int a3, int a4)
{
  __int16 v4; // si@1

  SYS_enter_krnl();
  v4 = HWM_pvg_read_rgn(a1, a2, a3, a4);
  SYS_exit_krnl();
  return v4;
}
// 10025008: using guessed type int SYS_exit_krnl(void);
// 1002500E: using guessed type int __cdecl HWM_pvg_read_rgn(_DWORD, _DWORD, _DWORD, _DWORD);
// 10025014: using guessed type int SYS_enter_krnl(void);

//----- (10003F70) --------------------------------------------------------
__int16 __cdecl sub_10003F70(int a1, _DWORD *a2, _BYTE *a3)
{
  __int16 result; // ax@1
  char v4; // [sp+8h] [bp-ECh]@1
  unsigned __int8 v5; // [sp+Ah] [bp-EAh]@1
  int v6; // [sp+10h] [bp-E4h]@1

  j_HWM_pvg_rgn_get_info(a1, &v4);
  result = v5;
  *a2 = v6;
  *a3 = 2;
  return result;
}
// 10003F60: using guessed type int __cdecl j_HWM_pvg_rgn_get_info(_DWORD, _DWORD);

//----- (10003FD0) --------------------------------------------------------
int __cdecl sub_10003FD0(int a1, int a2, int a3)
{
  return reg_read(a1, a2, a3, 0);
}
// 10025020: using guessed type int __cdecl reg_read(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10003FF0) --------------------------------------------------------
char __cdecl sub_10003FF0(int a1, int a2, int a3)
{
  int v3; // eax@1

  v3 = sub_10003FD0(a1, a2, a3);
  if ( v3 )
    LOBYTE(v3) = sub_10004310("..\\lib\\acl\\kernel\\reg_usr_intf.c", 1255, 1, 0);
  return v3;
}

//----- (10004030) --------------------------------------------------------
int __cdecl sub_10004030(int a1, int a2, int a3)
{
  int result; // eax@1

  result = sub_10003FD0(a1 | 0x20000, a2, a3);
  if ( result == -46 )
    result = 0;
  return result;
}

//----- (10004060) --------------------------------------------------------
int __cdecl sub_10004060(int a1, int a2, int a3)
{
  return reg_write(a1, a2, a3, 0);
}
// 10025026: using guessed type int __cdecl reg_write(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10004080) --------------------------------------------------------
int __cdecl sub_10004080(int a1, void *a2, int a3, void *a4)
{
  int result; // eax@1
  int v5; // edi@1

  result = sub_10003FD0(a1, (int)a2, a3);
  v5 = result;
  if ( result )
  {
    memcpy_0(a2, a4, (unsigned __int16)a3);
    sub_10004060(a1, (int)a4, a3);
    result = v5;
  }
  return result;
}

//----- (100040D0) --------------------------------------------------------
char *__cdecl sub_100040D0(int a1, char *a2, int a3, char *a4, int a5)
{
  char *v5; // edi@1
  char *result; // eax@4
  char v7[4]; // [sp+Ch] [bp-2Ch]@1
  int v8; // [sp+10h] [bp-28h]@1
  int v9; // [sp+14h] [bp-24h]@1
  int v10; // [sp+18h] [bp-20h]@1
  int v11; // [sp+1Ch] [bp-1Ch]@1
  int v12; // [sp+20h] [bp-18h]@1
  int v13; // [sp+24h] [bp-14h]@1
  int v14; // [sp+28h] [bp-10h]@1
  int v15; // [sp+2Ch] [bp-Ch]@1
  int v16; // [sp+30h] [bp-8h]@1

  v5 = a2;
  *(_DWORD *)v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  v15 = 0;
  v16 = 0;
  *(_DWORD *)(a5 + 16) = sub_10004380();
  *(_DWORD *)(a5 + 596) = sub_100043D0();
  sub_100043F0((int)v7, 1, *(_DWORD *)(a5 + 16), 40);
  *(_WORD *)(a5 + 594) = 0x7FFF;
  sub_100056A0(a5 + 585, "14.01", 8);
  *(_DWORD *)a5 = a1;
  sub_100059E0((char *)(a5 + 4));
  *(_DWORD *)(a5 + 460) = a3;
  if ( strrchr(a2, 92) )
    v5 = strrchr(a2, 92) + 1;
  strncpy((char *)(a5 + 464), v5, 0x14u);
  *(_BYTE *)(a5 + 484) = 0;
  if ( a4 )
  {
    result = strncpy((char *)(a5 + 485), a4, 0x63u);
    *(_BYTE *)(a5 + 584) = 0;
  }
  else
  {
    result = strncpy((char *)(a5 + 485), v7, 0x64u);
  }
  return result;
}

//----- (10004200) --------------------------------------------------------
char sub_10004200()
{
  char result; // al@1

  result = 0;
  byte_100A8260 = 0;
  byte_100A8261 = 0;
  return result;
}
// 100A8260: using guessed type char byte_100A8260;
// 100A8261: using guessed type char byte_100A8261;

//----- (10004210) --------------------------------------------------------
char __cdecl sub_10004210(char *a1, int a2, char a3, char *a4, int a5)
{
  char result; // al@7
  char v6; // [sp+Bh] [bp-2Dh]@4
  int v7; // [sp+Ch] [bp-2Ch]@1
  int v8; // [sp+10h] [bp-28h]@1
  int v9; // [sp+14h] [bp-24h]@1
  int v10; // [sp+18h] [bp-20h]@1
  int v11; // [sp+1Ch] [bp-1Ch]@1
  int v12; // [sp+20h] [bp-18h]@1
  int v13; // [sp+24h] [bp-14h]@1
  int v14; // [sp+28h] [bp-10h]@1
  int v15; // [sp+2Ch] [bp-Ch]@1
  int v16; // [sp+30h] [bp-8h]@1

  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  v15 = 0;
  v16 = 0;
  if ( a3 & 3 )
    sub_100040D0(-5, a1, a2, a4, a5);
  else
    sub_100040D0(-44, a1, a2, a4, a5);
  v6 = a3 & 8;
  if ( a3 & 8 )
    sub_10005790((const char *)(a5 + 485), " DBGA", 100);
  sub_100043F0((int)&v7, 0, 0, 40);
  if ( a3 & 3 )
  {
    result = a3 & 8;
    if ( v6 )
    {
      if ( byte_100A8260 )
        return result;
      if ( v6 )
        goto LABEL_15;
    }
    if ( !byte_100A8261 )
LABEL_15:
      result = sub_10004430(36, 1, *(_DWORD *)a5, a5);
  }
  else
  {
    result = j_HWM_pvg_log_err(a5);
  }
  return result;
}
// 10004B50: using guessed type int __cdecl j_HWM_pvg_log_err(_DWORD);
// 100A8260: using guessed type char byte_100A8260;
// 100A8261: using guessed type char byte_100A8261;

//----- (10004310) --------------------------------------------------------
char __cdecl sub_10004310(char *a1, int a2, char a3, char *a4)
{
  int v5; // [sp+8h] [bp-284h]@1

  memset(&v5, 0, 0x280u);
  return sub_10004210(a1, a2, a3, a4, (int)&v5);
}

//----- (10004380) --------------------------------------------------------
int sub_10004380()
{
  int v0; // esi@1

  SYS_enter_krnl();
  v0 = TSK_pvg_get_id();
  SYS_exit_krnl();
  return v0;
}
// 10025008: using guessed type int SYS_exit_krnl(void);
// 10025014: using guessed type int SYS_enter_krnl(void);
// 1002502C: using guessed type int TSK_pvg_get_id(void);

//----- (100043A0) --------------------------------------------------------
int __cdecl sub_100043A0(int a1, int a2)
{
  int v2; // esi@1

  SYS_enter_krnl();
  v2 = TSK_pvg_get_msg(a1, a2);
  SYS_exit_krnl();
  return v2;
}
// 10025008: using guessed type int SYS_exit_krnl(void);
// 10025014: using guessed type int SYS_enter_krnl(void);
// 10025032: using guessed type int __cdecl TSK_pvg_get_msg(_DWORD, _DWORD);

//----- (100043D0) --------------------------------------------------------
int sub_100043D0()
{
  int v0; // esi@1

  SYS_enter_krnl();
  v0 = TSK_pvg_get_timer();
  SYS_exit_krnl();
  return v0;
}
// 10025008: using guessed type int SYS_exit_krnl(void);
// 10025014: using guessed type int SYS_enter_krnl(void);
// 10025038: using guessed type int TSK_pvg_get_timer(void);

//----- (100043F0) --------------------------------------------------------
int __cdecl sub_100043F0(int a1, int a2, int a3, int a4)
{
  int v4; // esi@1

  SYS_enter_krnl();
  v4 = TSK_pvg_get_tsk_info(a1, a2, a3, a4);
  SYS_exit_krnl();
  return v4;
}
// 10025008: using guessed type int SYS_exit_krnl(void);
// 10025014: using guessed type int SYS_enter_krnl(void);
// 1002503E: using guessed type int __cdecl TSK_pvg_get_tsk_info(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10004430) --------------------------------------------------------
int __cdecl sub_10004430(int a1, int a2, int a3, int a4)
{
  int v4; // esi@1

  SYS_enter_krnl();
  v4 = TSK_pvg_kill_process(a1, a2, a3, a4);
  SYS_exit_krnl();
  return v4;
}
// 10025008: using guessed type int SYS_exit_krnl(void);
// 10025014: using guessed type int SYS_enter_krnl(void);
// 1002504A: using guessed type int __cdecl TSK_pvg_kill_process(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10004460) --------------------------------------------------------
int __cdecl sub_10004460(int a1)
{
  int v1; // esi@1

  SYS_enter_krnl();
  v1 = TSK_pvg_release_smphr(a1);
  SYS_exit_krnl();
  return v1;
}
// 10025008: using guessed type int SYS_exit_krnl(void);
// 10025014: using guessed type int SYS_enter_krnl(void);
// 10025050: using guessed type int __cdecl TSK_pvg_release_smphr(_DWORD);

//----- (10004480) --------------------------------------------------------
signed int __cdecl sub_10004480(int a1, int a2)
{
  int v2; // esi@4
  signed int result; // eax@4

  if ( a2 && (!*(_DWORD *)(a2 + 4) || *(_DWORD *)a2) )
  {
    SYS_enter_krnl();
    v2 = TSK_pvg_reply_msg(a1, a2);
    SYS_exit_krnl();
    result = v2;
  }
  else
  {
    result = 20;
  }
  return result;
}
// 10025008: using guessed type int SYS_exit_krnl(void);
// 10025014: using guessed type int SYS_enter_krnl(void);
// 10025056: using guessed type int __cdecl TSK_pvg_reply_msg(_DWORD, _DWORD);

//----- (100044C0) --------------------------------------------------------
int __cdecl sub_100044C0(int a1, int a2)
{
  int v2; // esi@1

  SYS_enter_krnl();
  v2 = TSK_pvg_reserve_smphr(a1, a2);
  SYS_exit_krnl();
  return v2;
}
// 10025008: using guessed type int SYS_exit_krnl(void);
// 10025014: using guessed type int SYS_enter_krnl(void);
// 1002505C: using guessed type int __cdecl TSK_pvg_reserve_smphr(_DWORD, _DWORD);

//----- (100044F0) --------------------------------------------------------
int __cdecl sub_100044F0(int a1, int a2)
{
  int v2; // esi@1

  SYS_enter_krnl();
  v2 = TSK_pvg_send_msg_ex(a1, a2);
  SYS_exit_krnl();
  return v2;
}
// 10025008: using guessed type int SYS_exit_krnl(void);
// 10025014: using guessed type int SYS_enter_krnl(void);
// 10025062: using guessed type int __cdecl TSK_pvg_send_msg_ex(_DWORD, _DWORD);

//----- (10004520) --------------------------------------------------------
int __cdecl sub_10004520(int a1)
{
  int v1; // esi@1

  SYS_enter_krnl();
  v1 = TSK_pvg_suspend(a1);
  SYS_exit_krnl();
  return v1;
}
// 10025008: using guessed type int SYS_exit_krnl(void);
// 10025014: using guessed type int SYS_enter_krnl(void);
// 10025068: using guessed type int __cdecl TSK_pvg_suspend(_DWORD);

//----- (10004540) --------------------------------------------------------
int __cdecl sub_10004540(_BYTE *a1)
{
  int v1; // edi@1
  int v2; // eax@2
  char v4; // [sp+8h] [bp-4h]@2

  SYS_enter_krnl();
  v1 = TSK_pvg_wait_evnt(a1);
  SYS_exit_krnl();
  if ( *a1 & 0x20 )
  {
    v2 = sub_10004380();
    sub_100043F0((int)&v4, 5, v2, 4);
  }
  return v1;
}
// 10025008: using guessed type int SYS_exit_krnl(void);
// 10025014: using guessed type int SYS_enter_krnl(void);
// 1002506E: using guessed type int __cdecl TSK_pvg_wait_evnt(_DWORD);

//----- (10004580) --------------------------------------------------------
int __cdecl sub_10004580(int a1, int a2)
{
  int result; // eax@1

  result = a1;
  if ( *((_BYTE *)tsk_app_hdr_ptr + 8) != 1 && !a1 )
    result = sub_10004460(a2);
  return result;
}
// 10038F64: using guessed type void *tsk_app_hdr_ptr;

//----- (100045B0) --------------------------------------------------------
int __cdecl sub_100045B0(int a1, int a2)
{
  int result; // eax@2

  if ( *((_BYTE *)tsk_app_hdr_ptr + 8) == 1 )
    result = 0;
  else
    result = sub_100044C0(a1, a2);
  return result;
}
// 10038F64: using guessed type void *tsk_app_hdr_ptr;

//----- (100045D0) --------------------------------------------------------
int __cdecl sub_100045D0(int a1, int a2)
{
  int v2; // esi@3

  if ( *(_DWORD *)(a1 + 8) < 0 )
    sub_10004310("..\\lib\\acl\\kernel\\mem_usr_share.c", 127, 0, 0);
  v2 = j_mem_unmap(a2 - 12, *(_DWORD *)(a1 + 8) + 12);
  if ( v2 )
    sub_10004310("..\\lib\\acl\\kernel\\mem_usr_share.c", 132, 1, 0);
  return v2;
}
// 10004B70: using guessed type int __cdecl j_mem_unmap(_DWORD, _DWORD);

//----- (10004630) --------------------------------------------------------
signed int __cdecl sub_10004630(int a1)
{
  unsigned int v1; // eax@1
  signed int result; // eax@3

  v1 = **(_DWORD **)(a1 + 16);
  if ( v1 < 0xFFFFFFC2 && v1 )
  {
    if ( *(_BYTE *)(v1 - 3) || *(_BYTE *)(a1 + 4) & 8 )
    {
      if ( *(_BYTE *)(a1 + 4) & 1 )
      {
        *(_BYTE *)(v1 - 3) = 0;
        result = 1;
      }
      else
      {
        sub_10004310("..\\lib\\acl\\kernel\\mem_usr_share.c", 474, 1, 0);
        result = 0;
      }
    }
    else
    {
      sub_10004310("..\\lib\\acl\\kernel\\mem_usr_share.c", 465, 1, 0);
      result = 1;
    }
  }
  else
  {
    sub_10004310("..\\lib\\acl\\kernel\\mem_usr_share.c", 455, 1, 0);
    result = 0;
  }
  return result;
}

//----- (100046B0) --------------------------------------------------------
int __usercall sub_100046B0@<eax>(const char **a1@<esi>)
{
  unsigned int v1; // ebp@1
  unsigned int v2; // edi@2
  char v3; // ST28_1@2
  unsigned int v4; // eax@5
  char *v5; // edi@9
  char v6; // al@10
  unsigned int v7; // eax@12
  char v8; // ST28_1@12
  signed int v9; // ebx@15
  int v10; // eax@19
  int result; // eax@47
  unsigned int v12; // [sp+Ch] [bp-98h]@1
  int v13; // [sp+14h] [bp-90h]@29
  char v14; // [sp+1Dh] [bp-87h]@30
  char v15; // [sp+1Fh] [bp-85h]@9
  char v16; // [sp+20h] [bp-84h]@8

  v1 = 0;
  v12 = 0;
  if ( *((_BYTE *)a1 + 4) & 2 )
  {
    v2 = j_FIL_vfs_open(*a1, 4, 0);
    v3 = 4;
  }
  else
  {
    strncpy(&v16, *a1, 0x7Du);
    if ( !(*((_BYTE *)a1 + 4) & 8) )
    {
      v5 = &v15;
      do
        v6 = (v5++)[1];
      while ( v6 );
      *(_DWORD *)v5 = 7368052;
    }
    v12 = j_FIL_vfs_open(*a1, 6, 1809);
    v7 = j_FIL_vfs_open(&v16, 14, 1809);
    v2 = v7;
    v8 = 6;
    if ( v7 >= 0xFFFFFFC2 || !v7 )
    {
      sub_10004310("..\\lib\\acl\\kernel\\mem_usr_share.c", 589, 1, 0);
      goto LABEL_39;
    }
    v9 = sub_10004DD0(v7, 0, 2);
    if ( v9 < 0 )
    {
      sub_10004310("..\\lib\\acl\\kernel\\mem_usr_share.c", 602, 1, 0);
      goto LABEL_39;
    }
    if ( (signed int)a1[2] < 0 )
      sub_10004310("..\\lib\\acl\\kernel\\mem_usr_share.c", 610, 0, 0);
    v10 = (int)(a1[2] + 12);
    if ( v9 < v10 && sub_10004DF0(v2, v10, (unsigned __int64)v10 >> 32) < 0 )
    {
      sub_10004310("..\\lib\\acl\\kernel\\mem_usr_share.c", 625, 1, 0);
      goto LABEL_39;
    }
  }
  if ( v2 >= 0xFFFFFFC2 )
    goto LABEL_42;
  if ( v2 )
  {
    v4 = ((int (__cdecl *)(unsigned int, _DWORD, const char *, _DWORD))j_FIL_vfs_mmap)(v2, 0, a1[2] + 12, 0);
    v1 = v4;
    if ( v4 < 0xFFFFFFC2 && v4 )
    {
      if ( !(*((_BYTE *)a1 + 4) & 1) )
      {
        if ( *(_BYTE *)(v4 + 9) || *(_BYTE *)(v4 + 8) != 56 )
        {
          sub_100045D0((int)a1, v4 + 12);
          v1 = 0;
        }
        goto LABEL_39;
      }
      *(_DWORD *)(v4 + 4) = sub_100043D0();
      if ( *((_BYTE *)a1 + 4) & 4 )
        memset((void *)(v1 + 12), (int)a1[3], (size_t)a1[2]);
      if ( v12 < 0xFFFFFFC2 && v12 )
      {
        if ( *((_BYTE *)a1 + 4) & 8 )
        {
          ++*(_DWORD *)v1;
        }
        else if ( sub_10004C40(v12, &v13, 12) == 12 )
        {
          *(_DWORD *)v1 = ++v13;
          v14 = 1;
          *(_BYTE *)(v1 + 9) = 1;
          if ( sub_10004DB0(v12, (int)&v13, 12, 0) != 12 )
          {
            sub_10004310("..\\lib\\acl\\kernel\\mem_usr_share.c", 725, 1, 0);
            goto LABEL_39;
          }
        }
      }
      else
      {
        *(_BYTE *)(v1 + 9) = 1;
        *(_DWORD *)v1 = 1;
      }
      *(_BYTE *)(v1 + 8) = 56;
      if ( !(*((_BYTE *)a1 + 4) & 8) && j_FIL_vfs_rename(&v16, *a1) )
        sub_10004310("..\\lib\\acl\\kernel\\mem_usr_share.c", 759, 1, 0);
      goto LABEL_39;
    }
    sub_10004310("..\\lib\\acl\\kernel\\mem_usr_share.c", 664, 0, 0);
  }
LABEL_39:
  if ( v2 < 0xFFFFFFC2 && v2 )
    sub_10004B80(v2);
LABEL_42:
  if ( v12 < 0xFFFFFFC2 && v12 )
    sub_10004B80(v12);
  if ( v1 < 0xFFFFFFC2 && v1 )
    result = v1 + 12;
  else
    result = v1;
  return result;
}
// 10004C20: using guessed type int __cdecl j_FIL_vfs_mmap(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10004C30: using guessed type int __cdecl j_FIL_vfs_open(_DWORD, _DWORD, _DWORD);
// 10004D00: using guessed type int __cdecl j_FIL_vfs_rename(_DWORD, _DWORD);

//----- (100049B0) --------------------------------------------------------
int __usercall sub_100049B0@<eax>(int a1@<eax>, int a2@<ecx>)
{
  return j_mem_unmap(a2 - 12, a1 + 12);
}
// 10004B70: using guessed type int __cdecl j_mem_unmap(_DWORD, _DWORD);

//----- (100049D0) --------------------------------------------------------
signed int __cdecl sub_100049D0(int a1)
{
  unsigned int v1; // eax@1
  char v2; // bl@1
  int *v3; // edi@6
  int v4; // eax@6
  int v5; // ecx@6
  int v6; // ebp@6
  unsigned int v8; // eax@15

  v1 = **(_DWORD **)(a1 + 16);
  v2 = 0;
  if ( v1 != -858993460 && (v1 < 0xFFFFFFC2 && v1 || v1 == -15) )
  {
    if ( v1 < 0xFFFFFFC2 && v1 && !*(_BYTE *)(v1 - 3) )
      return 1;
  }
  else
  {
    sub_10004310("..\\lib\\acl\\kernel\\mem_usr_share.c", 211, 0, *(char **)a1);
    **(_DWORD **)(a1 + 16) = -15;
  }
  v3 = *(int **)(a1 + 16);
  v4 = sub_100045B0(81, 5000);
  v5 = *v3;
  v6 = v4;
  if ( (unsigned int)*v3 < 0xFFFFFFC2 && v5 )
  {
    if ( !*(_BYTE *)(v5 - 3) )
    {
      sub_10004580(v4, 81);
      return 1;
    }
    *v3 = -15;
    sub_100049B0(*(_DWORD *)(a1 + 8), v5);
  }
  v8 = sub_100046B0((const char **)a1);
  if ( v8 < 0xFFFFFFC2 && v8 )
  {
    *v3 = v8;
    if ( !*(_BYTE *)(v8 - 3) )
      v2 = 1;
  }
  sub_10004580(v6, 81);
  return (unsigned __int8)v2;
}

//----- (10004AA0) --------------------------------------------------------
int __cdecl sub_10004AA0(LONG Value)
{
  char v1; // al@1
  int result; // eax@3
  int v3; // edi@3
  unsigned __int32 v4; // eax@5
  int v5; // ebx@5

  v1 = *(_BYTE *)(Value + 4);
  if ( v1 & 2 || !(v1 & 1) )
  {
    sub_10004310("..\\lib\\acl\\kernel\\mem_usr_share.c", 360, 1, 0);
    result = 0;
  }
  else
  {
    result = sub_100046B0((const char **)Value);
    v3 = result;
    if ( (unsigned int)result < 0xFFFFFFC2 && result )
    {
      v4 = InterlockedExchange(*(volatile LONG **)(Value + 16), result);
      v5 = v4;
      if ( v4 < 0xFFFFFFC2 && v4 )
      {
        if ( *(_DWORD *)(Value + 8) < 0 )
          sub_10004310("..\\lib\\acl\\kernel\\mem_usr_share.c", 388, 0, 0);
        sub_100049B0(*(_DWORD *)(Value + 8), v5);
      }
      result = v3;
    }
  }
  return result;
}

//----- (10004B80) --------------------------------------------------------
signed int __cdecl sub_10004B80(unsigned int a1)
{
  signed int result; // eax@7
  int v2; // eax@8
  int v3; // edx@9
  unsigned int v4; // [sp+4h] [bp+4h]@4

  if ( a1 >= 0xFFFFFFC2 || !a1 )
    return FIL_vfs_close();
  if ( (a1 & 3) == 1 )
  {
    v4 = sub_10009E10(a1);
    if ( v4 && *(_DWORD *)(v4 + 732) )
    {
      --*(_DWORD *)(*(_DWORD *)(v4 + 732) + 124);
      if ( *(_BYTE *)(v4 + 8) )
        exit_0(v4);
      sub_100130E0(v4 + 116);
      result = 0;
      *(_DWORD *)v4 = -858993460;
    }
    else
    {
      result = -6;
    }
    return result;
  }
  if ( !a1 || (a1 & 3) != 2 )
    return FIL_vfs_close();
  v2 = 0;
  if ( !dword_100B52D0 )
    goto LABEL_11;
  while ( 1 )
  {
    v3 = dword_100B52D8[v2];
    if ( *(_DWORD *)v3 == a1 )
      break;
    if ( ++v2 >= (unsigned int)dword_100B52D0 )
      goto LABEL_11;
  }
  if ( v2 != -1 )
  {
    sub_10004E10(
      v2,
      *(_DWORD *)(dword_100B52D8[v2] + 12),
      *(_DWORD *)(v3 + 16),
      *(_BYTE *)(v3 + 32),
      *(_WORD *)(v3 + 20),
      *(_DWORD *)(v3 + 4));
    result = sub_10004B80(a1 & 0xFFFFFFFC);
  }
  else
  {
LABEL_11:
    result = -6;
  }
  return result;
}
// 1002508C: using guessed type int FIL_vfs_close(void);
// 100B52D0: using guessed type int dword_100B52D0;
// 100B52D8: using guessed type int dword_100B52D8[];

//----- (10004BD0) --------------------------------------------------------
int __cdecl sub_10004BD0(int a1, int a2, int a3, int a4, int a5)
{
  int v6; // [sp+0h] [bp-1Ch]@1
  __int64 v7; // [sp+4h] [bp-18h]@1
  __int64 v8; // [sp+10h] [bp-Ch]@1

  v7 = a2;
  v8 = a4;
  return FIL_vfs_memmove_swi(&v6, a1, v7, HIDWORD(v7), a3, v8, HIDWORD(v8), a5);
}
// 10025098: using guessed type int __cdecl FIL_vfs_memmove_swi(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (10004C40) --------------------------------------------------------
signed int __cdecl sub_10004C40(unsigned int a1, void *a2, int a3)
{
  int v3; // eax@7
  unsigned int v4; // eax@4
  signed int result; // eax@4

  if ( a1 >= 0xFFFFFFC2 || !a1 )
    goto LABEL_11;
  if ( (a1 & 3) == 1 )
  {
    v4 = sub_10009E10(a1);
    return sub_1000ACD0(v4, (int)a2, a3);
  }
  if ( a1 && (a1 & 3) == 2 )
  {
    v3 = sub_10004DD0(a1 & 0xFFFFFFFC, 0, 1);
    result = sub_100051B0(a1, a2, a3, v3, (unsigned __int64)v3 >> 32);
  }
  else
  {
LABEL_11:
    result = FIL_vfs_read();
  }
  return result;
}
// 100250AA: using guessed type int FIL_vfs_read(void);

//----- (10004C80) --------------------------------------------------------
signed int __cdecl sub_10004C80(unsigned int a1, void *a2, int a3, int a4, int a5)
{
  signed int result; // eax@4

  if ( a1 >= 0xFFFFFFC2 || !a1 )
    goto LABEL_11;
  if ( (a1 & 3) == 1 )
    return sub_10005A80(a1, (int)a2, a3, a4);
  if ( a1 && (a1 & 3) == 2 )
    result = sub_100051B0(a1, a2, a3, a4, a5);
  else
LABEL_11:
    result = FIL_vfs_read_ofst(a1, a2, a3, &a4);
  return result;
}
// 100250B0: using guessed type int __cdecl FIL_vfs_read_ofst(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10004D10) --------------------------------------------------------
signed int __cdecl sub_10004D10(unsigned int a1, int a2, int a3, int a4)
{
  signed int result; // eax@4

  if ( a1 < 0xFFFFFFC2 && a1 && (a1 & 3) == 1 )
    result = sub_10005AE0(a1, a2, a4);
  else
    result = FIL_vfs_seek(a1 & 0xFFFFFFFC, a2, a3, a4);
  return result;
}
// 100250BC: using guessed type int __cdecl FIL_vfs_seek(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10004D60) --------------------------------------------------------
__int64 __cdecl sub_10004D60(int a1)
{
  return FIL_vfs_size(a1 & 0xFFFFFFFC);
}
// 100250C2: using guessed type int __cdecl FIL_vfs_size(_DWORD);

//----- (10004D80) --------------------------------------------------------
int __cdecl sub_10004D80(int a1, int a2, int a3)
{
  return FIL_vfs_truncate(a1, a2, a3);
}
// 100250C8: using guessed type int __cdecl FIL_vfs_truncate(_DWORD, _DWORD, _DWORD);

//----- (10004DB0) --------------------------------------------------------
int __cdecl sub_10004DB0(int a1, int a2, int a3, char a4)
{
  return FIL_vfs_write_ofst(a1, a2, a3, &a4);
}
// 100250D4: using guessed type int __cdecl FIL_vfs_write_ofst(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10004DD0) --------------------------------------------------------
signed int __cdecl sub_10004DD0(unsigned int a1, int a2, int a3)
{
  return sub_10004D10(a1, a2, (unsigned __int64)a2 >> 32, a3);
}

//----- (10004DF0) --------------------------------------------------------
int __cdecl sub_10004DF0(int a1, int a2, int a3)
{
  return sub_10004D80(a1, a2, a3);
}

//----- (10004E10) --------------------------------------------------------
unsigned int __cdecl sub_10004E10(int a1, int a2, unsigned int a3, char a4, unsigned __int16 a5, int a6)
{
  size_t v6; // ebp@1
  int *v7; // esi@1
  size_t v8; // ebx@1
  int v9; // edx@1
  unsigned int v10; // edi@1
  int v11; // ebx@2
  int v12; // edx@3
  int *v13; // ebp@3
  int v14; // eax@3
  int v15; // eax@3
  unsigned int result; // eax@4
  void **v17; // [sp+10h] [bp-Ch]@1
  void **v18; // [sp+20h] [bp+4h]@1

  v6 = 8 * a5;
  v7 = &dword_100B52D8[a1];
  v8 = 32 * (a3 / (1 << a4));
  v9 = a2 - v8 - v6;
  *v7 = v9 + a3 - 52;
  v17 = (void **)&dword_100B5290[a1];
  dword_100B5290[a1] = a3 + v9;
  dword_100B5250[a1] = a3 + a2 - v8;
  v18 = (void **)&dword_100B5250[a1];
  memset((void *)(v9 + a3 - 52), 0, 0x34u);
  memset(*v17, 0, v6);
  memset(*v18, 0, v8);
  *(_DWORD *)(*v7 + 24) = 1 << a4;
  *(_DWORD *)(*v7 + 28) = ~(*(_DWORD *)(*v7 + 24) - 1);
  *(_BYTE *)(*v7 + 32) = a4;
  *(_DWORD *)(*v7 + 12) = a2;
  *(_DWORD *)(*v7 + 16) = a3;
  *(_DWORD *)(*v7 + 8) = a3 / (1 << a4) - (v8 + v6 + 52) / (1 << a4) - 1;
  *(_DWORD *)(*v7 + 4) = a6;
  *(_WORD *)(*v7 + 20) = a5;
  *(_DWORD *)*v7 = -1;
  *(_DWORD *)(*v7 + 36) = *v7 + 36;
  *(_DWORD *)(*v7 + 40) = *v7 + 36;
  *(_DWORD *)(*v7 + 44) = *v7 + 44;
  *(_DWORD *)(*v7 + 48) = *v7 + 44;
  v10 = 0;
  if ( *(_DWORD *)(*v7 + 8) )
  {
    v11 = 0;
    do
    {
      v12 = *v7;
      v13 = *(int **)(*v7 + 40);
      v14 = (int)*v18 + v11;
      *(_DWORD *)(v12 + 40) = v14;
      *(_DWORD *)v14 = v12 + 36;
      *(_DWORD *)(v14 + 4) = v13;
      *v13 = v14;
      v15 = a2 + v10++ * *(_DWORD *)(*v7 + 24);
      *(_DWORD *)((char *)*v18 + v11 + 28) = v15;
      v11 += 32;
    }
    while ( v10 < *(_DWORD *)(*v7 + 8) );
  }
  result = 0;
  if ( *(_WORD *)(*v7 + 20) )
  {
    do
    {
      *((_DWORD *)*v17 + 2 * result) = (char *)*v17 + 8 * result;
      *((_DWORD *)*v17 + 2 * result + 1) = (char *)*v17 + 8 * result;
      ++result;
    }
    while ( result < *(_WORD *)(*v7 + 20) );
  }
  return result;
}
// 100B5290: using guessed type int dword_100B5290[];
// 100B52D8: using guessed type int dword_100B52D8[];

//----- (10004FC0) --------------------------------------------------------
int __usercall sub_10004FC0@<eax>(int a1@<esi>)
{
  int v1; // eax@1
  int *v2; // ecx@1
  int result; // eax@2
  int v4; // eax@3
  int v5; // ecx@3
  _DWORD *v6; // edx@3
  int v7; // ecx@3
  _DWORD *v8; // edx@3
  int v9; // ecx@3
  int v10; // edx@3

  v1 = dword_100B52D8[a1];
  v2 = (int *)(v1 + 36);
  if ( (int *)*v2 == v2 )
  {
    v4 = *(_DWORD *)(v1 + 44);
    v5 = *(_DWORD *)(v4 - 8);
    v6 = *(_DWORD **)(v4 - 4);
    result = v4 - 8;
    *(_DWORD *)(v5 + 4) = v6;
    *v6 = v5;
    v7 = *(_DWORD *)(result + 8);
    v8 = *(_DWORD **)(result + 12);
    *(_DWORD *)(v7 + 4) = v8;
    *v8 = v7;
    v9 = dword_100B52D8[a1];
    v10 = *(_DWORD *)(v9 + 36);
    v9 += 36;
    *(_DWORD *)(v10 + 4) = result;
    *(_DWORD *)result = v10;
    *(_DWORD *)(result + 4) = v9;
    *(_DWORD *)v9 = result;
  }
  else
  {
    result = *v2;
  }
  return result;
}
// 100B52D8: using guessed type int dword_100B52D8[];

//----- (10005070) --------------------------------------------------------
int __cdecl sub_10005070(int a1, unsigned __int64 a2)
{
  int v2; // edi@1
  int *v3; // ebx@1
  signed int v4; // eax@1
  _DWORD *v5; // ecx@2
  int v6; // eax@2
  int *v7; // eax@2
  int v8; // ecx@2
  _DWORD *v9; // edx@2
  int v10; // eax@2
  int v11; // ecx@2
  int result; // eax@2

  v2 = sub_10004FC0(a1);
  v3 = &dword_100B52D8[a1];
  v4 = sub_10004C80(
         *(_DWORD *)dword_100B52D8[a1] & 0xFFFFFFFC,
         *(void **)(v2 + 28),
         *(_DWORD *)(dword_100B52D8[a1] + 24),
         a2,
         SHIDWORD(a2));
  if ( v4 <= 0 )
  {
    result = 0;
  }
  else
  {
    v5 = *(_DWORD **)(v2 + 4);
    *(_WORD *)(v2 + 24) = v4;
    v6 = *(_DWORD *)v2;
    *(_QWORD *)(v2 + 16) = a2;
    *(_DWORD *)(v6 + 4) = v5;
    *v5 = v6;
    v7 = (int *)(dword_100B5290[a1] + 8 * ((unsigned int)(a2 >> *(_BYTE *)(*v3 + 32)) % *(_WORD *)(*v3 + 20)));
    v8 = *v7;
    *(_DWORD *)(v8 + 4) = v2;
    *(_DWORD *)(v2 + 4) = v7;
    *(_DWORD *)v2 = v8;
    *v7 = v2;
    v9 = *(_DWORD **)(*v3 + 48);
    v10 = *v3 + 44;
    v11 = v2 + 8;
    *(_DWORD *)(v10 + 4) = v2 + 8;
    *(_DWORD *)v11 = v10;
    result = v2;
    *(_DWORD *)(v11 + 4) = v9;
    *v9 = v2 + 8;
  }
  return result;
}
// 100B5290: using guessed type int dword_100B5290[];
// 100B52D8: using guessed type int dword_100B52D8[];

//----- (10005120) --------------------------------------------------------
int __usercall sub_10005120@<eax>(int a1@<ebx>, unsigned __int64 a2)
{
  int *v2; // edi@1
  int *v3; // ecx@1
  int result; // eax@1
  int v5; // edx@5
  _DWORD *v6; // esi@5
  int v7; // ecx@5
  _DWORD *v8; // esi@5
  int v9; // edx@5

  v2 = &dword_100B52D8[a1];
  v3 = (int *)(dword_100B5290[a1]
             + 8 * ((unsigned int)(a2 >> *(_BYTE *)(dword_100B52D8[a1] + 32)) % *(_WORD *)(dword_100B52D8[a1] + 20)));
  result = *v3;
  if ( (int *)*v3 == v3 )
  {
LABEL_4:
    result = sub_10005070(a1, a2);
  }
  else
  {
    while ( *(_QWORD *)(result + 16) != a2 )
    {
      result = *(_DWORD *)result;
      if ( (int *)result == v3 )
        goto LABEL_4;
    }
    v5 = *(_DWORD *)(result + 8);
    v6 = *(_DWORD **)(result + 12);
    v7 = result + 8;
    *(_DWORD *)(v5 + 4) = v6;
    *v6 = v5;
    v8 = *(_DWORD **)(*v2 + 48);
    v9 = *v2 + 44;
    *(_DWORD *)(v9 + 4) = result + 8;
    *(_DWORD *)(v7 + 4) = v8;
    *(_DWORD *)v7 = v9;
    *v8 = result + 8;
  }
  return result;
}
// 100B5290: using guessed type int dword_100B5290[];
// 100B52D8: using guessed type int dword_100B52D8[];

//----- (100051B0) --------------------------------------------------------
unsigned int __cdecl sub_100051B0(int a1, void *a2, int a3, int a4, int a5)
{
  unsigned int v5; // ebp@1
  int v6; // ebx@1
  int v7; // edi@1
  int v8; // edx@2
  unsigned int result; // eax@4
  int v10; // eax@7
  int v11; // esi@10
  int v12; // eax@10
  int v13; // ecx@11
  unsigned int v14; // eax@11
  const void *v15; // ecx@11
  size_t v16; // esi@12
  int v17; // ecx@13
  int v18; // et0@17

  v5 = a3;
  v6 = 0;
  v7 = a4;
  if ( !dword_100B52D0 )
    goto LABEL_24;
  while ( 1 )
  {
    v8 = dword_100B52D8[v6];
    if ( *(_DWORD *)v8 == a1 )
      break;
    if ( ++v6 >= (unsigned int)dword_100B52D0 )
      return -1;
  }
  if ( v6 != -1 )
  {
    v10 = *(_DWORD *)(v8 + 4);
    if ( v10 != 138 )
      sub_100044C0(v10, -1);
    if ( a3 )
    {
      while ( 1 )
      {
        v11 = v7 & ~*(_DWORD *)(dword_100B52D8[v6] + 28);
        v12 = sub_10005120(v6, (unsigned int)v7 & *(_DWORD *)(dword_100B52D8[v6] + 28));
        if ( !v12 )
          break;
        v13 = *(_DWORD *)(v12 + 28);
        v14 = *(_WORD *)(v12 + 24) - v11;
        v15 = (const void *)(v11 + v13);
        if ( v5 <= v14 )
        {
          v16 = v5;
        }
        else
        {
          v16 = v14;
          if ( !v14 )
            goto LABEL_13;
        }
        memcpy_0(a2, v15, v16);
        v5 -= v16;
        v18 = (v16 + __PAIR__((unsigned int)a5, v7)) >> 32;
        v7 += v16;
        a5 = v18;
        a2 = (char *)a2 + v16;
        if ( !v5 )
          goto LABEL_13;
      }
      if ( *(_DWORD *)(dword_100B52D8[v6] + 4) != 138 )
        sub_10004460(*(_DWORD *)(dword_100B52D8[v6] + 4));
      result = -1;
    }
    else
    {
LABEL_13:
      v17 = dword_100B52D8[v6];
      if ( *(_DWORD *)(v17 + 4) != 138 )
        sub_10004460(*(_DWORD *)(v17 + 4));
      result = a3 - v5;
    }
  }
  else
  {
LABEL_24:
    result = -1;
  }
  return result;
}
// 100B52D0: using guessed type int dword_100B52D0;
// 100B52D8: using guessed type int dword_100B52D8[];

//----- (10005300) --------------------------------------------------------
int __cdecl sub_10005300(unsigned __int16 a1)
{
  int result; // eax@1

  result = 0;
  if ( a1 > 0x1C8Au && a1 < 0x1C8Bu )
    result = (unsigned __int16)(a1 - 7307);
  return result;
}

//----- (10005320) --------------------------------------------------------
char *__cdecl sub_10005320(unsigned __int16 a1)
{
  bool v1; // cf@1
  bool v2; // zf@1
  char *result; // eax@1

  v1 = a1 < 0x1C8Au;
  v2 = a1 == 7306;
  result = (char *)&unk_1003C5B8;
  if ( a1 < 0x1C8Au )
  {
    if ( a1 != -1 )
      return (char *)TXT_get_static_string();
    v1 = 0;
    v2 = 0;
  }
  if ( !v1 && !v2 && a1 < 0x1C8Bu )
    result = &byte_10152FC4[(unsigned __int16)sub_10005300(a1)];
  return result;
}
// 10017974: using guessed type int TXT_get_static_string(void);

//----- (10005360) --------------------------------------------------------
char __thiscall sub_10005360(void *this)
{
  void *v2; // [sp-2h] [bp-4h]@1

  v2 = this;
  BYTE2(v2) = 12;
  sub_10004080(3000, (char *)&v2 + 3, 1, (char *)&v2 + 2);
  return BYTE3(v2);
}

//----- (10005390) --------------------------------------------------------
int sub_10005390()
{
  int v1; // [sp+0h] [bp-8h]@1
  int v2; // [sp+4h] [bp-4h]@1

  v1 = 0;
  sub_10004080(3012, &v2, 4, &v1);
  return v2;
}

//----- (100053C0) --------------------------------------------------------
char __cdecl sub_100053C0(int a1)
{
  char v1; // bl@1

  SYS_enter_krnl();
  v1 = SYS_pvg_is_booting(a1);
  SYS_exit_krnl();
  return v1;
}
// 10025008: using guessed type int SYS_exit_krnl(void);
// 10025014: using guessed type int SYS_enter_krnl(void);
// 100250DA: using guessed type int __cdecl SYS_pvg_is_booting(_DWORD);

//----- (100053E0) --------------------------------------------------------
int __cdecl sub_100053E0(int a1, char *a2)
{
  if ( (unsigned __int8)a1 >= 0x5Fu )
    sub_10004310("..\\lib\\adl\\sys_usr.c", 5389, 1, 0);
  if ( !a2 )
    sub_10004310("..\\lib\\adl\\sys_usr.c", 5390, 1, 0);
  SYS_enter_krnl();
  SYS_pvg_var_ctrl(a1, a2);
  return SYS_exit_krnl();
}
// 10025008: using guessed type int SYS_exit_krnl(void);
// 10025014: using guessed type int SYS_enter_krnl(void);
// 100250E0: using guessed type int __cdecl SYS_pvg_var_ctrl(_DWORD, _DWORD);

//----- (10005440) --------------------------------------------------------
char __thiscall sub_10005440(void *this)
{
  void *v2; // [sp-2h] [bp-4h]@1

  v2 = this;
  sub_100053E0(34, (char *)&v2 + 3);
  return BYTE3(v2);
}

//----- (10005460) --------------------------------------------------------
void __cdecl sub_10005460(_BYTE *a1, unsigned int a2, char a3)
{
  _BYTE *v3; // edi@1
  int v4; // ebp@2
  char *v5; // esi@2
  char v6; // al@3
  unsigned int v7; // esi@4
  unsigned int v8; // ebx@5
  unsigned int i; // ebx@7
  int j; // ebp@9
  int k; // ebp@15
  int v12; // ebp@22
  unsigned int l; // ebp@29
  char v14; // cl@31
  int m; // ebp@37
  int v16; // [sp+8h] [bp+4h]@2

  v3 = a1;
  if ( a1 )
  {
    v4 = 0;
    v5 = a1;
    v16 = 0;
    do
      v6 = *v5++;
    while ( v6 );
    v7 = v5 - (v3 + 1);
    if ( a3 )
    {
      v8 = 0;
      if ( v7 )
      {
        do
        {
          v3[v8] = toupper(v3[v8]);
          ++v8;
        }
        while ( v8 < v7 );
      }
    }
    for ( i = a2; v7 > i; ++v16 )
    {
      switch ( v4 )
      {
        case 4:
          for ( j = v7 - 2; v7 > i; --j )
          {
            if ( j <= 0 )
              break;
            if ( ((unsigned __int8)byte_10057FF8[2 * v3[j]] >> 3) & 1 )
              memcpy(&v3[j], &v3[j + 1], v7-- - j);
          }
          break;
        case 3:
          for ( k = v7 - 2; v7 > i; --k )
          {
            if ( k < 0 )
              break;
            if ( ((unsigned __int8)byte_10057FF8[2 * v3[k]] >> 3) & 1
              && ((unsigned __int8)byte_10057FF8[2 * v3[k + 1]] >> 3) & 1 )
            {
              memcpy(&v3[k + 1], &v3[k + 2], v7-- - k - 1);
            }
          }
          break;
        case 1:
        case 5:
          v12 = v7 - 2;
          if ( v7 > i )
          {
            do
            {
              if ( v12 < 0 )
                break;
              if ( isalpha(v3[v12]) && v3[v12] == v3[v12 + 1] )
                memcpy(&v3[v12], &v3[v12 + 1], v7-- - v12);
              i = a2;
              --v12;
            }
            while ( v7 > a2 );
          }
          break;
        case 2:
          for ( l = 0; v7 > i; ++l )
          {
            if ( l >= v7 )
              break;
            v14 = v3[l];
            if ( v14 == 32 || v14 == 45 )
            {
              memcpy(&v3[l], &v3[l + 1], v7-- - l);
              --l;
            }
          }
          break;
        case 0:
          if ( a3 )
          {
            for ( m = v7 - 1; m >= 0; --m )
            {
              if ( !(byte_10057FF8[2 * v3[m]] & 0x51) )
                memcpy(&v3[m], &v3[m + 1], v7-- - m);
            }
          }
          break;
        default:
          v3[i] = 0;
          v7 = i;
          break;
      }
      v4 = v16 + 1;
    }
  }
}

//----- (100056A0) --------------------------------------------------------
int __cdecl sub_100056A0(int a1, _BYTE *a2, int a3)
{
  int v3; // esi@2
  int v4; // eax@2
  _BYTE *v5; // ecx@3
  int result; // eax@7

  if ( a3 <= 0 )
    goto LABEL_11;
  v3 = a3 - 1;
  v4 = 0;
  if ( a3 - 1 > 0 )
  {
    v5 = a2;
    do
    {
      if ( !*v5 )
        break;
      v5[a1 - (_DWORD)a2] = *v5;
      ++v4;
      ++v5;
    }
    while ( v4 < v3 );
  }
  *(_BYTE *)(v4 + a1) = 0;
  *(_BYTE *)(v3 + a1) = 0;
  if ( a2[v4] )
LABEL_11:
    result = -1;
  else
    result = v4 + 1;
  return result;
}

//----- (100056F0) --------------------------------------------------------
int __cdecl sub_100056F0(void *a1, size_t a2)
{
  _BYTE *v2; // eax@1
  int result; // eax@2

  v2 = memchr(a1, 0, a2);
  if ( v2 )
    result = v2 - (_BYTE *)a1;
  else
    result = -2;
  return result;
}

//----- (10005720) --------------------------------------------------------
int __cdecl sub_10005720(char *DstBuf, size_t MaxCount, char *Format, va_list ArgList)
{
  int result; // eax@2

  if ( (signed int)MaxCount > 0 )
  {
    result = sub_10026A6F(DstBuf, MaxCount, Format, ArgList);
    if ( result < 0 )
      result = -1;
    DstBuf[MaxCount - 1] = 0;
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (10005760) --------------------------------------------------------
int sub_10005760(char *DstBuf, size_t MaxCount, char *Format, ...)
{
  int result; // eax@1
  va_list va; // [sp+10h] [bp+10h]@1

  va_start(va, Format);
  result = sub_10005720(DstBuf, MaxCount, Format, va);
  if ( result < 0 )
    result = -1;
  return result;
}

//----- (10005790) --------------------------------------------------------
int __cdecl sub_10005790(const char *a1, _BYTE *a2, int a3)
{
  unsigned int v3; // kr00_4@1

  v3 = strlen(a1);
  return sub_100056A0((int)&a1[v3], a2, a3 - v3);
}

//----- (100057D0) --------------------------------------------------------
char sub_100057D0()
{
  void *v0; // ecx@1
  void *v1; // ecx@1
  void *v2; // ecx@1
  void *v3; // ecx@1
  char result; // al@1

  j_FIL_vfs_dyn_linker();
  nullsub_1();
  sub_100079B0();
  sub_10005E80(v0);
  sub_10006D00(v1);
  sub_100060C0(v2);
  sub_10006090();
  sub_10003F00();
  dword_100CF35C = sub_10005E60(v3);
  sub_10004030(6465, (int)&dword_100CF340, 28);
  result = sub_1000BE30();
  if ( !result )
  {
    result = dword_100CF35C;
    dword_100CF340 = dword_100CF35C;
    dword_100CF344 = dword_100CF35C;
    dword_100CF348 = dword_100CF35C;
    dword_100CF34C = dword_100CF35C;
    dword_100CF350 = dword_100CF35C;
    dword_100CF354 = dword_100CF35C;
    dword_100CF358 = dword_100CF35C;
  }
  return result;
}
// 10004BC0: using guessed type int j_FIL_vfs_dyn_linker(void);
// 100CF340: using guessed type int dword_100CF340;
// 100CF344: using guessed type int dword_100CF344;
// 100CF348: using guessed type int dword_100CF348;
// 100CF34C: using guessed type int dword_100CF34C;
// 100CF350: using guessed type int dword_100CF350;
// 100CF354: using guessed type int dword_100CF354;
// 100CF358: using guessed type int dword_100CF358;
// 100CF35C: using guessed type int dword_100CF35C;

//----- (10005800) --------------------------------------------------------
int __cdecl sub_10005800()
{
  byte_10152FC4[0] = 0;
  return nullsub_1();
}

//----- (10005810) --------------------------------------------------------
signed int sub_10005810()
{
  return 1000;
}

//----- (10005840) --------------------------------------------------------
int sub_10005840()
{
  return sub_10006000((int)off_1003D7B8);
}
// 1003D7B8: using guessed type int (*off_1003D7B8[4])();

//----- (10005850) --------------------------------------------------------
int __cdecl sub_10005850(_DWORD *a1, unsigned int a2, int a3, int a4, int a5, int a6)
{
  int result; // eax@6
  int v7; // ebx@6
  _DWORD *v8; // esi@7
  unsigned int v9; // ecx@7
  _DWORD *v10; // edx@7
  int v11; // edi@11
  int v12; // ecx@12
  _BYTE *v13; // edx@12
  _BYTE *v14; // esi@12
  int v15; // ecx@14
  _BYTE *v16; // edx@14
  _BYTE *v17; // esi@14
  _BYTE *v18; // edx@16
  _BYTE *v19; // esi@16
  signed int v20; // ecx@18
  _DWORD *v21; // esi@23
  unsigned int v22; // ecx@23
  _DWORD *v23; // edx@23
  int v24; // edi@27
  int v25; // ecx@28
  _BYTE *v26; // edx@28
  _BYTE *v27; // esi@28
  int v28; // ecx@30
  _BYTE *v29; // edx@30
  _BYTE *v30; // esi@30
  _BYTE *v31; // edx@32
  _BYTE *v32; // esi@32
  int v33; // edx@33
  signed int v34; // ecx@34
  int v35; // [sp+4h] [bp-4h]@6

  if ( a1 && (signed int)a2 > 0 && a3 && a4 > 0 && a5 > 0 )
  {
    result = a5 - 1;
    v7 = a3 + a4 * (a5 - 1);
    v35 = a5 - 1;
    if ( a5 - 1 > 0 )
    {
      while ( 1 )
      {
        v8 = a1;
        v9 = a2;
        v10 = (_DWORD *)v7;
        if ( a2 < 4 )
        {
LABEL_10:
          if ( !v9 )
            goto LABEL_20;
        }
        else
        {
          while ( *v8 == *v10 )
          {
            v9 -= 4;
            ++v10;
            ++v8;
            if ( v9 < 4 )
              goto LABEL_10;
          }
        }
        v11 = *(_BYTE *)v8 - *(_BYTE *)v10;
        if ( *(_BYTE *)v8 != *(_BYTE *)v10
          || (v12 = v9 - 1, v13 = (char *)v10 + 1, v14 = (char *)v8 + 1, v12)
          && ((v11 = *v14 - *v13, *v14 != *v13)
           || (v15 = v12 - 1, v16 = v13 + 1, v17 = v14 + 1, v15)
           && ((v11 = *v17 - *v16, *v17 != *v16)
            || (v18 = v16 + 1, v19 = v17 + 1, v15 != 1) && (v11 = *v19 - *v18, *v19 != *v18))) )
        {
          v20 = 1;
          if ( v11 <= 0 )
            v20 = -1;
          goto LABEL_21;
        }
LABEL_20:
        v20 = 0;
LABEL_21:
        result = v35;
        if ( v20 )
        {
          v7 -= a4;
          result = v35 - 1;
          v35 = result;
          if ( result > 0 )
            continue;
        }
        break;
      }
    }
    v21 = a1;
    v22 = a2;
    v23 = (_DWORD *)v7;
    if ( a2 < 4 )
    {
LABEL_26:
      if ( !v22 )
        goto LABEL_36;
    }
    else
    {
      while ( *v21 == *v23 )
      {
        v22 -= 4;
        ++v23;
        ++v21;
        if ( v22 < 4 )
          goto LABEL_26;
      }
    }
    v24 = *(_BYTE *)v21 - *(_BYTE *)v23;
    if ( *(_BYTE *)v21 != *(_BYTE *)v23
      || (v25 = v22 - 1, v26 = (char *)v23 + 1, v27 = (char *)v21 + 1, v25)
      && ((v24 = *v27 - *v26, *v27 != *v26)
       || (v28 = v25 - 1, v29 = v26 + 1, v30 = v27 + 1, v28)
       && ((v24 = *v30 - *v29, *v30 != *v29)
        || (v31 = v29 + 1, v32 = v30 + 1, v28 != 1) && (v33 = *v31, v24 = *v32 - v33, *v32 != v33))) )
    {
      v34 = 1;
      if ( v24 <= 0 )
        v34 = -1;
LABEL_37:
      if ( !v34 )
        return result;
      return a6;
    }
LABEL_36:
    v34 = 0;
    goto LABEL_37;
  }
  return a6;
}

//----- (100059E0) --------------------------------------------------------
char __cdecl sub_100059E0(char *a1)
{
  int v1; // ecx@0
  int v3; // [sp-2h] [bp-4h]@1

  v3 = v1;
  sub_100053E0(13, (char *)&v3 + 3);
  sub_100053E0(12, a1);
  return BYTE3(v3);
}

//----- (10005A10) --------------------------------------------------------
int __cdecl sub_10005A10(unsigned __int8 *a1, int a2)
{
  int result; // eax@1

  result = sub_10008880(a1, 0, 0x7Fu, 0, a2);
  if ( result != 1 && !result )
    result = 0;
  return result;
}

//----- (10005A80) --------------------------------------------------------
signed int __cdecl sub_10005A80(unsigned int a1, int a2, int a3, int a4)
{
  unsigned int v4; // eax@1
  unsigned int v5; // esi@1
  signed int result; // eax@3

  v4 = sub_10009E10(a1);
  v5 = v4;
  if ( v4 < 0xFFFFFFC2 && v4 )
  {
    if ( sub_1000AD30(v4, a4, 0) == a4 )
      result = sub_1000ACD0(v5, a2, a3);
    else
      result = -15;
  }
  else
  {
    result = -6;
  }
  return result;
}

//----- (10005AE0) --------------------------------------------------------
signed int __cdecl sub_10005AE0(unsigned int a1, int a2, int a3)
{
  unsigned int v3; // eax@1

  v3 = sub_10009E10(a1);
  return sub_1000AD30(v3, a2, a3);
}

//----- (10005B00) --------------------------------------------------------
char __cdecl sub_10005B00(char a1)
{
  char result; // al@1

  result = -80;
  switch ( a1 )
  {
    case 3:
      result = -126;
      break;
    case 4:
      result = -123;
      break;
    case 5:
      result = -108;
      break;
    case 6:
      result = -105;
      break;
    default:
      return result;
  }
  return result;
}

//----- (10005B40) --------------------------------------------------------
char __cdecl sub_10005B40(char a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 0:
      result = 74;
      break;
    case 1:
      result = 73;
      break;
    case 2:
      result = 75;
      break;
    case 3:
      result = -127;
      break;
    case 4:
      result = -124;
      break;
    case 5:
      result = -109;
      break;
    case 6:
      result = -106;
      break;
    default:
      sub_10004310("..\\lib\\adl\\iop_cdu_unit_intf.c", 564, 0, 0);
      result = -80;
      break;
  }
  return result;
}

//----- (10005BB0) --------------------------------------------------------
signed int __cdecl sub_10005BB0(char a1)
{
  signed int result; // eax@2

  switch ( a1 )
  {
    case 0:
      result = 4;
      break;
    case 1:
      result = 1;
      break;
    case 2:
      result = 2;
      break;
    case 3:
      result = 64;
      break;
    case 4:
      result = 128;
      break;
    case 5:
      result = 16;
      break;
    case 6:
      result = 32;
      break;
    default:
      sub_10004310("..\\lib\\adl\\iop_cdu_unit_intf.c", 638, 0, 0);
      result = 0;
      break;
  }
  return result;
}

//----- (10005C30) --------------------------------------------------------
char __cdecl sub_10005C30(char a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 0:
      result = 13;
      break;
    case 1:
      result = 12;
      break;
    case 2:
      result = 14;
      break;
    case 3:
      result = -128;
      break;
    case 4:
      result = -125;
      break;
    case 5:
      result = -110;
      break;
    case 6:
      result = -107;
      break;
    default:
      sub_10004310("..\\lib\\adl\\iop_cdu_unit_intf.c", 712, 0, 0);
      result = -80;
      break;
  }
  return result;
}

//----- (10005CA0) --------------------------------------------------------
char __cdecl sub_10005CA0(char a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 3:
      result = 0;
      break;
    case 4:
      result = 1;
      break;
    case 5:
      result = 2;
      break;
    case 0x28:
      result = 3;
      break;
    case 0x29:
      result = 4;
      break;
    case 0x33:
      result = 5;
      break;
    case 0x34:
      result = 6;
      break;
    default:
      sub_10004310("..\\lib\\adl\\iop_cdu_unit_intf.c", 786, 0, 0);
      result = 7;
      break;
  }
  return result;
}

//----- (10005D50) --------------------------------------------------------
char __cdecl sub_10005D50(int a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 1:
      result = 1;
      break;
    case 2:
      result = 2;
      break;
    case 4:
      result = 0;
      break;
    case 64:
      result = 3;
      break;
    case 128:
      result = 4;
      break;
    case 16:
      result = 5;
      break;
    case 32:
      result = 6;
      break;
    default:
      sub_10004310("..\\lib\\adl\\iop_cdu_unit_intf.c", 1096, 1, 0);
      result = 7;
      break;
  }
  return result;
}

//----- (10005E50) --------------------------------------------------------
char __thiscall sub_10005E50(void *this)
{
  int v1; // eax@1

  v1 = sub_10005E60(this);
  return sub_10005D50(v1);
}

//----- (10005E60) --------------------------------------------------------
int __thiscall sub_10005E60(void *this)
{
  void *v2; // [sp+0h] [bp-4h]@1

  v2 = this;
  sub_100053E0(46, (char *)&v2);
  return (int)v2;
}

//----- (10005E80) --------------------------------------------------------
char __thiscall sub_10005E80(void *this)
{
  char v1; // di@1
  void *v2; // esi@1
  char v3; // di@3
  void *v4; // esi@3
  char result; // al@4

  dword_100CC438 = sub_10005440(this) != 2 ? 1379255385 : 1916032632;
  memset(&unk_100CC440, 0, 0x1540u);
  memset(&unk_100CD980, 0, 0x19B0u);
  v1 = 0;
  v2 = &unk_100CC440;
  do
  {
    sub_1000BC10(v1, (int)v2);
    v2 = (char *)v2 + 2720;
    ++v1;
  }
  while ( (signed int)v2 < (signed int)&unk_100CD980 );
  v3 = 0;
  v4 = &unk_100CD980;
  do
  {
    result = sub_1000BC90(v3, (int)v4);
    v4 = (char *)v4 + 2192;
    ++v3;
  }
  while ( (signed int)v4 < (signed int)&dword_100CF330 );
  return result;
}
// 100CC438: using guessed type int dword_100CC438;
// 100CF330: using guessed type int dword_100CF330;

//----- (10005F10) --------------------------------------------------------
char __cdecl sub_10005F10(int a1, char a2)
{
  bool v2; // dl@1
  char result; // al@2
  int v4; // edi@4
  unsigned __int8 v5; // cl@6
  int v6; // eax@7
  char v7; // [sp+6h] [bp-2h]@1
  bool v8; // [sp+7h] [bp-1h]@1

  v2 = dword_100CC438 != 1379255385;
  v7 = 0;
  v8 = dword_100CC438 != 1379255385;
  if ( (unsigned __int8)a1 < 2u )
  {
    if ( v2 )
    {
      v4 = sub_100045B0(86, 10);
      memset((char *)&unk_100CC440 + 2720 * (unsigned __int8)a1, 0, 0xAA0u);
      sub_1000BC10(a1, (int)&unk_100CC440 + 2720 * (unsigned __int8)a1);
      v2 = v8;
    }
    else
    {
      v4 = a1;
    }
    v5 = 0;
    while ( 1 )
    {
      v6 = 4 * (680 * (unsigned __int8)a1 + v5);
      if ( byte_100CC718[v6] == a2 || byte_100CC719[v6] == a2 )
        break;
      if ( ++v5 >= 8u )
        goto LABEL_12;
    }
    v7 = 1;
LABEL_12:
    if ( v2 )
      sub_10004580(v4, 86);
    result = v7;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 100CC438: using guessed type int dword_100CC438;

//----- (10005FD0) --------------------------------------------------------
char __cdecl sub_10005FD0(char a1)
{
  char result; // al@1
  int v2; // esi@1

  result = 0;
  v2 = 0;
  do
  {
    if ( result )
      break;
    result = sub_10005F10(v2++, a1);
  }
  while ( v2 < 2 );
  return result;
}

//----- (10006000) --------------------------------------------------------
int __cdecl sub_10006000(int a1)
{
  int result; // eax@1

  result = a1;
  dword_100CF330 = *(_DWORD *)a1;
  dword_100CF334 = *(_DWORD *)(a1 + 4);
  dword_100CF338 = *(_DWORD *)(a1 + 8);
  dword_100CF33C = *(_DWORD *)(a1 + 12);
  dword_10152FC0 = (int)&dword_100CF330;
  return result;
}
// 100CF330: using guessed type int dword_100CF330;
// 100CF334: using guessed type int dword_100CF334;
// 100CF338: using guessed type int dword_100CF338;
// 100CF33C: using guessed type int dword_100CF33C;
// 10152FC0: using guessed type int dword_10152FC0;

//----- (10006090) --------------------------------------------------------
int sub_10006090()
{
  int result; // eax@1

  sub_10004030(6361, (int)&unk_100CF360, 4);
  result = sub_10004030(6362, (int)&unk_100CF364, 4);
  dword_100CF368 = 1379255385;
  return result;
}
// 100CF368: using guessed type int dword_100CF368;

//----- (100060C0) --------------------------------------------------------
char __thiscall sub_100060C0(void *this)
{
  char v1; // bl@1
  void *v2; // esi@1
  char result; // al@2
  char v4; // [sp+8h] [bp-4h]@1

  dword_100CF370 = sub_10005440(this) != 2 ? 1379255385 : 1916032632;
  memset(&unk_100CF378, 0, 0xAA0u);
  v1 = 0;
  v4 = 0;
  v2 = &unk_100CF378;
  do
  {
    result = sub_1000BC10(v4, (int)v2);
    ++v1;
    v2 = (char *)v2 + 2720;
    v4 = v1;
  }
  while ( (unsigned __int8)v1 < 2u );
  return result;
}
// 100CF370: using guessed type int dword_100CF370;

//----- (10006130) --------------------------------------------------------
char __usercall sub_10006130@<al>(__int16 a1@<bx>, __int16 a2@<di>, void *a3@<esi>, char a4)
{
  char result; // al@1

  memset(a3, 0, (unsigned __int16)a2);
  result = 0;
  if ( a4 )
  {
    if ( a4 == 1 )
      result = sub_1000B980(6, 8, a1, a2, a3);
  }
  else
  {
    result = sub_1000B980(6, 5, a1, a2, a3);
  }
  return result;
}

//----- (10006170) --------------------------------------------------------
void *__usercall sub_10006170@<eax>(char a1@<bl>, __int16 a2, __int16 a3, void *a4)
{
  int v4; // edi@1
  void *result; // eax@4

  v4 = 0;
  if ( dword_100CF370 == 1379255385 )
    goto LABEL_4;
  v4 = sub_100045B0(86, 10);
  if ( !v4 )
  {
    memset((char *)&unk_100CF378 + 2720 * (unsigned __int8)a1, 0, 0xAA0u);
    sub_1000BC10(a1, (int)&unk_100CF378 + 2720 * (unsigned __int8)a1);
LABEL_4:
    result = memcpy_0(
               a4,
               (char *)&unk_100CF378 + 2720 * (unsigned __int8)a1 + (unsigned __int16)a2,
               (unsigned __int16)a3);
    goto LABEL_6;
  }
  result = memset(a4, 0, (unsigned __int16)a3);
LABEL_6:
  if ( dword_100CF370 != 1379255385 )
    result = (void *)sub_10004580(v4, 86);
  return result;
}
// 100CF370: using guessed type int dword_100CF370;

//----- (10006210) --------------------------------------------------------
char __cdecl sub_10006210(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 <= 0xAu )
    result = sub_10006130(4 * (a2 + 6), 4, a3, a1);
  return result;
}

//----- (10006250) --------------------------------------------------------
bool __cdecl sub_10006250(char a1, char a2, void *a3)
{
  bool result; // al@1
  unsigned __int8 v4; // al@3

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 <= 0xAu )
  {
    sub_10006170(a1, 4 * ((unsigned __int8)a2 + 6), 4, a3);
    v4 = *((_BYTE *)a3 + 1);
    result = v4 < 0x33u || v4 >= 0x64u && v4 <= 0x81u || v4 >= 0x96u && v4 <= 0x9Eu;
  }
  return result;
}

//----- (100062B0) --------------------------------------------------------
char __cdecl sub_100062B0(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 < 0xAu )
    result = sub_10006130(a2, 1, a3, a1);
  return result;
}

//----- (100062F0) --------------------------------------------------------
char __cdecl sub_100062F0(char a1, char a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 < 0xAu )
  {
    sub_10006170(a1, (unsigned __int8)a2, 1, a3);
    result = 1;
  }
  return result;
}

//----- (10006320) --------------------------------------------------------
char __cdecl sub_10006320(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 < 0xBu )
    result = sub_10006130(a2 + 10, 1, a3, a1);
  return result;
}

//----- (10006360) --------------------------------------------------------
char __cdecl sub_10006360(char a1, char a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 < 0xBu )
  {
    sub_10006170(a1, (unsigned __int8)a2 + 10, 1, a3);
    result = 1;
  }
  return result;
}

//----- (100063A0) --------------------------------------------------------
char __cdecl sub_100063A0(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 < 2u )
    result = sub_10006130(16 * (a2 + 50), 16, a3, a1);
  return result;
}

//----- (100063E0) --------------------------------------------------------
bool __cdecl sub_100063E0(char a1, char a2, void *a3)
{
  bool result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 < 2u )
  {
    sub_10006170(a1, 16 * ((unsigned __int8)a2 + 50), 16, a3);
    result = *(_BYTE *)a3 < 8u && *((_BYTE *)a3 + 1) < 8u;
  }
  return result;
}

//----- (10006430) --------------------------------------------------------
char __cdecl sub_10006430(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 < 0x29u )
    result = sub_10006130(12 * a2 + 68, 12, a3, a1);
  return result;
}

//----- (10006470) --------------------------------------------------------
bool __cdecl sub_10006470(char a1, char a2, void *a3)
{
  bool result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 < 0x29u )
  {
    sub_10006170(a1, 12 * (unsigned __int8)a2 + 68, 12, a3);
    result = *((_WORD *)a3 + 1) < 0x319u;
  }
  return result;
}

//----- (100064B0) --------------------------------------------------------
char __cdecl sub_100064B0(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 < 0x2Au )
    result = sub_10006130(4 * (a2 + 140), 4, a3, a1);
  return result;
}

//----- (100064F0) --------------------------------------------------------
bool __cdecl sub_100064F0(char a1, char a2, void *a3)
{
  bool result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 < 0x2Au )
  {
    sub_10006170(a1, 4 * ((unsigned __int8)a2 + 140), 4, a3);
    result = *((_WORD *)a3 + 1) < 0x145u;
  }
  return result;
}

//----- (10006530) --------------------------------------------------------
char __cdecl sub_10006530(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
    result = sub_10006130(1229, 1, a2, a1);
  return result;
}

//----- (10006560) --------------------------------------------------------
char __cdecl sub_10006560(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
  {
    sub_10006170(a1, 1229, 1, a2);
    result = 1;
  }
  return result;
}

//----- (10006590) --------------------------------------------------------
char __cdecl sub_10006590(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
    result = sub_10006130(1212, 16, a2, a1);
  return result;
}

//----- (100065C0) --------------------------------------------------------
char __cdecl sub_100065C0(char a1, void *a2)
{
  char result; // al@2

  if ( (unsigned __int8)a1 < 2u )
  {
    sub_10006170(a1, 1212, 16, a2);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (100065F0) --------------------------------------------------------
char __cdecl sub_100065F0(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
    result = sub_10006130(2400, 65, a2, a1);
  return result;
}

//----- (10006620) --------------------------------------------------------
char __cdecl sub_10006620(char a1, void *a2)
{
  char result; // al@2

  if ( (unsigned __int8)a1 < 2u )
  {
    sub_10006170(a1, 2400, 65, a2);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10006650) --------------------------------------------------------
char __cdecl sub_10006650(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( a2 < 8u && (unsigned __int8)a1 < 2u )
    result = sub_10006130(4 * (a2 + 182), 4, a3, a1);
  return result;
}

//----- (10006690) --------------------------------------------------------
char __cdecl sub_10006690(char a1, char a2, void *a3)
{
  char result; // al@2

  if ( (unsigned __int8)a2 > 7u )
    result = sub_10004310("..\\lib\\acl\\iop\\gia\\iop_gia_cnfg_intf.c", 1428, 0, 0);
  else
    result = (unsigned int)sub_10006170(a1, 4 * ((unsigned __int8)a2 + 182), 4, a3);
  return result;
}

//----- (100066E0) --------------------------------------------------------
char __cdecl sub_100066E0(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( a2 <= 4u )
    result = sub_10006130(8 * (a2 + 95), 8, a3, a1);
  return result;
}

//----- (10006720) --------------------------------------------------------
char __cdecl sub_10006720(char a1, char a2, void *a3)
{
  char result; // al@1

  result = a2;
  if ( (unsigned __int8)a2 <= 4u )
    result = (unsigned int)sub_10006170(a1, 8 * ((unsigned __int8)a2 + 95), 8, a3);
  return result;
}

//----- (10006750) --------------------------------------------------------
char __cdecl sub_10006750(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
    result = sub_10006130(22, 1, a2, a1);
  return result;
}

//----- (10006780) --------------------------------------------------------
char __cdecl sub_10006780(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
    result = sub_10006130(832, 4, a2, a1);
  return result;
}

//----- (100067B0) --------------------------------------------------------
char __cdecl sub_100067B0(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
  {
    sub_10006170(a1, 832, 4, a2);
    result = 1;
  }
  return result;
}

//----- (100067E0) --------------------------------------------------------
char __cdecl sub_100067E0(int a1, char a2, char a3, int a4, void *a5)
{
  char result; // al@4
  char v6; // [sp+0h] [bp-4h]@1

  v6 = sub_1000BEB0(a1);
  if ( v6 == 2 )
  {
LABEL_44:
    result = 0;
  }
  else
  {
    switch ( a3 )
    {
      case 0:
        if ( a2 )
        {
          sub_10006690(v6, *(_BYTE *)a4, a5);
          result = 1;
        }
        else
        {
          result = sub_10006650(v6, *(_BYTE *)a4, a5);
        }
        break;
      case 1:
        if ( a2 )
        {
          sub_10006720(v6, *(_BYTE *)a4, a5);
          result = 1;
        }
        else
        {
          result = sub_100066E0(v6, *(_BYTE *)a4, a5);
        }
        break;
      case 2:
        if ( a2 )
          result = sub_10006250(v6, *(_BYTE *)a4, a5);
        else
          result = sub_10006210(v6, *(_BYTE *)a4, a5);
        break;
      case 3:
        if ( a2 )
          result = sub_10006470(v6, *(_BYTE *)a4, a5);
        else
          result = sub_10006430(v6, *(_BYTE *)a4, a5);
        break;
      case 4:
        if ( a2 )
          result = sub_100064F0(v6, *(_BYTE *)a4, a5);
        else
          result = sub_100064B0(v6, *(_BYTE *)a4, a5);
        break;
      case 5:
        if ( a2 )
          result = sub_100062F0(v6, *(_BYTE *)a4, a5);
        else
          result = sub_100062B0(v6, *(_BYTE *)a4, a5);
        break;
      case 6:
        if ( a2 )
          result = sub_10006360(v6, *(_BYTE *)a4, a5);
        else
          result = sub_10006320(v6, *(_BYTE *)a4, a5);
        break;
      case 7:
        result = sub_10006750(v6, a5);
        break;
      case 8:
        if ( a2 )
          result = sub_100065C0(v6, a5);
        else
          result = sub_10006590(v6, a5);
        break;
      case 9:
        if ( a2 )
          result = sub_100063E0(v6, *(_BYTE *)a4, a5);
        else
          result = sub_100063A0(v6, *(_BYTE *)a4, a5);
        break;
      case 0x1D:
        if ( a2 || j_HWM_pvg_read_reg(1) )
          result = sub_10006620(v6, a5);
        else
          result = sub_100065F0(v6, a5);
        break;
      case 0x21:
        if ( a2 || j_HWM_pvg_read_reg(1) )
          result = sub_10006560(v6, a5);
        else
          result = sub_10006530(v6, a5);
        break;
      case 0x1B:
        if ( a2 || j_HWM_pvg_read_reg(1) )
          result = sub_100067B0(v6, a5);
        else
          result = sub_10006780(v6, a5);
        break;
      default:
        sub_10004310("..\\lib\\acl\\iop\\gia\\iop_gia_cnfg_intf.c", 2329, 0, 0);
        goto LABEL_44;
    }
  }
  return result;
}
// 10004B60: using guessed type int __cdecl j_HWM_pvg_read_reg(_DWORD);

//----- (10006B80) --------------------------------------------------------
bool __cdecl sub_10006B80(char a1, unsigned __int8 a2, int a3)
{
  unsigned __int8 v3; // cl@1
  char v4; // dl@5
  bool result; // al@5

  v3 = a2;
  if ( a2 >= 0xFFu || a2 > 1u )
  {
    result = 0;
  }
  else
  {
    if ( dword_100D08B8 != 1379255385 )
    {
      sub_1000BBF0(a1, (int)&byte_100D08C0[24 * (unsigned __int8)a1]);
      v3 = a2;
    }
    v4 = byte_100D08C5[4 * (v3 + 6 * (unsigned __int8)a1)];
    *(_BYTE *)(a3 + 1) = v4;
    *(_BYTE *)a3 = byte_100D08C4[4 * (v3 + 6 * (unsigned __int8)a1)];
    result = (unsigned __int8)v4 < 0xBu;
  }
  return result;
}
// 100D08B8: using guessed type int dword_100D08B8;

//----- (10006BF0) --------------------------------------------------------
bool __cdecl sub_10006BF0(char a1, unsigned __int8 a2, int a3)
{
  bool result; // al@2

  if ( a2 < 1u )
  {
    if ( dword_100D08B8 != 1379255385 )
      sub_1000BBF0(a1, (int)&byte_100D08C0[24 * (unsigned __int8)a1]);
    *(_DWORD *)a3 = dword_100D08D4[a2 + 6 * (unsigned __int8)a1];
    result = *(_WORD *)(a3 + 2) < 0x319u;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 100D08B8: using guessed type int dword_100D08B8;
// 100D08D4: using guessed type int dword_100D08D4[];

//----- (10006C50) --------------------------------------------------------
bool __cdecl sub_10006C50(char a1, unsigned __int8 a2, int a3)
{
  unsigned __int8 v3; // cl@1
  bool result; // al@1
  int v5; // edx@5

  v3 = a2;
  result = 0;
  if ( (a2 & 0x80u) == 0 && a2 <= 1u )
  {
    if ( dword_100D08B8 != 1379255385 )
    {
      sub_1000BBF0(a1, (int)&byte_100D08C0[24 * (unsigned __int8)a1]);
      v3 = a2;
    }
    v5 = dword_100D08CC[v3 + 6 * (unsigned __int8)a1];
    *(_DWORD *)a3 = v5;
    result = (unsigned __int8)v5 < 0x13u && *(_BYTE *)(a3 + 1) < 0x13u;
  }
  return result;
}
// 100D08B8: using guessed type int dword_100D08B8;
// 100D08CC: using guessed type int dword_100D08CC[];

//----- (10006CC0) --------------------------------------------------------
char __cdecl sub_10006CC0(char a1, _BYTE *a2)
{
  if ( dword_100D08B8 != 1379255385 )
    sub_1000BBF0(a1, (int)&byte_100D08C0[24 * (unsigned __int8)a1]);
  *a2 = byte_100D08C0[24 * (unsigned __int8)a1];
  return 1;
}
// 100D08B8: using guessed type int dword_100D08B8;

//----- (10006D00) --------------------------------------------------------
char __thiscall sub_10006D00(void *this)
{
  char v1; // bl@1
  char *v2; // esi@1
  char result; // al@2
  char v4; // [sp+8h] [bp-4h]@1

  dword_100D08B8 = sub_10005440(this) != 2 ? 1379255385 : 1916032632;
  memset(byte_100D08C0, 0, 0x48u);
  v1 = 0;
  v4 = 0;
  v2 = byte_100D08C0;
  do
  {
    result = sub_1000BBF0(v4, (int)v2);
    ++v1;
    v2 += 24;
    v4 = v1;
  }
  while ( (unsigned __int8)v1 < 3u );
  return result;
}
// 100D08B8: using guessed type int dword_100D08B8;

//----- (10006D70) --------------------------------------------------------
char __cdecl sub_10006D70(char a1, int a2)
{
  int v2; // eax@1
  bool v3; // zf@1
  char result; // al@1

  v2 = sub_10005BB0(a1);
  v3 = sub_10037680(a2, 0, 0, v2) == 0;
  result = 1;
  if ( !v3 )
    result = 0;
  return result;
}

//----- (10006DA0) --------------------------------------------------------
char __cdecl sub_10006DA0(char a1, int a2)
{
  int v2; // eax@1
  bool v3; // zf@1
  char result; // al@1

  v2 = sub_10005BB0(a1);
  v3 = sub_100376F0(a2, 0, v2) == 0;
  result = 1;
  if ( !v3 )
    result = 0;
  return result;
}

//----- (10006DD0) --------------------------------------------------------
char __cdecl sub_10006DD0(char a1, int a2, char a3, unsigned __int8 *a4, _BYTE *a5, unsigned int a6)
{
  char result; // al@3
  char v7; // [sp+0h] [bp-4h]@1

  v7 = sub_10005CA0(a1);
  switch ( a3 )
  {
    case 0:
      if ( a6 >= 4 )
      {
        result = sub_10006C50(v7, *a4, (int)a5);
      }
      else
      {
        sub_10004310("..\\lib\\acl\\iop\\iop_cdu_cnfg_intf.c", 531, 0, 0);
        result = 0;
      }
      break;
    case 2:
      if ( a6 >= 4 )
      {
        result = sub_10006B80(v7, *a4, (int)a5);
      }
      else
      {
        sub_10004310("..\\lib\\acl\\iop\\iop_cdu_cnfg_intf.c", 548, 0, 0);
        result = 0;
      }
      break;
    case 3:
      if ( a6 >= 4 )
      {
        result = sub_10006BF0(v7, *a4, (int)a5);
      }
      else
      {
        sub_10004310("..\\lib\\acl\\iop\\iop_cdu_cnfg_intf.c", 565, 0, 0);
        result = 0;
      }
      break;
    case 7:
      if ( a6 >= 1 )
      {
        result = sub_10006CC0(v7, a5);
      }
      else
      {
        sub_10004310("..\\lib\\acl\\iop\\iop_cdu_cnfg_intf.c", 582, 0, 0);
        result = 0;
      }
      break;
    case 0x10:
      if ( a6 >= 0x40 )
      {
        result = sub_10006DA0(v7, (int)a5);
      }
      else
      {
        sub_10004310("..\\lib\\acl\\iop\\iop_cdu_cnfg_intf.c", 598, 0, 0);
        result = 0;
      }
      break;
    case 0xF:
      if ( a6 >= 0x68 )
      {
        result = sub_10006D70(v7, (int)a5);
      }
      else
      {
        sub_10004310("..\\lib\\acl\\iop\\iop_cdu_cnfg_intf.c", 616, 0, 0);
        result = 0;
      }
      break;
    default:
      sub_10004310("..\\lib\\acl\\iop\\iop_cdu_cnfg_intf.c", 633, 0, 0);
      result = 0;
      break;
  }
  return result;
}

//----- (10006FA0) --------------------------------------------------------
char *__cdecl sub_10006FA0(char **a1)
{
  char *v1; // edx@1
  int v2; // edi@1
  char *result; // eax@1
  char *v4; // eax@3
  char v5; // cl@4
  int v6; // eax@5
  char v7; // cl@7

  v1 = *a1;
  v2 = 0;
  result = (char *)&unk_10038894;
  if ( *a1 && *v1 )
  {
    v4 = *a1;
    do
      v5 = *v4++;
    while ( v5 );
    v6 = v4 - (v1 + 1) - 1;
    do
    {
      if ( v6 < 0 )
        break;
      v7 = v1[v6];
      if ( v7 == 47 || v7 == 92 )
        v2 = v6 + 1;
      --v6;
    }
    while ( !v2 );
    result = &v1[v2];
  }
  return result;
}

//----- (10006FF0) --------------------------------------------------------
int sub_10006FF0()
{
  int v0; // esi@1
  int v1; // edx@1
  int result; // eax@1
  int v3; // ecx@2

  v0 = 0;
  v1 = sub_10004380();
  result = 0;
  while ( 1 )
  {
    v3 = dword_100D091C[result];
    if ( v3 == v1 )
      break;
    if ( !v0 && v3 == -1 )
      v0 = result;
    if ( (unsigned int)++result >= 5 )
    {
      dword_100D091C[v0] = v1;
      return v0;
    }
  }
  return result;
}
// 100D091C: using guessed type int dword_100D091C[];

//----- (10007030) --------------------------------------------------------
int __cdecl sub_10007030(_BYTE *a1, int a2)
{
  int result; // eax@3
  int v3; // esi@3
  _BYTE *v4; // ecx@4
  char v5; // dl@5

  if ( a1 )
  {
    if ( a2 )
    {
      result = 0;
      v3 = 0;
      if ( *a1 )
      {
        v4 = a1;
        do
        {
          v5 = v4[a2 - (_DWORD)a1];
          if ( !v5 )
            break;
          if ( *v4 != v5 )
          {
            result = a1[v3] - *(_BYTE *)(v3 + a2);
            if ( a1[v3] != *(_BYTE *)(v3 + a2) )
              return result;
            break;
          }
          ++v4;
          ++v3;
        }
        while ( *v4 );
      }
      if ( a1[v3] )
      {
        result = 1;
      }
      else if ( *(_BYTE *)(v3 + a2) )
      {
        result = -1;
      }
    }
    else
    {
      result = 1;
    }
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (100070A0) --------------------------------------------------------
signed int __cdecl sub_100070A0(_BYTE *a1, int a2)
{
  _BYTE *v2; // esi@1
  int v3; // ebp@1
  int v4; // ebx@4
  int v5; // edi@6
  int v6; // eax@6
  signed int result; // eax@11
  int v8; // [sp+8h] [bp-4h]@3

  v2 = a1;
  v3 = 0;
  if ( a1 )
  {
    if ( a2 )
    {
      v8 = 0;
      if ( *a1 )
      {
        v4 = a2 - (_DWORD)a1;
        while ( v2[v4] )
        {
          v5 = tolower(*v2);
          v6 = tolower(v2[v4]);
          if ( v5 != v6 )
          {
            v8 = v5 - v6;
            if ( v5 != v6 )
              goto LABEL_16;
            break;
          }
          ++v2;
          ++v3;
          if ( !*v2 )
            break;
        }
      }
      if ( a1[v3] )
      {
        result = 1;
      }
      else if ( *(_BYTE *)(a2 + v3) )
      {
        result = -1;
      }
      else
      {
LABEL_16:
        result = v8;
      }
    }
    else
    {
      result = 1;
    }
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (10007140) --------------------------------------------------------
char *__usercall sub_10007140@<eax>(char *result@<eax>, const char *a2@<edi>, int a3@<esi>)
{
  if ( a2 )
  {
    if ( (_BYTE)result && *(_BYTE *)a3 )
    {
      if ( *a2 )
      {
        strncat((char *)a3, " ", 0x100u);
        result = strncat((char *)a3, a2, 0x100u);
        *(_BYTE *)(a3 + 255) = 0;
        return result;
      }
    }
    else
    {
      result = strncpy((char *)a3, a2, 0x100u);
    }
    *(_BYTE *)(a3 + 255) = 0;
  }
  else if ( !(_BYTE)result )
  {
    *(_BYTE *)a3 = 0;
  }
  return result;
}

//----- (100071A0) --------------------------------------------------------
const char *__usercall sub_100071A0@<eax>(int a1@<eax>)
{
  const char *result; // eax@3

  if ( a1 )
  {
    if ( a1 == 1 )
      result = "Group";
    else
      result = "Command";
  }
  else
  {
    result = "Case";
  }
  return result;
}

//----- (100071C0) --------------------------------------------------------
int __usercall sub_100071C0@<eax>(unsigned int a1@<ebx>)
{
  int (**v1)(void); // esi@1
  unsigned int v2; // edi@1
  int result; // eax@4

  v1 = (int (**)(void))dword_100D0908[sub_10006FF0()];
  v2 = 0;
  if ( a1 )
  {
    while ( v1 && *v1 )
    {
      result = (*v1)();
      ++v2;
      ++v1;
      if ( v2 >= a1 )
        return result;
    }
    result = 0;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 100D0908: using guessed type int dword_100D0908[];

//----- (10007200) --------------------------------------------------------
int __usercall sub_10007200@<eax>(_DWORD *a1@<eax>, void (__cdecl *a2)(signed int, void *)@<ebx>, int a3@<esi>)
{
  _DWORD *v3; // edi@1
  int result; // eax@1
  int v5; // ecx@2
  int v6; // eax@4
  int v7; // edi@4
  int v8; // edi@7

  v3 = a1;
  result = 0;
  if ( a3 )
  {
    v5 = *(_DWORD *)(a3 + 12);
    if ( v5 )
    {
      if ( v5 == 1 )
      {
        sub_1000BFF0(5, *(_DWORD *)a3);
        v6 = (*(int (**)(void))(a3 + 8))();
        sub_10007A80((int)v3, v6, 0);
        v7 = -*v3;
        sub_1000BFF0(9, *(_DWORD *)a3);
        result = v7;
      }
    }
    else
    {
      sub_1000BFF0(6, *(_DWORD *)a3);
      if ( a2 )
        a2(5, &unk_10059520);
      sub_1000BF40(a3);
      v8 = -*v3;
      if ( a2 )
        a2(6, &unk_10059520);
      sub_1000BFF0(8, *(_DWORD *)a3);
      result = v8;
    }
  }
  return result;
}

//----- (100072A0) --------------------------------------------------------
int __usercall sub_100072A0@<eax>(int result@<eax>)
{
  *(_DWORD *)result = 0;
  *(_DWORD *)(result + 4) = 0;
  *(_DWORD *)(result + 8) = 0;
  *(_DWORD *)(result + 12) = 0;
  *(_DWORD *)(result + 16) = 0;
  *(_DWORD *)(result + 20) = 0;
  *(_DWORD *)(result + 28) = 0;
  *(_BYTE *)(result + 33) = 0;
  *(_BYTE *)(result + 34) = 0;
  *(_BYTE *)(result + 24) = 1;
  *(_BYTE *)(result + 32) = 1;
  *(_DWORD *)(result + 36) = 0;
  *(_DWORD *)(result + 40) = 0;
  *(_DWORD *)(result + 44) = 0;
  *(_DWORD *)(result + 48) = 0;
  *(_DWORD *)(result + 52) = 0;
  return result;
}

//----- (100072E0) --------------------------------------------------------
char *__cdecl sub_100072E0(int a1, char *a2, int a3, const char *a4)
{
  const char *v4; // ecx@0
  const char *v5; // ebx@1
  char *v6; // eax@1
  char *v7; // ecx@1
  char *result; // eax@3
  char *v9; // eax@5
  const char *v10; // edi@5
  const char **v11; // ebx@8
  char *v12; // eax@10
  const char *v13; // edi@10
  char **v14; // ebp@10
  const char *v15; // edi@12
  char *v16; // [sp+10h] [bp-624h]@8
  signed int v17; // [sp+14h] [bp-620h]@10
  int v18[6]; // [sp+18h] [bp-61Ch]@2
  char v19; // [sp+30h] [bp-604h]@1
  char v20; // [sp+130h] [bp-504h]@5
  char v21; // [sp+230h] [bp-404h]@7
  char v22; // [sp+330h] [bp-304h]@10
  char v23; // [sp+430h] [bp-204h]@10
  char v24; // [sp+530h] [bp-104h]@10

  v5 = v4;
  v6 = 0;
  v7 = &v19;
  do
  {
    v18[(signed int)v6] = (int)v7;
    *v7 = 0;
    ++v6;
    v7 += 256;
  }
  while ( (unsigned int)v6 < 6 );
  LOBYTE(v6) = 0;
  result = sub_10007140(v6, "command", (int)&v19);
  if ( a3 )
  {
    LOBYTE(result) = 0;
    if ( a4 )
    {
      v9 = sub_10007140(result, a4, (int)&v20);
      v10 = v5;
    }
    else
    {
      v9 = sub_10007140(result, v5, (int)&v20);
      v10 = (const char *)&unk_10038894;
    }
    LOBYTE(v9) = 0;
    sub_10007140(v9, v10, (int)&v21);
    result = a2;
    if ( a2 )
    {
      v11 = (const char **)(a1 + 36);
      v16 = a2;
      do
      {
        if ( (unsigned int)*(v11 - 6) >= 2 )
        {
          LOBYTE(result) = 0;
          v12 = sub_10007140(result, *v11, (int)&v24);
          v13 = *(v11 - 9);
          LOBYTE(v12) = 1;
          v22 = 0;
          sub_10007140(v12, v13, (int)&v22);
          v23 = 0;
          v14 = (char **)(v11 - 5);
          v17 = 5;
          do
          {
            switch ( *v14 )
            {
              case 1u:
                v15 = "<bool>";
                goto LABEL_19;
              case 2u:
                v15 = "<char>";
                goto LABEL_19;
              case 3u:
                v15 = "<sint32>";
                goto LABEL_19;
              case 4u:
                v15 = "<uint32>";
                goto LABEL_19;
              case 6u:
                v15 = "<float>";
                goto LABEL_19;
              case 5u:
                v15 = "<str>";
                goto LABEL_19;
              case 0u:
                break;
              default:
                v15 = "<*?*>";
LABEL_19:
                sub_10007140(*v14, v15, (int)&v23);
                break;
            }
            ++v14;
            --v17;
          }
          while ( v17 );
          result = (char *)sub_1000BF80(2, (int)v18, 6);
        }
        v11 += 10;
        --v16;
      }
      while ( v16 );
    }
  }
  return result;
}
// 100072E0: using guessed type int var_61C[6];

//----- (10007490) --------------------------------------------------------
int __usercall sub_10007490@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  int v2; // ST08_4@1
  char *v3; // eax@1
  int result; // eax@1
  int (__cdecl *v5)(signed int, void *); // esi@1

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 4);
  v3 = sub_10006FA0((char **)a1);
  result = sub_1000C010(4, (int)v3, v2);
  v5 = *(int (__cdecl **)(signed int, void *))(v1 + 16);
  if ( v5 )
    result = v5(4, &unk_10059520);
  return result;
}

//----- (100074C0) --------------------------------------------------------
int __usercall sub_100074C0@<eax>(int a1@<esi>)
{
  void (__cdecl *v1)(signed int, void *); // eax@1
  char v2; // al@3

  v1 = *(void (__cdecl **)(signed int, void *))(a1 + 16);
  if ( v1 )
    v1(7, &unk_10059520);
  v2 = (unsigned int)sub_10006FA0((char **)a1);
  return sub_1000BFF0(10, v2);
}

//----- (100074F0) --------------------------------------------------------
void __cdecl sub_100074F0(int (**a1)(void), char **a2, _DWORD *a3)
{
  int v3; // esi@3
  int (**v4)(void); // ebx@4
  char **v5; // eax@6
  char *v6; // ST1C_4@6
  char *v7; // eax@6
  char *v8; // eax@7
  char *v9; // eax@9
  char *v10; // eax@10
  int v11; // ebp@12
  signed int v12; // ebx@12
  const char *v13; // eax@14
  char *v14; // ST18_4@14
  int v15; // ST14_4@14
  char *v16; // eax@14
  int v17; // ecx@18
  unsigned int v18; // eax@18
  int v19; // eax@20
  int v20; // ecx@20
  char v21; // dl@20
  int v22; // ST14_4@30
  char *v23; // ST10_4@30
  const char *v24; // eax@31
  char *v25; // ST18_4@31
  int v26; // ST14_4@31
  char *v27; // ST10_4@31
  int v28; // edx@34
  int v29; // ecx@34
  int v30; // eax@34
  int v31; // ST14_4@37
  char *v32; // eax@37
  int v33; // eax@38
  int v34; // ST14_4@39
  char *v35; // ST10_4@39
  int v36; // ST14_4@41
  char *v37; // eax@41
  int v38; // eax@42
  int v39; // ST14_4@43
  char *v40; // eax@43
  int v41; // ST14_4@45
  char *v42; // eax@45
  int v43; // ST14_4@48
  char *v44; // eax@48
  int v45; // edx@49
  int v46; // ST14_4@50
  char *v47; // ST10_4@50
  char *v48; // eax@54
  unsigned int v49; // [sp+4h] [bp-8h]@12
  unsigned int v50; // [sp+8h] [bp-4h]@15
  int v51; // [sp+10h] [bp+4h]@16

  if ( a1 )
  {
    if ( *a1 )
    {
      v3 = (*a1)();
      if ( !a2 )
      {
        v4 = a1 + 1;
        if ( a1 != (int (**)(void))-4 )
        {
          do
          {
            if ( !*v4 )
              break;
            v5 = (char **)(*v4)();
            v6 = sub_10006FA0(v5);
            v7 = sub_10006FA0((char **)v3);
            if ( !sub_10007030(v7, (int)v6) )
            {
              v8 = sub_10006FA0((char **)v3);
              sub_1000C080(
                3,
                (int)"**Error**",
                (int)"..\\lib\\utf\\utf_runner.c",
                (int)"2872",
                (int)v8,
                (int)"Suite name has been used more than once");
              *a3 = 12;
            }
            ++v4;
          }
          while ( v4 );
        }
      }
      v9 = sub_10006FA0((char **)v3);
      if ( strchr(v9, 32) )
      {
        v10 = sub_10006FA0((char **)v3);
        sub_1000C080(
          3,
          (int)"**Warning**",
          (int)"..\\lib\\utf\\utf_runner.c",
          (int)"2903",
          (int)v10,
          (int)"Suite name includes spaces so it must be quoted");
        *a3 = 10;
      }
      if ( *(_DWORD *)(v3 + 12) )
      {
        v11 = 0;
        v49 = 1;
        v12 = 20;
        while ( 1 )
        {
          if ( strchr(*(const char **)(*(_DWORD *)(v3 + 8) + v11), 32) )
          {
            v13 = sub_100071A0(*(_DWORD *)(*(_DWORD *)(v3 + 8) + v11 + 12));
            v14 = sub_1000C160("%s name includes spaces so it must be quoted", v13);
            v15 = *(_DWORD *)(*(_DWORD *)(v3 + 8) + v11);
            v16 = sub_10006FA0((char **)v3);
            sub_1000C0C0(3, (int)"**Warning**", (int)"..\\lib\\utf\\utf_runner.c", (int)"2915", (int)v16, v15, (int)v14);
            *a3 = 10;
          }
          v50 = v49;
          if ( v49 < *(_DWORD *)(v3 + 12) )
          {
            v51 = v11 + 40;
            do
            {
              if ( !sub_10007030(*(_BYTE **)(*(_DWORD *)(v3 + 8) + v11), *(_DWORD *)(v51 + *(_DWORD *)(v3 + 8))) )
              {
                v17 = *(_DWORD *)(v3 + 8);
                v18 = *(_DWORD *)(v17 + v11 + 12);
                if ( v18 < 2 || *(_DWORD *)(v51 + v17 + 12) < 2u )
                {
                  v24 = sub_100071A0(v18);
                  v25 = sub_1000C160("%s name has been used more than once", v24);
                  v26 = *(_DWORD *)(*(_DWORD *)(v3 + 8) + v11);
                  v27 = sub_10006FA0((char **)v3);
                  sub_1000C0C0(
                    3,
                    (int)"**Error**",
                    (int)"..\\lib\\utf\\utf_runner.c",
                    (int)"2958",
                    (int)v27,
                    v26,
                    (int)v25);
                }
                else
                {
                  v19 = *(_DWORD *)(v3 + 8);
                  v20 = *(_DWORD *)(v51 + v17 + 16);
                  v21 = 0;
                  if ( *(_DWORD *)(v12 + v19 - 4) != v20 )
                    v21 = 1;
                  if ( *(_DWORD *)(v12 + v19) != v20 )
                    v21 = 1;
                  if ( *(_DWORD *)(v12 + v19 + 4) != v20 )
                    v21 = 1;
                  if ( *(_DWORD *)(v12 + v19 + 8) != v20 )
                    v21 = 1;
                  if ( *(_DWORD *)(v12 + v19 + 12) != v20 || v21 )
                    goto LABEL_33;
                  v22 = *(_DWORD *)(v19 + v11);
                  v23 = sub_10006FA0((char **)v3);
                  sub_1000C0C0(
                    3,
                    (int)"**Error**",
                    (int)"..\\lib\\utf\\utf_runner.c",
                    (int)"2946",
                    (int)v23,
                    v22,
                    (int)"Command name has been used more than once");
                }
                *a3 = 12;
              }
LABEL_33:
              v51 += 40;
              ++v50;
            }
            while ( v50 < *(_DWORD *)(v3 + 12) );
          }
          v28 = *(_DWORD *)(v3 + 8);
          v29 = *(_DWORD *)(v28 + v11 + 12);
          v30 = v28 + v11;
          if ( !v29 )
            break;
          if ( v29 == 1 )
          {
            if ( !*(_DWORD *)(v30 + 8) )
            {
              v36 = *(_DWORD *)v30;
              v37 = sub_10006FA0((char **)v3);
              sub_1000C0C0(
                3,
                (int)"**Error**",
                (int)"..\\lib\\utf\\utf_runner.c",
                (int)"3047",
                (int)v37,
                v36,
                (int)"Test group has a NULL function pointer or a command uses a reserved ID");
              *a3 = 12;
            }
            v38 = *(_DWORD *)(v3 + 8) + v11;
            if ( *(_DWORD *)(v38 + 4) )
            {
              v39 = *(_DWORD *)v38;
              v40 = sub_10006FA0((char **)v3);
              sub_1000C0C0(
                3,
                (int)"**Warning**",
                (int)"..\\lib\\utf\\utf_runner.c",
                (int)"3058",
                (int)v40,
                v39,
                (int)"Test group has a non-NULL test case function pointer");
              *a3 = 10;
            }
            if ( a2 )
            {
              v41 = *(_DWORD *)(*(_DWORD *)(v3 + 8) + v11);
              v42 = sub_10006FA0((char **)v3);
              sub_1000C0C0(
                3,
                (int)"**Error**",
                (int)"..\\lib\\utf\\utf_runner.c",
                (int)"3070",
                (int)v42,
                v41,
                (int)"Test group contains a test group");
              *a3 = 12;
            }
            else
            {
              sub_100074F0(*(_DWORD *)(v3 + 8) + v11 + 8, v3, a3);
            }
            goto LABEL_52;
          }
          if ( *(_DWORD *)(v30 + 4) )
          {
            v31 = *(_DWORD *)v30;
            v32 = sub_10006FA0((char **)v3);
            sub_1000C0C0(
              3,
              (int)"**Warning**",
              (int)"..\\lib\\utf\\utf_runner.c",
              (int)"3088",
              (int)v32,
              v31,
              (int)"Command include a non-NULL test case function pointer");
            *a3 = 10;
          }
          v33 = *(_DWORD *)(v3 + 8) + v11;
          if ( *(_DWORD *)(v33 + 8) )
          {
            v34 = *(_DWORD *)v33;
            v35 = sub_10006FA0((char **)v3);
            sub_1000C0C0(
              3,
              (int)"**Warning**",
              (int)"..\\lib\\utf\\utf_runner.c",
              (int)"3099",
              (int)v35,
              v34,
              (int)"Command include a non-NULL test group function pointer");
LABEL_51:
            *a3 = 10;
          }
LABEL_52:
          ++v49;
          v12 += 40;
          v11 += 40;
          if ( v49 - 1 >= *(_DWORD *)(v3 + 12) )
            return;
        }
        if ( !*(_DWORD *)(v30 + 4) )
        {
          v43 = *(_DWORD *)v30;
          v44 = sub_10006FA0((char **)v3);
          sub_1000C0C0(
            3,
            (int)"**Error**",
            (int)"..\\lib\\utf\\utf_runner.c",
            (int)"3022",
            (int)v44,
            v43,
            (int)"Test case has a NULL function pointer or a command uses a reserved ID");
          *a3 = 12;
        }
        v45 = *(_DWORD *)(v3 + 8);
        if ( !*(_DWORD *)(v45 + v11 + 8) )
          goto LABEL_52;
        v46 = *(_DWORD *)(v45 + v11);
        v47 = sub_10006FA0((char **)v3);
        sub_1000C0C0(
          3,
          (int)"**Warning**",
          (int)"..\\lib\\utf\\utf_runner.c",
          (int)"3033",
          (int)v47,
          v46,
          (int)"Test case has a non-NULL group function pointer");
        goto LABEL_51;
      }
    }
    else
    {
      v48 = sub_10006FA0(a2);
      sub_1000C080(
        3,
        (int)"**Error**",
        (int)"..\\lib\\utf\\utf_runner.c",
        (int)"3114",
        (int)v48,
        (int)"Test suite has a NULL function pointer or a command uses a reserved ID");
      *a3 = 12;
    }
  }
}

//----- (10007960) --------------------------------------------------------
int sub_10007960()
{
  int (**i)(void); // esi@1
  int v2; // [sp+4h] [bp-4h]@1

  v2 = 0;
  for ( i = (int (**)(void))dword_100D0908[sub_10006FF0()]; i; ++i )
  {
    if ( !*i )
      break;
    sub_100074F0(i, 0, &v2);
  }
  return v2;
}
// 100D0908: using guessed type int dword_100D0908[];

//----- (100079B0) --------------------------------------------------------
void *sub_100079B0()
{
  void *result; // eax@1
  signed int v1; // esi@1

  dword_100D0908[0] = 0;
  dword_100D090C = 0;
  dword_100D0910 = 0;
  dword_100D0914 = 0;
  dword_100D0918 = 0;
  result = &unk_100D0930;
  dword_100D091C[0] = -1;
  dword_100D0920 = -1;
  dword_100D0924 = -1;
  dword_100D0928 = -1;
  dword_100D092C = -1;
  v1 = 5;
  do
  {
    result = (void *)(sub_100072A0((int)result) + 56);
    --v1;
  }
  while ( v1 );
  return result;
}
// 100D0908: using guessed type int dword_100D0908[];
// 100D090C: using guessed type int dword_100D090C;
// 100D0910: using guessed type int dword_100D0910;
// 100D0914: using guessed type int dword_100D0914;
// 100D0918: using guessed type int dword_100D0918;
// 100D091C: using guessed type int dword_100D091C[];
// 100D0920: using guessed type int dword_100D0920;
// 100D0924: using guessed type int dword_100D0924;
// 100D0928: using guessed type int dword_100D0928;
// 100D092C: using guessed type int dword_100D092C;

//----- (10007A10) --------------------------------------------------------
char *sub_10007A10()
{
  return (char *)&unk_100D0930 + 56 * sub_10006FF0();
}

//----- (10007A30) --------------------------------------------------------
char __cdecl sub_10007A30(int a1, int a2, unsigned int a3)
{
  char *v3; // esi@1
  char result; // al@1

  v3 = sub_10007A10();
  result = a1 - 6;
  if ( a1 == 6 )
  {
    *(_DWORD *)v3 = 0;
  }
  else
  {
    result = a1 - 7;
    if ( a1 == 7 )
    {
      result = sub_1000BF50(a2, a3);
      if ( result )
        ++*(_DWORD *)v3;
    }
  }
  return result;
}

//----- (10007A70) --------------------------------------------------------
char **sub_10007A70()
{
  return &off_100598D0;
}
// 100598D0: using guessed type char *off_100598D0;

//----- (10007A80) --------------------------------------------------------
int __cdecl sub_10007A80(int a1, int a2, int a3)
{
  char *v3; // esi@1
  int result; // eax@2
  unsigned int v5; // ebp@7
  int v6; // [sp+8h] [bp-8h]@0
  int v7; // [sp+8h] [bp-8h]@7
  int v8; // [sp+Ch] [bp-4h]@8

  sub_1000C280();
  v3 = sub_10007A10();
  if ( v3[34] )
  {
    result = v6;
  }
  else
  {
    result = sub_10007960();
    if ( result != 12 )
      v3[34] = 1;
  }
  if ( v3[34] )
  {
    sub_10007490(a2);
    if ( a3 )
    {
      v7 = sub_10007200((_DWORD *)a1, *(void (__cdecl **)(signed int, void *))(a2 + 16), a3);
    }
    else
    {
      v5 = 0;
      v7 = 0;
      if ( *(_DWORD *)(a2 + 12) )
      {
        v8 = 0;
        do
        {
          v7 += sub_10007200((_DWORD *)a1, *(void (__cdecl **)(signed int, void *))(a2 + 16), v8 + *(_DWORD *)(a2 + 8));
          v8 += 40;
          ++v5;
        }
        while ( v5 < *(_DWORD *)(a2 + 12) );
        sub_100074C0(a2);
        return v7;
      }
    }
    sub_100074C0(a2);
    result = v7;
  }
  return result;
}

//----- (10007B30) --------------------------------------------------------
int __cdecl sub_10007B30(int a1, int a2, int a3, const char *a4, const char *a5)
{
  int v5; // ebp@1
  unsigned int v6; // eax@1
  char *v7; // ecx@1
  int result; // eax@3
  int v9; // eax@5
  char *v10; // eax@7
  char *v11; // eax@7
  char *v12; // eax@7
  char *v13; // eax@7
  char *v14; // eax@7
  char **v15; // eax@7
  char **v16; // esi@7
  char *v17; // eax@7
  char *v18; // eax@7
  char *v19; // eax@7
  char *v20; // eax@7
  char *v21; // eax@8
  char *v22; // eax@9
  const char *v23; // edi@9
  char *v24; // eax@11
  int v25; // [sp+8h] [bp-41Ch]@4
  int v26[4]; // [sp+10h] [bp-414h]@2
  char v27; // [sp+20h] [bp-404h]@1
  char v28; // [sp+120h] [bp-304h]@7
  char v29; // [sp+220h] [bp-204h]@7
  char v30; // [sp+320h] [bp-104h]@11

  v5 = a1;
  v6 = 0;
  v7 = &v27;
  do
  {
    v26[v6] = (int)v7;
    *v7 = 0;
    ++v6;
    v7 += 256;
  }
  while ( v6 < 4 );
  result = a2;
  if ( a2 )
  {
    v25 = a2;
    do
    {
      v9 = *(_DWORD *)(v5 + 12);
      if ( v9 )
      {
        result = v9 - 1;
        if ( !result )
        {
          v10 = sub_10007140(0, "group", (int)&v27);
          LOBYTE(v10) = 0;
          v11 = sub_10007140(v10, a4, (int)&v28);
          LOBYTE(v11) = 0;
          sub_10007140(v11, *(const char **)v5, (int)&v29);
          v12 = (char *)sub_1000BF80(2, (int)v26, 3);
          LOBYTE(v12) = 0;
          v13 = sub_10007140(v12, "group", (int)&v27);
          LOBYTE(v13) = 0;
          v14 = sub_10007140(v13, a4, (int)&v28);
          LOBYTE(v14) = 0;
          sub_10007140(v14, "group-begin", (int)&v29);
          sub_1000BF80(2, (int)v26, 3);
          v15 = (char **)(*(int (**)(void))(v5 + 8))();
          v16 = v15;
          v17 = sub_10006FA0(v15);
          sub_10007B30(v16[2], v16[3], v16[4], v17, a4);
          sub_10006FA0(v16);
          v18 = sub_100072E0((int)v16[2], v16[3], (int)v16[4], a4);
          LOBYTE(v18) = 0;
          v19 = sub_10007140(v18, "group", (int)&v27);
          LOBYTE(v19) = 0;
          v20 = sub_10007140(v19, a4, (int)&v28);
          LOBYTE(v20) = 0;
          sub_10007140(v20, "group-end", (int)&v29);
          result = sub_1000BF80(2, (int)v26, 3);
        }
      }
      else
      {
        v21 = sub_10007140(0, "case", (int)&v27);
        LOBYTE(v21) = 0;
        if ( a5 )
        {
          v22 = sub_10007140(v21, a5, (int)&v28);
          v23 = a4;
        }
        else
        {
          v22 = sub_10007140(v21, a4, (int)&v28);
          v23 = (const char *)&unk_10038894;
        }
        LOBYTE(v22) = 0;
        v24 = sub_10007140(v22, v23, (int)&v29);
        LOBYTE(v24) = 0;
        sub_10007140(v24, *(const char **)v5, (int)&v30);
        result = sub_1000BF80(2, (int)v26, 4);
      }
      v5 += 40;
      --v25;
    }
    while ( v25 );
  }
  return result;
}
// 10007B30: using guessed type int var_414[4];

//----- (10007D40) --------------------------------------------------------
char *__usercall sub_10007D40@<eax>(const char *a1@<ecx>, const char *a2@<ebx>, int a3, char *a4, int a5, char a6)
{
  const char *v6; // edi@1
  char *v7; // eax@1
  char *v8; // ecx@1
  char *v9; // eax@3
  char *result; // eax@3
  int v11[2]; // [sp+Ch] [bp-20Ch]@2
  char v12; // [sp+14h] [bp-204h]@1
  char v13; // [sp+114h] [bp-104h]@3

  v6 = a1;
  v7 = 0;
  v8 = &v12;
  do
  {
    v11[(signed int)v7] = (int)v8;
    *v8 = 0;
    ++v7;
    v8 += 256;
  }
  while ( (unsigned int)v7 < 2 );
  LOBYTE(v7) = 0;
  v9 = sub_10007140(v7, v6, (int)&v12);
  LOBYTE(v9) = 0;
  result = sub_10007140(v9, a2, (int)&v13);
  if ( v13 )
    result = (char *)sub_1000BF80(2, (int)v11, 2);
  if ( a6 )
  {
    sub_10007B30(a3, (int)a4, a5, a2, 0);
    result = sub_100072E0(a3, a4, a5, 0);
  }
  return result;
}
// 10007D40: using guessed type int var_20C[2];

//----- (10007E00) --------------------------------------------------------
char *__cdecl sub_10007E00(char a1)
{
  int (**i)(void); // edi@1
  int v2; // esi@3
  char *v3; // ebx@3
  char **v4; // esi@4
  signed int v5; // edi@4
  char *result; // eax@5

  for ( i = (int (**)(void))dword_100D0908[sub_10006FF0()]; i; ++i )
  {
    if ( !*i )
      break;
    v2 = (*i)();
    v3 = sub_10006FA0((char **)v2);
    sub_10007D40("suite", v3, *(_DWORD *)(v2 + 8), *(char **)(v2 + 12), *(_DWORD *)(v2 + 16), a1);
  }
  v4 = (char **)(sub_10007A10() + 36);
  v5 = 5;
  do
  {
    result = *v4;
    if ( *v4 )
    {
      if ( *((_DWORD *)result + 2) )
        result = sub_10007D40(
                   "listener",
                   *(const char **)result,
                   *((_DWORD *)result + 3),
                   *((char **)result + 4),
                   *((_DWORD *)result + 2),
                   a1);
    }
    ++v4;
    --v5;
  }
  while ( v5 );
  return result;
}
// 100D0908: using guessed type int dword_100D0908[];

//----- (10007EA0) --------------------------------------------------------
int *__cdecl sub_10007EA0(_BYTE *a1)
{
  int (**v1)(void); // edi@1
  char **v2; // eax@3
  char **v3; // esi@3
  char *v4; // eax@3
  char *v5; // eax@6
  char *v6; // ebx@7
  unsigned int v7; // esi@7
  int **v8; // edi@7
  int *result; // eax@8

  v1 = (int (**)(void))dword_100D0908[sub_10006FF0()];
  if ( v1 )
  {
    while ( *v1 )
    {
      v2 = (char **)(*v1)();
      v3 = v2;
      v4 = sub_10006FA0(v2);
      if ( !sub_100070A0(a1, (int)v4) )
      {
        v5 = sub_10006FA0(v3);
        sub_10007D40("suite", v5, (int)v3[2], v3[3], (int)v3[4], 1);
        break;
      }
      ++v1;
      if ( !v1 )
        break;
    }
  }
  v6 = sub_10007A10();
  v7 = 0;
  v8 = (int **)(v6 + 36);
  while ( 1 )
  {
    result = *v8;
    if ( *v8 )
    {
      result = (int *)sub_100070A0(a1, *result);
      if ( !result )
        break;
    }
    ++v7;
    ++v8;
    if ( v7 >= 5 )
      return result;
  }
  return (int *)sub_10007D40(
                  "listener",
                  **(const char ***)&v6[4 * v7 + 36],
                  *(_DWORD *)(*(_DWORD *)&v6[4 * v7 + 36] + 12),
                  *(char **)(*(_DWORD *)&v6[4 * v7 + 36] + 16),
                  *(_DWORD *)(*(_DWORD *)&v6[4 * v7 + 36] + 8),
                  1);
}
// 100D0908: using guessed type int dword_100D0908[];

//----- (10007F60) --------------------------------------------------------
int __usercall sub_10007F60@<eax>(int a1@<eax>)
{
  int v1; // edi@1
  bool v2; // zf@1
  int result; // eax@1
  signed int v4; // ebp@3
  int v5; // eax@5
  int v6; // eax@8
  int v7; // ecx@14
  int v8; // esi@18
  unsigned int v9; // eax@18
  int v10; // eax@19
  int v11; // edi@25

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 20) == 0;
  result = 12;
  if ( !v2 && !*(_BYTE *)(v1 + 24) )
  {
    v4 = 2;
    if ( !*(_DWORD *)(v1 + 16) )
    {
      *(_DWORD *)(v1 + 16) = sub_100071C0(++*(_DWORD *)(v1 + 12));
      *(_DWORD *)(v1 + 8) = 0;
      *(_DWORD *)(v1 + 4) = 0;
    }
    v5 = *(_DWORD *)(v1 + 16);
    if ( v5 )
    {
      if ( *(_DWORD *)(v1 + 20) == 1 )
      {
        sub_10007A80(v1, v5, *(_DWORD *)(v1 + 8));
        v6 = sub_100071C0(++*(_DWORD *)(v1 + 12));
        v2 = *(_DWORD *)(v1 + 28) == 0;
        *(_DWORD *)(v1 + 16) = v6;
        *(_DWORD *)(v1 + 8) = 0;
        if ( !v2 || !v6 )
          *(_BYTE *)(v1 + 24) = 1;
      }
      else if ( *(_DWORD *)(v1 + 28) == 2 )
      {
        sub_10007A80(v1, v5, *(_DWORD *)(v1 + 8));
        *(_BYTE *)(v1 + 24) = 1;
      }
      else if ( *(_DWORD *)(v1 + 8)
             || (*(_DWORD *)(v1 + 4) = 0, v7 = *(_DWORD *)(v5 + 8), (*(_DWORD *)(v1 + 8) = v7) != 0) )
      {
        if ( !*(_DWORD *)(v1 + 4) )
          sub_10007490(v5);
        sub_10007200(
          (_DWORD *)v1,
          *(void (__cdecl **)(signed int, void *))(*(_DWORD *)(v1 + 16) + 16),
          *(_DWORD *)(v1 + 8));
        v8 = *(_DWORD *)(v1 + 16);
        v9 = ++*(_DWORD *)(v1 + 4);
        if ( *(_DWORD *)(v8 + 12) > v9 )
        {
          *(_DWORD *)(v1 + 8) = *(_DWORD *)(v8 + 8) + 40 * v9;
        }
        else
        {
          sub_100074C0(v8);
          v10 = sub_100071C0(++*(_DWORD *)(v1 + 12));
          *(_DWORD *)(v1 + 16) = v10;
          *(_DWORD *)(v1 + 4) = 0;
          *(_DWORD *)(v1 + 8) = 0;
          if ( !v10 || *(_DWORD *)(v1 + 28) )
            *(_BYTE *)(v1 + 24) = 1;
        }
      }
      else
      {
        *(_BYTE *)(v1 + 24) = 1;
        v4 = 12;
      }
    }
    else
    {
      *(_BYTE *)(v1 + 24) = 1;
      v4 = 12;
    }
    if ( *(_BYTE *)(v1 + 24) && v4 == 2 )
    {
      v11 = *(_DWORD *)v1;
      if ( v11 )
        result = v11 + 12;
      else
        result = 0;
    }
    else
    {
      result = v4;
    }
  }
  return result;
}

//----- (100080C0) --------------------------------------------------------
signed int __usercall sub_100080C0@<eax>(int a1@<esi>)
{
  signed int v1; // ebp@1
  int (**i)(void); // edi@2
  int v3; // eax@4
  signed int result; // eax@5

  v1 = 0;
  if ( *(_DWORD *)(a1 + 20) )
  {
    if ( *(_BYTE *)(a1 + 24) )
    {
      *(_DWORD *)(a1 + 16) = 0;
      *(_DWORD *)(a1 + 8) = 0;
      *(_DWORD *)(a1 + 12) = 0;
      *(_DWORD *)(a1 + 4) = 0;
      *(_DWORD *)(a1 + 28) = 0;
      *(_BYTE *)(a1 + 24) = 0;
      result = 1;
    }
    else
    {
      result = 12;
    }
  }
  else
  {
    for ( i = (int (**)(void))dword_100D0908[sub_10006FF0()]; i; ++i )
    {
      if ( !*i )
        break;
      v3 = (*i)();
      v1 += sub_10007A80(a1, v3, 0);
    }
    result = v1;
  }
  return result;
}
// 100D0908: using guessed type int dword_100D0908[];

//----- (10008130) --------------------------------------------------------
int __cdecl sub_10008130(int a1, int a2)
{
  int v2; // ebx@1
  char *v3; // esi@1
  int v4; // ebx@3
  int result; // eax@3
  _BYTE *v6; // esi@5
  int v7; // ebx@6
  int v8; // ebx@8
  int v9; // ebx@9
  int (**i)(void); // edi@11
  int v11; // eax@13
  int (__cdecl *v12)(int, int); // eax@14
  int (**v13)(void); // esi@19
  int v14; // eax@21
  int (__cdecl *v15)(int, int); // eax@22

  v2 = 0;
  v3 = sub_10007A10();
  switch ( a1 )
  {
    case 9:
      sub_1000BFF0(2, (unsigned int)"begin");
      if ( *(_DWORD *)a2 )
      {
        if ( *(_DWORD *)a2 == 5 )
        {
          v6 = (_BYTE *)(a2 + 4);
          if ( sub_100070A0((_BYTE *)(a2 + 4), (int)"-v") )
          {
            if ( sub_100070A0(v6, (int)"-q") )
            {
              sub_10007EA0(v6);
              v9 = sub_10007960();
              sub_1000BFF0(2, (unsigned int)"end");
              result = v9;
            }
            else
            {
              sub_10007E00(0);
              v8 = sub_10007960();
              sub_1000BFF0(2, (unsigned int)"end");
              result = v8;
            }
          }
          else
          {
            sub_10007E00(1);
            v7 = sub_10007960();
            sub_1000BFF0(2, (unsigned int)"end");
            result = v7;
          }
        }
        else
        {
          sub_1000C040(
            3,
            (int)"**Error**",
            (int)"..\\lib\\utf\\utf_runner.c",
            (int)"1719",
            (int)"Unsupported argument type for help command (internal error)");
          sub_1000BFF0(2, (unsigned int)"end");
          result = 4;
        }
      }
      else
      {
        sub_10007E00(0);
        v4 = sub_10007960();
        sub_1000BFF0(2, (unsigned int)"end");
        result = v4;
      }
      return result;
    case 2:
      sub_1000BFF0(0, (unsigned int)"Global reset command");
      for ( i = (int (**)(void))dword_100D0908[sub_10006FF0()]; i; ++i )
      {
        if ( !*i )
          break;
        v11 = (*i)();
        if ( v11 )
        {
          v12 = *(int (__cdecl **)(int, int))(v11 + 16);
          if ( v12 )
          {
            if ( v12 != sub_10008130 )
              v12(2, (int)&unk_10059520);
          }
        }
      }
      sub_1000C280();
      v3[34] = 0;
      return 0;
    case 3:
      sub_1000BFF0(1, (unsigned int)"Global clear command");
      v13 = (int (**)(void))dword_100D0908[sub_10006FF0()];
      if ( !v13 )
        return v2;
      break;
    case 10:
      if ( !*((_DWORD *)v3 + 5) )
      {
        sub_1000C040(3, (int)"**Error**", (int)"..\\lib\\utf\\utf_runner.c", (int)"1764", (int)"Step mode not enabled");
        goto LABEL_29;
      }
      return sub_10007F60((int)v3);
    case 11:
      if ( v3[24] )
      {
        *((_DWORD *)v3 + 5) = 0;
        v3[24] = 0;
        result = 0;
      }
      else
      {
        sub_1000C040(3, (int)"**Error**", (int)"..\\lib\\utf\\utf_runner.c", (int)"1783", (int)"Step mode is busy");
LABEL_29:
        result = 12;
      }
      return result;
    case 12:
      *((_DWORD *)v3 + 5) = 1;
      return 0;
    case 13:
      *((_DWORD *)v3 + 5) = 2;
      return 0;
    case 8:
      return sub_100080C0((int)v3);
    case 14:
      exit_1(12);
      return result;
    case 4:
    case 5:
    case 6:
    case 7:
      return v2;
    default:
      sub_1000C040(
        3,
        (int)"**Warning**",
        (int)"..\\lib\\utf\\utf_runner.c",
        (int)"1820",
        (int)"Unknown/unsupported command (internal error)");
      return 4;
  }
  while ( *v13 )
  {
    v14 = (*v13)();
    if ( v14 )
    {
      v15 = *(int (__cdecl **)(int, int))(v14 + 16);
      if ( v15 )
      {
        if ( v15 != sub_10008130 )
          v15(3, (int)&unk_10059520);
      }
    }
    ++v13;
    if ( !v13 )
      return 0;
  }
  return v2;
}
// 10008130: using guessed type int __cdecl sub_10008130(int, int);
// 100D0908: using guessed type int dword_100D0908[];

//----- (10008410) --------------------------------------------------------
int __cdecl sub_10008410(int a1, unsigned int a2)
{
  unsigned int v2; // ecx@1
  int result; // eax@1
  unsigned int v4; // edx@1
  char v5; // bl@8
  char v6; // dl@13
  char v7; // cl@13

  v2 = a2 / 0x15180 % 0x5B5;
  result = a1;
  v4 = 4 * (a2 / 0x15180 / 0x5B5) + 1990;
  *(_WORD *)(a1 + 2) = v4;
  if ( v2 > 0x16D )
  {
    do
    {
      v2 -= 365;
      if ( !((unsigned __int16)v4 % 4) )
        --v2;
      LOWORD(v4) = v4 + 1;
    }
    while ( v2 > 0x16D );
    *(_WORD *)(a1 + 2) = v4;
  }
  if ( v2 >= 1 )
  {
    v5 = 0;
    if ( v2 > 0x3B && !(*(_WORD *)(a1 + 2) % 4) )
    {
      --v2;
      v5 = 1;
    }
    *(_BYTE *)a1 = 12;
    if ( v2 <= 0x14E )
    {
      do
        --*(_BYTE *)a1;
      while ( v2 <= *(_WORD *)&word_10059DB2[2 * *(_BYTE *)a1] );
    }
    v6 = *(_BYTE *)a1;
    v7 = v2 - word_10059DB2[2 * *(_BYTE *)a1];
    *(_BYTE *)(a1 + 1) = v7;
    if ( v5 == 1 && v6 == 2 )
      *(_BYTE *)(a1 + 1) = v7 + 1;
  }
  else
  {
    --*(_WORD *)(a1 + 2);
    *(_BYTE *)a1 = 12;
    *(_BYTE *)(a1 + 1) = 31;
  }
  return result;
}

//----- (10008500) --------------------------------------------------------
__int16 __cdecl sub_10008500(int a1, unsigned int a2)
{
  unsigned int v2; // ecx@1
  __int16 result; // ax@1

  v2 = a2 % 0x15180 % 0xE10;
  *(_WORD *)a1 = a2 % 0x15180 / 0xE10;
  *(_BYTE *)(a1 + 2) = v2 / 0x3C;
  result = 60 * (char)(v2 / 0x3C);
  *(_BYTE *)(a1 + 3) = v2 % 0x3C;
  return result;
}

//----- (10008550) --------------------------------------------------------
__int16 __cdecl sub_10008550(unsigned int *a1, _WORD *a2, _WORD *a3)
{
  unsigned int v3; // esi@1
  __int16 result; // ax@1
  int v5; // [sp+4h] [bp-Ch]@1
  int v6; // [sp+8h] [bp-8h]@1

  v3 = *a1;
  sub_10008500((int)&v5, *a1);
  sub_10008410((int)&v6, v3);
  *a3 = (unsigned __int8)(BYTE3(v5) >> 1) | (unsigned __int16)(32 * (BYTE2(v5) | (unsigned __int16)((_WORD)v5 << 6)));
  result = BYTE1(v6);
  *a2 = BYTE1(v6) | (unsigned __int16)(32 * ((unsigned __int8)v6 | (unsigned __int16)(16 * (HIWORD(v6) - 60))));
  return result;
}

//----- (100085D0) --------------------------------------------------------
signed int __cdecl sub_100085D0(_BYTE *a1, char a2, int a3)
{
  signed int result; // eax@1

  result = -4;
  if ( a3 && a3 != 1 || (!*a1 || *a1 == 1 ? (result = 0) : (result = -2), a3 != 1) )
  {
    if ( a3 != 2 )
      return result;
    goto LABEL_11;
  }
  if ( result )
  {
LABEL_11:
    *a1 = a2;
    result = 1;
  }
  return result;
}

//----- (10008620) --------------------------------------------------------
int __cdecl sub_10008620(int a1, float a2, float a3, int a4, int a5)
{
  int v5; // ecx@1
  int v6; // esi@1
  char v7; // dl@4
  char v8; // al@4
  char v9; // dl@4
  int result; // eax@5
  double v11; // st7@7
  unsigned int v12; // eax@21

  v5 = a1;
  v6 = a1 & 3;
  if ( a1 & 3 || (unsigned int)&a1 & 3 )
  {
    v7 = *(_BYTE *)(a1 + 1);
    LOBYTE(a1) = *(_BYTE *)a1;
    v8 = *(_BYTE *)(v5 + 2);
    BYTE1(a1) = v7;
    v9 = *(_BYTE *)(v5 + 3);
    BYTE2(a1) = v8;
    BYTE3(a1) = v9;
  }
  else
  {
    a1 = *(int *)a1;
  }
  result = -4;
  if ( a5 && a5 != 1
    || ((v11 = *(float *)&a1, (a1 & 0x7F800000) != 2139095040) ? (a2 <= v11 ? (a3 >= v11 ? (result = 0) : (result = -2)) : (result = -1)) : (result = -3),
        a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
  }
  else if ( !result )
  {
    return result;
  }
  if ( (unsigned int)&a4 & 3 || v6 )
  {
    v12 = a4;
    *(_BYTE *)(v5 + 1) = BYTE1(a4);
    *(_BYTE *)v5 = v12;
    *(_BYTE *)(v5 + 3) = BYTE3(v12);
    *(_BYTE *)(v5 + 2) = v12 >> 16;
    result = 1;
  }
  else
  {
    *(_DWORD *)v5 = a4;
    result = 1;
  }
  return result;
}

//----- (10008710) --------------------------------------------------------
unsigned int __cdecl sub_10008710(char *a1, char a2, char a3, char a4, int a5)
{
  char v5; // dl@1
  unsigned int result; // eax@1
  int v7; // eax@5

  v5 = *a1;
  result = -4;
  if ( a5 && a5 != 1
    || (v5 >= a2 ? (v7 = v5 < a3, LOBYTE(v7) = v5 <= a3, result = (v7 - 1) & 0xFFFFFFFE) : (result = -1), a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
    goto LABEL_10;
  }
  if ( result )
  {
LABEL_10:
    *a1 = a4;
    result = 1;
  }
  return result;
}

//----- (10008760) --------------------------------------------------------
unsigned int __cdecl sub_10008760(_BYTE *a1, signed int a2, signed int a3, signed int a4, int a5)
{
  _BYTE *v5; // ecx@1
  int v6; // edi@1
  unsigned int result; // eax@1
  _BYTE *v8; // esi@3
  int v9; // eax@9
  signed int v10; // eax@17

  v5 = a1;
  v6 = (unsigned __int8)a1 & 3;
  result = -4;
  if ( (unsigned __int8)a1 & 3 || (unsigned int)&a1 & 3 )
  {
    LOBYTE(a1) = *a1;
    BYTE1(a1) = v5[1];
    BYTE2(a1) = v5[2];
    BYTE3(a1) = v5[3];
    v8 = a1;
  }
  else
  {
    v8 = *(_BYTE **)a1;
  }
  if ( a5 && a5 != 1
    || ((signed int)v8 >= a2 ? (v9 = (signed int)v8 < a3,
                                LOBYTE(v9) = (signed int)v8 <= a3,
                                result = (v9 - 1) & 0xFFFFFFFE) : (result = -1),
        a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
  }
  else if ( !result )
  {
    return result;
  }
  if ( (unsigned int)&a4 & 3 || v6 )
  {
    v10 = a4;
    v5[1] = BYTE1(a4);
    *v5 = v10;
    v5[3] = BYTE3(v10);
    v5[2] = v10 >> 16;
    result = 1;
  }
  else
  {
    result = 1;
    *(_DWORD *)v5 = a4;
  }
  return result;
}

//----- (10008820) --------------------------------------------------------
unsigned int __cdecl sub_10008820(void *a1, size_t a2, int a3)
{
  unsigned int result; // eax@1
  int v4; // eax@3
  int v5; // ecx@3
  unsigned int v6; // ecx@3

  result = -4;
  if ( a3 && a3 != 1
    || (v4 = sub_100056F0(a1, a2), v5 = v4 < 0, LOBYTE(v5) = v4 >= 0, v6 = (v5 - 1) & 0xFFFFFFFC, result = v6, a3 != 1) )
  {
    if ( a3 != 2 )
      return result;
    goto LABEL_7;
  }
  if ( v6 )
  {
LABEL_7:
    memset(a1, 0, a2);
    result = 1;
  }
  return result;
}

//----- (10008880) --------------------------------------------------------
int __cdecl sub_10008880(unsigned __int8 *a1, unsigned __int8 a2, unsigned __int8 a3, unsigned __int8 a4, int a5)
{
  unsigned __int8 v5; // dl@1
  int result; // eax@1

  v5 = *a1;
  result = -4;
  if ( a5 && a5 != 1 || (v5 >= a2 ? (result = a3 < v5 ? 0xFFFFFFFE : 0) : (result = -1), a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
    goto LABEL_10;
  }
  if ( result )
  {
LABEL_10:
    *a1 = a4;
    result = 1;
  }
  return result;
}

//----- (100088D0) --------------------------------------------------------
int __cdecl sub_100088D0(_BYTE *a1, unsigned __int16 a2, unsigned __int16 a3, __int16 a4, int a5)
{
  _BYTE *v5; // edx@1
  int v6; // esi@1
  int result; // eax@1
  char v8; // ah@17

  v5 = a1;
  v6 = (unsigned __int8)a1 & 1;
  result = -4;
  if ( (unsigned __int8)a1 & 1 || (unsigned int)&a1 & 1 )
  {
    LOBYTE(a1) = *a1;
    BYTE1(a1) = v5[1];
  }
  else
  {
    a1 = (_BYTE *)*(_WORD *)a1;
  }
  if ( a5 && a5 != 1
    || ((unsigned __int16)a1 >= a2 ? (result = a3 < (unsigned __int16)a1 ? 0xFFFFFFFE : 0) : (result = -1), a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
  }
  else if ( !result )
  {
    return result;
  }
  if ( (unsigned int)&a4 & 1 || v6 )
  {
    v8 = HIBYTE(a4);
    *v5 = a4;
    v5[1] = v8;
    result = 1;
  }
  else
  {
    *(_WORD *)v5 = a4;
    result = 1;
  }
  return result;
}

//----- (10008970) --------------------------------------------------------
int __cdecl sub_10008970(_BYTE *a1, unsigned int a2, unsigned int a3, unsigned int a4, int a5)
{
  _BYTE *v5; // ecx@1
  int v6; // edi@1
  int result; // eax@1
  _BYTE *v8; // esi@3
  unsigned int v9; // eax@17

  v5 = a1;
  v6 = (unsigned __int8)a1 & 3;
  result = -4;
  if ( (unsigned __int8)a1 & 3 || (unsigned int)&a1 & 3 )
  {
    LOBYTE(a1) = *a1;
    BYTE1(a1) = v5[1];
    BYTE2(a1) = v5[2];
    BYTE3(a1) = v5[3];
    v8 = a1;
  }
  else
  {
    v8 = *(_BYTE **)a1;
  }
  if ( a5 && a5 != 1
    || ((unsigned int)v8 >= a2 ? (result = a3 < (unsigned int)v8 ? 0xFFFFFFFE : 0) : (result = -1), a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
  }
  else if ( !result )
  {
    return result;
  }
  if ( (unsigned int)&a4 & 3 || v6 )
  {
    v9 = a4;
    v5[1] = BYTE1(a4);
    *v5 = v9;
    v5[3] = BYTE3(v9);
    v5[2] = v9 >> 16;
    result = 1;
  }
  else
  {
    result = 1;
    *(_DWORD *)v5 = a4;
  }
  return result;
}

//----- (10008A20) --------------------------------------------------------
unsigned int __cdecl sub_10008A20(char *a1)
{
  return sub_10008710(a1, -100, 100, 0, 0);
}

//----- (10008A40) --------------------------------------------------------
int __cdecl sub_10008A40(_BYTE *a1)
{
  return sub_10008970(a1, 0x1CCF0u, 0x2171Eu, 0x2171Eu, 0);
}

//----- (10008A60) --------------------------------------------------------
int __cdecl sub_10008A60(unsigned __int8 *a1)
{
  return sub_10008880(a1, 0, 1u, 1u, 0);
}

//----- (10008A80) --------------------------------------------------------
unsigned int __cdecl sub_10008A80(int a1, int a2)
{
  signed int v2; // ebx@1
  unsigned int result; // eax@1

  v2 = 0;
  result = sub_100085D0((_BYTE *)(a1 + 6), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 15), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 16), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  if ( sub_10008880((unsigned __int8 *)(a1 + 12), 0, 0xFFu, 0, a2) == 1 )
    v2 = 1;
  result = sub_100085D0((_BYTE *)a1, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 21), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 2), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 9), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 3), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 19), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10008710((char *)(a1 + 14), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 8), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 22), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10008880((unsigned __int8 *)(a1 + 7), 0, 0x40u, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 10), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 20), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 5), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 11), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10008880((unsigned __int8 *)(a1 + 4), 0, 0x40u, 0x30u, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 23), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 13), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 1), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 18), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10008710((char *)(a1 + 17), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 24), 0, a2);
  if ( result != 1 && !result )
    result = v2;
  return result;
}

//----- (10008DB0) --------------------------------------------------------
unsigned int __cdecl sub_10008DB0(int a1, int a2)
{
  signed int v2; // ebx@1
  unsigned int result; // eax@1

  v2 = 0;
  result = sub_100085D0((_BYTE *)(a1 + 21), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 24), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 26), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10008710((char *)(a1 + 10), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 30), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 31), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 27), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 29), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 28), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 18), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 17), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 8), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 23), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 22), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10008710((char *)(a1 + 13), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10008710((char *)(a1 + 5), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10008710((char *)a1, -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10008710((char *)(a1 + 1), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10008710((char *)(a1 + 2), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10008710((char *)(a1 + 3), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10008710((char *)(a1 + 4), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 15), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 16), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10008710((char *)(a1 + 12), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 14), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10008710((char *)(a1 + 11), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10008710((char *)(a1 + 7), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 20), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 19), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10008710((char *)(a1 + 9), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100085D0((_BYTE *)(a1 + 25), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10008710((char *)(a1 + 6), -31, 31, 0, a2);
  if ( result != 1 && !result )
    result = v2;
  return result;
}

//----- (100091F0) --------------------------------------------------------
unsigned int __cdecl sub_100091F0(_BYTE *a1)
{
  return sub_10008760(a1, -1, 5, -1, 0);
}

//----- (10009210) --------------------------------------------------------
int __cdecl sub_10009210(unsigned __int8 *a1)
{
  return sub_10008880(a1, 0, 5u, 0, 0);
}

//----- (10009230) --------------------------------------------------------
int __cdecl sub_10009230(unsigned __int8 *a1)
{
  return sub_10008880(a1, 0, 4u, 2u, 0);
}

//----- (10009250) --------------------------------------------------------
int __cdecl sub_10009250(_BYTE *a1)
{
  return sub_10008970(a1, 0, 2u, 0, 0);
}

//----- (10009270) --------------------------------------------------------
int __cdecl sub_10009270(int a1)
{
  return sub_10008620(a1, 0.1, 4.0, COERCE_INT(1.5), 0);
}

//----- (100092C0) --------------------------------------------------------
int __cdecl sub_100092C0(unsigned __int8 *a1)
{
  int result; // eax@1

  result = sub_10009270((int)(a1 + 4));
  if ( !result )
    result = sub_10009230(a1);
  return result;
}

//----- (100092E0) --------------------------------------------------------
int __cdecl sub_100092E0(int a1)
{
  int result; // eax@1

  result = sub_10009210((unsigned __int8 *)(a1 + 1));
  if ( !result )
  {
    result = sub_10009210((unsigned __int8 *)(a1 + 2));
    if ( !result )
    {
      result = sub_10009210((unsigned __int8 *)(a1 + 3));
      if ( !result )
      {
        result = sub_1000C2B0((unsigned __int8 *)(a1 + 7));
        if ( !result )
        {
          result = sub_100085D0((_BYTE *)(a1 + 5), 0, 0);
          if ( !result )
          {
            result = sub_100085D0((_BYTE *)a1, 0, 0);
            if ( !result )
            {
              result = sub_100085D0((_BYTE *)(a1 + 4), 0, 0);
              if ( !result )
                result = sub_100085D0((_BYTE *)(a1 + 6), 0, 0);
            }
          }
        }
      }
    }
  }
  return result;
}

//----- (10009370) --------------------------------------------------------
unsigned int __cdecl sub_10009370(int a1)
{
  unsigned int result; // eax@1

  result = sub_100091F0((_BYTE *)a1);
  if ( !result )
    result = sub_100091F0((_BYTE *)(a1 + 4));
  return result;
}

//----- (10009390) --------------------------------------------------------
signed int __cdecl sub_10009390(int a1)
{
  int v1; // esi@1
  signed int result; // eax@2
  signed int v3; // esi@4

  v1 = 0;
  while ( 1 )
  {
    result = sub_100085D0((_BYTE *)(v1 + a1), 0, 0);
    if ( result )
      break;
    if ( ++v1 >= 6 )
    {
      v3 = 0;
      do
      {
        result = sub_100085D0((_BYTE *)(a1 + v3 + 6), 0, 0);
        if ( result )
          break;
        ++v3;
      }
      while ( v3 < 6 );
      return result;
    }
  }
  return result;
}

//----- (100093E0) --------------------------------------------------------
unsigned int __cdecl sub_100093E0(int a1)
{
  unsigned int result; // eax@1

  result = sub_100091F0((_BYTE *)a1);
  if ( !result )
  {
    result = sub_100091F0((_BYTE *)(a1 + 4));
    if ( !result )
    {
      result = sub_100091F0((_BYTE *)(a1 + 8));
      if ( !result )
      {
        result = sub_100091F0((_BYTE *)(a1 + 12));
        if ( !result )
          result = sub_100085D0((_BYTE *)(a1 + 16), 1, 0);
      }
    }
  }
  return result;
}

//----- (10009440) --------------------------------------------------------
int __cdecl sub_10009440(_BYTE *a1)
{
  return sub_10008970(a1, 0, 0x20u, 2u, 0);
}

//----- (10009460) --------------------------------------------------------
unsigned int __cdecl sub_10009460(_BYTE *a1)
{
  return sub_10008760(a1, -1, 4, -1, 0);
}

//----- (10009480) --------------------------------------------------------
int __cdecl sub_10009480(unsigned __int8 *a1)
{
  return sub_10008880(a1, 0, 9u, 0, 0);
}

//----- (100094A0) --------------------------------------------------------
int __cdecl sub_100094A0(_BYTE *a1)
{
  return sub_10008970(a1, 0x81u, 0xFFu, 0xC0u, 0);
}

//----- (100094C0) --------------------------------------------------------
signed int __cdecl sub_100094C0(_BYTE *a1, int a2)
{
  bool v2; // zf@1
  signed int result; // eax@1

  v2 = sub_10008970(a1, 0, 0xFFFFFFFF, 0, a2) == 1;
  result = 1;
  if ( !v2 )
    result = 0;
  return result;
}

//----- (100094F0) --------------------------------------------------------
int __cdecl sub_100094F0(_BYTE *a1, int a2)
{
  int result; // eax@1

  result = sub_100088D0(a1, 0, 0xFFFu, 640, a2);
  if ( result != 1 && !result )
    result = 0;
  return result;
}

//----- (10009530) --------------------------------------------------------
int __cdecl sub_10009530(int a1, int a2)
{
  signed int v2; // ebx@1
  int result; // eax@3

  v2 = 0;
  if ( sub_100094C0((_BYTE *)(a1 + 8), a2) == 1 )
    v2 = 1;
  result = sub_100094F0((_BYTE *)(a1 + 2), a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100094F0((_BYTE *)(a1 + 4), a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10005A10((unsigned __int8 *)a1, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_100094F0((_BYTE *)(a1 + 6), a2);
  if ( result != 1 && !result )
    result = v2;
  return result;
}

//----- (100095C0) --------------------------------------------------------
int __cdecl sub_100095C0(unsigned __int8 *a1)
{
  return sub_10008880(a1, 0, 2u, 0, 0);
}

//----- (100095E0) --------------------------------------------------------
int __cdecl sub_100095E0(int a1)
{
  int result; // eax@1

  result = sub_10008880((unsigned __int8 *)a1, 0, 0x78u, 0, 0);
  if ( !result )
    result = sub_10008880((unsigned __int8 *)(a1 + 1), 0, 0x78u, 0, 0);
  return result;
}

//----- (10009610) --------------------------------------------------------
int __cdecl sub_10009610(unsigned __int8 *a1)
{
  return sub_10008880(a1, 0, 3u, 1u, 0);
}

//----- (10009630) --------------------------------------------------------
unsigned int __cdecl sub_10009630(int a1)
{
  unsigned int result; // eax@1

  result = sub_10008760((_BYTE *)a1, -1, 5, -1, 0);
  if ( !result )
    result = sub_10008760((_BYTE *)(a1 + 4), -1, 5, -1, 0);
  return result;
}

//----- (10009660) --------------------------------------------------------
int __cdecl sub_10009660(int a1)
{
  int result; // eax@1

  result = sub_10008620(a1, 0.0, 5.0, COERCE_INT(0.23), 0);
  if ( !result )
  {
    result = sub_10008620(a1 + 4, -10.0, 10.0, COERCE_INT(0.0), 0);
    if ( !result )
    {
      result = sub_10008620(a1 + 8, 0.0, 12.9, COERCE_INT(0.86000001), 0);
      if ( !result )
      {
        result = sub_10008620(a1 + 12, 0.0, 5.0, COERCE_INT(0.23), 0);
        if ( !result )
          result = sub_10008620(a1 + 16, -10.0, 10.0, COERCE_INT(0.0), 0);
      }
    }
  }
  return result;
}

//----- (10009750) --------------------------------------------------------
int __cdecl sub_10009750(int a1)
{
  int v1; // edi@1
  int result; // eax@2

  v1 = 0;
  while ( 1 )
  {
    result = sub_100085D0((_BYTE *)(a1 + v1 + 44), 0, 0);
    if ( result )
      break;
    if ( ++v1 >= 6 )
    {
      result = sub_10008880((unsigned __int8 *)(a1 + 1), 0, 3u, 1u, 0);
      if ( !result )
      {
        result = sub_10009630(a1 + 36);
        if ( !result )
        {
          result = sub_10008620(a1 + 52, -9.9999996e24, 9.9999996e24, COERCE_INT(77.166664), 0);
          if ( !result )
          {
            result = sub_10009660(a1 + 8);
            if ( !result )
            {
              result = sub_10009630(a1 + 28);
              if ( !result )
              {
                result = sub_100088D0((_BYTE *)(a1 + 2), 0x1F4u, 0x800u, 600, 0);
                if ( !result )
                {
                  result = sub_100095C0((unsigned __int8 *)(a1 + 50));
                  if ( !result )
                  {
                    result = sub_100095E0(a1 + 57);
                    if ( !result )
                    {
                      result = sub_100085D0((_BYTE *)(a1 + 56), 0, 0);
                      if ( !result )
                        result = sub_10009610((unsigned __int8 *)(a1 + 51));
                    }
                  }
                }
              }
            }
          }
        }
      }
      return result;
    }
  }
  return result;
}

//----- (10009860) --------------------------------------------------------
signed int __cdecl sub_10009860(_BYTE *a1, int a2)
{
  bool v2; // zf@1
  signed int result; // eax@1

  v2 = sub_100088D0(a1, 0, 0xFFFFu, 0, a2) == 1;
  result = 1;
  if ( !v2 )
    result = 0;
  return result;
}

//----- (10009890) --------------------------------------------------------
signed int __cdecl sub_10009890(unsigned __int8 *a1, int a2)
{
  bool v2; // zf@1
  signed int result; // eax@1

  v2 = sub_10008880(a1, 0, 0xFFu, 0, a2) == 1;
  result = 1;
  if ( !v2 )
    result = 0;
  return result;
}

//----- (100098C0) --------------------------------------------------------
int __cdecl sub_100098C0(unsigned __int8 *a1)
{
  return sub_10008880(a1, 0, 0x64u, 0x64u, 0);
}

//----- (10009920) --------------------------------------------------------
int __cdecl sub_10009920(int a1)
{
  int v1; // esi@1
  int result; // eax@2

  v1 = 0;
  while ( 1 )
  {
    result = sub_100085D0((_BYTE *)(v1 + a1 + 4), 0, 0);
    if ( result )
      break;
    if ( ++v1 >= 3 )
      return sub_100098C0((unsigned __int8 *)(a1 + 10));
  }
  return result;
}

//----- (10009930) --------------------------------------------------------
signed int __cdecl sub_10009930(_BYTE *a1, int a2)
{
  bool v2; // zf@1
  signed int result; // eax@1

  v2 = sub_10008970(a1, 0, 0xFFFFFFFF, 0xFFFFFFFF, a2) == 1;
  result = 1;
  if ( !v2 )
    result = 0;
  return result;
}

//----- (10009960) --------------------------------------------------------
int __cdecl sub_10009960(int a1, int a2)
{
  signed int v2; // ebp@1
  unsigned __int8 v3; // bl@1
  int result; // eax@3

  v2 = 0;
  v3 = 0;
  do
  {
    switch ( v3 )
    {
      case 4u:
      case 5u:
      case 6u:
      case 9u:
      case 0xAu:
        result = sub_10008880((unsigned __int8 *)(a1 + v3), 0, 0x3Fu, 0, a2);
        break;
      default:
        result = sub_10008880((unsigned __int8 *)(a1 + v3), 0, 0xFFu, 0xFFu, a2);
        break;
    }
    if ( result == 1 )
    {
      v2 = 1;
    }
    else if ( result )
    {
      return result;
    }
    ++v3;
  }
  while ( v3 < 0xDu );
  return v2;
}

//----- (100099E0) --------------------------------------------------------
unsigned int __cdecl sub_100099E0(int a1)
{
  unsigned int result; // eax@1

  result = sub_10008A20((char *)(a1 + 3));
  if ( !result )
  {
    result = sub_10008A20((char *)(a1 + 2));
    if ( !result )
    {
      result = sub_10008A20((char *)a1);
      if ( !result )
        result = sub_10008A20((char *)(a1 + 1));
    }
  }
  return result;
}

//----- (10009A20) --------------------------------------------------------
unsigned int __cdecl sub_10009A20(int a1)
{
  signed int v1; // esi@1
  int v2; // edi@1
  unsigned int result; // eax@2

  v1 = 0;
  v2 = a1;
  while ( 1 )
  {
    result = sub_100099E0(v2);
    if ( result )
      break;
    ++v1;
    v2 += 4;
    if ( v1 >= 3 )
    {
      result = sub_100095C0((unsigned __int8 *)(a1 + 12));
      if ( !result )
        result = sub_10008A60((unsigned __int8 *)(a1 + 13));
      return result;
    }
  }
  return result;
}

//----- (10009A70) --------------------------------------------------------
int __cdecl sub_10009A70(int a1)
{
  int result; // eax@1

  result = sub_10008A40((_BYTE *)(a1 + 4));
  if ( !result )
    result = sub_100088D0((_BYTE *)a1, 0, 0x3FFFu, 0x3FFF, 0);
  return result;
}

//----- (10009AA0) --------------------------------------------------------
int __cdecl sub_10009AA0(int a1)
{
  int result; // eax@1

  result = sub_10009250((_BYTE *)a1);
  if ( !result )
    result = sub_100094A0((_BYTE *)(a1 + 4));
  return result;
}

//----- (10009AD0) --------------------------------------------------------
unsigned int __cdecl sub_10009AD0(int a1)
{
  unsigned int result; // eax@1

  result = sub_100091F0((_BYTE *)a1);
  if ( !result )
  {
    result = sub_100091F0((_BYTE *)(a1 + 4));
    if ( !result )
      result = sub_10009460((_BYTE *)(a1 + 8));
  }
  return result;
}

//----- (10009B00) --------------------------------------------------------
unsigned int __cdecl sub_10009B00(int a1)
{
  unsigned int result; // eax@1

  result = sub_100091F0((_BYTE *)a1);
  if ( !result )
    result = sub_10009480((unsigned __int8 *)(a1 + 4));
  return result;
}

//----- (10009B20) --------------------------------------------------------
unsigned int __cdecl sub_10009B20(int a1)
{
  unsigned int result; // eax@1

  result = sub_100091F0((_BYTE *)a1);
  if ( !result )
  {
    result = sub_10008880((unsigned __int8 *)(a1 + 8), 0, 0x1Eu, 0x1Eu, 0);
    if ( !result )
      result = sub_10009460((_BYTE *)(a1 + 4));
  }
  return result;
}

//----- (10009B60) --------------------------------------------------------
void __cdecl __noreturn sub_10009B60(int a1)
{
  exit(a1 + 4);
}

//----- (10009CD0) --------------------------------------------------------
signed int __cdecl sub_10009CD0(int a1, int a2)
{
  signed int v2; // ebx@1
  bool v3; // zf@5
  signed int result; // eax@5

  v2 = 0;
  if ( sub_10009890((unsigned __int8 *)a1, a2) == 1 )
    v2 = 1;
  if ( sub_10009860((_BYTE *)(a1 + 2), a2) == 1 )
    v2 = 1;
  v3 = sub_10009890((unsigned __int8 *)(a1 + 1), a2) == 1;
  result = 1;
  if ( !v3 )
    result = v2;
  return result;
}

//----- (10009D30) --------------------------------------------------------
signed int __usercall sub_10009D30@<eax>(int a1@<eax>, int a2@<edi>)
{
  int v2; // esi@1
  signed int v3; // ebx@1
  char v4; // al@5
  signed int result; // eax@8
  int v6; // [sp+0h] [bp-Ch]@0

  v2 = a1;
  v3 = 0;
  if ( sub_10009CD0(a1, v6) == 1 )
    v3 = 1;
  if ( a2 == 2 )
  {
    *(_BYTE *)(v2 + 1) = 40;
    v3 = 1;
  }
  v4 = *(_BYTE *)(v2 + 1);
  if ( v4 == 26 || v4 == 12 )
  {
    result = sub_10008880((unsigned __int8 *)(v2 + 4), 0x20u, 0x20u, 0x20u, a2);
    if ( result == 1 )
    {
      v3 = 1;
    }
    else if ( result )
    {
      return result;
    }
    result = sub_100085D0((_BYTE *)(v2 + 37), 0, a2);
    if ( result == 1 )
    {
      v3 = 1;
    }
    else if ( result )
    {
      return result;
    }
    if ( *(_BYTE *)(v2 + 1) == 26 )
      result = sub_10008DB0(v2 + 5, a2);
    else
      result = sub_10008A80(v2 + 5, a2);
    if ( result != 1 )
    {
      if ( result )
        return result;
      goto LABEL_25;
    }
    return 1;
  }
  if ( v4 != 40 )
  {
    if ( a2 != 1 )
      return -4;
    *(_BYTE *)(v2 + 1) = 40;
    return 1;
  }
  result = sub_10009930((_BYTE *)(v2 + 4), a2);
  if ( result != 1 )
LABEL_25:
    result = v3;
  return result;
}

//----- (10009E00) --------------------------------------------------------
signed int __cdecl sub_10009E00(int a1)
{
  return sub_10009D30(a1, 0);
}

//----- (10009E10) --------------------------------------------------------
unsigned int __cdecl sub_10009E10(unsigned int a1)
{
  unsigned int result; // eax@4

  if ( a1 < 0xFFFFFFC2 && a1 && (a1 & 3) == 1 )
    result = a1 & 0xFFFFFFFC;
  else
    result = 0;
  return result;
}

//----- (10009E30) --------------------------------------------------------
bool __cdecl sub_10009E30(int a1)
{
  bool result; // al@1
  unsigned int v2; // eax@4
  _DWORD *v3; // edx@4
  _DWORD *v4; // esi@4
  int v5; // ecx@8
  int v6; // eax@9
  _BYTE *v7; // edx@9
  _BYTE *v8; // esi@9
  int v9; // eax@11
  _BYTE *v10; // edx@11
  _BYTE *v11; // esi@11
  _BYTE *v12; // edx@13
  _BYTE *v13; // esi@13
  int v14; // edx@14
  signed int v15; // eax@15

  result = *(_DWORD *)(a1 + 88) == ~*(_DWORD *)(a1 + 36);
  if ( *(_WORD *)(a1 + 30) != 99 || !result && *(_WORD *)(a1 + 684) != 2 )
    return result;
  v2 = 10;
  v3 = (_DWORD *)(a1 + 693);
  v4 = (_DWORD *)(a1 + 721);
  do
  {
    if ( *v4 != *v3 )
      goto LABEL_8;
    v2 -= 4;
    ++v3;
    ++v4;
  }
  while ( v2 >= 4 );
  if ( !v2 )
  {
LABEL_17:
    v15 = 0;
    return v15 == 0;
  }
LABEL_8:
  v5 = *(_BYTE *)v4 - *(_BYTE *)v3;
  if ( *(_BYTE *)v4 == *(_BYTE *)v3 )
  {
    v6 = v2 - 1;
    v7 = (char *)v3 + 1;
    v8 = (char *)v4 + 1;
    if ( !v6 )
      goto LABEL_17;
    v5 = *v8 - *v7;
    if ( *v8 == *v7 )
    {
      v9 = v6 - 1;
      v10 = v7 + 1;
      v11 = v8 + 1;
      if ( !v9 )
        goto LABEL_17;
      v5 = *v11 - *v10;
      if ( *v11 == *v10 )
      {
        v12 = v10 + 1;
        v13 = v11 + 1;
        if ( v9 == 1 )
          goto LABEL_17;
        v14 = *v12;
        v5 = *v13 - v14;
        if ( *v13 == v14 )
          goto LABEL_17;
      }
    }
  }
  v15 = 1;
  if ( v5 <= 0 )
    return 0;
  return v15 == 0;
}

//----- (10009F00) --------------------------------------------------------
int __cdecl sub_10009F00(int a1)
{
  return *(_WORD *)(a1 + 30) + *(_WORD *)(a1 + 32) + *(_WORD *)(a1 + 28) + 46;
}

//----- (10009F20) --------------------------------------------------------
int __cdecl sub_10009F20(int a1, int a2)
{
  int result; // eax@2

  if ( a2 )
    result = *(_WORD *)(a2 + 28) + *(_WORD *)(a2 + 26) + 30;
  else
    result = -16 - *(_WORD *)(a1 + 52) + sub_10009F00(a1 + 20);
  return result;
}

//----- (10009F60) --------------------------------------------------------
signed int __cdecl sub_10009F60(int a1, void *a2, unsigned __int16 a3, __int16 a4)
{
  int v4; // edi@1
  int v5; // ebx@1
  int v6; // esi@1
  signed int result; // eax@1
  int v8; // ebp@1

  v4 = a1;
  v5 = *(_DWORD *)(a1 + 732);
  v6 = 0;
  result = -15;
  v8 = *(_WORD *)(a1 + 48) + *(_DWORD *)(a1 + 16) + 46;
  if ( *(_WORD *)(a1 + 50) >= 4u )
  {
    while ( (unsigned int)(v6 + v8) < *(_DWORD *)(v5 + 120) )
    {
      if ( sub_10004C80(*(_DWORD *)(v5 + 4), &a1, 4, v6 + v8, 0) != 4 )
        return -15;
      if ( (_WORD)a1 == a4 && (unsigned int)HIWORD(a1) + 4 <= a3 )
        return sub_10004C80(*(_DWORD *)(v5 + 4), a2, HIWORD(a1) + 4, v6 + v8, 0);
      v6 += HIWORD(a1) + 4;
      result = -15;
      if ( v6 + 4 > (unsigned int)*(_WORD *)(v4 + 50) )
        return result;
    }
  }
  return result;
}

//----- (1000A020) --------------------------------------------------------
int __cdecl sub_1000A020(int a1)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)(a1 + 4) = 0;
  *(_DWORD *)(a1 + 16) = 0;
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(a1 + 12) = 0;
  return result;
}

//----- (1000A060) --------------------------------------------------------
int __usercall sub_1000A060@<eax>(int a1@<eax>, int a2@<esi>)
{
  int v2; // eax@2
  int result; // eax@2
  int v4; // eax@3
  __int16 v5; // cx@3
  int v6; // edx@3

  sub_1000FFA0(a2 + 721, a1 + 64);
  if ( *(_DWORD *)(a2 + 44) )
  {
    v4 = *(_DWORD *)(a2 + 725);
    v5 = *(_WORD *)(a2 + 729);
    *(_DWORD *)(a2 + 693) = *(_DWORD *)(a2 + 721);
    v6 = *(_DWORD *)(a2 + 732);
    *(_DWORD *)(a2 + 697) = v4;
    *(_WORD *)(a2 + 701) = v5;
    result = j_FIL_vfs_write(*(_DWORD *)(v6 + 116), a2 + 721, 10);
    *(_DWORD *)(a2 + 136) += 10;
    *(_DWORD *)(a2 + 40) += 10;
  }
  else
  {
    v2 = sub_10004D60(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116));
    result = sub_10004D80(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), v2 - *(_WORD *)(a2 + 50) - *(_DWORD *)(a2 + 40), 0);
    *(_DWORD *)(a2 + 84) -= *(_WORD *)(a2 + 50);
    *(_DWORD *)(a2 + 136) = 0;
    *(_WORD *)(a2 + 28) &= 0xFFFEu;
    *(_DWORD *)(a2 + 40) = 0;
    *(_WORD *)(a2 + 50) = 0;
    *(_WORD *)(a2 + 30) = 0;
    *(_WORD *)(a2 + 80) = 0;
  }
  return result;
}
// 10004DA0: using guessed type int __cdecl j_FIL_vfs_write(_DWORD, _DWORD, _DWORD);

//----- (1000A110) --------------------------------------------------------
signed int __usercall sub_1000A110@<eax>(int a1@<eax>, int a2@<esi>)
{
  int v2; // edi@1
  char v3; // ST30_1@2
  int v4; // ST28_4@2
  int v5; // eax@2
  __int64 v6; // rax@2
  int v7; // ebx@2
  char *v8; // ebp@2
  __int64 v9; // rax@3
  signed int result; // eax@4
  _WORD *v11; // edi@5
  _WORD *v12; // [sp+Ch] [bp-4h]@4

  v2 = a1;
  if ( *(_BYTE *)(a2 + 8) )
  {
    *(_WORD *)(a1 + 532) = -26367;
    *(_WORD *)(a1 + 534) = 7;
    *(_WORD *)(a1 + 536) = 1;
    *(_BYTE *)(a1 + 538) = 65;
    *(_BYTE *)(a1 + 539) = 69;
    v3 = *(_DWORD *)(a2 + 84);
    *(_DWORD *)(a2 + 76) = a1 + 532;
    v4 = a1 + 532;
    v5 = *(_DWORD *)(a2 + 732);
    *(_WORD *)(a2 + 50) = 11;
    *(_WORD *)(a2 + 80) = 11;
    sub_10004DB0(*(_DWORD *)(v5 + 116), v4, 11, v3);
    *(_DWORD *)(a2 + 84) += *(_WORD *)(a2 + 80);
    *(_BYTE *)(v2 + 540) = *(_BYTE *)(*(_DWORD *)(a2 + 732) + 112);
    v6 = ((*(_BYTE *)(a2 + 688) & 3) + 1) << 6;
    v7 = (((BYTE4(v6) & 7) + (signed int)v6) >> 3) / 2;
    v8 = (char *)(v2 + 555);
    sub_100103F0((void *)(v2 + 555), v7);
  }
  else
  {
    sub_10009F60(a2, (void *)(a1 + 532), 0xBu, -26367);
    v9 = ((*(_BYTE *)(a2 + 688) & 3) + 1) << 6;
    v7 = (((BYTE4(v9) & 7) + (signed int)v9) >> 3) / 2;
    v8 = (char *)(v2 + 555);
    sub_10004C80(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), (void *)(v2 + 555), v7, *(_DWORD *)(a2 + 84), 0);
    sub_10004C80(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), (void *)(v2 + 571), 2, v7 + *(_DWORD *)(a2 + 84), 0);
  }
  v12 = (_WORD *)(v2 + 543);
  result = sub_100102C0(*(_BYTE *)(v2 + 540), (void *)v2, strlen((const char *)v2), v8, (_WORD *)(v2 + 543), v2 + 64);
  if ( *(_BYTE *)(a2 + 8) )
  {
    sub_10004DB0(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), (int)v8, v7, *(_DWORD *)(a2 + 84));
    v11 = (_WORD *)(v2 + 571);
    *v11 = *v12;
    sub_10004DB0(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), (int)v11, 2, v7 + *(_DWORD *)(a2 + 84));
    result = v7 + 2;
    *(_DWORD *)(a2 + 136) += v7 + 2;
    *(_DWORD *)(a2 + 40) += v7 + 2;
  }
  else
  {
    *(_DWORD *)(a2 + 92) += -12 - v7;
    *(_DWORD *)(a2 + 124) += v7 + 2;
  }
  return result;
}

//----- (1000A2E0) --------------------------------------------------------
char __usercall sub_1000A2E0@<al>(int a1@<eax>, char *a2@<edx>, unsigned int a3@<ecx>)
{
  return sub_1000FF50(a2, a3, a1 + 212);
}

//----- (1000A2F0) --------------------------------------------------------
int __usercall sub_1000A2F0@<eax>(int result@<eax>)
{
  if ( *(_WORD *)(result + 30) == 99 )
    result = sub_1000A060(result + 148, result);
  return result;
}

//----- (1000A310) --------------------------------------------------------
char __usercall sub_1000A310@<al>(int a1@<eax>)
{
  int v1; // eax@1

  v1 = (*(_DWORD *)(a1 + 72) & 0xFFFD | 2) * ((*(_DWORD *)(a1 + 72) & 0xFFFD | 2) ^ 1);
  return BYTE1(v1);
}

//----- (1000A330) --------------------------------------------------------
int __usercall sub_1000A330@<eax>(int a1@<esi>, unsigned __int8 a2)
{
  int v2; // eax@1
  unsigned int v3; // edx@1
  int v4; // eax@1
  int result; // eax@1

  v2 = sub_100234C0(a2, *(_DWORD *)(a1 + 64));
  v3 = *(_DWORD *)(a1 + 72);
  *(_DWORD *)(a1 + 64) = v2;
  v4 = 134775813 * (*(_DWORD *)(a1 + 68) + (unsigned __int8)v2) + 1;
  *(_DWORD *)(a1 + 68) = v4;
  result = sub_100234C0(BYTE3(v4), v3);
  *(_DWORD *)(a1 + 72) = result;
  return result;
}

//----- (1000A370) --------------------------------------------------------
int __fastcall sub_1000A370(int a1, int a2)
{
  int result; // eax@1

  result = *(_WORD *)(a2 + 30);
  if ( *(_WORD *)(a2 + 30) == 99 )
    result = *(_WORD *)(a2 + 689);
  return result;
}

//----- (1000A390) --------------------------------------------------------
int __usercall sub_1000A390@<eax>(int a1@<esi>)
{
  int v1; // ST1C_4@1
  unsigned int v2; // ST18_4@1
  int v3; // eax@1
  int v4; // ST00_4@1

  v1 = *(_DWORD *)(a1 + 20) + *(_DWORD *)(a1 + 24);
  v2 = *(_DWORD *)(a1 + 4);
  *(_DWORD *)a1 = v1;
  sub_10004DD0(v2, v1, 0);
  j_FIL_vfs_write(*(_DWORD *)(a1 + 4), a1 + 8, 22);
  v3 = *(_DWORD *)a1 + 22;
  v4 = *(_DWORD *)(a1 + 116);
  *(_DWORD *)(a1 + 120) = v3;
  return sub_10004D80(v4, v3, 0);
}
// 10004DA0: using guessed type int __cdecl j_FIL_vfs_write(_DWORD, _DWORD, _DWORD);

//----- (1000A3D0) --------------------------------------------------------
signed int __usercall sub_1000A3D0@<eax>(int a1@<ecx>, int a2@<edi>, int a3, int a4, int a5, int a6)
{
  __int16 v6; // ax@1
  unsigned int *v7; // ecx@1
  int v8; // esi@1
  signed int v9; // eax@1
  unsigned int v10; // eax@1
  int v11; // ebx@1
  int v12; // ebx@1
  int v13; // eax@4
  int v14; // ecx@6
  int v15; // ebp@8
  unsigned int v16; // ebx@11
  __int64 v17; // rax@14
  unsigned int v18; // ecx@15
  unsigned int v19; // ebp@15
  int v21; // ebx@20
  signed int v22; // eax@23
  size_t v23; // ebp@29
  int v24; // ebx@33
  int v25; // [sp+Ch] [bp-8h]@1
  __int16 v26; // [sp+10h] [bp-4h]@1

  v6 = sub_1000A370(a1, a3);
  v7 = *(unsigned int **)(a2 + 16);
  v8 = a2 + 28;
  v26 = v6;
  *(_DWORD *)v8 = v7;
  v9 = *(_DWORD *)(a2 + 20);
  *(_DWORD *)(v8 + 4) = v9;
  v25 = 0;
  v10 = sub_100234E0(v7, v9, *(_DWORD *)a2);
  v11 = *(_DWORD *)(a2 + 12);
  *(_DWORD *)a2 = v10;
  v12 = v11 + 0xFFFFF;
  while ( 1 )
  {
    if ( !*(_DWORD *)(a2 + 32) )
    {
      if ( !a6 )
        goto LABEL_37;
      v13 = *(_DWORD *)(a2 + 12);
      if ( *(_DWORD *)(a2 + 44) == v13 && v12 != v13 + 0xFFFFF )
        break;
    }
    v14 = *(_DWORD *)(a2 + 12);
    if ( !v14 )
      break;
    if ( !--v12 )
      break;
    v15 = *(_DWORD *)(a2 + 44);
    if ( !v15 || a6 && v15 != v14 )
    {
      v16 = *(_DWORD *)(a2 + 48);
      if ( v16
        && (v16 >= 0x28
         || *(_WORD *)(a3 + 30) != 99
         || (v17 = ((*(_BYTE *)(a3 + 688) & 3) + 1) << 6, v16 != (((BYTE4(v17) & 7) + (signed int)v17) >> 3) / 2 + 2)) )
      {
        v18 = v14 - v15;
        v19 = v18;
        if ( *(_BYTE *)(a3 + 28) & 1 )
          sub_1000A2E0(a3, *(char **)(a2 + 8), v18);
        if ( j_FIL_vfs_write(a4, *(_DWORD *)(a2 + 8), v19) != v19 )
          return -16;
      }
      else
      {
        v19 = 0;
      }
      v21 = *(_DWORD *)(a2 + 12);
      *(_DWORD *)(a2 + 40) = *(_DWORD *)(a2 + 8);
      v12 = v21 + 0xFFFFF;
      v25 += v19;
      *(_DWORD *)(a2 + 44) = *(_DWORD *)(a2 + 12);
    }
    if ( v26 == 8 )
    {
      if ( a6 )
        v22 = sub_100121A0(a2 + 28, 4);
      else
        v22 = sub_100121A0(a2 + 28, 0);
      if ( v22 && v22 != 1 )
        return -15;
    }
    else
    {
      if ( v26 )
        return -15;
      v23 = *(_DWORD *)(a2 + 44);
      if ( *(_DWORD *)(a2 + 32) < v23 )
        v23 = *(_DWORD *)(a2 + 32);
      memcpy_0(*(void **)(a2 + 40), *(const void **)v8, v23);
      *(_DWORD *)(a2 + 32) -= v23;
      *(_DWORD *)(a2 + 44) -= v23;
      *(_DWORD *)v8 += v23;
      *(_DWORD *)(a2 + 40) += v23;
      *(_DWORD *)(a2 + 36) += v23;
      *(_DWORD *)(a2 + 48) += v23;
    }
  }
  if ( a6 )
  {
    v24 = *(_DWORD *)(a2 + 12) - *(_DWORD *)(a2 + 44);
    if ( *(_BYTE *)(a3 + 28) & 1 )
      sub_1000A2E0(a3, *(char **)(a2 + 8), *(_DWORD *)(a2 + 12) - *(_DWORD *)(a2 + 44));
    if ( j_FIL_vfs_write(a4, *(_DWORD *)(a2 + 8), v24) != v24 )
      return -16;
    v25 += v24;
    *(_DWORD *)(a2 + 44) = *(_DWORD *)(a2 + 12);
    *(_DWORD *)(a2 + 40) = *(_DWORD *)(a2 + 8);
  }
LABEL_37:
  *(_DWORD *)(a5 + 24) = *(_DWORD *)(a2 + 36);
  *(_DWORD *)(a5 + 20) = *(_DWORD *)(a2 + 48);
  return v25;
}
// 10004DA0: using guessed type int __cdecl j_FIL_vfs_write(_DWORD, _DWORD, _DWORD);

//----- (1000A5E0) --------------------------------------------------------
int __cdecl sub_1000A5E0(int a1)
{
  int v1; // ebx@1
  int v2; // esi@1
  unsigned int v3; // ebp@1
  bool v4; // zf@1
  int v5; // ecx@1
  __int16 v6; // cx@4
  __int16 v7; // ax@4
  __int16 v8; // dx@4
  __int16 v9; // cx@4
  unsigned int v10; // edx@4
  int v11; // eax@4
  unsigned int v12; // ecx@4
  int v13; // eax@4
  int result; // eax@5
  int v15; // eax@6
  unsigned __int16 v16; // ax@7
  int v17; // eax@11
  int v18; // edx@13
  int v19; // edi@13
  int v20; // eax@13
  unsigned __int16 v21; // cx@14
  int v22; // [sp+10h] [bp-28h]@4
  char v23; // [sp+14h] [bp-24h]@3
  int v24; // [sp+18h] [bp-20h]@1
  int v25; // [sp+1Ch] [bp-1Ch]@1
  int v26; // [sp+20h] [bp-18h]@1
  int v27; // [sp+24h] [bp-14h]@1
  __int64 v28; // [sp+28h] [bp-10h]@1
  int v29; // [sp+30h] [bp-8h]@1
  __int16 v30; // [sp+34h] [bp-4h]@1
  int v31; // [sp+3Ch] [bp+4h]@1

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 732);
  v31 = *(_DWORD *)(v2 + 116);
  sub_1000A2F0(v1);
  v3 = *(_DWORD *)(v2 + 4);
  v4 = *(_WORD *)(v1 + 32) == 0;
  v5 = ~*(_DWORD *)(v1 + 88);
  v24 = 0;
  v25 = 0;
  v26 = 0;
  v27 = 0;
  v28 = 0i64;
  v29 = 0;
  v30 = 0;
  *(_DWORD *)(v1 + 36) = v5;
  if ( v4 || !*(_WORD *)(v1 + 34) )
  {
    sub_100059E0(&v23);
    sub_10008550((unsigned int *)&v23, (_WORD *)(v1 + 34), (_WORD *)(v1 + 32));
  }
  v6 = *(_WORD *)(v1 + 24);
  v7 = *(_WORD *)(v1 + 30);
  HIWORD(v25) = *(_WORD *)(v1 + 28);
  v8 = *(_WORD *)(v1 + 34);
  LOWORD(v25) = v6;
  v9 = *(_WORD *)(v1 + 32);
  LOWORD(v27) = v8;
  v10 = *(_DWORD *)(v1 + 44);
  LOWORD(v26) = v7;
  v11 = *(_DWORD *)(v1 + 36);
  HIWORD(v26) = v9;
  v12 = *(_DWORD *)(v1 + 40);
  *(int *)((char *)&v27 + 2) = v11;
  LOWORD(v11) = *(_WORD *)(v1 + 48);
  *(__int64 *)((char *)&v28 + 2) = __PAIR__(v10, v12);
  LOWORD(v12) = *(_WORD *)(v1 + 50);
  v24 = 67324752;
  HIWORD(v29) = v11;
  v30 = v12;
  v22 = sub_10009F20(v1, (int)&v24);
  v13 = sub_10004D60(v31);
  if ( v3 == v31 )
  {
    result = sub_10004BD0(v31, v13, v31, *(_DWORD *)(v2 + 24), *(_DWORD *)(v2 + 20));
    if ( result )
      return result;
    v15 = *(_DWORD *)(v2 + 24);
    *(_DWORD *)(v1 + 62) = v15;
    *(_DWORD *)(v1 + 84) = v22 + v15;
  }
  sub_10004DD0(*(_DWORD *)(v2 + 116), *(_DWORD *)(v1 + 62), 0);
  j_FIL_vfs_write(*(_DWORD *)(v2 + 116), &v24, 30);
  j_FIL_vfs_write(*(_DWORD *)(v2 + 116), *(_DWORD *)(v1 + 68), *(_WORD *)(v1 + 72));
  v16 = *(_WORD *)(v1 + 80);
  if ( v16 )
    j_FIL_vfs_write(*(_DWORD *)(v2 + 116), *(_DWORD *)(v1 + 76), v16);
  if ( v3 == v31 )
  {
    result = sub_10004BD0(
               v31,
               *(_DWORD *)(v1 + 84),
               v31,
               v22 + *(_DWORD *)(v2 + 120),
               *(_DWORD *)(v1 + 40) + *(_DWORD *)(v2 + 20));
    if ( result )
      return result;
    v17 = *(_DWORD *)((char *)&v28 + 2) + v22 + *(_DWORD *)(v2 + 24);
  }
  else
  {
    v17 = 0;
  }
  v18 = v17 + *(_DWORD *)(v2 + 20);
  ++*(_WORD *)(v2 + 16);
  ++*(_WORD *)(v2 + 18);
  *(_DWORD *)(v2 + 8) = 101010256;
  *(_DWORD *)(v2 + 24) = v17;
  *(_WORD *)(v2 + 28) = 0;
  sub_10004DD0(v3, v18, 0);
  *(_DWORD *)(v2 + 20) += sub_10009F00(v1 + 20);
  j_FIL_vfs_write(v3, v1 + 20, 46);
  v19 = j_FIL_vfs_write(v3, *(_DWORD *)(v1 + 68), *(_WORD *)(v1 + 72)) != *(_WORD *)(v1 + 72) ? 0xFFFFFFF1 : 0;
  v20 = *(_DWORD *)(v1 + 76);
  if ( v20 )
  {
    v21 = *(_WORD *)(v1 + 80);
    if ( v21 )
    {
      v19 |= j_FIL_vfs_write(v3, v20, v21);
      if ( v19 >= 0 )
        v19 = 0;
    }
  }
  *(_DWORD *)v2 = *(_DWORD *)(v2 + 20) + *(_DWORD *)(v2 + 24);
  if ( v3 == v31 )
    sub_1000A390(v2);
  else
    *(_DWORD *)(v2 + 120) = sub_10004D60(v31);
  *(_DWORD *)(v2 + 36) = *(_DWORD *)(v2 + 24);
  *(_DWORD *)(v2 + 32) = 0;
  return v19;
}
// 10004DA0: using guessed type int __cdecl j_FIL_vfs_write(_DWORD, _DWORD, _DWORD);

//----- (1000A850) --------------------------------------------------------
signed int __cdecl sub_1000A850(unsigned int a1, int a2, int a3)
{
  signed int result; // eax@3
  int v4; // ecx@7
  int v5; // eax@10

  if ( a1 < 0xFFFFFFC2 && a1 )
  {
    if ( *(_DWORD *)(a1 + 112) == *(_DWORD *)(a1 + 44) && !*(_DWORD *)(a1 + 124) )
      sub_10004DD0(*(_DWORD *)(*(_DWORD *)(a1 + 732) + 116), *(_DWORD *)(a1 + 136) + *(_DWORD *)(a1 + 84), 0);
    v4 = *(_DWORD *)(a1 + 112) - a3;
    *(_DWORD *)(a1 + 104) = a2;
    *(_DWORD *)(a1 + 108) = a3;
    v5 = !v4 && *(_DWORD *)(a1 + 136) || !a2;
    result = sub_1000A3D0(
               *(_DWORD *)(*(_DWORD *)(a1 + 732) + 116),
               a1 + 88,
               a1,
               *(_DWORD *)(*(_DWORD *)(a1 + 732) + 116),
               a1 + 20,
               v5);
    if ( result >= 0 )
    {
      *(_DWORD *)(a1 + 40) = *(_DWORD *)(a1 + 136);
      *(_DWORD *)(a1 + 112) -= a3;
    }
  }
  else
  {
    result = -6;
  }
  return result;
}

//----- (1000A8F0) --------------------------------------------------------
int __usercall sub_1000A8F0@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  char v2; // al@1
  unsigned __int8 *v3; // edx@1

  v1 = a1;
  v2 = sub_1000A310(a1);
  *v3 ^= v2;
  return sub_1000A330(v1, *v3);
}

//----- (1000A910) --------------------------------------------------------
int __usercall sub_1000A910@<eax>(int a1@<edi>, int a2)
{
  int i; // esi@1
  int result; // eax@2

  for ( i = 0; i < a1; ++i )
    result = sub_1000A8F0(a2);
  return result;
}

//----- (1000A940) --------------------------------------------------------
signed int __usercall sub_1000A940@<eax>(int a1@<eax>, int a2@<ebx>)
{
  int v2; // esi@1
  signed int v3; // edi@1
  signed int result; // eax@4

  v2 = a1;
  *(_DWORD *)(a1 + 64) = 305419896;
  *(_DWORD *)(a1 + 68) = 591751049;
  *(_DWORD *)(a1 + 72) = 878082192;
  v3 = 0;
  do
  {
    if ( !*(_BYTE *)(v3 + v2) )
      break;
    sub_1000A330(v2, *(_BYTE *)(v3++ + v2));
  }
  while ( v3 < 64 );
  result = sub_10004C80(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), (void *)(v2 + 76), 12, *(_DWORD *)(a2 + 84), 0);
  *(_DWORD *)(a2 + 92) -= 12;
  *(_DWORD *)(a2 + 124) += 12;
  return result;
}

//----- (1000AA30) --------------------------------------------------------
char __usercall sub_1000AA30@<al>(char *a1@<edx>, size_t a2@<ecx>, int a3@<esi>)
{
  char result; // al@2

  if ( *(_WORD *)(a3 + 30) == 99 )
    result = sub_1000FF00(a1, a2, a3 + 212);
  else
    result = sub_1000A910(a2, a3 + 148);
  return result;
}

//----- (1000AA60) --------------------------------------------------------
signed int __usercall sub_1000AA60@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  bool v2; // zf@1
  int v3; // eax@1
  signed int result; // eax@2

  v1 = a1;
  v2 = *(_WORD *)(a1 + 30) == 99;
  v3 = a1 + 148;
  if ( v2 )
    result = sub_1000A110(v3, v1);
  else
    result = sub_1000A940(v3, v1);
  return result;
}

//----- (1000AA90) --------------------------------------------------------
signed int __cdecl sub_1000AA90(unsigned int a1)
{
  signed int result; // eax@3
  int v2; // eax@4
  int v3; // ecx@4
  int v4; // edx@4

  if ( a1 < 0xFFFFFFC2 && a1 )
  {
    sub_1000A020(a1 + 116);
    v2 = *(_DWORD *)(a1 + 40);
    v3 = *(_DWORD *)(a1 + 44);
    *(_DWORD *)(a1 + 88) = -1;
    *(_DWORD *)(a1 + 92) = v2;
    *(_DWORD *)(a1 + 112) = v3;
    sub_10013C10(v4);
    if ( *(_BYTE *)(a1 + 28) & 1 )
      sub_1000AA60(a1);
    result = 0;
  }
  else
  {
    result = -6;
  }
  return result;
}

//----- (1000AAE0) --------------------------------------------------------
signed int __cdecl sub_1000AAE0(int a1, int a2)
{
  int v2; // ebp@1
  int v3; // edi@1
  unsigned int v4; // eax@1
  unsigned int v5; // ecx@1
  signed int v6; // eax@4
  size_t v8; // eax@9
  size_t v9; // ebx@10
  int v10; // esi@13
  int v11; // edx@18
  __int16 v12; // ax@20
  size_t v13; // esi@21
  int v14; // ST30_4@25
  unsigned int *v15; // ST34_4@25
  int v16; // ebx@25
  int v17; // [sp+10h] [bp-Ch]@1
  int v18; // [sp+24h] [bp+8h]@7

  v2 = a2;
  v3 = a2 + 28;
  *(_DWORD *)(a2 + 40) = *(_DWORD *)(a2 + 16);
  v4 = *(_DWORD *)(a2 + 20);
  v5 = *(_DWORD *)(a2 + 24);
  v17 = 0;
  if ( v4 <= v5 )
    *(_DWORD *)(a2 + 44) = v4;
  else
    *(_DWORD *)(a2 + 44) = v5;
  v6 = 0xFFFFF;
  if ( *(_DWORD *)(a2 + 44) )
  {
    while ( 1 )
    {
      v18 = v6 - 1;
      if ( v6 - 1 <= 0 )
        break;
      if ( *(_DWORD *)(v3 + 4) || (v8 = *(_DWORD *)(v2 + 4)) == 0 )
      {
        v10 = a1;
      }
      else
      {
        v9 = *(_DWORD *)(v2 + 12);
        if ( v8 < v9 )
          v9 = *(_DWORD *)(v2 + 4);
        if ( !v9 )
          return v17;
        v10 = a1;
        if ( sub_10004C80(
               *(_DWORD *)(*(_DWORD *)(a1 + 732) + 116),
               *(void **)(v2 + 8),
               v9,
               *(_DWORD *)(a1 + 84) + *(_DWORD *)(v3 + 8),
               0) != v9 )
          return -15;
        if ( *(_BYTE *)(a1 + 28) & 1 )
        {
          sub_1000AA30(*(char **)(v2 + 8), v9, a1);
          if ( *(_DWORD *)(v2 + 4) == v9 && *(_WORD *)(a1 + 30) == 99 )
          {
            sub_10004C80(
              *(_DWORD *)(*(_DWORD *)(a1 + 732) + 116),
              (void *)(a1 + 721),
              10,
              *(_DWORD *)(a1 + 84) + v9 + *(_DWORD *)(v3 + 4) + *(_DWORD *)(v3 + 8),
              0);
            sub_1000FFA0(a1 + 693, a1 + 212);
            v10 = a1;
          }
        }
        v11 = *(_DWORD *)(v2 + 8);
        *(_DWORD *)(v2 + 4) -= v9;
        v18 = 0xFFFFF;
        *(_DWORD *)v3 = v11;
        *(_DWORD *)(v3 + 4) = v9;
      }
      v12 = sub_1000A370(v5, v10);
      if ( v12 )
      {
        if ( v12 != 8 )
          return -15;
        v14 = *(_DWORD *)(v3 + 20);
        v15 = *(unsigned int **)(v3 + 12);
        v16 = (char)sub_10014FD0(v3, 2);
        v17 += *(_DWORD *)(v3 + 20) - v14;
        *(_DWORD *)v2 = sub_100234E0(v15, *(_DWORD *)(v3 + 20) - v14, *(_DWORD *)v2);
        if ( v16 == 1 )
          return v17;
        if ( v16 < 0 )
          return -14;
      }
      else
      {
        v13 = *(_DWORD *)(v3 + 4);
        if ( *(_DWORD *)(v3 + 16) < v13 )
          v13 = *(_DWORD *)(v3 + 16);
        memcpy_0(*(void **)(v3 + 12), *(const void **)v3, v13);
        *(_DWORD *)v2 = sub_100234E0(*(unsigned int **)(v3 + 12), v13, *(_DWORD *)v2);
        *(_DWORD *)(v3 + 4) -= v13;
        *(_DWORD *)(v3 + 16) -= v13;
        *(_DWORD *)(v3 + 12) += v13;
        *(_DWORD *)v3 += v13;
        *(_DWORD *)(v3 + 20) += v13;
        *(_DWORD *)(v3 + 8) += v13;
        v17 += v13;
      }
      if ( !*(_DWORD *)(v3 + 16) )
        return v17;
      v6 = v18;
    }
  }
  return v17;
}

//----- (1000ACD0) --------------------------------------------------------
signed int __cdecl sub_1000ACD0(unsigned int a1, int a2, int a3)
{
  signed int result; // eax@3
  int v4; // ST04_4@4
  signed int v5; // eax@4
  signed int v6; // ebx@4
  bool v7; // zf@5

  if ( a1 < 0xFFFFFFC2 && a1 )
  {
    v4 = a1 + 88;
    *(_DWORD *)(v4 + 16) = a2;
    *(_DWORD *)(v4 + 20) = a3;
    v5 = sub_1000AAE0(a1, a1 + 88);
    v6 = v5;
    if ( v5 > 0 )
    {
      v7 = *(_DWORD *)(a1 + 112) == v5;
      *(_DWORD *)(a1 + 112) -= v5;
      if ( v7 && !(*(_BYTE *)a1 & 1) && !sub_10009E30(a1) )
        v6 = -14;
    }
    result = v6;
  }
  else
  {
    result = -6;
  }
  return result;
}

//----- (1000AD30) --------------------------------------------------------
signed int __cdecl sub_1000AD30(unsigned int a1, int a2, int a3)
{
  signed int result; // eax@3
  unsigned int v4; // edx@4
  int v5; // ebx@4
  int v6; // esi@16
  int v7; // eax@17
  char v8; // [sp+4h] [bp-204h]@19

  if ( a1 >= 0xFFFFFFC2 || !a1 )
    return -6;
  v4 = *(_DWORD *)(a1 + 44);
  result = *(_DWORD *)(a1 + 44) - *(_DWORD *)(a1 + 112);
  v5 = a2;
  if ( a3 == 1 )
  {
    v5 = result + a2;
  }
  else if ( a3 == 2 )
  {
    v5 = v4 + a2;
  }
  if ( v5 > v4 || v5 < 0 )
    return -15;
  if ( result == v5 )
    return result;
  if ( !v5 )
  {
    sub_1000AA90(a1);
    return 0;
  }
  if ( !*(_WORD *)(a1 + 30) && *(_BYTE *)a1 & 3 )
  {
    sub_1000A020(a1 + 116);
    *(_DWORD *)(a1 + 124) = v5;
    *(_DWORD *)(a1 + 112) = *(_DWORD *)(a1 + 44) - v5;
    *(_DWORD *)(a1 + 92) = *(_DWORD *)(a1 + 40) - v5;
    return v5;
  }
  if ( result > v5 )
  {
    sub_1000AA90(a1);
    result = 0;
  }
  v6 = v5 - result;
  if ( v5 - result <= 0 )
    return v5;
  while ( 1 )
  {
    v7 = 512;
    if ( (unsigned int)v6 < 0x200 )
      v7 = v6;
    result = sub_1000ACD0(a1, (int)&v8, v7);
    if ( result <= 0 )
      break;
    v6 -= result;
    if ( v6 <= 0 )
      return v5;
  }
  return result;
}

//----- (1000AEC0) --------------------------------------------------------
int __cdecl sub_1000AEC0(char a1)
{
  int result; // eax@1

  result = 0;
  if ( a1 < 7 )
    result = (unsigned __int16)word_1005E63C[a1];
  return result;
}
// 1005E63C: using guessed type __int16 word_1005E63C[];

//----- (1000AEE0) --------------------------------------------------------
signed int __usercall sub_1000AEE0@<eax>(char a1@<al>, int a2@<ecx>)
{
  signed int result; // eax@2

  switch ( a1 )
  {
    case 6:
      result = sub_100049D0((int)&off_1005E65C);
      break;
    case 0:
      result = sub_100049D0((int)&off_1005E670);
      break;
    case 1:
      result = sub_100049D0((int)&off_1005E684);
      break;
    case 2:
      result = sub_100049D0((int)&off_1005E6AC);
      break;
    case 3:
      result = sub_100049D0((int)&off_1005E698);
      break;
    case 5:
      result = sub_100049D0((int)&off_1005E6C0);
      break;
    default:
      result = sub_100049D0(a2);
      break;
  }
  return result;
}
// 1005E65C: using guessed type char *off_1005E65C;
// 1005E670: using guessed type char *off_1005E670;
// 1005E684: using guessed type char *off_1005E684;
// 1005E698: using guessed type char *off_1005E698;
// 1005E6AC: using guessed type char *off_1005E6AC;
// 1005E6C0: using guessed type char *off_1005E6C0;

//----- (1000AF80) --------------------------------------------------------
int __usercall sub_1000AF80@<eax>(char a1@<al>)
{
  return sub_10004460(dword_1005E18C[a1]);
}
// 1005E18C: using guessed type int dword_1005E18C[];

//----- (1000AFA0) --------------------------------------------------------
int __usercall sub_1000AFA0@<eax>(char a1@<al>)
{
  return sub_100044C0(dword_1005E18C[a1], 10);
}
// 1005E18C: using guessed type int dword_1005E18C[];

//----- (1000AFC0) --------------------------------------------------------
signed __int16 __usercall sub_1000AFC0@<ax>(char a1@<al>, unsigned __int16 a2@<si>)
{
  signed __int16 result; // ax@3
  bool v3; // cf@8

  switch ( a1 )
  {
    case 6:
      if ( a2 < 0x2E5u )
      {
        if ( !(unsigned __int8)sub_1000AEE0(a1, a1) )
        {
          sub_10004310("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3201, 0, 0);
          goto LABEL_6;
        }
        result = *(_WORD *)(dword_100D0A64 + 2 * a2 + 241212);
        v3 = (unsigned __int16)result < 0x256u;
        goto LABEL_32;
      }
      sub_10004310("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3186, 0, 0);
      return -1;
    default:
      goto LABEL_6;
    case 0:
      if ( a2 >= 0x344u )
      {
        sub_10004310("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3224, 0, 0);
        return -1;
      }
      if ( (unsigned __int8)sub_1000AEE0(a1, a1) )
      {
        result = *(_WORD *)(dword_100D0A70 + 2 * a2 + 284664);
        v3 = (unsigned __int16)result < 0x211u;
        goto LABEL_32;
      }
      if ( sub_100053C0(15000) )
        goto LABEL_6;
      sub_10004310("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3242, 0, 0);
      return 0;
    case 1:
      if ( a2 >= 0xBCCu )
      {
        sub_10004310("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3265, 0, 0);
        return -1;
      }
      if ( !(unsigned __int8)sub_1000AEE0(a1, a1) )
        goto LABEL_6;
      result = *(_WORD *)(dword_100D0A4C + 2 * a2 + 447808);
      v3 = (unsigned __int16)result < 0x979u;
      goto LABEL_32;
    case 2:
      if ( a2 >= 0x388u )
      {
        sub_10004310("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3302, 0, 0);
        return -1;
      }
      if ( !(unsigned __int8)sub_1000AEE0(a1, a1) )
        goto LABEL_6;
      result = *(_WORD *)(dword_100D0A74 + 2 * a2 + 356016);
      v3 = (unsigned __int16)result < 0x23Du;
      goto LABEL_32;
    case 3:
      if ( a2 >= 0xBEu )
      {
        sub_10004310("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3339, 0, 0);
        return -1;
      }
      if ( !(unsigned __int8)sub_1000AEE0(a1, a1) )
      {
        sub_10004310("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3354, 0, 0);
        return 0;
      }
      result = *(_WORD *)(dword_100D0A60 + 2 * a2 + 23096);
      v3 = (unsigned __int16)result < 0x52u;
      goto LABEL_32;
    case 5:
      if ( a2 < 4u )
      {
        if ( (unsigned __int8)sub_1000AEE0(a1, a1) )
        {
          result = *(_WORD *)(dword_100D0A50 + 2 * a2 + 1804);
          v3 = (unsigned __int16)result < 4u;
LABEL_32:
          if ( !v3 )
            result = -1;
        }
        else
        {
LABEL_6:
          result = 0;
        }
      }
      else
      {
        sub_10004310("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3377, 0, 0);
        result = -1;
      }
      return result;
  }
}
// 100D0A4C: using guessed type int dword_100D0A4C;
// 100D0A50: using guessed type int dword_100D0A50;
// 100D0A60: using guessed type int dword_100D0A60;
// 100D0A64: using guessed type int dword_100D0A64;
// 100D0A70: using guessed type int dword_100D0A70;
// 100D0A74: using guessed type int dword_100D0A74;

//----- (1000B200) --------------------------------------------------------
char __cdecl sub_1000B200(char a1, unsigned __int16 a2, void *a3)
{
  int v3; // ecx@1
  signed __int16 v4; // si@1
  char result; // al@2

  v4 = sub_1000AFC0(a1, a2);
  if ( v4 == -1 )
  {
    result = 0;
  }
  else
  {
    switch ( a1 )
    {
      case 6:
        if ( (unsigned __int8)sub_1000AEE0(a1, v3) != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_100D0A64 + 210116), 0x34u);
        result = 1;
        break;
      case 0:
        if ( (unsigned __int8)sub_1000AEE0(a1, v3) != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_100D0A70 + 257156), 0x34u);
        result = 1;
        break;
      case 1:
        result = sub_1000AEE0(a1, v3);
        if ( result != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_100D0A4C + 321708), 0x34u);
        break;
      case 2:
        if ( (unsigned __int8)sub_1000AEE0(a1, v3) != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_100D0A74 + 326220), 0x34u);
        result = 1;
        break;
      case 3:
        if ( (unsigned __int8)sub_1000AEE0(a1, v3) != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_100D0A60 + 18832), 0x34u);
        result = 1;
        break;
      case 5:
        result = sub_1000AEE0(a1, v3);
        if ( result != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_100D0A50 + 1596), 0x34u);
        break;
      default:
LABEL_16:
        result = 0;
        break;
    }
  }
  return result;
}
// 100D0A4C: using guessed type int dword_100D0A4C;
// 100D0A50: using guessed type int dword_100D0A50;
// 100D0A60: using guessed type int dword_100D0A60;
// 100D0A64: using guessed type int dword_100D0A64;
// 100D0A70: using guessed type int dword_100D0A70;
// 100D0A74: using guessed type int dword_100D0A74;

//----- (1000B380) --------------------------------------------------------
char __cdecl sub_1000B380(char a1, unsigned __int16 a2, int a3)
{
  signed __int16 v3; // si@1
  int v4; // ecx@2
  int v5; // eax@5

  v3 = sub_1000AFC0(a1, a2);
  if ( v3 != -1 && !sub_1000AFA0(a1) )
  {
    switch ( a1 )
    {
      case 6:
        if ( (unsigned __int8)sub_1000AEE0(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_100D0A64 + 24 * ((unsigned __int16)v3 + 25);
        goto LABEL_16;
      case 0:
        if ( (unsigned __int8)sub_1000AEE0(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_100D0A70 + 24 * (unsigned __int16)v3 + 532;
        goto LABEL_16;
      case 1:
        if ( (unsigned __int8)sub_1000AEE0(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_100D0A4C + 24 * (unsigned __int16)v3 + 2428;
        goto LABEL_16;
      case 2:
        if ( (unsigned __int8)sub_1000AEE0(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_100D0A74 + 24 * ((unsigned __int16)v3 + 24);
        goto LABEL_16;
      case 3:
        if ( (unsigned __int8)sub_1000AEE0(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_100D0A60 + 24 * (unsigned __int16)v3 + 84;
        goto LABEL_16;
      case 5:
        if ( (unsigned __int8)sub_1000AEE0(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_100D0A50 + 24 * (unsigned __int16)v3 + 4;
LABEL_16:
        *(_DWORD *)a3 = *(_DWORD *)v5;
        *(_DWORD *)(a3 + 4) = *(_DWORD *)(v5 + 4);
        *(_DWORD *)(a3 + 8) = *(_DWORD *)(v5 + 8);
        *(_DWORD *)(a3 + 12) = *(_DWORD *)(v5 + 12);
        *(_DWORD *)(a3 + 16) = *(_DWORD *)(v5 + 16);
        *(_DWORD *)(a3 + 20) = *(_DWORD *)(v5 + 20);
        sub_1000AF80(a1);
        return 1;
      default:
LABEL_17:
        sub_1000AF80(a1);
        break;
    }
  }
  return 0;
}
// 100D0A4C: using guessed type int dword_100D0A4C;
// 100D0A50: using guessed type int dword_100D0A50;
// 100D0A60: using guessed type int dword_100D0A60;
// 100D0A64: using guessed type int dword_100D0A64;
// 100D0A70: using guessed type int dword_100D0A70;
// 100D0A74: using guessed type int dword_100D0A74;

//----- (1000B4E0) --------------------------------------------------------
char __cdecl sub_1000B4E0(int a1, int a2, void *a3, char a4, __int16 a5, char a6)
{
  int v6; // ecx@0
  signed __int16 v7; // ax@1
  int v8; // edi@2
  __int16 v9; // si@11
  __int16 v11; // [sp+8h] [bp-560h]@13
  __int16 v12; // [sp+3Ch] [bp-52Ch]@10
  char v13; // [sp+40h] [bp-528h]@16
  char v14; // [sp+41h] [bp-527h]@10
  __int16 v15; // [sp+42h] [bp-526h]@10
  char v16; // [sp+44h] [bp-524h]@10
  __int16 v17; // [sp+46h] [bp-522h]@15
  int v18; // [sp+48h] [bp-520h]@16
  char v19; // [sp+4Ch] [bp-51Ch]@15

  LOBYTE(v7) = a1;
  switch ( (char)a1 )
  {
    case 6:
      v8 = 28;
      goto LABEL_8;
    case 0:
      v8 = 29;
      goto LABEL_8;
    case 1:
      v8 = 30;
      goto LABEL_8;
    case 2:
      v8 = 31;
      goto LABEL_8;
    case 3:
      v8 = 32;
      goto LABEL_8;
    case 5:
      v8 = 33;
LABEL_8:
      LOBYTE(v7) = sub_1000AEE0(a1, v6);
      if ( !(_BYTE)v7 )
        return v7;
      v7 = sub_1000AFC0(a1, a2);
      if ( v7 == -1 )
        return v7;
      v14 = a6;
      LOBYTE(v7) = a4;
      v12 = -32768;
      v15 = a2;
      v16 = a4;
      if ( a4 == 1 )
      {
        v9 = a5;
        if ( (unsigned __int16)a5 > 0x514u )
          return v7;
      }
      else
      {
        if ( sub_1000B200(a1, a2, &v11) != 1 )
          goto LABEL_16;
        v9 = v11;
      }
      memcpy_0(&v19, a3, (unsigned __int16)v9);
      v17 = v9;
LABEL_16:
      v18 = sub_100043D0();
      v13 = 0;
      LOBYTE(v7) = sub_10014FF0(v8, (int)&v12);
      return v7;
    default:
      return v7;
  }
}

//----- (1000B620) --------------------------------------------------------
char __cdecl sub_1000B620(char a1, unsigned __int16 a2, int a3)
{
  signed __int16 v3; // ax@1
  int v4; // edi@2
  __int16 v6; // [sp+4h] [bp-52Ch]@8
  unsigned __int16 v7; // [sp+8h] [bp-528h]@9
  int v8; // [sp+Ch] [bp-524h]@9

  LOBYTE(v3) = a1;
  switch ( a1 )
  {
    case 6:
      v4 = 28;
      goto LABEL_8;
    case 0:
      v4 = 29;
      goto LABEL_8;
    case 1:
      v4 = 30;
      goto LABEL_8;
    case 2:
      v4 = 31;
      goto LABEL_8;
    case 3:
      v4 = 32;
      goto LABEL_8;
    case 5:
      v4 = 33;
LABEL_8:
      memset(&v6, 0, 0x528u);
      v3 = sub_1000AFC0(a1, a2);
      if ( v3 != -1 )
      {
        v6 = -32766;
        v7 = a2;
        v8 = a3;
        LOBYTE(v3) = sub_10014FF0(v4, (int)&v6);
      }
      break;
    default:
      return v3;
  }
  return v3;
}

//----- (1000B700) --------------------------------------------------------
char __cdecl sub_1000B700(char a1, int a2, __int16 a3, __int16 a4, void *a5, int a6)
{
  char result; // al@2
  int v7; // ecx@3
  signed __int16 v8; // si@3
  int v9; // eax@7
  int v10; // ebp@7
  int v11; // esi@7
  int v12; // edi@7
  unsigned int v13; // ebx@7
  int v14; // eax@9
  int v15; // eax@11
  int v16; // eax@13
  int v17; // eax@15
  int v18; // eax@17
  int v19; // eax@25
  char v20; // [sp+7h] [bp-9h]@19
  __int16 v21; // [sp+8h] [bp-8h]@1
  unsigned int v22; // [sp+Ch] [bp-4h]@1

  v22 = sub_100043D0();
  v21 = 0;
  if ( a1 < 7 )
  {
    v8 = sub_1000AFC0(a1, a2);
    if ( v8 == -1 )
    {
      result = 0;
    }
    else
    {
      switch ( a1 )
      {
        case 6:
          if ( !(unsigned __int8)sub_1000AEE0(a1, v7) )
            goto LABEL_30;
          v9 = 3 * (unsigned __int16)v8 + 75;
          v10 = dword_100D0A64 + 14952;
          v11 = 52 * (unsigned __int16)v8 + dword_100D0A64 + 210116;
          v12 = dword_100D0A64 + 8 * v9;
          v13 = 195164;
          goto LABEL_18;
        case 0:
          if ( !(unsigned __int8)sub_1000AEE0(a1, v7) )
            goto LABEL_30;
          v14 = 3 * (unsigned __int16)v8;
          v10 = dword_100D0A70 + 13228;
          v11 = 52 * (unsigned __int16)v8 + dword_100D0A70 + 257156;
          v12 = dword_100D0A70 + 8 * v14 + 532;
          v13 = 243928;
          goto LABEL_18;
        case 1:
          if ( !(unsigned __int8)sub_1000AEE0(a1, v7) )
            goto LABEL_30;
          v15 = 3 * (unsigned __int16)v8;
          v10 = dword_100D0A4C + 60628;
          v11 = 52 * (unsigned __int16)v8 + dword_100D0A4C + 321708;
          v12 = dword_100D0A4C + 8 * v15 + 2428;
          v13 = 261080;
          goto LABEL_18;
        case 2:
          if ( !(unsigned __int8)sub_1000AEE0(a1, v7) )
            goto LABEL_30;
          v16 = 3 * (unsigned __int16)v8 + 72;
          v10 = dword_100D0A74 + 14328;
          v11 = 52 * (unsigned __int16)v8 + dword_100D0A74 + 326220;
          v12 = dword_100D0A74 + 8 * v16;
          v13 = 311892;
          goto LABEL_18;
        case 3:
          if ( !(unsigned __int8)sub_1000AEE0(a1, v7) )
            goto LABEL_30;
          v17 = 3 * (unsigned __int16)v8;
          v10 = dword_100D0A60 + 2052;
          v11 = 52 * (unsigned __int16)v8 + dword_100D0A60 + 18832;
          v12 = dword_100D0A60 + 8 * v17 + 84;
          v13 = 16780;
          goto LABEL_18;
        case 5:
          if ( !(unsigned __int8)sub_1000AEE0(a1, v7) )
            goto LABEL_30;
          v18 = 3 * (unsigned __int16)v8;
          v10 = dword_100D0A50 + 100;
          v11 = 52 * (unsigned __int16)v8 + dword_100D0A50 + 1596;
          v12 = dword_100D0A50 + 8 * v18 + 4;
          v13 = 1496;
LABEL_18:
          if ( sub_1000AFA0(a1) )
            goto LABEL_30;
          v20 = *(_BYTE *)(v12 + 1);
          if ( *(_BYTE *)(v12 + 1) == 1 && v10 )
          {
            if ( *(_DWORD *)(v11 + 12) && v22 > *(_DWORD *)(v11 + 16) + *(_DWORD *)(v12 + 16) )
              goto LABEL_33;
            v21 = a4;
            if ( !a4 )
              v21 = *(_WORD *)(v12 + 4) - a3;
            v19 = *(_DWORD *)(v11 + 4) + (unsigned __int16)a3;
            if ( !v21 || (unsigned int)(unsigned __int16)v21 + v19 > v13 )
LABEL_33:
              v20 = 0;
            else
              memcpy_0(a5, (const void *)(v10 + v19), (unsigned __int16)v21);
          }
          *(_WORD *)a6 = v21;
          sub_1000AF80(a1);
          result = v20;
          break;
        default:
LABEL_30:
          result = 0;
          break;
      }
    }
  }
  else
  {
    result = 0;
  }
  return result;
}
// 100D0A4C: using guessed type int dword_100D0A4C;
// 100D0A50: using guessed type int dword_100D0A50;
// 100D0A60: using guessed type int dword_100D0A60;
// 100D0A64: using guessed type int dword_100D0A64;
// 100D0A70: using guessed type int dword_100D0A70;
// 100D0A74: using guessed type int dword_100D0A74;

//----- (1000B980) --------------------------------------------------------
char __cdecl sub_1000B980(char a1, int a2, __int16 a3, __int16 a4, void *a5)
{
  int v5; // ecx@0
  int v7; // [sp+0h] [bp-4h]@1

  v7 = v5;
  return sub_1000B700(a1, a2, a3, a4, a5, (int)&v7);
}

//----- (1000B9B0) --------------------------------------------------------
char __cdecl sub_1000B9B0(char a1, int a2, void *a3)
{
  int v3; // ecx@0
  int v5; // [sp+0h] [bp-4h]@1

  v5 = v3;
  return sub_1000B700(a1, a2, 0, 0, a3, (int)&v5);
}

//----- (1000B9E0) --------------------------------------------------------
char __cdecl sub_1000B9E0(char a1, int a2, void *a3, int a4)
{
  return sub_1000B700(a1, a2, 0, 0, a3, a4);
}

//----- (1000BA10) --------------------------------------------------------
signed int __fastcall sub_1000BA10(unsigned __int8 a1)
{
  signed int result; // eax@1

  result = 176;
  if ( a1 < 0xB0u )
    result = a1;
  return result;
}

//----- (1000BA20) --------------------------------------------------------
char __cdecl sub_1000BA20(unsigned __int8 a1)
{
  return byte_1005FB84[6 * sub_1000BA10(a1)];
}

//----- (1000BA40) --------------------------------------------------------
__int16 __cdecl sub_1000BA40(unsigned __int8 a1)
{
  return word_1005FB80[3 * sub_1000BA10(a1)];
}
// 1005FB80: using guessed type __int16 word_1005FB80[];

//----- (1000BA60) --------------------------------------------------------
signed int __cdecl sub_1000BA60(char a1, char a2)
{
  _DWORD *v2; // esi@3
  int v3; // eax@5
  char *v5; // [sp-18h] [bp-20h]@3
  void *v6; // [sp-10h] [bp-18h]@3
  int v7; // [sp-8h] [bp-10h]@3

  if ( a2 == 11 )
  {
    v7 = 3;
    v2 = &unk_10060EF0;
    v6 = &unk_10060EF0;
    v5 = &a1;
  }
  else
  {
    if ( a2 != 16 )
      return 42066;
    v7 = 7;
    v2 = &unk_10060F08;
    v6 = &unk_10060F08;
    v5 = &a1;
  }
  v3 = sub_10005850(v5, 1u, (int)v6, 8, v7, 7);
  if ( v3 < 7 )
    return v2[2 * v3 + 1];
  return 42066;
}

//----- (1000BAC0) --------------------------------------------------------
int __cdecl sub_1000BAC0(char a1)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = sub_10005850(&a1, 1u, (int)&unk_10060F50, 8, 2, 2);
  if ( v1 == 2 )
    result = 42066;
  else
    result = dword_10060F54[2 * v1];
  return result;
}
// 10060F54: using guessed type int dword_10060F54[];

//----- (1000BB00) --------------------------------------------------------
signed int __cdecl sub_1000BB00(char a1, char a2, char a3)
{
  _DWORD *v3; // esi@3
  int v4; // eax@5
  signed int result; // eax@7
  char *v6; // [sp-18h] [bp-20h]@3
  void *v7; // [sp-10h] [bp-18h]@3

  if ( a2 == 11 )
  {
    v3 = &unk_10060F60;
    v7 = &unk_10060F60;
    v6 = &a1;
  }
  else
  {
    if ( a2 != 16 )
      return 42066;
    v3 = &unk_10060F78;
    v7 = &unk_10060F78;
    v6 = &a1;
  }
  v4 = sub_10005850(v6, 1u, (int)v7, 12, 2, 2);
  if ( v4 == 2 )
    return 42066;
  if ( a3 )
    result = v3[3 * v4 + 1];
  else
    result = v3[3 * v4 + 2];
  return result;
}

//----- (1000BB70) --------------------------------------------------------
int __cdecl sub_1000BB70(char a1)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = sub_10005850(&a1, 1u, (int)&unk_10060F90, 8, 3, 3);
  if ( v1 == 3 )
    result = 42066;
  else
    result = dword_10060F94[2 * v1];
  return result;
}
// 10060F94: using guessed type int dword_10060F94[];

//----- (1000BBB0) --------------------------------------------------------
int __cdecl sub_1000BBB0(char a1)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = sub_10005850(&a1, 1u, (int)&unk_10060FA8, 8, 2, 2);
  if ( v1 == 2 )
    result = 42066;
  else
    result = dword_10060FAC[2 * v1];
  return result;
}
// 10060FAC: using guessed type int dword_10060FAC[];

//----- (1000BBF0) --------------------------------------------------------
char __cdecl sub_1000BBF0(char a1, int a2)
{
  int v2; // eax@1

  v2 = sub_1000BA60(a1, 11);
  return sub_10003FF0(v2, a2, 24);
}

//----- (1000BC10) --------------------------------------------------------
char __cdecl sub_1000BC10(char a1, int a2)
{
  int v2; // eax@1

  v2 = sub_1000BAC0(a1);
  return sub_10003FF0(v2, a2, 2720);
}

//----- (1000BC40) --------------------------------------------------------
char __cdecl sub_1000BC40(char a1, int a2)
{
  int v2; // eax@1
  int v3; // eax@1

  v2 = sub_1000BB00(a1, 11, 1);
  sub_10003FF0(v2, a2, 36);
  v3 = sub_1000BB00(a1, 11, 0);
  return sub_10003FF0(v3, a2 + 36, 32);
}

//----- (1000BC90) --------------------------------------------------------
char __cdecl sub_1000BC90(char a1, int a2)
{
  int v2; // eax@1

  v2 = sub_1000BB70(a1);
  return sub_10003FF0(v2, a2, 2192);
}

//----- (1000BCC0) --------------------------------------------------------
char __cdecl sub_1000BCC0(char a1, int a2)
{
  int v2; // eax@1

  v2 = sub_1000BBB0(a1);
  return sub_10003FF0(v2, a2, 60);
}

//----- (1000BCE0) --------------------------------------------------------
char __cdecl sub_1000BCE0(int a1)
{
  return sub_10003FF0(6453, a1, 5);
}

//----- (1000BD00) --------------------------------------------------------
char __cdecl sub_1000BD00(char a1)
{
  char result; // al@1

  result = 0;
  if ( a1 )
  {
    if ( a1 == 1 )
      result = sub_10005FD0(11);
  }
  else
  {
    result = sub_10005FD0(5);
  }
  return result;
}

//----- (1000BD30) --------------------------------------------------------
char sub_1000BD30()
{
  char v1; // [sp+4h] [bp-100h]@1

  memset(&v1, 0, 0xFCu);
  if ( sub_1000B9B0(1, 1309, &v1) )
    sub_10009B60((int)&v1);
  return 0;
}

//----- (1000BDD0) --------------------------------------------------------
BOOL __cdecl sub_1000BDD0(int a1, int a2)
{
  return sub_10003FD0(6455, a2, 252) == 0;
}

//----- (1000BDF0) --------------------------------------------------------
char __cdecl sub_1000BDF0(int a1, char a2, int a3, int a4, int a5)
{
  char result; // al@1

  result = 0;
  if ( a2 )
  {
    if ( a2 == 1 )
      result = sub_1000BDD0(a1, a5);
  }
  else
  {
    result = sub_1000BD30();
  }
  return result;
}

//----- (1000BE30) --------------------------------------------------------
char sub_1000BE30()
{
  unsigned __int16 v0; // dx@1
  int v1; // ecx@2
  unsigned __int16 v2; // ax@9
  int v4[7]; // [sp+8h] [bp-1Ch]@1

  sub_10004030(6465, (int)v4, 28);
  v0 = 0;
LABEL_2:
  v1 = v4[v0];
  if ( v1 == 1 || v1 == 2 || v1 == 4 || v1 == 64 || v1 == 128 || v1 == 16 || v1 == 32 )
  {
    v2 = 0;
    while ( v2 == v0 || v4[v2] != v1 )
    {
      if ( ++v2 >= 7u )
      {
        if ( ++v0 < 7u )
          goto LABEL_2;
        return 1;
      }
    }
  }
  return 0;
}
// 1000BE30: using guessed type int var_1C[7];

//----- (1000BEB0) --------------------------------------------------------
char __cdecl sub_1000BEB0(char a1)
{
  char result; // al@3

  if ( a1 == 6 )
  {
    result = 0;
  }
  else if ( a1 == 7 )
  {
    result = 1;
  }
  else
  {
    sub_10004310("..\\lib\\acl\\iop\\gia\\iop_gia_data_intf.c", 294, 0, 0);
    result = 2;
  }
  return result;
}

//----- (1000BEF0) --------------------------------------------------------
int __cdecl sub_1000BEF0(char a1)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = sub_10005850(&a1, 1u, (int)&unk_10066338, 8, 67, 0);
  if ( v1 )
  {
    result = dword_1006633C[2 * v1];
  }
  else
  {
    sub_10004310("..\\lib\\adl\\iop_cnfg_mngr_intf.c", 1932, 0, 0);
    result = 0;
  }
  return result;
}
// 1006633C: using guessed type int dword_1006633C[];

//----- (1000BF40) --------------------------------------------------------
int __cdecl sub_1000BF40(int a1)
{
  return (*(int (**)(void))(a1 + 4))();
}

//----- (1000BF50) --------------------------------------------------------
char __cdecl sub_1000BF50(int a1, unsigned int a2)
{
  char result; // al@1

  result = 1;
  if ( a2 > 4 && !memcmp(*(const void **)(a1 + 16), "PASS", 5u) )
    result = 0;
  return result;
}

//----- (1000BF80) --------------------------------------------------------
int __cdecl sub_1000BF80(int a1, int a2, int a3)
{
  int *v3; // esi@1
  signed int v4; // edi@1
  int result; // eax@2

  v3 = (int *)(sub_10007A10() + 36);
  v4 = 5;
  do
  {
    result = *v3;
    if ( *v3 )
    {
      result = *(_DWORD *)(result + 4);
      if ( result )
        result = ((int (__cdecl *)(int, int, int))result)(a1, a2, a3);
    }
    ++v3;
    --v4;
  }
  while ( v4 );
  return result;
}

//----- (1000BFF0) --------------------------------------------------------
int __cdecl sub_1000BFF0(int a1, char a2)
{
  return sub_1000BF80(a1, (int)&a2, 1);
}

//----- (1000C010) --------------------------------------------------------
int __cdecl sub_1000C010(int a1, int a2, int a3)
{
  int v4; // [sp+0h] [bp-8h]@1
  int v5; // [sp+4h] [bp-4h]@1

  v4 = a2;
  v5 = a3;
  return sub_1000BF80(a1, (int)&v4, 2);
}

//----- (1000C040) --------------------------------------------------------
int __cdecl sub_1000C040(int a1, int a2, int a3, int a4, int a5)
{
  int v6; // [sp+0h] [bp-10h]@1
  int v7; // [sp+4h] [bp-Ch]@1
  int v8; // [sp+8h] [bp-8h]@1
  int v9; // [sp+Ch] [bp-4h]@1

  v7 = a3;
  v8 = a4;
  v6 = a2;
  v9 = a5;
  return sub_1000BF80(a1, (int)&v6, 4);
}

//----- (1000C080) --------------------------------------------------------
int __cdecl sub_1000C080(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v7; // [sp+0h] [bp-14h]@1
  int v8; // [sp+4h] [bp-10h]@1
  int v9; // [sp+8h] [bp-Ch]@1
  int v10; // [sp+Ch] [bp-8h]@1
  int v11; // [sp+10h] [bp-4h]@1

  v7 = a2;
  v9 = a4;
  v10 = a5;
  v8 = a3;
  v11 = a6;
  return sub_1000BF80(a1, (int)&v7, 5);
}

//----- (1000C0C0) --------------------------------------------------------
int __cdecl sub_1000C0C0(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v8; // [sp+0h] [bp-18h]@1
  int v9; // [sp+4h] [bp-14h]@1
  int v10; // [sp+8h] [bp-10h]@1
  int v11; // [sp+Ch] [bp-Ch]@1
  int v12; // [sp+10h] [bp-8h]@1
  int v13; // [sp+14h] [bp-4h]@1

  v8 = a2;
  v9 = a3;
  v11 = a5;
  v12 = a6;
  v10 = a4;
  v13 = a7;
  return sub_1000BF80(a1, (int)&v8, 6);
}

//----- (1000C110) --------------------------------------------------------
char __cdecl sub_1000C110(int a1)
{
  char v1; // bl@1
  char *v2; // eax@1
  unsigned int v3; // ecx@1
  _DWORD *v4; // eax@1

  v1 = 0;
  v2 = sub_10007A10();
  v3 = 0;
  v4 = v2 + 36;
  do
  {
    if ( v3 >= 5 )
      break;
    if ( *v4 == a1 )
    {
      v1 = 1;
      *v4 = 0;
    }
    ++v3;
    ++v4;
  }
  while ( !v1 );
  return v1;
}

//----- (1000C140) --------------------------------------------------------
int __cdecl sub_1000C140(int a1)
{
  int result; // eax@1

  result = sub_10006FF0();
  dword_101375C4[result] = a1;
  return result;
}
// 101375C4: using guessed type int dword_101375C4[];

//----- (1000C160) --------------------------------------------------------
char *sub_1000C160(char *Format, ...)
{
  int v1; // esi@1
  char *result; // eax@1
  va_list va; // [sp+10h] [bp+8h]@1

  va_start(va, Format);
  v1 = sub_10006FF0() << 8;
  sub_10026A6F(&byte_101308C8[v1], 0x100u, Format, va);
  result = &byte_101308C8[v1];
  byte_101309C6[v1] = 42;
  byte_101309C7[v1] = 0;
  return result;
}

//----- (1000C1A0) --------------------------------------------------------
int __cdecl sub_1000C1A0(int a1, int ArgList)
{
  int result; // eax@1
  char *v3; // eax@4

  result = sub_10006FF0();
  dword_101375B0[result] = a1;
  if ( ArgList >= 0 )
  {
    dword_101354CC[result] = ArgList;
    if ( ArgList > 14 )
    {
      v3 = sub_1000C160(
             "Floating point (double) precision set to a value (%d) greater than supported by the UTF (%d)",
             ArgList,
             14);
      result = sub_1000C040(3, (int)"**Warning**", (int)"..\\lib\\utf\\utf_verify.c", (int)"909", (int)v3);
    }
  }
  else
  {
    dword_101354CC[result] = 8;
  }
  return result;
}
// 101354CC: using guessed type int dword_101354CC[];
// 101375B0: using guessed type int dword_101375B0[];

//----- (1000C200) --------------------------------------------------------
int __cdecl sub_1000C200(int ArgList)
{
  return sub_1000C1A0(0, ArgList);
}

//----- (1000C210) --------------------------------------------------------
int __cdecl sub_1000C210(int a1, int ArgList)
{
  int result; // eax@1
  char *v3; // eax@4

  result = sub_10006FF0();
  dword_10138BCC[result] = a1;
  if ( ArgList >= 0 )
  {
    dword_10138BB8[result] = ArgList;
    if ( ArgList > 9 )
    {
      v3 = sub_1000C160(
             "Floating point (float) precision set to a value (%d) greater than supported by the UTF (%d)",
             ArgList,
             9);
      result = sub_1000C040(3, (int)"**Warning**", (int)"..\\lib\\utf\\utf_verify.c", (int)"977", (int)v3);
    }
  }
  else
  {
    dword_10138BB8[result] = 8;
  }
  return result;
}
// 10138BB8: using guessed type int dword_10138BB8[];
// 10138BCC: using guessed type int dword_10138BCC[];

//----- (1000C270) --------------------------------------------------------
int __cdecl sub_1000C270(int ArgList)
{
  return sub_1000C210(0, ArgList);
}

//----- (1000C280) --------------------------------------------------------
int sub_1000C280()
{
  int v0; // esi@1
  int result; // eax@1

  v0 = sub_10006FF0();
  sub_1000C140(1);
  sub_1000C270(-1);
  result = sub_1000C200(-1);
  dword_101354B8[v0] = 0;
  return result;
}
// 101354B8: using guessed type int dword_101354B8[];

//----- (1000C2B0) --------------------------------------------------------
int __cdecl sub_1000C2B0(unsigned __int8 *a1)
{
  return sub_10008880(a1, 0, 0, 0, 0);
}

//----- (1000C2D0) --------------------------------------------------------
unsigned int __cdecl sub_1000C2D0(void *a1)
{
  return sub_10008820(a1, 0xCu, 0);
}

//----- (1000C2F0) --------------------------------------------------------
unsigned int __cdecl sub_1000C2F0(void *a1)
{
  return sub_10008820(a1, 0x20u, 0);
}

//----- (1000C310) --------------------------------------------------------
unsigned int __cdecl sub_1000C310(void *a1)
{
  return sub_10008820(a1, 0x1Cu, 0);
}

//----- (1000C330) --------------------------------------------------------
unsigned int __cdecl sub_1000C330(void *a1)
{
  return sub_10008820(a1, 0x10u, 0);
}

//----- (1000C350) --------------------------------------------------------
unsigned int __cdecl sub_1000C350(void *a1)
{
  return sub_10008820(a1, 8u, 0);
}

//----- (1000C370) --------------------------------------------------------
unsigned int __cdecl sub_1000C370(void *a1)
{
  unsigned int result; // eax@1

  result = sub_1000C2F0((char *)a1 + 64);
  if ( !result )
  {
    result = sub_1000C310((char *)a1 + 36);
    if ( !result )
    {
      result = sub_1000C330(a1);
      if ( !result )
      {
        result = sub_1000C2D0((char *)a1 + 96);
        if ( !result )
        {
          result = sub_1000C2D0((char *)a1 + 24);
          if ( !result )
            result = sub_1000C350((char *)a1 + 16);
        }
      }
    }
  }
  return result;
}

//----- (1000C3D0) --------------------------------------------------------
signed int __usercall sub_1000C3D0@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>)
{
  int v3; // edi@1
  signed int result; // eax@1
  int v5; // esi@1
  unsigned __int16 v6; // bx@2
  unsigned __int16 v7; // ax@2
  unsigned int v8; // ebx@2
  unsigned __int16 v9; // dx@2
  int v10; // edx@2
  int v11; // eax@2
  int v12; // esi@2
  unsigned int v13; // edx@2
  int v14; // eax@2
  int v15; // esi@2
  unsigned int v16; // ST2C_4@4
  unsigned int v17; // ST30_4@4
  unsigned int v18; // ST34_4@4
  unsigned int v19; // esi@4
  unsigned int v20; // ST2C_4@5
  unsigned int v21; // ST30_4@5
  unsigned int v22; // ST34_4@5
  unsigned int v23; // esi@5
  unsigned int v24; // ST30_4@6
  unsigned int v25; // ST34_4@6
  unsigned int v26; // edx@6
  unsigned int v27; // esi@6
  __int16 v28; // ST38_2@6
  unsigned int v29; // ST1C_4@6
  unsigned int v30; // ST20_4@6
  unsigned int v31; // ST24_4@6
  unsigned int v32; // esi@6
  unsigned int v33; // edx@6
  unsigned int v34; // ST30_4@6
  unsigned int v35; // ST34_4@6
  unsigned int v36; // esi@6
  unsigned int v37; // ST1C_4@6
  unsigned int v38; // ST20_4@6
  unsigned int v39; // ST24_4@6
  unsigned int v40; // esi@6
  unsigned int v41; // ST30_4@6
  unsigned int v42; // edx@6
  unsigned int v43; // ST34_4@6
  unsigned int v44; // esi@6
  unsigned int v45; // ST1C_4@6
  unsigned int v46; // ST20_4@6
  unsigned int v47; // ST24_4@6
  unsigned int v48; // esi@6
  unsigned int v49; // edx@6
  unsigned int v50; // ST30_4@6
  unsigned int v51; // ST34_4@6
  unsigned int v52; // esi@6
  unsigned int v53; // ST1C_4@6
  unsigned int v54; // ST20_4@6
  unsigned int v55; // ST24_4@6
  unsigned int v56; // ST28_4@6
  unsigned int v57; // ST30_4@6
  unsigned int v58; // edx@6
  unsigned int v59; // ST34_4@6
  unsigned int v60; // ST38_4@6
  unsigned int v61; // ST20_4@6
  unsigned int v62; // ST24_4@6
  unsigned int v63; // ebx@6
  unsigned int v64; // eax@6
  unsigned int v65; // [sp+14h] [bp-20h]@2
  unsigned int v66; // [sp+18h] [bp-1Ch]@2
  unsigned int v67; // [sp+1Ch] [bp-18h]@2
  unsigned int v68; // [sp+20h] [bp-14h]@2

  v3 = a1;
  result = 0;
  v5 = a2;
  if ( *(_BYTE *)(v3 + 260) & 1 )
  {
    BYTE1(result) = *(_BYTE *)(a2 + 3);
    HIBYTE(v6) = *(_BYTE *)(a2 + 7);
    LOBYTE(result) = *(_BYTE *)(a2 + 2);
    LOBYTE(v6) = *(_BYTE *)(a2 + 6);
    v65 = *(_DWORD *)v3 ^ (*(_BYTE *)a2 | ((*(_BYTE *)(a2 + 1) | (result << 8)) << 8));
    HIBYTE(v7) = *(_BYTE *)(a2 + 11);
    v8 = *(_DWORD *)(v3 + 4) ^ (*(_BYTE *)(a2 + 4) | ((*(_BYTE *)(a2 + 5) | (v6 << 8)) << 8));
    LOBYTE(v7) = *(_BYTE *)(a2 + 10);
    v66 = v8;
    HIBYTE(v9) = *(_BYTE *)(a2 + 15);
    v67 = *(_DWORD *)(v3 + 8) ^ (*(_BYTE *)(v5 + 8) | ((*(_BYTE *)(v5 + 9) | (v7 << 8)) << 8));
    LOBYTE(v9) = *(_BYTE *)(v5 + 14);
    v10 = *(_BYTE *)(v5 + 13) | (v9 << 8);
    v11 = *(_BYTE *)(v5 + 12);
    v12 = *(_DWORD *)(v3 + 256);
    v13 = *(_DWORD *)(v3 + 12) ^ (v11 | (v10 << 8));
    v14 = v3 + 16 * (v12 - 9);
    v15 = v12 - 12;
    v68 = v13;
    if ( v15 )
    {
      if ( v15 != 2 )
      {
LABEL_6:
        v24 = *(_DWORD *)(v14 + 4) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v66] ^ *(_DWORD *)&dword_10068290[2 * (v65 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v67)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v68 >> 16)];
        v25 = *(_DWORD *)(v14 + 8) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v67] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v65 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v66 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v68)];
        v26 = *(_DWORD *)v14 ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v65] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v8)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v67 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v13 >> 24)];
        v27 = *(_DWORD *)(v14 + 12) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v68] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v65)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v66 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v67 >> 24)];
        v28 = *(_WORD *)(v14 + 12) ^ dword_10067690[2 * (unsigned __int8)v68] ^ dword_10067A90[2 * BYTE1(v65)] ^ dword_10067E90[2 * (unsigned __int8)(v66 >> 16)] ^ dword_10068290[2 * (v67 >> 24)];
        v29 = *(_DWORD *)(v14 + 16) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v26] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v24)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v25 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v27 >> 24)];
        v30 = *(_DWORD *)(v14 + 20) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v24] ^ *(_DWORD *)&dword_10068290[2 * (v26 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v25)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v27 >> 16)];
        v31 = *(_DWORD *)(v14 + 24) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v25] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v26 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v24 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * HIBYTE(v28)];
        v32 = *(_DWORD *)(v14 + 28) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v28] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v26)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v24 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v25 >> 24)];
        v33 = *(_DWORD *)(v14 + 32) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v29] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v30)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v31 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v32 >> 24)];
        v34 = *(_DWORD *)(v14 + 36) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v30] ^ *(_DWORD *)&dword_10068290[2 * (v29 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v31)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v32 >> 16)];
        v35 = *(_DWORD *)(v14 + 40) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v31] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v29 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v30 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v32)];
        v36 = *(_DWORD *)(v14 + 44) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v32] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v29)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v30 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v31 >> 24)];
        v37 = *(_DWORD *)(v14 + 48) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v33] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v34)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v35 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v36 >> 24)];
        v38 = *(_DWORD *)(v14 + 52) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v34] ^ *(_DWORD *)&dword_10068290[2 * (v33 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v35)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v36 >> 16)];
        v39 = *(_DWORD *)(v14 + 56) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v35] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v33 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v34 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v36)];
        v40 = *(_DWORD *)(v14 + 60) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v36] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v33)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v34 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v35 >> 24)];
        v41 = *(_DWORD *)(v14 + 68) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v38] ^ *(_DWORD *)&dword_10068290[2 * (v37 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v39)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v40 >> 16)];
        v42 = *(_DWORD *)(v14 + 64) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v37] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v38)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v39 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v40 >> 24)];
        v43 = *(_DWORD *)(v14 + 72) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v39] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v37 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v38 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v40)];
        v44 = *(_DWORD *)(v14 + 76) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v40] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v37)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v38 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v39 >> 24)];
        v45 = *(_DWORD *)(v14 + 80) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v42] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v41)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v43 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v44 >> 24)];
        v46 = *(_DWORD *)(v14 + 84) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v41] ^ *(_DWORD *)&dword_10068290[2 * (v42 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v43)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v44 >> 16)];
        v47 = *(_DWORD *)(v14 + 88) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v43] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v42 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v41 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v44)];
        v48 = *(_DWORD *)(v14 + 92) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v44] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v42)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v41 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v43 >> 24)];
        v49 = *(_DWORD *)(v14 + 96) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v45] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v46)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v47 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v48 >> 24)];
        v50 = *(_DWORD *)(v14 + 100) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v46] ^ *(_DWORD *)&dword_10068290[2 * (v45 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v47)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v48 >> 16)];
        v51 = *(_DWORD *)(v14 + 104) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v47] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v45 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v46 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v48)];
        v52 = *(_DWORD *)(v14 + 108) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v48] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v45)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v46 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v47 >> 24)];
        v53 = *(_DWORD *)(v14 + 112) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v49] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v50)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v51 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v52 >> 24)];
        v54 = *(_DWORD *)(v14 + 116) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v50] ^ *(_DWORD *)&dword_10068290[2 * (v49 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v51)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v52 >> 16)];
        v55 = *(_DWORD *)(v14 + 120) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v51] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v49 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v50 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v52)];
        v56 = *(_DWORD *)(v14 + 124) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v52] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v49)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v50 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v51 >> 24)];
        v57 = *(_DWORD *)(v14 + 132) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v54] ^ *(_DWORD *)&dword_10068290[2 * (v53 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v55)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v56 >> 16)];
        v58 = *(_DWORD *)(v14 + 128) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v53] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v54)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v55 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v56 >> 24)];
        v59 = *(_DWORD *)(v14 + 136) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v55] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v53 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v54 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v56)];
        v60 = *(_DWORD *)(v14 + 140) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v56] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v53)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v54 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v55 >> 24)];
        v61 = *(_DWORD *)(v14 + 148) ^ dword_10068690[(unsigned __int8)v57] ^ dword_10069290[v58 >> 24] ^ dword_10068A90[BYTE1(v59)] ^ dword_10068E90[(unsigned __int8)(v60 >> 16)];
        v62 = *(_DWORD *)(v14 + 152) ^ dword_10068690[(unsigned __int8)v59] ^ dword_10068E90[(unsigned __int8)(v58 >> 16)] ^ dword_10069290[v57 >> 24] ^ dword_10068A90[BYTE1(v60)];
        v63 = *(_DWORD *)(v14 + 156) ^ dword_10068690[(unsigned __int8)v60] ^ dword_10068A90[BYTE1(v58)] ^ dword_10068E90[(unsigned __int8)(v57 >> 16)] ^ dword_10069290[v59 >> 24];
        v64 = *(_DWORD *)(v14 + 144) ^ dword_10068690[(unsigned __int8)v58] ^ dword_10068A90[BYTE1(v57)] ^ dword_10068E90[(unsigned __int8)(v59 >> 16)] ^ dword_10069290[v60 >> 24];
        *(_BYTE *)(a3 + 1) = BYTE1(v64);
        *(_BYTE *)a3 = v64;
        *(_BYTE *)(a3 + 2) = v64 >> 16;
        *(_BYTE *)(a3 + 3) = BYTE3(v64);
        *(_BYTE *)(a3 + 5) = BYTE1(v61);
        *(_BYTE *)(a3 + 4) = v61;
        *(_BYTE *)(a3 + 7) = BYTE3(v61);
        *(_BYTE *)(a3 + 6) = v61 >> 16;
        *(_BYTE *)(a3 + 9) = BYTE1(v62);
        *(_BYTE *)(a3 + 8) = v62;
        *(_BYTE *)(a3 + 11) = BYTE3(v62);
        *(_BYTE *)(a3 + 10) = v62 >> 16;
        *(_BYTE *)(a3 + 12) = v63;
        *(_BYTE *)(a3 + 13) = BYTE1(v63);
        *(_BYTE *)(a3 + 15) = BYTE3(v63);
        *(_BYTE *)(a3 + 14) = v63 >> 16;
        return 1;
      }
      v16 = *(_DWORD *)(v14 - 64) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v65] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v8)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v67 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v13 >> 24)];
      v17 = *(_DWORD *)(v14 - 60) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v8] ^ *(_DWORD *)&dword_10068290[2 * (v65 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v67)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v13 >> 16)];
      v18 = *(_DWORD *)(v14 - 56) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v67] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v65 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v8 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v68)];
      v19 = *(_DWORD *)(v14 - 52) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v13] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v65)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v8 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v67 >> 24)];
      v8 = *(_DWORD *)(v14 - 44) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v17] ^ *(_DWORD *)&dword_10068290[2 * (v16 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v18)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v19 >> 16)];
      v67 = *(_DWORD *)(v14 - 40) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v18] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v16 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v17 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v19)];
      v65 = *(_DWORD *)(v14 - 48) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v16] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v17)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v18 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v19 >> 24)];
      v13 = *(_DWORD *)(v14 - 36) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v19] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v16)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v17 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v18 >> 24)];
      v68 = *(_DWORD *)(v14 - 36) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v19] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v16)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v17 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v18 >> 24)];
    }
    v20 = *(_DWORD *)(v14 - 32) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v65] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v8)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v67 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v13 >> 24)];
    v21 = *(_DWORD *)(v14 - 28) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v8] ^ *(_DWORD *)&dword_10068290[2 * (v65 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v67)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v68 >> 16)];
    v22 = *(_DWORD *)(v14 - 24) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v67] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v65 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v8 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v68)];
    v23 = *(_DWORD *)(v14 - 20) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v68] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v65)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v8 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v67 >> 24)];
    v8 = *(_DWORD *)(v14 - 12) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v21] ^ *(_DWORD *)&dword_10068290[2 * (v20 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v22)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v23 >> 16)];
    v67 = *(_DWORD *)(v14 - 8) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v22] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v20 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v21 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v23)];
    v65 = *(_DWORD *)(v14 - 16) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v20] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v21)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v22 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v23 >> 24)];
    v66 = *(_DWORD *)(v14 - 12) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v21] ^ *(_DWORD *)&dword_10068290[2 * (v20 >> 24)] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v22)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v23 >> 16)];
    v13 = *(_DWORD *)(v14 - 4) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v23] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v20)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v21 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v22 >> 24)];
    v68 = *(_DWORD *)(v14 - 4) ^ *(_DWORD *)&dword_10067690[2 * (unsigned __int8)v23] ^ *(_DWORD *)&dword_10067A90[2 * BYTE1(v20)] ^ *(_DWORD *)&dword_10067E90[2 * (unsigned __int8)(v21 >> 16)] ^ *(_DWORD *)&dword_10068290[2 * (v22 >> 24)];
    goto LABEL_6;
  }
  return result;
}
// 10068690: using guessed type int dword_10068690[];
// 10068A90: using guessed type int dword_10068A90[];
// 10068E90: using guessed type int dword_10068E90[];
// 10069290: using guessed type int dword_10069290[];

//----- (1000D480) --------------------------------------------------------
int __usercall sub_1000D480@<eax>(int a1@<esi>, int a2, unsigned int a3)
{
  int result; // eax@1
  unsigned int v4; // edi@1
  unsigned int v5; // eax@3
  bool v6; // zf@4

  result = *(_DWORD *)(a1 + 456);
  v4 = 0;
  if ( a3 )
  {
    do
    {
      if ( result == 16 )
      {
        v5 = 0;
        do
        {
          v6 = (*(_BYTE *)(v5 + a1))++ == -1;
          if ( !v6 )
            break;
          ++v5;
        }
        while ( v5 < 8 );
        sub_1000C3D0(a1 + 32, a1, a1 + 16);
        result = 0;
      }
      *(_BYTE *)(v4++ + a2) ^= *(_BYTE *)(a1 + 16 + result++);
    }
    while ( v4 < a3 );
  }
  *(_DWORD *)(a1 + 456) = result;
  return result;
}

//----- (1000D4E0) --------------------------------------------------------
signed int __usercall sub_1000D4E0@<eax>(int a1@<eax>, int a2, int a3)
{
  int v3; // ebp@1
  unsigned __int16 v4; // dx@1
  int v5; // edx@1
  unsigned __int16 v6; // cx@1
  int v7; // esi@1
  int v8; // edi@1
  unsigned int v9; // ecx@1
  unsigned __int16 v10; // dx@2
  int v11; // edx@2
  int v12; // ebx@2
  int v13; // edx@3
  int v14; // ST20_4@3
  int v15; // edx@3
  int v16; // ST24_4@3
  int v17; // edx@3
  int v18; // ST28_4@3
  unsigned int v19; // edx@3
  int v20; // ebp@3
  int v21; // esi@3
  int v22; // edi@3
  unsigned int v23; // ecx@3
  int v24; // ST20_4@3
  int v25; // ebx@3
  unsigned int v26; // edx@3
  int v27; // ST28_4@3
  int v28; // ebp@3
  int v29; // esi@3
  int v30; // edi@3
  unsigned int v31; // ecx@3
  int v32; // ST10_4@3
  int v33; // ebx@3
  int v34; // ebp@3
  unsigned int v35; // edx@3
  int v36; // ST28_4@3
  int v37; // ST24_4@3
  int v38; // ebp@3
  int v39; // esi@3
  int v40; // edi@3
  unsigned int v41; // ecx@3
  int v42; // ebx@3
  unsigned int v43; // edx@3
  int v44; // ebp@3
  int v45; // esi@3
  int v46; // edi@3
  unsigned int v47; // ecx@3
  int v48; // ST10_4@3
  int v49; // ST20_4@3
  int v50; // ebp@3
  int v51; // ebx@3
  unsigned int v52; // edx@3
  int v53; // ST28_4@3
  int v54; // ST24_4@3
  int v55; // ebp@3
  int v56; // esi@3
  int v57; // edi@3
  unsigned int v58; // ecx@3
  int v59; // ebx@3
  unsigned int v60; // edx@3
  int v61; // ST28_4@3
  int v62; // ST24_4@3
  int v63; // ebp@3
  int v64; // esi@3
  int v65; // edi@3
  unsigned int v66; // ecx@3
  int v67; // ST10_4@3
  int v68; // ebx@3
  unsigned int v69; // edx@3
  int v70; // ebp@3
  int v71; // ebp@3
  int v72; // esi@3
  int v73; // edi@3
  signed int result; // eax@3
  int v75; // edx@4
  int v76; // ST20_4@4
  unsigned int v77; // edx@4
  int v78; // ebp@4
  int v79; // esi@4
  int v80; // edi@4
  int v81; // ecx@4
  unsigned int v82; // edx@4
  int v83; // ST20_4@4
  int v84; // ebp@4
  int v85; // esi@4
  int v86; // edi@4
  int v87; // ecx@4
  int v88; // ebx@4
  unsigned int v89; // edx@4
  int v90; // ebp@4
  int v91; // esi@4
  int v92; // edi@4
  int v93; // ecx@4
  unsigned int v94; // edx@4
  int v95; // ST20_4@4
  int v96; // ebp@4
  int v97; // esi@4
  int v98; // edi@4
  int v99; // ecx@4
  unsigned int v100; // edx@4
  int v101; // ST20_4@4
  int v102; // ST10_4@4
  int v103; // ebp@4
  int v104; // esi@4
  int v105; // edi@4
  int v106; // ST10_4@4
  int v107; // ecx@4
  unsigned int v108; // edx@4
  int v109; // ST20_4@4
  int v110; // ebp@4
  int v111; // esi@4
  int v112; // edi@4
  int v113; // ecx@4
  unsigned int v114; // edx@4
  int v115; // ST20_4@4
  int v116; // ebp@4
  int v117; // esi@4
  int v118; // edi@4
  int v119; // ecx@4
  unsigned int v120; // edx@4
  int v121; // ST10_4@4
  int v122; // ebp@4
  int v123; // ebp@4
  int v124; // esi@4
  int v125; // edi@4
  int v126; // ebp@5
  int v127; // esi@5
  int v128; // edi@5
  unsigned int v129; // ecx@5
  int v130; // edx@5
  int v131; // esi@5
  int v132; // edi@5
  unsigned int v133; // ecx@5
  int v134; // ebp@5
  int v135; // esi@5
  int v136; // edi@5
  unsigned int v137; // ecx@5
  int v138; // edx@5
  int v139; // esi@5
  int v140; // edi@5
  unsigned int v141; // ecx@5
  int v142; // ebp@5
  int v143; // esi@5
  int v144; // edi@5
  unsigned int v145; // ecx@5
  int v146; // edx@5
  int v147; // esi@5
  int v148; // edi@5
  unsigned int v149; // ecx@5
  int v150; // ebp@5
  int v151; // esi@5
  int v152; // edi@5
  unsigned int v153; // ecx@5
  int v154; // edx@5
  int v155; // esi@5
  int v156; // edi@5
  unsigned int v157; // ecx@5
  int v158; // ebp@5
  int v159; // esi@5
  int v160; // edi@5
  unsigned int v161; // ecx@5
  int v162; // edx@5
  int v163; // edx@5
  int v164; // esi@5
  int v165; // edi@5
  int v166; // [sp+10h] [bp-20h]@1

  *(_DWORD *)(a1 + 260) = 17;
  v3 = a2;
  HIBYTE(v4) = *(_BYTE *)(a2 + 3);
  LOBYTE(v4) = *(_BYTE *)(a2 + 2);
  v5 = *(_BYTE *)a2 | ((*(_BYTE *)(a2 + 1) | (v4 << 8)) << 8);
  *(_DWORD *)a1 = v5;
  HIBYTE(v6) = *(_BYTE *)(a2 + 7);
  v166 = v5;
  LOBYTE(v6) = *(_BYTE *)(a2 + 6);
  v7 = ((*(_BYTE *)(a2 + 5) | (v6 << 8)) << 8) | *(_BYTE *)(a2 + 4);
  *(_DWORD *)(a1 + 4) = v7;
  HIBYTE(v6) = *(_BYTE *)(a2 + 11);
  LOBYTE(v6) = *(_BYTE *)(a2 + 10);
  v8 = ((*(_BYTE *)(v3 + 9) | (v6 << 8)) << 8) | *(_BYTE *)(v3 + 8);
  *(_DWORD *)(a1 + 8) = v8;
  HIBYTE(v6) = *(_BYTE *)(a2 + 15);
  LOBYTE(v6) = *(_BYTE *)(a2 + 14);
  v9 = *(_BYTE *)(v3 + 12) | ((*(_BYTE *)(v3 + 13) | (v6 << 8)) << 8);
  *(_DWORD *)(a1 + 12) = v9;
  if ( a3 == 16 )
  {
    v126 = v5 ^ dword_10069290[(unsigned __int8)v9] ^ dword_10068690[BYTE1(v9)] ^ dword_10068A90[(unsigned __int8)(v9 >> 16)] ^ dword_10068E90[v9 >> 24] ^ 1;
    v127 = v126 ^ v7;
    *(_DWORD *)(a1 + 16) = v126;
    *(_DWORD *)(a1 + 20) = v127;
    v128 = v127 ^ v8;
    *(_DWORD *)(a1 + 24) = v128;
    v129 = v128 ^ v9;
    *(_DWORD *)(a1 + 28) = v129;
    v130 = v126 ^ dword_10069290[(unsigned __int8)v129] ^ dword_10068690[BYTE1(v129)] ^ dword_10068A90[(unsigned __int8)(v129 >> 16)] ^ dword_10068E90[v129 >> 24] ^ 2;
    v131 = v130 ^ v127;
    *(_DWORD *)(a1 + 32) = v130;
    *(_DWORD *)(a1 + 36) = v131;
    v132 = v131 ^ v128;
    *(_DWORD *)(a1 + 40) = v132;
    v133 = v132 ^ v129;
    *(_DWORD *)(a1 + 44) = v133;
    v134 = v130 ^ dword_10069290[(unsigned __int8)v133] ^ dword_10068690[BYTE1(v133)] ^ dword_10068A90[(unsigned __int8)(v133 >> 16)] ^ dword_10068E90[v133 >> 24] ^ 4;
    v135 = v134 ^ v131;
    v136 = v135 ^ v132;
    v137 = v136 ^ v133;
    *(_DWORD *)(a1 + 48) = v134;
    *(_DWORD *)(a1 + 52) = v135;
    *(_DWORD *)(a1 + 56) = v136;
    *(_DWORD *)(a1 + 60) = v137;
    v138 = v134 ^ dword_10069290[(unsigned __int8)v137] ^ dword_10068690[BYTE1(v137)] ^ dword_10068A90[(unsigned __int8)(v137 >> 16)] ^ dword_10068E90[v137 >> 24] ^ 8;
    *(_DWORD *)(a1 + 64) = v138;
    v139 = v138 ^ v135;
    *(_DWORD *)(a1 + 68) = v139;
    v140 = v139 ^ v136;
    *(_DWORD *)(a1 + 72) = v140;
    v141 = v140 ^ v137;
    *(_DWORD *)(a1 + 76) = v141;
    v142 = v138 ^ dword_10069290[(unsigned __int8)v141] ^ dword_10068690[BYTE1(v141)] ^ dword_10068A90[(unsigned __int8)(v141 >> 16)] ^ dword_10068E90[v141 >> 24] ^ 0x10;
    v143 = v142 ^ v139;
    v144 = v143 ^ v140;
    v145 = v144 ^ v141;
    *(_DWORD *)(a1 + 80) = v142;
    *(_DWORD *)(a1 + 84) = v143;
    *(_DWORD *)(a1 + 88) = v144;
    *(_DWORD *)(a1 + 92) = v145;
    v146 = v142 ^ dword_10069290[(unsigned __int8)v145] ^ dword_10068690[BYTE1(v145)] ^ dword_10068A90[(unsigned __int8)(v145 >> 16)] ^ dword_10068E90[v145 >> 24] ^ 0x20;
    v147 = v146 ^ v143;
    v148 = v147 ^ v144;
    v149 = v148 ^ v145;
    *(_DWORD *)(a1 + 100) = v147;
    *(_DWORD *)(a1 + 104) = v148;
    *(_DWORD *)(a1 + 108) = v149;
    *(_DWORD *)(a1 + 96) = v146;
    v150 = v146 ^ dword_10069290[(unsigned __int8)v149] ^ dword_10068690[BYTE1(v149)] ^ dword_10068A90[(unsigned __int8)(v149 >> 16)] ^ dword_10068E90[v149 >> 24] ^ 0x40;
    v151 = v150 ^ v147;
    v152 = v151 ^ v148;
    v153 = v152 ^ v149;
    *(_DWORD *)(a1 + 112) = v150;
    *(_DWORD *)(a1 + 116) = v151;
    *(_DWORD *)(a1 + 120) = v152;
    *(_DWORD *)(a1 + 124) = v153;
    v154 = v150 ^ dword_10069290[(unsigned __int8)v153] ^ dword_10068690[BYTE1(v153)] ^ dword_10068A90[(unsigned __int8)(v153 >> 16)] ^ dword_10068E90[v153 >> 24] ^ 0x80;
    v155 = v154 ^ v151;
    *(_DWORD *)(a1 + 128) = v154;
    *(_DWORD *)(a1 + 132) = v155;
    v156 = v155 ^ v152;
    *(_DWORD *)(a1 + 136) = v156;
    v157 = v156 ^ v153;
    *(_DWORD *)(a1 + 140) = v157;
    v158 = v154 ^ dword_10069290[(unsigned __int8)v157] ^ dword_10068690[BYTE1(v157)] ^ dword_10068A90[(unsigned __int8)(v157 >> 16)] ^ dword_10068E90[v157 >> 24] ^ 0x1B;
    v159 = v158 ^ v155;
    v160 = v159 ^ v156;
    v161 = v160 ^ v157;
    *(_DWORD *)(a1 + 148) = v159;
    *(_DWORD *)(a1 + 152) = v160;
    *(_DWORD *)(a1 + 144) = v158;
    *(_DWORD *)(a1 + 156) = v161;
    v162 = dword_10069290[(unsigned __int8)v161] ^ dword_10068690[BYTE1(v161)] ^ dword_10068A90[(unsigned __int8)(v161 >> 16)] ^ dword_10068E90[v161 >> 24];
    *(_DWORD *)(a1 + 256) = 10;
    v163 = v158 ^ v162 ^ 0x36;
    v164 = v163 ^ v159;
    v165 = v164 ^ v160;
    *(_DWORD *)(a1 + 168) = v165;
    *(_DWORD *)(a1 + 164) = v164;
    *(_DWORD *)(a1 + 160) = v163;
    *(_DWORD *)(a1 + 172) = v165 ^ v161;
    result = 1;
  }
  else
  {
    HIBYTE(v10) = *(_BYTE *)(a2 + 19);
    LOBYTE(v10) = *(_BYTE *)(a2 + 18);
    v11 = v10 << 8;
    v12 = *(_BYTE *)(a2 + 17);
    if ( a3 == 24 )
    {
      v75 = *(_BYTE *)(a2 + 16) | ((v12 | v11) << 8);
      *(_DWORD *)(a1 + 16) = v75;
      v76 = v75;
      BYTE1(v75) = *(_BYTE *)(a2 + 23);
      LOBYTE(v75) = *(_BYTE *)(a2 + 22);
      v77 = *(_BYTE *)(a2 + 20) | ((*(_BYTE *)(a2 + 21) | ((unsigned __int16)v75 << 8)) << 8);
      *(_DWORD *)(a1 + 20) = v77;
      v78 = v166 ^ dword_10069290[(unsigned __int8)v77] ^ dword_10068690[BYTE1(v77)] ^ dword_10068A90[(unsigned __int8)(v77 >> 16)] ^ dword_10068E90[v77 >> 24] ^ 1;
      v79 = v78 ^ v7;
      v80 = v79 ^ v8;
      v81 = v80 ^ v9;
      *(_DWORD *)(a1 + 40) = v81 ^ v76;
      v82 = v81 ^ v76 ^ v77;
      v83 = v81 ^ v76;
      *(_DWORD *)(a1 + 36) = v81;
      *(_DWORD *)(a1 + 24) = v78;
      *(_DWORD *)(a1 + 28) = v79;
      *(_DWORD *)(a1 + 32) = v80;
      *(_DWORD *)(a1 + 44) = v82;
      v84 = v78 ^ dword_10069290[(unsigned __int8)v82] ^ dword_10068690[BYTE1(v82)] ^ dword_10068A90[(unsigned __int8)(v82 >> 16)] ^ dword_10068E90[v82 >> 24] ^ 2;
      v85 = v84 ^ v79;
      v86 = v85 ^ v80;
      v87 = v86 ^ v81;
      v89 = v87 ^ v83 ^ v82;
      v88 = v87 ^ v83;
      *(_DWORD *)(a1 + 64) = v87 ^ v83;
      *(_DWORD *)(a1 + 48) = v84;
      *(_DWORD *)(a1 + 52) = v85;
      *(_DWORD *)(a1 + 56) = v86;
      *(_DWORD *)(a1 + 60) = v87;
      *(_DWORD *)(a1 + 68) = v89;
      v90 = v84 ^ dword_10069290[(unsigned __int8)v89] ^ dword_10068690[BYTE1(v89)] ^ dword_10068A90[(unsigned __int8)(v89 >> 16)] ^ dword_10068E90[v89 >> 24] ^ 4;
      v91 = v90 ^ v85;
      v92 = v91 ^ v86;
      v93 = v92 ^ v87;
      *(_DWORD *)(a1 + 88) = v93 ^ v88;
      v94 = v93 ^ v88 ^ v89;
      v95 = v93 ^ v88;
      *(_DWORD *)(a1 + 84) = v93;
      *(_DWORD *)(a1 + 72) = v90;
      *(_DWORD *)(a1 + 76) = v91;
      *(_DWORD *)(a1 + 80) = v92;
      *(_DWORD *)(a1 + 92) = v94;
      v96 = v90 ^ dword_10069290[(unsigned __int8)v94] ^ dword_10068690[BYTE1(v94)] ^ dword_10068A90[(unsigned __int8)(v94 >> 16)] ^ dword_10068E90[v94 >> 24] ^ 8;
      v97 = v96 ^ v91;
      v98 = v97 ^ v92;
      v99 = v98 ^ v93;
      *(_DWORD *)(a1 + 112) = v99 ^ v95;
      v100 = v99 ^ v95 ^ v94;
      v101 = v99 ^ v95;
      *(_DWORD *)(a1 + 108) = v99;
      v102 = v96;
      *(_DWORD *)(a1 + 96) = v96;
      *(_DWORD *)(a1 + 100) = v97;
      *(_DWORD *)(a1 + 104) = v98;
      *(_DWORD *)(a1 + 116) = v100;
      v103 = v96 ^ dword_10069290[(unsigned __int8)v100] ^ dword_10068690[BYTE1(v100)] ^ dword_10068A90[(unsigned __int8)(v100 >> 16)] ^ dword_10068E90[v100 >> 24] ^ 0x10;
      v104 = v103 ^ v97;
      v105 = v104 ^ v98;
      v106 = v102 ^ dword_10069290[(unsigned __int8)v100] ^ dword_10068690[BYTE1(v100)] ^ dword_10068A90[(unsigned __int8)(v100 >> 16)] ^ dword_10068E90[v100 >> 24] ^ 0x10;
      *(_DWORD *)(a1 + 120) = v103;
      *(_DWORD *)(a1 + 124) = v104;
      *(_DWORD *)(a1 + 128) = v105;
      v107 = v105 ^ v99;
      *(_DWORD *)(a1 + 136) = v107 ^ v101;
      v108 = v107 ^ v101 ^ v100;
      v109 = v107 ^ v101;
      *(_DWORD *)(a1 + 132) = v107;
      *(_DWORD *)(a1 + 140) = v108;
      v110 = v106 ^ dword_10069290[(unsigned __int8)v108] ^ dword_10068690[BYTE1(v108)] ^ dword_10068A90[(unsigned __int8)(v108 >> 16)] ^ dword_10068E90[v108 >> 24] ^ 0x20;
      v111 = v110 ^ v104;
      v112 = v111 ^ v105;
      v113 = v112 ^ v107;
      *(_DWORD *)(a1 + 160) = v113 ^ v109;
      v114 = v113 ^ v109 ^ v108;
      v115 = v113 ^ v109;
      *(_DWORD *)(a1 + 156) = v113;
      *(_DWORD *)(a1 + 144) = v110;
      *(_DWORD *)(a1 + 148) = v111;
      *(_DWORD *)(a1 + 152) = v112;
      *(_DWORD *)(a1 + 164) = v114;
      v116 = v110 ^ dword_10069290[(unsigned __int8)v114] ^ dword_10068690[BYTE1(v114)] ^ dword_10068A90[(unsigned __int8)(v114 >> 16)] ^ dword_10068E90[v114 >> 24] ^ 0x40;
      v117 = v116 ^ v111;
      v118 = v117 ^ v112;
      v119 = v118 ^ v113;
      v120 = v119 ^ v115 ^ v114;
      *(_DWORD *)(a1 + 180) = v119;
      *(_DWORD *)(a1 + 184) = v119 ^ v115;
      v121 = v116;
      *(_DWORD *)(a1 + 168) = v116;
      *(_DWORD *)(a1 + 172) = v117;
      *(_DWORD *)(a1 + 176) = v118;
      *(_DWORD *)(a1 + 188) = v120;
      v122 = dword_10069290[(unsigned __int8)v120] ^ dword_10068690[BYTE1(v120)] ^ dword_10068A90[(unsigned __int8)(v120 >> 16)] ^ dword_10068E90[v120 >> 24];
      *(_DWORD *)(a1 + 256) = 12;
      v123 = v121 ^ v122 ^ 0x80;
      v124 = v123 ^ v117;
      v125 = v124 ^ v118;
      *(_DWORD *)(a1 + 200) = v125;
      *(_DWORD *)(a1 + 196) = v124;
      *(_DWORD *)(a1 + 192) = v123;
      *(_DWORD *)(a1 + 204) = v125 ^ v119;
      result = 1;
    }
    else
    {
      v13 = *(_BYTE *)(a2 + 16) | ((v12 | v11) << 8);
      *(_DWORD *)(a1 + 16) = v13;
      v14 = v13;
      BYTE1(v13) = *(_BYTE *)(a2 + 23);
      LOBYTE(v13) = *(_BYTE *)(a2 + 22);
      v15 = *(_BYTE *)(a2 + 20) | ((*(_BYTE *)(a2 + 21) | ((unsigned __int16)v13 << 8)) << 8);
      *(_DWORD *)(a1 + 20) = v15;
      v16 = v15;
      BYTE1(v15) = *(_BYTE *)(a2 + 27);
      LOBYTE(v15) = *(_BYTE *)(a2 + 26);
      v17 = *(_BYTE *)(a2 + 24) | ((*(_BYTE *)(a2 + 25) | ((unsigned __int16)v15 << 8)) << 8);
      *(_DWORD *)(a1 + 24) = v17;
      v18 = v17;
      BYTE1(v17) = *(_BYTE *)(a2 + 31);
      LOBYTE(v17) = *(_BYTE *)(a2 + 30);
      v19 = *(_BYTE *)(a2 + 28) | ((*(_BYTE *)(a2 + 29) | ((unsigned __int16)v17 << 8)) << 8);
      *(_DWORD *)(a1 + 28) = v19;
      v20 = v166 ^ dword_10069290[(unsigned __int8)v19] ^ dword_10068690[BYTE1(v19)] ^ dword_10068A90[(unsigned __int8)(v19 >> 16)] ^ dword_10068E90[v19 >> 24] ^ 1;
      v21 = v20 ^ v7;
      v22 = v21 ^ v8;
      v23 = v22 ^ v9;
      *(_DWORD *)(a1 + 32) = v20;
      *(_DWORD *)(a1 + 36) = v21;
      *(_DWORD *)(a1 + 40) = v22;
      *(_DWORD *)(a1 + 44) = v23;
      v24 = dword_10068690[(unsigned __int8)v23] ^ dword_10068A90[BYTE1(v23)] ^ dword_10068E90[(unsigned __int8)(v23 >> 16)] ^ dword_10069290[v23 >> 24] ^ v14;
      *(_DWORD *)(a1 + 48) = v24;
      v25 = v24 ^ v16 ^ v18;
      v26 = v25 ^ v19;
      *(_DWORD *)(a1 + 56) = v25;
      v27 = v24 ^ v16 ^ v18;
      *(_DWORD *)(a1 + 52) = v24 ^ v16;
      *(_DWORD *)(a1 + 60) = v26;
      v28 = v20 ^ dword_10069290[(unsigned __int8)v26] ^ dword_10068690[BYTE1(v26)] ^ dword_10068A90[(unsigned __int8)(v26 >> 16)] ^ dword_10068E90[v26 >> 24] ^ 2;
      v29 = v28 ^ v21;
      *(_DWORD *)(a1 + 64) = v28;
      v30 = v29 ^ v22;
      v31 = v30 ^ v23;
      *(_DWORD *)(a1 + 76) = v31;
      v32 = v28;
      *(_DWORD *)(a1 + 68) = v29;
      *(_DWORD *)(a1 + 72) = v30;
      v33 = dword_10068690[(unsigned __int8)v31] ^ dword_10068A90[BYTE1(v31)] ^ dword_10068E90[(unsigned __int8)(v31 >> 16)] ^ dword_10069290[v31 >> 24] ^ v24;
      v34 = v33 ^ v24 ^ v16;
      *(_DWORD *)(a1 + 80) = v33;
      *(_DWORD *)(a1 + 88) = v34 ^ v27;
      v35 = v34 ^ v27 ^ v26;
      v36 = v34 ^ v27;
      v37 = v33 ^ v24 ^ v16;
      *(_DWORD *)(a1 + 84) = v34;
      *(_DWORD *)(a1 + 92) = v35;
      v38 = v32 ^ dword_10069290[(unsigned __int8)v35] ^ dword_10068690[BYTE1(v35)] ^ dword_10068A90[(unsigned __int8)(v35 >> 16)] ^ dword_10068E90[v35 >> 24] ^ 4;
      v39 = v38 ^ v29;
      *(_DWORD *)(a1 + 96) = v38;
      *(_DWORD *)(a1 + 100) = v39;
      v40 = v39 ^ v30;
      v41 = v40 ^ v31;
      *(_DWORD *)(a1 + 108) = v41;
      *(_DWORD *)(a1 + 104) = v40;
      v42 = dword_10068690[(unsigned __int8)v41] ^ dword_10068A90[BYTE1(v41)] ^ dword_10068E90[(unsigned __int8)(v41 >> 16)] ^ dword_10069290[v41 >> 24] ^ v33;
      *(_DWORD *)(a1 + 112) = v42;
      v43 = v42 ^ v37 ^ v36 ^ v35;
      *(_DWORD *)(a1 + 120) = v42 ^ v37 ^ v36;
      *(_DWORD *)(a1 + 116) = v42 ^ v37;
      *(_DWORD *)(a1 + 124) = v43;
      v44 = v38 ^ dword_10069290[(unsigned __int8)v43] ^ dword_10068690[BYTE1(v43)] ^ dword_10068A90[(unsigned __int8)(v43 >> 16)] ^ dword_10068E90[v43 >> 24] ^ 8;
      v45 = v44 ^ v39;
      v46 = v45 ^ v40;
      v47 = v46 ^ v41;
      *(_DWORD *)(a1 + 128) = v44;
      *(_DWORD *)(a1 + 132) = v45;
      *(_DWORD *)(a1 + 136) = v46;
      *(_DWORD *)(a1 + 140) = v47;
      v48 = v44;
      v49 = dword_10068690[(unsigned __int8)v47] ^ dword_10068A90[BYTE1(v47)] ^ dword_10068E90[(unsigned __int8)(v47 >> 16)] ^ dword_10069290[v47 >> 24] ^ v42;
      *(_DWORD *)(a1 + 144) = v49;
      v50 = v49 ^ v42 ^ v37;
      v51 = v50 ^ v42 ^ v37 ^ v36;
      v52 = v51 ^ v43;
      *(_DWORD *)(a1 + 152) = v51;
      v53 = v51;
      *(_DWORD *)(a1 + 148) = v50;
      v54 = v50;
      *(_DWORD *)(a1 + 156) = v52;
      v55 = v48 ^ dword_10069290[(unsigned __int8)v52] ^ dword_10068690[BYTE1(v52)] ^ dword_10068A90[(unsigned __int8)(v52 >> 16)] ^ dword_10068E90[v52 >> 24] ^ 0x10;
      v56 = v55 ^ v45;
      *(_DWORD *)(a1 + 160) = v55;
      v57 = v56 ^ v46;
      v58 = v57 ^ v47;
      *(_DWORD *)(a1 + 172) = v58;
      *(_DWORD *)(a1 + 164) = v56;
      *(_DWORD *)(a1 + 168) = v57;
      v59 = dword_10068690[(unsigned __int8)v58] ^ dword_10068A90[BYTE1(v58)] ^ dword_10068E90[(unsigned __int8)(v58 >> 16)] ^ dword_10069290[v58 >> 24] ^ v49;
      *(_DWORD *)(a1 + 176) = v59;
      *(_DWORD *)(a1 + 184) = v59 ^ v54 ^ v53;
      v60 = v59 ^ v54 ^ v53 ^ v52;
      v61 = v59 ^ v54 ^ v53;
      v62 = v59 ^ v54;
      *(_DWORD *)(a1 + 180) = v62;
      *(_DWORD *)(a1 + 188) = v60;
      v63 = v55 ^ dword_10069290[(unsigned __int8)v60] ^ dword_10068690[BYTE1(v60)] ^ dword_10068A90[(unsigned __int8)(v60 >> 16)] ^ dword_10068E90[v60 >> 24] ^ 0x20;
      v64 = v63 ^ v56;
      *(_DWORD *)(a1 + 192) = v63;
      v65 = v64 ^ v57;
      v66 = v65 ^ v58;
      *(_DWORD *)(a1 + 204) = v66;
      v67 = v63;
      *(_DWORD *)(a1 + 196) = v64;
      *(_DWORD *)(a1 + 200) = v65;
      v68 = dword_10068690[(unsigned __int8)v66] ^ dword_10068A90[BYTE1(v66)] ^ dword_10068E90[(unsigned __int8)(v66 >> 16)] ^ dword_10069290[v66 >> 24] ^ v59;
      *(_DWORD *)(a1 + 208) = v68;
      *(_DWORD *)(a1 + 216) = v68 ^ v62 ^ v61;
      v69 = v68 ^ v62 ^ v61 ^ v60;
      *(_DWORD *)(a1 + 212) = v68 ^ v62;
      *(_DWORD *)(a1 + 220) = v69;
      v70 = dword_10069290[(unsigned __int8)v69] ^ dword_10068690[BYTE1(v69)] ^ dword_10068A90[(unsigned __int8)(v69 >> 16)] ^ dword_10068E90[v69 >> 24];
      *(_DWORD *)(a1 + 256) = 14;
      v71 = v67 ^ v70 ^ 0x40;
      v72 = v71 ^ v64;
      v73 = v72 ^ v65;
      *(_DWORD *)(a1 + 232) = v73;
      *(_DWORD *)(a1 + 228) = v72;
      *(_DWORD *)(a1 + 224) = v71;
      *(_DWORD *)(a1 + 236) = v73 ^ v66;
      result = 1;
    }
  }
  return result;
}
// 10068690: using guessed type int dword_10068690[];
// 10068A90: using guessed type int dword_10068A90[];
// 10068E90: using guessed type int dword_10068E90[];
// 10069290: using guessed type int dword_10069290[];

//----- (1000E260) --------------------------------------------------------
void *__usercall sub_1000E260@<eax>(void *a1@<eax>)
{
  return memset(a1, 0, 0xA0u);
}

//----- (1000E280) --------------------------------------------------------
unsigned int __cdecl sub_1000E280(int a1, unsigned int a2)
{
  int v2; // eax@1
  unsigned int result; // eax@1
  _BYTE *v4; // ecx@3
  char v5; // dl@3
  unsigned __int64 v6; // [sp+Ch] [bp-8h]@1

  v2 = sub_100043D0();
  v6 = ((unsigned __int64)(unsigned int)v2 << 32) + (unsigned int)j_TSK_pvg_get_us_timer();
  result = 0;
  do
  {
    if ( result >= a2 )
      break;
    v4 = (_BYTE *)(result + a1);
    v5 = *((_BYTE *)&v6 + result++ + a1 - a1);
    *v4 = v5;
  }
  while ( result < 8 );
  return result;
}
// 10004420: using guessed type int j_TSK_pvg_get_us_timer(void);

//----- (1000E2E0) --------------------------------------------------------
int __usercall sub_1000E2E0@<eax>(int result@<eax>)
{
  *(_DWORD *)(result + 4) = 0;
  *(_DWORD *)result = 0;
  *(_DWORD *)(result + 8) = 1732584193;
  *(_DWORD *)(result + 12) = -271733879;
  *(_DWORD *)(result + 16) = -1732584194;
  *(_DWORD *)(result + 20) = 271733878;
  *(_DWORD *)(result + 24) = -1009589776;
  return result;
}

//----- (1000E320) --------------------------------------------------------
int __usercall sub_1000E320@<eax>(int result@<eax>)
{
  int v1; // ebx@1
  int v2; // esi@1
  int v3; // edx@1
  unsigned int v4; // ST28_4@1
  int v5; // edx@1
  int v6; // ST18_4@1
  unsigned int v7; // ST2C_4@1
  int v8; // edi@1
  int v9; // esi@1
  int v10; // edi@1
  int v11; // ST14_4@1
  int v12; // ST20_4@1
  unsigned int v13; // ST30_4@1
  int v14; // esi@1
  unsigned int v15; // ST34_4@1
  int v16; // edi@1
  int v17; // edi@1
  int v18; // ecx@1
  int v19; // ST1C_4@1
  int v20; // ebx@1
  unsigned int v21; // ebp@1
  unsigned int v22; // ST38_4@1
  int v23; // edx@1
  int v24; // ST10_4@1
  unsigned int v25; // ST3C_4@1
  int v26; // esi@1
  int v27; // esi@1
  int v28; // ST18_4@1
  int v29; // ebp@1
  unsigned int v30; // ST40_4@1
  int v31; // edi@1
  int v32; // ebx@1
  int v33; // ST14_4@1
  unsigned int v34; // ST44_4@1
  int v35; // edi@1
  int v36; // ST20_4@1
  int v37; // ST1C_4@1
  unsigned int v38; // ST48_4@1
  int v39; // ebx@1
  int v40; // ebx@1
  int v41; // ecx@1
  int v42; // ebp@1
  unsigned int v43; // ST4C_4@1
  int v44; // edx@1
  int v45; // edx@1
  int v46; // ST10_4@1
  int v47; // esi@1
  unsigned int v48; // ST50_4@1
  int v49; // esi@1
  int v50; // ST18_4@1
  unsigned int v51; // ST54_4@1
  int v52; // edi@1
  int v53; // ebx@1
  int v54; // ST14_4@1
  unsigned int v55; // ST58_4@1
  int v56; // edi@1
  int v57; // ST20_4@1
  int v58; // ebx@1
  unsigned int v59; // ST5C_4@1
  int v60; // ebx@1
  int v61; // ecx@1
  int v62; // ST14_4@1
  int v63; // ST1C_4@1
  unsigned int v64; // ST60_4@1
  int v65; // edx@1
  int v66; // edx@1
  int v67; // ST10_4@1
  unsigned int v68; // ST64_4@1
  int v69; // esi@1
  int v70; // esi@1
  int v71; // ST18_4@1
  int v72; // ebp@1
  int v73; // ecx@1
  int v74; // ebx@1
  int v75; // ST68_4@1
  int v76; // edi@1
  int v77; // edi@1
  int v78; // ST14_4@1
  int v79; // ST20_4@1
  int v80; // ecx@1
  int v81; // ST6C_4@1
  int v82; // edi@1
  int v83; // ecx@1
  int v84; // ST70_4@1
  int v85; // ebx@1
  int v86; // ST1C_4@1
  int v87; // ebx@1
  int v88; // ecx@1
  int v89; // ST14_4@1
  int v90; // ecx@1
  int v91; // ST74_4@1
  int v92; // edx@1
  int v93; // edx@1
  int v94; // ST10_4@1
  int v95; // ecx@1
  int v96; // ST78_4@1
  int v97; // esi@1
  int v98; // esi@1
  int v99; // ST18_4@1
  int v100; // ebx@1
  int v101; // ecx@1
  int v102; // edi@1
  int v103; // ST7C_4@1
  int v104; // edi@1
  int v105; // ST20_4@1
  int v106; // ecx@1
  int v107; // ST80_4@1
  int v108; // edx@1
  int v109; // edx@1
  int v110; // ecx@1
  int v111; // ST84_4@1
  int v112; // ebx@1
  int v113; // ebx@1
  int v114; // ST14_4@1
  int v115; // ecx@1
  int v116; // ebp@1
  int v117; // ST88_4@1
  int v118; // edi@1
  int v119; // edi@1
  int v120; // ST10_4@1
  int v121; // ebp@1
  int v122; // ecx@1
  int v123; // ST8C_4@1
  int v124; // edx@1
  int v125; // ebp@1
  int v126; // edx@1
  int v127; // ecx@1
  int v128; // ST18_4@1
  int v129; // ST90_4@1
  int v130; // esi@1
  int v131; // esi@1
  int v132; // ST20_4@1
  int v133; // ecx@1
  int v134; // ST94_4@1
  int v135; // edi@1
  int v136; // edi@1
  int v137; // ecx@1
  int v138; // ST98_4@1
  int v139; // ebx@1
  int v140; // ebx@1
  int v141; // ST14_4@1
  int v142; // ecx@1
  int v143; // ebp@1
  int v144; // ST9C_4@1
  int v145; // esi@1
  int v146; // esi@1
  int v147; // ST10_4@1
  int v148; // ebp@1
  int v149; // ecx@1
  int v150; // STA0_4@1
  int v151; // edi@1
  int v152; // ebp@1
  int v153; // edx@1
  int v154; // ecx@1
  int v155; // ST18_4@1
  int v156; // STA4_4@1
  int v157; // edi@1
  int v158; // edi@1
  int v159; // ST20_4@1
  int v160; // ecx@1
  int v161; // STA8_4@1
  int v162; // esi@1
  int v163; // esi@1
  int v164; // ecx@1
  int v165; // STAC_4@1
  int v166; // ebx@1
  int v167; // ebx@1
  int v168; // ST14_4@1
  int v169; // ecx@1
  int v170; // ebp@1
  int v171; // STB0_4@1
  int v172; // edi@1
  int v173; // edi@1
  int v174; // ST10_4@1
  int v175; // ebp@1
  int v176; // ecx@1
  int v177; // STB4_4@1
  int v178; // esi@1
  int v179; // ebp@1
  int v180; // edx@1
  int v181; // ST18_4@1
  int v182; // ecx@1
  int v183; // STB8_4@1
  int v184; // esi@1
  int v185; // ebx@1
  int v186; // ST20_4@1
  int v187; // esi@1
  int v188; // ecx@1
  int v189; // STBC_4@1
  int v190; // edi@1
  int v191; // edi@1
  int v192; // ST1C_4@1
  int v193; // ecx@1
  int v194; // ebp@1
  int v195; // STC0_4@1
  int v196; // edx@1
  int v197; // ecx@1
  int v198; // esi@1
  int v199; // STC4_4@1
  int v200; // ebp@1
  int v201; // esi@1
  int v202; // ST10_4@1
  int v203; // ecx@1
  int v204; // ebp@1
  int v205; // edi@1
  int v206; // STC8_4@1
  int v207; // ST1C_4@1
  int v208; // ecx@1
  int v209; // STCC_4@1
  int v210; // ebx@1
  int v211; // ST18_4@1
  int v212; // ecx@1
  int v213; // STD0_4@1
  int v214; // edx@1
  int v215; // edi@1
  int v216; // ebx@1
  int v217; // ecx@1
  int v218; // edx@1
  int v219; // ebx@1
  int v220; // ecx@1
  int v221; // ST1C_4@1
  int v222; // ebp@1
  int v223; // STD4_4@1
  int v224; // ST10_4@1
  int v225; // edx@1
  int v226; // ecx@1
  int v227; // ST14_4@1
  int v228; // STD8_4@1
  int v229; // ebp@1
  int v230; // ebx@1
  int v231; // ecx@1
  int v232; // esi@1
  int v233; // ST10_4@1
  int v234; // ecx@1
  int v235; // STDC_4@1
  int v236; // edi@1
  int v237; // ebx@1
  int v238; // ecx@1
  int v239; // edi@1
  int v240; // STE0_4@1
  int v241; // ebx@1
  int v242; // ST18_4@1
  int v243; // ST1C_4@1
  int v244; // ecx@1
  int v245; // edx@1
  int v246; // STE4_4@1
  int v247; // edi@1
  int v248; // ebx@1
  int v249; // ecx@1
  int v250; // edx@1
  int v251; // ebx@1
  int v252; // ecx@1
  int v253; // ST1C_4@1
  int v254; // ebp@1
  int v255; // STE8_4@1
  int v256; // ST10_4@1
  int v257; // edx@1
  int v258; // ecx@1
  int v259; // ebx@1
  int v260; // ST14_4@1
  int v261; // STEC_4@1
  int v262; // ebp@1
  int v263; // ecx@1
  int v264; // esi@1
  int v265; // ST10_4@1
  int v266; // ecx@1
  int v267; // edi@1
  int v268; // STF0_4@1
  int v269; // ebx@1
  int v270; // edi@1
  int v271; // ecx@1
  int v272; // ebx@1
  int v273; // STF4_4@1
  int v274; // ST1C_4@1
  int v275; // ST18_4@1
  int v276; // ecx@1
  int v277; // edx@1
  int v278; // edi@1
  int v279; // STF8_4@1
  int v280; // ebx@1
  int v281; // ecx@1
  int v282; // edx@1
  int v283; // ST1C_4@1
  int v284; // ecx@1
  int v285; // ST10_4@1
  int v286; // STFC_4@1
  int v287; // ebp@1
  int v288; // edx@1
  int v289; // ecx@1
  int v290; // ST100_4@1
  int v291; // ST14_4@1
  int v292; // ebp@1
  int v293; // ebx@1
  int v294; // ecx@1
  int v295; // esi@1
  int v296; // ST10_4@1
  int v297; // ecx@1
  int v298; // edi@1
  int v299; // ST104_4@1
  int v300; // ebx@1
  int v301; // edi@1
  int v302; // ecx@1
  int v303; // ebx@1
  int v304; // ST108_4@1
  int v305; // ST1C_4@1
  int v306; // ST18_4@1
  int v307; // ecx@1
  int v308; // edi@1
  int v309; // ST10C_4@1
  int v310; // ebx@1
  int v311; // edx@1
  int v312; // ecx@1
  int v313; // ST1C_4@1
  int v314; // ecx@1
  int v315; // ST110_4@1
  int v316; // ebp@1
  int v317; // ebx@1
  int v318; // edx@1
  int v319; // ecx@1
  int v320; // ST114_4@1
  int v321; // ST14_4@1
  int v322; // ebp@1
  int v323; // edi@1
  int v324; // ecx@1
  int v325; // edx@1
  int v326; // ebp@1
  int v327; // ST118_4@1
  int v328; // esi@1
  int v329; // ST10_4@1
  int v330; // ecx@1
  int v331; // ST18_4@1
  int v332; // ST11C_4@1
  int v333; // ebx@1
  int v334; // esi@1
  int v335; // edi@1
  int v336; // edi@1
  int v337; // ST20_4@1
  int v338; // ebx@1
  int v339; // ecx@1
  int v340; // edx@1
  int v341; // ST120_4@1
  int v342; // edx@1
  int v343; // ecx@1
  int v344; // ST124_4@1
  int v345; // ebx@1
  int v346; // ebx@1
  int v347; // ecx@1
  int v348; // ST14_4@1
  int v349; // ST128_4@1
  int v350; // ebp@1
  int v351; // edi@1
  int v352; // edi@1
  int v353; // ecx@1
  int v354; // ST10_4@1
  int v355; // ST12C_4@1
  int v356; // ebp@1
  int v357; // edx@1
  int v358; // ST18_4@1
  int v359; // ecx@1
  int v360; // ST130_4@1
  int v361; // edx@1
  int v362; // esi@1
  int v363; // esi@1
  int v364; // ST20_4@1
  int v365; // ecx@1
  int v366; // ebx@1
  int v367; // edi@1
  int v368; // ST134_4@1
  int v369; // edi@1
  int v370; // ecx@1
  int v371; // ebp@1
  int v372; // ST138_4@1
  int v373; // ebx@1
  int v374; // ebx@1
  int v375; // ecx@1
  int v376; // ST14_4@1
  int v377; // ST13C_4@1
  int v378; // ebp@1
  int v379; // esi@1
  int v380; // esi@1
  int v381; // ecx@1
  int v382; // ST10_4@1
  int v383; // ST140_4@1
  int v384; // ebp@1
  int v385; // edi@1
  int v386; // edi@1
  int v387; // ecx@1
  int v388; // ebp@1
  int v389; // edx@1
  int v390; // ST18_4@1
  int v391; // ebx@1
  int v392; // ST20_4@1
  int v393; // edx@1
  int v394; // ST14_4@1
  int v395; // esi@1
  int v396; // ST148_4@1
  int v397; // ST10_4@1
  int v398; // ST1C_4@1
  int v399; // edx@1
  int v400; // ebx@1
  int v401; // ST14C_4@1
  int v402; // esi@1
  int v403; // ebx@1
  int v404; // ST18_4@1
  int v405; // ST14_4@1
  int v406; // edx@1
  int v407; // edi@1
  int v408; // esi@1
  int v409; // ebx@1
  int v410; // ST20_4@1
  int v411; // esi@1
  int v412; // ST10_4@1
  int v413; // ebx@1
  int v414; // edi@1
  int v415; // ebp@1
  int v416; // edi@1
  int v417; // ST24_4@1
  int v418; // ST1C_4@1
  int v419; // edi@1
  int v420; // ebx@1
  int v421; // ST20_4@1
  int v422; // edx@1
  int v423; // ebx@1
  int v424; // edx@1
  int v425; // ebx@1
  int v426; // ST1C_4@1
  int v427; // esi@1
  int v428; // ebx@1
  int v429; // esi@1
  int v430; // ecx@1
  int v431; // ebx@1
  int v432; // ebx@1
  int v433; // edx@1
  int v434; // ecx@1

  v1 = *(_DWORD *)(result + 8);
  v2 = *(_DWORD *)(result + 12);
  v3 = __ROL4__(*(_DWORD *)(result + 8), 5);
  v4 = ((*(_DWORD *)(result + 28) & 0xFF00 | (*(_DWORD *)(result + 28) << 16)) << 8) | (((*(_DWORD *)(result + 28) >> 16) | *(_DWORD *)(result + 28) & 0xFF0000u) >> 8);
  v5 = v4
     + *(_DWORD *)(result + 24)
     + v3
     + (v2 & *(_DWORD *)(result + 16) ^ *(_DWORD *)(result + 20) & ~*(_DWORD *)(result + 12))
     + 1518500249;
  v2 = __ROR4__(v2, 2);
  v6 = v2;
  v7 = ((*(_DWORD *)(result + 32) & 0xFF00 | (*(_DWORD *)(result + 32) << 16)) << 8) | (((*(_DWORD *)(result + 32) >> 16) | *(_DWORD *)(result + 32) & 0xFF0000u) >> 8);
  v8 = v1 & v2 ^ *(_DWORD *)(result + 16) & ~v1;
  v9 = __ROL4__(v5, 5);
  v10 = *(_DWORD *)(result + 20) + v7 + v9 + v8 + 1518500249;
  v1 = __ROR4__(v1, 2);
  v11 = v10;
  v10 = __ROL4__(v10, 5);
  v12 = v1;
  v13 = ((*(_DWORD *)(result + 36) & 0xFF00 | (*(_DWORD *)(result + 36) << 16)) << 8) | (((*(_DWORD *)(result + 36) >> 16) | *(_DWORD *)(result + 36) & 0xFF0000u) >> 8);
  v14 = *(_DWORD *)(result + 16) + v13 + v10 + (v1 & v5 ^ v6 & ~v5) + 1518500249;
  v5 = __ROR4__(v5, 2);
  v15 = ((*(_DWORD *)(result + 40) & 0xFF00 | (*(_DWORD *)(result + 40) << 16)) << 8) | (((*(_DWORD *)(result + 40) >> 16) | *(_DWORD *)(result + 40) & 0xFF0000u) >> 8);
  v16 = __ROL4__(v14, 5);
  v17 = v6 + v15 + v16 + (v11 & v5 ^ v1 & ~v11) + 1518500249;
  v18 = __ROR4__(v11, 2);
  v19 = v5;
  v20 = __ROL4__(v17, 5);
  v21 = (((*(_DWORD *)(result + 44) & 0xFF00 | (*(_DWORD *)(result + 44) << 16)) << 8) | (((*(_DWORD *)(result + 44) >> 16) | *(_DWORD *)(result + 44) & 0xFF0000u) >> 8))
      + v20
      + (v14 & v18 ^ v5 & ~v14);
  v22 = ((*(_DWORD *)(result + 44) & 0xFF00 | (*(_DWORD *)(result + 44) << 16)) << 8) | (((*(_DWORD *)(result + 44) >> 16) | *(_DWORD *)(result + 44) & 0xFF0000u) >> 8);
  v14 = __ROR4__(v14, 2);
  v23 = v12 + v21 + 1518500249;
  v24 = v14;
  v25 = ((*(_DWORD *)(result + 48) & 0xFF00 | (*(_DWORD *)(result + 48) << 16)) << 8) | (((*(_DWORD *)(result + 48) >> 16) | *(_DWORD *)(result + 48) & 0xFF0000u) >> 8);
  v26 = __ROL4__(v23, 5);
  v27 = v19 + v25 + v26 + (v17 & v24 ^ v18 & ~v17) + 1518500249;
  v17 = __ROR4__(v17, 2);
  v28 = v17;
  v29 = v23 & v17;
  v30 = ((*(_DWORD *)(result + 52) & 0xFF00 | (*(_DWORD *)(result + 52) << 16)) << 8) | (((*(_DWORD *)(result + 52) >> 16) | *(_DWORD *)(result + 52) & 0xFF0000u) >> 8);
  v31 = __ROL4__(v27, 5);
  v32 = v18 + v30 + v31 + (v29 ^ v24 & ~v23) + 1518500249;
  v23 = __ROR4__(v23, 2);
  v33 = v32;
  v32 = __ROL4__(v32, 5);
  v34 = ((*(_DWORD *)(result + 56) & 0xFF00 | (*(_DWORD *)(result + 56) << 16)) << 8) | (((*(_DWORD *)(result + 56) >> 16) | *(_DWORD *)(result + 56) & 0xFF0000u) >> 8);
  v35 = v24 + v34 + v32 + (v23 & v27 ^ v28 & ~v27) + 1518500249;
  v27 = __ROR4__(v27, 2);
  v36 = v23;
  v37 = v27;
  v38 = ((*(_DWORD *)(result + 60) & 0xFF00 | (*(_DWORD *)(result + 60) << 16)) << 8) | (((*(_DWORD *)(result + 60) >> 16) | *(_DWORD *)(result + 60) & 0xFF0000u) >> 8);
  v39 = __ROL4__(v35, 5);
  v40 = v28 + v38 + v39 + (v33 & v27 ^ v23 & ~v33) + 1518500249;
  v41 = __ROR4__(v33, 2);
  v42 = v35 & v41 ^ v27 & ~v35;
  v43 = ((*(_DWORD *)(result + 64) & 0xFF00 | (*(_DWORD *)(result + 64) << 16)) << 8) | (((*(_DWORD *)(result + 64) >> 16) | *(_DWORD *)(result + 64) & 0xFF0000u) >> 8);
  v44 = __ROL4__(v40, 5);
  v35 = __ROR4__(v35, 2);
  v45 = v36 + v43 + v44 + v42 + 1518500249;
  v46 = v35;
  v47 = __ROL4__(v45, 5);
  v48 = ((*(_DWORD *)(result + 68) & 0xFF00 | (*(_DWORD *)(result + 68) << 16)) << 8) | (((*(_DWORD *)(result + 68) >> 16) | *(_DWORD *)(result + 68) & 0xFF0000u) >> 8);
  v49 = v37 + v48 + v47 + (v40 & v35 ^ v41 & ~v40) + 1518500249;
  v40 = __ROR4__(v40, 2);
  v50 = v40;
  v51 = ((*(_DWORD *)(result + 72) & 0xFF00 | (*(_DWORD *)(result + 72) << 16)) << 8) | (((*(_DWORD *)(result + 72) >> 16) | *(_DWORD *)(result + 72) & 0xFF0000u) >> 8);
  v52 = __ROL4__(v49, 5);
  v53 = v41 + v51 + v52 + (v45 & v40 ^ v46 & ~v45) + 1518500249;
  v54 = v53;
  v45 = __ROR4__(v45, 2);
  v53 = __ROL4__(v53, 5);
  v55 = ((*(_DWORD *)(result + 76) & 0xFF00 | (*(_DWORD *)(result + 76) << 16)) << 8) | (((*(_DWORD *)(result + 76) >> 16) | *(_DWORD *)(result + 76) & 0xFF0000u) >> 8);
  v56 = v46 + v55 + v53 + (v45 & v49 ^ v50 & ~v49) + 1518500249;
  v49 = __ROR4__(v49, 2);
  v57 = v45;
  v58 = __ROL4__(v56, 5);
  v59 = ((*(_DWORD *)(result + 80) & 0xFF00 | (*(_DWORD *)(result + 80) << 16)) << 8) | (((*(_DWORD *)(result + 80) >> 16) | *(_DWORD *)(result + 80) & 0xFF0000u) >> 8);
  v60 = v50 + v59 + v58 + (v54 & v49 ^ v45 & ~v54) + 1518500249;
  v61 = __ROR4__(v54, 2);
  v62 = v61;
  v63 = v49;
  v64 = ((*(_DWORD *)(result + 84) & 0xFF00 | (*(_DWORD *)(result + 84) << 16)) << 8) | (((*(_DWORD *)(result + 84) >> 16) | *(_DWORD *)(result + 84) & 0xFF0000u) >> 8);
  v65 = __ROL4__(v60, 5);
  v66 = v57 + v64 + v65 + (v56 & v61 ^ v49 & ~v56) + 1518500249;
  v56 = __ROR4__(v56, 2);
  v67 = v56;
  v68 = ((*(_DWORD *)(result + 88) & 0xFF00 | (*(_DWORD *)(result + 88) << 16)) << 8) | (((*(_DWORD *)(result + 88) >> 16) | *(_DWORD *)(result + 88) & 0xFF0000u) >> 8);
  v69 = __ROL4__(v66, 5);
  v70 = v63 + v68 + v69 + (v60 & v56 ^ v61 & ~v60) + 1518500249;
  v60 = __ROR4__(v60, 2);
  v71 = v60;
  v72 = v60;
  v73 = __ROL4__(v4 ^ v13 ^ v38 ^ v59, 1);
  v74 = v56 & ~v66;
  v75 = v73;
  v76 = __ROL4__(v70, 5);
  v77 = v62 + v73 + v76 + (v66 & v72 ^ v74) + 1518500249;
  v66 = __ROR4__(v66, 2);
  v78 = v77;
  v79 = v66;
  v80 = __ROL4__(v7 ^ v15 ^ v43 ^ v64, 1);
  v81 = v80;
  v77 = __ROL4__(v77, 5);
  v82 = v67 + v80 + v77 + (v66 & v70 ^ v71 & ~v70) + 1518500249;
  v70 = __ROR4__(v70, 2);
  v83 = __ROL4__(v13 ^ v22 ^ v48 ^ v68, 1);
  v84 = v83;
  v85 = __ROL4__(v82, 5);
  v86 = v70;
  v87 = v71 + v83 + v85 + (v78 & v70 ^ v66 & ~v78) + 1518500249;
  v88 = __ROR4__(v78, 2);
  v89 = v88;
  v90 = __ROL4__(v15 ^ v25 ^ v51 ^ v75, 1);
  v91 = v90;
  v92 = __ROL4__(v87, 5);
  v93 = v79 + v90 + v92 + (v82 & v89 ^ v70 & ~v82) + 1518500249;
  v82 = __ROR4__(v82, 2);
  v94 = v82;
  v95 = __ROL4__(v22 ^ v30 ^ v55 ^ v81, 1);
  v96 = v95;
  v97 = __ROL4__(v93, 5);
  v98 = v86 + v95 + v97 + (v87 ^ v82 ^ v89) + 1859775393;
  v87 = __ROR4__(v87, 2);
  v99 = v87;
  v100 = v87 ^ v82;
  v101 = __ROL4__(v25 ^ v34 ^ v59 ^ v84, 1);
  v102 = __ROL4__(v98, 5);
  v103 = v101;
  v104 = v89 + v101 + v102 + (v93 ^ v100) + 1859775393;
  v93 = __ROR4__(v93, 2);
  v105 = v93;
  v106 = __ROL4__(v30 ^ v38 ^ v64 ^ v91, 1);
  v107 = v106;
  v108 = __ROL4__(v104, 5);
  v109 = v94 + v106 + v108 + (v105 ^ v99 ^ v98) + 1859775393;
  v98 = __ROR4__(v98, 2);
  v110 = __ROL4__(v34 ^ v43 ^ v68 ^ v96, 1);
  v111 = v110;
  v112 = __ROL4__(v109, 5);
  v113 = v99 + v110 + v112 + (v105 ^ v104 ^ v98) + 1859775393;
  v104 = __ROR4__(v104, 2);
  v114 = v104;
  v115 = __ROL4__(v38 ^ v48 ^ v75 ^ v103, 1);
  v116 = v109 ^ v104 ^ v98;
  v117 = v115;
  v118 = __ROL4__(v113, 5);
  v119 = v105 + v115 + v118 + v116 + 1859775393;
  v109 = __ROR4__(v109, 2);
  v120 = v109;
  v121 = v109 ^ v114;
  v122 = __ROL4__(v43 ^ v51 ^ v81 ^ v107, 1);
  v123 = v122;
  v124 = __ROL4__(v119, 5);
  v125 = v122 + v124 + (v113 ^ v121);
  v113 = __ROR4__(v113, 2);
  v126 = v98 + v125 + 1859775393;
  v127 = __ROL4__(v48 ^ v55 ^ v84 ^ v111, 1);
  v128 = v113;
  v129 = v127;
  v130 = __ROL4__(v126, 5);
  v131 = v114 + v127 + v130 + (v119 ^ v113 ^ v120) + 1859775393;
  v119 = __ROR4__(v119, 2);
  v132 = v119;
  v133 = __ROL4__(v51 ^ v59 ^ v91 ^ v117, 1);
  v134 = v133;
  v135 = __ROL4__(v131, 5);
  v136 = v120 + v133 + v135 + (v132 ^ v113 ^ v126) + 1859775393;
  v126 = __ROR4__(v126, 2);
  v137 = __ROL4__(v55 ^ v64 ^ v96 ^ v123, 1);
  v138 = v137;
  v139 = __ROL4__(v136, 5);
  v140 = v128 + v137 + v139 + (v132 ^ v131 ^ v126) + 1859775393;
  v131 = __ROR4__(v131, 2);
  v141 = v131;
  v142 = __ROL4__(v59 ^ v68 ^ v103 ^ v129, 1);
  v143 = v136 ^ v131 ^ v126;
  v144 = v142;
  v145 = __ROL4__(v140, 5);
  v146 = v132 + v142 + v145 + v143 + 1859775393;
  v136 = __ROR4__(v136, 2);
  v147 = v136;
  v148 = v136 ^ v141;
  v149 = __ROL4__(v64 ^ v75 ^ v107 ^ v134, 1);
  v150 = v149;
  v151 = __ROL4__(v146, 5);
  v152 = v149 + v151 + (v140 ^ v148);
  v140 = __ROR4__(v140, 2);
  v153 = v126 + v152 + 1859775393;
  v154 = __ROL4__(v68 ^ v81 ^ v111 ^ v138, 1);
  v155 = v140;
  v156 = v154;
  v157 = __ROL4__(v153, 5);
  v158 = v141 + v154 + v157 + (v146 ^ v140 ^ v147) + 1859775393;
  v146 = __ROR4__(v146, 2);
  v159 = v146;
  v160 = __ROL4__(v75 ^ v84 ^ v117 ^ v144, 1);
  v161 = v160;
  v162 = __ROL4__(v158, 5);
  v163 = v147 + v160 + v162 + (v159 ^ v140 ^ v153) + 1859775393;
  v153 = __ROR4__(v153, 2);
  v164 = __ROL4__(v81 ^ v91 ^ v123 ^ v150, 1);
  v165 = v164;
  v166 = __ROL4__(v163, 5);
  v167 = v155 + v164 + v166 + (v159 ^ v158 ^ v153) + 1859775393;
  v158 = __ROR4__(v158, 2);
  v168 = v158;
  v169 = __ROL4__(v84 ^ v96 ^ v129 ^ v156, 1);
  v170 = v163 ^ v158 ^ v153;
  v171 = v169;
  v172 = __ROL4__(v167, 5);
  v173 = v159 + v169 + v172 + v170 + 1859775393;
  v163 = __ROR4__(v163, 2);
  v174 = v163;
  v175 = v163 ^ v168;
  v176 = __ROL4__(v91 ^ v103 ^ v134 ^ v161, 1);
  v177 = v176;
  v178 = __ROL4__(v173, 5);
  v179 = v176 + v178 + (v167 ^ v175);
  v167 = __ROR4__(v167, 2);
  v180 = v153 + v179 + 1859775393;
  v181 = v167;
  v182 = __ROL4__(v96 ^ v107 ^ v138 ^ v165, 1);
  v183 = v182;
  v184 = __ROL4__(v180, 5);
  v185 = v168 + v182 + v184 + (v173 ^ v167 ^ v174) + 1859775393;
  v173 = __ROR4__(v173, 2);
  v186 = v173;
  v187 = v173;
  v188 = __ROL4__(v103 ^ v111 ^ v144 ^ v171, 1);
  v189 = v188;
  v190 = __ROL4__(v185, 5);
  v191 = v174 + v188 + v190 + (v187 ^ v181 ^ v180) + 1859775393;
  v180 = __ROR4__(v180, 2);
  v192 = v180;
  v193 = __ROL4__(v107 ^ v117 ^ v150 ^ v177, 1);
  v194 = __ROL4__(v191, 5);
  v195 = v193;
  v196 = v181 + v193 + v194 + (v187 ^ v185 ^ v180) + 1859775393;
  v185 = __ROR4__(v185, 2);
  v197 = __ROL4__(v111 ^ v123 ^ v156 ^ v183, 1);
  v198 = __ROL4__(v196, 5);
  v199 = v197;
  v200 = v197 + v198 + (v191 ^ v185 ^ v192);
  v191 = __ROR4__(v191, 2);
  v201 = v186 + v200 + 1859775393;
  v202 = v191;
  v203 = __ROL4__(v117 ^ v129 ^ v161 ^ v189, 1);
  v204 = __ROL4__(v201, 5);
  v205 = v192 + v203 + (v196 & v191 ^ v185 & (v196 ^ v191)) + v204 - 1894007588;
  v206 = v203;
  v207 = v205;
  v196 = __ROR4__(v196, 2);
  v208 = __ROL4__(v123 ^ v134 ^ v165 ^ v195, 1);
  v209 = v208;
  v210 = v185 + v208 + (v201 & v196 ^ v202 & (v201 ^ v196));
  v205 = __ROL4__(v205, 5);
  v201 = __ROR4__(v201, 2);
  v211 = v196;
  v212 = __ROL4__(v129 ^ v138 ^ v171 ^ v199, 1);
  v213 = v212;
  v214 = v202 + v212 + (v201 & v196 ^ v207 & (v201 ^ v196));
  v215 = v210 + v205 - 1894007588;
  v216 = __ROL4__(v215, 5);
  v217 = __ROR4__(v207, 2);
  v218 = v214 + v216 - 1894007588;
  v219 = v217;
  v220 = __ROL4__(v134 ^ v144 ^ v177 ^ v206, 1);
  v221 = v219;
  v222 = v211 + v220 + (v201 & v215 ^ v219 & (v201 ^ v215));
  v223 = v220;
  v224 = v218;
  v218 = __ROL4__(v218, 5);
  v215 = __ROR4__(v215, 2);
  v225 = v218 + v222 - 1894007588;
  v226 = __ROL4__(v138 ^ v150 ^ v183 ^ v209, 1);
  v227 = v215;
  v228 = v226;
  v229 = v226 + (v224 & v215 ^ v219 & (v224 ^ v215));
  v230 = __ROL4__(v225, 5);
  v231 = __ROR4__(v224, 2);
  v232 = v230 + v201 + v229 - 1894007588;
  v233 = v231;
  v234 = __ROL4__(v144 ^ v156 ^ v189 ^ v213, 1);
  v235 = v234;
  v236 = v221 + v234 + (v225 & v233 ^ v215 & (v225 ^ v233));
  v237 = __ROL4__(v232, 5);
  v225 = __ROR4__(v225, 2);
  v238 = __ROL4__(v150 ^ v161 ^ v195 ^ v223, 1);
  v239 = v236 + v237 - 1894007588;
  v240 = v238;
  v241 = v227 + v238 + (v232 & v225 ^ v233 & (v232 ^ v225));
  v242 = v225;
  v243 = v239;
  v239 = __ROL4__(v239, 5);
  v232 = __ROR4__(v232, 2);
  v244 = __ROL4__(v156 ^ v165 ^ v199 ^ v228, 1);
  v245 = v233 + v244 + (v232 & v225 ^ v243 & (v232 ^ v225));
  v246 = v244;
  v247 = v241 + v239 - 1894007588;
  v248 = __ROL4__(v247, 5);
  v249 = __ROR4__(v243, 2);
  v250 = v245 + v248 - 1894007588;
  v251 = v249;
  v252 = __ROL4__(v161 ^ v171 ^ v206 ^ v235, 1);
  v253 = v251;
  v254 = v242 + v252 + (v232 & v247 ^ v251 & (v232 ^ v247));
  v255 = v252;
  v256 = v250;
  v250 = __ROL4__(v250, 5);
  v247 = __ROR4__(v247, 2);
  v257 = v250 + v254 - 1894007588;
  v258 = __ROL4__(v165 ^ v177 ^ v209 ^ v240, 1);
  v259 = __ROL4__(v257, 5);
  v260 = v247;
  v261 = v258;
  v262 = v258 + (v256 & v247 ^ v253 & (v256 ^ v247));
  v263 = __ROR4__(v256, 2);
  v264 = v259 + v232 + v262 - 1894007588;
  v265 = v263;
  v266 = __ROL4__(v171 ^ v183 ^ v213 ^ v246, 1);
  v267 = v253 + v266 + (v257 & v265 ^ v247 & (v257 ^ v265));
  v268 = v266;
  v269 = __ROL4__(v264, 5);
  v257 = __ROR4__(v257, 2);
  v270 = v267 + v269 - 1894007588;
  v271 = __ROL4__(v177 ^ v189 ^ v223 ^ v255, 1);
  v272 = v260 + v271 + (v264 & v257 ^ v265 & (v264 ^ v257));
  v273 = v271;
  v274 = v270;
  v270 = __ROL4__(v270, 5);
  v264 = __ROR4__(v264, 2);
  v275 = v257;
  v276 = __ROL4__(v183 ^ v195 ^ v228 ^ v261, 1);
  v277 = v265 + v276 + (v264 & v257 ^ v274 & (v264 ^ v257));
  v278 = v272 + v270 - 1894007588;
  v279 = v276;
  v280 = __ROL4__(v278, 5);
  v281 = __ROR4__(v274, 2);
  v282 = v277 + v280 - 1894007588;
  v283 = v281;
  v284 = __ROL4__(v189 ^ v199 ^ v235 ^ v268, 1);
  v285 = v282;
  v282 = __ROL4__(v282, 5);
  v286 = v284;
  v287 = v275 + v284 + (v264 & v278 ^ v283 & (v264 ^ v278));
  v278 = __ROR4__(v278, 2);
  v288 = v282 + v287 - 1894007588;
  v289 = __ROL4__(v195 ^ v206 ^ v240 ^ v273, 1);
  v290 = v289;
  v291 = v278;
  v292 = v289 + (v285 & v278 ^ v283 & (v285 ^ v278));
  v293 = __ROL4__(v288, 5);
  v294 = __ROR4__(v285, 2);
  v295 = v293 + v264 + v292 - 1894007588;
  v296 = v294;
  v297 = __ROL4__(v199 ^ v209 ^ v246 ^ v279, 1);
  v298 = v283 + v297 + (v288 & v296 ^ v278 & (v288 ^ v296));
  v299 = v297;
  v300 = __ROL4__(v295, 5);
  v288 = __ROR4__(v288, 2);
  v301 = v298 + v300 - 1894007588;
  v302 = __ROL4__(v206 ^ v213 ^ v255 ^ v286, 1);
  v303 = v291 + v302 + (v295 & v288 ^ v296 & (v295 ^ v288));
  v304 = v302;
  v305 = v301;
  v306 = v288;
  v301 = __ROL4__(v301, 5);
  v295 = __ROR4__(v295, 2);
  v307 = __ROL4__(v209 ^ v223 ^ v261 ^ v290, 1);
  v308 = v303 + v301 - 1894007588;
  v309 = v307;
  v310 = __ROL4__(v308, 5);
  v311 = v296 + v307 + (v295 & v288 ^ v305 & (v295 ^ v288)) + v310 - 1894007588;
  v312 = __ROR4__(v305, 2);
  v313 = v312;
  v314 = __ROL4__(v213 ^ v228 ^ v268 ^ v299, 1);
  v315 = v314;
  v316 = v306 + v314 + (v295 & v308 ^ v313 & (v295 ^ v308));
  v317 = v311;
  v311 = __ROL4__(v311, 5);
  v308 = __ROR4__(v308, 2);
  v318 = v311 + v316 - 1894007588;
  v319 = __ROL4__(v223 ^ v235 ^ v273 ^ v304, 1);
  v320 = v319;
  v321 = v308;
  v322 = v319 + (v317 & v308 ^ v313 & (v317 ^ v308));
  v323 = v318;
  v318 = __ROL4__(v318, 5);
  v317 = __ROR4__(v317, 2);
  v324 = __ROL4__(v228 ^ v240 ^ v279 ^ v309, 1);
  v325 = v318 + v295 + v322 - 1894007588;
  v326 = v313 + v324 + (v323 ^ v317 ^ v321);
  v327 = v324;
  v328 = __ROL4__(v325, 5);
  v323 = __ROR4__(v323, 2);
  v329 = v317;
  v330 = __ROL4__(v235 ^ v246 ^ v286 ^ v315, 1);
  v331 = v323;
  v332 = v330;
  v333 = v321 + v330 + (v325 ^ v323 ^ v317);
  v334 = v328 + v326 - 899497514;
  v335 = __ROL4__(v334, 5);
  v336 = v333 + v335 - 899497514;
  v325 = __ROR4__(v325, 2);
  v337 = v325;
  v338 = v325 ^ v331 ^ v334;
  v339 = __ROL4__(v240 ^ v255 ^ v290 ^ v320, 1);
  v340 = __ROL4__(v336, 5);
  v341 = v339;
  v334 = __ROR4__(v334, 2);
  v342 = v329 + v339 + v338 + v340 - 899497514;
  v343 = __ROL4__(v246 ^ v261 ^ v299 ^ v327, 1);
  v344 = v343;
  v345 = __ROL4__(v342, 5);
  v346 = v345 + v331 + v343 + (v337 ^ v336 ^ v334) - 899497514;
  v336 = __ROR4__(v336, 2);
  v347 = __ROL4__(v255 ^ v268 ^ v304 ^ v332, 1);
  v348 = v336;
  v349 = v347;
  v350 = v337 + v347 + (v342 ^ v336 ^ v334);
  v351 = __ROL4__(v346, 5);
  v342 = __ROR4__(v342, 2);
  v352 = v351 + v350 - 899497514;
  v353 = __ROL4__(v261 ^ v273 ^ v309 ^ v341, 1);
  v354 = v342;
  v355 = v353;
  v356 = v353 + (v346 ^ v342 ^ v348);
  v357 = __ROL4__(v352, 5);
  v346 = __ROR4__(v346, 2);
  v358 = v346;
  v359 = __ROL4__(v268 ^ v279 ^ v315 ^ v344, 1);
  v360 = v359;
  v361 = v357 + v334 + v356 - 899497514;
  v362 = __ROL4__(v361, 5);
  v363 = v348 + v359 + (v352 ^ v346 ^ v354) + v362 - 899497514;
  v352 = __ROR4__(v352, 2);
  v364 = v352;
  v365 = __ROL4__(v273 ^ v286 ^ v320 ^ v349, 1);
  v366 = v352 ^ v346 ^ v361;
  v367 = __ROL4__(v363, 5);
  v368 = v365;
  v369 = v354 + v365 + v366 + v367 - 899497514;
  v361 = __ROR4__(v361, 2);
  v370 = __ROL4__(v279 ^ v290 ^ v327 ^ v355, 1);
  v371 = v358 + v370 + (v364 ^ v363 ^ v361);
  v372 = v370;
  v373 = __ROL4__(v369, 5);
  v363 = __ROR4__(v363, 2);
  v374 = v373 + v371 - 899497514;
  v375 = __ROL4__(v286 ^ v299 ^ v332 ^ v360, 1);
  v376 = v363;
  v377 = v375;
  v378 = v364 + v375 + (v369 ^ v363 ^ v361);
  v379 = __ROL4__(v374, 5);
  v380 = v379 + v378 - 899497514;
  v369 = __ROR4__(v369, 2);
  v381 = __ROL4__(v290 ^ v304 ^ v341 ^ v368, 1);
  v382 = v369;
  v383 = v381;
  v384 = v381 + (v374 ^ v369 ^ v376);
  v385 = __ROL4__(v380, 5);
  v386 = v385 + v361 + v384 - 899497514;
  v374 = __ROR4__(v374, 2);
  v387 = __ROL4__(v299 ^ v309 ^ v344 ^ v372, 1);
  v388 = v376 + v387 + (v380 ^ v374 ^ v382);
  v389 = __ROL4__(v386, 5);
  v380 = __ROR4__(v380, 2);
  v390 = v374;
  v391 = v389 + v388 - 899497514;
  v392 = v380;
  v393 = __ROL4__(v304 ^ v315 ^ v349 ^ v377, 1);
  v394 = v391;
  v391 = __ROL4__(v391, 5);
  v395 = v382 + v393 + (v380 ^ v390 ^ v386) + v391 - 899497514;
  v386 = __ROR4__(v386, 2);
  v396 = v393;
  v397 = v395;
  v398 = v386;
  v399 = __ROL4__(v309 ^ v320 ^ v355 ^ v383, 1);
  v400 = __ROL4__(v395, 5);
  v401 = v399;
  v402 = __ROR4__(v394, 2);
  v403 = v400 + v390 + v399 + (v392 ^ v394 ^ v386) - 899497514;
  v404 = v403;
  v405 = v402;
  v406 = __ROL4__(v315 ^ v327 ^ v360 ^ v387, 1);
  v403 = __ROL4__(v403, 5);
  v407 = v392 + v406 + (v397 ^ v402 ^ v386) + v403 - 899497514;
  v408 = __ROR4__(v397, 2);
  v409 = v408;
  v410 = v407;
  v411 = __ROL4__(v320 ^ v332 ^ v368 ^ v396, 1);
  v407 = __ROL4__(v407, 5);
  v412 = v409;
  v413 = v407 + v398 + v411 + (v404 ^ v409 ^ v405) - 899497514;
  v414 = __ROR4__(v404, 2);
  v415 = v414;
  v416 = __ROL4__(v327 ^ v341 ^ v372 ^ v401, 1);
  v417 = v416;
  v418 = v413;
  v413 = __ROL4__(v413, 5);
  v419 = v405 + v416 + (v410 ^ v415 ^ v412) + v413 - 899497514;
  v420 = __ROR4__(v410, 2);
  v421 = v420;
  v422 = __ROL4__(v332 ^ v344 ^ v377 ^ v406, 1);
  v423 = __ROL4__(v419, 5);
  v424 = v412 + (v421 ^ v415 ^ v418) + v423 + v422 - 899497514;
  v425 = __ROR4__(v418, 2);
  v426 = v425;
  v427 = __ROL4__(v341 ^ v349 ^ v383 ^ v411, 1);
  v428 = __ROL4__(v424, 5);
  v429 = v415 + (v421 ^ v419 ^ v426) + v428 + v427 - 899497514;
  v419 = __ROR4__(v419, 2);
  v430 = __ROL4__(v417 ^ v344 ^ v355 ^ v387, 1);
  v431 = __ROL4__(v429, 5);
  v432 = v421 + (v424 ^ v419 ^ v426) + v431 + v430 - 899497514 + *(_DWORD *)(result + 8);
  *(_DWORD *)(result + 12) += v429;
  v424 = __ROR4__(v424, 2);
  v433 = *(_DWORD *)(result + 16) + v424;
  *(_DWORD *)(result + 20) += v419;
  v434 = *(_DWORD *)(result + 24);
  *(_DWORD *)(result + 8) = v432;
  *(_DWORD *)(result + 16) = v433;
  *(_DWORD *)(result + 24) = v426 + v434;
  return result;
}

//----- (1000FA40) --------------------------------------------------------
unsigned int __usercall sub_1000FA40@<eax>(int a1@<esi>, int a2)
{
  unsigned int v2; // eax@1
  unsigned int v3; // edx@1
  int v4; // eax@4
  unsigned int v5; // eax@7
  unsigned int result; // eax@7
  int v7; // edx@8

  v2 = *(_DWORD *)a1 & 0x3F;
  v3 = v2 >> 2;
  *(_DWORD *)(a1 + 4 * v3 + 28) = dword_100696B8[*(_BYTE *)a1 & 3] | *(_DWORD *)(a1 + 4 * v3 + 28) & dword_100696C8[*(_BYTE *)a1 & 3];
  if ( v2 > 0x37 )
  {
    if ( v2 < 0x3C )
      *(_DWORD *)(a1 + 88) = 0;
    sub_1000E320(a1);
    v4 = 0;
    goto LABEL_6;
  }
  v4 = v3 + 1;
  if ( v3 + 1 < 0xE )
LABEL_6:
    memset((void *)(a1 + 4 * v4 + 28), 0, 4 * (14 - v4));
  v5 = 8 * *(_DWORD *)a1;
  *(_DWORD *)(a1 + 84) = ((((unsigned int)(*(_QWORD *)a1 >> 29) << 16) | (*(_QWORD *)a1 >> 29) & 0xFF00) << 8) | ((((unsigned int)(*(_QWORD *)a1 >> 29) >> 16) | (*(_QWORD *)a1 >> 29) & 0xFF0000) >> 8);
  *(_DWORD *)(a1 + 88) = (((v5 << 16) | v5 & 0xFF00) << 8) | (((v5 >> 16) | v5 & 0xFF0000) >> 8);
  sub_1000E320(a1);
  result = 0;
  do
  {
    v7 = *(_DWORD *)(a1 + 4 * (result >> 2) + 8) >> 8 * (~(_BYTE)result & 3);
    *(_BYTE *)(++result + a2 - 1) = v7;
  }
  while ( result < 0x14 );
  return result;
}
// 100696B8: using guessed type int dword_100696B8[];
// 100696C8: using guessed type int dword_100696C8[];

//----- (1000FB40) --------------------------------------------------------
void *__usercall sub_1000FB40@<eax>(size_t a1@<eax>, char *a2@<ecx>, _DWORD *a3)
{
  int v3; // ebp@1
  size_t v4; // ebx@1
  int v5; // edi@1
  unsigned int v6; // eax@1
  size_t v7; // esi@1
  char *v9; // [sp+14h] [bp+4h]@1

  v3 = (int)a3;
  v4 = a1;
  v5 = *a3 & 0x3F;
  v6 = a1 + *a3;
  v7 = 64 - v5;
  v9 = a2;
  *(_DWORD *)v3 = v6;
  if ( v6 < v4 )
    ++*(_DWORD *)(v3 + 4);
  if ( v4 >= v7 )
  {
    do
    {
      memcpy_0((void *)(v5 + v3 + 28), v9, v7);
      v9 += v7;
      v4 -= v7;
      v7 = 64;
      v5 = 0;
      sub_1000E320(v3);
    }
    while ( v4 >= 0x40 );
  }
  return memcpy_0((void *)(v5 + v3 + 28), v9, v4);
}

//----- (1000FBC0) --------------------------------------------------------
void *__usercall sub_1000FBC0@<eax>(int a1@<eax>, size_t a2@<ebx>, char *a3)
{
  int v3; // edi@1
  void *result; // eax@1
  unsigned int v5; // eax@4
  _DWORD *v6; // eax@6

  v3 = a1;
  result = *(void **)(a1 + 156);
  if ( result != (void *)-1 )
  {
    if ( (unsigned int)result > 0x40 )
    {
      sub_1000FA40(v3 + 64, v3);
      *(_DWORD *)(v3 + 156) = 20;
    }
    memset((void *)(v3 + *(_DWORD *)(v3 + 156)), 0, 64 - *(_DWORD *)(v3 + 156));
    v5 = 0;
    do
      *(_DWORD *)(v3 + 4 * v5++) ^= 0x36363636u;
    while ( v5 < 0x10 );
    v6 = (_DWORD *)sub_1000E2E0(v3 + 64);
    result = sub_1000FB40(0x40u, (char *)v3, v6);
    *(_DWORD *)(v3 + 156) = -1;
  }
  if ( a2 )
    result = sub_1000FB40(a2, a3, (_DWORD *)(v3 + 64));
  return result;
}

//----- (1000FC60) --------------------------------------------------------
int __usercall sub_1000FC60@<eax>(int a1@<edi>, int a2, size_t a3)
{
  unsigned int v3; // eax@3
  int result; // eax@5
  char v5; // [sp+8h] [bp-18h]@3

  if ( *(_DWORD *)(a1 + 156) != -1 )
    sub_1000FBC0(a1, 0, 0);
  sub_1000FA40(a1 + 64, (int)&v5);
  v3 = 0;
  do
    *(_DWORD *)(a1 + 4 * v3++) ^= 0x6A6A6A6Au;
  while ( v3 < 0x10 );
  sub_1000E2E0(a1 + 64);
  sub_1000FB40(0x40u, (char *)a1, (_DWORD *)(a1 + 64));
  sub_1000FB40(0x14u, &v5, (_DWORD *)(a1 + 64));
  result = sub_1000FA40(a1 + 64, (int)&v5);
  if ( a3 )
    result = (int)memcpy_0((void *)a2, &v5, a3);
  return result;
}

//----- (1000FD20) --------------------------------------------------------
int __usercall sub_1000FD20@<eax>(size_t a1@<edi>, int a2@<esi>, void *a3)
{
  int v3; // eax@1
  int result; // eax@2

  v3 = *(_DWORD *)(a2 + 156);
  if ( v3 + a1 <= 0x40 )
  {
    memcpy_0((void *)(a2 + v3), a3, a1);
    *(_DWORD *)(a2 + 156) += a1;
    result = 0;
  }
  else
  {
    sub_1000E2E0(a2 + 64);
    sub_1000FB40(*(_DWORD *)(a2 + 156), (char *)a2, (_DWORD *)(a2 + 64));
    sub_1000FB40(a1, (char *)a3, (_DWORD *)(a2 + 64));
    *(_DWORD *)(a2 + 156) += a1;
    result = 0;
  }
  return result;
}

//----- (1000FD80) --------------------------------------------------------
int __usercall sub_1000FD80@<eax>(char *a1@<edi>)
{
  unsigned int v1; // ebp@1
  signed int v2; // eax@2
  int v3; // edx@4
  int v4; // ecx@4
  int v5; // edx@4
  unsigned int v6; // esi@4
  size_t v7; // eax@4
  int v8; // ebx@6
  int v9; // edx@8
  int result; // eax@8
  int v11; // ecx@8
  int v12; // edx@8
  char v13; // [sp+Ch] [bp-5Ch]@8
  int v14; // [sp+14h] [bp-54h]@4
  int v15; // [sp+18h] [bp-50h]@4
  int v16; // [sp+1Ch] [bp-4Ch]@4
  int v17; // [sp+20h] [bp-48h]@4
  int v18; // [sp+24h] [bp-44h]@4
  char v19[64]; // [sp+28h] [bp-40h]@6

  v1 = 0;
  do
  {
    v2 = v1;
    if ( !v1 )
      v2 = 260;
    v3 = *(_DWORD *)&a1[v2 - 16];
    v14 = *(_DWORD *)&a1[v2 - 20];
    v4 = *(_DWORD *)&a1[v2 - 12];
    v15 = v3;
    v5 = *(_DWORD *)&a1[v2 - 8];
    v6 = 260 - v1;
    v18 = *(_DWORD *)&a1[v2 - 4];
    v16 = v4;
    v17 = v5;
    v7 = 64;
    if ( 260 - v1 <= 0x40 )
      v7 = 260 - v1;
    v8 = (int)&a1[v1];
    memcpy_0(v19, &a1[v1], v7);
    if ( v6 < 0x40 )
      memcpy_0(&v19[v6], a1, 64 - v6);
    sub_1000E320((int)&v13);
    v9 = v15;
    result = v16;
    *(_DWORD *)v8 = v14;
    v11 = v17;
    *(_DWORD *)(v8 + 4) = v9;
    v12 = v18;
    *(_DWORD *)(v8 + 8) = result;
    v1 += 20;
    *(_DWORD *)(v8 + 12) = v11;
    *(_DWORD *)(v8 + 16) = v12;
  }
  while ( v1 < 0x104 );
  return result;
}
// 1000FD80: using guessed type char var_40[64];

//----- (1000FE40) --------------------------------------------------------
int __usercall sub_1000FE40@<eax>(int a1@<ebx>)
{
  unsigned int v1; // ebp@1
  unsigned int v2; // eax@3
  char v3; // cl@4
  char v4; // dl@4
  char v5; // cl@4
  char v6; // dl@4
  char *v8; // [sp+Ch] [bp-4h]@1

  v8 = (char *)(a1 + 260);
  v1 = 0;
  qmemcpy((void *)(a1 + 260), (const void *)a1, 0x104u);
  do
    v1 += (*(int (__cdecl **)(unsigned int, unsigned int))(a1 + 524))(a1 + v1, 260 - v1);
  while ( v1 < 0x104 );
  v2 = 0;
  do
  {
    v3 = *(_BYTE *)(v2 + a1 + 261);
    *(_BYTE *)(v2 + a1) ^= ~v8[v2];
    v4 = *(_BYTE *)(v2 + a1 + 262);
    *(_BYTE *)(v2 + a1 + 1) ^= ~v3;
    v5 = *(_BYTE *)(v2 + a1 + 263);
    *(_BYTE *)(v2 + a1 + 2) ^= ~v4;
    v6 = *(_BYTE *)(v2 + a1 + 264);
    *(_BYTE *)(v2 + a1 + 3) ^= ~v5;
    *(_BYTE *)(v2 + a1 + 4) ^= ~v6;
    v2 += 5;
  }
  while ( v2 < 0x104 );
  sub_1000FD80((char *)a1);
  return sub_1000FD80(v8);
}

//----- (1000FF00) --------------------------------------------------------
char __cdecl sub_1000FF00(char *a1, size_t a2, int a3)
{
  char result; // al@4

  if ( a1 && a2 && a3 )
  {
    sub_1000FBC0(a3 + 296, a2, a1);
    sub_1000D480(a3, (int)a1, a2);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1000FF50) --------------------------------------------------------
char __cdecl sub_1000FF50(char *a1, unsigned int a2, int a3)
{
  char result; // al@4

  if ( a1 && a2 && a3 )
  {
    sub_1000D480(a3, (int)a1, a2);
    sub_1000FBC0(a3 + 296, a2, a1);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1000FFA0) --------------------------------------------------------
bool __cdecl sub_1000FFA0(int a1, int a2)
{
  if ( a2 )
    sub_1000FC60(a2 + 296, a1, 0xAu);
  return a2 != 0;
}

//----- (1000FFD0) --------------------------------------------------------
int __usercall sub_1000FFD0@<eax>(char *a1@<edx>, void *a2@<ecx>, size_t a3, size_t a4, int a5, int a6, unsigned int a7)
{
  void *v7; // esi@1
  char *v8; // ebx@1
  int result; // eax@1
  unsigned int v10; // edx@1
  unsigned int v11; // ebx@2
  size_t v12; // edx@3
  char v13; // al@6
  char v14; // al@6
  bool v15; // zf@7
  unsigned int v16; // eax@9
  unsigned int v17; // ecx@9
  int *v18; // [sp+10h] [bp-228h]@2
  unsigned int v19; // [sp+14h] [bp-224h]@2
  int v20; // [sp+18h] [bp-220h]@4
  signed int v21; // [sp+1Ch] [bp-21Ch]@2
  unsigned int v22; // [sp+20h] [bp-218h]@1
  char v23; // [sp+28h] [bp-210h]@3
  char v24; // [sp+C8h] [bp-170h]@1
  char v25; // [sp+168h] [bp-D0h]@1
  int v26; // [sp+20Ch] [bp-2Ch]@2
  int v27; // [sp+210h] [bp-28h]@3
  int v28; // [sp+214h] [bp-24h]@3
  int v29; // [sp+218h] [bp-20h]@3
  int v30; // [sp+21Ch] [bp-1Ch]@3
  int v31; // [sp+220h] [bp-18h]@3
  char v32[16]; // [sp+224h] [bp-14h]@6

  v7 = a2;
  v8 = a1;
  sub_1000E260(&v24);
  sub_1000FD20(a3, (int)&v24, v7);
  qmemcpy(&v25, &v24, 0xA0u);
  sub_1000FBC0((int)&v25, a4, v8);
  result = -858993459 * (a7 - 1);
  v10 = (a7 - 1) / 0x14;
  v22 = v10 + 1;
  if ( v10 != -1 )
  {
    v11 = 1;
    v19 = 0;
    v21 = 1;
    v18 = &v26;
    do
    {
      v26 = 0;
      v27 = 0;
      v28 = 0;
      v29 = 0;
      v30 = 0;
      qmemcpy(&v23, &v25, 0xA0u);
      LOBYTE(v31) = BYTE3(v11);
      BYTE2(v31) = BYTE1(v11);
      BYTE1(v31) = v11 >> 16;
      BYTE3(v31) = v11;
      v12 = 4;
      if ( a5 )
      {
        v20 = a5;
        do
        {
          sub_1000FBC0((int)&v23, v12, (char *)&v31);
          sub_1000FC60((int)&v23, (int)&v31, 0x14u);
          v12 = 0;
          do
          {
            *((_BYTE *)&v26 + v12) ^= *((_BYTE *)&v31 + v12);
            v13 = *((_BYTE *)&v31 + v12 + 2);
            *((_BYTE *)&v26 + v12 + 1) ^= *((_BYTE *)&v31 + v12 + 1);
            *((_BYTE *)&v26 + v12 + 2) ^= v13;
            v14 = v32[v12];
            *((_BYTE *)&v26 + v12 + 3) ^= *((_BYTE *)&v31 + v12 + 3);
            *((_BYTE *)&v27 + v12) ^= v14;
            v12 += 5;
          }
          while ( v12 < 0x14 );
          v15 = v20-- == 1;
          qmemcpy(&v23, &v24, 0xA0u);
        }
        while ( !v15 );
        v11 = v21;
      }
      v16 = v19;
      v17 = 0;
      do
      {
        if ( v16 >= a7 )
          break;
        *(_BYTE *)(v16 + a6) = *((_BYTE *)v18 + v16);
        ++v17;
        ++v16;
      }
      while ( v17 < 0x14 );
      v19 += 20;
      v18 -= 5;
      result = ++v11 - 1;
      v21 = v11;
    }
    while ( v11 - 1 < v22 );
  }
  return result;
}
// 1000FFD0: using guessed type char var_14[16];

//----- (100101E0) --------------------------------------------------------
int __usercall sub_100101E0@<eax>(void *a1@<eax>, int a2)
{
  int v2; // ebx@1
  signed int v3; // esi@1

  v2 = (int)a1;
  memset(a1, 0, 0x210u);
  *(_DWORD *)(v2 + 524) = a2;
  sub_1000FE40(v2);
  v3 = 20;
  do
  {
    sub_1000FD80((char *)v2);
    --v3;
  }
  while ( v3 );
  return sub_1000FE40(v2);
}

//----- (10010230) --------------------------------------------------------
char *__cdecl sub_10010230(int a1, int a2)
{
  void *v2; // ecx@0
  char *result; // eax@1
  unsigned int v4; // ebp@1
  int v5; // edi@1
  char *v6; // ebx@1
  size_t v7; // esi@4

  result = (char *)a2;
  v4 = a1;
  v5 = *(_DWORD *)(a2 + 520);
  v6 = (char *)v2;
  if ( a1 )
  {
    while ( 1 )
    {
      v7 = 260 - v5;
      if ( v4 < 260 - v5 )
        v7 = v4;
      result = (char *)memcpy_0(v6, &result[v5 + 260], v7);
      v6 += v7;
      v5 += v7;
      v4 -= v7;
      if ( v5 == 260 )
      {
        result = (char *)sub_1000FE40(a2);
        v5 = 0;
      }
      if ( !v4 )
        break;
      result = (char *)a2;
    }
    *(_DWORD *)(a2 + 520) = v5;
  }
  else
  {
    *(_DWORD *)(a2 + 520) = v5;
  }
  return result;
}

//----- (100102C0) --------------------------------------------------------
signed int __cdecl sub_100102C0(char a1, void *a2, size_t a3, char *a4, _WORD *a5, int a6)
{
  signed int result; // eax@2
  int v7; // ebx@6
  char v8; // [sp+Ch] [bp-48h]@6
  char v9[8]; // [sp+14h] [bp-40h]@6
  __int16 v10[26]; // [sp+1Ch] [bp-38h]@6

  if ( a3 <= 0x80 )
  {
    if ( (unsigned __int8)(a1 - 1) > 2u )
    {
      result = -101;
    }
    else if ( a6 )
    {
      *(_BYTE *)(a6 + 464) = a1;
      v7 = a1 & 3;
      *(_DWORD *)(a6 + 460) = a3;
      sub_1000FFD0(a4, a2, a3, 4 * v7 + 4, 1000, (int)&v8, 16 * v7 + 18);
      *(_DWORD *)(a6 + 456) = 16;
      *(_DWORD *)a6 = 0;
      *(_DWORD *)(a6 + 4) = 0;
      *(_DWORD *)(a6 + 8) = 0;
      *(_DWORD *)(a6 + 12) = 0;
      sub_1000D4E0(a6 + 32, (int)&v8, 8 * v7 + 8);
      sub_1000E260((void *)(a6 + 296));
      sub_1000FD20(8 * v7 + 8, a6 + 296, &v9[8 * v7]);
      *a5 = v10[8 * v7];
      result = 0;
    }
    else
    {
      result = -102;
    }
  }
  else
  {
    result = -100;
  }
  return result;
}
// 100102C0: using guessed type char var_40[8];
// 100102C0: using guessed type __int16 var_38[26];

//----- (100103F0) --------------------------------------------------------
bool __cdecl sub_100103F0(void *a1, int a2)
{
  bool v2; // bl@3
  int v4; // [sp+Ch] [bp-214h]@5

  v2 = a1 && a2;
  sub_100101E0(&v4, (int)sub_1000E280);
  if ( v2 )
    sub_10010230(a2, (int)&v4);
  return v2;
}

//----- (10010470) --------------------------------------------------------
BOOL __usercall sub_10010470@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>)
{
  unsigned int v3; // ecx@3
  int v4; // ecx@4

  *(_WORD *)(*(_DWORD *)(a1 + 5712) + 2 * *(_DWORD *)(a1 + 5728)) = a3;
  *(_BYTE *)(*(_DWORD *)(a1 + 5716) + (*(_DWORD *)(a1 + 5728))++) = a2;
  if ( a3 )
  {
    ++*(_DWORD *)(a1 + 2920);
    ++*(_WORD *)(a1 + 4 * (unsigned __int8)byte_10069ED0[a2] + 3964);
    v3 = a3 - 1;
    if ( v3 >= 0x100 )
      v4 = (unsigned __int8)byte_10069DD0[v3 >> 7];
    else
      v4 = (unsigned __int8)byte_10069CD0[v3];
    ++*(_WORD *)(a1 + 4 * v4 + 5228);
  }
  else
  {
    ++*(_WORD *)(a1 + 4 * a2 + 2936);
  }
  return *(_DWORD *)(a1 + 5728) == *(_DWORD *)(a1 + 5724) - 1;
}

//----- (10010510) --------------------------------------------------------
int __usercall sub_10010510@<eax>(int result@<eax>)
{
  signed int v1; // ecx@1
  __int16 v2; // cx@4

  v1 = *(_DWORD *)(result + 2932);
  if ( v1 == 16 )
  {
    *(_BYTE *)(*(_DWORD *)(result + 5800) + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
    *(_BYTE *)((*(_DWORD *)(result + 5812))++ + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
    *(_DWORD *)(result + 2932) = 0;
    *(_WORD *)(result + 2924) = 0;
  }
  else if ( v1 >= 8 )
  {
    *(_BYTE *)(*(_DWORD *)(result + 5800) + *(_DWORD *)(result + 5812)) = *(_BYTE *)(result + 2924);
    v2 = *(_BYTE *)(result + 2925);
    ++*(_DWORD *)(result + 5812);
    *(_DWORD *)(result + 2932) -= 8;
    *(_WORD *)(result + 2924) = v2;
  }
  return result;
}

//----- (100105A0) --------------------------------------------------------
unsigned int __fastcall sub_100105A0(unsigned int a1, int a2)
{
  unsigned int v2; // eax@1
  int v3; // esi@2

  v2 = 0;
  do
  {
    v3 = a1 & 1;
    --a2;
    a1 >>= 1;
    v2 = 2 * (v3 | v2);
  }
  while ( a2 > 0 );
  return v2 >> 1;
}

//----- (100105C0) --------------------------------------------------------
int __usercall sub_100105C0@<eax>(int result@<eax>)
{
  signed int v1; // edx@1
  char v2; // bl@2
  int v3; // edx@2

  v1 = *(_DWORD *)(result + 2932);
  if ( v1 <= 8 )
  {
    if ( v1 > 0 )
      *(_BYTE *)(*(_DWORD *)(result + 5800) + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
    *(_WORD *)(result + 2924) = 0;
    *(_DWORD *)(result + 2932) = 0;
  }
  else
  {
    *(_BYTE *)(*(_DWORD *)(result + 5800) + *(_DWORD *)(result + 5812)) = *(_BYTE *)(result + 2924);
    v2 = *(_BYTE *)(result + 2925);
    v3 = *(_DWORD *)(result + 5800);
    *(_BYTE *)(++*(_DWORD *)(result + 5812) + v3) = v2;
    ++*(_DWORD *)(result + 5812);
    *(_WORD *)(result + 2924) = 0;
    *(_DWORD *)(result + 2932) = 0;
  }
  return result;
}

//----- (10010650) --------------------------------------------------------
int __usercall sub_10010650@<eax>(int result@<eax>, int a2, int a3)
{
  int v3; // ebx@1
  unsigned int v4; // ecx@1
  int v5; // ebp@2
  int v6; // esi@2
  int v7; // ecx@2
  int v8; // edi@3
  int v9; // esi@4
  int v10; // edx@4
  int v11; // ecx@4
  int v12; // edx@4
  int v13; // ecx@4
  int v14; // edx@6
  int v15; // edi@7
  int v16; // edx@7
  int v17; // ecx@7
  int v18; // edx@7
  int v19; // edi@9
  int v20; // esi@10
  int v21; // ecx@10
  int v22; // edx@11
  int v23; // ecx@11
  int v24; // edx@11
  int v25; // ecx@11
  unsigned int v26; // ebp@14
  int v27; // edi@15
  int v28; // edx@17
  int v29; // ecx@17
  unsigned __int16 v30; // si@18
  int v31; // edx@18
  int v32; // ecx@18
  int v33; // edx@18
  int v34; // esi@20
  int v35; // ecx@21
  int v36; // ebp@21
  int v37; // edx@22
  int v38; // ecx@22
  int v39; // edx@22
  int v40; // edi@26
  int v41; // ecx@26
  unsigned __int16 v42; // si@27
  int v43; // edx@27
  int v44; // ecx@27
  int v45; // edx@27
  int v46; // [sp+10h] [bp-Ch]@6
  int v47; // [sp+14h] [bp-8h]@6
  int v48; // [sp+14h] [bp-8h]@17
  unsigned int v49; // [sp+18h] [bp-4h]@2

  v3 = a2;
  v4 = 0;
  if ( *(_DWORD *)(result + 5728) )
  {
    do
    {
      v5 = *(_WORD *)(*(_DWORD *)(result + 5712) + 2 * v4);
      v6 = *(_BYTE *)(v4 + *(_DWORD *)(result + 5716));
      v49 = v4 + 1;
      v7 = *(_DWORD *)(result + 2932);
      if ( v5 )
      {
        v14 = (unsigned __int8)byte_10069ED0[v6];
        v46 = *(_WORD *)(v3 + 4 * v14 + 1030);
        v47 = (unsigned __int8)byte_10069ED0[v6];
        if ( v7 <= 16 - v46 )
        {
          *(_WORD *)(result + 2924) |= *(_WORD *)(a2 + 4 * v14 + 1028) << v7;
          *(_DWORD *)(result + 2932) = v46 + v7;
        }
        else
        {
          v15 = *(_WORD *)(a2 + 4 * v14 + 1028);
          v16 = v15 << v7;
          v17 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v16;
          *(_BYTE *)(v17 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v18 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          LOWORD(v15) = (unsigned __int16)v15 >> (16 - v18);
          *(_DWORD *)(result + 2932) = v18 + v46 - 16;
          v14 = v47;
          *(_WORD *)(result + 2924) = v15;
        }
        v19 = dword_100696D8[v14];
        v3 = a2;
        if ( v19 )
        {
          v20 = v6 - dword_10069FD0[v14];
          v21 = *(_DWORD *)(result + 2932);
          if ( v21 <= 16 - v19 )
          {
            *(_WORD *)(result + 2924) |= v20 << v21;
            v25 = v19 + v21;
          }
          else
          {
            v22 = v20 << v21;
            v23 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v22;
            *(_BYTE *)(v23 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v24 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            v3 = a2;
            v25 = v24 + v19 - 16;
            *(_WORD *)(result + 2924) = (unsigned __int16)v20 >> (16 - v24);
          }
          *(_DWORD *)(result + 2932) = v25;
        }
        v26 = v5 - 1;
        if ( v26 >= 0x100 )
          v27 = (unsigned __int8)byte_10069DD0[v26 >> 7];
        else
          v27 = (unsigned __int8)byte_10069CD0[v26];
        v28 = *(_WORD *)(a3 + 4 * v27 + 2);
        v29 = *(_DWORD *)(result + 2932);
        v48 = *(_WORD *)(a3 + 4 * v27 + 2);
        if ( v29 <= 16 - v28 )
        {
          *(_WORD *)(result + 2924) |= *(_WORD *)(a3 + 4 * v27) << v29;
          *(_DWORD *)(result + 2932) = v28 + v29;
        }
        else
        {
          v30 = *(_WORD *)(a3 + 4 * v27);
          v31 = *(_WORD *)(a3 + 4 * v27) << v29;
          v32 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v31;
          *(_BYTE *)(v32 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v33 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          v3 = a2;
          *(_DWORD *)(result + 2932) = v33 + v48 - 16;
          *(_WORD *)(result + 2924) = v30 >> (16 - v33);
        }
        v34 = dword_10069760[v27];
        if ( !v34 )
          goto LABEL_25;
        v35 = *(_DWORD *)(result + 2932);
        v36 = v26 - dword_1006A048[v27];
        if ( v35 <= 16 - v34 )
        {
          *(_WORD *)(result + 2924) |= v36 << v35;
          v13 = v34 + v35;
        }
        else
        {
          v37 = v36 << v35;
          v38 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v37;
          *(_BYTE *)(v38 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v39 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          v13 = v39 + v34 - 16;
          *(_WORD *)(result + 2924) = (unsigned __int16)v36 >> (16 - v39);
        }
      }
      else
      {
        v8 = *(_WORD *)(v3 + 4 * v6 + 2);
        if ( v7 <= 16 - v8 )
        {
          *(_WORD *)(result + 2924) |= *(_WORD *)(v3 + 4 * v6) << v7;
          v13 = v8 + v7;
        }
        else
        {
          v9 = *(_WORD *)(v3 + 4 * v6);
          v10 = v9 << v7;
          v11 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v10;
          *(_BYTE *)(v11 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v12 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          v13 = v12 + v8 - 16;
          *(_WORD *)(result + 2924) = (unsigned __int16)v9 >> (16 - v12);
        }
      }
      *(_DWORD *)(result + 2932) = v13;
LABEL_25:
      v4 = v49;
    }
    while ( v49 < *(_DWORD *)(result + 5728) );
  }
  v40 = *(_WORD *)(v3 + 1026);
  v41 = *(_DWORD *)(result + 2932);
  if ( v41 <= 16 - v40 )
  {
    *(_WORD *)(result + 2924) |= *(_WORD *)(v3 + 1024) << v41;
    *(_DWORD *)(result + 2932) = v40 + v41;
    *(_DWORD *)(result + 2928) = *(_WORD *)(v3 + 1026);
  }
  else
  {
    v42 = *(_WORD *)(v3 + 1024);
    v43 = *(_WORD *)(v3 + 1024) << v41;
    v44 = *(_DWORD *)(result + 5800);
    *(_WORD *)(result + 2924) |= v43;
    *(_BYTE *)(v44 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
    *(_BYTE *)(*(_DWORD *)(result + 5800) + *(_DWORD *)(result + 5812)) = *(_BYTE *)(result + 2925);
    v45 = *(_DWORD *)(result + 2932);
    ++*(_DWORD *)(result + 5812);
    *(_DWORD *)(result + 2932) = v45 + v40 - 16;
    *(_WORD *)(result + 2924) = v42 >> (16 - v45);
    *(_DWORD *)(result + 2928) = *(_WORD *)(v3 + 1026);
  }
  return result;
}
// 100696D8: using guessed type int dword_100696D8[];
// 10069760: using guessed type int dword_10069760[];
// 10069FD0: using guessed type int dword_10069FD0[];
// 1006A048: using guessed type int dword_1006A048[];

//----- (10010AD0) --------------------------------------------------------
int __usercall sub_10010AD0@<eax>(int a1@<eax>, _BYTE *a2@<edx>, int a3@<ecx>)
{
  int v3; // ebx@1
  _BYTE *v4; // edi@1
  int result; // eax@1
  int v6; // ecx@1
  int v7; // edx@1
  int v8; // edx@1
  int i; // esi@1

  v3 = a3;
  v4 = a2;
  result = sub_100105C0(a1);
  v6 = *(_DWORD *)(result + 5812);
  v7 = *(_DWORD *)(result + 5800);
  *(_DWORD *)(result + 2928) = 8;
  *(_BYTE *)(v6 + v7) = v3;
  v8 = *(_DWORD *)(result + 5800);
  *(_BYTE *)(++*(_DWORD *)(result + 5812) + v8) = BYTE1(v3);
  *(_BYTE *)(++*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = ~(_BYTE)v3;
  *(_BYTE *)(++*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = ~BYTE1(v3);
  for ( i = ++*(_DWORD *)(result + 5812); v3; ++v4 )
  {
    *(_BYTE *)(i + *(_DWORD *)(result + 5800)) = *v4;
    i = ++*(_DWORD *)(result + 5812);
    --v3;
  }
  return result;
}

//----- (10010B80) --------------------------------------------------------
void *__usercall sub_10010B80@<eax>(int a1@<edi>)
{
  void *result; // eax@1
  int v2; // ebx@1
  size_t v3; // esi@1
  bool v4; // zf@4

  result = *(void **)(a1 + 16);
  v2 = *(_DWORD *)(a1 + 24);
  v3 = *(_DWORD *)(v2 + 5812);
  if ( v3 > (unsigned int)result )
    v3 = *(_DWORD *)(a1 + 16);
  if ( v3 )
  {
    result = memcpy_0(*(void **)(a1 + 12), *(const void **)(v2 + 5808), v3);
    *(_DWORD *)(a1 + 12) += v3;
    *(_DWORD *)(v2 + 5808) += v3;
    *(_DWORD *)(a1 + 20) += v3;
    *(_DWORD *)(a1 + 16) -= v3;
    v4 = *(_DWORD *)(v2 + 5812) == v3;
    *(_DWORD *)(v2 + 5812) -= v3;
    if ( v4 )
      *(_DWORD *)(v2 + 5808) = *(_DWORD *)(v2 + 5800);
  }
  return result;
}

//----- (10010BE0) --------------------------------------------------------
int __usercall sub_10010BE0@<eax>(int result@<eax>, int a2@<edx>)
{
  int v2; // ecx@1
  int v3; // ebp@1
  int v4; // edi@1
  int v5; // esi@1
  int v6; // esi@1
  int v7; // ecx@1
  int v8; // edx@3
  int v9; // ecx@3
  int v10; // esi@6
  int v11; // ebx@8
  int i; // ecx@13
  int v13; // edx@17
  int v14; // ebx@18
  int v15; // ecx@19
  int v16; // esi@20
  int v17; // [sp+Ch] [bp-20h]@1
  int *v18; // [sp+10h] [bp-1Ch]@2
  int v19; // [sp+10h] [bp-1Ch]@17
  signed int v20; // [sp+14h] [bp-18h]@2
  int v21; // [sp+18h] [bp-14h]@1
  int v22; // [sp+1Ch] [bp-10h]@2
  int v23; // [sp+20h] [bp-Ch]@1
  int v24; // [sp+24h] [bp-8h]@1
  int v25; // [sp+28h] [bp-4h]@1

  v2 = *(_DWORD *)(a2 + 8);
  v3 = *(_DWORD *)a2;
  v24 = *(_DWORD *)(v2 + 8);
  v4 = *(_DWORD *)(v2 + 16);
  v21 = *(_DWORD *)v2;
  v25 = *(_DWORD *)(v2 + 4);
  v5 = *(_DWORD *)(a2 + 4);
  *(_DWORD *)result = 0;
  *(_DWORD *)(result + 4) = 0;
  *(_DWORD *)(result + 8) = 0;
  *(_DWORD *)(result + 12) = 0;
  *(_DWORD *)(result + 16) = 0;
  *(_DWORD *)(result + 20) = 0;
  *(_DWORD *)(result + 24) = 0;
  *(_DWORD *)(result + 28) = 0;
  v23 = v5;
  v6 = 0;
  *(_WORD *)(v3 + 4 * *(_DWORD *)(result + 4 * *(_DWORD *)(result + 2328) + 32) + 2) = 0;
  v7 = *(_DWORD *)(result + 2328) + 1;
  v17 = 0;
  if ( v7 < 573 )
  {
    v18 = (int *)(result + 4 * v7 + 32);
    v22 = 573 - v7;
    v20 = 573;
    do
    {
      v8 = *v18;
      v9 = *(_WORD *)(v3 + 4 * *(_WORD *)(v3 + 4 * *v18 + 2) + 2) + 1;
      if ( v9 > v4 )
      {
        ++v6;
        v9 = v4;
        v17 = v6;
      }
      *(_WORD *)(v3 + 4 * v8 + 2) = v9;
      if ( v8 <= v23 )
      {
        ++*(_WORD *)(result + 2 * v9);
        v10 = 0;
        if ( v8 >= v24 )
          v10 = *(_DWORD *)(v25 + 4 * (v8 - v24));
        v11 = *(_WORD *)(v3 + 4 * v8);
        *(_DWORD *)(result + 2912) += v11 * (v10 + v9);
        if ( v21 )
          *(_DWORD *)(result + 2916) += v11 * (v10 + *(_WORD *)(v21 + 4 * v8 + 2));
        v6 = v17;
      }
      ++v18;
      --v22;
    }
    while ( v22 );
    if ( v6 )
    {
      do
      {
        for ( i = v4 - 1; !*(_WORD *)(result + 2 * i); --i )
          ;
        --*(_WORD *)(result + 2 * i);
        *(_WORD *)(result + 2 * i + 2) += 2;
        --*(_WORD *)(result + 2 * v4);
        v6 -= 2;
      }
      while ( v6 > 0 );
      for ( ; v4; --v4 )
      {
        v13 = *(_WORD *)(result + 2 * v4);
        v19 = *(_WORD *)(result + 2 * v4);
        if ( *(_WORD *)(result + 2 * v4) )
        {
          v14 = result + 4 * v20 + 32;
          do
          {
            v15 = *(_DWORD *)(v14 - 4);
            --v20;
            v14 -= 4;
            if ( v15 <= v23 )
            {
              v16 = *(_WORD *)(v3 + 4 * v15 + 2);
              if ( v16 != v4 )
              {
                *(_DWORD *)(result + 2912) += *(_WORD *)(v3 + 4 * v15) * (v4 - v16);
                *(_WORD *)(v3 + 4 * v15 + 2) = v4;
              }
              v13 = --v19;
            }
          }
          while ( v13 );
        }
      }
    }
  }
  return result;
}

//----- (10010DB0) --------------------------------------------------------
signed int __usercall sub_10010DB0@<eax>(int a1@<edx>, int a2@<ebx>, int a3@<edi>)
{
  __int16 v3; // cx@1
  signed int result; // eax@1
  int v5; // edx@1
  int i; // esi@3
  int v7; // edx@4
  unsigned int v8; // ecx@5
  __int16 v9; // [sp+4h] [bp-24h]@2
  char v10; // [sp+6h] [bp-22h]@1

  v3 = 0;
  result = 1;
  v5 = a1 - (_DWORD)&v10;
  do
  {
    v3 = 2 * (v3 + *(__int16 *)((char *)&v9 + 2 * result + v5));
    *(&v9 + result++) = v3;
  }
  while ( result <= 15 );
  for ( i = 0; i <= a2; ++i )
  {
    v7 = *(_WORD *)(a3 + 4 * i + 2);
    if ( *(_WORD *)(a3 + 4 * i + 2) )
    {
      v8 = (unsigned __int16)(*(&v9 + v7))++;
      result = sub_100105A0(v8, v7);
      *(_WORD *)(a3 + 4 * i) = result;
    }
  }
  return result;
}

//----- (10010E30) --------------------------------------------------------
_WORD *__fastcall sub_10010E30(int a1, int a2)
{
  _WORD *v2; // eax@1
  signed int v3; // ecx@1
  _WORD *v4; // eax@3
  signed int v5; // ecx@3
  _WORD *result; // eax@5
  signed int v7; // ecx@5

  v2 = (_WORD *)(a2 + 2936);
  v3 = 286;
  do
  {
    *v2 = 0;
    v2 += 2;
    --v3;
  }
  while ( v3 );
  v4 = (_WORD *)(a2 + 5228);
  v5 = 30;
  do
  {
    *v4 = 0;
    v4 += 2;
    --v5;
  }
  while ( v5 );
  result = (_WORD *)(a2 + 5472);
  v7 = 19;
  do
  {
    *result = 0;
    result += 2;
    --v7;
  }
  while ( v7 );
  *(_DWORD *)(a2 + 2916) = 0;
  *(_DWORD *)(a2 + 2912) = 0;
  *(_DWORD *)(a2 + 2920) = 0;
  *(_DWORD *)(a2 + 5728) = 0;
  *(_WORD *)(a2 + 3960) = 1;
  return result;
}

//----- (10010EA0) --------------------------------------------------------
unsigned int __usercall sub_10010EA0@<eax>(int a1@<esi>, unsigned int a2)
{
  int v2; // edx@1
  unsigned int v3; // ecx@1
  unsigned int v4; // ebp@1
  unsigned int v5; // edi@1
  int v6; // ecx@4
  unsigned int v7; // ebx@4
  int v8; // edx@8
  char v9; // al@11
  int v10; // edx@11
  unsigned int v11; // ecx@12
  _BYTE *v12; // edx@12
  char v13; // al@13
  _BYTE *v14; // edx@13
  char v15; // al@14
  _BYTE *v16; // edx@14
  char v17; // al@15
  _BYTE *v18; // edx@15
  char v19; // al@16
  _BYTE *v20; // edx@16
  char v21; // al@17
  _BYTE *v22; // edx@17
  char v23; // al@18
  _BYTE *v24; // edx@18
  char v25; // al@19
  _BYTE *v26; // edx@19
  char v27; // al@20
  int v28; // edx@22
  unsigned int result; // eax@27
  char v30; // [sp+Fh] [bp-11h]@4
  unsigned int v31; // [sp+10h] [bp-10h]@1
  int v32; // [sp+14h] [bp-Ch]@4
  unsigned int v33; // [sp+18h] [bp-8h]@2
  char v34; // [sp+24h] [bp+4h]@4

  v2 = *(_DWORD *)(a1 + 5748);
  v3 = *(_DWORD *)(a1 + 5680);
  v4 = a2;
  v31 = *(_DWORD *)(a1 + 5696);
  v5 = *(_DWORD *)(a1 + 5692);
  if ( v3 <= v2 - 262 )
    v33 = 0;
  else
    v33 = v3 - v2 + 262;
  v6 = *(_DWORD *)(a1 + 5740) + v3;
  v34 = *(_BYTE *)(v6 + v5 - 1);
  v32 = *(_DWORD *)(a1 + 5708);
  v7 = v6 + 258;
  v30 = *(_BYTE *)(v6 + v5);
  if ( v5 >= *(_DWORD *)(a1 + 5704) )
    v31 >>= 2;
  if ( *(_DWORD *)(a1 + 5708) > *(_DWORD *)(a1 + 5688) )
    v32 = *(_DWORD *)(a1 + 5688);
  do
  {
    v8 = v4 + *(_DWORD *)(a1 + 5740);
    if ( *(_BYTE *)(v8 + v5) == v30 && *(_BYTE *)(v8 + v5 - 1) == v34 && *(_BYTE *)v8 == *(_BYTE *)v6 )
    {
      v9 = *(_BYTE *)(v8 + 1);
      v10 = v8 + 1;
      if ( v9 == *(_BYTE *)(v6 + 1) )
      {
        v11 = v6 + 2;
        v12 = (_BYTE *)(v10 + 1);
        do
        {
          v13 = *(_BYTE *)(v11++ + 1);
          v14 = v12 + 1;
          if ( v13 != *v14 )
            break;
          v15 = *(_BYTE *)(v11++ + 1);
          v16 = v14 + 1;
          if ( v15 != *v16 )
            break;
          v17 = *(_BYTE *)(v11++ + 1);
          v18 = v16 + 1;
          if ( v17 != *v18 )
            break;
          v19 = *(_BYTE *)(v11++ + 1);
          v20 = v18 + 1;
          if ( v19 != *v20 )
            break;
          v21 = *(_BYTE *)(v11++ + 1);
          v22 = v20 + 1;
          if ( v21 != *v22 )
            break;
          v23 = *(_BYTE *)(v11++ + 1);
          v24 = v22 + 1;
          if ( v23 != *v24 )
            break;
          v25 = *(_BYTE *)(v11++ + 1);
          v26 = v24 + 1;
          if ( v25 != *v26 )
            break;
          v27 = *(_BYTE *)(v11++ + 1);
          v12 = v26 + 1;
          if ( v27 != *v12 )
            break;
        }
        while ( v11 < v7 );
        v28 = v11 - v7 + 258;
        v6 = v7 - 258;
        if ( v28 > (signed int)v5 )
        {
          *(_DWORD *)(a1 + 5684) = v4;
          v5 = v28;
          if ( v28 >= v32 )
            break;
          v34 = *(_BYTE *)(v28 + v6 - 1);
          v30 = *(_BYTE *)(v28 + v6);
        }
      }
    }
    v4 = *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (v4 & *(_DWORD *)(a1 + 5756)));
    if ( v4 <= v33 )
      break;
    --v31;
  }
  while ( v31 );
  result = *(_DWORD *)(a1 + 5688);
  if ( v5 <= result )
    result = v5;
  return result;
}

//----- (10011050) --------------------------------------------------------
unsigned int __usercall sub_10011050@<eax>(int a1@<esi>, int a2)
{
  int v2; // ecx@1
  char v3; // dl@1
  int v4; // eax@1
  int v5; // ecx@1
  unsigned int v6; // edi@1
  unsigned int v7; // eax@3
  _BYTE *v8; // ecx@3
  char v9; // dl@4
  _BYTE *v10; // ecx@4
  char v11; // dl@5
  _BYTE *v12; // ecx@5
  char v13; // dl@6
  _BYTE *v14; // ecx@6
  char v15; // dl@7
  _BYTE *v16; // ecx@7
  char v17; // dl@8
  _BYTE *v18; // ecx@8
  char v19; // dl@9
  _BYTE *v20; // ecx@9
  char v21; // dl@10
  _BYTE *v22; // ecx@10
  char v23; // dl@11
  unsigned int v24; // ecx@13
  unsigned int result; // eax@13

  v2 = *(_DWORD *)(a1 + 5740);
  v3 = *(_BYTE *)(v2 + a2);
  v4 = v2 + *(_DWORD *)(a1 + 5680);
  v5 = a2 + v2;
  v6 = v4 + 258;
  if ( v3 != *(_BYTE *)v4 || *(_BYTE *)(v5 + 1) != *(_BYTE *)(v4 + 1) )
  {
    result = 2;
  }
  else
  {
    v7 = v4 + 2;
    v8 = (_BYTE *)(v5 + 2);
    do
    {
      v9 = *(_BYTE *)(v7++ + 1);
      v10 = v8 + 1;
      if ( v9 != *v10 )
        break;
      v11 = *(_BYTE *)(v7++ + 1);
      v12 = v10 + 1;
      if ( v11 != *v12 )
        break;
      v13 = *(_BYTE *)(v7++ + 1);
      v14 = v12 + 1;
      if ( v13 != *v14 )
        break;
      v15 = *(_BYTE *)(v7++ + 1);
      v16 = v14 + 1;
      if ( v15 != *v16 )
        break;
      v17 = *(_BYTE *)(v7++ + 1);
      v18 = v16 + 1;
      if ( v17 != *v18 )
        break;
      v19 = *(_BYTE *)(v7++ + 1);
      v20 = v18 + 1;
      if ( v19 != *v20 )
        break;
      v21 = *(_BYTE *)(v7++ + 1);
      v22 = v20 + 1;
      if ( v21 != *v22 )
        break;
      v23 = *(_BYTE *)(v7++ + 1);
      v8 = v22 + 1;
      if ( v23 != *v8 )
        break;
    }
    while ( v7 < v6 );
    v24 = *(_DWORD *)(a1 + 5688);
    result = v7 - v6 + 258;
    *(_DWORD *)(a1 + 5684) = a2;
    if ( result > v24 )
      result = v24;
  }
  return result;
}

//----- (10011120) --------------------------------------------------------
int __usercall sub_10011120@<eax>(int result@<eax>, int a2@<edi>, int a3)
{
  int v3; // edx@1
  int v4; // ebp@1
  int v5; // ecx@1
  bool v6; // sf@1
  unsigned __int8 v7; // of@1
  int v8; // esi@3
  int v9; // ebp@3
  unsigned __int16 v10; // dx@3
  unsigned __int16 v11; // bx@3
  int v12; // esi@8
  unsigned __int16 v13; // dx@8
  unsigned __int16 v14; // bx@8
  int v15; // edx@11
  int v16; // [sp+8h] [bp-4h]@1

  v3 = *(_DWORD *)(result + 2324);
  v4 = *(_DWORD *)(result + 4 * a3 + 32);
  v5 = 2 * a3;
  v7 = __OFSUB__(2 * a3, v3);
  v6 = 2 * a3 - v3 < 0;
  v16 = *(_DWORD *)(result + 4 * a3 + 32);
  if ( 2 * a3 > v3 )
  {
    *(_DWORD *)(result + 4 * a3 + 32) = v4;
  }
  else
  {
    while ( 1 )
    {
      if ( v6 ^ v7 )
      {
        v8 = *(_DWORD *)(result + 4 * v5 + 36);
        v9 = *(_DWORD *)(result + 4 * v5 + 32);
        v10 = *(_WORD *)(a2 + 4 * v8);
        v11 = *(_WORD *)(a2 + 4 * v9);
        if ( v10 < v11 || v10 == v11 && *(_BYTE *)(v8 + result + 2332) <= *(_BYTE *)(result + v9 + 2332) )
          ++v5;
        v4 = v16;
      }
      v12 = *(_DWORD *)(result + 4 * v5 + 32);
      v13 = *(_WORD *)(a2 + 4 * v4);
      v14 = *(_WORD *)(a2 + 4 * v12);
      if ( v13 < v14 )
      {
LABEL_12:
        *(_DWORD *)(result + 4 * a3 + 32) = v4;
        return result;
      }
      if ( v13 == v14 && *(_BYTE *)(result + v4 + 2332) <= *(_BYTE *)(v12 + result + 2332) )
        break;
      *(_DWORD *)(result + 4 * a3 + 32) = v12;
      v15 = *(_DWORD *)(result + 2324);
      a3 = v5;
      v5 *= 2;
      v7 = __OFSUB__(v5, v15);
      v6 = v5 - v15 < 0;
      if ( v5 > v15 )
        goto LABEL_12;
    }
    *(_DWORD *)(result + 4 * a3 + 32) = v4;
  }
  return result;
}

//----- (100111D0) --------------------------------------------------------
int __usercall sub_100111D0@<eax>(int result@<eax>, __int16 a2@<cx>)
{
  int v2; // edi@1

  *(_BYTE *)(*(_DWORD *)(result + 5800) + *(_DWORD *)(result + 5812)) = HIBYTE(a2);
  v2 = *(_DWORD *)(result + 5800);
  *(_BYTE *)(++*(_DWORD *)(result + 5812) + v2) = a2;
  ++*(_DWORD *)(result + 5812);
  return result;
}

//----- (10011210) --------------------------------------------------------
unsigned int __usercall sub_10011210@<eax>(unsigned int a1@<edx>, int a2@<esi>, void *a3)
{
  int v3; // ecx@1
  unsigned int v4; // edi@1
  unsigned int result; // eax@4

  v3 = *(_DWORD *)(a2 + 24);
  v4 = *(_DWORD *)(a2 + 4);
  if ( v4 > a1 )
    v4 = a1;
  if ( v4 )
  {
    *(_DWORD *)(a2 + 4) -= v4;
    if ( *(_DWORD *)(v3 + 5780) == 1 )
      *(_DWORD *)(a2 + 28) = sub_10012FE0(*(_DWORD *)(a2 + 28), *(_BYTE **)a2, v4);
    memcpy_0(a3, *(const void **)a2, v4);
    *(_DWORD *)a2 += v4;
    *(_DWORD *)(a2 + 8) += v4;
    result = v4;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10011270) --------------------------------------------------------
signed int __usercall sub_10011270@<eax>(signed int result@<eax>, int a2@<ecx>, int a3)
{
  signed int v3; // edi@1
  signed int v4; // edx@1
  signed int v5; // ebp@1
  int v6; // ebx@1
  signed int v7; // ecx@1
  signed int v8; // esi@1
  _WORD *v9; // [sp+10h] [bp-8h]@4
  int v10; // [sp+14h] [bp-4h]@4

  v3 = *(_WORD *)(result + 2);
  v4 = 0;
  v5 = -1;
  v6 = a2;
  v7 = 7;
  v8 = 4;
  if ( !*(_WORD *)(result + 2) )
  {
    v7 = 138;
    v8 = 3;
  }
  *(_WORD *)(result + 4 * v6 + 6) = -1;
  if ( v6 >= 0 )
  {
    v10 = v6 + 1;
    v9 = (_WORD *)(result + 6);
    do
    {
      result = v3;
      v3 = *v9;
      if ( ++v4 >= v7 || result != v3 )
      {
        if ( v4 >= v8 )
        {
          if ( result )
          {
            if ( result != v5 )
              ++*(_WORD *)(a3 + 4 * result + 5472);
            ++*(_WORD *)(a3 + 5536);
          }
          else if ( v4 > 10 )
          {
            ++*(_WORD *)(a3 + 5544);
          }
          else
          {
            ++*(_WORD *)(a3 + 5540);
          }
        }
        else
        {
          *(_WORD *)(a3 + 4 * result + 5472) += v4;
        }
        v4 = 0;
        v5 = result;
        if ( v3 )
        {
          if ( result == v3 )
          {
            v7 = 6;
            v8 = 3;
          }
          else
          {
            v7 = 7;
            v8 = 4;
          }
        }
        else
        {
          v7 = 138;
          v8 = 3;
        }
      }
      v9 += 2;
      --v10;
    }
    while ( v10 );
  }
  return result;
}

//----- (10011350) --------------------------------------------------------
int __usercall sub_10011350@<eax>(int result@<eax>, int a2@<edx>, int a3@<ecx>)
{
  signed int v3; // esi@1
  int v4; // ebx@1
  signed int v5; // ecx@1
  signed int v6; // edi@1
  signed int v7; // edx@5
  int v8; // edi@8
  int v9; // ecx@8
  unsigned __int16 v10; // si@9
  int v11; // edx@9
  int v12; // ecx@9
  int v13; // edx@9
  __int16 v14; // si@9
  int v15; // ecx@9
  int v16; // ecx@15
  unsigned __int16 v17; // si@16
  int v18; // edi@16
  int v19; // ecx@16
  int v20; // ebx@16
  int v21; // ecx@16
  int v22; // ecx@19
  unsigned __int16 v23; // si@20
  int v24; // edi@20
  int v25; // ecx@20
  int v26; // ebx@20
  int v27; // ecx@20
  int v28; // esi@22
  int v29; // edi@23
  int v30; // ecx@23
  int v31; // ebx@23
  int v32; // ecx@24
  int v33; // ecx@25
  unsigned __int16 v34; // si@27
  int v35; // edi@27
  int v36; // ecx@27
  int v37; // ebx@27
  int v38; // ecx@27
  int v39; // esi@29
  int v40; // edi@30
  int v41; // ecx@30
  int v42; // ebx@30
  unsigned __int16 v43; // si@33
  int v44; // edi@33
  int v45; // ecx@33
  int v46; // ebx@33
  int v47; // ecx@33
  int v48; // esi@35
  int v49; // edi@36
  int v50; // ecx@36
  int v51; // ebx@36
  signed int v52; // [sp+10h] [bp-18h]@5
  signed int v53; // [sp+14h] [bp-14h]@1
  _WORD *v54; // [sp+18h] [bp-10h]@4
  signed int v55; // [sp+1Ch] [bp-Ch]@1
  int v56; // [sp+1Ch] [bp-Ch]@15
  int v57; // [sp+1Ch] [bp-Ch]@19
  int v58; // [sp+1Ch] [bp-Ch]@26
  int v59; // [sp+1Ch] [bp-Ch]@32
  int v60; // [sp+20h] [bp-8h]@4
  signed int v61; // [sp+24h] [bp-4h]@5

  v3 = 0;
  v4 = a3;
  v5 = 7;
  v6 = 4;
  v53 = *(_WORD *)(a2 + 2);
  v55 = -1;
  if ( !*(_WORD *)(a2 + 2) )
  {
    v5 = 138;
    v6 = 3;
  }
  if ( v4 >= 0 )
  {
    v54 = (_WORD *)(a2 + 6);
    v60 = v4 + 1;
    do
    {
      v7 = v53;
      ++v3;
      v61 = v53;
      v53 = *v54;
      v52 = v3;
      if ( v3 < v5 && v7 == *v54 )
        goto LABEL_44;
      if ( v3 < v6 )
      {
        do
        {
          v8 = *(_WORD *)(result + 4 * v7 + 5474);
          v9 = *(_DWORD *)(result + 2932);
          if ( v9 <= 16 - v8 )
          {
            *(_WORD *)(result + 2924) |= *(_WORD *)(result + 4 * v7 + 5472) << v9;
            v15 = v8 + v9;
          }
          else
          {
            v10 = *(_WORD *)(result + 4 * v7 + 5472);
            v11 = *(_WORD *)(result + 4 * v7 + 5472) << v9;
            v12 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v11;
            *(_BYTE *)(v12 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v13 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            v14 = v10 >> (16 - v13);
            v15 = v13 + v8 - 16;
            v7 = v61;
            *(_WORD *)(result + 2924) = v14;
            v3 = v52;
          }
          --v3;
          *(_DWORD *)(result + 2932) = v15;
          v52 = v3;
        }
        while ( v3 );
        goto LABEL_39;
      }
      if ( v7 )
      {
        if ( v7 != v55 )
        {
          v16 = *(_DWORD *)(result + 2932);
          v56 = *(_WORD *)(result + 4 * v7 + 5474);
          if ( v16 <= 16 - v56 )
          {
            *(_WORD *)(result + 2924) |= *(_WORD *)(result + 4 * v7 + 5472) << v16;
            v21 = v56 + v16;
          }
          else
          {
            v17 = *(_WORD *)(result + 4 * v7 + 5472);
            v18 = *(_WORD *)(result + 4 * v7 + 5472) << v16;
            v19 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v18;
            *(_BYTE *)(v19 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v20 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            v21 = v20 + v56 - 16;
            *(_WORD *)(result + 2924) = v17 >> (16 - v20);
            v3 = v52;
          }
          --v3;
          *(_DWORD *)(result + 2932) = v21;
          v52 = v3;
        }
        v22 = *(_DWORD *)(result + 2932);
        v57 = *(_WORD *)(result + 5538);
        if ( v22 <= 16 - v57 )
        {
          *(_WORD *)(result + 2924) |= *(_WORD *)(result + 5536) << v22;
          v27 = v57 + v22;
        }
        else
        {
          v23 = *(_WORD *)(result + 5536);
          v24 = *(_WORD *)(result + 5536) << v22;
          v25 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v24;
          *(_BYTE *)(v25 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v26 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          v27 = v26 + v57 - 16;
          *(_WORD *)(result + 2924) = v23 >> (16 - v26);
          v3 = v52;
        }
        v28 = v3 - 3;
        *(_DWORD *)(result + 2932) = v27;
        if ( v27 > 14 )
        {
          v29 = v28 << v27;
          v30 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v29;
          *(_BYTE *)(v30 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v31 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          *(_DWORD *)(result + 2932) = v31 - 14;
          *(_WORD *)(result + 2924) = (unsigned __int16)v28 >> (16 - v31);
          goto LABEL_39;
        }
        *(_WORD *)(result + 2924) |= v28 << v27;
        v32 = v27 + 2;
      }
      else
      {
        v33 = *(_DWORD *)(result + 2932);
        if ( v3 > 10 )
        {
          v59 = *(_WORD *)(result + 5546);
          if ( v33 <= 16 - v59 )
          {
            *(_WORD *)(result + 2924) |= *(_WORD *)(result + 5544) << v33;
            v47 = v59 + v33;
          }
          else
          {
            v43 = *(_WORD *)(result + 5544);
            v44 = *(_WORD *)(result + 5544) << v33;
            v45 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v44;
            *(_BYTE *)(v45 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v46 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            v47 = v46 + v59 - 16;
            *(_WORD *)(result + 2924) = v43 >> (16 - v46);
            v3 = v52;
          }
          v48 = v3 - 11;
          *(_DWORD *)(result + 2932) = v47;
          if ( v47 > 9 )
          {
            v49 = v48 << v47;
            v50 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v49;
            *(_BYTE *)(v50 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v51 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            *(_DWORD *)(result + 2932) = v51 - 9;
            *(_WORD *)(result + 2924) = (unsigned __int16)v48 >> (16 - v51);
            goto LABEL_39;
          }
          *(_WORD *)(result + 2924) |= v48 << v47;
          v32 = v47 + 7;
        }
        else
        {
          v58 = *(_WORD *)(result + 5542);
          if ( v33 <= 16 - v58 )
          {
            *(_WORD *)(result + 2924) |= *(_WORD *)(result + 5540) << v33;
            v38 = v58 + v33;
          }
          else
          {
            v34 = *(_WORD *)(result + 5540);
            v35 = *(_WORD *)(result + 5540) << v33;
            v36 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v35;
            *(_BYTE *)(v36 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v37 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            v38 = v37 + v58 - 16;
            *(_WORD *)(result + 2924) = v34 >> (16 - v37);
            v3 = v52;
          }
          v39 = v3 - 3;
          *(_DWORD *)(result + 2932) = v38;
          if ( v38 > 13 )
          {
            v40 = v39 << v38;
            v41 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v40;
            *(_BYTE *)(v41 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v42 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            *(_DWORD *)(result + 2932) = v42 - 13;
            *(_WORD *)(result + 2924) = (unsigned __int16)v39 >> (16 - v42);
            goto LABEL_39;
          }
          *(_WORD *)(result + 2924) |= v39 << v38;
          v32 = v38 + 3;
        }
      }
      *(_DWORD *)(result + 2932) = v32;
LABEL_39:
      v3 = 0;
      v55 = v7;
      if ( v53 )
      {
        if ( v7 == v53 )
        {
          v5 = 6;
          v6 = 3;
        }
        else
        {
          v5 = 7;
          v6 = 4;
        }
      }
      else
      {
        v5 = 138;
        v6 = 3;
      }
LABEL_44:
      v54 += 2;
      --v60;
    }
    while ( v60 );
  }
  return result;
}

//----- (100118F0) --------------------------------------------------------
int __usercall sub_100118F0@<eax>(int a1@<eax>)
{
  signed int v1; // ecx@1
  int v2; // edx@2
  signed int v3; // ecx@4
  int v4; // edx@5
  int result; // eax@7
  signed int v6; // ecx@7
  int v7; // edx@9
  signed int v8; // ecx@11
  int v9; // edx@12

  v1 = *(_DWORD *)(a1 + 2932);
  *(_WORD *)(a1 + 2924) |= 2 << v1;
  if ( v1 <= 13 )
  {
    *(_DWORD *)(a1 + 2932) = v1 + 3;
  }
  else
  {
    *(_BYTE *)(*(_DWORD *)(a1 + 5800) + (*(_DWORD *)(a1 + 5812))++) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v2 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    *(_DWORD *)(a1 + 2932) = v2 - 13;
    *(_WORD *)(a1 + 2924) = 2u >> (16 - v2);
  }
  v3 = *(_DWORD *)(a1 + 2932);
  *(_WORD *)(a1 + 2924) = *(_WORD *)(a1 + 2924);
  if ( v3 <= 9 )
  {
    *(_DWORD *)(a1 + 2932) = v3 + 7;
  }
  else
  {
    *(_BYTE *)(*(_DWORD *)(a1 + 5800) + (*(_DWORD *)(a1 + 5812))++) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v4 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    *(_DWORD *)(a1 + 2932) = v4 - 9;
    *(_WORD *)(a1 + 2924) = 0;
  }
  result = sub_10010510(a1);
  v6 = *(_DWORD *)(result + 2932);
  if ( *(_DWORD *)(result + 2928) - v6 + 11 < 9 )
  {
    *(_WORD *)(result + 2924) |= 2 << v6;
    if ( v6 <= 13 )
    {
      *(_DWORD *)(result + 2932) = v6 + 3;
    }
    else
    {
      *(_BYTE *)(*(_DWORD *)(result + 5800) + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
      *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
      v7 = *(_DWORD *)(result + 2932);
      ++*(_DWORD *)(result + 5812);
      *(_DWORD *)(result + 2932) = v7 - 13;
      *(_WORD *)(result + 2924) = 2u >> (16 - v7);
    }
    v8 = *(_DWORD *)(result + 2932);
    *(_WORD *)(result + 2924) = *(_WORD *)(result + 2924);
    if ( v8 > 9 )
    {
      *(_BYTE *)(*(_DWORD *)(result + 5800) + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
      *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
      v9 = *(_DWORD *)(result + 2932);
      ++*(_DWORD *)(result + 5812);
      *(_DWORD *)(result + 2932) = v9 - 9;
      *(_WORD *)(result + 2924) = 0;
      result = sub_10010510(result);
      *(_DWORD *)(result + 2928) = 7;
      return result;
    }
    *(_DWORD *)(result + 2932) = v8 + 7;
    result = sub_10010510(result);
  }
  *(_DWORD *)(result + 2928) = 7;
  return result;
}

//----- (10011B30) --------------------------------------------------------
int __usercall sub_10011B30@<eax>(int a1@<eax>, int a2@<ecx>, _BYTE *a3, int a4)
{
  int v4; // esi@1
  signed int v5; // ecx@1
  int v6; // edx@2
  int v7; // ecx@2
  int v8; // edx@2
  int result; // eax@2

  v4 = a2;
  v5 = *(_DWORD *)(a1 + 2932);
  if ( v5 <= 13 )
  {
    *(_WORD *)(a1 + 2924) |= v4 << v5;
    *(_DWORD *)(a1 + 2932) = v5 + 3;
    result = sub_10010AD0(a1, a3, a4);
  }
  else
  {
    v6 = v4 << v5;
    v7 = *(_DWORD *)(a1 + 5800);
    *(_WORD *)(a1 + 2924) |= v6;
    *(_BYTE *)(v7 + (*(_DWORD *)(a1 + 5812))++) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v8 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    *(_WORD *)(a1 + 2924) = (unsigned __int16)v4 >> (16 - v8);
    *(_DWORD *)(a1 + 2932) = v8 - 13;
    result = sub_10010AD0(a1, a3, a4);
  }
  return result;
}

//----- (10011BD0) --------------------------------------------------------
signed int __usercall sub_10011BD0@<eax>(int a1@<esi>, int a2)
{
  int v2; // eax@1
  int v3; // ebp@1
  signed int v4; // ebx@1
  int v5; // edi@1
  int v6; // eax@1
  signed int v7; // eax@8
  signed int i; // ebp@14
  int v9; // ebx@16
  int v10; // eax@17
  int v11; // edx@17
  int v12; // ebp@17
  int v13; // eax@17
  unsigned __int8 v14; // cl@17
  int v16; // [sp+Ch] [bp-8h]@1
  int v17; // [sp+10h] [bp-4h]@1

  v2 = *(_DWORD *)(a2 + 8);
  v3 = *(_DWORD *)v2;
  v17 = *(_DWORD *)(v2 + 12);
  v4 = -1;
  v5 = *(_DWORD *)a2;
  v6 = 0;
  v16 = -1;
  *(_DWORD *)(a1 + 2324) = 0;
  for ( *(_DWORD *)(a1 + 2328) = 573; v6 < v17; ++v6 )
  {
    if ( *(_WORD *)(v5 + 4 * v6) )
    {
      *(_DWORD *)(a1 + 4 * ++*(_DWORD *)(a1 + 2324) + 32) = v6;
      v16 = v6;
      *(_BYTE *)(v6 + a1 + 2332) = 0;
      v4 = v6;
    }
    else
    {
      *(_WORD *)(v5 + 4 * v6 + 2) = 0;
    }
  }
  if ( *(_DWORD *)(a1 + 2324) < 2 )
  {
    do
    {
      if ( v4 >= 2 )
        v7 = 0;
      else
        v7 = ++v4;
      *(_DWORD *)(a1 + 4 * ++*(_DWORD *)(a1 + 2324) + 32) = v7;
      *(_WORD *)(v5 + 4 * v7) = 1;
      *(_BYTE *)(a1 + v7 + 2332) = 0;
      --*(_DWORD *)(a1 + 2912);
      if ( v3 )
        *(_DWORD *)(a1 + 2916) -= *(_WORD *)(v3 + 4 * v7 + 2);
    }
    while ( *(_DWORD *)(a1 + 2324) < 2 );
    v16 = v4;
  }
  *(_DWORD *)(a2 + 4) = v4;
  for ( i = *(_DWORD *)(a1 + 2324) / 2; i >= 1; --i )
    sub_10011120(a1, v5, i);
  v9 = v17;
  do
  {
    v10 = *(_DWORD *)(a1 + 2324);
    v11 = *(_DWORD *)(a1 + 4 * v10 + 32);
    v12 = *(_DWORD *)(a1 + 36);
    *(_DWORD *)(a1 + 2324) = v10 - 1;
    *(_DWORD *)(a1 + 36) = v11;
    sub_10011120(a1, v5, 1);
    v13 = *(_DWORD *)(a1 + 36);
    *(_DWORD *)(a1 + 4 * --*(_DWORD *)(a1 + 2328) + 32) = v12;
    *(_DWORD *)(a1 + 4 * --*(_DWORD *)(a1 + 2328) + 32) = v13;
    *(_WORD *)(v5 + 4 * v9) = *(_WORD *)(v5 + 4 * v12) + *(_WORD *)(v5 + 4 * v13);
    v14 = *(_BYTE *)(a1 + v13 + 2332);
    if ( *(_BYTE *)(a1 + v12 + 2332) >= v14 )
      v14 = *(_BYTE *)(a1 + v12 + 2332);
    *(_BYTE *)(a1 + v9 + 2332) = v14 + 1;
    *(_WORD *)(v5 + 4 * v13 + 2) = v9;
    *(_WORD *)(v5 + 4 * v12 + 2) = v9;
    *(_DWORD *)(a1 + 36) = v9++;
    sub_10011120(a1, v5, 1);
  }
  while ( *(_DWORD *)(a1 + 2324) >= 2 );
  *(_DWORD *)(a1 + 4 * --*(_DWORD *)(a1 + 2328) + 32) = *(_DWORD *)(a1 + 36);
  sub_10010BE0(a1, a2);
  return sub_10010DB0(a1, v16, v5);
}

//----- (10011DB0) --------------------------------------------------------
unsigned int __usercall sub_10011DB0@<eax>(int a1@<edi>)
{
  size_t v1; // ebx@1
  unsigned int result; // eax@2
  unsigned int v3; // ebp@2
  int v4; // edx@3
  int v5; // eax@3
  _WORD *v6; // ecx@3
  int v7; // eax@4
  __int16 v8; // ax@5
  size_t v9; // edx@8
  _WORD *v10; // ecx@8
  int v11; // eax@9
  int v12; // esi@14
  unsigned int v13; // edx@15
  int v14; // esi@16
  int v15; // eax@16
  int v16; // ecx@16

  v1 = *(_DWORD *)(a1 + 5748);
  do
  {
    result = *(_DWORD *)(a1 + 5680);
    v3 = *(_DWORD *)(a1 + 5744) - result - *(_DWORD *)(a1 + 5688);
    if ( result >= v1 + *(_DWORD *)(a1 + 5748) - 262 )
    {
      memcpy_0(*(void **)(a1 + 5740), (const void *)(*(_DWORD *)(a1 + 5740) + v1), v1);
      v4 = *(_DWORD *)(a1 + 5764);
      v5 = *(_DWORD *)(a1 + 5736);
      *(_DWORD *)(a1 + 5684) -= v1;
      *(_DWORD *)(a1 + 5680) -= v1;
      *(_DWORD *)(a1 + 5664) -= v1;
      v6 = (_WORD *)(v5 + 2 * v4);
      do
      {
        v7 = *(v6 - 1);
        --v6;
        if ( v7 < v1 )
          v8 = 0;
        else
          v8 = v7 - v1;
        --v4;
        *v6 = v8;
      }
      while ( v4 );
      v9 = v1;
      v10 = (_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * v1);
      do
      {
        v11 = *(v10 - 1);
        --v10;
        if ( v11 < v1 )
          result = 0;
        else
          result = v11 - v1;
        --v9;
        *v10 = result;
      }
      while ( v9 );
      v3 += v1;
    }
    v12 = *(_DWORD *)(a1 + 2908);
    if ( !*(_DWORD *)(v12 + 4) )
      break;
    result = sub_10011210(v3, v12, (void *)(*(_DWORD *)(a1 + 5688) + *(_DWORD *)(a1 + 5740) + *(_DWORD *)(a1 + 5680)));
    *(_DWORD *)(a1 + 5688) += result;
    v13 = *(_DWORD *)(a1 + 5688);
    if ( v13 >= 3 )
    {
      v14 = *(_DWORD *)(a1 + 5680) + *(_DWORD *)(a1 + 5740);
      v15 = *(_BYTE *)v14;
      v16 = *(_DWORD *)(a1 + 5776);
      *(_DWORD *)(a1 + 5760) = v15;
      result = *(_DWORD *)(a1 + 5772) & (*(_BYTE *)(v14 + 1) ^ (v15 << v16));
      *(_DWORD *)(a1 + 5760) = result;
    }
  }
  while ( v13 < 0x106 && *(_DWORD *)(*(_DWORD *)(a1 + 2908) + 4) );
  return result;
}

//----- (10011EF0) --------------------------------------------------------
int __usercall sub_10011EF0@<eax>(int a1@<eax>, int a2, int a3, int a4)
{
  signed int v4; // ecx@1
  int v5; // ebx@1
  int v6; // edx@2
  int v7; // ecx@2
  int v8; // edx@2
  signed int v9; // ecx@4
  int v10; // edx@5
  int v11; // ecx@5
  int v12; // edx@5
  signed int v13; // ecx@7
  int v14; // edx@8
  int v15; // ecx@8
  int v16; // edx@8
  int i; // edi@10
  signed int v18; // ecx@11
  int v19; // edx@11
  unsigned __int16 v20; // si@12
  int v21; // edx@12
  int v22; // ecx@12
  int v23; // edx@12
  int v24; // eax@15

  v4 = *(_DWORD *)(a1 + 2932);
  v5 = a4;
  if ( v4 <= 11 )
  {
    *(_WORD *)(a1 + 2924) |= (a2 - 257) << v4;
    *(_DWORD *)(a1 + 2932) = v4 + 5;
  }
  else
  {
    v6 = (a2 - 257) << v4;
    v7 = *(_DWORD *)(a1 + 5812);
    *(_WORD *)(a1 + 2924) |= v6;
    *(_BYTE *)(v7 + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(++*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v8 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    v5 = a4;
    *(_DWORD *)(a1 + 2932) = v8 - 11;
    *(_WORD *)(a1 + 2924) = (unsigned __int16)(a2 - 257) >> (16 - v8);
  }
  v9 = *(_DWORD *)(a1 + 2932);
  if ( v9 <= 11 )
  {
    *(_WORD *)(a1 + 2924) |= (a3 - 1) << v9;
    *(_DWORD *)(a1 + 2932) = v9 + 5;
  }
  else
  {
    v10 = (a3 - 1) << v9;
    v11 = *(_DWORD *)(a1 + 5812);
    *(_WORD *)(a1 + 2924) |= v10;
    *(_BYTE *)(v11 + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(++*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v12 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    *(_DWORD *)(a1 + 2932) = v12 - 11;
    *(_WORD *)(a1 + 2924) = (unsigned __int16)(a3 - 1) >> (16 - v12);
  }
  v13 = *(_DWORD *)(a1 + 2932);
  if ( v13 <= 12 )
  {
    *(_WORD *)(a1 + 2924) |= (v5 - 4) << v13;
    *(_DWORD *)(a1 + 2932) = v13 + 4;
  }
  else
  {
    v14 = (v5 - 4) << v13;
    v15 = *(_DWORD *)(a1 + 5812);
    *(_WORD *)(a1 + 2924) |= v14;
    *(_BYTE *)(v15 + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(++*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v16 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    *(_DWORD *)(a1 + 2932) = v16 - 12;
    *(_WORD *)(a1 + 2924) = (unsigned __int16)(v5 - 4) >> (16 - v16);
  }
  for ( i = 0; i < v5; ++i )
  {
    v18 = *(_DWORD *)(a1 + 2932);
    v19 = (unsigned __int8)byte_1006974C[i];
    if ( v18 <= 13 )
    {
      *(_WORD *)(a1 + 2924) |= *(_WORD *)(a1 + 4 * v19 + 5474) << v18;
      *(_DWORD *)(a1 + 2932) = v18 + 3;
    }
    else
    {
      v20 = *(_WORD *)(a1 + 4 * v19 + 5474);
      v21 = *(_WORD *)(a1 + 4 * v19 + 5474) << v18;
      v22 = *(_DWORD *)(a1 + 5812);
      *(_WORD *)(a1 + 2924) |= v21;
      *(_BYTE *)(v22 + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2924);
      *(_BYTE *)(++*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
      v23 = *(_DWORD *)(a1 + 2932);
      ++*(_DWORD *)(a1 + 5812);
      v5 = a4;
      *(_DWORD *)(a1 + 2932) = v23 - 13;
      *(_WORD *)(a1 + 2924) = v20 >> (16 - v23);
    }
  }
  v24 = sub_10011350(a1, a1 + 2936, a2 - 1);
  return sub_10011350(v24, v24 + 5228, a3 - 1);
}

//----- (100121A0) --------------------------------------------------------
signed int __cdecl sub_100121A0(int a1, int a2)
{
  int v2; // esi@3
  int v3; // eax@6
  signed int result; // eax@9
  int v5; // ebx@10
  char v6; // al@12
  int v7; // eax@14
  unsigned int v8; // ecx@17
  int v9; // eax@19
  int v10; // eax@20
  int v11; // eax@29
  signed int v12; // eax@36
  int v13; // eax@50
  bool v14; // zf@50

  if ( !a1 || (unsigned int)a2 > 4 )
    return -2;
  v2 = *(_DWORD *)(a1 + 24);
  if ( !*(_DWORD *)(a1 + 12) || !*(_DWORD *)a1 && *(_DWORD *)(a1 + 4) )
    return -2;
  v3 = *(_DWORD *)(v2 + 5788);
  if ( v3 == 666 && a2 != 4 )
    return -2;
  if ( !*(_DWORD *)(a1 + 16) )
    return -5;
  v5 = *(_DWORD *)(v2 + 5792);
  *(_DWORD *)(v2 + 2908) = a1;
  *(_DWORD *)(v2 + 5792) = a2;
  if ( v3 == 42 )
  {
    if ( *(_BYTE *)(v2 + 5796) >= 2 || (v6 = *(_BYTE *)(v2 + 5784), v6 < 2) )
    {
      v7 = 0;
    }
    else if ( v6 >= 6 )
    {
      v7 = (v6 != 6) + 2;
    }
    else
    {
      v7 = 1;
    }
    v8 = (v7 << 6) | (((*(_DWORD *)(v2 + 5752) - 8) << 12) + 2048);
    if ( *(_DWORD *)(v2 + 5680) )
      v8 |= 0x20u;
    *(_DWORD *)(v2 + 5788) = 113;
    v9 = sub_100111D0(v2, 31 * (v8 / 0x1F + 1));
    if ( *(_DWORD *)(v2 + 5680) )
    {
      v10 = sub_100111D0(v9, *(_WORD *)(a1 + 30));
      sub_100111D0(v10, *(_WORD *)(a1 + 28));
    }
    *(_DWORD *)(a1 + 28) = sub_10012FE0(0, 0, 0);
  }
  if ( *(_DWORD *)(v2 + 5812) )
  {
    sub_10010B80(a1);
    if ( !*(_DWORD *)(a1 + 16) )
    {
LABEL_24:
      *(_DWORD *)(v2 + 5792) = -1;
      return 0;
    }
  }
  else if ( !*(_DWORD *)(a1 + 4) && a2 <= v5 && a2 != 4 )
  {
    return -5;
  }
  v11 = *(_DWORD *)(v2 + 5788);
  if ( v11 == 666 )
  {
    if ( *(_DWORD *)(a1 + 4) )
      return -5;
LABEL_33:
    if ( !*(_DWORD *)(v2 + 5688) && (!a2 || v11 == 666) )
      goto LABEL_47;
    goto LABEL_36;
  }
  if ( !*(_DWORD *)(a1 + 4) )
    goto LABEL_33;
LABEL_36:
  v12 = (*(&off_1006A0C8 + 3 * *(_BYTE *)(v2 + 5784)))(v2, a2);
  if ( v12 == 2 || v12 == 3 )
    *(_DWORD *)(v2 + 5788) = 666;
  if ( !v12 || v12 == 2 )
  {
    if ( *(_DWORD *)(a1 + 16) )
      return 0;
    *(_DWORD *)(v2 + 5792) = -1;
    return 0;
  }
  if ( v12 == 1 )
  {
    if ( a2 == 1 )
    {
      sub_100118F0(v2);
    }
    else
    {
      sub_10011B30(v2, 0, 0, 0);
      if ( a2 == 3 )
      {
        *(_WORD *)(*(_DWORD *)(v2 + 5736) + 2 * *(_DWORD *)(v2 + 5764) - 2) = 0;
        memset(*(void **)(v2 + 5736), 0, 2 * *(_DWORD *)(v2 + 5764) - 2);
      }
    }
    sub_10010B80(a1);
    if ( !*(_DWORD *)(a1 + 16) )
      goto LABEL_24;
  }
LABEL_47:
  if ( a2 != 4 )
    return 0;
  if ( *(_DWORD *)(v2 + 5780) > 0 )
  {
    v13 = sub_100111D0(v2, *(_WORD *)(a1 + 30));
    sub_100111D0(v13, *(_WORD *)(a1 + 28));
    sub_10010B80(a1);
    v14 = *(_DWORD *)(v2 + 5812) == 0;
    *(_DWORD *)(v2 + 5780) = -*(_DWORD *)(v2 + 5780);
    result = v14;
  }
  else
  {
    result = 1;
  }
  return result;
}
// 1006A0C8: using guessed type int (__cdecl *off_1006A0C8)(int, int);

//----- (10012460) --------------------------------------------------------
signed int __usercall sub_10012460@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  signed int result; // eax@1

  v1 = a1;
  sub_10011270(a1 + 2936, *(_DWORD *)(a1 + 5632), a1);
  sub_10011270(v1 + 5228, *(_DWORD *)(v1 + 5644), v1);
  sub_10011BD0(v1, v1 + 5652);
  result = 18;
  while ( !*(_WORD *)(v1 + 4 * (unsigned __int8)byte_1006974C[result] + 5474) )
  {
    if ( *(_WORD *)(v1 + 4 * (unsigned __int8)byte_1006974B[result] + 5474) )
    {
      *(_DWORD *)(v1 + 2912) += 3 * --result + 17;
      return result;
    }
    if ( *(_WORD *)(v1 + 4 * (unsigned __int8)byte_1006974A[result] + 5474) )
    {
      result -= 2;
      *(_DWORD *)(v1 + 2912) += 3 * result + 17;
      return result;
    }
    if ( *(_WORD *)(v1 + 4 * (unsigned __int8)byte_10069749[result] + 5474) )
    {
      result -= 3;
      break;
    }
    result -= 4;
    if ( result < 3 )
    {
      *(_DWORD *)(v1 + 2912) += 3 * result + 17;
      return result;
    }
  }
  *(_DWORD *)(v1 + 2912) += 3 * result + 17;
  return result;
}

//----- (10012530) --------------------------------------------------------
_WORD *__usercall sub_10012530@<eax>(int a1@<eax>, int a2@<ecx>, int a3)
{
  int v3; // ebp@1
  int v4; // esi@1
  int v5; // ebx@1
  int v6; // eax@1
  _BYTE *v7; // edi@2
  signed int v8; // eax@5
  unsigned int v9; // edx@5
  unsigned int v10; // ecx@5
  int v11; // ecx@11
  bool v12; // zf@12
  signed int v13; // ecx@12
  int v14; // eax@13
  int v15; // edx@14
  int v16; // ecx@14
  int v17; // edx@14
  int v18; // edx@17
  int v19; // eax@18
  int v20; // ecx@18
  int v21; // ebx@18
  _WORD *result; // eax@21
  signed int v23; // [sp+14h] [bp+4h]@4

  v3 = a3;
  v4 = a2;
  v5 = a1;
  v6 = *(_DWORD *)(a2 + 5664);
  if ( v6 < 0 )
    v7 = 0;
  else
    v7 = (_BYTE *)(v6 + *(_DWORD *)(a2 + 5740));
  v23 = 0;
  if ( *(_BYTE *)(a2 + 5784) <= 0 )
  {
    v10 = v5 + 5;
LABEL_8:
    v9 = v10;
    goto LABEL_9;
  }
  sub_10011BD0(a2, a2 + 5628);
  sub_10011BD0(v4, v4 + 5640);
  v8 = sub_10012460(v4);
  v9 = (unsigned int)(*(_DWORD *)(v4 + 2912) + 10) >> 3;
  v10 = (unsigned int)(*(_DWORD *)(v4 + 2916) + 10) >> 3;
  v23 = v8;
  if ( v10 <= v9 )
    goto LABEL_8;
LABEL_9:
  if ( v5 + 4 <= v9 && v7 )
  {
    sub_10011B30(v4, v3, v7, v5);
  }
  else
  {
    v12 = v10 == v9;
    v13 = *(_DWORD *)(v4 + 2932);
    if ( v12 )
    {
      v14 = v3 + 2;
      if ( v13 <= 13 )
      {
        *(_WORD *)(v4 + 2924) |= v14 << v13;
        *(_DWORD *)(v4 + 2932) = v13 + 3;
      }
      else
      {
        v15 = v14 << v13;
        v16 = *(_DWORD *)(v4 + 5800);
        *(_WORD *)(v4 + 2924) |= v15;
        *(_BYTE *)(v16 + (*(_DWORD *)(v4 + 5812))++) = *(_BYTE *)(v4 + 2924);
        *(_BYTE *)(*(_DWORD *)(v4 + 5812) + *(_DWORD *)(v4 + 5800)) = *(_BYTE *)(v4 + 2925);
        v17 = *(_DWORD *)(v4 + 2932);
        ++*(_DWORD *)(v4 + 5812);
        *(_DWORD *)(v4 + 2932) = v17 - 13;
        *(_WORD *)(v4 + 2924) = (unsigned __int16)v14 >> (16 - v17);
      }
      sub_10010650(v4, (int)&unk_100697D8, (int)&unk_10069C58);
    }
    else
    {
      v18 = v3 + 4;
      if ( v13 <= 13 )
      {
        *(_WORD *)(v4 + 2924) |= v18 << v13;
        *(_DWORD *)(v4 + 2932) = v13 + 3;
      }
      else
      {
        v19 = v18 << v13;
        v20 = *(_DWORD *)(v4 + 5800);
        *(_WORD *)(v4 + 2924) |= v19;
        *(_BYTE *)(v20 + (*(_DWORD *)(v4 + 5812))++) = *(_BYTE *)(v4 + 2924);
        *(_BYTE *)(*(_DWORD *)(v4 + 5812) + *(_DWORD *)(v4 + 5800)) = *(_BYTE *)(v4 + 2925);
        v21 = *(_DWORD *)(v4 + 2932);
        ++*(_DWORD *)(v4 + 5812);
        *(_DWORD *)(v4 + 2932) = v21 - 13;
        *(_WORD *)(v4 + 2924) = (unsigned __int16)v18 >> (16 - v21);
      }
      sub_10011EF0(v4, *(_DWORD *)(v4 + 5632) + 1, *(_DWORD *)(v4 + 5644) + 1, v23 + 1);
      sub_10010650(v4, v4 + 2936, v4 + 5228);
    }
  }
  result = sub_10010E30(v11, v4);
  if ( v3 )
    result = (_WORD *)sub_100105C0(v4);
  return result;
}

//----- (10012750) --------------------------------------------------------
signed int __cdecl sub_10012750(int a1, int a2)
{
  unsigned int v2; // ebx@1
  unsigned int v3; // eax@2
  int v4; // edx@7
  int v5; // edi@7
  int v6; // eax@7
  int v7; // ecx@7
  unsigned int v8; // eax@9
  char v9; // cl@10
  unsigned int v10; // eax@11
  unsigned int v11; // eax@16
  BOOL v12; // eax@17
  unsigned int v13; // ecx@17
  int v14; // edi@20
  int v15; // ecx@20
  int v16; // edx@20
  int v17; // ebx@20
  int v19; // edi@22
  int v20; // ecx@22
  int v21; // edx@22
  int v22; // edi@26
  signed int result; // eax@27
  int v24; // edi@28
  int v25; // eax@28

  v2 = 0;
  while ( 1 )
  {
    v3 = *(_DWORD *)(a1 + 5688);
    if ( v3 < 0x106 )
    {
      sub_10011DB0(a1);
      v3 = *(_DWORD *)(a1 + 5688);
      if ( v3 < 0x106 && !a2 )
        return 0;
      if ( !v3 )
        break;
    }
    if ( v3 >= 3 )
    {
      v4 = *(_DWORD *)(a1 + 5680);
      v5 = *(_DWORD *)(a1 + 5756);
      v6 = *(_DWORD *)(a1 + 5772) & (*(_BYTE *)(*(_DWORD *)(a1 + 5740) + v4 + 2) ^ (*(_DWORD *)(a1 + 5760) << *(_DWORD *)(a1 + 5776)));
      v7 = *(_DWORD *)(a1 + 5736);
      *(_DWORD *)(a1 + 5760) = v6;
      *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (v4 & v5)) = *(_WORD *)(v7 + 2 * v6);
      v2 = *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (*(_DWORD *)(a1 + 5680) & *(_DWORD *)(a1 + 5756)));
      *(_WORD *)(*(_DWORD *)(a1 + 5736) + 2 * *(_DWORD *)(a1 + 5760)) = *(_WORD *)(a1 + 5680);
    }
    if ( v2 )
    {
      v8 = *(_DWORD *)(a1 + 5680) - v2;
      if ( v8 <= *(_DWORD *)(a1 + 5748) - 262 )
      {
        v9 = *(_BYTE *)(a1 + 5796);
        if ( v9 < 2 )
        {
          v10 = sub_10010EA0(a1, v2);
LABEL_15:
          *(_DWORD *)(a1 + 5668) = v10;
          goto LABEL_16;
        }
        if ( v9 == 3 && v8 == 1 )
        {
          v10 = sub_10011050(a1, v2);
          goto LABEL_15;
        }
      }
    }
LABEL_16:
    v11 = *(_DWORD *)(a1 + 5668);
    if ( v11 < 3 )
    {
      v12 = sub_10010470(a1, *(_BYTE *)(*(_DWORD *)(a1 + 5740) + *(_DWORD *)(a1 + 5680)), 0);
      --*(_DWORD *)(a1 + 5688);
    }
    else
    {
      v12 = sub_10010470(a1, v11 - 3, *(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5684));
      v13 = *(_DWORD *)(a1 + 5668);
      *(_DWORD *)(a1 + 5688) -= v13;
      if ( v13 > *(_DWORD *)(a1 + 5700) || *(_DWORD *)(a1 + 5688) < 3u )
      {
        *(_DWORD *)(a1 + 5680) += v13;
        v19 = *(_DWORD *)(a1 + 5740) + *(_DWORD *)(a1 + 5680);
        v20 = *(_DWORD *)(a1 + 5776);
        *(_DWORD *)(a1 + 5668) = 0;
        v21 = *(_BYTE *)v19;
        *(_DWORD *)(a1 + 5760) = v21;
        *(_DWORD *)(a1 + 5760) = *(_DWORD *)(a1 + 5772) & (*(_BYTE *)(v19 + 1) ^ (v21 << v20));
        goto LABEL_25;
      }
      *(_DWORD *)(a1 + 5668) = v13 - 1;
      do
      {
        v14 = ++*(_DWORD *)(a1 + 5680);
        v15 = *(_DWORD *)(a1 + 5736);
        v16 = *(_DWORD *)(a1 + 5772) & ((*(_DWORD *)(a1 + 5760) << *(_DWORD *)(a1 + 5776)) ^ *(_BYTE *)(*(_DWORD *)(a1 + 5740) + v14 + 2));
        v17 = *(_DWORD *)(a1 + 5756);
        *(_DWORD *)(a1 + 5760) = v16;
        *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (v14 & v17)) = *(_WORD *)(v15 + 2 * v16);
        v2 = *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (*(_DWORD *)(a1 + 5680) & *(_DWORD *)(a1 + 5756)));
        *(_WORD *)(*(_DWORD *)(a1 + 5736) + 2 * *(_DWORD *)(a1 + 5760)) = *(_WORD *)(a1 + 5680);
      }
      while ( (*(_DWORD *)(a1 + 5668))-- != 1 );
    }
    ++*(_DWORD *)(a1 + 5680);
LABEL_25:
    if ( v12 )
    {
      sub_10012530(*(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5664), a1, 0);
      v22 = *(_DWORD *)(a1 + 2908);
      *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
      sub_10010B80(v22);
      if ( !*(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16) )
        return 0;
    }
  }
  sub_10012530(*(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5664), a1, a2 == 4);
  v24 = *(_DWORD *)(a1 + 2908);
  *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
  sub_10010B80(v24);
  v25 = 0;
  if ( *(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16) )
  {
    LOBYTE(v25) = a2 == 4;
    result = 2 * v25 + 1;
  }
  else
  {
    result = a2 != 4 ? 0 : 2;
  }
  return result;
}

//----- (10012A60) --------------------------------------------------------
signed int __cdecl sub_10012A60(int a1, int a2)
{
  unsigned int v2; // ebp@1
  unsigned int v3; // eax@3
  int v4; // edx@8
  int v5; // edi@8
  int v6; // eax@8
  int v7; // ecx@8
  unsigned int v8; // ecx@9
  int v9; // edx@9
  unsigned int v10; // eax@11
  char v11; // cl@12
  unsigned int v12; // eax@13
  unsigned int v13; // eax@18
  unsigned int v14; // eax@23
  int v15; // ecx@25
  unsigned int v16; // ebp@25
  BOOL v17; // eax@25
  int v18; // ecx@25
  BOOL v19; // ebx@25
  unsigned int v20; // edi@26
  int v21; // ecx@27
  int v22; // edx@27
  int v23; // eax@27
  int v25; // eax@29
  int v26; // edi@30
  signed int result; // eax@31
  int v28; // edi@34
  int v29; // ecx@35
  int v30; // edi@40
  unsigned int v31; // [sp+10h] [bp-4h]@1

  v2 = 0;
  v31 = 0;
  while ( 1 )
  {
    v3 = *(_DWORD *)(a1 + 5688);
    if ( v3 < 0x106 )
    {
      sub_10011DB0(a1);
      v3 = *(_DWORD *)(a1 + 5688);
      if ( v3 < 0x106 && !a2 )
        return 0;
      if ( !v3 )
        break;
    }
    if ( v3 >= 3 )
    {
      v4 = *(_DWORD *)(a1 + 5680);
      v5 = *(_DWORD *)(a1 + 5756);
      v6 = *(_DWORD *)(a1 + 5772) & (*(_BYTE *)(*(_DWORD *)(a1 + 5740) + v4 + 2) ^ (*(_DWORD *)(a1 + 5760) << *(_DWORD *)(a1 + 5776)));
      v7 = *(_DWORD *)(a1 + 5736);
      *(_DWORD *)(a1 + 5760) = v6;
      *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (v4 & v5)) = *(_WORD *)(v7 + 2 * v6);
      v31 = *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (*(_DWORD *)(a1 + 5680) & *(_DWORD *)(a1 + 5756)));
      v2 = *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (*(_DWORD *)(a1 + 5680) & *(_DWORD *)(a1 + 5756)));
      *(_WORD *)(*(_DWORD *)(a1 + 5736) + 2 * *(_DWORD *)(a1 + 5760)) = *(_WORD *)(a1 + 5680);
    }
    v8 = *(_DWORD *)(a1 + 5668);
    v9 = *(_DWORD *)(a1 + 5684);
    *(_DWORD *)(a1 + 5692) = v8;
    *(_DWORD *)(a1 + 5672) = v9;
    *(_DWORD *)(a1 + 5668) = 2;
    if ( !v2 )
      goto LABEL_23;
    if ( v8 >= *(_DWORD *)(a1 + 5700) )
      goto LABEL_23;
    v10 = *(_DWORD *)(a1 + 5680) - v2;
    if ( v10 > *(_DWORD *)(a1 + 5748) - 262 )
      goto LABEL_23;
    v11 = *(_BYTE *)(a1 + 5796);
    if ( v11 < 2 )
    {
      v12 = sub_10010EA0(a1, v2);
LABEL_17:
      *(_DWORD *)(a1 + 5668) = v12;
      goto LABEL_18;
    }
    if ( v11 == 3 && v10 == 1 )
    {
      v12 = sub_10011050(a1, v2);
      goto LABEL_17;
    }
LABEL_18:
    v13 = *(_DWORD *)(a1 + 5668);
    if ( v13 <= 5
      && (*(_BYTE *)(a1 + 5796) == 1
       || v13 == 3 && (unsigned int)(*(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5684)) > 0x1000) )
    {
      *(_DWORD *)(a1 + 5668) = 2;
    }
LABEL_23:
    v14 = *(_DWORD *)(a1 + 5692);
    if ( v14 < 3 || *(_DWORD *)(a1 + 5668) > v14 )
    {
      if ( *(_DWORD *)(a1 + 5676) )
      {
        if ( sub_10010470(a1, *(_BYTE *)(*(_DWORD *)(a1 + 5740) + *(_DWORD *)(a1 + 5680) - 1), 0) )
        {
          sub_10012530(*(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5664), a1, 0);
          v28 = *(_DWORD *)(a1 + 2908);
          *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
          sub_10010B80(v28);
        }
        v29 = *(_DWORD *)(a1 + 2908);
        ++*(_DWORD *)(a1 + 5680);
        --*(_DWORD *)(a1 + 5688);
        if ( !*(_DWORD *)(v29 + 16) )
          return 0;
      }
      else
      {
        ++*(_DWORD *)(a1 + 5680);
        --*(_DWORD *)(a1 + 5688);
        *(_DWORD *)(a1 + 5676) = 1;
      }
    }
    else
    {
      v15 = *(_DWORD *)(a1 + 5680);
      v16 = v15 + *(_DWORD *)(a1 + 5688) - 3;
      v17 = sub_10010470(a1, v14 - 3, v15 - *(_DWORD *)(a1 + 5672) - 1);
      v18 = *(_DWORD *)(a1 + 5692);
      v19 = v17;
      *(_DWORD *)(a1 + 5688) += 1 - v18;
      *(_DWORD *)(a1 + 5692) = v18 - 2;
      do
      {
        v20 = ++*(_DWORD *)(a1 + 5680);
        if ( v20 <= v16 )
        {
          v21 = *(_DWORD *)(a1 + 5736);
          v22 = *(_DWORD *)(a1 + 5772) & (*(_BYTE *)(*(_DWORD *)(a1 + 5740) + v20 + 2) ^ (*(_DWORD *)(a1 + 5760) << *(_DWORD *)(a1 + 5776)));
          v23 = *(_DWORD *)(a1 + 5756);
          *(_DWORD *)(a1 + 5760) = v22;
          *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (v20 & v23)) = *(_WORD *)(v21 + 2 * v22);
          v31 = *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (*(_DWORD *)(a1 + 5680) & *(_DWORD *)(a1 + 5756)));
          *(_WORD *)(*(_DWORD *)(a1 + 5736) + 2 * *(_DWORD *)(a1 + 5760)) = *(_WORD *)(a1 + 5680);
        }
      }
      while ( (*(_DWORD *)(a1 + 5692))-- != 1 );
      v25 = ++*(_DWORD *)(a1 + 5680);
      *(_DWORD *)(a1 + 5676) = 0;
      *(_DWORD *)(a1 + 5668) = 2;
      if ( v19 )
      {
        sub_10012530(v25 - *(_DWORD *)(a1 + 5664), a1, 0);
        v26 = *(_DWORD *)(a1 + 2908);
        *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
        sub_10010B80(v26);
        if ( !*(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16) )
          return 0;
      }
      v2 = v31;
    }
  }
  if ( *(_DWORD *)(a1 + 5676) )
  {
    sub_10010470(a1, *(_BYTE *)(*(_DWORD *)(a1 + 5740) + *(_DWORD *)(a1 + 5680) - 1), 0);
    *(_DWORD *)(a1 + 5676) = 0;
  }
  sub_10012530(*(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5664), a1, a2 == 4);
  v30 = *(_DWORD *)(a1 + 2908);
  *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
  sub_10010B80(v30);
  if ( *(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16) )
    result = 2 * (a2 == 4) + 1;
  else
    result = a2 != 4 ? 0 : 2;
  return result;
}

//----- (10012E70) --------------------------------------------------------
signed int __cdecl sub_10012E70(int a1, int a2)
{
  int v2; // ebx@1
  unsigned int v3; // eax@3
  bool v4; // zf@5
  int v5; // edx@5
  unsigned int v6; // ecx@5
  unsigned int v7; // eax@5
  int v8; // edi@7
  unsigned int v9; // eax@8
  int v10; // edi@9
  signed int result; // eax@10
  int v12; // edi@12
  int v13; // eax@12

  v2 = 0xFFFF;
  if ( (unsigned int)(*(_DWORD *)(a1 + 5804) - 5) <= 0xFFFF )
    v2 = *(_DWORD *)(a1 + 5804) - 5;
  while ( 1 )
  {
    v3 = *(_DWORD *)(a1 + 5688);
    if ( v3 <= 1 )
    {
      sub_10011DB0(a1);
      v3 = *(_DWORD *)(a1 + 5688);
      if ( !v3 )
        break;
    }
    v4 = v3 + *(_DWORD *)(a1 + 5680) == 0;
    *(_DWORD *)(a1 + 5680) += v3;
    v5 = *(_DWORD *)(a1 + 5664);
    v6 = *(_DWORD *)(a1 + 5680);
    *(_DWORD *)(a1 + 5688) = 0;
    v7 = v5 + v2;
    if ( !v4 && v6 < v7
      || (*(_DWORD *)(a1 + 5688) = v6 - v7,
          *(_DWORD *)(a1 + 5680) = v7,
          sub_10012530(v2, a1, 0),
          v8 = *(_DWORD *)(a1 + 2908),
          *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680),
          sub_10010B80(v8),
          *(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16)) )
    {
      v9 = *(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5664);
      if ( v9 < *(_DWORD *)(a1 + 5748) - 262 )
        continue;
      sub_10012530(v9, a1, 0);
      v10 = *(_DWORD *)(a1 + 2908);
      *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
      sub_10010B80(v10);
      if ( *(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16) )
        continue;
    }
    return 0;
  }
  if ( !a2 )
    return 0;
  sub_10012530(*(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5664), a1, a2 == 4);
  v12 = *(_DWORD *)(a1 + 2908);
  *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
  sub_10010B80(v12);
  v13 = 0;
  if ( *(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16) )
  {
    LOBYTE(v13) = a2 == 4;
    result = 2 * v13 + 1;
  }
  else
  {
    result = a2 != 4 ? 0 : 2;
  }
  return result;
}

//----- (10012FE0) --------------------------------------------------------
int __cdecl sub_10012FE0(unsigned int a1, _BYTE *a2, unsigned int a3)
{
  _BYTE *v3; // edi@1
  unsigned int v4; // ecx@1
  unsigned int v5; // esi@1
  int result; // eax@2
  unsigned int i; // ebp@3
  unsigned int v8; // ebx@4
  int v9; // eax@8
  signed int v10; // edx@8
  int v11; // ecx@9
  int v12; // esi@9
  int v13; // ecx@9
  int v14; // esi@9
  int v15; // ecx@9
  int v16; // esi@9
  unsigned int v17; // [sp+Ch] [bp+4h]@7

  v3 = a2;
  v4 = (unsigned __int16)a1;
  v5 = a1 >> 16;
  if ( a2 )
  {
    for ( i = a3; i; v5 %= 0xFFF1u )
    {
      v8 = i;
      if ( i >= 0x15B0 )
        v8 = 5552;
      i -= v8;
      if ( (signed int)v8 >= 16 )
      {
        v17 = v8 >> 4;
        v8 += -16 * (v8 >> 4);
        do
        {
          v9 = (int)(v3 + 1);
          v10 = 4;
          do
          {
            v11 = *(_BYTE *)(v9 - 1) + v4;
            v12 = v11 + v5;
            v13 = *(_BYTE *)v9 + v11;
            v14 = v13 + v12;
            v15 = *(_BYTE *)(v9 + 1) + v13;
            v16 = v15 + v14;
            v4 = *(_BYTE *)(v9 + 2) + v15;
            v5 = v4 + v16;
            v9 += 4;
            --v10;
          }
          while ( v10 );
          v3 += 16;
          --v17;
        }
        while ( v17 );
      }
      for ( ; v8; --v8 )
      {
        v4 += *v3++;
        v5 += v4;
      }
      v4 %= 0xFFF1u;
    }
    result = v4 | (v5 << 16);
  }
  else
  {
    result = (int)(a2 + 1);
  }
  return result;
}

//----- (100130E0) --------------------------------------------------------
signed int __cdecl sub_100130E0(int a1)
{
  signed int result; // eax@3

  if ( a1 && *(_DWORD *)(a1 + 24) )
  {
    *(_DWORD *)(a1 + 24) = 0;
    result = 0;
  }
  else
  {
    result = -2;
  }
  return result;
}

//----- (10013100) --------------------------------------------------------
signed int __usercall sub_10013100@<eax>(unsigned int *a1@<eax>, _DWORD *a2, unsigned int a3, int a4, int a5, int a6, int *a7, int a8, unsigned int *a9, unsigned int *a10)
{
  unsigned int v10; // ebp@1
  unsigned int *v11; // edi@1
  _DWORD *v12; // eax@1
  unsigned int v13; // edx@1
  signed int result; // eax@4
  unsigned int v15; // eax@5
  int v16; // ecx@7
  signed int v17; // edx@9
  signed int v18; // esi@13
  int i; // edi@13
  int v20; // esi@14
  int v21; // edi@16
  int v22; // esi@16
  int v23; // edi@17
  int v24; // ebx@17
  int v25; // esi@17
  int v26; // edi@18
  _DWORD *v27; // edi@20
  unsigned int v28; // ebx@20
  int v29; // esi@21
  int v30; // edi@22
  signed int v31; // edi@24
  int v32; // ebx@24
  unsigned int v33; // esi@25
  int v34; // edx@27
  int l; // ebp@28
  unsigned int v36; // edx@31
  unsigned int v37; // ecx@33
  int *v38; // ebp@34
  int v39; // eax@34
  unsigned int v40; // edi@36
  unsigned int v41; // eax@36
  unsigned int v42; // edx@39
  int v43; // eax@40
  unsigned int v44; // eax@41
  int v45; // ecx@41
  int v46; // esi@48
  signed int v47; // edx@50
  unsigned int v48; // eax@50
  int v49; // ecx@51
  unsigned int j; // eax@54
  int v51; // [sp+Ch] [bp-F4h]@7
  unsigned int v52; // [sp+Ch] [bp-F4h]@24
  signed int v53; // [sp+Ch] [bp-F4h]@31
  unsigned int v54; // [sp+10h] [bp-F0h]@9
  int v55; // [sp+14h] [bp-ECh]@24
  int v56; // [sp+18h] [bp-E8h]@26
  _DWORD *v57; // [sp+1Ch] [bp-E4h]@21
  int v58; // [sp+1Ch] [bp-E4h]@31
  unsigned int k; // [sp+20h] [bp-E0h]@24
  int *v60; // [sp+24h] [bp-DCh]@25
  int v61; // [sp+28h] [bp-D8h]@0
  unsigned int v62; // [sp+2Ch] [bp-D4h]@0
  int v63; // [sp+30h] [bp-D0h]@24
  unsigned int *v64; // [sp+34h] [bp-CCh]@24
  int v65; // [sp+38h] [bp-C8h]@11
  int v66; // [sp+3Ch] [bp-C4h]@31
  int v67; // [sp+40h] [bp-C0h]@16
  int v68; // [sp+44h] [bp-BCh]@1
  int v69; // [sp+48h] [bp-B8h]@1
  int v70; // [sp+4Ch] [bp-B4h]@1
  int v71; // [sp+50h] [bp-B0h]@1
  int v72; // [sp+54h] [bp-ACh]@1
  int v73; // [sp+58h] [bp-A8h]@1
  int v74; // [sp+5Ch] [bp-A4h]@1
  int v75; // [sp+60h] [bp-A0h]@1
  int v76; // [sp+64h] [bp-9Ch]@1
  int v77; // [sp+68h] [bp-98h]@1
  int v78; // [sp+6Ch] [bp-94h]@1
  int v79; // [sp+70h] [bp-90h]@1
  int v80; // [sp+74h] [bp-8Ch]@1
  int v81; // [sp+78h] [bp-88h]@1
  int v82; // [sp+7Ch] [bp-84h]@1
  int v83; // [sp+80h] [bp-80h]@1
  int v84; // [sp+84h] [bp-7Ch]@22
  int v85[14]; // [sp+88h] [bp-78h]@17
  int v86; // [sp+C0h] [bp-40h]@41
  int v87[15]; // [sp+C4h] [bp-3Ch]@24
  int v88; // [sp+108h] [bp+8h]@24

  v10 = 0;
  v11 = a1;
  v12 = a2;
  v68 = 0;
  v69 = 0;
  v70 = 0;
  v71 = 0;
  v72 = 0;
  v73 = 0;
  v74 = 0;
  v75 = 0;
  v76 = 0;
  v77 = 0;
  v78 = 0;
  v79 = 0;
  v80 = 0;
  v81 = 0;
  v82 = 0;
  v83 = 0;
  v13 = a3;
  do
  {
    ++*(&v68 + *v12);
    ++v12;
    --v13;
  }
  while ( v13 );
  if ( v68 == a3 )
  {
    *a7 = 0;
    *v11 = 0;
    return 0;
  }
  v15 = 1;
  if ( !v69 )
  {
    do
      ++v15;
    while ( !*(&v68 + v15) );
  }
  v16 = v15;
  v51 = v15;
  if ( *v11 > v15 )
    v15 = *v11;
  v54 = v15;
  v17 = 15;
  if ( !v83 )
  {
    do
      --v17;
    while ( !*(&v68 + v17) );
  }
  v65 = v17;
  if ( (signed int)v15 > v17 )
  {
    v54 = v17;
    v15 = v17;
  }
  v18 = 1 << v16;
  *v11 = v15;
  for ( i = v16; i < v17; v18 = 2 * v20 )
  {
    v20 = v18 - *(&v68 + i);
    if ( v20 < 0 )
      return -3;
    ++i;
  }
  v21 = *(&v68 + v17);
  v22 = v18 - v21;
  v67 = v22;
  if ( v22 < 0 )
    return -3;
  v23 = v22 + v21;
  v24 = v17 - 1;
  v25 = 0;
  *(&v68 + v17) = v23;
  v85[0] = 0;
  if ( v17 != 1 )
  {
    v26 = 0;
    do
    {
      v25 += *(int *)((char *)&v69 + v26 * 4);
      ++v26;
      --v24;
      v85[v26] = v25;
    }
    while ( v24 );
  }
  v27 = a2;
  v28 = 0;
  do
  {
    v29 = *v27;
    ++v27;
    v57 = v27;
    if ( v29 )
    {
      v30 = *(&v84 + v29);
      a10[v30] = v28;
      v16 = v51;
      *(&v84 + v29) = v30 + 1;
      v27 = v57;
    }
    ++v28;
  }
  while ( v28 < a3 );
  v88 = *(&v84 + v17);
  v31 = -1;
  v32 = -v15;
  v84 = 0;
  k = 0;
  v64 = a10;
  v87[0] = 0;
  v63 = 0;
  v52 = 0;
  v55 = v16;
  if ( v16 > v17 )
  {
LABEL_60:
    if ( v67 && v17 != 1 )
      result = -5;
    else
      result = 0;
  }
  else
  {
    v33 = v62;
    v60 = &v68 + v16;
    while ( 1 )
    {
      v56 = *v60;
      if ( *v60 )
        break;
LABEL_59:
      v17 = v65;
      ++v60;
      v55 = ++v16;
      if ( v16 > v65 )
        goto LABEL_60;
    }
    while ( 1 )
    {
      --v56;
      v34 = v32 + v15;
      if ( (signed int)(v32 + v15) < v16 )
        break;
LABEL_44:
      BYTE1(v61) = v16 - v32;
      if ( v64 < &a10[v88] )
      {
        v33 = *v64;
        if ( *v64 >= a4 )
        {
          v46 = 4 * (v33 - a4);
          LOBYTE(v61) = *(_BYTE *)(v46 + a6) + 80;
          v33 = *(_DWORD *)(v46 + a5);
        }
        else
        {
          LOBYTE(v61) = v33 < 0x100 ? 0 : 96;
        }
        ++v64;
      }
      else
      {
        LOBYTE(v61) = -64;
      }
      v47 = 1 << (v16 - v32);
      v48 = v10 >> v32;
      if ( v10 >> v32 < v52 )
      {
        v49 = v63 + 8 * v48;
        do
        {
          *(_DWORD *)v49 = v61;
          *(_DWORD *)(v49 + 4) = v33;
          v48 += v47;
          v49 += 8 * v47;
        }
        while ( v48 < v52 );
        v10 = k;
      }
      for ( j = 1 << (v55 - 1); v10 & j; j >>= 1 )
        v10 ^= j;
      v10 ^= j;
      for ( k = v10; (v10 & ((1 << v32) - 1)) != *(&v84 + v31); --v31 )
        v32 -= v54;
      v15 = v54;
      v16 = v55;
      if ( !v56 )
        goto LABEL_59;
    }
    for ( l = v32 - v15; ; l = v58 )
    {
      v66 = v15 + v34;
      v32 += v15;
      ++v31;
      v36 = v65 - v32;
      v53 = v31;
      v58 = v15 + l;
      if ( v65 - v32 > v15 )
        v36 = v15;
      v37 = v16 - v32;
      if ( 1 << v37 > (unsigned int)(v56 + 1) )
      {
        v38 = v60;
        v39 = -1 - v56 + (1 << v37);
        if ( v37 < v36 )
        {
          while ( ++v37 < v36 )
          {
            v40 = v38[1];
            ++v38;
            v41 = 2 * v39;
            if ( v41 <= v40 )
              break;
            v39 = v41 - v40;
          }
        }
        v31 = v53;
      }
      v52 = 1 << v37;
      v42 = *a9 + (1 << v37);
      if ( v42 > 0x5A0 )
        break;
      v43 = a8 + 8 * *a9;
      *a9 = v42;
      v10 = k;
      v87[v31] = v43;
      v63 = v43;
      if ( v31 )
      {
        LOBYTE(v61) = v37;
        v44 = k >> v58;
        v45 = *(&v86 + v31);
        BYTE1(v61) = v54;
        v33 = ((v63 - v45) >> 3) - (k >> v58);
        *(_DWORD *)(v45 + 8 * v44) = v61;
        *(&v84 + v31) = k;
        *(_DWORD *)(v45 + 8 * v44 + 4) = v33;
      }
      else
      {
        *a7 = v43;
      }
      v34 = v66;
      v16 = v55;
      if ( v66 >= v55 )
        goto LABEL_44;
      v15 = v54;
    }
    result = -3;
  }
  return result;
}
// 10013100: using guessed type int var_78[14];
// 10013100: using guessed type int var_3C[15];

//----- (100135A0) --------------------------------------------------------
int (__cdecl *__usercall sub_100135A0@<eax>(_DWORD *a1@<eax>, int a2@<esi>, int a3))(_DWORD, _DWORD, _DWORD)
{
  int v3; // eax@3
  int (__cdecl *result)(_DWORD, _DWORD, _DWORD); // eax@3

  if ( a1 )
    *a1 = *(_DWORD *)(a2 + 14124);
  v3 = *(_DWORD *)(a2 + 14104);
  *(_DWORD *)(a2 + 14112) = v3;
  *(_DWORD *)(a2 + 14116) = v3;
  result = *(int (__cdecl **)(_DWORD, _DWORD, _DWORD))(a2 + 14120);
  *(_BYTE *)a2 = 0;
  *(_DWORD *)(a2 + 1424) = 0;
  *(_DWORD *)(a2 + 1428) = 0;
  if ( result )
  {
    result = (int (__cdecl *)(_DWORD, _DWORD, _DWORD))result(0, 0, 0);
    *(_DWORD *)(a2 + 14124) = result;
    *(_DWORD *)(a3 + 28) = result;
  }
  return result;
}

//----- (100135F0) --------------------------------------------------------
int __usercall sub_100135F0@<eax>(int result@<eax>, char a2, char a3, int a4, int a5)
{
  *(_BYTE *)(result + 16) = a2;
  *(_BYTE *)(result + 17) = a3;
  *(_BYTE *)result = 0;
  *(_DWORD *)(result + 20) = a4;
  *(_DWORD *)(result + 24) = a5;
  return result;
}

//----- (10013610) --------------------------------------------------------
signed int __cdecl sub_10013610(int a1, int a2, int a3, int a4, int a5, int a6)
{
  _BYTE *v6; // ebp@1
  unsigned int v7; // ecx@1
  unsigned int v8; // edx@1
  _BYTE *v9; // edi@1
  unsigned int v10; // eax@1
  int v11; // esi@6
  int v12; // ebx@8
  int v13; // esi@8
  int v14; // ecx@8
  int v15; // ecx@11
  int v16; // ebx@13
  unsigned int v17; // eax@13
  unsigned int v18; // edx@13
  int v19; // esi@14
  int v20; // ebx@16
  int v21; // esi@16
  unsigned int v22; // edx@16
  unsigned int v23; // eax@16
  int v24; // ecx@18
  int v25; // ecx@18
  int i; // ebx@19
  char v27; // cl@21
  int v28; // ebx@21
  int v29; // ecx@21
  int v30; // esi@22
  _BYTE *v31; // edi@22
  _BYTE *v32; // esi@22
  unsigned int v33; // ecx@23
  unsigned int v34; // ecx@32
  int v35; // ebp@34
  int v36; // ebx@34
  unsigned int v38; // ecx@35
  int v39; // ebp@37
  int v40; // ebx@37
  int v41; // esi@37
  int v42; // eax@37
  unsigned int v43; // ecx@38
  int v44; // ebp@41
  int v45; // ebx@41
  int v46; // ebp@44
  unsigned int v47; // [sp+10h] [bp-14h]@1
  unsigned int v48; // [sp+14h] [bp-10h]@2
  _BYTE *v49; // [sp+18h] [bp-Ch]@1
  int v50; // [sp+1Ch] [bp-8h]@4
  int v51; // [sp+20h] [bp-4h]@4
  unsigned int v52; // [sp+28h] [bp+4h]@21
  unsigned int v53; // [sp+2Ch] [bp+8h]@13
  int v54; // [sp+2Ch] [bp+8h]@24

  v6 = *(_BYTE **)a6;
  v7 = *(_DWORD *)(a5 + 14112);
  v8 = *(_DWORD *)(a5 + 1428);
  v9 = *(_BYTE **)(a5 + 14116);
  v47 = *(_DWORD *)(a6 + 4);
  v10 = *(_DWORD *)(a5 + 1424);
  v49 = *(_BYTE **)a6;
  if ( (unsigned int)v9 >= v7 )
    v48 = *(_DWORD *)(a5 + 14108) - (_DWORD)v9;
  else
    v48 = v7 - (_DWORD)v9 - 1;
  v50 = dword_1006A2B0[a1];
  v51 = dword_1006A2B0[a2];
  while ( 1 )
  {
    if ( v10 < 0x14 )
    {
      do
      {
        --v47;
        v11 = *v6 << v10;
        v10 += 8;
        ++v6;
        v8 |= v11;
      }
      while ( v10 < 0x14 );
      v49 = v6;
    }
    v12 = *(_BYTE *)(a3 + 8 * (v8 & v50));
    v13 = a3 + 8 * (v8 & v50);
    v14 = *(_BYTE *)(v13 + 1);
    v8 >>= v14;
    if ( v12 )
      break;
LABEL_29:
    v10 -= v14;
    *v9++ = *(_BYTE *)(v13 + 4);
    --v48;
LABEL_30:
    if ( v48 < 0x102 || v47 < 0xA )
    {
      v34 = *(_DWORD *)(a6 + 4) - v47;
      if ( v10 >> 3 < v34 )
        v34 = v10 >> 3;
      v35 = (int)&v6[-v34];
      *(_DWORD *)(a6 + 4) = v34 + v47;
      v36 = v35 - *(_DWORD *)a6;
      *(_DWORD *)a6 = v35;
      *(_DWORD *)(a6 + 8) += v36;
      *(_DWORD *)(a5 + 14116) = v9;
      *(_DWORD *)(a5 + 1424) = v10 - 8 * v34;
      *(_DWORD *)(a5 + 1428) = v8;
      return 0;
    }
  }
  v10 -= *(_BYTE *)(v13 + 1);
  if ( v12 & 0x10 )
  {
LABEL_13:
    v16 = v12 & 0xF;
    v17 = v10 - v16;
    v53 = *(_DWORD *)(v13 + 4) + (v8 & dword_1006A2B0[v16]);
    v18 = v8 >> v16;
    if ( v17 < 0xF )
    {
      do
      {
        --v47;
        v19 = *v6 << v17;
        v17 += 8;
        ++v6;
        v18 |= v19;
      }
      while ( v17 < 0xF );
      v49 = v6;
    }
    v20 = *(_BYTE *)(a4 + 8 * (v18 & v51));
    v21 = a4 + 8 * (v18 & v51);
    v22 = v18 >> *(_BYTE *)(v21 + 1);
    v23 = v17 - *(_BYTE *)(v21 + 1);
    if ( !(v20 & 0x10) )
    {
      while ( !(v20 & 0x40) )
      {
        v24 = *(_DWORD *)(v21 + 4) + (v22 & dword_1006A2B0[v20]);
        v20 = *(_BYTE *)(v21 + 8 * v24);
        v21 += 8 * v24;
        v25 = *(_BYTE *)(v21 + 1);
        v22 >>= v25;
        v23 -= v25;
        if ( v20 & 0x10 )
          goto LABEL_19;
      }
      v38 = *(_DWORD *)(a6 + 4) - v47;
      if ( v23 >> 3 < v38 )
        v38 = v23 >> 3;
      v39 = (int)&v6[-v38];
      *(_DWORD *)(a6 + 4) = v38 + v47;
      v40 = v39 - *(_DWORD *)a6;
      *(_DWORD *)a6 = v39;
      *(_DWORD *)(a6 + 8) += v40;
      v41 = a5;
      *(_DWORD *)(a5 + 1428) = v22;
      v42 = v23 - 8 * v38;
      goto LABEL_45;
    }
LABEL_19:
    for ( i = v20 & 0xF; v23 < (unsigned __int16)i; ++v49 )
    {
      --v47;
      v22 |= *v6 << v23;
      v6 = v49 + 1;
      v23 += 8;
    }
    v10 = v23 - i;
    v52 = *(_DWORD *)(v21 + 4) + (v22 & dword_1006A2B0[i]);
    v27 = i;
    v28 = v53;
    v48 -= v53;
    v8 = v22 >> v27;
    v29 = *(_DWORD *)(a5 + 14104);
    if ( (unsigned int)&v9[-v29] < v52 )
    {
      v33 = v52 + v29 - (_DWORD)v9;
      v32 = (_BYTE *)(*(_DWORD *)(a5 + 14108) - v33);
      if ( v53 > v33 )
      {
        v54 = v53 - v33;
        do
        {
          *v9++ = *v32++;
          --v33;
        }
        while ( v33 );
        v32 = *(_BYTE **)(a5 + 14104);
        v28 = v54;
      }
    }
    else
    {
      v30 = (int)&v9[-v52];
      v31 = v9 + 1;
      *(v31 - 1) = *(_BYTE *)v30;
      *v31 = *(_BYTE *)(v30 + 1);
      v9 = v31 + 1;
      v32 = (_BYTE *)(v30 + 2);
      v28 = v53 - 2;
    }
    do
    {
      *v9++ = *v32++;
      --v28;
    }
    while ( v28 );
    goto LABEL_30;
  }
  while ( !(v12 & 0x40) )
  {
    v15 = *(_DWORD *)(v13 + 4) + (v8 & dword_1006A2B0[v12]);
    v12 = *(_BYTE *)(v13 + 8 * v15);
    v13 += 8 * v15;
    v14 = *(_BYTE *)(v13 + 1);
    v8 >>= v14;
    if ( !v12 )
      goto LABEL_29;
    v10 -= *(_BYTE *)(v13 + 1);
    if ( v12 & 0x10 )
      goto LABEL_13;
  }
  v43 = *(_DWORD *)(a6 + 4) - v47;
  if ( !(v12 & 0x20) )
  {
    if ( v10 >> 3 < v43 )
      v43 = v10 >> 3;
    v46 = (int)&v6[-v43];
    *(_DWORD *)(a6 + 4) = v43 + v47;
    *(_DWORD *)(a6 + 8) += v46 - *(_DWORD *)a6;
    *(_DWORD *)a6 = v46;
    v41 = a5;
    *(_DWORD *)(a5 + 1428) = v8;
    v42 = v10 - 8 * v43;
LABEL_45:
    *(_DWORD *)(v41 + 14116) = v9;
    *(_DWORD *)(v41 + 1424) = v42;
    return -3;
  }
  if ( v10 >> 3 < v43 )
    v43 = v10 >> 3;
  *(_DWORD *)(a6 + 4) = v43 + v47;
  v44 = (int)&v6[-v43];
  v45 = v44 - *(_DWORD *)a6;
  *(_DWORD *)a6 = v44;
  *(_DWORD *)(a6 + 8) += v45;
  *(_DWORD *)(a5 + 1428) = v8;
  *(_DWORD *)(a5 + 14116) = v9;
  *(_DWORD *)(a5 + 1424) = v10 - 8 * v43;
  return 1;
}
// 1006A2B0: using guessed type int dword_1006A2B0[];

//----- (100139C0) --------------------------------------------------------
int __usercall sub_100139C0@<eax>(int a1@<edi>, int a2@<esi>, int a3)
{
  const void *v3; // ebx@1
  unsigned int v4; // ebp@1
  size_t v5; // eax@3
  size_t v6; // ebp@3
  int (__cdecl *v7)(_DWORD, const void *, size_t); // eax@8
  int v8; // eax@9
  int v9; // eax@10
  int v10; // ebx@10
  const void *v11; // ebx@11
  size_t v12; // eax@13
  size_t v13; // ebp@13
  int (__cdecl *v14)(_DWORD, const void *, size_t); // eax@15
  int v15; // eax@16
  int result; // eax@18
  void *v17; // [sp+8h] [bp-4h]@1
  char *v18; // [sp+8h] [bp-4h]@10

  v3 = *(const void **)(a2 + 14112);
  v4 = *(_DWORD *)(a2 + 14116);
  v17 = *(void **)(a1 + 12);
  if ( (unsigned int)v3 > v4 )
    v4 = *(_DWORD *)(a2 + 14108);
  v5 = *(_DWORD *)(a1 + 16);
  v6 = v4 - (_DWORD)v3;
  if ( v6 > v5 )
    v6 = *(_DWORD *)(a1 + 16);
  if ( v6 && a3 == -5 )
    a3 = 0;
  *(_DWORD *)(a1 + 20) += v6;
  *(_DWORD *)(a1 + 16) = v5 - v6;
  v7 = *(int (__cdecl **)(_DWORD, const void *, size_t))(a2 + 14120);
  if ( v7 )
  {
    v8 = v7(*(_DWORD *)(a2 + 14124), v3, v6);
    *(_DWORD *)(a2 + 14124) = v8;
    *(_DWORD *)(a1 + 28) = v8;
  }
  memcpy_0(v17, v3, v6);
  v9 = *(_DWORD *)(a2 + 14108);
  v18 = (char *)v17 + v6;
  v10 = (int)v3 + v6;
  if ( v10 == v9 )
  {
    v11 = *(const void **)(a2 + 14104);
    if ( *(_DWORD *)(a2 + 14116) == v9 )
      *(_DWORD *)(a2 + 14116) = v11;
    v12 = *(_DWORD *)(a1 + 16);
    v13 = *(_DWORD *)(a2 + 14116) - (_DWORD)v11;
    if ( v13 > v12 )
      v13 = *(_DWORD *)(a1 + 16);
    *(_DWORD *)(a1 + 20) += v13;
    *(_DWORD *)(a1 + 16) = v12 - v13;
    v14 = *(int (__cdecl **)(_DWORD, const void *, size_t))(a2 + 14120);
    if ( v14 )
    {
      v15 = v14(*(_DWORD *)(a2 + 14124), v11, v13);
      *(_DWORD *)(a2 + 14124) = v15;
      *(_DWORD *)(a1 + 28) = v15;
    }
    memcpy_0(v18, v11, v13);
    v18 += v13;
    v10 = (int)v11 + v13;
  }
  *(_DWORD *)(a1 + 12) = v18;
  result = a3;
  *(_DWORD *)(a2 + 14112) = v10;
  return result;
}

//----- (10013B00) --------------------------------------------------------
signed int __usercall sub_10013B00@<eax>(int a1@<edx>, unsigned int *a2@<esi>, _DWORD *a3, int *a4)
{
  signed int result; // eax@1
  int v5; // [sp+0h] [bp-50h]@1
  char v6; // [sp+4h] [bp-4Ch]@1

  v5 = 0;
  result = sub_10013100(a2, a3, 0x13u, 19, 0, 0, a4, a1, (unsigned int *)&v5, (unsigned int *)&v6);
  if ( result == -5 || !*a2 )
    result = -3;
  return result;
}

//----- (10013B50) --------------------------------------------------------
signed int __usercall sub_10013B50@<eax>(unsigned int *a1@<eax>, int *a2@<ecx>, int a3@<ebx>, unsigned int a4@<esi>, unsigned int a5, _DWORD *a6, unsigned int *a7, unsigned int *a8, int *a9)
{
  unsigned int *v9; // edi@1
  signed int result; // eax@6
  int v11; // [sp+8h] [bp-4h]@1

  v9 = a1;
  v11 = 0;
  if ( sub_10013100(a7, a6, a4, 257, (int)&unk_1006A348, (int)&unk_1006A3C8, a2, a3, (unsigned int *)&v11, a1)
    || !*a7
    || sub_10013100(a8, &a6[a4], a5, 0, (int)&unk_1006A448, (int)&unk_1006A4C0, a9, a3, (unsigned int *)&v11, v9)
    || !*a8 && a4 > 0x101 )
  {
    result = -3;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10013BF0) --------------------------------------------------------
int __usercall sub_10013BF0@<eax>(_DWORD *a1@<eax>, _DWORD *a2@<edx>, _DWORD *a3@<ecx>, _DWORD *a4)
{
  *a1 = 9;
  *a3 = 5;
  *a2 = &unk_1006A538;
  *a4 = &unk_1006B538;
  return 0;
}

//----- (10013C10) --------------------------------------------------------
signed int __cdecl sub_10013C10(int a1)
{
  signed int result; // eax@2
  int v2; // ecx@3
  int v3; // esi@3

  if ( a1 )
  {
    v2 = *(_DWORD *)(a1 + 24);
    *(_DWORD *)(a1 + 8) = 0;
    *(_DWORD *)(a1 + 20) = 0;
    v3 = *(_DWORD *)(v2 + 20);
    *(_BYTE *)v2 = *(_DWORD *)(v2 + 12) != 0 ? 7 : 0;
    sub_100135A0(0, v3, a1);
    result = 0;
  }
  else
  {
    result = -2;
  }
  return result;
}

//----- (10013C20) --------------------------------------------------------
int __usercall sub_10013C20@<eax>(int a1@<eax>, int a2@<ecx>, int a3)
{
  int v3; // edi@1
  _BYTE *v4; // ebx@1
  int v5; // esi@1
  _BYTE *v6; // edx@1
  unsigned int v7; // ebp@1
  unsigned int v8; // eax@1
  unsigned int v9; // eax@2
  unsigned int v10; // ecx@4
  int v11; // ecx@8
  signed int v12; // eax@8
  int v13; // ecx@8
  unsigned int v14; // eax@8
  int v15; // ecx@13
  int v16; // eax@16
  int v17; // eax@17
  int v18; // ecx@17
  int v19; // eax@17
  int v20; // eax@27
  int v21; // eax@28
  int v22; // ecx@28
  int v23; // ecx@28
  int v24; // eax@31
  int v25; // eax@32
  int v26; // ecx@32
  int v27; // eax@32
  int v28; // eax@38
  int v29; // eax@39
  int v30; // ecx@39
  int v31; // ecx@40
  int v32; // eax@41
  unsigned int v33; // eax@46
  unsigned int v34; // ecx@46
  int v35; // eax@51
  unsigned int v36; // eax@51
  unsigned int v37; // ecx@55
  unsigned int v38; // eax@55
  bool v39; // zf@61
  unsigned int v40; // eax@67
  unsigned int v41; // ecx@67
  int v42; // eax@72
  unsigned int v43; // eax@72
  unsigned int v44; // ecx@76
  unsigned int v45; // eax@76
  int v47; // eax@91
  int v48; // ecx@93
  int v49; // eax@97
  int v50; // ecx@98
  int v51; // eax@101
  int v52; // [sp-4h] [bp-2Ch]@85
  unsigned int v53; // [sp+10h] [bp-18h]@1
  unsigned int v54; // [sp+14h] [bp-14h]@1
  unsigned int v55; // [sp+18h] [bp-10h]@4
  unsigned int v56; // [sp+18h] [bp-10h]@54
  unsigned int v57; // [sp+18h] [bp-10h]@75
  _BYTE *v58; // [sp+20h] [bp-8h]@43
  int v59; // [sp+2Ch] [bp+4h]@51

  v3 = a1;
  v4 = *(_BYTE **)a1;
  v5 = a2;
  v6 = *(_BYTE **)(a2 + 14116);
  v7 = *(_DWORD *)(a2 + 1424);
  v54 = *(_DWORD *)(a1 + 4);
  v8 = *(_DWORD *)(a2 + 14112);
  v53 = *(_DWORD *)(a2 + 1428);
  if ( (unsigned int)v6 >= v8 )
    v9 = *(_DWORD *)(a2 + 14108) - (_DWORD)v6;
  else
    v9 = v8 - (_DWORD)v6 - 1;
  v10 = *(_BYTE *)(a2 + 4);
  v55 = v9;
  while ( 2 )
  {
    switch ( v10 )
    {
      case 0u:
        if ( v9 >= 0x102 && v54 >= 0xA )
        {
          *(_DWORD *)(v3 + 4) = v54;
          v11 = (int)&v4[-*(_DWORD *)v3];
          *(_DWORD *)v3 = v4;
          *(_DWORD *)(v3 + 8) += v11;
          *(_DWORD *)(v5 + 1428) = v53;
          *(_DWORD *)(v5 + 1424) = v7;
          *(_DWORD *)(v5 + 14116) = v6;
          v12 = sub_10013610(
                  *(_BYTE *)(v5 + 20),
                  *(_BYTE *)(v5 + 21),
                  *(_DWORD *)(v5 + 24),
                  *(_DWORD *)(v5 + 28),
                  v5,
                  v3);
          v4 = *(_BYTE **)v3;
          v7 = *(_DWORD *)(v5 + 1424);
          v13 = v12;
          v54 = *(_DWORD *)(v3 + 4);
          v6 = *(_BYTE **)(v5 + 14116);
          v53 = *(_DWORD *)(v5 + 1428);
          v14 = *(_DWORD *)(v5 + 14112);
          a3 = v13;
          v9 = (unsigned int)v6 >= v14 ? *(_DWORD *)(v5 + 14108) - (_DWORD)v6 : v14 - (_DWORD)v6 - 1;
          v55 = v9;
          if ( v13 )
          {
            *(_BYTE *)(v5 + 4) = 2 * (v13 != 1) + 7;
            goto LABEL_84;
          }
        }
        v15 = *(_DWORD *)(v5 + 24);
        *(_DWORD *)(v5 + 16) = *(_BYTE *)(v5 + 20);
        *(_DWORD *)(v5 + 12) = v15;
        *(_BYTE *)(v5 + 4) = 1;
        goto LABEL_14;
      case 1u:
LABEL_14:
        if ( v7 >= *(_WORD *)(v5 + 16) )
          goto LABEL_17;
        do
        {
          if ( !v54 )
            goto LABEL_91;
          --v54;
          v16 = *v4 << v7;
          v7 += 8;
          ++v4;
          a3 = 0;
          v53 |= v16;
        }
        while ( v7 < *(_WORD *)(v5 + 16) );
LABEL_17:
        v17 = *(_DWORD *)(v5 + 12) + 8 * (v53 & dword_1006A2B0[*(_DWORD *)(v5 + 16)]);
        v53 >>= *(_BYTE *)(v17 + 1);
        v18 = v17;
        v7 -= *(_BYTE *)(v17 + 1);
        v19 = *(_BYTE *)v17;
        if ( v19 )
        {
          if ( v19 & 0x10 )
          {
            *(_DWORD *)(v5 + 12) = v19 & 0xF;
            *(_DWORD *)(v5 + 8) = *(_DWORD *)(v18 + 4);
            v9 = v55;
            *(_BYTE *)(v5 + 4) = 2;
          }
          else if ( v19 & 0x40 )
          {
            if ( !(v19 & 0x20) )
              goto LABEL_92;
            v9 = v55;
            *(_BYTE *)(v5 + 4) = 7;
          }
          else
          {
            *(_DWORD *)(v5 + 16) = v19;
            v9 = v55;
            *(_DWORD *)(v5 + 12) = v18 + 8 * *(_DWORD *)(v18 + 4);
          }
        }
        else
        {
          v9 = v55;
          *(_DWORD *)(v5 + 12) = *(_DWORD *)(v18 + 4);
          *(_BYTE *)(v5 + 4) = 6;
        }
        goto LABEL_84;
      case 2u:
        if ( v7 >= *(_WORD *)(v5 + 12) )
          goto LABEL_28;
        do
        {
          if ( !v54 )
            goto LABEL_93;
          --v54;
          v20 = *v4 << v7;
          v7 += 8;
          ++v4;
          a3 = 0;
          v53 |= v20;
        }
        while ( v7 < *(_WORD *)(v5 + 12) );
LABEL_28:
        v21 = *(_DWORD *)(v5 + 12);
        v22 = v53 & dword_1006A2B0[v21];
        *(_BYTE *)(v5 + 4) = 3;
        *(_DWORD *)(v5 + 8) += v22;
        v53 >>= v21;
        v23 = *(_DWORD *)(v5 + 28);
        v7 -= v21;
        *(_DWORD *)(v5 + 16) = *(_BYTE *)(v5 + 21);
        *(_DWORD *)(v5 + 12) = v23;
LABEL_29:
        if ( v7 < *(_WORD *)(v5 + 16) )
        {
          while ( v54 )
          {
            --v54;
            v24 = *v4 << v7;
            v7 += 8;
            ++v4;
            a3 = 0;
            v53 |= v24;
            if ( v7 >= *(_WORD *)(v5 + 16) )
              goto LABEL_32;
          }
LABEL_91:
          v47 = (int)&v4[-*(_DWORD *)v3];
          *(_DWORD *)(v3 + 4) = 0;
          *(_DWORD *)(v3 + 8) += v47;
          *(_DWORD *)v3 = v4;
          *(_DWORD *)(v5 + 14116) = v6;
          *(_DWORD *)(v5 + 1428) = v53;
          v52 = a3;
          goto LABEL_90;
        }
LABEL_32:
        v25 = *(_DWORD *)(v5 + 12) + 8 * (v53 & dword_1006A2B0[*(_DWORD *)(v5 + 16)]);
        v53 >>= *(_BYTE *)(v25 + 1);
        v26 = v25;
        v7 -= *(_BYTE *)(v25 + 1);
        v27 = *(_BYTE *)v25;
        if ( v27 & 0x10 )
        {
          *(_DWORD *)(v5 + 12) = v27 & 0xF;
          v9 = v55;
          *(_DWORD *)(v5 + 16) = *(_DWORD *)(v26 + 4);
          *(_BYTE *)(v5 + 4) = 4;
        }
        else
        {
          if ( v27 & 0x40 )
          {
LABEL_92:
            *(_BYTE *)(v5 + 4) = 9;
            v52 = -3;
            goto LABEL_86;
          }
          *(_DWORD *)(v5 + 16) = v27;
          v9 = v55;
          *(_DWORD *)(v5 + 12) = v26 + 8 * *(_DWORD *)(v26 + 4);
        }
        goto LABEL_84;
      case 3u:
        goto LABEL_29;
      case 4u:
        if ( v7 >= *(_WORD *)(v5 + 12) )
          goto LABEL_39;
        do
        {
          if ( !v54 )
          {
LABEL_93:
            v48 = (int)&v4[-*(_DWORD *)v3];
            *(_DWORD *)(v3 + 4) = 0;
            *(_DWORD *)(v3 + 8) += v48;
            v52 = a3;
            goto LABEL_88;
          }
          --v54;
          v28 = *v4 << v7;
          v7 += 8;
          ++v4;
          a3 = 0;
          v53 |= v28;
        }
        while ( v7 < *(_WORD *)(v5 + 12) );
LABEL_39:
        v29 = *(_DWORD *)(v5 + 12);
        v30 = v53 & dword_1006A2B0[v29];
        *(_BYTE *)(v5 + 4) = 5;
        *(_DWORD *)(v5 + 16) += v30;
        v53 >>= v29;
        v7 -= v29;
LABEL_40:
        v31 = *(_DWORD *)(v5 + 16);
        if ( (signed int)&v6[-*(_DWORD *)(v5 + 14104)] >= v31 )
          v32 = (int)&v6[-v31];
        else
          v32 = (int)&v6[*(_DWORD *)(v5 + 14108) - v31 - *(_DWORD *)(v5 + 14104)];
        v58 = (_BYTE *)v32;
        v9 = v55;
        if ( !*(_DWORD *)(v5 + 8) )
        {
LABEL_83:
          *(_BYTE *)(v5 + 4) = 0;
LABEL_84:
          v10 = *(_BYTE *)(v5 + 4);
          if ( v10 > 9 )
          {
LABEL_85:
            v52 = -2;
LABEL_86:
            *(_DWORD *)(v3 + 8) += &v4[-*(_DWORD *)v3];
            goto LABEL_87;
          }
          continue;
        }
        while ( 1 )
        {
          if ( !v9 )
          {
            if ( v6 != *(_BYTE **)(v5 + 14108)
              || (v33 = *(_DWORD *)(v5 + 14112), v34 = *(_DWORD *)(v5 + 14104), v33 == v34)
              || ((v6 = *(_BYTE **)(v5 + 14104), v34 >= v33) ? (v9 = *(_DWORD *)(v5 + 14108) - v34) : (v9 = v33 - v34 - 1),
                  !v9) )
            {
              *(_DWORD *)(v5 + 14116) = v6;
              v35 = sub_100139C0(v3, v5, a3);
              v6 = *(_BYTE **)(v5 + 14116);
              v59 = v35;
              v36 = *(_DWORD *)(v5 + 14112);
              if ( (unsigned int)v6 >= v36 )
                v9 = *(_DWORD *)(v5 + 14108) - (_DWORD)v6;
              else
                v9 = v36 - (_DWORD)v6 - 1;
              v56 = v9;
              if ( v6 == *(_BYTE **)(v5 + 14108) )
              {
                v37 = *(_DWORD *)(v5 + 14104);
                v38 = *(_DWORD *)(v5 + 14112);
                if ( v38 == v37 )
                {
                  v9 = v56;
                }
                else
                {
                  v6 = *(_BYTE **)(v5 + 14104);
                  if ( v37 >= v38 )
                    v9 = *(_DWORD *)(v5 + 14108) - v37;
                  else
                    v9 = v38 - v37 - 1;
                }
              }
              if ( !v9 )
                break;
            }
          }
          *v6 = *v58;
          --v9;
          ++v6;
          v39 = v58 + 1 == *(_BYTE **)(v5 + 14108);
          a3 = 0;
          v55 = v9;
          ++v58;
          if ( v39 )
            v58 = *(_BYTE **)(v5 + 14104);
          if ( !--*(_DWORD *)(v5 + 8) )
            goto LABEL_83;
        }
LABEL_94:
        *(_DWORD *)(v3 + 8) += &v4[-*(_DWORD *)v3];
        v52 = v59;
LABEL_87:
        *(_DWORD *)(v3 + 4) = v54;
LABEL_88:
        *(_DWORD *)v3 = v4;
        *(_DWORD *)(v5 + 1428) = v53;
LABEL_89:
        *(_DWORD *)(v5 + 14116) = v6;
LABEL_90:
        *(_DWORD *)(v5 + 1424) = v7;
        return sub_100139C0(v3, v5, v52);
      case 5u:
        goto LABEL_40;
      case 6u:
        if ( !v9 )
        {
          if ( v6 != *(_BYTE **)(v5 + 14108)
            || (v40 = *(_DWORD *)(v5 + 14112), v41 = *(_DWORD *)(v5 + 14104), v40 == v41)
            || ((v6 = *(_BYTE **)(v5 + 14104), v41 >= v40) ? (v9 = *(_DWORD *)(v5 + 14108) - v41) : (v9 = v40 - v41 - 1),
                !v9) )
          {
            *(_DWORD *)(v5 + 14116) = v6;
            v42 = sub_100139C0(v3, v5, a3);
            v6 = *(_BYTE **)(v5 + 14116);
            v59 = v42;
            v43 = *(_DWORD *)(v5 + 14112);
            if ( (unsigned int)v6 >= v43 )
              v9 = *(_DWORD *)(v5 + 14108) - (_DWORD)v6;
            else
              v9 = v43 - (_DWORD)v6 - 1;
            v57 = v9;
            if ( v6 == *(_BYTE **)(v5 + 14108) )
            {
              v44 = *(_DWORD *)(v5 + 14104);
              v45 = *(_DWORD *)(v5 + 14112);
              if ( v45 == v44 )
              {
                v9 = v57;
              }
              else
              {
                v6 = *(_BYTE **)(v5 + 14104);
                if ( v44 >= v45 )
                  v9 = *(_DWORD *)(v5 + 14108) - v44;
                else
                  v9 = v45 - v44 - 1;
              }
            }
            if ( !v9 )
              goto LABEL_94;
          }
        }
        *v6++ = *(_BYTE *)(v5 + 12);
        --v9;
        a3 = 0;
        v55 = v9;
        goto LABEL_83;
      case 7u:
        if ( v7 > 7 )
        {
          ++v54;
          v7 -= 8;
          --v4;
        }
        *(_DWORD *)(v5 + 14116) = v6;
        v49 = sub_100139C0(v3, v5, a3);
        v6 = *(_BYTE **)(v5 + 14116);
        if ( *(_BYTE **)(v5 + 14112) != v6 )
        {
          *(_DWORD *)(v3 + 4) = v54;
          v50 = (int)&v4[-*(_DWORD *)v3];
          *(_DWORD *)v3 = v4;
          *(_DWORD *)(v3 + 8) += v50;
          *(_DWORD *)(v5 + 1428) = v53;
          v52 = v49;
          goto LABEL_89;
        }
        *(_BYTE *)(v5 + 4) = 8;
LABEL_100:
        v52 = 1;
        goto LABEL_86;
      case 8u:
        goto LABEL_100;
      case 9u:
        v51 = (int)&v4[-*(_DWORD *)v3];
        *(_DWORD *)(v3 + 4) = v54;
        *(_DWORD *)(v3 + 8) += v51;
        *(_DWORD *)v3 = v4;
        *(_DWORD *)(v5 + 1428) = v53;
        v52 = -3;
        goto LABEL_89;
      default:
        goto LABEL_85;
    }
  }
}
// 1006A2B0: using guessed type int dword_1006A2B0[];

//----- (100142C0) --------------------------------------------------------
int __usercall sub_100142C0@<eax>(int a1@<eax>, int a2, int a3)
{
  int v3; // ebp@1
  unsigned int v4; // edx@1
  unsigned int v5; // ebx@1
  unsigned int v6; // esi@1
  int v7; // edi@1
  size_t v8; // ecx@1
  char *v9; // eax@1
  char *v10; // ecx@1
  int v11; // edx@2
  unsigned int v12; // edx@4
  int v13; // edx@8
  unsigned int v14; // eax@9
  int v15; // eax@10
  int v16; // ebx@14
  int v17; // ecx@14
  int v18; // edx@17
  char *v19; // edx@24
  unsigned int v20; // eax@25
  unsigned int v21; // ecx@25
  int v22; // eax@27
  int v23; // eax@30
  unsigned int v24; // ecx@30
  int v25; // edx@31
  char *v26; // esi@33
  unsigned int v27; // edx@34
  size_t v28; // esi@39
  bool v29; // zf@43
  int v30; // edx@47
  int v31; // ecx@48
  int v32; // edx@54
  unsigned int v33; // ecx@61
  int v34; // edx@63
  int v35; // edx@64
  int v36; // ecx@64
  unsigned int v37; // edx@64
  int v38; // edx@71
  unsigned int v39; // esi@72
  unsigned int v40; // ecx@72
  unsigned int *v41; // eax@77
  unsigned int v42; // esi@81
  int v43; // eax@81
  int v44; // edx@83
  char *v45; // ecx@84
  unsigned int v46; // eax@84
  int v47; // eax@85
  char *v48; // eax@91
  int v49; // ecx@92
  int v50; // ecx@94
  int v51; // edx@96
  int v52; // edx@97
  int v53; // edx@99
  int v55; // eax@102
  int v56; // edx@103
  int v57; // edx@106
  int v58; // [sp-4h] [bp-3Ch]@91
  size_t v59; // [sp+10h] [bp-28h]@1
  char *v60; // [sp+14h] [bp-24h]@1
  char *v61; // [sp+18h] [bp-20h]@1
  unsigned int v62; // [sp+1Ch] [bp-1Ch]@4
  int v63; // [sp+1Ch] [bp-1Ch]@69
  int v64; // [sp+1Ch] [bp-1Ch]@72
  unsigned int v65; // [sp+20h] [bp-18h]@1
  unsigned int v66; // [sp+24h] [bp-14h]@13
  unsigned int v67; // [sp+28h] [bp-10h]@13
  int v68; // [sp+2Ch] [bp-Ch]@13
  int v69; // [sp+30h] [bp-8h]@13
  unsigned int v70; // [sp+34h] [bp-4h]@69
  unsigned int v71; // [sp+3Ch] [bp+4h]@1

  v3 = a2;
  v4 = *(_DWORD *)(a2 + 14112);
  v5 = *(_DWORD *)(a2 + 1424);
  v6 = *(_DWORD *)(a2 + 1428);
  v7 = a1;
  v8 = *(_DWORD *)(a1 + 4);
  v9 = *(char **)a1;
  v59 = v8;
  v10 = *(char **)(a2 + 14116);
  v61 = v9;
  v71 = *(_DWORD *)(a2 + 1428);
  v65 = v5;
  v60 = v10;
  if ( (unsigned int)v10 >= v4 )
    v11 = *(_DWORD *)(v3 + 14108) - (_DWORD)v10;
  else
    v11 = v4 - (_DWORD)v10 - 1;
  v62 = v11;
  v12 = *(_BYTE *)v3;
  while ( 2 )
  {
    switch ( v12 )
    {
      case 0u:
        for ( ; v5 < 3; v71 = v6 )
        {
          if ( !v59 )
            goto LABEL_91;
          --v59;
          a3 = 0;
          v13 = (unsigned __int8)*v9++ << v5;
          v5 += 8;
          v61 = v9;
          v6 |= v13;
        }
        v14 = (v6 & 7) >> 1;
        *(_DWORD *)(v3 + 1420) = v6 & 1;
        if ( !v14 )
        {
          v16 = v5 - 3;
          v17 = v16 & 7;
          v5 = v16 - v17;
          v65 = v5;
          *(_BYTE *)v3 = 1;
          v71 = v6 >> 3 >> v17;
          goto LABEL_89;
        }
        v15 = v14 - 1;
        if ( !v15 )
        {
          sub_10013BF0(&v67, &v69, &v66, &v68);
          sub_100135F0(v3 + 4, v67, v66, v69, v68);
          v5 -= 3;
          v71 = v6 >> 3;
          v65 = v5;
          *(_BYTE *)v3 = 6;
          goto LABEL_89;
        }
        if ( v15 == 1 )
        {
          v5 -= 3;
          v71 = v6 >> 3;
          v65 = v5;
          *(_BYTE *)v3 = 3;
          goto LABEL_89;
        }
        *(_BYTE *)v3 = 9;
        v49 = (int)&v61[-*(_DWORD *)v7];
        *(_DWORD *)v7 = v61;
        *(_DWORD *)(v7 + 8) += v49;
        *(_DWORD *)(v7 + 4) = v59;
        *(_DWORD *)(v3 + 1428) = v71 >> 3;
        v5 -= 3;
        *(_DWORD *)(v3 + 14116) = v60;
        v58 = -3;
        goto LABEL_111;
      case 1u:
        if ( v5 >= 0x20 )
          goto LABEL_18;
        do
        {
          if ( !v59 )
          {
LABEL_91:
            v48 = v61;
            *(_DWORD *)(v7 + 4) = 0;
            *(_DWORD *)(v7 + 8) += &v61[-*(_DWORD *)v7];
            v58 = a3;
            goto LABEL_110;
          }
          --v59;
          a3 = 0;
          v18 = (unsigned __int8)*v9++ << v5;
          v5 += 8;
          v61 = v9;
          v6 |= v18;
          v71 = v6;
        }
        while ( v5 < 0x20 );
LABEL_18:
        if ( ~v6 >> 16 != (unsigned __int16)v6 )
          goto LABEL_93;
        v5 = 0;
        *(_DWORD *)(v3 + 4) = (unsigned __int16)v6;
        v65 = 0;
        v71 = 0;
        if ( (_WORD)v6 )
          *(_BYTE *)v3 = 2;
        else
          *(_BYTE *)v3 = *(_DWORD *)(v3 + 1420) != 0 ? 7 : 0;
LABEL_89:
        v12 = *(_BYTE *)v3;
        if ( v12 <= 9 )
        {
          v10 = v60;
          v9 = v61;
          v6 = v71;
          continue;
        }
LABEL_107:
        v58 = -2;
        goto LABEL_108;
      case 2u:
        if ( !v59 )
          goto LABEL_94;
        if ( !v62 )
        {
          if ( (v19 = *(char **)(v3 + 14108), v60 != v19)
            || (v20 = *(_DWORD *)(v3 + 14112), v21 = *(_DWORD *)(v3 + 14104), v21 == v20)
            || ((v60 = *(char **)(v3 + 14104), v21 >= v20) ? (v22 = (int)&v19[-v21], v62 = (unsigned int)&v19[-v21]) : (v22 = v20 - v21 - 1, v62 = v22),
                !v22) )
          {
            *(_DWORD *)(v3 + 14116) = v60;
            v23 = sub_100139C0(v7, v3, a3);
            v24 = *(_DWORD *)(v3 + 14112);
            v60 = *(char **)(v3 + 14116);
            if ( *(_DWORD *)(v3 + 14116) >= v24 )
              v25 = *(_DWORD *)(v3 + 14108) - (_DWORD)v60;
            else
              v25 = v24 - (_DWORD)v60 - 1;
            v26 = *(char **)(v3 + 14108);
            v62 = v25;
            if ( v60 == v26 )
            {
              v27 = *(_DWORD *)(v3 + 14104);
              if ( v27 != v24 )
              {
                v60 = *(char **)(v3 + 14104);
                if ( v27 >= v24 )
                  v62 = (unsigned int)&v26[-v27];
                else
                  v62 = v24 - v27 - 1;
              }
            }
            if ( !v62 )
              goto LABEL_96;
          }
        }
        v28 = *(_DWORD *)(v3 + 4);
        a3 = 0;
        if ( v28 > v59 )
          v28 = v59;
        if ( v28 > v62 )
          v28 = v62;
        memcpy_0(v60, v61, v28);
        v61 += v28;
        v59 -= v28;
        v60 += v28;
        v62 -= v28;
        v29 = *(_DWORD *)(v3 + 4) == v28;
        *(_DWORD *)(v3 + 4) -= v28;
        if ( v29 )
          *(_BYTE *)v3 = *(_DWORD *)(v3 + 1420) != 0 ? 7 : 0;
        goto LABEL_89;
      case 3u:
        if ( v5 >= 0xE )
          goto LABEL_48;
        break;
      case 4u:
        goto LABEL_51;
      case 5u:
        goto LABEL_60;
      case 6u:
        goto LABEL_83;
      case 7u:
        goto LABEL_102;
      case 8u:
        goto LABEL_105;
      case 9u:
        v57 = (int)&v61[-*(_DWORD *)v7];
        *(_DWORD *)(v7 + 4) = v59;
        *(_DWORD *)(v7 + 8) += v57;
        *(_DWORD *)v7 = v61;
        *(_DWORD *)(v3 + 1428) = v71;
        *(_DWORD *)(v3 + 14116) = v60;
        v58 = -3;
        goto LABEL_111;
      default:
        goto LABEL_107;
    }
    break;
  }
  do
  {
    if ( !v59 )
      goto LABEL_94;
    --v59;
    v30 = (unsigned __int8)*v9++ << v5;
    v5 += 8;
    a3 = 0;
    v6 |= v30;
    v71 = v6;
    v61 = v9;
  }
  while ( v5 < 0xE );
LABEL_48:
  v31 = v6 & 0x3FFF;
  *(_DWORD *)(v3 + 4) = v31;
  if ( (v6 & 0x1F) > 0x1D || (v6 & 0x3E0) > 0x3A0 )
  {
LABEL_93:
    *(_BYTE *)v3 = 9;
    v58 = -3;
LABEL_108:
    *(_DWORD *)(v7 + 4) = v59;
LABEL_109:
    v48 = v61;
    *(_DWORD *)(v7 + 8) += &v61[-*(_DWORD *)v7];
    goto LABEL_110;
  }
  v6 >>= 14;
  v5 -= 14;
  v71 = v6;
  v65 = v5;
  *(_DWORD *)(v3 + 8) = 0;
  *(_BYTE *)v3 = 4;
LABEL_51:
  if ( *(_DWORD *)(v3 + 8) < (unsigned int)((*(_DWORD *)(v3 + 4) >> 10) + 4) )
  {
    while ( v5 >= 3 )
    {
LABEL_55:
      *(_DWORD *)(v3 + 4 * dword_1006A2F8[(*(_DWORD *)(v3 + 8))++] + 12) = v6 & 7;
      v6 >>= 3;
      v5 -= 3;
      v71 = v6;
      v65 = v5;
      if ( *(_DWORD *)(v3 + 8) >= (unsigned int)((*(_DWORD *)(v3 + 4) >> 10) + 4) )
        goto LABEL_56;
    }
    while ( v59 )
    {
      --v59;
      v32 = (unsigned __int8)*v9++ << v5;
      v5 += 8;
      a3 = 0;
      v6 |= v32;
      v71 = v6;
      v61 = v9;
      if ( v5 >= 3 )
        goto LABEL_55;
    }
    goto LABEL_94;
  }
LABEL_56:
  while ( *(_DWORD *)(v3 + 8) < 0x13u )
    *(_DWORD *)(v3 + 4 * dword_1006A2F8[(*(_DWORD *)(v3 + 8))++] + 12) = 0;
  *(_DWORD *)(v3 + 1412) = 7;
  v23 = sub_10013B00(v3 + 1432, (unsigned int *)(v3 + 1412), (_DWORD *)(v3 + 12), (int *)(v3 + 1416));
  if ( v23 )
  {
    *(_BYTE *)v3 = 9;
LABEL_96:
    *(_DWORD *)(v7 + 4) = v59;
    v51 = (int)&v61[-*(_DWORD *)v7];
    *(_DWORD *)v7 = v61;
    *(_DWORD *)(v7 + 8) += v51;
    *(_DWORD *)(v3 + 1428) = v71;
    *(_DWORD *)(v3 + 14116) = v60;
    v58 = v23;
    goto LABEL_111;
  }
  v6 = v71;
  *(_DWORD *)(v3 + 8) = 0;
  v9 = v61;
  *(_BYTE *)v3 = 5;
LABEL_60:
  if ( *(_DWORD *)(v3 + 8) >= ((*(_DWORD *)(v3 + 4) >> 5) & 0x1F) + (*(_DWORD *)(v3 + 4) & 0x1Fu) + 258 )
  {
LABEL_81:
    v42 = *(_DWORD *)(v3 + 4);
    *(_DWORD *)(v3 + 1416) = 0;
    v67 = 9;
    v66 = 6;
    v43 = sub_10013B50(
            (unsigned int *)(v3 + 12952),
            &v69,
            v3 + 1432,
            (v42 & 0x1F) + 257,
            ((v42 >> 5) & 0x1F) + 1,
            (_DWORD *)(v3 + 12),
            &v67,
            &v66,
            &v68);
    if ( v43 )
    {
      *(_BYTE *)v3 = 9;
      *(_DWORD *)(v7 + 4) = v59;
      v53 = (int)&v61[-*(_DWORD *)v7];
      *(_DWORD *)v7 = v61;
      *(_DWORD *)(v7 + 8) += v53;
      *(_DWORD *)(v3 + 1428) = v71;
      *(_DWORD *)(v3 + 1424) = v65;
      *(_DWORD *)(v3 + 14116) = v60;
    }
    else
    {
      sub_100135F0(v3 + 4, v67, v66, v69, v68);
      v5 = v65;
      v10 = v60;
      v9 = v61;
      v6 = v71;
      *(_BYTE *)v3 = 6;
LABEL_83:
      *(_DWORD *)(v7 + 4) = v59;
      v44 = (int)&v9[-*(_DWORD *)v7];
      *(_DWORD *)v7 = v9;
      *(_DWORD *)(v7 + 8) += v44;
      *(_DWORD *)(v3 + 14116) = v10;
      *(_DWORD *)(v3 + 1428) = v6;
      *(_DWORD *)(v3 + 1424) = v5;
      v43 = sub_10013C20(v7, v3, a3);
      if ( v43 == 1 )
      {
        v5 = *(_DWORD *)(v3 + 1424);
        v61 = *(char **)v7;
        v45 = *(char **)(v3 + 14116);
        v71 = *(_DWORD *)(v3 + 1428);
        v46 = *(_DWORD *)(v3 + 14112);
        a3 = 0;
        v59 = *(_DWORD *)(v7 + 4);
        v65 = *(_DWORD *)(v3 + 1424);
        v60 = v45;
        if ( (unsigned int)v45 >= v46 )
          v47 = *(_DWORD *)(v3 + 14108) - (_DWORD)v45;
        else
          v47 = v46 - (_DWORD)v45 - 1;
        v62 = v47;
        if ( !*(_DWORD *)(v3 + 1420) )
        {
          *(_BYTE *)v3 = 0;
          goto LABEL_89;
        }
        *(_BYTE *)v3 = 7;
LABEL_102:
        *(_DWORD *)(v3 + 14116) = v60;
        v55 = sub_100139C0(v7, v3, a3);
        v60 = *(char **)(v3 + 14116);
        if ( *(_DWORD *)(v3 + 14112) != *(_DWORD *)(v3 + 14116) )
        {
          *(_DWORD *)(v7 + 4) = v59;
          v56 = (int)&v61[-*(_DWORD *)v7];
          *(_DWORD *)v7 = v61;
          *(_DWORD *)(v7 + 8) += v56;
          *(_DWORD *)(v3 + 1428) = v71;
          *(_DWORD *)(v3 + 1424) = v5;
          *(_DWORD *)(v3 + 14116) = v60;
          return sub_100139C0(v7, v3, v55);
        }
        *(_BYTE *)v3 = 8;
LABEL_105:
        *(_DWORD *)(v7 + 4) = v59;
        v58 = 1;
        goto LABEL_109;
      }
    }
    return sub_100139C0(v7, v3, v43);
  }
  while ( 1 )
  {
    v33 = *(_WORD *)(v3 + 1412);
    v67 = *(_WORD *)(v3 + 1412);
    if ( v5 < v33 )
      break;
LABEL_64:
    v35 = *(_DWORD *)(v3 + 1416) + 8 * (v6 & dword_1006A2B0[*(_DWORD *)(v3 + 1412)]);
    v36 = *(_BYTE *)(v35 + 1);
    v37 = *(_DWORD *)(v35 + 4);
    v66 = v37;
    if ( v37 >= 0x10 )
    {
      if ( v37 == 18 )
        v67 = 7;
      else
        v67 = v37 - 14;
      v63 = 8 * (v37 == 18) + 3;
      v70 = (unsigned __int16)(v36 + v67);
      if ( v5 < v70 )
      {
        while ( v59 )
        {
          --v59;
          v38 = (unsigned __int8)*v9++ << v5;
          v5 += 8;
          a3 = 0;
          v6 |= v38;
          v71 = v6;
          v61 = v9;
          if ( v5 >= v70 )
            goto LABEL_72;
        }
        v52 = (int)&v61[-*(_DWORD *)v7];
        *(_DWORD *)v7 = v61;
        *(_DWORD *)(v7 + 8) += v52;
        *(_DWORD *)(v7 + 4) = 0;
        *(_DWORD *)(v3 + 1428) = v71;
        *(_DWORD *)(v3 + 14116) = v60;
        v58 = a3;
        goto LABEL_111;
      }
LABEL_72:
      v39 = v6 >> v36;
      v64 = (v39 & dword_1006A2B0[v67]) + v63;
      v6 = v39 >> v67;
      v5 -= v36 + v67;
      v40 = *(_DWORD *)(v3 + 8);
      v71 = v6;
      v65 = v5;
      if ( v40 + v64 > ((*(_DWORD *)(v3 + 4) >> 5) & 0x1F) + (*(_DWORD *)(v3 + 4) & 0x1Fu) + 258 )
        goto LABEL_98;
      if ( v66 == 16 )
      {
        if ( v40 < 1 )
        {
LABEL_98:
          *(_BYTE *)v3 = 9;
          *(_DWORD *)(v7 + 4) = v59;
          v58 = -3;
          goto LABEL_109;
        }
        v66 = *(_DWORD *)(v3 + 4 * v40 + 8);
      }
      else
      {
        v66 = 0;
      }
      v41 = (unsigned int *)(v3 + 4 * v40 + 12);
      do
      {
        *v41 = v66;
        ++v40;
        ++v41;
        --v64;
      }
      while ( v64 );
      v9 = v61;
      *(_DWORD *)(v3 + 8) = v40;
    }
    else
    {
      v6 >>= v36;
      v5 -= v36;
      *(_DWORD *)(v3 + 4 * (*(_DWORD *)(v3 + 8))++ + 12) = v37;
      v71 = v6;
      v65 = v5;
    }
    if ( *(_DWORD *)(v3 + 8) >= ((*(_DWORD *)(v3 + 4) >> 5) & 0x1F) + (*(_DWORD *)(v3 + 4) & 0x1Fu) + 258 )
      goto LABEL_81;
  }
  while ( v59 )
  {
    --v59;
    v34 = (unsigned __int8)*v9++ << v5;
    v5 += 8;
    a3 = 0;
    v6 |= v34;
    v71 = v6;
    v61 = v9;
    if ( v5 >= v67 )
      goto LABEL_64;
  }
LABEL_94:
  v48 = v61;
  v50 = (int)&v61[-*(_DWORD *)v7];
  *(_DWORD *)(v7 + 4) = 0;
  *(_DWORD *)(v7 + 8) += v50;
  v58 = a3;
LABEL_110:
  *(_DWORD *)v7 = v48;
  *(_DWORD *)(v3 + 14116) = v60;
  *(_DWORD *)(v3 + 1428) = v71;
LABEL_111:
  *(_DWORD *)(v3 + 1424) = v5;
  return sub_100139C0(v7, v3, v58);
}
// 1006A2B0: using guessed type int dword_1006A2B0[];
// 1006A2F8: using guessed type int dword_1006A2F8[];

//----- (10014CA0) --------------------------------------------------------
signed int __usercall sub_10014CA0@<eax>(int a1@<edi>, int a2)
{
  int v2; // ebp@3
  int v3; // ebx@3
  signed int v4; // esi@3
  unsigned int v5; // eax@3
  int v6; // eax@5
  _BYTE *v7; // ecx@6
  int v8; // eax@9
  int v9; // ecx@10
  int v10; // eax@13
  int v11; // eax@21
  int v12; // eax@23
  _BYTE *v13; // edx@24
  int v14; // eax@25
  _BYTE *v15; // ecx@26
  int v16; // eax@27
  signed int result; // eax@32
  int v18; // eax@34
  int v19; // eax@36
  _BYTE *v20; // edx@37
  int v21; // eax@38
  _BYTE *v22; // ecx@39
  int v23; // eax@40
  signed int v24; // [sp+8h] [bp+4h]@3

  if ( !a1 || !*(_DWORD *)a1 )
    return -2;
  v2 = *(_DWORD *)(a1 + 24);
  v3 = -5;
  v4 = a2 != 4 ? 0 : 0xFFFFFFFB;
  v5 = *(_BYTE *)v2;
  v24 = a2 != 4 ? 0 : 0xFFFFFFFB;
  while ( 2 )
  {
    switch ( v5 )
    {
      case 0u:
        v6 = *(_DWORD *)(a1 + 4);
        if ( !v6 )
          goto LABEL_44;
        v7 = *(_BYTE **)a1;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v6 - 1;
        *(_DWORD *)(v2 + 4) = *v7;
        ++*(_DWORD *)a1;
        v3 = v4;
        if ( (*(_DWORD *)(v2 + 4) & 0xF) != 8 || (unsigned int)((*(_DWORD *)(v2 + 4) >> 4) + 8) > *(_DWORD *)(v2 + 16) )
          goto LABEL_29;
        *(_BYTE *)v2 = 1;
        goto LABEL_9;
      case 1u:
LABEL_9:
        v8 = *(_DWORD *)(a1 + 4);
        if ( !v8 )
          goto LABEL_44;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v8 - 1;
        v9 = *(_BYTE *)(*(_DWORD *)a1)++;
        v3 = v4;
        if ( (v9 + (*(_DWORD *)(v2 + 4) << 8)) % 0x1Fu )
          goto LABEL_29;
        if ( !(v9 & 0x20) )
        {
          *(_BYTE *)v2 = 7;
LABEL_31:
          v5 = *(_BYTE *)v2;
          if ( v5 > 0xD )
            return -2;
          continue;
        }
        *(_BYTE *)v2 = 2;
LABEL_34:
        v18 = *(_DWORD *)(a1 + 4);
        if ( !v18 )
          goto LABEL_44;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v18 - 1;
        *(_DWORD *)(v2 + 8) = *(_BYTE *)(*(_DWORD *)a1)++ << 24;
        v3 = v4;
        *(_BYTE *)v2 = 3;
LABEL_36:
        v19 = *(_DWORD *)(a1 + 4);
        if ( !v19 )
          goto LABEL_44;
        v20 = *(_BYTE **)a1;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v19 - 1;
        *(_DWORD *)(v2 + 8) += *v20 << 16;
        ++*(_DWORD *)a1;
        v3 = v4;
        *(_BYTE *)v2 = 4;
LABEL_38:
        v21 = *(_DWORD *)(a1 + 4);
        if ( !v21 )
          goto LABEL_44;
        v22 = *(_BYTE **)a1;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v21 - 1;
        *(_DWORD *)(v2 + 8) += *v22 << 8;
        ++*(_DWORD *)a1;
        v3 = v4;
        *(_BYTE *)v2 = 5;
LABEL_40:
        v23 = *(_DWORD *)(a1 + 4);
        if ( v23 )
        {
          ++*(_DWORD *)(a1 + 8);
          *(_DWORD *)(a1 + 4) = v23 - 1;
          *(_DWORD *)(v2 + 8) += *(_BYTE *)(*(_DWORD *)a1)++;
          *(_DWORD *)(a1 + 28) = *(_DWORD *)(v2 + 8);
          *(_BYTE *)v2 = 6;
          result = 2;
        }
        else
        {
LABEL_44:
          result = v3;
        }
        return result;
      case 7u:
        v10 = sub_100142C0(a1, *(_DWORD *)(v2 + 20), v3);
        v3 = v10;
        if ( v10 == -3 )
        {
          *(_DWORD *)(v2 + 4) = 0;
        }
        else
        {
          if ( !v10 )
            v3 = v4;
          if ( v3 != 1 )
            goto LABEL_44;
          v3 = v4;
          sub_100135A0((_DWORD *)(v2 + 4), *(_DWORD *)(v2 + 20), a1);
          v4 = v24;
          if ( *(_DWORD *)(v2 + 12) )
          {
            *(_BYTE *)v2 = 12;
            goto LABEL_31;
          }
          *(_BYTE *)v2 = 8;
LABEL_21:
          v11 = *(_DWORD *)(a1 + 4);
          if ( !v11 )
            goto LABEL_44;
          ++*(_DWORD *)(a1 + 8);
          *(_DWORD *)(a1 + 4) = v11 - 1;
          *(_DWORD *)(v2 + 8) = *(_BYTE *)(*(_DWORD *)a1)++ << 24;
          v3 = v4;
          *(_BYTE *)v2 = 9;
LABEL_23:
          v12 = *(_DWORD *)(a1 + 4);
          if ( !v12 )
            goto LABEL_44;
          v13 = *(_BYTE **)a1;
          ++*(_DWORD *)(a1 + 8);
          *(_DWORD *)(a1 + 4) = v12 - 1;
          *(_DWORD *)(v2 + 8) += *v13 << 16;
          ++*(_DWORD *)a1;
          v3 = v4;
          *(_BYTE *)v2 = 10;
LABEL_25:
          v14 = *(_DWORD *)(a1 + 4);
          if ( !v14 )
            goto LABEL_44;
          v15 = *(_BYTE **)a1;
          ++*(_DWORD *)(a1 + 8);
          *(_DWORD *)(a1 + 4) = v14 - 1;
          *(_DWORD *)(v2 + 8) += *v15 << 8;
          ++*(_DWORD *)a1;
          v3 = v4;
          *(_BYTE *)v2 = 11;
LABEL_27:
          v16 = *(_DWORD *)(a1 + 4);
          if ( !v16 )
            goto LABEL_44;
          ++*(_DWORD *)(a1 + 8);
          *(_DWORD *)(a1 + 4) = v16 - 1;
          *(_DWORD *)(v2 + 8) += *(_BYTE *)(*(_DWORD *)a1)++;
          v3 = v4;
          if ( *(_DWORD *)(v2 + 4) == *(_DWORD *)(v2 + 8) )
          {
            *(_BYTE *)v2 = 12;
            return 1;
          }
LABEL_29:
          *(_DWORD *)(v2 + 4) = 5;
        }
        *(_BYTE *)v2 = 13;
        goto LABEL_31;
      case 8u:
        goto LABEL_21;
      case 9u:
        goto LABEL_23;
      case 0xAu:
        goto LABEL_25;
      case 0xBu:
        goto LABEL_27;
      case 2u:
        goto LABEL_34;
      case 3u:
        goto LABEL_36;
      case 4u:
        goto LABEL_38;
      case 5u:
        goto LABEL_40;
      case 6u:
        *(_BYTE *)v2 = 13;
        *(_DWORD *)(v2 + 4) = 0;
        return -2;
      case 0xCu:
        return 1;
      case 0xDu:
        return -3;
      default:
        return -2;
    }
  }
}

//----- (10014FD0) --------------------------------------------------------
signed int __cdecl sub_10014FD0(int a1, int a2)
{
  return sub_10014CA0(a1, a2);
}

//----- (10014FF0) --------------------------------------------------------
char __cdecl sub_10014FF0(int a1, int a2)
{
  int v2; // eax@1
  int v3; // eax@11
  int v4; // eax@16
  int v6; // [sp+8h] [bp-54h]@1
  int v7; // [sp+Ch] [bp-50h]@1
  int v8; // [sp+10h] [bp-4Ch]@1
  int v9; // [sp+14h] [bp-48h]@1
  int v10; // [sp+18h] [bp-44h]@1
  char DstBuf; // [sp+1Ch] [bp-40h]@16

  LOBYTE(v2) = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  if ( a1 == 28 || a1 == 29 || a1 == 30 || a1 == 31 || a1 == 32 || a1 == 48 || a1 == 33 || a1 == 34 )
  {
    v2 = sub_10005850((_DWORD *)a2, 2u, (int)&unk_1006B698, 8, 77, 77);
    if ( v2 != 77 )
    {
      if ( *(_WORD *)a2 == -32768 )
      {
        v3 = *(_WORD *)(a2 + 10) + 16;
      }
      else if ( *(_WORD *)a2 == -32767 )
      {
        v3 = *(_DWORD *)(a2 + 4) + 8;
      }
      else
      {
        v3 = dword_1006B69C[2 * v2] + 4;
      }
      v7 = v3;
      v10 = 65;
      v6 = a2;
      v9 = 10;
      v2 = sub_100044F0(a1, (int)&v6);
      if ( v2 == 16 )
      {
        v4 = sub_10004380();
        sub_10005760(&DstBuf, 0x3Cu, "message queue timed out sending from: %d to %d", v4, a1);
        LOBYTE(v2) = sub_10004310("..\\lib\\adl\\iop_msg_intf.c", 433, 0, &DstBuf);
      }
    }
  }
  return v2;
}
// 1006B69C: using guessed type int dword_1006B69C[];

//----- (10015110) --------------------------------------------------------
bool __cdecl sub_10015110(void *a1)
{
  char v1; // cl@1

  v1 = sub_1000B9B0(1, 1946, a1);
  *((_DWORD *)a1 + 1) /= 0x3E8u;
  return v1 && !sub_10009A70((int)a1);
}

//----- (10015150) --------------------------------------------------------
char __cdecl sub_10015150(char a1)
{
  return byte_1006D679[2 * (unsigned __int8)sub_10005850(&a1, 1u, (int)&unk_1006D678, 2, 4, 3)];
}

//----- (10015180) --------------------------------------------------------
char __cdecl sub_10015180(char a1, void *a2)
{
  void *v3; // esi@6
  char v4; // al@6

  if ( a1 )
  {
    if ( a1 == 1 )
    {
      v3 = a2;
      v4 = sub_1000B9B0(1, 546, a2);
    }
    else
    {
      if ( a1 != 2 )
      {
        sub_10004310("..\\lib\\acl\\iop\\iop_com_intf.c", 187, 0, 0);
        return 0;
      }
      v3 = a2;
      v4 = sub_10015110(a2);
    }
  }
  else
  {
    v3 = a2;
    v4 = sub_1000B9B0(1, 538, a2);
  }
  if ( !v4 || sub_10009A70((int)v3) )
    return 0;
  return 1;
}

//----- (10015200) --------------------------------------------------------
int __cdecl sub_10015200(char a1, _DWORD *a2)
{
  int result; // eax@1
  int v3; // [sp+4h] [bp-Ch]@1
  int v4; // [sp+8h] [bp-8h]@1

  v3 = 0;
  v4 = 0;
  LOBYTE(result) = sub_10015180(a1, &v3);
  *a2 = v4;
  return result;
}

//----- (10015250) --------------------------------------------------------
bool __cdecl sub_10015250(unsigned __int8 a1, char a2, unsigned int a3)
{
  int v3; // eax@1
  bool result; // al@5

  v3 = sub_10005850(&a2, 4u, (int)&dword_1006E5E8, 12, 3, 3);
  if ( a3 < 0xFFFFFFC2 && a3 && v3 < 3 && a1 < 2u )
  {
    result = sub_10003FD0((unsigned __int16)word_1006E5EC[a1 + 6 * v3], a3, (unsigned __int16)word_1006E5F0[6 * v3]) == 0;
  }
  else
  {
    sub_10004310("..\\lib\\acl\\iop\\gtx\\iop_gtx_intf.c", 254, 0, 0);
    result = 0;
  }
  return result;
}
// 1006E5E8: using guessed type int dword_1006E5E8;
// 1006E5EC: using guessed type __int16 word_1006E5EC[];
// 1006E5F0: using guessed type __int16 word_1006E5F0[];

//----- (100152E0) --------------------------------------------------------
bool __cdecl sub_100152E0(char a1, char a2, char a3, int a4, unsigned int a5, unsigned int a6)
{
  int v6; // eax@1
  int v7; // eax@7
  unsigned int v8; // edx@7
  int v9; // eax@7
  bool result; // al@9
  unsigned __int8 v11; // [sp+4h] [bp-4h]@1

  v11 = sub_10015380(a1);
  v6 = sub_10005850(&a3, 1u, (int)&unk_1006E60C, 8, 3, 3);
  if ( v6 < 3 )
    v6 = sub_10005850(&dword_1006E610[2 * v6], 4u, (int)&dword_1006E5E8, 12, 3, 3);
  if ( a5 < 0xFFFFFFC2
    && a5
    && v6 < 3
    && v11 < 2u
    && (v7 = 6 * v6, v8 = (unsigned __int16)word_1006E5F0[v7], v9 = 2 * v7, a6 >= v8)
    && a2 == 1 )
  {
    result = sub_10015250(v11, *(int *)((char *)&dword_1006E5E8 + v9), a5);
  }
  else
  {
    result = 0;
  }
  return result;
}
// 1006E5E8: using guessed type int dword_1006E5E8;
// 1006E5F0: using guessed type __int16 word_1006E5F0[];

//----- (10015380) --------------------------------------------------------
char __cdecl sub_10015380(char a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 0xA:
    case 0x30:
      result = 0;
      break;
    case 0xB:
    case 0x31:
      result = 1;
      break;
    default:
      sub_10004310("..\\lib\\acl\\iop\\iop_xpdr_cnfg_utl.c", 155, 0, 0);
      result = 2;
      break;
  }
  return result;
}

//----- (10015400) --------------------------------------------------------
char __cdecl sub_10015400(char a1, int a2)
{
  char v2; // cl@1
  char v3; // dl@1
  int v4; // eax@1
  int v5; // ecx@1
  int v6; // edx@1
  int v7; // eax@1
  int v8; // ecx@1
  int v9; // eax@1
  int v10; // ecx@1
  bool v11; // zf@1
  int v12; // eax@3
  int v13; // ecx@3
  char v14; // dl@3
  __int16 v15; // ax@5
  char v16; // dl@5
  int v18; // [sp+4h] [bp-58h]@1
  char v19; // [sp+8h] [bp-54h]@1
  __int64 v20; // [sp+Ch] [bp-50h]@1
  int v21; // [sp+14h] [bp-48h]@1
  int v22; // [sp+18h] [bp-44h]@1
  char v23; // [sp+1Ch] [bp-40h]@1
  __int16 v24; // [sp+1Eh] [bp-3Eh]@1
  int v25; // [sp+20h] [bp-3Ch]@4
  int v26; // [sp+24h] [bp-38h]@4
  char v27; // [sp+28h] [bp-34h]@4
  char v28; // [sp+2Ah] [bp-32h]@1
  char v29; // [sp+2Bh] [bp-31h]@1
  int v30; // [sp+2Ch] [bp-30h]@1
  int v31; // [sp+30h] [bp-2Ch]@1
  int v32; // [sp+34h] [bp-28h]@1
  int v33; // [sp+38h] [bp-24h]@1
  int v34; // [sp+3Ch] [bp-20h]@1
  int v35; // [sp+40h] [bp-1Ch]@1
  int v36; // [sp+44h] [bp-18h]@1
  int v37; // [sp+48h] [bp-14h]@1
  int v38; // [sp+4Ch] [bp-10h]@1
  int v39; // [sp+50h] [bp-Ch]@1
  int v40; // [sp+54h] [bp-8h]@1

  memset(&v23, 0, 0x3Cu);
  v20 = 0i64;
  v21 = 0;
  v22 = 0;
  v18 = 0;
  v19 = 0;
  sub_1000BCC0(a1, (int)&v23);
  v2 = v28;
  v3 = v29;
  *(_WORD *)a2 = v24;
  *(_DWORD *)(a2 + 28) = v33;
  v4 = v36;
  *(_BYTE *)(a2 + 12) = v2;
  *(_DWORD *)(a2 + 32) = v34;
  v5 = v37;
  *(_BYTE *)(a2 + 13) = v3;
  *(_DWORD *)(a2 + 36) = v35;
  v6 = v38;
  *(_DWORD *)(a2 + 40) = v4;
  v7 = v30;
  *(_DWORD *)(a2 + 44) = v5;
  v8 = v31;
  *(_DWORD *)(a2 + 16) = v7;
  v9 = v39;
  *(_DWORD *)(a2 + 20) = v8;
  v10 = v40;
  *(_DWORD *)(a2 + 48) = v6;
  v11 = BYTE3(v30) == 1;
  *(_DWORD *)(a2 + 24) = v32;
  *(_DWORD *)(a2 + 52) = v9;
  *(_DWORD *)(a2 + 56) = v10;
  if ( !v11 || sub_10003FD0(2105, (int)&v20, 16) )
  {
    v12 = v25;
    v13 = v26;
    v14 = v27;
  }
  else
  {
    v13 = *(_DWORD *)((char *)&v20 + 6);
    v12 = *(_DWORD *)((char *)&v20 + 2);
    v14 = BYTE2(v21);
  }
  *(_DWORD *)(a2 + 2) = v12;
  *(_DWORD *)(a2 + 6) = v13;
  *(_BYTE *)(a2 + 10) = v14;
  sub_1000BCE0((int)&v18);
  LOBYTE(v15) = v19;
  v16 = v18;
  v11 = (v19 & 1) == 0;
  *(_BYTE *)(a2 + 63) = BYTE3(v18);
  *(_BYTE *)(a2 + 60) = v16;
  *(_BYTE *)(a2 + 64) = 0;
  if ( !v11 )
    *(_BYTE *)(a2 + 64) = 1;
  *(_BYTE *)(a2 + 65) = 0;
  if ( v15 & 4 )
    *(_BYTE *)(a2 + 65) = 1;
  *(_BYTE *)(a2 + 66) = 0;
  if ( v15 & 2 )
  {
    v15 = *(_WORD *)((char *)&v18 + 1);
    *(_BYTE *)(a2 + 66) = 1;
    *(_WORD *)(a2 + 61) = v15;
  }
  else
  {
    *(_WORD *)(a2 + 61) = *(_WORD *)((char *)&v18 + 1);
  }
  return v15;
}

//----- (10015570) --------------------------------------------------------
int __usercall sub_10015570@<eax>(char a1@<cl>, int *a2@<esi>, unsigned __int16 a3)
{
  int result; // eax@1
  char v4; // [sp+0h] [bp-48h]@1
  int v5[10]; // [sp+1Ch] [bp-2Ch]@1

  sub_10015400(a1, (int)&v4);
  result = v5[a3];
  *a2 = result;
  return result;
}
// 10015570: using guessed type int var_2C[10];

//----- (100155B0) --------------------------------------------------------
int __usercall sub_100155B0@<eax>(unsigned __int8 a1@<bl>, int *a2@<esi>, int a3)
{
  int result; // eax@1
  char v4; // [sp+0h] [bp-48h]@3
  int v5[4]; // [sp+34h] [bp-14h]@3

  result = a3;
  if ( (unsigned __int8)a3 < 2u && a1 < 2u )
  {
    sub_10015400(a3, (int)&v4);
    result = v5[a1];
    *a2 = result;
  }
  return result;
}
// 100155B0: using guessed type int var_14[4];

//----- (100155F0) --------------------------------------------------------
signed int sub_100155F0()
{
  return sub_100049D0((int)&off_100704B0);
}
// 100704B0: using guessed type char *off_100704B0;

//----- (10015600) --------------------------------------------------------
char __cdecl sub_10015600(unsigned __int8 a1, unsigned __int16 a2, int a3)
{
  int v3; // esi@2
  char result; // al@2

  if ( (unsigned __int8)sub_100155F0() )
  {
    v3 = a1 + a2 + 16 * a1;
    *(_BYTE *)(a3 + 1) = *(_BYTE *)(dword_10152FBC + 4 * v3 + 29);
    *(_BYTE *)a3 = *(_BYTE *)(dword_10152FBC + 4 * v3 + 28);
    result = *(_BYTE *)(a2 + 2 * (3 * a1 + 72) + dword_10152FBC);
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10152FBC: using guessed type int dword_10152FBC;

//----- (10015660) --------------------------------------------------------
char __cdecl sub_10015660(char a1, void *a2)
{
  int v2; // edx@4
  char result; // al@20

  if ( (unsigned __int8)sub_100155F0() )
  {
    if ( (sub_1000BD00(a1)
       || *(_BYTE *)(dword_10152FBC + 2 * (3 * (unsigned __int8)a1 + 72))
       && (v2 = dword_10152FBC + 6 * (unsigned __int8)a1, *(_BYTE *)(dword_10152FBC + 6 * (unsigned __int8)a1 + 145))
       && *(_BYTE *)(v2 + 146)
       && *(_BYTE *)(v2 + 147)
       && *(_BYTE *)(v2 + 148)
       && *(_BYTE *)(v2 + 149)
       && *(_BYTE *)((unsigned __int8)a1 + dword_10152FBC + 142)
       && *(_BYTE *)((unsigned __int8)a1 + dword_10152FBC + 170)
       && *(_BYTE *)((unsigned __int8)a1 + dword_10152FBC + 168)
       && *(_BYTE *)((unsigned __int8)a1 + dword_10152FBC + 166)
       && *(_BYTE *)((unsigned __int8)a1 + dword_10152FBC + 172)
       && *(_BYTE *)((unsigned __int8)a1 + dword_10152FBC + 174)
       && *(_BYTE *)((unsigned __int8)a1 + dword_10152FBC + 176))
      && *(_BYTE *)(dword_10152FBC + 2 * (unsigned __int8)a1 + 158)
      && *(_BYTE *)(dword_10152FBC + 2 * (unsigned __int8)a1 + 159)
      && *(_BYTE *)((unsigned __int8)a1 + dword_10152FBC + 156)
      && *(_BYTE *)((unsigned __int8)a1 + dword_10152FBC + 162) )
    {
      qmemcpy(a2, (const void *)(dword_10152FBC + 68 * (unsigned __int8)a1), 0x44u);
      result = 1;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10152FBC: using guessed type int dword_10152FBC;

//----- (10015780) --------------------------------------------------------
char __cdecl sub_10015780(unsigned __int8 a1, unsigned __int8 a2, int a3)
{
  int v3; // eax@2
  char result; // al@2

  if ( (unsigned __int8)sub_100155F0() )
  {
    v3 = a1 + a2 + 16 * a1;
    *(_BYTE *)(a3 + 2) = *(_BYTE *)(dword_10152FBC + 4 * v3 + 54);
    *(_BYTE *)a3 = *(_BYTE *)(dword_10152FBC + 4 * v3 + 52);
    *(_BYTE *)(a3 + 1) = *(_BYTE *)(dword_10152FBC + 4 * v3 + 53);
    *(_BYTE *)(a3 + 3) = *(_BYTE *)(dword_10152FBC + 4 * v3 + 55);
    result = *(_BYTE *)(a2 + 2 * a1 + 158 + dword_10152FBC);
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10152FBC: using guessed type int dword_10152FBC;

//----- (10015800) --------------------------------------------------------
char __cdecl sub_10015800(int a1, char a2, char a3, unsigned __int8 *a4, int *a5, unsigned int a6)
{
  char v6; // cl@2
  char result; // al@7
  unsigned __int16 v8; // ax@13

  if ( (_BYTE)a1 == 10 )
  {
    v6 = 0;
  }
  else
  {
    if ( (_BYTE)a1 != 11 )
    {
      sub_10004310("..\\lib\\acl\\iop\\iop_xpdr_cnfg_intf.c", 703, 0, 0);
      return 0;
    }
    v6 = 1;
  }
  LOBYTE(a1) = v6;
  switch ( a3 )
  {
    case 0:
      if ( a6 >= 4 )
      {
        if ( a2 )
        {
          sub_100155B0(*a4, a5, a1);
          result = 1;
        }
        else
        {
          result = sub_10015780(v6, *a4, (int)a5);
        }
      }
      else
      {
        sub_10004310("..\\lib\\acl\\iop\\iop_xpdr_cnfg_intf.c", 718, 0, 0);
        result = 0;
      }
      break;
    case 2:
      if ( a6 >= 4 )
      {
        v8 = *a4;
        if ( a2 )
        {
          sub_10015570(v6, a5, v8);
          result = 1;
        }
        else
        {
          result = sub_10015600(v6, v8, (int)a5);
        }
      }
      else
      {
        sub_10004310("..\\lib\\acl\\iop\\iop_xpdr_cnfg_intf.c", 750, 0, 0);
        result = 0;
      }
      break;
    case 0xB:
    case 0x12:
    case 0x1C:
      if ( a6 >= 0x44 )
      {
        if ( a2 )
        {
          sub_10015400(v6, (int)a5);
          result = 1;
        }
        else
        {
          result = sub_10015660(v6, a5);
        }
      }
      else
      {
        sub_10004310("..\\lib\\acl\\iop\\iop_xpdr_cnfg_intf.c", 784, 0, 0);
        result = 0;
      }
      break;
    default:
      sub_10004310("..\\lib\\acl\\iop\\iop_xpdr_cnfg_intf.c", 809, 0, 0);
      result = 0;
      break;
  }
  return result;
}

//----- (100159B0) --------------------------------------------------------
int __cdecl sub_100159B0(char *a1, char a2)
{
  signed int v2; // eax@2
  int result; // eax@4
  int v4; // [sp+8h] [bp-ECh]@1
  char v5; // [sp+24h] [bp-D0h]@4

  v4 = 0;
  if ( a2 == 1 )
    v2 = 2;
  else
    v2 = a2 == 2;
  result = j_HWM_pvg_rgn_get_info(v2, &v4);
  qmemcpy(a1, &v5, 0x74u);
  return result;
}
// 10003F60: using guessed type int __cdecl j_HWM_pvg_rgn_get_info(_DWORD, _DWORD);

//----- (10015A20) --------------------------------------------------------
bool __cdecl sub_10015A20(int a1, void *a2)
{
  void *v2; // ecx@0
  char v3; // si@1
  char v4; // bl@1
  int v5; // esi@4
  bool result; // al@7

  v3 = sub_10005E50(v2);
  v4 = 0;
  do
  {
    if ( (_BYTE)a1 == (char)off_100711A0[(unsigned __int8)v4](v3) )
    {
      sub_100159B0((char *)a2, v4);
      return 1;
    }
    ++v4;
  }
  while ( (unsigned __int8)v4 < 3u );
  v5 = (unsigned __int16)sub_1000BA40(a1);
  if ( (unsigned __int16)v5 >= (unsigned __int16)sub_1000AEC0(2) )
    result = 0;
  else
    result = sub_1000B9B0(2, v5, a2) == 1 && !sub_1000C370(a2);
  return result;
}
// 100711A0: using guessed type int (__cdecl *off_100711A0[3])(char);

//----- (10015AE0) --------------------------------------------------------
char __cdecl sub_10015AE0(int a1, bool *a2)
{
  char result; // al@3
  char v3; // [sp+8h] [bp-78h]@2
  int v4; // [sp+78h] [bp-8h]@3

  switch ( (unsigned __int8)a1 )
  {
    case 1u:
    case 4u:
    case 7u:
    case 0xAu:
      if ( sub_10015A20(a1, &v3) )
      {
        *a2 = (v4 & 1) == 1;
        result = 1;
      }
      else
      {
        result = 0;
      }
      break;
    default:
      *a2 = sub_1000BA20(a1) != 67;
      result = 1;
      break;
  }
  return result;
}

//----- (10015BA0) --------------------------------------------------------
int __cdecl sub_10015BA0(char a1)
{
  return sub_10005850(&a1, 1u, (int)&unk_10071700, 8, 2, 2);
}

//----- (10015BC0) --------------------------------------------------------
BOOL __cdecl sub_10015BC0(int a1, void *a2)
{
  int v2; // esi@1
  char v4; // [sp+4h] [bp-18h]@2
  int v5; // [sp+18h] [bp-4h]@3

  v2 = sub_1000BEF0(a1);
  return sub_1000B9B0(0, 604, a2) && sub_1000B380(0, 0x25Cu, (int)&v4) && (v2 & v5) == v2;
}

//----- (10015C20) --------------------------------------------------------
int __usercall sub_10015C20@<eax>(char a1@<al>)
{
  unsigned __int8 v1; // al@1
  int result; // eax@2

  v1 = sub_10015BA0(a1);
  if ( v1 >= 2u )
    result = 42066;
  else
    result = dword_10071704[2 * v1];
  return result;
}
// 10071704: using guessed type int dword_10071704[];

//----- (10015C50) --------------------------------------------------------
BOOL __cdecl sub_10015C50(char a1, int a2)
{
  int v2; // eax@1

  v2 = sub_10015C20(a1);
  return sub_10003FD0(v2, a2, 16) == 0;
}

//----- (10015C80) --------------------------------------------------------
int __cdecl sub_10015C80(int a1, char a2, int a3, int a4, void *a5)
{
  int result; // eax@2

  if ( a2 )
    result = sub_10015C50(a1, (int)a5);
  else
    result = sub_10015BC0(a1, a5);
  return result;
}

//----- (10015CB0) --------------------------------------------------------
char __cdecl sub_10015CB0(void *a1)
{
  int v1; // ecx@0
  int v3; // [sp+0h] [bp-4h]@1

  v3 = v1;
  return sub_1000B9E0(1, 1947, a1, (int)&v3);
}

//----- (10015CD0) --------------------------------------------------------
BOOL __cdecl sub_10015CD0(int a1)
{
  return sub_10003FD0(6792, a1, 284) == 0;
}

//----- (10015CF0) --------------------------------------------------------
char __cdecl sub_10015CF0(int a1, char a2, int a3, int a4, void *a5)
{
  char result; // al@2

  if ( a2 )
    result = sub_10015CD0((int)a5);
  else
    result = sub_10015CB0(a5);
  return result;
}

//----- (10015D20) --------------------------------------------------------
bool __cdecl sub_10015D20(char a1, void *a2)
{
  memset(a2, 0, 0x2890u);
  return sub_10003FD0((a1 != 36) + 6534, (int)a2, 10384) == 0;
}

//----- (10015D60) --------------------------------------------------------
signed int __usercall sub_10015D60@<eax>(char a1@<al>)
{
  return a1 != 36 ? 0x20000 : 0x10000;
}

//----- (10015D80) --------------------------------------------------------
bool __cdecl sub_10015D80(char a1, void *a2)
{
  int v2; // esi@1
  bool result; // al@5
  void *v4; // ecx@6
  int v5; // [sp+Ch] [bp-28h]@4
  char v6; // [sp+10h] [bp-24h]@2
  int v7; // [sp+24h] [bp-10h]@3
  __int16 v8; // [sp+28h] [bp-Ch]@8
  int v9; // [sp+2Ch] [bp-8h]@8

  v2 = sub_10015D60(a1);
  if ( (v2 & j_HWM_pvg_hsdb_get_lrus_online()) == v2
    && sub_1000B380(1, 0x6ACu, (int)&v6)
    && v7 == v2
    && sub_1000B9E0(1, 1708, a2, (int)&v5) )
  {
    result = 1;
  }
  else if ( j_HWM_pvg_read_reg(1) == 1 )
  {
    result = sub_10015D20(a1, a2);
  }
  else
  {
    v9 = sub_10005E60(v4);
    v8 = 1708;
    sub_1000B4E0(1, 0, &v8, 0, 8, 1);
    sub_1000B620(1, 0, v2);
    result = 0;
  }
  return result;
}
// 10004B40: using guessed type int j_HWM_pvg_hsdb_get_lrus_online(void);
// 10004B60: using guessed type int __cdecl j_HWM_pvg_read_reg(_DWORD);

//----- (10015E70) --------------------------------------------------------
bool __cdecl sub_10015E70(char a1, char a2, int a3, int a4, void *a5)
{
  bool result; // al@2

  if ( a2 )
    result = sub_10015D20(a1, a5);
  else
    result = sub_10015D80(a1, a5);
  return result;
}

//----- (10015EA0) --------------------------------------------------------
BOOL __cdecl sub_10015EA0(unsigned __int8 a1)
{
  return a1 <= 1u;
}

//----- (10015EB0) --------------------------------------------------------
BOOL __usercall sub_10015EB0@<eax>(unsigned __int8 a1@<al>, char a2)
{
  _BYTE *v2; // ecx@1

  return (unsigned __int8)sub_10015EA0(a1) && *v2 < 3u && a2 == 24;
}

//----- (10015EE0) --------------------------------------------------------
bool __cdecl sub_10015EE0(char a1, char a2, unsigned __int8 a3, int a4)
{
  bool v4; // bl@1
  unsigned __int8 v5; // cl@2
  int v6; // esi@3
  char v8; // al@16
  char v9; // cl@16
  char v10; // dl@16
  int v11; // ecx@18
  int v12; // edx@18
  int v13; // eax@18
  char v14; // [sp+Bh] [bp-29h]@3
  int v15; // [sp+Ch] [bp-28h]@9
  struct tm Tm; // [sp+10h] [bp-24h]@5

  v4 = 0;
  if ( a3 < 3u )
  {
    if ( (unsigned __int8)sub_10015EA0(a1) )
    {
      v6 = 10 * v5;
      if ( sub_10015AE0((unsigned __int8)byte_10072AB0[20 * v5], (bool *)&v14) )
      {
        if ( v14 )
        {
          if ( !sub_1000B9B0(1, (unsigned __int16)word_10072AA8[v6], &Tm.tm_mon) || sub_10009A20((int)&Tm.tm_mon) )
            return 0;
          v4 = 1;
        }
        else
        {
          if ( !(unsigned __int8)sub_10015200(a1, &v15) || v15 != dword_10072AC8[2 * a3] || a2 == 11 )
            return v4;
          Tm.tm_sec = 0;
          Tm.tm_min = 0;
          Tm.tm_hour = 0;
          LOBYTE(Tm.tm_mday) = 0;
          v4 = sub_1000B9B0(1, (unsigned __int16)word_10072AAC[v6], &Tm) && !_mkgmtime(&Tm);
          v8 = BYTE1(Tm.tm_hour);
          v9 = BYTE2(Tm.tm_min);
          *((_BYTE *)&Tm.tm_mon + 4 * a3) = Tm.tm_min;
          v10 = BYTE2(Tm.tm_hour);
          *((_BYTE *)&Tm.tm_mon + 4 * a3 + 2) = v8;
          *((_BYTE *)&Tm.tm_mon + 4 * a3 + 1) = v9;
          *((_BYTE *)&Tm.tm_mon + 4 * a3 + 3) = v10;
          if ( !v4 )
            return v4;
        }
        if ( a2 == 11 )
        {
          v11 = Tm.tm_year;
          v12 = Tm.tm_wday;
          *(_DWORD *)a4 = Tm.tm_mon;
          v13 = Tm.tm_yday;
          *(_DWORD *)(a4 + 4) = v11;
          *(_DWORD *)(a4 + 8) = v12;
          *(_DWORD *)(a4 + 12) = v13;
          return v4;
        }
        *(_DWORD *)a4 = *(&Tm.tm_mon + a3);
      }
    }
  }
  return v4;
}
// 10072AA8: using guessed type __int16 word_10072AA8[];
// 10072AAC: using guessed type __int16 word_10072AAC[];
// 10072AC8: using guessed type int dword_10072AC8[];

//----- (10016090) --------------------------------------------------------
bool __cdecl sub_10016090(unsigned __int8 a1, int a2)
{
  bool v2; // dl@1
  unsigned __int8 v3; // cl@1
  bool result; // al@2

  if ( (unsigned __int8)sub_10015EA0(a1) )
    result = sub_10003FD0((unsigned __int16)word_10072AB2[10 * v3], a2, 32) == 0;
  else
    result = v2;
  return result;
}
// 10072AB2: using guessed type __int16 word_10072AB2[];

//----- (100160D0) --------------------------------------------------------
bool __cdecl sub_100160D0(char a1, char a2, char a3, unsigned __int8 *a4, _DWORD *a5, int a6)
{
  unsigned __int8 v6; // dl@1
  bool result; // al@4
  char v8; // [sp+13h] [bp-29h]@5
  unsigned int v9; // [sp+14h] [bp-28h]@1
  char v10; // [sp+18h] [bp-24h]@7
  int v11[7]; // [sp+1Ch] [bp-20h]@8

  LOBYTE(v9) = sub_10015150(a1);
  if ( !(unsigned __int8)sub_10015EB0(v9, a3) || a6 != 4 )
    goto LABEL_12;
  if ( !a2 )
    return sub_10015EE0(v9, a3, *a4, (int)a5);
  if ( sub_10015AE0((unsigned __int8)byte_10072AB0[20 * v6], (bool *)&v8) && v8 && sub_10016090(v9, (int)&v10) )
  {
    *a5 = v11[*a4];
    result = 1;
  }
  else
  {
LABEL_12:
    result = 0;
  }
  return result;
}
// 100160D0: using guessed type int var_20[7];

//----- (100161C0) --------------------------------------------------------
char __cdecl sub_100161C0(char a1, unsigned __int8 a2, int a3)
{
  int v3; // eax@3
  char v4; // dl@3

  memset(byte_10143310, 0, 0x890u);
  if ( (unsigned __int8)a1 >= 3u || (unsigned __int8)(a2 - 16) > 0x27u )
  {
    sub_10004310("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 215, 0, 0);
  }
  else
  {
    sub_1000BC90(a1, (int)byte_10143310);
    v3 = 4 * a2 - 64;
    v4 = byte_10143311[v3];
    *(_BYTE *)(a3 + 1) = v4;
    *(_BYTE *)a3 = byte_10143310[v3];
    if ( (unsigned __int8)v4 < 0x23u
      || (unsigned __int8)v4 >= 0x64u && (unsigned __int8)v4 <= 0x81u
      || (unsigned __int8)v4 >= 0x96u && (unsigned __int8)v4 <= 0x9Bu )
    {
      return 1;
    }
  }
  return 0;
}

//----- (10016260) --------------------------------------------------------
bool __cdecl sub_10016260(char a1, unsigned __int8 a2, int a3)
{
  char *v3; // eax@3
  bool result; // al@3

  memset(byte_10143310, 0, 0x890u);
  if ( (unsigned __int8)a1 >= 3u || a2 >= 0x2Du )
  {
    sub_10004310("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 340, 0, 0);
    result = 0;
  }
  else
  {
    sub_1000BC90(a1, (int)byte_10143310);
    v3 = (char *)&unk_101433B0 + 16 * a2;
    *(_DWORD *)a3 = *(_DWORD *)v3;
    *(_DWORD *)(a3 + 4) = *((_DWORD *)v3 + 1);
    *(_DWORD *)(a3 + 8) = *((_DWORD *)v3 + 2);
    *(_DWORD *)(a3 + 12) = *((_DWORD *)v3 + 3);
    result = *(_WORD *)(a3 + 2) < 0x319u;
  }
  return result;
}

//----- (100162E0) --------------------------------------------------------
char __cdecl sub_100162E0(char a1, unsigned __int8 a2, int a3)
{
  char result; // al@2

  memset(byte_10143310, 0, 0x890u);
  sub_1000BC90(a1, (int)byte_10143310);
  if ( a2 > 0x10u )
  {
    sub_10004310("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 512, 0, 0);
    result = 0;
  }
  else
  {
    *(_DWORD *)a3 = dword_10143680[2 * a2];
    *(_DWORD *)(a3 + 4) = dword_10143684[2 * a2];
    result = 1;
  }
  return result;
}
// 10143680: using guessed type int dword_10143680[];
// 10143684: using guessed type int dword_10143684[];

//----- (10016350) --------------------------------------------------------
char __cdecl sub_10016350(char a1, void *a2)
{
  char result; // al@4

  if ( a1 )
  {
    if ( a1 == 1 )
    {
      result = sub_1000B9B0(0, 227, a2);
    }
    else if ( a1 == 2 )
    {
      result = sub_1000B9B0(0, 572, a2);
    }
    else
    {
      sub_10004310("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 991, 0, 0);
      result = 0;
    }
  }
  else
  {
    result = sub_1000B9B0(0, 226, a2);
  }
  return result;
}

//----- (100163D0) --------------------------------------------------------
char __cdecl sub_100163D0(unsigned __int8 a1, unsigned __int8 a2, int a3)
{
  char result; // al@3
  int v4; // ecx@3

  memset(byte_10143310, 0, 0x890u);
  if ( a1 >= 3u || (unsigned __int8)(a2 - 16) > 0x27u )
  {
    sub_10004310("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 153, 0, 0);
    result = 0;
  }
  else
  {
    result = sub_10016350(a1, byte_10143310);
    v4 = 4 * a2 - 64;
    *(_BYTE *)(a3 + 1) = byte_10143311[v4];
    *(_BYTE *)a3 = byte_10143310[v4];
  }
  return result;
}

//----- (10016450) --------------------------------------------------------
char __cdecl sub_10016450(unsigned __int8 a1, unsigned __int8 a2, int a3)
{
  char result; // al@3
  char *v4; // ecx@3

  memset(byte_10143310, 0, 0x890u);
  if ( a1 >= 3u || a2 >= 0x2Du )
  {
    sub_10004310("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 280, 0, 0);
    result = 0;
  }
  else
  {
    result = sub_10016350(a1, byte_10143310);
    v4 = (char *)&unk_101433B0 + 16 * a2;
    *(_DWORD *)a3 = *(_DWORD *)v4;
    *(_DWORD *)(a3 + 4) = *((_DWORD *)v4 + 1);
    *(_DWORD *)(a3 + 8) = *((_DWORD *)v4 + 2);
    *(_DWORD *)(a3 + 12) = *((_DWORD *)v4 + 3);
  }
  return result;
}

//----- (100164D0) --------------------------------------------------------
char __cdecl sub_100164D0(char a1, unsigned __int8 a2, int a3)
{
  char result; // al@2

  memset(byte_10143310, 0, 0x890u);
  if ( a2 <= 0x10u )
  {
    result = sub_10016350(a1, byte_10143310);
    *(_DWORD *)a3 = dword_10143680[2 * a2];
    *(_DWORD *)(a3 + 4) = dword_10143684[2 * a2];
  }
  else
  {
    sub_10004310("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 445, 0, 0);
    result = 0;
  }
  return result;
}
// 10143680: using guessed type int dword_10143680[];
// 10143684: using guessed type int dword_10143684[];

//----- (10016540) --------------------------------------------------------
char __cdecl sub_10016540(char a1, char a2, char a3, unsigned __int8 *a4, int a5)
{
  char result; // al@6
  char v6; // [sp+0h] [bp-4h]@1

  v6 = sub_10017500(a1);
  if ( v6 == 3 )
    return 0;
  if ( a3 == 1 )
  {
    if ( a2 )
      result = sub_100162E0(v6, *a4, a5);
    else
      result = sub_100164D0(v6, *a4, a5);
  }
  else if ( a3 == 2 )
  {
    if ( a2 )
      result = sub_100161C0(v6, *a4, a5);
    else
      result = sub_100163D0(v6, *a4, a5);
  }
  else
  {
    if ( a3 != 3 )
    {
      sub_10004310("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 915, 0, 0);
      return 0;
    }
    if ( a2 )
      result = sub_10016260(v6, *a4, a5);
    else
      result = sub_10016450(v6, *a4, a5);
  }
  return result;
}

//----- (10016650) --------------------------------------------------------
char __cdecl sub_10016650(char a1, void *a2)
{
  return sub_1000B9B0(6, (unsigned __int16)word_100735F2[8 * (unsigned __int8)a1], a2);
}
// 100735F2: using guessed type __int16 word_100735F2[];

//----- (10016670) --------------------------------------------------------
bool __cdecl sub_10016670(unsigned __int8 a1, char *a2)
{
  int v2; // eax@1
  char v4; // [sp+8h] [bp-30h]@1

  v2 = sub_10003FD0(dword_100735F8[4 * a1], (int)&v4, 48);
  qmemcpy(a2, &v4, 0x2Cu);
  return v2 == 0;
}
// 100735F8: using guessed type int dword_100735F8[];

//----- (100166B0) --------------------------------------------------------
char __cdecl sub_100166B0(int a1, char a2, int a3, int a4, void *a5)
{
  char result; // al@2
  char v6; // [sp+0h] [bp-4h]@1

  v6 = sub_10017540(a1);
  if ( a2 )
    result = sub_10016670(v6, (char *)a5);
  else
    result = sub_10016650(v6, a5);
  return result;
}

//----- (100166F0) --------------------------------------------------------
BOOL sub_100166F0()
{
  char v1; // [sp+0h] [bp-78h]@1

  return sub_10015A20(69, &v1) && !strncmp(&v1, "006-B0756-", 0xAu);
}

//----- (10016750) --------------------------------------------------------
char __cdecl sub_10016750(int a1, char *a2)
{
  char result; // al@5
  char v3; // [sp+13h] [bp-7Dh]@1
  char v4; // [sp+14h] [bp-7Ch]@1
  char v5; // [sp+15h] [bp-7Bh]@2
  int v6; // [sp+30h] [bp-60h]@2
  int v7; // [sp+34h] [bp-5Ch]@2
  int v8; // [sp+38h] [bp-58h]@2
  int v9; // [sp+3Ch] [bp-54h]@2
  int v10; // [sp+40h] [bp-50h]@2
  __int16 v11; // [sp+44h] [bp-4Ch]@2
  char v12; // [sp+46h] [bp-4Ah]@2
  char v13; // [sp+47h] [bp-49h]@2
  float v14; // [sp+48h] [bp-48h]@2
  char v15; // [sp+4Ch] [bp-44h]@2
  char v16; // [sp+4Dh] [bp-43h]@2
  char v17; // [sp+4Eh] [bp-42h]@2
  char v18; // [sp+50h] [bp-40h]@1

  memset(&v18, 0, 0x3Cu);
  v3 = sub_1000B9B0(1, 292, &v18);
  qmemcpy(&v4, &v18, 0x3Cu);
  if ( !(unsigned __int8)sub_100166F0() )
  {
    v6 = -1;
    v14 = 77.166664;
    v7 = -1;
    v8 = -1;
    v9 = -1;
    v5 = 1;
    v12 = 0;
    v13 = 1;
    v4 = 0;
    v15 = 0;
    v16 = 0;
    v17 = 0;
    v10 = 0;
    v11 = 0;
  }
  if ( !v3 || sub_10009750((int)&v4) )
  {
    result = 0;
  }
  else
  {
    result = 1;
    qmemcpy(a2, &v18, 0x3Cu);
  }
  return result;
}

//----- (10016840) --------------------------------------------------------
BOOL __cdecl sub_10016840(int a1, int a2)
{
  return sub_10003FD0(6200, a2, 60) == 0;
}

//----- (10016860) --------------------------------------------------------
char __cdecl sub_10016860(int a1, char a2, int a3, int a4, char *a5)
{
  char result; // al@1

  result = 0;
  if ( a2 )
  {
    if ( a2 == 1 )
      result = sub_10016840(a1, (int)a5);
  }
  else
  {
    result = sub_10016750(a1, a5);
  }
  return result;
}

//----- (100168A0) --------------------------------------------------------
char __cdecl sub_100168A0(int a1, int a2)
{
  int v2; // ecx@3
  int v3; // edx@3
  int v4; // ecx@3
  char result; // al@3
  int v6; // [sp+4h] [bp-1Ch]@1
  int v7; // [sp+8h] [bp-18h]@1
  int v8; // [sp+Ch] [bp-14h]@1
  int v9; // [sp+10h] [bp-10h]@1
  int v10; // [sp+14h] [bp-Ch]@1
  __int16 v11; // [sp+18h] [bp-8h]@1
  char v12; // [sp+1Ah] [bp-6h]@1

  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  if ( !sub_1000B9B0(2, 284, &v6) || sub_10009920((int)&v6) )
  {
    result = 0;
  }
  else
  {
    v2 = v8;
    *(_DWORD *)a2 = v7;
    v3 = v9;
    *(_DWORD *)(a2 + 4) = v2;
    v4 = v10;
    *(_DWORD *)(a2 + 8) = v3;
    LOWORD(v3) = v11;
    *(_DWORD *)(a2 + 12) = v4;
    LOBYTE(v4) = v12;
    *(_WORD *)(a2 + 16) = v3;
    *(_BYTE *)(a2 + 18) = v4;
    result = 1;
  }
  return result;
}

//----- (10016950) --------------------------------------------------------
BOOL __cdecl sub_10016950(int a1, int a2)
{
  return sub_10003FD0(6169, a2, 40) == 0;
}

//----- (10016970) --------------------------------------------------------
char __cdecl sub_10016970(int a1, char a2, int a3, int a4, int a5)
{
  char result; // al@1

  result = 0;
  if ( a2 )
  {
    if ( a2 == 1 )
      result = sub_10016950(a1, a5);
  }
  else
  {
    result = sub_100168A0(a1, a5);
  }
  return result;
}

//----- (100169B0) --------------------------------------------------------
char __cdecl sub_100169B0(void *a1)
{
  *(_DWORD *)a1 = 0;
  return sub_1000B9B0(2, 363, a1);
}

//----- (100169D0) --------------------------------------------------------
char __cdecl sub_100169D0(void *a1)
{
  int v1; // edx@2
  int v2; // eax@2
  int v3; // ecx@2
  int v4; // eax@2
  int v5; // ecx@2
  void *v6; // esi@2
  signed int v7; // edi@2
  char *v8; // eax@4
  signed int v9; // edx@4
  char result; // al@6
  char v11; // [sp+8h] [bp-208h]@1
  int v12; // [sp+47h] [bp-1C9h]@2
  int v13; // [sp+4Bh] [bp-1C5h]@2
  int v14; // [sp+4Fh] [bp-1C1h]@2
  int v15; // [sp+53h] [bp-1BDh]@2
  int v16; // [sp+58h] [bp-1B8h]@2
  int v17; // [sp+5Ch] [bp-1B4h]@2
  __int16 v18; // [sp+60h] [bp-1B0h]@2
  char v19; // [sp+62h] [bp-1AEh]@2
  char v20; // [sp+B6h] [bp-15Ah]@2
  char v21; // [sp+F6h] [bp-11Ah]@2

  *(_DWORD *)a1 = 0;
  if ( sub_10003FD0(6444, (int)&v11, 514) )
  {
    result = 0;
  }
  else
  {
    v1 = v13;
    v2 = v14;
    *((_DWORD *)a1 + 3330) = v12;
    v3 = v15;
    *((_DWORD *)a1 + 3331) = v1;
    LOWORD(v1) = v18;
    *((_DWORD *)a1 + 3332) = v2;
    v4 = v16;
    *((_DWORD *)a1 + 3333) = v3;
    qmemcpy((char *)a1 + 13340, &v19, 0x54u);
    v5 = v17;
    *((_WORD *)a1 + 6668) = v1;
    LOBYTE(v1) = v21;
    *((_DWORD *)a1 + 3009) = v5;
    qmemcpy((char *)a1 + 13424, &v20, 0x40u);
    *((_DWORD *)a1 + 3008) = v4;
    *((_BYTE *)a1 + 13488) = v1 & 2;
    v6 = a1;
    v7 = 32;
    do
    {
      memset(v6, 0, 0x38u);
      *((_DWORD *)v6 + 9) = 2048;
      v6 = (char *)v6 + 56;
      --v7;
    }
    while ( v7 );
    v8 = (char *)a1 + 1799;
    v9 = 512;
    do
    {
      *(_DWORD *)(v8 - 7) = 0;
      *(_DWORD *)(v8 - 3) = 0;
      *(_DWORD *)(v8 + 1) = 0;
      *(_DWORD *)(v8 + 5) = 0;
      *(_DWORD *)(v8 + 9) = 0;
      *v8 = -1;
      v8 += 20;
      --v9;
    }
    while ( v9 );
    result = 1;
  }
  return result;
}

//----- (10016B20) --------------------------------------------------------
char __cdecl sub_10016B20(int a1, char a2, char a3, int a4, void *a5, size_t a6)
{
  char result; // al@3
  char v7; // al@6
  char v8; // bl@8
  char v9; // al@10
  char v10; // bl@12
  char v11; // al@14
  char v12; // bl@16
  char v13; // al@18
  char v14; // bl@20

  switch ( a3 )
  {
    case 0x18:
      if ( a2 )
        result = sub_100169D0(a5);
      else
        result = sub_100169B0(a5);
      break;
    case 0x19:
      if ( a2 )
        v7 = sub_100169D0(&unk_10143BA0);
      else
        v7 = sub_100169B0(&unk_10143BA0);
      v8 = v7;
      memcpy_0(a5, (char *)&unk_10143BA0 + 56 * *(_BYTE *)a4, a6);
      result = v8;
      break;
    case 0x1A:
      if ( a2 )
        v9 = sub_100169D0(&unk_10143BA0);
      else
        v9 = sub_100169B0(&unk_10143BA0);
      v10 = v9;
      memcpy_0(a5, (char *)&unk_10146AA8 + 40 * *(_BYTE *)a4, a6);
      result = v10;
      break;
    case 0x1B:
      if ( a2 )
        v11 = sub_100169D0(&unk_10143BA0);
      else
        v11 = sub_100169B0(&unk_10143BA0);
      v12 = v11;
      memcpy_0(a5, (char *)&unk_10146FA8 + *(_BYTE *)a4, a6);
      result = v12;
      break;
    case 0x2B:
      if ( a2 )
        v13 = sub_100169D0(&unk_10143BA0);
      else
        v13 = sub_100169B0(&unk_10143BA0);
      v14 = v13;
      memcpy_0(a5, &unk_10147050, a6);
      result = v14;
      break;
    default:
      sub_10004310("..\\lib\\acl\\iop\\gdl59\\iop_gdl59_cnfg_intf.c", 709, 0, 0);
      result = 0;
      break;
  }
  return result;
}

//----- (10016CC0) --------------------------------------------------------
char __cdecl sub_10016CC0(char a1)
{
  char result; // al@3

  if ( a1 == 15 )
  {
    result = 0;
  }
  else if ( a1 == 16 )
  {
    result = 1;
  }
  else
  {
    sub_10004310("..\\lib\\acl\\iop\\iop_adc_intf.c", 178, 0, 0);
    result = 0;
  }
  return result;
}

//----- (10016D00) --------------------------------------------------------
__int16 __usercall sub_10016D00@<ax>(unsigned __int8 a1@<al>)
{
  return word_100761A8[a1];
}
// 100761A8: using guessed type __int16 word_100761A8[];

//----- (10016D10) --------------------------------------------------------
char __cdecl sub_10016D10(unsigned __int8 a1, char *a2)
{
  int v2; // eax@2
  char result; // al@5
  int v4; // [sp+4h] [bp-150h]@2
  char v5; // [sp+8h] [bp-14Ch]@1
  char v6; // [sp+9h] [bp-14Bh]@3
  char v7; // [sp+Ch] [bp-148h]@5

  memset(&v5, 0, 0x148u);
  if ( a1 >= 2u )
  {
    result = 0;
  }
  else
  {
    LOWORD(v2) = sub_10016D00(a1);
    if ( sub_1000B9E0(0, v2, &v5, (int)&v4) && v6 == 3 && (unsigned int)(unsigned __int16)v4 - 4 >= 0xA0 )
    {
      qmemcpy(a2, &v7, 0xA0u);
      result = 1;
    }
    else
    {
      result = 0;
    }
  }
  return result;
}

//----- (10016DE0) --------------------------------------------------------
char __cdecl sub_10016DE0(char a1, char a2, char a3, int a4, char *a5, unsigned int a6)
{
  char result; // al@3
  unsigned __int8 v7; // [sp+4h] [bp-4h]@1

  v7 = sub_10016CC0(a1);
  if ( a3 != 11 )
  {
    sub_10004310("..\\lib\\acl\\iop\\iop_adc_intf.c", 564, 0, 0);
    return 0;
  }
  if ( a6 >= 0xA0 )
  {
    if ( a2 )
      return 0;
    result = sub_10016D10(v7, a5);
  }
  else
  {
    sub_10004310("..\\lib\\acl\\iop\\iop_adc_intf.c", 551, 0, 0);
    result = 0;
  }
  return result;
}

//----- (10016E60) --------------------------------------------------------
char __cdecl sub_10016E60(char a1, char a2, char a3, int a4, void *a5)
{
  char result; // al@3
  char v6; // [sp+0h] [bp-4h]@1

  v6 = sub_100178E0(a1);
  switch ( a3 )
  {
    case 5:
      if ( a2 != 1 )
        goto LABEL_10;
      sub_100176E0(v6, *(_BYTE *)a4, *(_BYTE *)(a4 + 1), *(_BYTE *)(a4 + 2), a5);
      result = 1;
      break;
    case 4:
      if ( a2 != 1 )
        goto LABEL_10;
      sub_10017760(v6, *(_BYTE *)a4, *(_BYTE *)(a4 + 1), *(_BYTE *)(a4 + 2), a5);
      result = 1;
      break;
    case 0xA:
      if ( a2 != 1 )
        goto LABEL_10;
      sub_100177E0(v6, *(_BYTE *)a4, *(_BYTE *)(a4 + 1), *(_BYTE *)(a4 + 2), a5);
      result = 1;
      break;
    case 3:
      if ( a2 != 1 )
        goto LABEL_10;
      result = sub_10017860(v6, *(_BYTE *)a4, *(_BYTE *)(a4 + 1), *(_BYTE *)(a4 + 2), a5);
      break;
    default:
LABEL_10:
      result = 0;
      break;
  }
  return result;
}

//----- (10016F70) --------------------------------------------------------
int __cdecl sub_10016F70(char a1)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = sub_10005850(&a1, 1u, (int)&unk_100769E0, 8, 4, 4);
  if ( v1 == 4 )
  {
    sub_10004310("..\\lib\\acl\\iop\\gea\\iop_gea_cnfg_intf.c", 437, 0, 0);
    result = 42066;
  }
  else
  {
    result = dword_100769E4[2 * v1];
  }
  return result;
}
// 100769E4: using guessed type int dword_100769E4[];

//----- (10016FC0) --------------------------------------------------------
char __cdecl sub_10016FC0(unsigned __int16 a1, char *a2, char a3)
{
  char result; // al@4
  char v4; // al@5
  int v5; // [sp+0h] [bp-28h]@1
  int v6; // [sp+4h] [bp-24h]@1
  int v7; // [sp+8h] [bp-20h]@1
  int v8; // [sp+Ch] [bp-1Ch]@1
  int v9; // [sp+10h] [bp-18h]@1
  int v10; // [sp+14h] [bp-14h]@1
  int v11; // [sp+18h] [bp-10h]@1
  int v12; // [sp+1Ch] [bp-Ch]@1
  int v13; // [sp+20h] [bp-8h]@1
  int v14; // [sp+24h] [bp-4h]@1

  v5 = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  if ( (_BYTE)a1 )
  {
    if ( (unsigned __int8)a1 != 1 )
    {
      sub_10004310("..\\lib\\acl\\iop\\gma\\iop_gma_cnfg_intf.c", 188, 0, 0);
      return 0;
    }
    v4 = sub_1000B9E0(1, 555, &v5, (int)&a1);
  }
  else
  {
    v4 = sub_1000B9E0(1, 550, &v5, (int)&a1);
  }
  if ( !v4 )
    return 0;
  if ( sub_10009E00((int)&v5) )
    return 0;
  result = 1;
  if ( !BYTE1(v14) || (unsigned int)a1 - 4 < 0x20 )
    return 0;
  if ( a3 )
  {
    if ( BYTE1(v5) == 26 )
    {
      qmemcpy(a2, (char *)&v6 + 1, 0x20u);
      qmemcpy(&unk_10147078, (char *)&v6 + 1, 0x20u);
      byte_10147070 = 1;
      byte_10147071 = 0;
      return result;
    }
  }
  else if ( BYTE1(v5) == 12 )
  {
    qmemcpy(a2, (char *)&v6 + 1, 0x20u);
    qmemcpy(&unk_10147098, (char *)&v6 + 1, 0x20u);
    byte_10147071 = 1;
    byte_10147072 = 1;
    return result;
  }
  return 0;
}
// 10147070: using guessed type char byte_10147070;
// 10147071: using guessed type char byte_10147071;
// 10147072: using guessed type char byte_10147072;

//----- (100170F0) --------------------------------------------------------
char __cdecl sub_100170F0(char a1, int a2)
{
  char result; // al@3
  char v3; // [sp+4h] [bp-44h]@1
  char v4; // [sp+8h] [bp-40h]@3
  char v5; // [sp+28h] [bp-20h]@3

  memset(&v3, 0, 0x44u);
  if ( (unsigned __int8)a1 < 2u && a2 )
  {
    result = sub_1000BC40(a1, (int)&v3);
    qmemcpy((void *)a2, &v4, 0x20u);
    qmemcpy((void *)(a2 + 32), &v5, 0x20u);
  }
  else
  {
    result = sub_10004310("..\\lib\\acl\\iop\\gma\\iop_gma_cnfg_intf.c", 570, 0, 0);
  }
  return result;
}

//----- (10017170) --------------------------------------------------------
bool __cdecl sub_10017170(void *a1)
{
  bool v1; // zf@2
  bool result; // al@4

  if ( a1 )
  {
    v1 = byte_10147070 == 0;
    qmemcpy(a1, &unk_10147078, 0x40u);
    result = !v1 && byte_10147072;
  }
  else
  {
    sub_10004310("..\\lib\\acl\\iop\\gma\\iop_gma_cnfg_intf.c", 617, 0, 0);
    result = 0;
  }
  return result;
}
// 10147070: using guessed type char byte_10147070;
// 10147072: using guessed type char byte_10147072;

//----- (100171C0) --------------------------------------------------------
char __cdecl sub_100171C0(char a1, int a2)
{
  char result; // al@4
  int v3; // edx@5
  const void *v4; // esi@8
  int v5; // [sp+0h] [bp-28h]@1
  int v6; // [sp+4h] [bp-24h]@1
  int v7; // [sp+8h] [bp-20h]@1
  int v8; // [sp+Ch] [bp-1Ch]@1
  int v9; // [sp+10h] [bp-18h]@1
  int v10; // [sp+14h] [bp-14h]@1
  int v11; // [sp+18h] [bp-10h]@1
  int v12; // [sp+1Ch] [bp-Ch]@1
  int v13; // [sp+20h] [bp-8h]@1
  int v14; // [sp+24h] [bp-4h]@1

  v5 = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  if ( j_HWM_pvg_read_reg(1) != 1 )
    sub_10004310("..\\lib\\acl\\iop\\gma\\iop_gma_cnfg_intf.c", 857, 1, 0);
  if ( a1 )
  {
    result = a1 - 1;
    if ( a1 != 1 )
      return result;
    result = sub_10005FD0(15);
    v3 = 555;
  }
  else
  {
    result = sub_10005FD0(8);
    v3 = 550;
  }
  if ( result )
  {
    v4 = (const void *)a2;
    LOBYTE(v5) = 12;
    BYTE1(v14) = 1;
    LOBYTE(v6) = 32;
    HIWORD(v5) = 34;
    if ( byte_10147071 )
    {
      BYTE1(v5) = 26;
    }
    else
    {
      BYTE1(v5) = 12;
      v4 = (const void *)(a2 + 32);
    }
    qmemcpy((char *)&v6 + 1, v4, 0x20u);
    result = sub_1000B4E0(1, v3, &v5, 1, 38, 1);
  }
  return result;
}
// 10004B60: using guessed type int __cdecl j_HWM_pvg_read_reg(_DWORD);
// 10147071: using guessed type char byte_10147071;

//----- (100172A0) --------------------------------------------------------
__int16 __usercall sub_100172A0@<ax>(unsigned __int8 a1@<al>)
{
  return word_10076B08[a1];
}
// 10076B08: using guessed type __int16 word_10076B08[];

//----- (100172B0) --------------------------------------------------------
char __cdecl sub_100172B0(unsigned __int8 a1, int *a2, const void *a3)
{
  int v3; // ebx@1
  int v5; // [sp+Ch] [bp-28h]@1
  int v6; // [sp+10h] [bp-24h]@1
  int v7; // [sp+14h] [bp-20h]@1
  int v8; // [sp+18h] [bp-1Ch]@1
  int v9; // [sp+1Ch] [bp-18h]@1
  int v10; // [sp+20h] [bp-14h]@1
  int v11; // [sp+24h] [bp-10h]@1
  int v12; // [sp+28h] [bp-Ch]@1
  int v13; // [sp+2Ch] [bp-8h]@1
  int v14; // [sp+30h] [bp-4h]@1

  v5 = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  v3 = (unsigned __int16)sub_100172A0(a1);
  v5 = *a2;
  qmemcpy(&v6, a3, 0x24u);
  sub_1000B4E0(1, v3, &v5, 1, HIWORD(v5) + 4, 1);
  return sub_1000B620(1, v3, 0xFFFFFFF);
}

//----- (10017340) --------------------------------------------------------
char __cdecl sub_10017340(unsigned __int8 a1, char a2)
{
  int v3; // [sp+4h] [bp-28h]@1
  int v4; // [sp+8h] [bp-24h]@1
  int v5; // [sp+Ch] [bp-20h]@1
  int v6; // [sp+10h] [bp-1Ch]@1
  int v7; // [sp+14h] [bp-18h]@1
  int v8; // [sp+18h] [bp-14h]@1
  int v9; // [sp+1Ch] [bp-10h]@1
  int v10; // [sp+20h] [bp-Ch]@1
  int v11; // [sp+24h] [bp-8h]@1
  int v12; // [sp+28h] [bp-4h]@1

  v4 = 0;
  v5 = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v3 = 0;
  if ( a1 >= 2u )
  {
    sub_10004310("..\\lib\\acl\\iop\\gma\\iop_gma_cnfg_intf.c", 736, 0, 0);
  }
  else
  {
    HIWORD(v3) = 0;
    LOBYTE(v3) = 12;
    if ( a2 == 11 )
    {
      BYTE1(v3) = byte_10147071 != 0 ? 25 : 11;
      sub_100172B0(a1, &v3, &v4);
      return 1;
    }
    if ( a2 == 17 )
    {
      LOWORD(v3) = 10042;
      sub_100172B0(a1, &v3, &v4);
      return 1;
    }
  }
  return 0;
}
// 10147071: using guessed type char byte_10147071;

//----- (10017400) --------------------------------------------------------
bool __cdecl sub_10017400(__int16 a1, char a2, int a3, int a4, void *a5)
{
  char v6; // [sp+4h] [bp-40h]@8
  char v7; // [sp+24h] [bp-20h]@11

  if ( (unsigned __int8)a1 == 8 )
  {
    LOBYTE(a1) = 0;
  }
  else
  {
    if ( (unsigned __int8)a1 != 9 )
      return 0;
    LOBYTE(a1) = 1;
  }
  if ( a2 == 1 )
  {
    sub_100170F0(a1, (int)a5);
    return 1;
  }
  if ( byte_10147071 )
  {
    if ( sub_10016FC0(a1, &v6, 1) )
    {
LABEL_14:
      byte_10147073 = 0;
      goto LABEL_15;
    }
    if ( (unsigned __int8)++byte_10147073 >= 5u )
    {
      byte_10147070 = 0;
      goto LABEL_14;
    }
  }
  else
  {
    if ( sub_10016FC0(a1, &v7, 0) )
      goto LABEL_14;
    if ( (unsigned __int8)++byte_10147073 >= 5u )
    {
      byte_10147072 = 0;
      goto LABEL_14;
    }
  }
LABEL_15:
  if ( j_HWM_pvg_read_reg(1) == 1 )
  {
    sub_100170F0(a1, (int)&v6);
    sub_100171C0(a1, (int)&v6);
  }
  sub_10017340(a1, 11);
  return sub_10017170(a5);
}
// 10004B60: using guessed type int __cdecl j_HWM_pvg_read_reg(_DWORD);
// 10147070: using guessed type char byte_10147070;
// 10147071: using guessed type char byte_10147071;
// 10147072: using guessed type char byte_10147072;
// 10147073: using guessed type char byte_10147073;

//----- (10017500) --------------------------------------------------------
char __cdecl sub_10017500(char a1)
{
  char result; // al@4

  switch ( a1 )
  {
    case 25:
      result = 0;
      break;
    case 26:
      result = 1;
      break;
    case 43:
      result = 2;
      break;
    default:
      sub_10004310("..\\lib\\acl\\iop\\gsd\\iop_gsd_data_intf.c", 169, 0, 0);
      result = 3;
      break;
  }
  return result;
}

//----- (10017540) --------------------------------------------------------
char __cdecl sub_10017540(char a1)
{
  char result; // al@3

  if ( a1 == 20 )
  {
    result = 0;
  }
  else if ( a1 == 21 )
  {
    result = 2;
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (10017560) --------------------------------------------------------
int __cdecl sub_10017560(char a1, char a2)
{
  int v2; // esi@1
  int result; // eax@4

  v2 = dword_1007913C[2 * sub_10005850(&a1, 1u, (int)&unk_10079138, 8, 3, 3)];
  if ( a1 )
  {
    if ( a1 == 1 )
    {
      result = v2 + dword_1007917C[2 * sub_10005850(&a2, 1u, (int)&unk_10079178, 8, 6, 6)];
    }
    else if ( a1 == 2 )
    {
      result = v2 + dword_100791AC[2 * sub_10005850(&a2, 1u, (int)&unk_100791A8, 8, 5, 5)];
    }
    else
    {
      result = v2;
    }
  }
  else
  {
    result = v2 + dword_10079154[2 * sub_10005850(&a2, 1u, (int)&unk_10079150, 8, 5, 5)];
  }
  return result;
}
// 1007913C: using guessed type int dword_1007913C[];
// 10079154: using guessed type int dword_10079154[];
// 1007917C: using guessed type int dword_1007917C[];
// 100791AC: using guessed type int dword_100791AC[];

//----- (10017610) --------------------------------------------------------
bool __usercall sub_10017610@<al>(unsigned __int8 a1@<al>, char a2, unsigned __int8 a3)
{
  return a2 == 7 && a3 >= (unsigned __int8)byte_1007D8BF[44 * a1] - (unsigned __int8)byte_1007D8BA[44 * a1];
}

//----- (10017640) --------------------------------------------------------
char __usercall sub_10017640@<al>(unsigned __int8 a1@<bl>, size_t a2@<edi>, int a3@<esi>, char a4, unsigned __int8 a5, void *a6)
{
  int v6; // eax@2
  char result; // al@3
  int v8; // eax@4

  if ( sub_10017610(a1, a4, a5) )
  {
    v6 = a3
       + sub_10017560(a1, 6)
       + 36 * (a5 + (unsigned __int8)byte_1007D8BA[44 * a1] - (unsigned __int8)byte_1007D8BF[44 * a1]);
    if ( *(_BYTE *)(v6 + 2) == 6 )
    {
      memcpy_0(a6, (const void *)(v6 + 4), a2);
      result = 1;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    v8 = sub_10017560(a1, a4);
    memcpy_0(a6, (const void *)(a3 + v8 + a2 * a5), a2);
    result = 1;
  }
  return result;
}

//----- (100176E0) --------------------------------------------------------
char __cdecl sub_100176E0(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5)
{
  int v5; // eax@1
  char v7; // [sp+Ch] [bp-E64h]@1

  memset(&v7, 0, 0xE64u);
  v5 = sub_10016F70(a1);
  sub_10003FF0(v5, (int)&v7, 3684);
  return sub_10017640(a2, 0x2Cu, (int)&v7, a3, a4, a5);
}

//----- (10017760) --------------------------------------------------------
char __cdecl sub_10017760(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5)
{
  int v5; // eax@1
  char v7; // [sp+Ch] [bp-E64h]@1

  memset(&v7, 0, 0xE64u);
  v5 = sub_10016F70(a1);
  sub_10003FF0(v5, (int)&v7, 3684);
  return sub_10017640(a2, 3u, (int)&v7, a3, a4, a5);
}

//----- (100177E0) --------------------------------------------------------
char __cdecl sub_100177E0(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5)
{
  int v5; // eax@1
  char v7; // [sp+Ch] [bp-E64h]@1

  memset(&v7, 0, 0xE64u);
  v5 = sub_10016F70(a1);
  sub_10003FF0(v5, (int)&v7, 3684);
  return sub_10017640(a2, 0x24u, (int)&v7, a3, a4, a5);
}

//----- (10017860) --------------------------------------------------------
char __cdecl sub_10017860(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5)
{
  int v5; // eax@1
  char v7; // [sp+Ch] [bp-E64h]@1

  memset(&v7, 0, 0xE64u);
  v5 = sub_10016F70(a1);
  sub_10003FF0(v5, (int)&v7, 3684);
  return sub_10017640(a2, 0xCu, (int)&v7, a3, a4, a5);
}

//----- (100178E0) --------------------------------------------------------
char __cdecl sub_100178E0(char a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 0xC:
    case 0x3F:
      result = 0;
      break;
    case 0xD:
    case 0x40:
      result = 1;
      break;
    case 0xE:
    case 0x41:
      result = 2;
      break;
    case 0x2A:
    case 0x42:
      result = 3;
      break;
    default:
      sub_10004310("..\\lib\\acl\\iop\\gea\\iop_gea_cnfg_utl.c", 139, 0, 0);
      result = 0;
      break;
  }
  return result;
}

//----- (10017980) --------------------------------------------------------
int __cdecl sub_10017980(int a1, void *a2, __int16 a3, int a4)
{
  int v5; // [sp+0h] [bp-48h]@1
  __int16 v6; // [sp+8h] [bp-40h]@1
  char v7; // [sp+Ah] [bp-3Eh]@2
  __int16 v8; // [sp+14h] [bp-34h]@3
  unsigned __int16 v9; // [sp+1Dh] [bp-2Bh]@7
  int v10; // [sp+1Fh] [bp-29h]@9
  unsigned __int16 v11; // [sp+23h] [bp-25h]@9
  unsigned __int16 i; // [sp+2Ch] [bp-1Ch]@6
  char v13; // [sp+30h] [bp-18h]@1
  int v14; // [sp+38h] [bp-10h]@10
  char v15; // [sp+40h] [bp-8h]@1
  __int16 v16; // [sp+42h] [bp-6h]@11
  __int16 v17; // [sp+44h] [bp-4h]@11

  memset(&v6, 0, 0x1Du);
  memset(&v13, 0, 0x10u);
  memset(&v15, 0, 6u);
  memset(a2, 0, 4 * (unsigned __int16)a3);
  v5 = sub_1001E100(a1, 0, &v6, 29);
  if ( v5 || !memcmp("GARMIN SRT", &v7, 0xAu) && v8 == 1 )
  {
    if ( !v5 )
    {
      for ( i = 0; i < (signed int)v9; ++i )
      {
        if ( i >= (signed int)(unsigned __int16)a3 )
          break;
        v5 = sub_1001E100(a1, v10 + v11 * i, &v13, 16);
        if ( v5 )
          break;
        v5 = sub_1001E100(a1, v14, &v15, 6);
        if ( v5 )
          break;
        *((_WORD *)a2 + 2 * i) = v16;
        *((_WORD *)a2 + 2 * i + 1) = v17;
      }
      if ( a4 )
        *(_WORD *)a4 = i;
    }
  }
  else
  {
    v5 = 1;
  }
  return v5;
}

//----- (10017B10) --------------------------------------------------------
int __cdecl sub_10017B10(int a1, char *a2)
{
  bool v3; // [sp+0h] [bp-8h]@7
  int v4; // [sp+4h] [bp-4h]@1

  memset((void *)(a1 + 588), 0, 0x40u);
  v4 = sub_1001DFB0(*(_WORD *)(a1 + 22), a1 + 588, a2);
  if ( !v4 )
    v4 = sub_10017BF0(a1 + 588, *(_WORD *)(a1 + 460), *(_WORD *)(a1 + 462) & 0x7FFF);
  if ( v4 )
  {
    v3 = *(_DWORD *)(a1 + 588) && **(_BYTE **)(a1 + 588) && *(_BYTE *)(*(_DWORD *)(a1 + 588) + 11) & 0x10;
    if ( v3 )
      sub_100241B0((int *)(a1 + 588));
  }
  return v4;
}

//----- (10017BF0) --------------------------------------------------------
int __cdecl sub_10017BF0(int a1, unsigned __int16 a2, unsigned __int16 a3)
{
  bool v4; // [sp+0h] [bp-78h]@4
  int v5; // [sp+4h] [bp-74h]@7
  int v6; // [sp+8h] [bp-70h]@17
  __int16 v7; // [sp+Ch] [bp-6Ch]@1
  char v8; // [sp+Eh] [bp-6Ah]@10
  __int16 v9; // [sp+18h] [bp-60h]@11
  unsigned __int16 v10; // [sp+21h] [bp-57h]@15
  int v11; // [sp+23h] [bp-55h]@16
  unsigned __int16 v12; // [sp+27h] [bp-51h]@16
  unsigned __int16 i; // [sp+30h] [bp-48h]@14
  int v14; // [sp+34h] [bp-44h]@1
  int v15; // [sp+38h] [bp-40h]@20
  int v16; // [sp+3Ch] [bp-3Ch]@17
  char v17; // [sp+44h] [bp-34h]@1
  unsigned __int16 v18; // [sp+46h] [bp-32h]@18
  unsigned __int16 v19; // [sp+48h] [bp-30h]@19
  __int16 v20; // [sp+4Ah] [bp-2Eh]@20
  int v21; // [sp+4Ch] [bp-2Ch]@20
  int v22; // [sp+50h] [bp-28h]@20
  int v23; // [sp+54h] [bp-24h]@20
  int v24; // [sp+58h] [bp-20h]@20
  int v25; // [sp+60h] [bp-18h]@20
  int v26; // [sp+64h] [bp-14h]@20
  int v27; // [sp+68h] [bp-10h]@20
  int v28; // [sp+6Ch] [bp-Ch]@20
  int v29; // [sp+70h] [bp-8h]@20
  int v30; // [sp+74h] [bp-4h]@20

  memset(&v7, 0, 0x1Du);
  memset(&v14, 0, 0x10u);
  memset(&v17, 0, 0x34u);
  v4 = *(_DWORD *)a1 && **(_BYTE **)a1 && *(_BYTE *)(*(_DWORD *)a1 + 11) & 0x10;
  if ( v4 )
    v5 = sub_1001E100(*(_DWORD *)a1, 0, &v7, 29);
  else
    v5 = 1;
  if ( v5 || !memcmp("GARMIN SRT", &v8, 0xAu) && v9 == 1 )
  {
    if ( !v5 )
    {
      for ( i = 0; i < (signed int)v10; ++i )
      {
        v5 = sub_1001E100(*(_DWORD *)a1, v11 + v12 * i, &v14, 16);
        if ( v5 )
          break;
        v6 = v16;
        v5 = sub_1001E100(*(_DWORD *)a1, v16, &v17, 52);
        if ( v5 )
          break;
        if ( v18 == a2 && v19 >= (signed int)a3 )
        {
          *(_DWORD *)(a1 + 4) = v6;
          *(_WORD *)(a1 + 8) = v20;
          *(_DWORD *)(a1 + 12) = v21;
          *(_DWORD *)(a1 + 16) = v6 + v22;
          *(_DWORD *)(a1 + 20) = v23;
          *(_DWORD *)(a1 + 24) = v24;
          *(_DWORD *)(a1 + 32) = v6 + v25;
          *(_DWORD *)(a1 + 36) = v26;
          *(_DWORD *)(a1 + 40) = v27;
          *(_DWORD *)(a1 + 44) = v28;
          *(_DWORD *)(a1 + 48) = v6 + v29;
          *(_DWORD *)(a1 + 52) = v30;
          *(_DWORD *)(a1 + 56) = v14;
          *(_DWORD *)(a1 + 60) = v15;
          break;
        }
      }
      if ( i == v10 )
        v5 = 3;
    }
  }
  else
  {
    v5 = 1;
  }
  return v5;
}

//----- (10017E40) --------------------------------------------------------
int __cdecl sub_10017E40(int a1, int a2, char a3, void *a4, __int16 a5, int a6)
{
  __int16 v7; // [sp+4h] [bp-90h]@94
  __int16 v8; // [sp+10h] [bp-84h]@98
  __int16 v9; // [sp+10h] [bp-84h]@115
  int v10; // [sp+14h] [bp-80h]@10
  __int16 v11; // [sp+18h] [bp-7Ch]@80
  char v12; // [sp+1Ch] [bp-78h]@78
  char *v13; // [sp+40h] [bp-54h]@74
  char v14; // [sp+47h] [bp-4Dh]@1
  int v15; // [sp+48h] [bp-4Ch]@1
  __int16 v16; // [sp+4Ch] [bp-48h]@2
  __int16 v17; // [sp+50h] [bp-44h]@76
  char *v18; // [sp+54h] [bp-40h]@4
  char *v19; // [sp+58h] [bp-3Ch]@2
  char v20; // [sp+5Ch] [bp-38h]@2
  __int16 v21; // [sp+80h] [bp-14h]@93
  __int16 i; // [sp+84h] [bp-10h]@20
  int v23; // [sp+88h] [bp-Ch]@7
  char *v24; // [sp+8Ch] [bp-8h]@108
  int v25; // [sp+90h] [bp-4h]@1

  v15 = 0;
  v25 = a2;
  v14 = 0;
  if ( (unsigned __int16)a5 >= 0x1Fu )
  {
    v19 = (char *)a4;
    v16 = a5;
  }
  else
  {
    v19 = &v20;
    v16 = 31;
  }
  v18 = 0;
  *v19 = 0;
  switch ( a3 )
  {
    case 0:
      if ( *(_DWORD *)(v25 + 8) == -1 )
        v15 = sub_1001DA50(a1, v25, 0, 0);
      v23 = *(_DWORD *)(v25 + 8);
      break;
    case 2:
      if ( *(_DWORD *)(v25 + 8) != -1 || *(_DWORD *)v25 == -1 )
      {
        if ( *(_DWORD *)(v25 + 8) != -1 && *(_DWORD *)v25 == -1 && *(_DWORD *)(v25 + 12) == -1 )
          v15 = sub_1001D4E0(a1, v25, 0, 0);
      }
      else
      {
        v15 = sub_1001E980(a1, *(_DWORD *)v25, (unsigned int *)&v10);
        if ( !v15 )
        {
          *(_DWORD *)(v25 + 8) = v10;
          v15 = sub_1001D4E0(a1, v25, 0, 0);
        }
      }
      if ( !v15 && *(_DWORD *)(v25 + 12) == -1 )
      {
        v15 = sub_1001E730(a1, *(_DWORD *)v25, -1, (a6 & 0x20) != 0 ? 4 : 0, (int)&v10);
        if ( a6 & 0x20 )
        {
          for ( i = 0; !v15 && i < 4 && *(&v10 + i) != -1 && !sub_10019400(v19); ++i )
          {
            *(_DWORD *)(v25 + 12) = *(&v10 + i);
            v15 = sub_100185E0(a1, *(&v10 + i), v19, v16, 0);
          }
          if ( i && !sub_10019400(v19) )
            *(_DWORD *)(v25 + 12) = v10;
        }
        else
        {
          *(_DWORD *)(v25 + 12) = v10;
        }
      }
      v23 = *(_DWORD *)(v25 + 12);
      break;
    case 3:
      if ( *(_DWORD *)(v25 + 8) == -1 )
        v15 = sub_1001E730(a1, *(_DWORD *)(v25 + 4), -1, 0, v25 + 8);
      v23 = *(_DWORD *)(v25 + 8);
      break;
    case 4:
      if ( *(_DWORD *)(v25 + 4) != -1 && *(_DWORD *)(v25 + 20) == -1 && *(_DWORD *)(v25 + 8) == -1 )
        v15 = sub_1001E150(a1, v25, 0);
      if ( *(_DWORD *)(v25 + 8) == -1 )
        v15 = sub_100190D0(a1, *(_DWORD *)(v25 + 20), v25 + 8);
      v23 = *(_DWORD *)(v25 + 8);
      break;
    case 5:
      v23 = *(_DWORD *)v25;
      break;
    case 7:
      if ( *(_DWORD *)(v25 + 8) == -1 )
      {
        v15 = sub_10019010(a1, *(_DWORD *)v25, v25 + 4);
        if ( !v15 )
          v15 = sub_1001E730(a1, *(_DWORD *)(v25 + 4), *(_DWORD *)v25, 0, v25 + 8);
      }
      v23 = *(_DWORD *)(v25 + 8);
      break;
    default:
      v23 = -1;
      break;
  }
  if ( a4 && a5 )
  {
    if ( (a3 != 4 || *(_WORD *)v25 != 99)
      && (a3 != 2 || (signed int)*(_WORD *)(v25 + 4) < 32 || (signed int)*(_WORD *)(v25 + 4) > 34)
      && (a3 != 3 || (signed int)*(_WORD *)(v25 + 30) < 32 || (signed int)*(_WORD *)(v25 + 30) > 34) )
    {
      if ( a3 == 4 && (signed int)*(_WORD *)v25 >= 100 && (signed int)*(_WORD *)v25 <= 102 && *(_WORD *)v25 != 101 )
        a6 |= 0x200u;
    }
    else
    {
      a6 |= 0x100u;
    }
    if ( !v15 && v23 != -1 )
      v15 = sub_100185E0(a1, v23, v19, v16, a6);
    if ( v15 || v23 == -1 )
      *v19 = 0;
    if ( !v15 && !*v19 && a6 & 0x48 )
    {
      switch ( a3 )
      {
        case 0:
          v13 = sub_10003280(*(_WORD *)v25);
          break;
        case 2:
        case 3:
        case 7:
          if ( a3 == 3 )
          {
            v17 = *(_WORD *)(v25 + 30);
          }
          else if ( a3 == 7 )
          {
            v15 = sub_1001E980(a1, *(_DWORD *)(v25 + 4), (unsigned int *)&v12);
            if ( !v15 )
              v15 = sub_1001D4E0(a1, (int)&v10, 0, 0);
            v17 = v11;
          }
          else
          {
            v17 = *(_WORD *)(v25 + 4);
          }
          if ( v17 == 8 || v17 == 9 )
            v14 = 1;
          v13 = sub_100032E0(v17);
          break;
        case 4:
          v13 = sub_10003340(*(_WORD *)v25, (char *)&v18);
          break;
        default:
          v13 = (char *)&unk_10081330;
          break;
      }
      if ( !v15 && (a6 & 8 || v14 && a6 & 0x40) )
      {
        if ( v18 )
        {
          v21 = strlen(v18) + 1;
          if ( v21 >= v16 )
            v7 = v16;
          else
            v7 = v21;
          v21 = v7;
          memcpy(v19, v18, v7);
          --v21;
        }
        else
        {
          v21 = 0;
        }
        v8 = strlen(v13) + 1;
        if ( v8 >= v16 - v21 )
          memcpy(&v19[v21], v13, v16 - v21);
        else
          memcpy(&v19[v21], v13, v8);
        v19[v16 - 1] = 0;
      }
    }
    if ( *(_DWORD *)(a1 + 24) == 2097537 && (v23 == 1420 || v23 == 4636 || v23 == 4706 || v23 == 4827 || v23 == 5320) )
    {
      v24 = strchr(v19, 67);
      if ( v24 )
      {
        if ( v24[4] == 58 )
          *--v24 = 0;
      }
    }
    if ( a6 & 0x800 )
      sub_10002CC0(v19);
    if ( a6 & 0x1000 )
      sub_100033B0(v19);
    v9 = strlen(v19) + 1;
    if ( v9 > (signed int)(unsigned __int16)a5 )
    {
      v9 = a5;
      if ( !(a6 & 0x400) )
        sub_10002CA0(v19, a5 - 1);
      v19[a5 - 1] = 0;
    }
    if ( a4 != v19 )
      memcpy(a4, v19, v9);
  }
  return v15;
}

//----- (100185E0) --------------------------------------------------------
int __cdecl sub_100185E0(int a1, int a2, char *a3, __int16 a4, int a5)
{
  int result; // eax@2
  unsigned __int16 v6; // [sp+0h] [bp-78h]@141
  bool v7; // [sp+Ch] [bp-6Ch]@75
  bool v8; // [sp+14h] [bp-64h]@42
  char v9; // [sp+22h] [bp-56h]@1
  char v10; // [sp+23h] [bp-55h]@24
  char v11; // [sp+23h] [bp-55h]@40
  char v12; // [sp+23h] [bp-55h]@72
  int v13; // [sp+24h] [bp-54h]@16
  unsigned int v14; // [sp+28h] [bp-50h]@16
  char *v15; // [sp+2Ch] [bp-4Ch]@10
  int v16; // [sp+30h] [bp-48h]@10
  char v17; // [sp+34h] [bp-44h]@10
  int v18; // [sp+38h] [bp-40h]@10
  int v19; // [sp+3Ch] [bp-3Ch]@10
  unsigned __int8 v20; // [sp+47h] [bp-31h]@1
  char *v21; // [sp+48h] [bp-30h]@129
  char v22; // [sp+4Fh] [bp-29h]@1
  int v23; // [sp+50h] [bp-28h]@1
  char *v24; // [sp+54h] [bp-24h]@162
  char v25; // [sp+5Bh] [bp-1Dh]@1
  int v26; // [sp+5Ch] [bp-1Ch]@5
  unsigned __int16 v27; // [sp+60h] [bp-18h]@133
  unsigned __int16 v28; // [sp+64h] [bp-14h]@132
  unsigned __int16 v29; // [sp+68h] [bp-10h]@1
  char v30; // [sp+6Fh] [bp-9h]@1
  unsigned int i; // [sp+70h] [bp-8h]@21
  void *j; // [sp+74h] [bp-4h]@116

  v23 = 0;
  v22 = 0;
  *a3 = 0;
  v30 = 0;
  v9 = 0;
  v25 = 0;
  v20 = 0;
  v29 = 0;
  if ( a2 )
  {
    if ( a2 == -1 )
      v23 = 3;
    v26 = a2 << *(_BYTE *)(a1 + 401);
    if ( v23 || v26 < *(_DWORD *)(a1 + 416) )
    {
      if ( !v23 )
      {
        switch ( *(_BYTE *)(a1 + 402) )
        {
          case 6:
          case 7:
          case 9:
          case 0xA:
            v22 = 0;
            v17 = 0;
            v18 = 0;
            v19 = 0;
            v15 = a3;
            v16 = (unsigned __int16)a4;
            break;
          default:
            v22 = 1;
            *a3 = 0;
            break;
        }
      }
    }
    else
    {
      v23 = 3;
    }
    while ( !v23 && !v22 )
    {
      if ( sub_1001C470(*(_DWORD *)(a1 + 396), *(_DWORD *)(a1 + 412) + v26, 0) >= 0 )
      {
        v14 = sub_10024630(*(_DWORD *)(a1 + 396), &v13);
        if ( v14 < 1 )
          v23 = 1;
      }
      else
      {
        v23 = 1;
      }
      v26 += v14;
      if ( !v23 )
      {
        switch ( *(_BYTE *)(a1 + 402) )
        {
          case 6:
            v22 = sub_10019190((int)&v13);
            break;
          case 7:
            for ( i = 0; !v22 && i < v14; ++i )
            {
              v10 = *(_BYTE *)(i + v13);
              v22 = (v10 & 0x80) != 0;
              if ( v10 & 0x80 )
                v10 &= 0x7Fu;
              if ( (signed int)(unsigned __int8)v10 >= 7 && (signed int)(unsigned __int8)v10 < 27 || v10 == 127 )
                v10 = 32;
              if ( v29 >= (unsigned __int16)a4 - 1 )
                v22 = 1;
              else
                a3[v29++] = v10;
            }
            if ( v22 )
              a3[v29] = 0;
            break;
          case 9:
            for ( i = 0; !v22 && i < v14; ++i )
            {
              v11 = *(_BYTE *)(i + v13);
              v8 = !v11 && !v9;
              v22 = v8;
              if ( v9 )
              {
                v9 = 0;
                if ( !((v11 & 0xC) >> 6) )
                  v25 = 1;
              }
              else if ( v25 )
              {
                v25 = 0;
              }
              else if ( v11 == 7 )
              {
                if ( (signed int)v20 >= 2 )
                {
                  v22 = 1;
                  v23 = 2;
                }
                else
                {
                  ++v20;
                  v9 = 1;
                }
              }
              else if ( ((signed int)(unsigned __int8)v11 <= 7 || (signed int)(unsigned __int8)v11 >= 27) && v11 != 127 )
              {
                if ( v29 >= (unsigned __int16)a4 - 1 )
                  v22 = 1;
                else
                  a3[v29++] = v11;
              }
              else if ( v29 >= (unsigned __int16)a4 - 1 )
              {
                v22 = 1;
              }
              else
              {
                a3[v29++] = 32;
              }
            }
            if ( v22 )
              a3[v29] = 0;
            break;
          case 0xA:
            for ( i = 0; !v22 && i < v14; ++i )
            {
              v12 = *(_BYTE *)(i + v13);
              v7 = !v12 && !v30 && !v9;
              v22 = v7;
              if ( v30 )
              {
                v30 = 0;
                if ( v29 >= (unsigned __int16)a4 - 1 )
                  v22 = 1;
                else
                  a3[v29++] = v12;
              }
              else if ( v9 )
              {
                v9 = 0;
                if ( !((v12 & 0xC) >> 6) )
                  v25 = 1;
              }
              else if ( v25 )
              {
                v25 = 0;
              }
              else
              {
                if ( v12 == 7 )
                {
                  if ( (signed int)v20 >= 2 )
                  {
                    v22 = 1;
                    v23 = 2;
                  }
                  else
                  {
                    ++v20;
                    v9 = 1;
                  }
                }
                else if ( (signed int)(unsigned __int8)v12 > 7 && (signed int)(unsigned __int8)v12 < 27 || v12 == 127 )
                {
                  v12 = 32;
                }
                if ( *(_WORD *)(a1 + 404) == 936
                  && (signed int)(unsigned __int8)v12 >= 161
                  && (signed int)(unsigned __int8)v12 <= 254
                  || *(_WORD *)(a1 + 404) == 950
                  && (signed int)(unsigned __int8)v12 >= 129
                  && (signed int)(unsigned __int8)v12 <= 254 )
                {
                  v30 = 1;
                }
                if ( v12 != 7 )
                {
                  if ( v29 >= (unsigned __int16)a4 - 1 )
                    v22 = 1;
                  else
                    a3[v29++] = v12;
                }
              }
            }
            if ( v22 )
              a3[v29] = 0;
            break;
          default:
            break;
        }
      }
      if ( sub_1001C470(*(_DWORD *)(a1 + 396), *(_DWORD *)(a1 + 412) + v26, 0) < 0 )
        v23 = 1;
    }
    if ( !v23 && !(a5 & 1) )
    {
      j = strchr(a3, 29);
      if ( j )
      {
        if ( a5 & 0x10 || a5 & 0x80 )
          strcpy(a3, (const char *)j + 1);
        else
          *(_BYTE *)j = 0;
      }
      else if ( a5 & 0x80 )
      {
        *a3 = 0;
      }
    }
    if ( !v23 && a5 & 4 && (signed int)(unsigned __int8)*a3 >= 1 && (signed int)(unsigned __int8)*a3 <= 6 )
    {
      v21 = a5 & 2 ? " " : sub_10003380(*a3);
      if ( v21 )
      {
        v28 = strlen(v21);
        if ( v28 )
        {
          v27 = strlen(a3);
          if ( (unsigned __int16)a4 <= v27 + v28 )
          {
            if ( (unsigned __int16)a4 > (signed int)v28 )
              memcpy(&a3[v28], a3 + 1, (unsigned __int16)a4 - v28);
          }
          else
          {
            memcpy(&a3[v28], a3 + 1, v27);
          }
          if ( (unsigned __int16)a4 <= (signed int)v28 )
            memcpy_0(a3, v21, (unsigned __int16)a4);
          else
            memcpy_0(a3, v21, v28);
          if ( v27 + v28 >= (unsigned __int16)a4 )
            v6 = a4 - 1;
          else
            v6 = v27 + v28;
          v27 = v6;
          a3[v6] = 0;
          if ( v28 <= (signed int)v27 && a5 & 2 && !strchr(a3, 30) && !strchr(a3, 27) )
            a3[v28 - 1] = 30;
        }
      }
    }
    if ( v23 || !(a5 & 0x100) )
    {
      if ( v23 || !(a5 & 2) )
      {
        if ( v23 || !(a5 & 0x200) )
        {
          if ( !v23 && !(a5 & 1) )
          {
            for ( j = a3; *(_BYTE *)j; j = (char *)j + 1 )
            {
              if ( *(_BYTE *)j != 30 && *(_BYTE *)j != 31 )
              {
                if ( *(_BYTE *)j == 27 || *(_BYTE *)j == 28 )
                {
                  memcpy(j, (char *)j + 1, (unsigned __int16)a4 - ((_BYTE *)j - a3) - 1);
                  j = (char *)j - 1;
                  a3[(unsigned __int16)a4 - 1] = 0;
                }
              }
              else
              {
                *(_BYTE *)j = 32;
              }
            }
          }
        }
        else
        {
          for ( j = a3; *(_BYTE *)j; j = (char *)j + 1 )
          {
            if ( *(_BYTE *)j == 30 )
            {
              *(_BYTE *)j = 32;
            }
            else if ( *(_BYTE *)j == 31 )
            {
              sub_10002FF0(j, (unsigned __int16)a4 - ((_BYTE *)j - a3), 1);
            }
          }
        }
      }
      else
      {
        for ( j = a3;
              *(_BYTE *)j && *(_BYTE *)j != 30 && *(_BYTE *)j != 31 && *(_BYTE *)j != 27 && *(_BYTE *)j != 28;
              j = (char *)j + 1 )
        {
          ;
        }
        if ( *(_BYTE *)j != 30 && *(_BYTE *)j != 27 )
        {
          if ( *(_BYTE *)j == 31 || *(_BYTE *)j == 28 )
            *(_BYTE *)j = 0;
        }
        else
        {
          j = (char *)j + 1;
          v24 = a3;
          if ( (signed int)(unsigned __int8)*a3 >= 1 && (signed int)(unsigned __int8)*a3 <= 6 )
            ++v24;
          while ( *(_BYTE *)j && *(_BYTE *)j != 31 && *(_BYTE *)j != 28 )
          {
            *v24 = *(_BYTE *)j;
            j = (char *)j + 1;
            ++v24;
          }
          *v24 = 0;
        }
      }
    }
    else
    {
      sub_10002FF0(a3, a5 & 0x100, (a5 & 2) == 0);
    }
    if ( v23 )
      *a3 = 0;
    result = v23;
  }
  else
  {
    result = v23;
  }
  return result;
}

//----- (10019010) --------------------------------------------------------
int __cdecl sub_10019010(int a1, int a2, int a3)
{
  int v4; // [sp+0h] [bp-10h]@1
  int v5; // [sp+4h] [bp-Ch]@3
  char v6; // [sp+8h] [bp-8h]@7
  __int16 v7; // [sp+Ah] [bp-6h]@9
  unsigned __int8 v8; // [sp+Ch] [bp-4h]@9

  v4 = 0;
  *(_DWORD *)a3 = -1;
  if ( a2 == -1 )
    v4 = 3;
  v5 = a2 << *(_BYTE *)(a1 + 522);
  if ( v4 || v5 < *(_DWORD *)(a1 + 516) )
  {
    if ( !v4 )
      v4 = sub_1001E100(*(_DWORD *)(a1 + 496), *(_DWORD *)(a1 + 512) + v5, &v6, 5);
  }
  else
  {
    v4 = 3;
  }
  if ( !v4 )
  {
    *(_WORD *)a3 = v7;
    *(_WORD *)(a3 + 2) = v8;
    *(_DWORD *)a3 &= 0x3FFFFFu;
  }
  return v4;
}

//----- (100190D0) --------------------------------------------------------
int __cdecl sub_100190D0(int a1, int a2, int a3)
{
  int v4; // [sp+0h] [bp-Ch]@1
  int v5; // [sp+4h] [bp-8h]@3
  int v6; // [sp+4h] [bp-8h]@6
  __int16 v7; // [sp+8h] [bp-4h]@7
  unsigned __int8 v8; // [sp+Ah] [bp-2h]@9

  v4 = 0;
  *(_DWORD *)a3 = -1;
  if ( a2 == -1 )
    v4 = 3;
  v5 = a2 << *(_BYTE *)(a1 + 400);
  if ( !v4 && v5 >= *(_DWORD *)(a1 + 448) )
    v4 = 3;
  v6 = *(_DWORD *)(a1 + 444) + v5;
  if ( !v4 )
    v4 = sub_1001E100(*(_DWORD *)(a1 + 396), v6, &v7, 3);
  if ( !v4 )
  {
    *(_WORD *)a3 = v7;
    *(_WORD *)(a3 + 2) = v8;
    *(_DWORD *)a3 &= 0x3FFFFFu;
  }
  return v4;
}

//----- (10019190) --------------------------------------------------------
char __cdecl sub_10019190(int a1)
{
  char v2; // [sp+7h] [bp-Dh]@1
  signed int v3; // [sp+8h] [bp-Ch]@0
  unsigned int v4; // [sp+Ch] [bp-8h]@1
  char v5; // [sp+13h] [bp-1h]@1

  v5 = 0;
  v2 = 0;
  v4 = 0;
  while ( !v2 && *(_DWORD *)(a1 + 12) > 1 && v4 < *(_DWORD *)(a1 + 4) )
  {
    switch ( *(_DWORD *)(a1 + 20) % 4u )
    {
      case 0u:
        v3 = (signed int)*(_BYTE *)(*(_DWORD *)a1 + v4) >> 2;
        *(_BYTE *)(a1 + 16) = 16 * *(_BYTE *)(*(_DWORD *)a1 + v4++) & 0x3F;
        break;
      case 1u:
        v3 = *(_BYTE *)(a1 + 16) + ((signed int)*(_BYTE *)(*(_DWORD *)a1 + v4) >> 4);
        *(_BYTE *)(a1 + 16) = 4 * *(_BYTE *)(*(_DWORD *)a1 + v4++) & 0x3F;
        break;
      case 2u:
        v3 = *(_BYTE *)(a1 + 16) + ((signed int)*(_BYTE *)(*(_DWORD *)a1 + v4) >> 6);
        *(_BYTE *)(a1 + 16) = *(_BYTE *)(*(_DWORD *)a1 + v4++) & 0x3F;
        break;
      case 3u:
        v3 = *(_BYTE *)(a1 + 16);
        break;
      default:
        break;
    }
    ++*(_DWORD *)(a1 + 20);
    if ( (v3 & 0x30) == 48 )
    {
      v2 = 1;
      v5 = 1;
      **(_BYTE **)(a1 + 8) = 0;
      *(_DWORD *)(a1 + 28) = v4 + *(_DWORD *)a1;
    }
    else
    {
      if ( *(_DWORD *)(a1 + 24) )
      {
        **(_BYTE **)(a1 + 8) = *(&byte_10081270[64 * *(_DWORD *)(a1 + 24)] + v3);
        --*(_DWORD *)(a1 + 12);
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 24) = 0;
      }
      else if ( v3 == 27 )
      {
        *(_DWORD *)(a1 + 24) = 1;
      }
      else if ( v3 == 28 )
      {
        *(_DWORD *)(a1 + 24) = 2;
      }
      else
      {
        **(_BYTE **)(a1 + 8) = *(&byte_10081270[64 * *(_DWORD *)(a1 + 24)] + v3);
        --*(_DWORD *)(a1 + 12);
        ++*(_DWORD *)(a1 + 8);
      }
      if ( (*(_BYTE *)(a1 + 16) & 0x30) == 48 )
      {
        v2 = 1;
        v5 = 1;
        **(_BYTE **)(a1 + 8) = 0;
        *(_DWORD *)(a1 + 28) = v4 + *(_DWORD *)a1;
      }
    }
  }
  if ( *(_DWORD *)(a1 + 12) == 1 )
  {
    v5 = 1;
    **(_BYTE **)(a1 + 8) = 0;
  }
  return v5;
}

//----- (10019400) --------------------------------------------------------
char __cdecl sub_10019400(char *a1)
{
  size_t v1; // eax@15
  signed int i; // [sp+0h] [bp-8h]@4
  unsigned int j; // [sp+0h] [bp-8h]@13
  char v5; // [sp+7h] [bp-1h]@1

  v5 = 1;
  if ( *a1 )
  {
    if ( *a1 == 1 )
    {
      for ( i = 1; a1[i]; ++i )
      {
        if ( !isalnum((unsigned __int8)a1[i]) )
          return 0;
      }
    }
    else if ( (signed int)(unsigned __int8)*a1 < 1 || (signed int)(unsigned __int8)*a1 > 6 )
    {
      for ( j = 0; j < 0xB; ++j )
      {
        v1 = strlen((&off_10081334)[4 * j]);
        if ( !strncmp(a1, (&off_10081334)[4 * j], v1) )
          return 0;
      }
    }
    else
    {
      v5 = 0;
    }
  }
  else
  {
    v5 = 0;
  }
  return v5;
}

//----- (100194E0) --------------------------------------------------------
signed int __cdecl sub_100194E0(int a1)
{
  signed int result; // eax@1

  sub_100241B0((int *)(a1 + 232));
  sub_100241B0((int *)(a1 + 396));
  sub_100241B0((int *)(a1 + 496));
  sub_100241B0((int *)(a1 + 500));
  sub_100241B0((int *)(a1 + 548));
  sub_100241B0((int *)(a1 + 588));
  result = sub_100241B0((int *)(a1 + 44));
  *(_DWORD *)(a1 + 24) = 0;
  return result;
}

//----- (10019570) --------------------------------------------------------
int __cdecl sub_10019570(char *a1, char *a2, int a3, __int16 a4)
{
  char v5; // [sp+4h] [bp-2Ch]@40
  char v6; // [sp+8h] [bp-28h]@34
  char v7; // [sp+Ch] [bp-24h]@28
  char v8; // [sp+10h] [bp-20h]@22
  char v9; // [sp+14h] [bp-1Ch]@16
  char v10; // [sp+18h] [bp-18h]@10
  bool v11; // [sp+1Ch] [bp-14h]@4
  int v12; // [sp+20h] [bp-10h]@44
  __int16 i; // [sp+24h] [bp-Ch]@44
  int v14; // [sp+28h] [bp-8h]@44
  int var1; // [sp+2Fh] [bp-1h]@44

  v11 = *((_DWORD *)a1 + 11) && **((_BYTE **)a1 + 11) && *(_BYTE *)(*((_DWORD *)a1 + 11) + 11) & 0x10;
  if ( v11
    || (!*((_DWORD *)a1 + 58) || !**((_BYTE **)a1 + 58) || !(*(_BYTE *)(*((_DWORD *)a1 + 58) + 11) & 0x10) ? (v10 = 0) : (v10 = 1),
        v10
     || (!*((_DWORD *)a1 + 99) || !**((_BYTE **)a1 + 99) || !(*(_BYTE *)(*((_DWORD *)a1 + 99) + 11) & 0x10) ? (v9 = 0) : (v9 = 1),
         v9
      || (!*((_DWORD *)a1 + 124) || !**((_BYTE **)a1 + 124) || !(*(_BYTE *)(*((_DWORD *)a1 + 124) + 11) & 0x10) ? (v8 = 0) : (v8 = 1),
          v8
       || (!*((_DWORD *)a1 + 125) || !**((_BYTE **)a1 + 125) || !(*(_BYTE *)(*((_DWORD *)a1 + 125) + 11) & 0x10) ? (v7 = 0) : (v7 = 1),
           v7
        || (!*((_DWORD *)a1 + 137) || !**((_BYTE **)a1 + 137) || !(*(_BYTE *)(*((_DWORD *)a1 + 137) + 11) & 0x10) ? (v6 = 0) : (v6 = 1),
            v6
         || (!*((_DWORD *)a1 + 147) || !**((_BYTE **)a1 + 147) || !(*(_BYTE *)(*((_DWORD *)a1 + 147) + 11) & 0x10) ? (v5 = 0) : (v5 = 1),
             v5)))))) )
  {
    sub_100194E0((int)a1);
  }
  v14 = 0;
  LOBYTE(var1) = 0;
  v12 = 0;
  memset(a1, 0, 0x404u);
  for ( i = 0; a2[i] && (unsigned int)i < 0xA; ++i )
    a1[i] = a2[i];
  if ( !v14 )
    a1[i] = 0;
  if ( a3 )
  {
    for ( i = 0; *(_BYTE *)(a3 + i) && (unsigned int)i < 0xA; ++i )
      a1[i + 11] = *(_BYTE *)(a3 + i);
    if ( !v14 )
      a1[i + 11] = 0;
  }
  *((_WORD *)a1 + 11) = a4;
  if ( !v14 )
    v14 = sub_1001A800(a1, (int)&v12, (int)&var1);
  if ( !v14 )
    v14 = sub_1001A460(a1);
  if ( !v14 )
    v14 = sub_10019C90(a1);
  if ( !v14 )
    v14 = sub_1001A210(a1);
  if ( !v14 )
  {
    v14 = sub_10019970(a1 + 548, a2, a4);
    if ( v14 )
    {
      v14 = 0;
    }
    else if ( (_BYTE)var1 )
    {
      *((_DWORD *)a1 + 27) = 32 * ((*((_WORD *)a1 + 280) >> 8) & 1) | *((_DWORD *)a1 + 27) & 0xFFFFFFDF;
    }
    else
    {
      v14 = 1;
    }
  }
  if ( !v14 )
    v14 = sub_1001A790((int)a1);
  if ( !v14 )
    sub_10019B70((int)a1);
  if ( v14 )
    sub_100194E0((int)a1);
  else
    *((_DWORD *)a1 + 6) = v12;
  return v14;
}

//----- (10019970) --------------------------------------------------------
int __cdecl sub_10019970(void *a1, char *a2, __int16 a3)
{
  bool v4; // [sp+0h] [bp-50h]@4
  int v5; // [sp+8h] [bp-48h]@8
  char v6; // [sp+Ch] [bp-44h]@9
  __int16 v7; // [sp+Eh] [bp-42h]@11
  __int16 v8; // [sp+18h] [bp-38h]@12
  int v9; // [sp+21h] [bp-2Fh]@15
  int v10; // [sp+25h] [bp-2Bh]@15
  int v11; // [sp+29h] [bp-27h]@15
  char v12; // [sp+2Dh] [bp-23h]@15
  char v13; // [sp+2Eh] [bp-22h]@15
  __int16 v14; // [sp+2Fh] [bp-21h]@15
  int v15; // [sp+31h] [bp-1Fh]@15
  int v16; // [sp+35h] [bp-1Bh]@15
  int v17; // [sp+3Dh] [bp-13h]@17
  int v18; // [sp+41h] [bp-Fh]@17
  __int16 v19; // [sp+45h] [bp-Bh]@17

  v4 = *(_DWORD *)a1 && **(_BYTE **)a1 && *(_BYTE *)(*(_DWORD *)a1 + 11) & 0x10;
  if ( v4 )
    sub_100241B0((int *)a1);
  memset(a1, 0, 0x28u);
  v5 = sub_10019B10((int)a1, a2, ".NOD", a3);
  if ( !v5 )
    v5 = sub_1001E100(*(_DWORD *)a1, 0, &v6, 63);
  if ( !v5 )
  {
    if ( !memcmp("GARMIN NOD", &v7, 0xAu) && v8 == 1 )
    {
      if ( (unsigned int)*(signed __int16 *)&v6 >= 0x31 )
      {
        *((_DWORD *)a1 + 1) = v9;
        *((_DWORD *)a1 + 2) = v10;
        *((_DWORD *)a1 + 3) = v11;
        *((_BYTE *)a1 + 16) = v12;
        *((_BYTE *)a1 + 17) = v13;
        *((_WORD *)a1 + 9) = v14;
        *((_DWORD *)a1 + 5) = v15;
        *((_DWORD *)a1 + 6) = v16;
      }
      if ( (unsigned int)*(signed __int16 *)&v6 >= 0x3F )
      {
        *((_DWORD *)a1 + 7) = v17;
        *((_DWORD *)a1 + 8) = v18;
        *((_WORD *)a1 + 18) = v19;
      }
    }
    else
    {
      v5 = 1;
    }
  }
  return v5;
}

//----- (10019B10) --------------------------------------------------------
int __cdecl sub_10019B10(int a1, char *a2, char *a3, __int16 a4)
{
  char v5; // [sp+0h] [bp-14h]@1

  strcpy(&v5, a2);
  strcat(&v5, a3);
  return sub_1001DFB0(a4, a1, &v5);
}

//----- (10019B70) --------------------------------------------------------
int __cdecl sub_10019B70(int a1)
{
  int result; // eax@1

  *(_DWORD *)(a1 + 716) = 0x7FFFFFFF;
  *(_DWORD *)(a1 + 712) = 0x40000000;
  *(_DWORD *)(a1 + 724) = 2147483648;
  *(_DWORD *)(a1 + 720) = -1073741824;
  *(_DWORD *)(a1 + 732) = 0x7FFFFFFF;
  *(_DWORD *)(a1 + 728) = -1073741825;
  *(_DWORD *)(a1 + 740) = 0x7FFFFFFF;
  *(_DWORD *)(a1 + 736) = -1073741825;
  *(_BYTE *)(a1 + 652) = *(_BYTE *)(a1 + 83);
  *(_DWORD *)(a1 + 672) = 0;
  *(_DWORD *)(a1 + 676) = 0;
  *(_DWORD *)(a1 + 684) = 0;
  *(_WORD *)(a1 + 680) = 0;
  *(_BYTE *)(a1 + 682) = 1;
  *(_DWORD *)(a1 + 688) = 0;
  *(_DWORD *)(a1 + 696) = 0;
  *(_WORD *)(a1 + 692) = 0;
  *(_BYTE *)(a1 + 694) = 1;
  *(_DWORD *)(a1 + 700) = 0;
  result = a1;
  *(_DWORD *)(a1 + 708) = 0;
  *(_WORD *)(a1 + 704) = 0;
  *(_BYTE *)(a1 + 706) = 1;
  return result;
}

//----- (10019C90) --------------------------------------------------------
int __cdecl sub_10019C90(char *a1)
{
  int v2; // [sp+0h] [bp-28h]@1
  int v3; // [sp+4h] [bp-24h]@2
  __int64 v4; // [sp+8h] [bp-20h]@12
  __int16 v5; // [sp+10h] [bp-18h]@5
  int v6; // [sp+12h] [bp-16h]@45
  int v7; // [sp+16h] [bp-12h]@45
  __int16 v8; // [sp+20h] [bp-8h]@7
  __int16 v9; // [sp+24h] [bp-4h]@1

  v9 = 0;
  v2 = sub_10019B10((int)(a1 + 396), a1, ".LBL", *((_WORD *)a1 + 11));
  v9 = 14;
  if ( !v2 )
    v2 = sub_1001E100(*((_DWORD *)a1 + 99), 0, &v3, 14);
  if ( !v2 && (memcmp("GARMIN LBL", (char *)&v3 + 2, 0xAu) || v5 != 1) )
    v2 = 1;
  v8 = v3;
  v9 += 7;
  v9 += 10;
  if ( !v2 && v9 <= v8 )
    v2 = sub_1001E100(*((_DWORD *)a1 + 99), v9 - 10, &v3, 10);
  if ( !v2 && v9 <= v8 )
  {
    *((_DWORD *)a1 + 103) = v3;
    *((_DWORD *)a1 + 104) = v4;
    a1[401] = BYTE4(v4);
    a1[402] = BYTE5(v4);
  }
  v9 += 14;
  if ( !v2 && v9 <= v8 )
    v2 = sub_1001E100(*((_DWORD *)a1 + 99), v9 - 14, &v3, 14);
  if ( !v2 && v9 <= v8 )
  {
    *((_DWORD *)a1 + 105) = v3;
    *((_WORD *)a1 + 203) = WORD2(v4);
    if ( (signed int)*((_WORD *)a1 + 203) > 0 )
      *((_DWORD *)a1 + 106) = (signed int)v4 / *((_WORD *)a1 + 203);
  }
  v9 += 14;
  if ( !v2 && v9 <= v8 )
    v2 = sub_1001E100(*((_DWORD *)a1 + 99), v9 - 14, &v3, 14);
  if ( !v2 && v9 <= v8 )
  {
    *((_DWORD *)a1 + 107) = v3;
    *((_WORD *)a1 + 204) = WORD2(v4);
    if ( WORD2(v4) )
      *((_DWORD *)a1 + 108) = (signed int)v4 / WORD2(v4);
  }
  v9 += 14;
  if ( !v2 && v9 <= v8 )
    v2 = sub_1001E100(*((_DWORD *)a1 + 99), v9 - 14, &v3, 14);
  if ( !v2 && v9 <= v8 )
  {
    *((_DWORD *)a1 + 109) = v3;
    *((_WORD *)a1 + 205) = WORD2(v4) & 0x7FFF | *((_WORD *)a1 + 205) & 0x8000;
    *((_WORD *)a1 + 205) = (((*(_DWORD *)((char *)&v4 + 6) & 0x80000000) == 0) << 15) | *((_WORD *)a1 + 205) & 0x7FFF;
    if ( WORD2(v4) )
      *((_DWORD *)a1 + 110) = (signed int)v4 / WORD2(v4);
  }
  v9 += 14;
  v9 += 13;
  if ( !v2 && v9 <= v8 )
    v2 = sub_1001E100(*((_DWORD *)a1 + 99), v9 - 13, &v3, 13);
  if ( !v2 && v9 <= v8 )
  {
    *((_DWORD *)a1 + 111) = v3;
    *((_DWORD *)a1 + 112) = v4;
    a1[400] = BYTE4(v4);
    *((_DWORD *)a1 + 113) = *(_DWORD *)((char *)&v4 + 5);
  }
  v9 += 14;
  v9 += 14;
  v9 += 14;
  v9 += 14;
  v9 += 14;
  v9 += 22;
  if ( !v2 && v9 <= v8 )
    v2 = sub_1001E100(*((_DWORD *)a1 + 99), v9 - 22, &v3, 22);
  if ( !v2 && v9 <= v8 )
  {
    *((_WORD *)a1 + 202) = v3;
    *((_WORD *)a1 + 230) = HIWORD(v3);
    *((_WORD *)a1 + 231) = v4;
    *((_QWORD *)a1 + 58) = *(__int64 *)((char *)&v4 + 2);
    *((_DWORD *)a1 + 118) = v6;
    *((_DWORD *)a1 + 119) = v7;
  }
  v9 += 4;
  if ( !v2 && v9 <= v8 )
  {
    v2 = sub_1001E100(*((_DWORD *)a1 + 99), v9 - 4, &v3, 4);
    if ( !v2 )
      *((_DWORD *)a1 + 120) = v3;
  }
  v9 += 12;
  v9 += 14;
  v9 += 14;
  if ( !v2 && v9 <= v8 )
  {
    v2 = sub_1001E100(*((_DWORD *)a1 + 99), v9 - 14, &v3, 14);
    if ( !v2 )
    {
      *((_DWORD *)a1 + 121) = v3;
      *((_DWORD *)a1 + 122) = v4;
      a1[492] = v5;
      a1[493] = HIBYTE(v5);
    }
  }
  return v2;
}

//----- (1001A210) --------------------------------------------------------
int __cdecl sub_1001A210(char *a1)
{
  int result; // eax@2
  __int16 v2; // [sp+0h] [bp-50h]@18
  int v3; // [sp+4h] [bp-4Ch]@3
  char v4; // [sp+8h] [bp-48h]@1
  __int16 v5; // [sp+48h] [bp-8h]@18
  void *v6; // [sp+4Ch] [bp-4h]@1

  v6 = &v4;
  if ( sub_10019B10((int)(a1 + 496), a1, ".NET", *((_WORD *)a1 + 11)) )
  {
    result = 0;
  }
  else
  {
    v3 = sub_10019B10((int)(a1 + 500), a1, ".NET", *((_WORD *)a1 + 11));
    if ( !v3 )
      v3 = sub_1001E100(*((_DWORD *)a1 + 124), 0, v6, 59);
    if ( !v3 && !memcmp("GARMIN NET", (char *)v6 + 2, 0xAu) && *((_WORD *)v6 + 6) == 1 )
    {
      if ( (unsigned int)*(_WORD *)v6 >= 0x1E )
      {
        *((_DWORD *)a1 + 126) = *(_DWORD *)((char *)v6 + 21);
        *((_DWORD *)a1 + 127) = *(_DWORD *)((char *)v6 + 25);
        a1[521] = *((_BYTE *)v6 + 29);
      }
      if ( (unsigned int)*(_WORD *)v6 >= 0x27 )
      {
        *((_DWORD *)a1 + 128) = *(_DWORD *)((char *)v6 + 30);
        *((_DWORD *)a1 + 129) = *(_DWORD *)((char *)v6 + 34);
        a1[522] = *((_BYTE *)v6 + 38);
      }
      if ( (unsigned int)*(_WORD *)v6 >= 0x37 )
      {
        *((_DWORD *)a1 + 134) = *(_DWORD *)((char *)v6 + 39);
        *((_WORD *)a1 + 266) = *(_WORD *)((char *)v6 + 47);
        *((_DWORD *)a1 + 135) = *(_DWORD *)((char *)v6 + 43);
        *((_DWORD *)a1 + 135) /= (signed int)*((_WORD *)a1 + 266);
        if ( *((_BYTE *)v6 + 53) == 1 )
          a1[520] = *((_BYTE *)v6 + 54) + 5;
      }
      if ( (unsigned int)*(_WORD *)v6 > 0x37 )
        *((_DWORD *)a1 + 136) = *(_DWORD *)((char *)v6 + 55);
      memset(a1 + 523, -1, 9u);
      v5 = 0;
      v2 = 0;
      while ( v5 <= 8 )
      {
        if ( *(_WORD *)&a1[2 * v5 + 56] )
          a1[v5 + 523] = v2++;
        ++v5;
      }
    }
    result = 0;
  }
  return result;
}

//----- (1001A460) --------------------------------------------------------
int __cdecl sub_1001A460(char *a1)
{
  int v2; // [sp+4h] [bp-8Ch]@1
  signed __int16 v3[66]; // [sp+8h] [bp-88h]@2
  signed __int16 v4[66]; // [sp+Ah] [bp-86h]@6
  __int16 v5; // [sp+14h] [bp-7Ch]@7
  int v6; // [sp+1Dh] [bp-73h]@9
  int v7; // [sp+21h] [bp-6Fh]@9
  int v8; // [sp+25h] [bp-6Bh]@10
  int v9; // [sp+29h] [bp-67h]@10
  int v10; // [sp+2Dh] [bp-63h]@10
  int v11; // [sp+31h] [bp-5Fh]@10
  int v12; // [sp+35h] [bp-5Bh]@10
  int v13; // [sp+39h] [bp-57h]@10
  int v14; // [sp+3Dh] [bp-53h]@10
  int v15; // [sp+41h] [bp-4Fh]@10
  int v16; // [sp+45h] [bp-4Bh]@10
  int v17; // [sp+49h] [bp-47h]@10
  int v18; // [sp+4Dh] [bp-43h]@10
  int v19; // [sp+51h] [bp-3Fh]@10
  int v20; // [sp+55h] [bp-3Bh]@10
  int v21; // [sp+59h] [bp-37h]@10
  int v22; // [sp+5Dh] [bp-33h]@10
  int v23; // [sp+61h] [bp-2Fh]@10
  int v24; // [sp+65h] [bp-2Bh]@10
  int v25; // [sp+69h] [bp-27h]@10
  int v26; // [sp+6Dh] [bp-23h]@10
  int v27; // [sp+71h] [bp-1Fh]@10
  int v28; // [sp+75h] [bp-1Bh]@10
  int v29; // [sp+79h] [bp-17h]@12
  int v30; // [sp+7Dh] [bp-13h]@12

  v2 = sub_10019B10((int)(a1 + 232), a1, ".RGN", *((_WORD *)a1 + 11));
  if ( !v2 )
    v2 = sub_1001E100(*((_DWORD *)a1 + 58), 0, v3, 2);
  if ( !v2 )
    v2 = sub_1001E100(*((_DWORD *)a1 + 58), 0, v3, v3[0]);
  if ( !v2 )
  {
    if ( !memcmp("GARMIN RGN", v4, 0xAu) && v5 == 1 )
    {
      *((_DWORD *)a1 + 59) = v6;
      *((_DWORD *)a1 + 60) = v7;
      *((_WORD *)a1 + 168) = 0;
      *((_WORD *)a1 + 169) = 0;
      *((_WORD *)a1 + 173) = 0;
      *((_WORD *)a1 + 177) = 0;
      *((_WORD *)a1 + 181) = 0;
      if ( (unsigned int)v3[0] >= 0x69 )
      {
        *((_DWORD *)a1 + 61) = v8;
        *((_DWORD *)a1 + 62) = v9;
        *((_DWORD *)a1 + 63) = v10;
        *((_DWORD *)a1 + 64) = v11;
        *((_DWORD *)a1 + 65) = v12;
        *((_DWORD *)a1 + 66) = v13;
        *((_DWORD *)a1 + 67) = v14;
        *((_DWORD *)a1 + 68) = v15;
        *((_DWORD *)a1 + 69) = v16;
        *((_DWORD *)a1 + 70) = v17;
        *((_DWORD *)a1 + 71) = v18;
        *((_DWORD *)a1 + 72) = v19;
        *((_DWORD *)a1 + 73) = v20;
        *((_DWORD *)a1 + 74) = v21;
        *((_DWORD *)a1 + 75) = v22;
        *((_DWORD *)a1 + 76) = v23;
        *((_DWORD *)a1 + 77) = v24;
        *((_DWORD *)a1 + 78) = v25;
        *((_DWORD *)a1 + 79) = v26;
        *((_DWORD *)a1 + 80) = v27;
        *((_DWORD *)a1 + 81) = v28;
      }
      if ( (unsigned int)v3[0] >= 0x71 )
      {
        *((_DWORD *)a1 + 82) = v29;
        *((_DWORD *)a1 + 83) = v30;
      }
    }
    else
    {
      v2 = 1;
    }
  }
  return v2;
}

//----- (1001A790) --------------------------------------------------------
int __cdecl sub_1001A790(int a1)
{
  int result; // eax@2
  char v2; // [sp+0h] [bp-14h]@3

  if ( *(_BYTE *)(a1 + 11) )
  {
    strcpy(&v2, (const char *)(a1 + 11));
    strcat(&v2, ".SRT");
    result = sub_10017B10(a1, &v2);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1001A800) --------------------------------------------------------
int __cdecl sub_1001A800(char *a1, int a2, int a3)
{
  int v3; // ST10_4@34
  int v5; // [sp+4h] [bp-10Ch]@1
  char v6; // [sp+8h] [bp-108h]@1
  char *v7; // [sp+2Ch] [bp-E4h]@1
  __int16 v8; // [sp+30h] [bp-E0h]@2
  char v9; // [sp+32h] [bp-DEh]@6
  __int16 v10; // [sp+3Ch] [bp-D4h]@5
  unsigned __int16 v11; // [sp+3Eh] [bp-D2h]@17
  __int16 v12; // [sp+45h] [bp-CBh]@13
  char v13; // [sp+47h] [bp-C9h]@13
  __int16 v14; // [sp+48h] [bp-C8h]@13
  char v15; // [sp+4Ah] [bp-C6h]@13
  __int16 v16; // [sp+4Bh] [bp-C5h]@13
  char v17; // [sp+4Dh] [bp-C3h]@13
  __int16 v18; // [sp+4Eh] [bp-C2h]@13
  char v19; // [sp+50h] [bp-C0h]@13
  int v20; // [sp+51h] [bp-BFh]@11
  int v21; // [sp+55h] [bp-BBh]@10
  int v22; // [sp+59h] [bp-B7h]@18
  int v23; // [sp+6Fh] [bp-A1h]@37
  int v24; // [sp+7Ah] [bp-96h]@40
  int v25; // [sp+7Eh] [bp-92h]@40
  unsigned __int16 v26; // [sp+82h] [bp-8Eh]@40
  int v27; // [sp+84h] [bp-8Ch]@40
  int v28; // [sp+88h] [bp-88h]@42
  int v29; // [sp+8Ch] [bp-84h]@42
  unsigned __int16 v30; // [sp+90h] [bp-80h]@42
  int v31; // [sp+92h] [bp-7Eh]@42
  int v32; // [sp+96h] [bp-7Ah]@44
  int v33; // [sp+9Ah] [bp-76h]@44
  unsigned __int16 v34; // [sp+9Eh] [bp-72h]@44
  int v35; // [sp+A0h] [bp-70h]@44
  int v36; // [sp+A4h] [bp-6Ch]@16
  int v37; // [sp+ACh] [bp-64h]@47
  unsigned int v38; // [sp+B0h] [bp-60h]@48
  __int16 v39; // [sp+B4h] [bp-5Ch]@47
  int v40; // [sp+B6h] [bp-5Ah]@49
  int v41; // [sp+BAh] [bp-56h]@51
  __int16 v42; // [sp+C2h] [bp-4Eh]@51
  __int16 v43; // [sp+C4h] [bp-4Ch]@51
  __int16 v44; // [sp+C6h] [bp-4Ah]@51
  __int16 v45; // [sp+C8h] [bp-48h]@51
  int v46; // [sp+DAh] [bp-36h]@18
  __int16 v47[2]; // [sp+F8h] [bp-18h]@5
  __int16 v48; // [sp+FCh] [bp-14h]@4
  int v49; // [sp+100h] [bp-10h]@27
  int i; // [sp+104h] [bp-Ch]@18
  __int16 v51; // [sp+108h] [bp-8h]@10
  int v52; // [sp+10Ch] [bp-4h]@11

  *(_BYTE *)a3 = 0;
  v7 = &v6;
  v5 = sub_10019B10((int)(a1 + 44), a1, ".TRE", *((_WORD *)a1 + 11));
  if ( !v5 )
    v5 = sub_1001E100(*((_DWORD *)a1 + 11), 0, &v8, 188);
  if ( !v5 )
    v48 = v8;
  v47[0] = v10;
  if ( !v5 && (memcmp("GARMIN TRE", &v9, 0xAu) || v47[0] != 1 && (unsigned __int16)v47[0] != 32769) )
    v5 = 1;
  *(_DWORD *)v47 = v21;
  v51 = (unsigned int)(signed __int16)v21 >> 2;
  if ( !v5 )
  {
    v52 = v20;
    v5 = sub_1001E100(*((_DWORD *)a1 + 11), v20, &v6, v47[0]);
  }
  if ( !v5 )
  {
    *((_WORD *)a1 + 14) = v12;
    *((_WORD *)a1 + 15) = v13;
    *((_WORD *)a1 + 16) = v14;
    *((_WORD *)a1 + 17) = v15;
    *((_WORD *)a1 + 18) = v16;
    *((_WORD *)a1 + 19) = v17;
    *((_WORD *)a1 + 20) = v18;
    *((_WORD *)a1 + 21) = v19;
    *((_DWORD *)a1 + 7) <<= 8;
    *((_DWORD *)a1 + 8) <<= 8;
    *((_DWORD *)a1 + 9) <<= 8;
    *((_DWORD *)a1 + 10) <<= 8;
    if ( *((_DWORD *)a1 + 10) == *((_DWORD *)a1 + 8) )
      --*((_DWORD *)a1 + 8);
    if ( (unsigned int)v48 <= 0x74 )
    {
      *(_DWORD *)a2 = sub_1001AFA0((int)&v11, a1);
    }
    else
    {
      *(_DWORD *)v47 = v36;
      *(_DWORD *)a2 = v36 & 0xFFFFFFF;
    }
    *((_DWORD *)a1 + 12) = v22;
    *((_WORD *)a1 + 26) = 0;
    *((_WORD *)a1 + 27) = -1;
    memset(a1 + 56, 0, 0x12u);
    a1[83] = 8;
    a1[84] = 0;
    *((_WORD *)a1 + 82) = 0;
    *(_DWORD *)v47 = v46;
    i = 0;
    while ( i < v51 )
    {
      *((_WORD *)a1 + 26) += *(_DWORD *)v7 >> 16;
      *(_WORD *)&a1[2 * (*(_DWORD *)v7 & 0x7F) + 56] = *(_DWORD *)v7 >> 16;
      a1[(*(_DWORD *)v7 & 0x7F) + 74] = *(_WORD *)v7 >> 8;
      if ( !((*(_DWORD *)v7 >> 7) & 1) )
        *((_WORD *)a1 + 27) &= ~(1 << (*(_DWORD *)v7 & 0x7F));
      if ( (*(_DWORD *)v7 & 0x7F) < (unsigned __int8)a1[83] )
        a1[83] = *v7 & 0x7F;
      if ( (*(_DWORD *)v7 & 0x7F) > (unsigned __int8)a1[84] )
        a1[84] = *v7 & 0x7F;
      ++i;
      v7 += 4;
    }
    v49 = 1;
    for ( i = 8; i >= 0; --i )
    {
      while ( i >= 0 && !*(_WORD *)&a1[2 * i + 56] )
        --i;
      if ( i >= 0 )
      {
        v3 = v49 + *(_WORD *)&a1[2 * i + 56];
        *(_WORD *)&a1[2 * i + 56] = v49;
        v49 = v3;
      }
    }
    if ( (unsigned int)v48 > 0x3F )
    {
      *((_DWORD *)a1 + 27) = v23;
      *((_WORD *)a1 + 52) = (unsigned __int8)(*((_DWORD *)a1 + 27) >> 18);
      a1[106] = (*((_DWORD *)a1 + 27) >> 13) & 0x1F;
      if ( (*((_DWORD *)a1 + 27) >> 26) & 1 )
        *((_WORD *)a1 + 52) += 64;
    }
    if ( (unsigned int)v48 > 0x4A )
    {
      *((_DWORD *)a1 + 28) = v24;
      *((_WORD *)a1 + 59) = v26;
      LOWORD(v52) = v26;
      *((_WORD *)a1 + 58) = v25 / v26;
      *(_DWORD *)v47 = v27;
      a1[160] = v27 & 0x3F;
    }
    if ( (unsigned int)v48 > 0x58 )
    {
      *((_DWORD *)a1 + 30) = v28;
      *((_WORD *)a1 + 63) = v30;
      LOWORD(v52) = v30;
      *((_WORD *)a1 + 62) = v29 / v30;
      *(_DWORD *)v47 = v31;
      a1[161] = v31 & 0x3F;
    }
    if ( (unsigned int)v48 > 0x70 )
    {
      *((_DWORD *)a1 + 32) = v32;
      *((_WORD *)a1 + 67) = v34;
      LOWORD(v52) = v34;
      *((_WORD *)a1 + 66) = v33 / v34;
      *(_DWORD *)v47 = v35;
      a1[162] = v35 & 0x3F;
    }
    v47[0] = v11;
    if ( (signed int)v11 >= 2001 )
    {
      if ( (unsigned int)v48 > 0x86 )
      {
        *((_DWORD *)a1 + 22) = v37;
        *((_WORD *)a1 + 46) = v39;
        v47[0] = v39;
        if ( v39 )
        {
          v52 = v38;
          *((_WORD *)a1 + 47) = v38 / (unsigned __int16)v47[0] - 1;
        }
        *((_DWORD *)a1 + 25) = v40;
        *((_WORD *)a1 + 48) = *((_WORD *)a1 + 26) - *((_WORD *)a1 + 47) + 1;
      }
      if ( (unsigned int)v48 > 0x94 )
      {
        *((_WORD *)a1 + 70) = v43 & 0xFFF;
        *((_WORD *)a1 + 71) = v42;
        *((_DWORD *)a1 + 34) = v41;
        v47[0] = v44;
        *((_WORD *)a1 + 74) = v44 & 0xFFF;
        *((_WORD *)a1 + 75) = *((_WORD *)a1 + 71);
        *((_DWORD *)a1 + 36) = *((_DWORD *)a1 + 34);
        *((_DWORD *)a1 + 36) += *((_WORD *)a1 + 71) * *((_WORD *)a1 + 70);
        v47[0] = v45;
        *((_WORD *)a1 + 78) = v45 & 0xFFF;
        *((_WORD *)a1 + 79) = *((_WORD *)a1 + 71);
        *((_DWORD *)a1 + 38) = *((_DWORD *)a1 + 36);
        *((_DWORD *)a1 + 38) += *((_WORD *)a1 + 75) * *((_WORD *)a1 + 74);
      }
    }
    if ( (unsigned int)v48 > 0xAA )
      *(_BYTE *)a3 = 1;
  }
  v47[0] = v11;
  if ( !v5 && (signed int)(unsigned __int16)v47[0] >= 2001 && *(_BYTE *)a3 != 1 )
    v5 = 1;
  return v5;
}

//----- (1001AFA0) --------------------------------------------------------
__int32 __cdecl sub_1001AFA0(int a1, char *a2)
{
  char *v3; // [sp+0h] [bp-Ch]@1
  char v4; // [sp+5h] [bp-7h]@1
  unsigned __int8 v5; // [sp+6h] [bp-6h]@1
  unsigned __int8 i; // [sp+7h] [bp-5h]@1
  __int32 v7; // [sp+8h] [bp-4h]@12

  i = 0;
  v5 = 0;
  v4 = 1;
  v3 = a2;
  while ( a2[i] )
  {
    if ( a2[i] == 58 )
    {
      v5 = i + 1;
      break;
    }
    ++i;
  }
  for ( i = 0; *(&a2[v5] + i); ++i )
  {
    if ( !isdigit((unsigned __int8)*(&a2[v5] + i)) )
    {
      v4 = 0;
      break;
    }
  }
  if ( v4 == 1 )
    v7 = ((*(_BYTE *)(a1 + 2) & 3) << 18) + (strtol(&a2[v5], &v3, 10) & 0x3FFFF);
  if ( v4 != 1 || v3 == a2 )
  {
    v7 = *(_BYTE *)(a1 + 5) + 60 * (*(_BYTE *)(a1 + 4) + 24 * (31 * (*(_BYTE *)(a1 + 2) - 1) + *(_BYTE *)(a1 + 3) - 1));
    if ( !v7 )
      v7 = -1;
    v7 = (unsigned __int16)v7;
  }
  return v7;
}

//----- (1001B0D0) --------------------------------------------------------
int __cdecl sub_1001B0D0(int a1, void *a2, int a3, int a4)
{
  double v4; // ST24_8@36
  double v5; // st7@36
  char *v6; // edx@51
  bool v8; // [sp+Ch] [bp-108h]@44
  int v9; // [sp+2Ch] [bp-E8h]@1
  int v10; // [sp+30h] [bp-E4h]@1
  __int16 v11; // [sp+34h] [bp-E0h]@1
  __int16 v12; // [sp+40h] [bp-D4h]@13
  int v13; // [sp+65h] [bp-AFh]@1
  int v14; // [sp+69h] [bp-ABh]@1
  unsigned __int16 v15; // [sp+6Dh] [bp-A7h]@1
  unsigned int v16; // [sp+73h] [bp-A1h]@1
  unsigned int v17; // [sp+77h] [bp-9Dh]@1
  int v18; // [sp+ACh] [bp-68h]@1
  int v19; // [sp+F8h] [bp-1Ch]@1
  unsigned int v20; // [sp+FCh] [bp-18h]@1
  unsigned __int16 v21; // [sp+100h] [bp-14h]@1
  unsigned int v22; // [sp+104h] [bp-10h]@1
  unsigned __int16 i; // [sp+108h] [bp-Ch]@56
  unsigned __int16 v24; // [sp+10Ch] [bp-8h]@54
  int v25; // [sp+110h] [bp-4h]@1

  v19 = 0;
  memset(a2, 0, 0x30u);
  v19 = sub_1001E100(*(_DWORD *)(a1 + 44), 0, &v11, 188);
  v20 = v17;
  v22 = v16;
  v9 = v18;
  v10 = v13;
  v25 = v14;
  v21 = v15;
  if ( !v19 )
  {
    if ( ((signed int)*(_WORD *)(a1 + 410) >> 15) & 1 && *(_DWORD *)(a1 + 440) )
    {
      *((_DWORD *)a2 + 6) = *((_DWORD *)a2 + 6) & 0xFFFFFFFE | 1;
      *((_DWORD *)a2 + 6) = *((_DWORD *)a2 + 6) & 0xFFFDFFFF | 0x20000;
    }
    else if ( sub_1001B660(a1, (int)&unk_100813F8, 13) )
    {
      *((_DWORD *)a2 + 6) = *((_DWORD *)a2 + 6) & 0xFFFDFFFF | 0x20000;
    }
    if ( *(_DWORD *)(a1 + 508) )
      *((_DWORD *)a2 + 6) = *((_DWORD *)a2 + 6) & 0xFFFFFFFD | 2;
    if ( *(_DWORD *)(a1 + 540) )
      *((_DWORD *)a2 + 6) = *((_DWORD *)a2 + 6) & 0xFFFFFFFB | 4;
    if ( *(_DWORD *)(a1 + 516) )
      *((_DWORD *)a2 + 6) = *((_DWORD *)a2 + 6) & 0xFFFFFFF7 | 8;
    if ( v12 & 0x8000 )
      *((_DWORD *)a2 + 6) = *((_DWORD *)a2 + 6) & 0xFFFEFFFF | 0x10000;
    if ( (unsigned int)v11 >= 0x43 )
    {
      if ( v22 & 1 )
        *((_DWORD *)a2 + 6) = *((_DWORD *)a2 + 6) & 0xFFFFFFDF | 0x20;
      if ( v22 & 2 )
        *((_DWORD *)a2 + 6) = *((_DWORD *)a2 + 6) & 0xFFFFFFBF | 0x40;
      *((_BYTE *)a2 + 10) = (unsigned __int16)(v22 & 0x1F00) >> 8;
      if ( (*((_DWORD *)a2 + 6) >> 6) & 1 )
        *((_BYTE *)a2 + 10) += 32;
      if ( v22 & 4 )
        *((_DWORD *)a2 + 6) = *((_DWORD *)a2 + 6) & 0xFFFFEFFF | 0x1000;
      if ( v22 & 8 )
        *((_DWORD *)a2 + 6) = *((_DWORD *)a2 + 6) & 0xFFFFDFFF | 0x2000;
      if ( (v22 >> 4) & 1 )
        *((_DWORD *)a2 + 6) = *((_DWORD *)a2 + 6) & 0xFFFF7FFF | 0x8000;
      if ( (v22 >> 18) & 0xFF )
        *((_DWORD *)a2 + 6) = *((_DWORD *)a2 + 6) & 0xFFF7FFFF | 0x80000;
    }
    if ( (unsigned int)v11 >= 0x47 )
    {
      if ( v20 & 1 )
        *((_DWORD *)a2 + 6) = *((_DWORD *)a2 + 6) & 0xFFFFFF7F | 0x80;
      *((_BYTE *)a2 + 11) = (unsigned __int16)(v20 & 0xFF00) >> 8;
      *((_WORD *)a2 + 6) = (unsigned __int8)(v20 >> 16);
    }
    if ( (unsigned int)v11 >= 0x7C && v9 )
    {
      v4 = log((double)(unsigned int)v9 / 2000.0 * 107.1731879663968);
      v5 = log(2.0);
      *((_BYTE *)a2 + 19) = (signed int)floor(32.0 - v4 / v5);
    }
  }
  if ( (*(_WORD *)(a1 + 462) & 0x8000) > 0 && *(_BYTE *)(a1 + 402) != 6 && *(_BYTE *)(a1 + 402) != 7 )
    *((_DWORD *)a2 + 6) = *((_DWORD *)a2 + 6) & 0xFFFFF7FF | 0x800;
  v8 = *(_DWORD *)(a1 + 548) && **(_BYTE **)(a1 + 548) && *(_BYTE *)(*(_DWORD *)(a1 + 548) + 11) & 0x10;
  if ( v8 )
    *((_DWORD *)a2 + 6) = *((_DWORD *)a2 + 6) & 0xFFFFBFFF | 0x4000;
  if ( !v19 )
    *((_DWORD *)a2 + 5) = *(_DWORD *)(a1 + 24);
  if ( !v19 )
  {
    v6 = (char *)a2 + 28;
    *(_DWORD *)v6 = *(_DWORD *)(a1 + 28);
    *((_DWORD *)v6 + 1) = *(_DWORD *)(a1 + 32);
    *((_DWORD *)v6 + 2) = *(_DWORD *)(a1 + 36);
    *((_DWORD *)v6 + 3) = *(_DWORD *)(a1 + 40);
  }
  if ( !v19 && (unsigned int)v11 >= 0x3F )
  {
    v24 = v25 / v21;
    if ( v24 > (unsigned int)a3 )
      v24 = a3;
    for ( i = 0; !v19 && i < (signed int)v24; ++i )
      v19 = sub_1001E100(*(_DWORD *)(a1 + 44), v10 + v21 * i, (void *)(a4 + 4 * i), 3);
  }
  if ( !v19 )
  {
    for ( i = 0; i <= (signed int)*(_BYTE *)(a1 + 84); ++i )
    {
      if ( *(_WORD *)(a1 + 2 * i + 56) )
      {
        if ( (1 << i) & ~*(_WORD *)(a1 + 54) )
          *((_BYTE *)a2 + (*(_BYTE *)a2)++ + 1) = *(_BYTE *)(a1 + i + 74);
      }
    }
  }
  return v19;
}

//----- (1001B660) --------------------------------------------------------
char __cdecl sub_1001B660(int a1, int a2, __int16 a3)
{
  int v4; // [sp+0h] [bp-10h]@3
  char v5; // [sp+4h] [bp-Ch]@3
  char v6; // [sp+Bh] [bp-5h]@1
  __int16 v7; // [sp+Ch] [bp-4h]@1

  v6 = 0;
  v7 = 0;
  if ( *(_DWORD *)(a1 + 128) )
  {
    if ( *(_WORD *)(a1 + 132) )
    {
      v7 = 0;
      *(_DWORD *)(a1 + 676) = a2;
      *(_WORD *)(a1 + 680) = a3;
      *(_DWORD *)(a1 + 684) = 0;
      v4 = sub_1001EE40(a1, (int)&v5, 1, &v7, 0);
      if ( (!v4 || v4 == 2) && v7 > 0 )
        v6 = 1;
    }
  }
  return v6;
}

//----- (1001B700) --------------------------------------------------------
signed __int16 __cdecl sub_1001B700(__int16 a1)
{
  signed __int16 v2; // [sp+4h] [bp-4h]@2

  switch ( a1 )
  {
    case 1:
    case 2:
    case 3:
    case 4:
    case 5:
    case 0xF:
      v2 = 0;
      break;
    case 6:
      v2 = 1;
      break;
    case 7:
      v2 = 2;
      break;
    case 8:
      v2 = 3;
      break;
    case 9:
    case 0xA:
      v2 = 4;
      break;
    case 0xB:
    case 0xD:
      v2 = 5;
      break;
    case 0xC:
    case 0xE:
      v2 = 6;
      break;
    case 0x11:
      v2 = 7;
      break;
    case 0x10:
      v2 = 8;
      break;
    default:
      v2 = 9;
      break;
  }
  return v2;
}

//----- (1001B7C0) --------------------------------------------------------
int __cdecl sub_1001B7C0(int a1, int a2, int a3, char *a4)
{
  __int16 v4; // ax@71
  __int16 v5; // ax@71
  char v7; // [sp+Fh] [bp-369h]@4
  const char *v8; // [sp+10h] [bp-368h]@1
  char *v9; // [sp+14h] [bp-364h]@1
  signed int v10; // [sp+18h] [bp-360h]@1
  int v11; // [sp+18h] [bp-360h]@21
  char v12; // [sp+1Fh] [bp-359h]@18
  _DWORD v13[2]; // [sp+20h] [bp-358h]@15
  char v14; // [sp+28h] [bp-350h]@24
  unsigned __int16 v15; // [sp+21Ch] [bp-15Ch]@1
  __int16 v16; // [sp+220h] [bp-158h]@116
  unsigned __int16 v17; // [sp+224h] [bp-154h]@15
  char v18; // [sp+228h] [bp-150h]@12
  char v19; // [sp+232h] [bp-146h]@101
  char v20[56]; // [sp+248h] [bp-130h]@49
  int v21; // [sp+280h] [bp-F8h]@1
  char v22; // [sp+287h] [bp-F1h]@4
  __int16 i; // [sp+288h] [bp-F0h]@46
  int v24; // [sp+28Ch] [bp-ECh]@1
  int v25; // [sp+290h] [bp-E8h]@1
  char v26; // [sp+297h] [bp-E1h]@15
  unsigned __int16 v27; // [sp+298h] [bp-E0h]@18
  __int16 v28; // [sp+29Ch] [bp-DCh]@1
  int v29; // [sp+2A0h] [bp-D8h]@16
  __int16 v30; // [sp+2A4h] [bp-D4h]@112
  int v31; // [sp+2A8h] [bp-D0h]@31
  char v32; // [sp+2ACh] [bp-CCh]@34

  v10 = 1;
  v28 = -1;
  v21 = a1;
  v8 = 0;
  v24 = 0;
  v25 = -1;
  v9 = 0;
  v15 = 0;
  if ( (*(_BYTE *)(a1 + 8) == 25 || *(_BYTE *)(v21 + 8) == 24) && *(_DWORD *)v21 )
  {
    v7 = 0;
    v22 = 0;
    v28 = *(_WORD *)(v21 + 10);
    v24 = sub_100026C0(v28);
    switch ( *(_DWORD *)a3 )
    {
      case 0x13:
      case 0x18:
        if ( (*(_DWORD *)(v24 + 40) >> 10) & 1 )
          v22 = 1;
        else
          v7 = 1;
        break;
      case 0xC:
      case 0xD:
      case 0x15:
        v7 = 1;
        break;
      case 0x12:
      case 0x14:
        v22 = 1;
        break;
      default:
        break;
    }
    if ( v7 == 1 && sub_100244D0(((signed int)(unsigned __int16)v28 >> 13) & 7, (int)&v18) )
      v7 = 0;
    if ( v22 == 1 )
    {
      v22 = 0;
      strcpy((char *)v13, "0:");
      strcat((char *)v13, "????????.MPS");
      v26 = ((signed int)(unsigned __int16)v28 >> 13) & 7;
      LOBYTE(v13[0]) += v26;
      v17 = *(_WORD *)(*(_DWORD *)dword_10152F40[4 * (((signed int)(unsigned __int16)v28 >> 13) & 7)] + 4);
      if ( v24 )
      {
        if ( !sub_100243B0((unsigned int *)&v29, (int)v13, v17) && *(_DWORD *)(v24 + 12) != -1 )
        {
          sub_1001C470(v29, *(_DWORD *)(v24 + 12), 1);
          sub_100243F0(v29, &v12, 1);
          if ( !sub_100243F0(v29, &v27, 2) )
          {
            if ( (signed int)v27 > 500 )
            {
              v15 = v27 - 500;
              v27 = 500;
            }
            v11 = sub_100243F0(v29, v13, v27);
            if ( !v11 )
            {
              if ( (signed int)v15 > 0 )
              {
                sub_1001C470(v29, v15, 1);
                v15 = 0;
              }
              v25 = v13[0];
              v8 = &v14;
              while ( !v11 && !v9 )
              {
                sub_100243F0(v29, &v12, 1);
                v11 = sub_100243F0(v29, &v27, 2);
                if ( !v11 )
                {
                  v11 = 0;
                  if ( v12 == 70 )
                  {
                    if ( (signed int)v27 > 200 )
                    {
                      v15 = v27 - 200;
                      v27 = 200;
                    }
                    v11 = sub_100243F0(v29, &v31, v27);
                    if ( (signed int)v15 > 0 )
                    {
                      sub_1001C470(v29, v15, 1);
                      v15 = 0;
                    }
                    if ( v25 == v31 )
                      v9 = &v32;
                  }
                  else
                  {
                    sub_1001C470(v29, v27, 1);
                  }
                }
              }
            }
          }
        }
        sub_100241B0(&v29);
      }
      else
      {
        v8 = (const char *)v13;
        sprintf((char *)v13, "%s%d", "MDR_", (unsigned __int16)v28 % 4096);
      }
    }
    v10 = 0;
    switch ( *(_DWORD *)a3 )
    {
      case 0xD:
        sub_1001C4C0(a4, a3, v28);
        break;
      case 0x13:
      case 0x18:
        if ( (unsigned __int16)v28 != 0xFFFF )
        {
          if ( (*(_DWORD *)(v24 + 40) >> 10) & 1 || v7 != 1 )
          {
            if ( sub_10002650(v28) && *(_DWORD *)a3 == 24 )
            {
              strncpy(*(char **)(a3 + 8), "Basemap", (unsigned __int16)(**(_WORD **)(a3 + 4) - 1));
            }
            else if ( v8 )
            {
              i = strlen(v8);
              strncpy(*(char **)(a3 + 8), &v8[i + 1], (unsigned __int16)(**(_WORD **)(a3 + 4) - 1));
              *(_BYTE *)(**(_WORD **)(a3 + 4) + *(_DWORD *)(a3 + 8) - 1) = 0;
              if ( *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4) & 0x800 )
                sub_10002CC0(*(const char **)(a3 + 8));
              if ( *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4) & 0x1000 )
                sub_100033B0(*(const char **)(a3 + 8));
            }
          }
          else
          {
            sub_1001C4C0(a4, a3, v28);
            if ( !**(_BYTE **)(a3 + 8) )
            {
              for ( i = 0; i < **(_WORD **)(a3 + 4) - 2 && (unsigned int)i < 0x33; ++i )
                *(_BYTE *)(i + *(_DWORD *)(a3 + 8)) = v20[i];
              while ( i > 0 && *(_BYTE *)(*(_DWORD *)(a3 + 8) + i) == 32 )
                --i;
              *(_BYTE *)(i + *(_DWORD *)(a3 + 8)) = 0;
              if ( *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4) & 0x800 )
                sub_10002CC0(*(const char **)(a3 + 8));
              if ( *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4) & 0x1000 )
                sub_100033B0(*(const char **)(a3 + 8));
            }
          }
        }
        v10 = 0;
        *(_DWORD *)a2 |= 1u;
        break;
      case 0x12:
        if ( (unsigned __int16)v28 != 0xFFFF && v24 && (*(_DWORD *)(v24 + 40) >> 10) & 1 && v8 )
        {
          v4 = strlen(v8);
          i = v4;
          v5 = strlen(&v8[v4 + 1]);
          i += v5;
          strncpy(*(char **)(a3 + 8), &v8[i + 2], (unsigned __int16)(**(_WORD **)(a3 + 4) - 1));
          *(_BYTE *)(**(_WORD **)(a3 + 4) + *(_DWORD *)(a3 + 8) - 1) = 0;
          if ( *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4) & 0x800 )
            sub_10002CC0(*(const char **)(a3 + 8));
          if ( *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4) & 0x1000 )
            sub_100033B0(*(const char **)(a3 + 8));
        }
        v10 = 0;
        *(_DWORD *)a2 |= 1u;
        break;
      case 0x14:
        if ( (unsigned __int16)v28 != 0xFFFF && v24 && (*(_DWORD *)(v24 + 40) >> 10) & 1 && v8 )
        {
          strncpy(*(char **)(a3 + 8), v8, (unsigned __int16)(**(_WORD **)(a3 + 4) - 1));
          *(_BYTE *)(**(_WORD **)(a3 + 4) + *(_DWORD *)(a3 + 8) - 1) = 0;
          if ( *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4) & 0x800 )
            sub_10002CC0(*(const char **)(a3 + 8));
          if ( *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4) & 0x1000 )
            sub_100033B0(*(const char **)(a3 + 8));
        }
        v10 = 0;
        *(_DWORD *)a2 |= 1u;
        break;
      case 0x15:
        if ( (unsigned __int16)v28 != 0xFFFF && v24 )
        {
          for ( i = 0; i < **(_WORD **)(a3 + 4) - 2 && (unsigned int)i < 0x33; ++i )
            *(_BYTE *)(i + *(_DWORD *)(a3 + 8)) = v20[i];
          while ( i > 0 && *(_BYTE *)(*(_DWORD *)(a3 + 8) + i) == 32 )
            --i;
          *(_BYTE *)(i + *(_DWORD *)(a3 + 8)) = 0;
          if ( *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4) & 0x800 )
            sub_10002CC0(*(const char **)(a3 + 8));
          if ( *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4) & 0x1000 )
            sub_100033B0(*(const char **)(a3 + 8));
        }
        v10 = 0;
        *(_DWORD *)a2 |= 1u;
        break;
      case 0xC:
        if ( (unsigned __int16)v28 != 0xFFFF && v24 )
        {
          sub_100031A0((int)&v19, *(_BYTE **)(a3 + 8), **(_WORD **)(a3 + 4));
          if ( *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4) & 0x800 )
            sub_10002CC0(*(const char **)(a3 + 8));
          if ( *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4) & 0x1000 )
            sub_100033B0(*(const char **)(a3 + 8));
        }
        *(_DWORD *)a2 |= 1u;
        break;
      case 0xE:
        if ( (unsigned __int16)v28 != 0xFFFF && v24 )
          **(_BYTE **)(a3 + 8) = sub_10002550(v28);
        *(_DWORD *)a2 |= 1u;
        break;
      case 0xF:
        if ( (unsigned __int16)v28 != 0xFFFF && v24 )
          v30 = sub_1001B700(*(_WORD *)(v24 + 28));
        **(_WORD **)(a3 + 8) = v30;
        *(_DWORD *)a2 |= 1u;
        break;
      case 0x11:
        if ( (unsigned __int16)v28 != 0xFFFF && v24 )
          v16 = *(_WORD *)(v24 + 28);
        else
          v16 = 0;
        **(_WORD **)(a3 + 8) = v16;
        *(_DWORD *)a2 |= 1u;
        break;
      case 0x10:
        if ( (unsigned __int16)v28 != 0xFFFF && v24 )
          **(_DWORD **)(a3 + 8) = *(_DWORD *)(v24 + 40);
        *(_DWORD *)a2 |= 1u;
        break;
      default:
        return v10;
    }
  }
  return v10;
}
// 10152F40: using guessed type int dword_10152F40[];
// 1001B7C0: using guessed type char var_130[56];

//----- (1001C470) --------------------------------------------------------
int __cdecl sub_1001C470(int a1, int a2, int a3)
{
  if ( a3 )
  {
    if ( a3 == 2 )
      *(_DWORD *)(a1 + 16) = a2 + *(_DWORD *)(a1 + 12);
    else
      *(_DWORD *)(a1 + 16) += a2;
  }
  else
  {
    *(_DWORD *)(a1 + 16) = a2;
  }
  return *(_DWORD *)(a1 + 16);
}

//----- (1001C4C0) --------------------------------------------------------
int __cdecl sub_1001C4C0(char *a1, int a2, __int16 a3)
{
  int result; // eax@1
  unsigned __int16 v4; // [sp+4h] [bp-4h]@2

  result = sub_1001C560(a1, a3);
  if ( !result )
  {
    sub_1001C470(*((_DWORD *)a1 + 11), 0, 0);
    result = sub_100243F0(*((_DWORD *)a1 + 11), &v4, 2);
    if ( !result )
    {
      sub_1001C470(*((_DWORD *)a1 + 11), v4, 0);
      sub_100243F0(*((_DWORD *)a1 + 11), *(void **)(a2 + 8), **(_WORD **)(a2 + 4) - 1);
      result = *(_DWORD *)(a2 + 8);
      *(_BYTE *)(**(_WORD **)(a2 + 4) + result - 1) = 0;
    }
  }
  return result;
}

//----- (1001C560) --------------------------------------------------------
int __cdecl sub_1001C560(char *a1, __int16 a2)
{
  int v2; // eax@17
  bool v4; // [sp+4h] [bp-24h]@8
  char v5; // [sp+8h] [bp-20h]@5
  char v6; // [sp+10h] [bp-18h]@16
  int v7; // [sp+20h] [bp-8h]@11
  int v8; // [sp+24h] [bp-4h]@1

  v8 = 0;
  v4 = *((_DWORD *)a1 + 6)
    && (!*((_DWORD *)a1 + 11) || !**((_BYTE **)a1 + 11) || !(*(_BYTE *)(*((_DWORD *)a1 + 11) + 11) & 0x10) ? (v5 = 0) : (v5 = 1),
        v5);
  if ( (unsigned __int16)a2 == 0xFFFF )
  {
    v8 = 1;
    if ( v4 )
      sub_100194E0((int)a1);
  }
  else
  {
    v7 = sub_100026C0(a2);
    if ( v7 )
    {
      if ( !v4 || *((_DWORD *)a1 + 6) != *(_DWORD *)(v7 + 36) )
      {
        if ( v4 )
          sub_100194E0((int)a1);
        strcpy(&v6, "0:????????");
        v6 += ((signed int)(unsigned __int16)a2 >> 13) & 7;
        if ( *(_WORD *)(v7 + 10) == 0xFFFF )
          v2 = sub_10019570(a1, &v6, (int)&unk_1008146F, a2);
        else
          v2 = sub_10019570(a1, &v6, (int)&v6, a2);
        v8 = v2;
      }
    }
    else
    {
      v8 = 1;
      if ( v4 )
        sub_100194E0((int)a1);
    }
  }
  return v8;
}

//----- (1001C6D0) --------------------------------------------------------
int __cdecl sub_1001C6D0(_DWORD *a1, _DWORD *a2, int a3, int a4)
{
  if ( *a1 && *(_DWORD *)a3 == 35 )
    **(_DWORD **)(a3 + 8) = sub_1001F270(a4 + 588, *(char **)(a3 + 4), *(_DWORD *)(a3 + 8) + 4);
  *a2 |= 1u;
  return 0;
}

//----- (1001C740) --------------------------------------------------------
int __cdecl sub_1001C740(int a1, unsigned int *a2, int a3, int a4)
{
  int v4; // ecx@16
  _DWORD *v5; // edx@19
  char v7; // [sp+4h] [bp-54h]@1
  int v8; // [sp+14h] [bp-44h]@1
  char v9; // [sp+18h] [bp-40h]@9
  char v10; // [sp+33h] [bp-25h]@1
  int v11; // [sp+34h] [bp-24h]@1
  int v12; // [sp+38h] [bp-20h]@5
  int v13; // [sp+3Ch] [bp-1Ch]@5
  int v14; // [sp+44h] [bp-14h]@16
  int v15; // [sp+48h] [bp-10h]@16
  char v16; // [sp+53h] [bp-5h]@1
  char *v17; // [sp+54h] [bp-4h]@28

  v8 = 1;
  v16 = 0;
  v10 = 0;
  v11 = a1;
  v7 = 1;
  if ( (*(_BYTE *)(a1 + 8) == 18 || *(_BYTE *)(v11 + 8) == 34) && *(_DWORD *)v11 )
  {
    if ( *(_BYTE *)(v11 + 8) != 34 )
    {
      v13 = *(_DWORD *)(v11 + 4);
      v8 = sub_1001E150(a4, (int)&v12, &v7);
      if ( !v8 )
      {
        v10 = 1;
        if ( v7 != 1 && v7 )
          v16 = 1;
        v8 = sub_1001F970(a4, (int)&v9, (int)&v12);
      }
    }
    v8 = 0;
    switch ( *(_DWORD *)a3 )
    {
      case 0x18:
        if ( v10 == 1 || *(_BYTE *)(v11 + 8) == 34 )
          sub_10003410(
            a4,
            (int)&v12,
            *(_BYTE *)(v11 + 8) != 34 ? 4 : -1,
            *(void **)(a3 + 8),
            **(_WORD **)(a3 + 4),
            *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4));
        *a2 |= 1u;
        break;
      case 0xA:
        if ( v10 == 1 )
        {
          v4 = *(_DWORD *)(a3 + 8);
          *(_DWORD *)v4 = v14;
          *(_DWORD *)(v4 + 4) = v15;
        }
        *a2 |= 1u;
        break;
      case 0xB:
        if ( v10 == 1 )
        {
          HIWORD(v5) = HIWORD(a3);
          LOWORD(v5) = v12;
          sub_10002880(*(_BYTE *)(v11 + 8), v5, SBYTE2(v12), *(_DWORD **)(a3 + 8));
        }
        *a2 |= 1u;
        break;
      case 0x19:
        if ( v10 == 1 )
          **(_BYTE **)(a3 + 8) = BYTE2(v12);
        *a2 |= 1u;
        break;
      case 0x1B:
        if ( v10 == 1 )
          **(_WORD **)(a3 + 8) = v12;
        *a2 |= 1u;
        break;
      case 0x1A:
      case 0x1C:
        if ( v10 == 1 )
        {
          sub_100028B0(*(_BYTE *)(v11 + 8), v12, &v17);
          strncpy(*(char **)(a3 + 8), v17, (unsigned __int16)(**(_WORD **)(a3 + 4) - 1));
          *(_BYTE *)(**(_WORD **)(a3 + 4) + *(_DWORD *)(a3 + 8) - 1) = 0;
          if ( *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4) & 0x800 )
            sub_10002CC0(*(const char **)(a3 + 8));
          if ( *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4) & 0x1000 )
            sub_100033B0(*(const char **)(a3 + 8));
        }
        *a2 |= 1u;
        break;
      case 7:
      case 8:
        *a2 |= 1u;
        break;
      default:
        if ( v16 == 1 && !(*a2 & 1) )
          sub_1001F7A0((int)&v7, a3, a2, a4);
        break;
    }
  }
  return v8;
}

//----- (1001CA70) --------------------------------------------------------
int __cdecl sub_1001CA70(int a1, unsigned int *a2, int a3, int a4)
{
  int v4; // eax@16
  char v6; // [sp+4h] [bp-58h]@1
  char *v7; // [sp+14h] [bp-48h]@27
  char v8; // [sp+1Bh] [bp-41h]@1
  int v9; // [sp+1Ch] [bp-40h]@1
  int v10; // [sp+20h] [bp-3Ch]@4
  __int16 v11; // [sp+24h] [bp-38h]@19
  char v12; // [sp+26h] [bp-36h]@23
  int v13; // [sp+28h] [bp-34h]@4
  int v14; // [sp+4Ch] [bp-10h]@1
  char v15; // [sp+53h] [bp-9h]@1
  int v16; // [sp+54h] [bp-8h]@14
  int v17; // [sp+58h] [bp-4h]@14

  v9 = 1;
  v15 = 0;
  v8 = 0;
  v14 = a1;
  v6 = 1;
  if ( (*(_BYTE *)(a1 + 8) == 13 || *(_BYTE *)(v14 + 8) == 12) && *(_DWORD *)v14 )
  {
    v13 = *(_DWORD *)(v14 + 4);
    v9 = sub_1001D4E0(a4, (int)&v10, 0, &v6);
    if ( !v9 )
    {
      v8 = 1;
      if ( v6 != 1 )
      {
        if ( v6 )
          v15 = 1;
      }
    }
    v9 = 0;
    switch ( *(_DWORD *)a3 )
    {
      case 0x18:
        if ( v8 == 1 )
          sub_10003410(a4, (int)&v10, 2, *(void **)(a3 + 8), **(_WORD **)(a3 + 4), *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4));
        else
          **(_BYTE **)(a3 + 8) = 0;
        *a2 |= 1u;
        break;
      case 0xA:
        if ( *(_BYTE *)(v14 + 8) == 13 )
        {
          v16 = (*(_WORD *)(v14 + 12) << 8) | (*(_BYTE *)(v14 + 9) << 24);
          v17 = (*(_WORD *)(v14 + 14) << 8) | (*(_BYTE *)(v14 + 10) << 24);
        }
        else
        {
          v16 = -1073741825;
          v17 = 0;
        }
        v4 = *(_DWORD *)(a3 + 8);
        *(_DWORD *)v4 = v16;
        *(_DWORD *)(v4 + 4) = v17;
        *a2 |= 1u;
        break;
      case 0xB:
        sub_10002880(*(_BYTE *)(v14 + 8), 0, -1, *(_DWORD **)(a3 + 8));
        *a2 |= 1u;
        break;
      case 0x1B:
        if ( v8 == 1 )
          **(_WORD **)(a3 + 8) = v11;
        else
          **(_WORD **)(a3 + 8) = -1;
        *a2 |= 1u;
        break;
      case 0x19:
        if ( v8 == 1 )
          **(_BYTE **)(a3 + 8) = v12;
        else
          **(_BYTE **)(a3 + 8) = -1;
        *a2 |= 1u;
        break;
      case 0x1A:
      case 0x1C:
        if ( v8 == 1 )
        {
          v7 = sub_100032E0(v11);
          strncpy(*(char **)(a3 + 8), v7, (unsigned __int16)(**(_WORD **)(a3 + 4) - 1));
          *(_BYTE *)(**(_WORD **)(a3 + 4) + *(_DWORD *)(a3 + 8) - 1) = 0;
          if ( *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4) & 0x800 )
            sub_10002CC0(*(const char **)(a3 + 8));
          if ( *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4) & 0x1000 )
            sub_100033B0(*(const char **)(a3 + 8));
        }
        else
        {
          **(_BYTE **)(a3 + 8) = 0;
        }
        *a2 |= 1u;
        break;
      default:
        if ( v15 == 1 && !(*a2 & 1) )
          sub_1001F7A0((int)&v6, a3, a2, a4);
        break;
    }
  }
  return v9;
}

//----- (1001CDA0) --------------------------------------------------------
int __cdecl sub_1001CDA0(int a1, _DWORD *a2, int a3, int a4)
{
  int v4; // ecx@18
  _DWORD *v5; // ecx@22
  char *v7; // [sp+4h] [bp-2Ch]@30
  int v8; // [sp+8h] [bp-28h]@1
  char v9; // [sp+Fh] [bp-21h]@1
  int v10; // [sp+10h] [bp-20h]@1
  int v11; // [sp+14h] [bp-1Ch]@3
  int v12; // [sp+18h] [bp-18h]@3
  int v13; // [sp+1Ch] [bp-14h]@4
  int v14; // [sp+20h] [bp-10h]@18
  int v15; // [sp+24h] [bp-Ch]@18
  int v16; // [sp+2Ch] [bp-4h]@1

  v8 = 1;
  v9 = 0;
  v16 = -1;
  v10 = a1;
  if ( *(_BYTE *)(a1 + 8) == 5 && *(_DWORD *)v10 )
  {
    v12 = *(_DWORD *)(v10 + 4);
    v8 = sub_1001E150(a4, (int)&v11, 0);
    if ( !v8 )
    {
      v16 = v13;
      v9 = 1;
    }
    switch ( *(_DWORD *)a3 )
    {
      case 3:
      case 0x18:
        if ( v16 != -1 )
          v8 = sub_10017E40(
                 a4,
                 (int)&v16,
                 5,
                 *(void **)(a3 + 8),
                 **(_WORD **)(a3 + 4),
                 *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4));
        *a2 |= 1u;
        if ( v8 || v16 == -1 )
        {
          **(_BYTE **)(a3 + 8) = 0;
          v8 = 0;
        }
        break;
      case 4:
        if ( v9 == 1 )
        {
          **(_DWORD **)(a3 + 8) = *(_DWORD *)(a4 + 24);
          *(_BYTE *)(*(_DWORD *)(a3 + 8) + 8) = 5;
          *(_DWORD *)(*(_DWORD *)(a3 + 8) + 4) = v12;
        }
        else
        {
          **(_DWORD **)(a3 + 8) = 0;
          *(_DWORD *)(*(_DWORD *)(a3 + 8) + 4) = -1;
          *(_BYTE *)(*(_DWORD *)(a3 + 8) + 8) = 0;
          v8 = 0;
        }
        *a2 |= 1u;
        break;
      case 5:
        *a2 |= 1u;
        **(_BYTE **)(a3 + 8) = 0;
        v8 = 0;
        break;
      case 0xA:
        if ( v9 == 1 )
        {
          v4 = *(_DWORD *)(a3 + 8);
          *(_DWORD *)v4 = v14;
          *(_DWORD *)(v4 + 4) = v15;
        }
        else
        {
          **(_DWORD **)(a3 + 8) = -1073741825;
        }
        *a2 |= 1u;
        break;
      case 0xB:
        if ( v9 == 1 )
        {
          HIWORD(v5) = HIWORD(a3);
          LOWORD(v5) = v11;
          sub_10002880(*(_BYTE *)(v10 + 8), v5, SBYTE2(v11), *(_DWORD **)(a3 + 8));
        }
        else
        {
          sub_10002880(18, (_DWORD *)0x10A, -1, *(_DWORD **)(a3 + 8));
        }
        *a2 |= 1u;
        break;
      case 0x1B:
        if ( v9 == 1 )
          **(_WORD **)(a3 + 8) = v11;
        else
          **(_WORD **)(a3 + 8) = -1;
        *a2 |= 1u;
        break;
      case 0x1A:
      case 0x1C:
        if ( v9 == 1 )
        {
          sub_100028B0(*(_BYTE *)(v10 + 8), v11, &v7);
          strncpy(*(char **)(a3 + 8), v7, (unsigned __int16)(**(_WORD **)(a3 + 4) - 1));
          *(_BYTE *)(**(_WORD **)(a3 + 4) + *(_DWORD *)(a3 + 8) - 1) = 0;
          if ( *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4) & 0x800 )
            sub_10002CC0(*(const char **)(a3 + 8));
          if ( *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4) & 0x1000 )
            sub_100033B0(*(const char **)(a3 + 8));
        }
        else
        {
          **(_BYTE **)(a3 + 8) = 0;
        }
        *a2 |= 1u;
        break;
      case 0x21:
        *a2 |= 1u;
        **(_BYTE **)(a3 + 8) = 0;
        v8 = 0;
        break;
      default:
        return v8;
    }
  }
  return v8;
}

//----- (1001D110) --------------------------------------------------------
int __cdecl sub_1001D110(int a1, unsigned int *a2, int a3, int a4)
{
  int v4; // eax@16
  char v6; // [sp+4h] [bp-54h]@1
  char *v7; // [sp+14h] [bp-44h]@27
  int v8; // [sp+18h] [bp-40h]@1
  char v9; // [sp+1Fh] [bp-39h]@1
  __int16 v10; // [sp+20h] [bp-38h]@4
  char v11; // [sp+22h] [bp-36h]@23
  int v12; // [sp+24h] [bp-34h]@4
  int v13; // [sp+48h] [bp-10h]@1
  char v14; // [sp+4Fh] [bp-9h]@1
  int v15; // [sp+50h] [bp-8h]@14
  int v16; // [sp+54h] [bp-4h]@14

  v8 = 1;
  v9 = 0;
  v14 = 0;
  v13 = a1;
  v6 = 1;
  if ( (*(_BYTE *)(a1 + 8) == 3 || *(_BYTE *)(v13 + 8) == 2) && *(_DWORD *)v13 )
  {
    v12 = *(_DWORD *)(v13 + 4);
    v8 = sub_1001DA50(a4, (int)&v10, 0, &v6);
    if ( !v8 )
    {
      v9 = 1;
      if ( v6 != 1 )
      {
        if ( v6 )
          v14 = 1;
      }
    }
    v8 = 0;
    switch ( *(_DWORD *)a3 )
    {
      case 0x18:
        if ( v9 == 1 )
          sub_10003410(a4, (int)&v10, 0, *(void **)(a3 + 8), **(_WORD **)(a3 + 4), *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4));
        else
          **(_BYTE **)(a3 + 8) = 0;
        *a2 |= 1u;
        break;
      case 0xA:
        if ( *(_BYTE *)(v13 + 8) == 3 )
        {
          v15 = (*(_WORD *)(v13 + 12) << 8) | (*(_BYTE *)(v13 + 9) << 24);
          v16 = (*(_WORD *)(v13 + 14) << 8) | (*(_BYTE *)(v13 + 10) << 24);
        }
        else
        {
          v15 = -1073741825;
          v16 = 0;
        }
        v4 = *(_DWORD *)(a3 + 8);
        *(_DWORD *)v4 = v15;
        *(_DWORD *)(v4 + 4) = v16;
        *a2 |= 1u;
        break;
      case 0xB:
        sub_10002880(*(_BYTE *)(v13 + 8), 0, -1, *(_DWORD **)(a3 + 8));
        *a2 |= 1u;
        break;
      case 0x1B:
        if ( v9 == 1 )
          **(_WORD **)(a3 + 8) = v10;
        else
          **(_WORD **)(a3 + 8) = -1;
        *a2 |= 1u;
        break;
      case 0x19:
        if ( v9 == 1 )
          **(_BYTE **)(a3 + 8) = v11;
        else
          **(_BYTE **)(a3 + 8) = -1;
        *a2 |= 1u;
        break;
      case 0x1A:
      case 0x1C:
        if ( v9 == 1 )
        {
          v7 = sub_10003280(v10);
          strncpy(*(char **)(a3 + 8), v7, (unsigned __int16)(**(_WORD **)(a3 + 4) - 1));
          *(_BYTE *)(**(_WORD **)(a3 + 4) + *(_DWORD *)(a3 + 8) - 1) = 0;
          if ( *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4) & 0x800 )
            sub_10002CC0(*(const char **)(a3 + 8));
          if ( *(_DWORD *)(*(_DWORD *)(a3 + 4) + 4) & 0x1000 )
            sub_100033B0(*(const char **)(a3 + 8));
        }
        else
        {
          **(_BYTE **)(a3 + 8) = 0;
        }
        *a2 |= 1u;
        break;
      default:
        if ( v14 == 1 && !(*a2 & 1) )
          sub_1001F7A0((int)&v6, a3, a2, a4);
        break;
    }
  }
  return v8;
}

//----- (1001D440) --------------------------------------------------------
int __cdecl sub_1001D440(int a1, int a2, __int16 a3, void *a4)
{
  int v5; // [sp+0h] [bp-4h]@1

  v5 = 0;
  if ( sub_1001FC20(a1, a1 + 688, a1 + 112, a1 + 136, *(_BYTE *)(a1 + 160), a1 + 892) )
    *(_DWORD *)(a1 + 756) = 0;
  else
    v5 = 3;
  if ( !v5 )
  {
    sub_1001FBC0(a1);
    v5 = sub_1001D510(a1, a2, a3, a4);
  }
  return v5;
}

//----- (1001D4E0) --------------------------------------------------------
int __cdecl sub_1001D4E0(int a1, int a2, __int16 a3, void *a4)
{
  *(_DWORD *)(a1 + 672) = 0;
  return sub_1001D8B0(a1, a2, a3, a4);
}

//----- (1001D510) --------------------------------------------------------
int __cdecl sub_1001D510(int a1, int a2, __int16 a3, void *a4)
{
  signed int v5; // [sp+0h] [bp-8h]@5
  char v6; // [sp+6h] [bp-2h]@1
  char v7; // [sp+7h] [bp-1h]@31

  *(_DWORD *)(a1 + 672) = a1 + 688;
  v6 = (*(_DWORD *)(a1 + 100) >> 1) & 1;
  if ( !((*(_DWORD *)(a1 + 748) >> 15) & 1) && !*(_WORD *)(a1 + 116) && *(_DWORD *)(a1 + 112) )
  {
    sub_1001FBC0(a1);
    *(_DWORD *)(a1 + 748) &= 0xFFFFu;
    *(_DWORD *)(a1 + 748) &= 0xFFFFF000;
    *(_DWORD *)(a1 + 748) = *(_DWORD *)(a1 + 748) & 0xFFFF7FFF | 0x8000;
  }
  do
  {
    v5 = 0;
    if ( (unsigned __int16)(*(_DWORD *)(a1 + 748) >> 16) >> 8 && *(_WORD *)(a1 + 748) & 0xFFF )
    {
      *(_DWORD *)(a1 + 748) = ((*(_DWORD *)(a1 + 748) & 0xFFF) + 1) & 0xFFF | *(_DWORD *)(a1 + 748) & 0xFFFFF000;
    }
    else
    {
      v5 = sub_10020010(a1, *(_BYTE *)(a1 + 652));
      if ( v5 == 3 )
      {
        if ( (*(_DWORD *)(a1 + 748) >> 15) & 1 || !v6 )
          break;
        sub_1001FBC0(a1);
        *(_DWORD *)(a1 + 748) &= 0xFFFFu;
        *(_DWORD *)(a1 + 748) &= 0xFFFFF000;
        *(_DWORD *)(a1 + 748) = *(_DWORD *)(a1 + 748) & 0xFFFF7FFF | 0x8000;
      }
      else if ( !v5 )
      {
        *(_DWORD *)(a1 + 748) = (*(_WORD *)(a1 + 164) << 16) | *(_DWORD *)(a1 + 748) & 0xFFFF;
        if ( (*(_DWORD *)(a1 + 748) >> 15) & 1 )
        {
          if ( *(_DWORD *)(a1 + 216) )
          {
            *(_DWORD *)(a1 + 748) = *(_DWORD *)(a1 + 748) & 0xFFFFF000 | 1;
          }
          else
          {
            v5 = 3;
            *(_DWORD *)(a1 + 748) &= 0xFFFFF000;
          }
        }
        else if ( *(_BYTE *)(a1 + 172) & 4 )
        {
          *(_DWORD *)(a1 + 748) = *(_DWORD *)(a1 + 748) & 0xFFFFF000 | 1;
        }
        else
        {
          v5 = 3;
          *(_DWORD *)(a1 + 748) &= 0xFFFFF000;
        }
      }
    }
    if ( !v5 )
    {
      *(_DWORD *)(a2 + 8) = *(_DWORD *)(a1 + 748);
      v5 = sub_1001D8B0(a1, a2, a3, a4);
      if ( (*(_DWORD *)(a1 + 748) >> 15) & 1 )
      {
        if ( *(_WORD *)(a1 + 378) + *(_WORD *)(a1 + 380) <= *(_WORD *)(a1 + 384) )
          *(_DWORD *)(a1 + 748) &= 0xFFFFF000;
      }
      else if ( *(_WORD *)(a1 + 354) + *(_WORD *)(a1 + 356) <= *(_WORD *)(a1 + 360) )
      {
        *(_DWORD *)(a1 + 748) &= 0xFFFFF000;
      }
    }
    if ( !v5 )
    {
      sub_1001FF40(a1 + 712, a2 + 16, &v7);
      if ( !v7 )
        v5 = 3;
    }
  }
  while ( v5 == 3 );
  *(_DWORD *)(a1 + 672) = 0;
  return v5;
}

//----- (1001D8B0) --------------------------------------------------------
int __cdecl sub_1001D8B0(int a1, int a2, __int16 a3, void *a4)
{
  int v5; // [sp+0h] [bp-4h]@4

  if ( a4 )
    memset(a4, 0, 0x10u);
  *(_DWORD *)a2 = -1;
  if ( (*(_DWORD *)(a2 + 8) >> 15) & 1 )
  {
    v5 = sub_10020FF0(a1, a1 + 378, a2 + 4, a3, (int)a4);
  }
  else
  {
    v5 = sub_10020220(a1, a1 + 354, a2 + 4, a3);
    if ( !v5 || v5 == 2 )
    {
      if ( *(_DWORD *)(a2 + 12) & 0x800000 )
      {
        *(_DWORD *)a2 = *(_DWORD *)(a2 + 12);
        *(_DWORD *)(a2 + 12) = -1;
        *(_DWORD *)a2 &= 0x3FFFFFu;
      }
      else
      {
        *(_DWORD *)a2 = -1;
        *(_DWORD *)(a2 + 12) &= 0x3FFFFFu;
      }
    }
    *(_WORD *)(a2 + 4) &= 0x3Fu;
  }
  return v5;
}

//----- (1001D9B0) --------------------------------------------------------
signed int __cdecl sub_1001D9B0(int a1, int a2, __int16 a3, void *a4)
{
  signed int v5; // [sp+0h] [bp-4h]@1

  v5 = 0;
  if ( sub_1001FC20(a1, a1 + 700, a1 + 120, a1 + 144, *(_BYTE *)(a1 + 161), a1 + 760) )
    *(_DWORD *)(a1 + 756) = 0;
  else
    v5 = 3;
  if ( !v5 )
  {
    sub_1001FBC0(a1);
    v5 = sub_1001DA80(a1, a2, a3, a4);
  }
  return v5;
}

//----- (1001DA50) --------------------------------------------------------
int __cdecl sub_1001DA50(int a1, int a2, __int16 a3, void *a4)
{
  *(_DWORD *)(a1 + 672) = 0;
  return sub_1001DE50(a1, a2, a3, a4);
}

//----- (1001DA80) --------------------------------------------------------
signed int __cdecl sub_1001DA80(int a1, int a2, __int16 a3, void *a4)
{
  signed int v5; // [sp+0h] [bp-8h]@5
  char v6; // [sp+6h] [bp-2h]@35
  char v7; // [sp+7h] [bp-1h]@1

  *(_DWORD *)(a1 + 672) = a1 + 700;
  v7 = *(_BYTE *)(a1 + 100) & 1;
  if ( !((*(_DWORD *)(a1 + 752) >> 15) & 1) && !*(_WORD *)(a1 + 124) && *(_DWORD *)(a1 + 120) )
  {
    sub_1001FBC0(a1);
    *(_DWORD *)(a1 + 752) &= 0xFFFFu;
    *(_DWORD *)(a1 + 752) &= 0xFFFFF000;
    *(_DWORD *)(a1 + 752) = *(_DWORD *)(a1 + 752) & 0xFFFF7FFF | 0x8000;
  }
  do
  {
    v5 = 0;
    if ( (unsigned __int16)(*(_DWORD *)(a1 + 752) >> 16) >> 8 && *(_WORD *)(a1 + 752) & 0xFFF )
    {
      *(_DWORD *)(a1 + 752) = ((*(_DWORD *)(a1 + 752) & 0xFFF) + 1) & 0xFFF | *(_DWORD *)(a1 + 752) & 0xFFFFF000;
    }
    else
    {
      v5 = sub_10020010(a1, *(_BYTE *)(a1 + 652));
      if ( v5 == 3 )
      {
        if ( (*(_DWORD *)(a1 + 752) >> 15) & 1 || !v7 )
          break;
        sub_1001FBC0(a1);
        *(_DWORD *)(a1 + 752) &= 0xFFFFu;
        *(_DWORD *)(a1 + 752) &= 0xFFFFF000;
        *(_DWORD *)(a1 + 752) = *(_DWORD *)(a1 + 752) & 0xFFFF7FFF | 0x8000;
      }
      else if ( !v5 )
      {
        *(_DWORD *)(a1 + 752) = (*(_WORD *)(a1 + 164) << 16) | *(_DWORD *)(a1 + 752) & 0xFFFF;
        if ( (*(_DWORD *)(a1 + 752) >> 15) & 1 )
        {
          if ( *(_DWORD *)(a1 + 208) )
          {
            *(_DWORD *)(a1 + 752) = *(_DWORD *)(a1 + 752) & 0xFFFFF000 | 1;
          }
          else
          {
            v5 = 3;
            *(_DWORD *)(a1 + 752) &= 0xFFFFF000;
          }
        }
        else if ( *(_BYTE *)(a1 + 172) & 8 )
        {
          *(_DWORD *)(a1 + 752) = *(_DWORD *)(a1 + 752) & 0xFFFFF000 | 1;
        }
        else
        {
          v5 = 3;
          *(_DWORD *)(a1 + 752) &= 0xFFFFF000;
        }
      }
    }
    if ( !v5 )
    {
      *(_DWORD *)(a2 + 4) = *(_DWORD *)(a1 + 752);
      v5 = sub_1001DE50(a1, a2, a3, a4);
      if ( !v5 && (signed int)*(_WORD *)(a2 + 28) < 2 && *(_WORD *)(a2 + 28) == 1 )
        sub_10004310(".\\mdb\\mdb_area.c", 351, 0, 0);
      if ( (*(_DWORD *)(a1 + 752) >> 15) & 1 )
      {
        if ( *(_WORD *)(a1 + 370) + *(_WORD *)(a1 + 372) <= *(_WORD *)(a1 + 376) )
          *(_DWORD *)(a1 + 752) &= 0xFFFFF000;
      }
      else if ( *(_WORD *)(a1 + 362) + *(_WORD *)(a1 + 364) <= *(_WORD *)(a1 + 368) )
      {
        *(_DWORD *)(a1 + 752) &= 0xFFFFF000;
      }
    }
    if ( !v5 )
    {
      sub_1001FF40(a1 + 712, a2 + 12, &v6);
      if ( !v6 )
        v5 = 3;
    }
  }
  while ( v5 == 3 );
  *(_DWORD *)(a1 + 672) = 0;
  return v5;
}

//----- (1001DE50) --------------------------------------------------------
int __cdecl sub_1001DE50(int a1, int a2, __int16 a3, void *a4)
{
  int v5; // [sp+0h] [bp-4h]@4

  if ( a4 )
    memset(a4, 0, 0x10u);
  if ( (*(_DWORD *)(a2 + 4) >> 15) & 1 )
  {
    v5 = sub_10020FF0(a1, a1 + 370, a2, a3, (int)a4);
  }
  else
  {
    v5 = sub_10020220(a1, a1 + 362, a2, a3);
    if ( !v5 && (signed int)*(_WORD *)(a2 + 28) < 2 && *(_WORD *)(a2 + 28) == 1 )
      sub_10004310(".\\mdb\\mdb_area.c", 451, 0, 0);
    if ( !v5 )
      *(_DWORD *)(a2 + 8) &= 0x3FFFFFu;
  }
  return v5;
}

//----- (1001DF20) --------------------------------------------------------
char __cdecl sub_1001DF20(int a1, unsigned __int8 a2)
{
  unsigned __int8 v3; // [sp+2h] [bp-2h]@1
  unsigned __int8 i; // [sp+3h] [bp-1h]@1

  v3 = *(_BYTE *)(a1 + 83);
  for ( i = *(_BYTE *)(a1 + 83); i < (signed int)*(_BYTE *)(a1 + 84); ++i )
  {
    if ( *(_WORD *)(a1 + 2 * i + 56) )
    {
      if ( (1 << i) & ~*(_WORD *)(a1 + 54) )
      {
        v3 = i;
        if ( a2 >= (signed int)*(_BYTE *)(a1 + i + 74) )
          break;
      }
    }
  }
  *(_BYTE *)(a1 + 652) = v3;
  return *(_BYTE *)(a1 + v3 + 74);
}

//----- (1001DFB0) --------------------------------------------------------
int __cdecl sub_1001DFB0(__int16 a1, int a2, char *a3)
{
  char v4; // [sp+7h] [bp-11h]@0
  signed int v5; // [sp+8h] [bp-10h]@1
  unsigned __int16 v6; // [sp+Ch] [bp-Ch]@1
  int v7; // [sp+10h] [bp-8h]@14
  char *v8; // [sp+14h] [bp-4h]@1

  v6 = -1;
  v5 = 1;
  v8 = strchr(a3, 46);
  if ( v8 )
  {
    switch ( toupper((unsigned __int8)v8[1]) )
    {
      case 76:
        v4 = 1;
        break;
      case 77:
        v4 = 32;
        break;
      case 78:
        v4 = 3;
        if ( toupper((unsigned __int8)v8[2]) == 79 )
          v4 = 4;
        break;
      case 82:
        v4 = 2;
        break;
      case 83:
        v4 = 5;
        break;
      case 84:
        v4 = 0;
        break;
      default:
        v8 = 0;
        break;
    }
  }
  if ( v8 )
  {
    if ( v4 != 32 )
    {
      v7 = sub_100026C0(a1);
      if ( v7 )
        v6 = *(_WORD *)(v7 + 2 * (unsigned __int8)v4);
    }
    if ( v6 != 0xFFFF && !sub_100243B0((unsigned int *)a2, (int)a3, v6) )
      v5 = 0;
  }
  else if ( !sub_100243B0((unsigned int *)a2, (int)a3, 0xFFFFu) )
  {
    v5 = 0;
  }
  return v5;
}

//----- (1001E100) --------------------------------------------------------
int __cdecl sub_1001E100(int a1, int a2, void *a3, __int16 a4)
{
  signed int v5; // [sp+0h] [bp-4h]@1

  v5 = 0;
  if ( a2 >= 0 && sub_1001C470(a1, a2, 0) == -1 || sub_100243F0(a1, a3, (unsigned __int16)a4) )
    v5 = 1;
  return v5;
}

//----- (1001E150) --------------------------------------------------------
int __cdecl sub_1001E150(int a1, int a2, void *a3)
{
  *(_DWORD *)(a1 + 672) = 0;
  return sub_1001E180(a1, a2, a3);
}

//----- (1001E180) --------------------------------------------------------
int __cdecl sub_1001E180(int a1, int a2, void *a3)
{
  int v4; // [sp+0h] [bp-Ch]@1
  unsigned __int16 v5; // [sp+4h] [bp-8h]@19
  unsigned __int16 v6; // [sp+8h] [bp-4h]@19

  v4 = 0;
  if ( a3 )
    memset(a3, 0, 0x10u);
  if ( *(_WORD *)(a1 + 164) != (unsigned __int16)(*(_DWORD *)(a2 + 4) >> 16) >> 8 )
    v4 = sub_10020540(a1, (unsigned __int16)(*(_DWORD *)(a2 + 4) >> 16) >> 8);
  if ( !v4 && *(_WORD *)(a1 + 336) != (unsigned __int16)(*(_DWORD *)(a2 + 4) >> 16) >> 8 )
    v4 = sub_10020880(a1);
  if ( !v4 )
  {
    if ( (*(_DWORD *)(a2 + 4) >> 15) & 1 )
    {
      if ( !*(_WORD *)(a1 + 386) )
        v4 = 3;
    }
    else if ( !*(_WORD *)(a1 + 346) && !*(_WORD *)(a1 + 338) )
    {
      v4 = 3;
    }
  }
  if ( !v4 )
  {
    if ( (*(_DWORD *)(a2 + 4) >> 15) & 1 )
    {
      v4 = sub_10021530(a1, a2, (int)a3);
    }
    else
    {
      v5 = *(_WORD *)(a1 + 346) >> 3;
      v6 = *(_WORD *)(a2 + 4) & 0xFFF;
      if ( v6 <= (signed int)v5 )
      {
        v4 = sub_1001E520(a1, a2);
        if ( v6 == 1 )
        {
          *(_WORD *)(a1 + 342) = 1;
          *(_WORD *)(a1 + 344) = *(_WORD *)(a1 + 340);
        }
      }
      else
      {
        v4 = sub_1001E330(a1, a2, v5);
      }
    }
  }
  return v4;
}

//----- (1001E330) --------------------------------------------------------
int __cdecl sub_1001E330(int a1, int a2, unsigned __int16 a3)
{
  int v4; // [sp+0h] [bp-14h]@1
  char v5; // [sp+7h] [bp-Dh]@1
  unsigned __int8 v6; // [sp+8h] [bp-Ch]@5
  __int16 v7; // [sp+9h] [bp-Bh]@12
  unsigned __int8 v8; // [sp+Bh] [bp-9h]@7
  __int16 v9; // [sp+Ch] [bp-8h]@14
  __int16 v10; // [sp+Eh] [bp-6h]@14
  char v11; // [sp+10h] [bp-4h]@8

  v4 = 0;
  v5 = *(_BYTE *)(a1 + 167);
  if ( (*(_DWORD *)(a2 + 4) & 0xFFF) != a3 + *(_WORD *)(a1 + 342) )
  {
    *(_WORD *)(a1 + 342) = 1;
    *(_WORD *)(a1 + 344) = *(_WORD *)(a1 + 340);
  }
  while ( !v4 && (*(_DWORD *)(a2 + 4) & 0xFFF) >= a3 + *(_WORD *)(a1 + 342) )
    v4 = sub_1001E690(a1, a1 + 338, &v6);
  if ( v4 || !(v8 & 0x80) )
    v11 = 0;
  else
    v4 = sub_1001E100(*(_DWORD *)(a1 + 232), -1, &v11, 1);
  if ( !v4 )
  {
    *(_WORD *)a2 = v6;
    *(_BYTE *)(a2 + 2) = v11 & 0x3F;
    if ( v8 & 0x40 )
    {
      *(_WORD *)(a2 + 20) = v7;
      *(_WORD *)(a2 + 22) = v8;
      *(_DWORD *)(a2 + 20) &= 0x3FFFFFu;
      *(_DWORD *)(a2 + 8) = -1;
    }
    else
    {
      *(_WORD *)(a2 + 8) = v7;
      *(_WORD *)(a2 + 10) = v8;
      *(_DWORD *)(a2 + 8) &= 0x3FFFFFu;
      *(_DWORD *)(a2 + 20) = -1;
    }
    *(_DWORD *)(a2 + 16) = *(_DWORD *)(a1 + 184) + (v9 << (32 - v5));
    *(_DWORD *)(a2 + 12) = *(_DWORD *)(a1 + 180) + (v10 << (32 - v5));
  }
  if ( !v4 && !sub_10021880(*(_DWORD *)(a1 + 672), *(_WORD *)a2, *(_BYTE *)(a2 + 2)) )
    v4 = 3;
  return v4;
}

//----- (1001E520) --------------------------------------------------------
int __cdecl sub_1001E520(int a1, int a2)
{
  int v3; // [sp+0h] [bp-14h]@1
  char v4; // [sp+7h] [bp-Dh]@1
  unsigned __int8 v5; // [sp+8h] [bp-Ch]@1
  __int16 v6; // [sp+9h] [bp-Bh]@2
  unsigned __int8 v7; // [sp+Bh] [bp-9h]@2
  __int16 v8; // [sp+Ch] [bp-8h]@2
  __int16 v9; // [sp+Eh] [bp-6h]@2
  int v10; // [sp+10h] [bp-4h]@1

  v4 = *(_BYTE *)(a1 + 167);
  v10 = *(_WORD *)(a1 + 348) + *(_DWORD *)(a1 + 168) + *(_DWORD *)(a1 + 236) + 8 * (*(_WORD *)(a2 + 4) & 0xFFF) - 8;
  v3 = sub_1001E100(*(_DWORD *)(a1 + 232), v10, &v5, 8);
  if ( !v3 )
  {
    *(_WORD *)(a1 + 350) = (*(_DWORD *)(a2 + 4) & 0xFFF) + 1;
    *(_WORD *)(a1 + 352) = *(_WORD *)(a1 + 348) + 8 * (*(_WORD *)(a2 + 4) & 0xFFF);
    *(_WORD *)a2 = v5;
    *(_BYTE *)(a2 + 2) = 0;
    *(_WORD *)(a2 + 8) = v6;
    *(_WORD *)(a2 + 10) = v7;
    *(_DWORD *)(a2 + 8) &= 0x3FFFFFu;
    *(_DWORD *)(a2 + 20) = -1;
    *(_DWORD *)(a2 + 16) = *(_DWORD *)(a1 + 184) + (v8 << (32 - v4));
    *(_DWORD *)(a2 + 12) = *(_DWORD *)(a1 + 180) + (v9 << (32 - v4));
    if ( !sub_10021880(*(_DWORD *)(a1 + 672), *(_WORD *)a2, *(_BYTE *)(a2 + 2)) )
      v3 = 3;
  }
  return v3;
}

//----- (1001E690) --------------------------------------------------------
int __cdecl sub_1001E690(int a1, int a2, void *a3)
{
  int v4; // [sp+0h] [bp-Ch]@1

  v4 = sub_1001E100(*(_DWORD *)(a1 + 232), *(_WORD *)(a2 + 6) + *(_DWORD *)(a1 + 168) + *(_DWORD *)(a1 + 236), a3, 8);
  if ( !v4 )
  {
    ++*(_WORD *)(a2 + 4);
    *(_WORD *)(a2 + 6) += ((*((_BYTE *)a3 + 3) & 0x80) != 0) + 8;
  }
  return v4;
}

//----- (1001E730) --------------------------------------------------------
int __cdecl sub_1001E730(int a1, int a2, int a3, unsigned __int8 a4, int a5)
{
  signed int v6; // [sp+0h] [bp-38h]@19
  int v7; // [sp+0h] [bp-38h]@21
  int v8; // [sp+4h] [bp-34h]@1
  char v9; // [sp+8h] [bp-30h]@13
  int v10; // [sp+24h] [bp-14h]@3
  __int16 v11; // [sp+28h] [bp-10h]@14
  __int16 v12; // [sp+2Ch] [bp-Ch]@8
  bool v13; // [sp+32h] [bp-6h]@14
  char v14; // [sp+33h] [bp-5h]@14
  char *v15; // [sp+34h] [bp-4h]@14

  v8 = 0;
  *(_DWORD *)a5 = -1;
  if ( a2 == -1 )
    v8 = 3;
  v10 = a2 << *(_BYTE *)(a1 + 521);
  if ( !v8 && v10 >= *(_DWORD *)(a1 + 508) )
    v8 = 3;
  if ( a3 == -1 && (signed int)a4 < 4 )
    v12 = 6 * (a4 + 1);
  else
    v12 = 24;
  if ( v10 + (unsigned __int16)v12 > *(_DWORD *)(a1 + 508) )
    v12 = *(_DWORD *)(a1 + 508) - v10;
  v10 += *(_DWORD *)(a1 + 504);
  if ( !v8 )
    v8 = sub_1001E100(*(_DWORD *)(a1 + 496), v10, &v9, v12);
  v15 = &v9;
  v14 = 0;
  v13 = 0;
  v11 = 0;
  while ( !v14 && !v13 && !v8 )
  {
    *(_WORD *)a5 = *(_WORD *)v15;
    *(_WORD *)(a5 + 2) = (unsigned __int8)v15[2];
    if ( *(_DWORD *)a5 & 0x400000 )
    {
      LOWORD(v6) = *(_WORD *)(v15 + 3);
      BYTE2(v6) = v15[5];
      v15 += 6;
    }
    else
    {
      v6 = -1;
      v15 += 3;
    }
    v13 = (*(_DWORD *)a5 & 0x800000) != 0;
    *(_DWORD *)a5 &= 0x3FFFFFu;
    v7 = v6 & 0x3FFFFF;
    if ( a3 == -1 )
    {
      if ( (signed int)a4 < 4 )
      {
        if ( v11 == a4 )
          v14 = 1;
      }
      else
      {
        a5 += 4;
      }
    }
    else if ( v7 == a3 )
    {
      v14 = 1;
    }
    ++v11;
  }
  if ( !v8 && !v14 )
  {
    if ( (signed int)a4 >= 4 )
    {
      while ( v11 < 4 )
      {
        *(_DWORD *)a5 = -1;
        ++v11;
        a5 += 4;
      }
    }
    else
    {
      v8 = 3;
      *(_DWORD *)a5 = -1;
    }
  }
  return v8;
}

//----- (1001E980) --------------------------------------------------------
int __cdecl sub_1001E980(int a1, int a2, unsigned int *a3)
{
  signed __int16 v4; // [sp+0h] [bp-50h]@7
  int v5; // [sp+4h] [bp-4Ch]@1
  __int16 v6; // [sp+8h] [bp-48h]@17
  char v7; // [sp+Ch] [bp-44h]@3
  int v8; // [sp+40h] [bp-10h]@3
  char v9; // [sp+47h] [bp-9h]@15
  int v10; // [sp+48h] [bp-8h]@10
  void *v11; // [sp+4Ch] [bp-4h]@3

  v5 = 0;
  if ( a2 == -1 )
    v5 = 3;
  v11 = &v7;
  v8 = a2 << *(_BYTE *)(a1 + 521);
  if ( !v5 && v8 >= *(_DWORD *)(a1 + 508) )
    v5 = 3;
  v8 += *(_DWORD *)(a1 + 504);
  if ( !v5 )
  {
    v4 = 46;
    if ( v8 + 46 > *(_DWORD *)(a1 + 508) + *(_DWORD *)(a1 + 504) )
      v4 = *(_WORD *)(a1 + 508) + *(_WORD *)(a1 + 504) - v8;
    v5 = sub_1001E100(*(_DWORD *)(a1 + 496), v8, v11, v4);
  }
  do
  {
    v10 = *(_DWORD *)v11 & 0xFFFFFF;
    if ( v10 & 0x400000 )
      v11 = (char *)v11 + 6;
    else
      v11 = (char *)v11 + 3;
  }
  while ( !v5 && !(v10 & 0x800000) );
  v9 = *(_BYTE *)v11;
  v11 = (char *)v11 + 1;
  v11 = (char *)v11 + 3;
  if ( !v5 )
  {
    do
    {
      if ( v9 & 1 )
      {
        v6 = *(_WORD *)v11 & 0x8000;
        v11 = (char *)v11 + 2;
      }
      else
      {
        v6 = *(_BYTE *)v11 & 0x80;
        v11 = (char *)v11 + 1;
      }
    }
    while ( !v6 );
    v8 += (_BYTE *)v11 - &v7;
  }
  if ( !v5 )
    v5 = sub_1001E100(*(_DWORD *)(a1 + 496), v8, &v7, 3);
  if ( v5 )
    *a3 = -1;
  else
    *a3 = sub_1001EB60((int)&v7);
  return v5;
}

//----- (1001EB60) --------------------------------------------------------
unsigned int __cdecl sub_1001EB60(int a1)
{
  unsigned int v1; // ST08_4@1

  LOWORD(v1) = *(_WORD *)a1;
  HIWORD(v1) = *(_BYTE *)(a1 + 2);
  return (unsigned __int8)*(_WORD *)a1 | ((unsigned __int16)(v1 >> 8) << 16) & 0xFFFFF000;
}

//----- (1001EBE0) --------------------------------------------------------
int __cdecl sub_1001EBE0(int a1, int a2, __int16 a3, _WORD *a4, int a5)
{
  int v5; // eax@3
  int v7; // [sp+4h] [bp-Ch]@1
  __int16 v8; // [sp+8h] [bp-8h]@1
  __int16 v9; // [sp+Ch] [bp-4h]@1

  v8 = 0;
  v9 = 0;
  *a4 = 0;
  v7 = sub_1001EF80(
         *(_DWORD *)(a1 + 44),
         *(_BYTE *)(a1 + 652),
         a2,
         a3,
         a4,
         a5,
         0,
         a1 + 120,
         a1 + 700,
         127,
         0,
         0,
         (*(_DWORD *)(a1 + 100) >> 7) & 1);
  if ( !v7 )
  {
    if ( a5 )
      v5 = sub_1001EF80(
             *(_DWORD *)(a1 + 44),
             *(_BYTE *)(a1 + 652),
             a2 + 2 * *a4,
             a3 - *a4,
             &v8,
             a5 + 4 * *a4,
             &v9,
             a1 + 144,
             a1 + 700,
             -1,
             128,
             1,
             (*(_DWORD *)(a1 + 100) >> 9) & 1);
    else
      v5 = sub_1001EF80(
             *(_DWORD *)(a1 + 44),
             *(_BYTE *)(a1 + 652),
             a2 + 2 * *a4,
             a3 - *a4,
             &v8,
             0,
             &v9,
             a1 + 144,
             a1 + 700,
             -1,
             128,
             1,
             (*(_DWORD *)(a1 + 100) >> 9) & 1);
    v7 = v5;
    *a4 += v8;
    if ( v5 == 3 )
      v7 = 0;
  }
  return v7;
}

//----- (1001ED10) --------------------------------------------------------
int __cdecl sub_1001ED10(int a1, int a2, __int16 a3, _WORD *a4, int a5)
{
  int v5; // eax@3
  int v7; // [sp+4h] [bp-Ch]@1
  __int16 v8; // [sp+8h] [bp-8h]@1
  __int16 v9; // [sp+Ch] [bp-4h]@1

  v8 = 0;
  v9 = 0;
  *a4 = 0;
  v7 = sub_1001EF80(
         *(_DWORD *)(a1 + 44),
         *(_BYTE *)(a1 + 652),
         a2,
         a3,
         a4,
         a5,
         0,
         a1 + 112,
         a1 + 688,
         63,
         0,
         0,
         (*(_DWORD *)(a1 + 100) >> 6) & 1);
  if ( !v7 )
  {
    if ( a5 )
      v5 = sub_1001EF80(
             *(_DWORD *)(a1 + 44),
             *(_BYTE *)(a1 + 652),
             a2 + 2 * *a4,
             a3 - *a4,
             &v8,
             a5 + 4 * *a4,
             &v9,
             a1 + 136,
             a1 + 688,
             -1,
             64,
             1,
             (*(_DWORD *)(a1 + 100) >> 9) & 1);
    else
      v5 = sub_1001EF80(
             *(_DWORD *)(a1 + 44),
             *(_BYTE *)(a1 + 652),
             a2 + 2 * *a4,
             a3 - *a4,
             &v8,
             0,
             &v9,
             a1 + 136,
             a1 + 688,
             -1,
             64,
             1,
             (*(_DWORD *)(a1 + 100) >> 9) & 1);
    v7 = v5;
    *a4 += v8;
    if ( v5 == 3 )
      v7 = 0;
  }
  return v7;
}

//----- (1001EE40) --------------------------------------------------------
int __cdecl sub_1001EE40(int a1, int a2, __int16 a3, _WORD *a4, int a5)
{
  int v5; // eax@3
  int v7; // [sp+4h] [bp-Ch]@1
  __int16 v8; // [sp+8h] [bp-8h]@1
  __int16 v9; // [sp+Ch] [bp-4h]@1

  v8 = 0;
  v9 = 0;
  *a4 = 0;
  v7 = sub_1001EF80(
         *(_DWORD *)(a1 + 44),
         *(_BYTE *)(a1 + 652),
         a2,
         a3,
         a4,
         a5,
         0,
         a1 + 128,
         a1 + 676,
         127,
         0,
         1,
         (*(_WORD *)(a1 + 100) >> 8) & 1);
  if ( !v7 )
  {
    if ( a5 )
      v5 = sub_1001EF80(
             *(_DWORD *)(a1 + 44),
             *(_BYTE *)(a1 + 652),
             a2 + 2 * *a4,
             a3 - *a4,
             &v8,
             a5 + 4 * *a4,
             &v9,
             a1 + 152,
             a1 + 676,
             -1,
             256,
             1,
             (*(_DWORD *)(a1 + 100) >> 9) & 1);
    else
      v5 = sub_1001EF80(
             *(_DWORD *)(a1 + 44),
             *(_BYTE *)(a1 + 652),
             a2 + 2 * *a4,
             a3 - *a4,
             &v8,
             0,
             &v9,
             a1 + 152,
             a1 + 676,
             -1,
             256,
             1,
             (*(_DWORD *)(a1 + 100) >> 9) & 1);
    v7 = v5;
    *a4 += v8;
    if ( v5 == 3 )
      v7 = 0;
  }
  return v7;
}

//----- (1001EF80) --------------------------------------------------------
int __cdecl sub_1001EF80(int a1, unsigned __int8 a2, int a3, __int16 a4, _WORD *a5, int a6, _WORD *a7, int a8, int a9, char a10, __int16 a11, char a12, char a13)
{
  char v14; // [sp+2h] [bp-46h]@1
  unsigned __int8 v15; // [sp+3h] [bp-45h]@1
  unsigned __int16 v16; // [sp+4h] [bp-44h]@1
  int v17; // [sp+8h] [bp-40h]@1
  char v18; // [sp+Fh] [bp-39h]@1
  char v19; // [sp+10h] [bp-38h]@6
  char v20; // [sp+24h] [bp-24h]@6
  char v21; // [sp+3Bh] [bp-Dh]@1
  int v22; // [sp+3Ch] [bp-Ch]@1
  unsigned __int16 v23; // [sp+40h] [bp-8h]@1
  unsigned __int16 v24; // [sp+44h] [bp-4h]@10

  v18 = 0;
  v23 = 0;
  v21 = 0;
  v16 = 0;
  v15 = 0;
  v22 = *(_DWORD *)a8;
  *a5 = 0;
  v17 = 0;
  v14 = 0;
  if ( a7 )
    *a7 = 0;
  if ( !*(_DWORD *)a8 )
    v17 = 3;
  if ( !v17 )
    v17 = sub_10021AB0((int)&v19, a1, v22, (int)&v20, 0x10u);
  while ( *a5 < a4 && !v17 && v23 < (signed int)*(_WORD *)(a8 + 4) )
  {
    ++v23;
    v18 = 0;
    v24 = 0;
    v17 = sub_1001F210((int)&v19, &v24, 1);
    v24 = a11 + (unsigned __int8)(a10 & v24);
    if ( !v17 )
      v17 = sub_1001F210((int)&v19, &v15, 1);
    if ( a12 && !v17 )
      v17 = sub_1001F210((int)&v19, &v14, 1);
    if ( a13 && !v17 )
      v17 = sub_1001F210((int)&v19, &v21, 1);
    if ( !v17 )
    {
      if ( v15 >= (signed int)a2 )
      {
        if ( a9 )
          v18 = sub_10021880(a9, v24, v14);
        else
          v18 = 1;
      }
      if ( v18 )
      {
        if ( v24 != v16 || v23 == 1 )
        {
          if ( a6 )
            *(_DWORD *)(a6 + 4 * *a5) = (a12 != 0) - 1;
          *(_WORD *)(a3 + 2 * (*a5)++) = v24;
          v16 = v24;
        }
        if ( a6 )
        {
          if ( a12 )
            *(_DWORD *)(a6 + 4 * *a5 - 4) |= 1 << v14;
        }
      }
      v22 += *(_WORD *)(a8 + 6);
      sub_10021B20((int)&v19, v22);
    }
  }
  if ( *a5 == a4 && !v17 && v23 < (signed int)*(_WORD *)(a8 + 4) )
    v17 = 2;
  return v17;
}

//----- (1001F210) --------------------------------------------------------
int __cdecl sub_1001F210(int a1, _BYTE *a2, __int16 a3)
{
  int result; // eax@3

  if ( a3 != 1 || *(_BYTE *)(a1 + 13) >= (signed int)*(_BYTE *)(a1 + 12) )
  {
    result = sub_10021980(a1, a2, a3);
  }
  else
  {
    *a2 = *(_BYTE *)((*(_BYTE *)(a1 + 13))++ + *(_DWORD *)(a1 + 16));
    result = 0;
  }
  return result;
}

//----- (1001F270) --------------------------------------------------------
size_t __cdecl sub_1001F270(int a1, char *a2, int a3)
{
  bool v4; // [sp+0h] [bp-10h]@6
  char *v5; // [sp+4h] [bp-Ch]@1
  char v6; // [sp+Bh] [bp-5h]@1
  size_t v7; // [sp+Ch] [bp-4h]@1

  v7 = 0;
  v6 = 0;
  v5 = 0;
  if ( a3 )
  {
    *(_DWORD *)a3 = 0;
    v5 = &v6;
  }
  v4 = *(_DWORD *)a1 && **(_BYTE **)a1 && *(_BYTE *)(*(_DWORD *)a1 + 11) & 0x10;
  if ( v4 && ((*(_DWORD *)(a1 + 12) >> 10) & 7 || *(_DWORD *)(a1 + 52) > 0 || *(_DWORD *)(a1 + 36) > 0) )
  {
    while ( *a2 )
    {
      a2 = sub_1001F360(a1, a2, (int)v5);
      ++v7;
      if ( a3 )
        *(_DWORD *)a3 += (unsigned __int8)*v5;
    }
  }
  else
  {
    v7 = strlen(a2);
    if ( a3 )
      *(_DWORD *)a3 = v7;
  }
  return v7;
}

//----- (1001F360) --------------------------------------------------------
char *__cdecl sub_1001F360(int a1, void *a2, int a3)
{
  char v4[6]; // [sp+2h] [bp-16h]@1
  int v5; // [sp+8h] [bp-10h]@14
  int v6; // [sp+Ch] [bp-Ch]@15
  char v7; // [sp+17h] [bp-1h]@1
  char *v8; // [sp+24h] [bp+Ch]@12

  v7 = 0;
  *(_DWORD *)&v4[2] = 0;
  *(_WORD *)v4 = 0;
  if ( (*(_DWORD *)(a1 + 12) >> 10) & 7
    && (*(_WORD *)(a1 + 8) == 936 && (signed int)*(_BYTE *)a2 >= 161 && (signed int)*(_BYTE *)a2 <= 254
     || *(_WORD *)(a1 + 8) == 950 && (signed int)*(_BYTE *)a2 >= 129 && (signed int)*(_BYTE *)a2 <= 254) )
  {
    v7 = 1;
  }
  if ( v7 || *(_DWORD *)(a1 + 52) > 0 || *(_DWORD *)(a1 + 36) > 0 )
  {
    if ( v7 )
    {
      v8 = (char *)a2 + 2;
      v4[0] = 1;
    }
    else
    {
      *(_DWORD *)&v4[2] = sub_1001F4D0(a1, &v5, *(_BYTE *)a2 - 1);
      if ( !*(_DWORD *)&v4[2] && v6 )
      {
        if ( sub_1001F5C0(a1, a2, (int)&v5, (int)&v4[1], (int)v4) )
        {
          v8 = (char *)a2 + (unsigned __int8)v4[1];
        }
        else
        {
          v8 = (char *)a2 + 1;
          v4[0] = 1;
        }
      }
      else
      {
        v8 = (char *)a2 + 1;
        v4[0] = (((signed int)(unsigned __int8)v5 >> 4) & 7) + 1;
      }
    }
  }
  else
  {
    v8 = (char *)a2 + 1;
    v4[0] = 1;
  }
  if ( a3 )
    *(_BYTE *)a3 = v4[0];
  return v8;
}

//----- (1001F4D0) --------------------------------------------------------
int __cdecl sub_1001F4D0(int a1, void *a2, char a3)
{
  int v3; // ST14_4@1
  int v5; // [sp+0h] [bp-Ch]@1
  int v6; // [sp+4h] [bp-8h]@1
  __int16 v7; // [sp+8h] [bp-4h]@1

  v7 = 0;
  v3 = *(_DWORD *)(a1 + 16) + *(_DWORD *)(a1 + 24) * (unsigned __int8)a3;
  v5 = sub_1001E100(*(_DWORD *)a1, v3, a2, 1);
  v6 = v3 + 1;
  if ( !v5 )
  {
    *((_DWORD *)a2 + 1) = 0;
    if ( *(_DWORD *)(a1 + 52) > 0 )
    {
      while ( *(_DWORD *)(a1 + 52) >> 8 * v7 > 0 )
        ++v7;
      if ( ((signed int)*(_BYTE *)a2 >> 2) & 1 )
      {
        if ( (signed int)(unsigned __int16)v7 > 0 )
        {
          v5 = sub_1001E100(*(_DWORD *)a1, v6, (char *)a2 + 4, v7);
          if ( !v5 )
            *((_DWORD *)a2 + 1) += *(_DWORD *)(a1 + 48);
        }
      }
    }
    *((_DWORD *)a2 + 2) = v6 + (unsigned __int16)v7;
  }
  return v5;
}

//----- (1001F5C0) --------------------------------------------------------
char __cdecl sub_1001F5C0(int a1, void *a2, int a3, int a4, int a5)
{
  unsigned __int8 v6; // [sp+0h] [bp-30h]@3
  unsigned __int8 v7; // [sp+Ch] [bp-24h]@8
  unsigned __int8 v8; // [sp+Dh] [bp-23h]@8
  unsigned __int16 v9; // [sp+1Ch] [bp-14h]@8
  int v10; // [sp+24h] [bp-Ch]@1
  char v11; // [sp+2Ah] [bp-6h]@1
  char v12; // [sp+2Bh] [bp-5h]@1
  int v13; // [sp+2Ch] [bp-4h]@7

  v11 = 0;
  v12 = 0;
  *(_BYTE *)a4 = 0;
  v10 = 0;
  if ( *((_BYTE *)a2 + 1) )
  {
    v10 = sub_1001F4D0(a1, &v6, *((_BYTE *)a2 + 1) - 1);
    if ( !v10 && !(((signed int)v6 >> 3) & 1) )
      v12 = 1;
  }
  else
  {
    v12 = 1;
  }
  if ( !v12 )
  {
    v13 = *(_DWORD *)(a3 + 4);
    do
    {
      v10 = sub_1001F6F0(a1, v13, &v7);
      v13 += v9;
      if ( v8 != *(_BYTE *)a2 )
        break;
      if ( a5 )
        *(_BYTE *)a5 = (v7 & 7) + 1;
      if ( !v10 )
      {
        *(_BYTE *)a4 = (((signed int)v7 >> 3) & 7) + 2;
        if ( !memcmp(a2, &v8, *(_BYTE *)a4) )
          v11 = 1;
      }
    }
    while ( !v11 && v13 < *(_DWORD *)(a1 + 52) + *(_DWORD *)(a1 + 48) );
  }
  return v11;
}

//----- (1001F6F0) --------------------------------------------------------
int __cdecl sub_1001F6F0(int a1, int a2, void *a3)
{
  int v4; // [sp+0h] [bp-8h]@1
  __int16 v5; // [sp+4h] [bp-4h]@1
  int v6; // [sp+14h] [bp+Ch]@1

  v5 = 0;
  v4 = sub_1001E100(*(_DWORD *)a1, a2, a3, 1);
  v6 = a2 + 1;
  if ( !v4 )
  {
    v5 = (((signed int)*(_BYTE *)a3 >> 3) & 7) + 2;
    v4 = sub_1001E100(*(_DWORD *)a1, v6, (char *)a3 + 1, v5);
    *((_DWORD *)a3 + 3) = v6 + (unsigned __int16)v5;
  }
  if ( !v4 )
    *((_WORD *)a3 + 8) = v5 + *(_WORD *)(a1 + 40) * ((*(_BYTE *)a3 & 7) + 1) + 1;
  return v4;
}

//----- (1001F7A0) --------------------------------------------------------
unsigned int __cdecl sub_1001F7A0(int a1, int a2, unsigned int *a3, int a4)
{
  unsigned int result; // eax@5
  signed int v5; // [sp+0h] [bp-68h]@1
  int v6; // [sp+4h] [bp-64h]@1
  int v7; // [sp+8h] [bp-60h]@9
  char v8; // [sp+Ch] [bp-5Ch]@14
  unsigned __int16 v9; // [sp+3Eh] [bp-2Ah]@9
  int v10; // [sp+40h] [bp-28h]@12
  int v11; // [sp+44h] [bp-24h]@12
  int v12; // [sp+48h] [bp-20h]@12
  int v13; // [sp+4Ch] [bp-1Ch]@12
  char v14; // [sp+54h] [bp-14h]@12
  char v15; // [sp+56h] [bp-12h]@12
  char v16; // [sp+58h] [bp-10h]@14
  char v17; // [sp+59h] [bp-Fh]@12
  int v18; // [sp+64h] [bp-4h]@7

  v6 = 0;
  *a3 |= 1u;
  v5 = *(_DWORD *)a2;
  if ( *(_DWORD *)a2 == 2 )
  {
    result = *(_DWORD *)(a2 + 8);
    *(_BYTE *)result = *(_BYTE *)a1;
  }
  else if ( v5 > 37 && v5 <= 39 )
  {
    if ( *(_BYTE *)a1 == 12 )
    {
      v18 = *(_DWORD *)(a1 + 4);
    }
    else
    {
      v6 = 3;
      v18 = -1;
    }
    v9 = **(_WORD **)(a2 + 4);
    v7 = v18;
    if ( !v6 )
    {
      if ( *(_DWORD *)a2 == 38 )
      {
        v6 = sub_10021B80(a4, (int)&v7);
      }
      else
      {
        v15 = *(_BYTE *)(*(_DWORD *)(a2 + 8) + 21);
        v10 = *(_DWORD *)(*(_DWORD *)(a2 + 8) + 24);
        v12 = *(_DWORD *)(*(_DWORD *)(a2 + 8) + 16);
        v13 = **(_DWORD **)(a2 + 8);
        v17 = *(_BYTE *)(*(_DWORD *)(a2 + 8) + 12);
        v11 = *(_DWORD *)(*(_DWORD *)(a2 + 8) + 8);
        v14 = *(_BYTE *)(*(_DWORD *)(a2 + 8) + 4);
        v6 = sub_10021C90(a4, (int)&v7);
      }
    }
    result = v6;
    *(_DWORD *)(*(_DWORD *)(a2 + 8) + 28) = v6;
    if ( !v6 )
    {
      sub_100056A0(*(_DWORD *)(a2 + 8) + 32, &v8, v9);
      *(_BYTE *)(*(_DWORD *)(a2 + 8) + 21) = v15;
      *(_BYTE *)(*(_DWORD *)(a2 + 8) + 20) = v16;
      *(_BYTE *)(*(_DWORD *)(a2 + 8) + 12) = v17;
      *(_DWORD *)(*(_DWORD *)(a2 + 8) + 24) = v10;
      *(_DWORD *)(*(_DWORD *)(a2 + 8) + 8) = v11;
      *(_DWORD *)(*(_DWORD *)(a2 + 8) + 16) = v12;
      **(_DWORD **)(a2 + 8) = v13;
      result = *(_DWORD *)(a2 + 8);
      *(_BYTE *)(result + 4) = v14;
    }
  }
  else
  {
    result = *a3 & 0xFFFFFFFE;
    *a3 = result;
  }
  return result;
}

//----- (1001F970) --------------------------------------------------------
int __cdecl sub_1001F970(int a1, int a2, int a3)
{
  return sub_1001F990(a1, a2, a3);
}

//----- (1001F990) --------------------------------------------------------
int __cdecl sub_1001F990(int a1, int a2, int a3)
{
  char v4; // [sp+3h] [bp-41h]@10
  int v5; // [sp+4h] [bp-40h]@1
  char v6; // [sp+8h] [bp-3Ch]@5
  char v7; // [sp+1Ch] [bp-28h]@5
  int v8; // [sp+30h] [bp-14h]@1
  unsigned int v9; // [sp+34h] [bp-10h]@6
  __int16 v10; // [sp+38h] [bp-Ch]@7
  unsigned __int8 v11; // [sp+3Ah] [bp-Ah]@7
  bool v12; // [sp+3Fh] [bp-5h]@1
  __int16 v13; // [sp+40h] [bp-4h]@21

  *(_BYTE *)(a2 + 16) = 0;
  *(_BYTE *)(a2 + 17) = 0;
  *(_BYTE *)(a2 + 18) = 0;
  *(_DWORD *)(a2 + 12) = -1;
  *(_DWORD *)a2 = *(_DWORD *)(a3 + 20);
  v12 = 0;
  v5 = 0;
  v8 = *(_DWORD *)a2 << *(_BYTE *)(a1 + 400);
  if ( *(_DWORD *)a2 == -1 || v8 >= *(_DWORD *)(a1 + 448) )
    v5 = 3;
  v8 += *(_DWORD *)(a1 + 444);
  if ( !v5 )
    v5 = sub_10021AB0((int)&v6, *(_DWORD *)(a1 + 396), v8, (int)&v7, 0x10u);
  v9 = -1;
  if ( !v5 )
  {
    v5 = sub_1001F210((int)&v6, &v10, 3);
    *(_WORD *)(a2 + 4) = v10;
    *(_WORD *)(a2 + 6) = v11;
    v12 = (*(_DWORD *)(a2 + 4) & 0x800000) != 0;
    *(_DWORD *)(a2 + 4) &= 0x3FFFFFu;
  }
  if ( !v5 && v12 )
  {
    v4 = 0;
    do
    {
      v5 = sub_1001F210((int)&v6, &v10, 1);
      v9 >>= 7;
      v9 |= (unsigned __int8)v10 << 25;
      v4 += 7;
    }
    while ( !v5 && !(v10 & 0x80) );
    v9 >>= 32 - v4;
  }
  v12 = 0;
  if ( !v5 && *(_DWORD *)(a1 + 452) & 4 )
  {
    if ( v9 & 1 )
      v12 = 1;
    v9 >>= 1;
  }
  *(_DWORD *)(a2 + 8) = -1;
  if ( v12 )
  {
    if ( *(_DWORD *)(a1 + 440) < 0x10000 )
    {
      if ( *(_DWORD *)(a1 + 440) < 256 )
        v13 = 1;
      else
        v13 = 2;
    }
    else
    {
      v13 = 3;
    }
    *(_DWORD *)(a2 + 8) = 0;
    v5 = sub_1001F210((int)&v6, (_BYTE *)(a2 + 8), v13);
  }
  return v5;
}

//----- (1001FBC0) --------------------------------------------------------
int __cdecl sub_1001FBC0(int a1)
{
  int result; // eax@4
  __int16 i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 9; ++i )
    *(_WORD *)(a1 + 2 * i + 654) = 0;
  *(_DWORD *)(a1 + 744) = 0;
  *(_DWORD *)(a1 + 748) = 0;
  result = a1;
  *(_DWORD *)(a1 + 752) = 0;
  return result;
}

//----- (1001FC20) --------------------------------------------------------
char __cdecl sub_1001FC20(int a1, int a2, int a3, int a4, unsigned __int8 a5, int a6)
{
  char j; // [sp+3h] [bp-29h]@39
  int v8; // [sp+4h] [bp-28h]@1
  int v9; // [sp+8h] [bp-24h]@1
  int v10; // [sp+Ch] [bp-20h]@23
  int v11; // [sp+10h] [bp-1Ch]@23
  int v12; // [sp+14h] [bp-18h]@23
  int v13; // [sp+18h] [bp-14h]@1
  char v14; // [sp+1Fh] [bp-Dh]@1
  unsigned __int16 i; // [sp+20h] [bp-Ch]@33
  signed __int16 v16; // [sp+24h] [bp-8h]@0
  __int16 v17; // [sp+28h] [bp-4h]@13

  v14 = 1;
  v8 = a6 + 8;
  v13 = a6 + 88;
  v9 = 0;
  if ( a3 == a1 + 120 )
  {
    v16 = 128;
  }
  else if ( a3 == a1 + 112 )
  {
    v16 = 64;
  }
  else if ( a3 == a1 + 128 )
  {
    v16 = 256;
  }
  else
  {
    v9 = 1;
  }
  if ( (signed int)*(_WORD *)(a2 + 4) > 0 && (*(_DWORD *)a3 > 0 || *(_DWORD *)a4 > 0) )
  {
    if ( !*(_BYTE *)(a6 + 7) || *(_BYTE *)(a6 + 6) != *(_BYTE *)(a1 + 652) )
    {
      v17 = *(_WORD *)(a4 + 4) + *(_WORD *)(a3 + 4);
      *(_WORD *)(a6 + 2) = 0;
      *(_WORD *)a6 = 0;
      if ( v17 )
      {
        if ( v17 > 20 )
          v9 = 1;
        if ( *(_WORD *)(a6 + 4) < (signed int)a5 )
        {
          *(_DWORD *)(a6 + 128) = 0;
          *(_WORD *)(a6 + 4) = a5;
        }
        if ( (signed int)*(_WORD *)(a6 + 4) > 0 && !*(_DWORD *)(a6 + 128) )
          v9 = 1;
        if ( !v9 )
        {
          v10 = *(_DWORD *)a2;
          v11 = *(_DWORD *)(a2 + 4);
          v12 = *(_DWORD *)(a2 + 8);
          *(_DWORD *)a2 = 0;
          *(_DWORD *)(a2 + 8) = 0;
          *(_WORD *)(a2 + 4) = 0;
          *(_BYTE *)(a2 + 6) = 1;
          if ( a3 == a1 + 120 )
          {
            v9 = sub_1001EBE0(a1, v13, v17, (_WORD *)a6, v8);
          }
          else if ( a3 == a1 + 112 )
          {
            v9 = sub_1001ED10(a1, v13, v17, (_WORD *)a6, v8);
          }
          else if ( a3 == a1 + 128 )
          {
            v9 = sub_1001EE40(a1, v13, v17, (_WORD *)a6, v8);
          }
          *(_DWORD *)a2 = v10;
          *(_DWORD *)(a2 + 4) = v11;
          *(_DWORD *)(a2 + 8) = v12;
        }
        *(_BYTE *)(a6 + 6) = *(_BYTE *)(a1 + 652);
      }
      else
      {
        v14 = 0;
      }
    }
    if ( v14 && !v9 )
    {
      v14 = 0;
      *(_BYTE *)(a6 + 7) = 1;
      for ( i = 0; i < (signed int)*(_WORD *)a6 && !v14; ++i )
      {
        if ( *(_WORD *)(v13 + 2 * i) >= (signed int)(unsigned __int16)v16 && a6 != -8 )
        {
          for ( j = 0; (signed int)(unsigned __int8)j < 32 && !v14; ++j )
          {
            if ( (*(_DWORD *)(v8 + 4 * i) >> j) & 1 )
              v14 = sub_10021880(a2, *(_WORD *)(v13 + 2 * i), j);
          }
        }
        else
        {
          v14 = sub_10021880(a2, *(_WORD *)(v13 + 2 * i), 0);
        }
      }
    }
  }
  return v14;
}

//----- (1001FF40) --------------------------------------------------------
int __cdecl sub_1001FF40(int a1, int a2, _BYTE *a3)
{
  int result; // eax@1
  unsigned int v4; // [sp+0h] [bp-4h]@4
  unsigned int v5; // [sp+0h] [bp-4h]@8

  *a3 = 0;
  result = *(_DWORD *)(a1 + 8);
  if ( result <= *(_DWORD *)a2 )
  {
    result = *(_DWORD *)a1;
    if ( *(_DWORD *)a1 >= *(_DWORD *)(a2 + 8) )
    {
      if ( *(_DWORD *)(a1 + 4) - *(_DWORD *)(a1 + 12) >= (unsigned int)(*(_DWORD *)(a2 + 4) - *(_DWORD *)(a2 + 12)) )
      {
        v5 = *(_DWORD *)(a1 + 12) + 2147483648;
        result = *(_DWORD *)(a1 + 4) - v5;
        if ( (signed int)(*(_DWORD *)(a2 + 12) - v5) <= result
          || (result = a1, (signed int)(*(_DWORD *)(a2 + 4) - v5) <= (signed int)(*(_DWORD *)(a1 + 4) - v5)) )
        {
          *a3 = 1;
        }
      }
      else
      {
        v4 = *(_DWORD *)(a2 + 12) + 2147483648;
        if ( (signed int)(*(_DWORD *)(a1 + 12) - v4) <= (signed int)(*(_DWORD *)(a2 + 4) - v4)
          || (result = *(_DWORD *)(a1 + 4) - v4, result <= (signed int)(*(_DWORD *)(a2 + 4) - v4)) )
        {
          result = (int)a3;
          *a3 = 1;
        }
      }
    }
  }
  return result;
}

//----- (10020010) --------------------------------------------------------
signed int __cdecl sub_10020010(int a1, unsigned __int8 a2)
{
  int v3; // [sp+0h] [bp-Ch]@6
  char v4; // [sp+7h] [bp-5h]@30
  unsigned __int16 v5; // [sp+8h] [bp-4h]@1

  v5 = 0;
  while ( a2 <= (signed int)*(_BYTE *)(a1 + 84) && !*(_WORD *)(a1 + 2 * a2 + 56) )
    ++a2;
  if ( a2 <= (signed int)*(_BYTE *)(a1 + 84) )
  {
    while ( 1 )
    {
      v3 = 0;
      v5 = *(_WORD *)(a1 + 2 * a2 + 654);
      if ( v5 && v5 != *(_WORD *)(a1 + 164) )
        v3 = sub_10020540(a1, v5);
      if ( v5 && !*(_BYTE *)(a1 + 173) )
      {
        ++v5;
      }
      else if ( a2 != *(_BYTE *)(a1 + 84) || v5 )
      {
        while ( !v3 )
        {
          v3 = sub_10020010(a1, a2 + 1);
          if ( !v3 && *(_WORD *)(a1 + 176) )
          {
            v5 = *(_WORD *)(a1 + 176);
            break;
          }
        }
        if ( v3 )
          return v3;
      }
      else
      {
        v5 = 1;
      }
      if ( !v3 )
      {
        *(_WORD *)(a1 + 2 * a2 + 654) = v5;
        v3 = sub_10020540(a1, v5);
      }
      if ( !v3 && *(_DWORD *)(a1 + 756) && !(*(_DWORD *)(a1 + 228) & *(_DWORD *)(a1 + 756)) )
        v3 = 3;
      if ( !v3 )
      {
        sub_1001FF40(a1 + 712, a1 + 188, &v4);
        if ( v4 )
        {
          sub_10021F90(a1 + 728, a1 + 188, &v4);
          if ( v4 )
            v3 = 3;
        }
        else
        {
          v3 = 3;
        }
      }
      if ( v3 != 3 )
        return v3;
    }
  }
  return 3;
}

//----- (10020220) --------------------------------------------------------
int __cdecl sub_10020220(int a1, int a2, int a3, __int16 a4)
{
  int v4; // ecx@30
  int v5; // eax@35
  int v7; // [sp+0h] [bp-64h]@1
  char v8; // [sp+4h] [bp-60h]@27
  char v9; // [sp+5h] [bp-5Fh]@1
  int v10; // [sp+8h] [bp-5Ch]@27
  int v11; // [sp+Ch] [bp-58h]@17
  int v12; // [sp+10h] [bp-54h]@17
  int v13; // [sp+14h] [bp-50h]@27
  int v14; // [sp+3Ch] [bp-28h]@30
  int v15; // [sp+40h] [bp-24h]@30
  int v16; // [sp+44h] [bp-20h]@30
  int v17; // [sp+48h] [bp-1Ch]@30
  unsigned __int16 v18; // [sp+4Ch] [bp-18h]@1
  char v19; // [sp+53h] [bp-11h]@6
  char v20; // [sp+54h] [bp-10h]@14
  __int16 v21; // [sp+55h] [bp-Fh]@16
  unsigned __int8 v22; // [sp+57h] [bp-Dh]@16
  __int16 v23; // [sp+58h] [bp-Ch]@17
  __int16 v24; // [sp+5Ah] [bp-Ah]@17
  unsigned __int16 v25; // [sp+5Ch] [bp-8h]@27
  unsigned __int16 v26; // [sp+60h] [bp-4h]@1

  v7 = 0;
  v26 = a4 & 0x7FFF;
  *(_BYTE *)(a3 + 2) = 0;
  v9 = 0;
  v18 = 0;
  if ( *(_WORD *)(a1 + 164) != (unsigned __int16)(*(_DWORD *)(a3 + 4) >> 16) >> 8 )
    v7 = sub_10020540(a1, (unsigned __int16)(*(_DWORD *)(a3 + 4) >> 16) >> 8);
  if ( !v7 && *(_WORD *)(a1 + 336) != (unsigned __int16)(*(_DWORD *)(a3 + 4) >> 16) >> 8 )
    v7 = sub_10020880(a1);
  v19 = *(_BYTE *)(a1 + 167);
  if ( v7 || *(_WORD *)a2 )
  {
    if ( !v7 && (*(_DWORD *)(a3 + 4) & 0xFFF) != *(_WORD *)(a2 + 4) )
    {
      *(_WORD *)(a2 + 4) = 1;
      *(_WORD *)(a2 + 6) = *(_WORD *)(a2 + 2);
    }
  }
  else
  {
    v7 = 3;
  }
  while ( !v7 && (*(_DWORD *)(a3 + 4) & 0xFFF) >= *(_WORD *)(a2 + 4) )
    v7 = sub_10020F00(a1, a2, &v20);
  if ( !v7 )
  {
    *(_WORD *)(a3 + 28) = 0;
    *(_WORD *)a3 = v20 & 0x7F;
    *(_WORD *)(a3 + 8) = v21;
    *(_WORD *)(a3 + 10) = v22;
    if ( v26 )
    {
      v12 = *(_DWORD *)(a1 + 184) + (v23 << (32 - v19));
      v11 = *(_DWORD *)(a1 + 180) + (v24 << (32 - v19));
    }
  }
  v18 = (a1 + 354 != a2 ? 127 : 63) & *(_WORD *)a3;
  if ( v7 || sub_10021880(*(_DWORD *)(a1 + 672), v18, *(_BYTE *)(a3 + 2)) )
  {
    if ( v7 || (signed int)v26 <= 1 )
    {
      if ( !v7 && v26 == 1 )
      {
        v5 = *(_WORD *)(a3 + 28);
        *(_DWORD *)(a3 + 8 * v5 + 32) = v11;
        *(_DWORD *)(a3 + 8 * v5 + 36) = v12;
        ++*(_WORD *)(a3 + 28);
        *(_DWORD *)(a3 + 12) = v11;
        *(_DWORD *)(a3 + 16) = v12;
        *(_DWORD *)(a3 + 20) = v11;
        *(_DWORD *)(a3 + 24) = v12;
      }
    }
    else
    {
      if ( a1 + 354 == a2 && (*(_DWORD *)(a3 + 8) & 0xC00000) == 12582912 )
      {
        v9 = 1;
        if ( a4 & 0x8000 )
          v9 |= 2u;
      }
      v8 = v19;
      v10 = v25;
      v13 = a1;
      if ( sub_10022020((int)&v8, a3 + 28, v26) )
      {
        if ( *(_WORD *)(a3 + 28) == 1 )
          v7 = 1;
        v4 = a3 + 12;
        *(_DWORD *)v4 = v14;
        *(_DWORD *)(v4 + 4) = v15;
        *(_DWORD *)(v4 + 8) = v16;
        *(_DWORD *)(v4 + 12) = v17;
      }
      else
      {
        v7 = 2;
      }
    }
  }
  else
  {
    v7 = 3;
  }
  return v7;
}

//----- (10020540) --------------------------------------------------------
int __cdecl sub_10020540(int a1, unsigned __int16 a2)
{
  int v2; // ST20_4@8
  signed int v4; // [sp+0h] [bp-40h]@12
  int v5; // [sp+4h] [bp-3Ch]@9
  int v6; // [sp+8h] [bp-38h]@11
  int v7; // [sp+Ch] [bp-34h]@8
  unsigned int v8; // [sp+14h] [bp-2Ch]@8
  __int16 v9; // [sp+18h] [bp-28h]@8
  char v10; // [sp+1Ah] [bp-26h]@8
  __int16 v11; // [sp+1Bh] [bp-25h]@8
  char v12; // [sp+1Dh] [bp-23h]@8
  __int16 v13; // [sp+1Eh] [bp-22h]@8
  __int16 v14; // [sp+20h] [bp-20h]@8
  __int16 v15; // [sp+22h] [bp-1Eh]@18
  char v16; // [sp+24h] [bp-1Ch]@6
  char v17; // [sp+2Bh] [bp-15h]@6
  int v18; // [sp+2Ch] [bp-14h]@6
  int v19; // [sp+30h] [bp-10h]@11
  __int16 v20; // [sp+34h] [bp-Ch]@6
  char *v21; // [sp+38h] [bp-8h]@6
  __int16 i; // [sp+3Ch] [bp-4h]@1

  *(_WORD *)(a1 + 164) = 0;
  for ( i = 0; i <= 8 && (!*(_WORD *)(a1 + 2 * i + 56) || *(_WORD *)(a1 + 2 * i + 56) > (signed int)a2); ++i )
    ;
  *(_BYTE *)(a1 + 166) = i;
  v17 = *(_BYTE *)(a1 + i + 74);
  *(_BYTE *)(a1 + 167) = v17;
  v18 = *(_DWORD *)(a1 + 48) + 16 * (a2 - 1);
  v21 = &v16;
  v20 = 20;
  if ( *(_BYTE *)(a1 + 166) == *(_BYTE *)(a1 + 83) )
  {
    v18 -= 2 * (a2 - *(_WORD *)(a1 + 2 * *(_BYTE *)(a1 + 83) + 56));
    v21 -= 2;
    v20 -= 2;
  }
  v7 = sub_1001E100(*(_DWORD *)(a1 + 44), v18, &v8, v20);
  v2 = *(_DWORD *)v21 & 0xFFFFFFF;
  *(_DWORD *)(a1 + 168) = v8 & 0xFFFFFFF;
  *(_WORD *)(a1 + 174) = v2 - *(_WORD *)(a1 + 168);
  *(_BYTE *)(a1 + 172) = (v8 >> 28) & 0xF;
  *(_BYTE *)(a1 + 172) |= (v14 & 0x8000) != 0 ? 0x10 : 0;
  *(_WORD *)(a1 + 184) = v9;
  *(_WORD *)(a1 + 186) = v10;
  *(_DWORD *)(a1 + 184) <<= 8;
  *(_WORD *)(a1 + 180) = v11;
  *(_WORD *)(a1 + 182) = v12;
  *(_DWORD *)(a1 + 180) <<= 8;
  if ( v13 & 0x7FFF )
    v5 = v13 & 0x7FFF;
  else
    v5 = 0x8000;
  v6 = v5 << (32 - v17);
  *(_DWORD *)(a1 + 192) = v6 + *(_DWORD *)(a1 + 184);
  *(_DWORD *)(a1 + 200) = *(_DWORD *)(a1 + 184) - v6;
  v19 = v14 & 0x7FFF;
  if ( v14 & 0x7FFF )
    v4 = v19;
  else
    v4 = 0x8000;
  v19 = v4 << (32 - v17);
  *(_DWORD *)(a1 + 188) = v19 + *(_DWORD *)(a1 + 180);
  *(_DWORD *)(a1 + 196) = *(_DWORD *)(a1 + 180) - v19;
  if ( v6 == 0x80000000 )
    --*(_DWORD *)(a1 + 192);
  if ( *(_BYTE *)(a1 + 166) == *(_BYTE *)(a1 + 83) )
    *(_WORD *)(a1 + 176) = 0;
  else
    *(_WORD *)(a1 + 176) = v15;
  *(_BYTE *)(a1 + 173) = (unsigned __int16)(v13 & 0x8000) != 0;
  if ( !v7 )
    v7 = sub_10020C20(a1, a2);
  if ( !v7 )
    *(_WORD *)(a1 + 164) = a2;
  return v7;
}

//----- (10020880) --------------------------------------------------------
int __cdecl sub_10020880(int a1)
{
  int result; // eax@2
  __int16 v2; // [sp+0h] [bp-3Ch]@15
  __int16 v3[4]; // [sp+4h] [bp-38h]@6
  int v4; // [sp+Ch] [bp-30h]@1
  __int16 v5; // [sp+10h] [bp-2Ch]@17
  __int16 v6; // [sp+12h] [bp-2Ah]@21
  __int16 v7; // [sp+14h] [bp-28h]@21
  __int16 v8; // [sp+16h] [bp-26h]@21
  __int16 v9; // [sp+18h] [bp-24h]@21
  __int16 v10; // [sp+20h] [bp-1Ch]@4
  int v11; // [sp+24h] [bp-18h]@4
  __int16 v12; // [sp+28h] [bp-14h]@7
  __int16 v13; // [sp+2Ch] [bp-10h]@7
  __int16 v14; // [sp+30h] [bp-Ch]@7
  __int16 v15; // [sp+34h] [bp-8h]@7
  __int16 v16; // [sp+38h] [bp-4h]@7

  v4 = 0;
  if ( *(_WORD *)(a1 + 336) == *(_WORD *)(a1 + 164) )
  {
    result = v4;
  }
  else
  {
    *(_WORD *)(a1 + 336) = 0;
    if ( *(_BYTE *)(a1 + 172) )
    {
      v11 = *(_DWORD *)(a1 + 236) + *(_DWORD *)(a1 + 168);
      v10 = 8;
      if ( (signed int)*(_WORD *)(a1 + 174) < 8 )
        v10 = *(_WORD *)(a1 + 174);
      v4 = sub_1001E100(*(_DWORD *)(a1 + 232), v11, v3, v10);
    }
    v13 = 0;
    v16 = 0;
    v15 = 1;
    v14 = 0;
    v12 = 1;
    while ( v14 < 5 )
    {
      if ( v12 & *(_BYTE *)(a1 + 172) )
      {
        if ( v15 )
          v15 = 0;
        else
          v13 += 2;
        ++v16;
      }
      ++v14;
      v12 *= 2;
    }
    v2 = 0;
    v14 = 0;
    v12 = 1;
    while ( v14 < 5 )
    {
      *(&v5 + v14) = v13;
      if ( v12 & *(_BYTE *)(a1 + 172) )
      {
        v13 = v3[v2++];
        if ( v2 == v16 )
          v13 = *(_WORD *)(a1 + 174);
      }
      ++v14;
      v12 *= 2;
    }
    *(&v5 + v14) = *(_WORD *)(a1 + 174);
    *(_WORD *)(a1 + 340) = v5;
    *(_WORD *)(a1 + 348) = v6;
    *(_WORD *)(a1 + 356) = v7;
    *(_WORD *)(a1 + 364) = v8;
    *(_WORD *)(a1 + 338) = v6 - v5;
    *(_WORD *)(a1 + 346) = v7 - v6;
    *(_WORD *)(a1 + 354) = v8 - v7;
    *(_WORD *)(a1 + 362) = v9 - v8;
    *(_WORD *)(a1 + 342) = 1;
    *(_WORD *)(a1 + 350) = 1;
    *(_WORD *)(a1 + 358) = 1;
    *(_WORD *)(a1 + 366) = 1;
    *(_WORD *)(a1 + 344) = *(_WORD *)(a1 + 340);
    *(_WORD *)(a1 + 352) = *(_WORD *)(a1 + 348);
    *(_WORD *)(a1 + 360) = *(_WORD *)(a1 + 356);
    *(_WORD *)(a1 + 368) = *(_WORD *)(a1 + 364);
    *(_WORD *)(a1 + 370) = *(_WORD *)(a1 + 208);
    *(_WORD *)(a1 + 372) = 0;
    *(_WORD *)(a1 + 376) = 0;
    *(_WORD *)(a1 + 374) = 1;
    *(_WORD *)(a1 + 378) = *(_WORD *)(a1 + 216);
    *(_WORD *)(a1 + 380) = 0;
    *(_WORD *)(a1 + 384) = 0;
    *(_WORD *)(a1 + 382) = 1;
    *(_WORD *)(a1 + 386) = *(_WORD *)(a1 + 224);
    *(_WORD *)(a1 + 388) = 0;
    *(_WORD *)(a1 + 392) = 0;
    *(_WORD *)(a1 + 390) = 1;
    if ( !v4 )
      *(_WORD *)(a1 + 336) = *(_WORD *)(a1 + 164);
    result = v4;
  }
  return result;
}
// 10020880: using guessed type __int16 var_38[4];

//----- (10020C20) --------------------------------------------------------
int __cdecl sub_10020C20(int a1, unsigned __int16 a2)
{
  int v3; // [sp+0h] [bp-44h]@1
  char v4; // [sp+4h] [bp-40h]@5
  int v5; // [sp+8h] [bp-3Ch]@30
  unsigned __int8 v6; // [sp+10h] [bp-34h]@30
  unsigned __int8 v7; // [sp+11h] [bp-33h]@30
  char v8; // [sp+18h] [bp-2Ch]@5
  int v9; // [sp+34h] [bp-10h]@10
  int v10; // [sp+38h] [bp-Ch]@3
  unsigned int i; // [sp+3Ch] [bp-8h]@6
  unsigned __int8 v12; // [sp+42h] [bp-2h]@29
  char v13; // [sp+43h] [bp-1h]@1

  *(_DWORD *)(a1 + 204) = 0;
  *(_DWORD *)(a1 + 208) = 0;
  *(_DWORD *)(a1 + 212) = 0;
  *(_DWORD *)(a1 + 216) = 0;
  *(_DWORD *)(a1 + 220) = 0;
  *(_DWORD *)(a1 + 224) = 0;
  *(_DWORD *)(a1 + 228) = 0;
  v13 = 0;
  v3 = 0;
  if ( a2 >= (signed int)*(_WORD *)(a1 + 96) && (signed int)*(_WORD *)(a1 + 96) > 0 )
  {
    v13 = 1;
    v10 = *(_DWORD *)(a1 + 88) + *(_WORD *)(a1 + 92) * (a2 - *(_WORD *)(a1 + 96));
    if ( a2 < *(_WORD *)(a1 + 94) + *(_WORD *)(a1 + 96) )
      v3 = sub_10021AB0((int)&v4, *(_DWORD *)(a1 + 44), v10, (int)&v8, 0x18u);
    else
      v3 = 1;
  }
  for ( i = 0; i < 2 && v13 && !v3; ++i )
  {
    v9 = 0;
    if ( *(_DWORD *)(a1 + 100) & 1 )
    {
      v3 = sub_1001F210((int)&v4, &v10, 4);
      v9 += 4;
      if ( i )
        *(_DWORD *)(a1 + 208) = v10 - *(_DWORD *)(a1 + 204);
      else
        *(_DWORD *)(a1 + 204) = v10;
    }
    if ( (*(_DWORD *)(a1 + 100) >> 1) & 1 )
    {
      if ( !v3 )
      {
        v3 = sub_1001F210((int)&v4, &v10, 4);
        v9 += 4;
      }
      if ( i )
        *(_DWORD *)(a1 + 216) = v10 - *(_DWORD *)(a1 + 212);
      else
        *(_DWORD *)(a1 + 212) = v10;
    }
    if ( (*(_DWORD *)(a1 + 100) >> 2) & 1 )
    {
      if ( !v3 )
      {
        v3 = sub_1001F210((int)&v4, &v10, 4);
        v9 += 4;
      }
      if ( i )
        *(_DWORD *)(a1 + 224) = v10 - *(_DWORD *)(a1 + 220);
      else
        *(_DWORD *)(a1 + 220) = v10;
    }
    if ( !i && !v3 )
    {
      if ( (*(_DWORD *)(a1 + 100) >> 10) & 1 )
      {
        v12 = ((*(_DWORD *)(a1 + 100) >> 4) & 3) + 1;
        v3 = sub_1001F210((int)&v4, (_BYTE *)(a1 + 228), v12);
        v9 += v12;
      }
    }
    sub_10021B20((int)&v4, *(_WORD *)(a1 + 92) + v7 + v5 - v6 - v9);
  }
  return v3;
}

//----- (10020F00) --------------------------------------------------------
int __cdecl sub_10020F00(int a1, int a2, void *a3)
{
  int v4; // [sp+0h] [bp-Ch]@1
  __int16 v5; // [sp+4h] [bp-8h]@1

  v5 = 10;
  v4 = sub_1001E100(*(_DWORD *)(a1 + 232), *(_WORD *)(a2 + 6) + *(_DWORD *)(a1 + 168) + *(_DWORD *)(a1 + 236), a3, 10);
  if ( !v4 )
  {
    if ( !(*(_BYTE *)a3 & 0x80) )
    {
      *((_WORD *)a3 + 4) &= 0xFFu;
      v5 = 9;
      sub_1001C470(*(_DWORD *)(a1 + 232), -1, 1);
    }
    ++*((_WORD *)a3 + 4);
    ++*(_WORD *)(a2 + 4);
    *(_WORD *)(a2 + 6) += *((_WORD *)a3 + 4) + v5;
  }
  return v4;
}

//----- (10020FF0) --------------------------------------------------------
int __cdecl sub_10020FF0(int a1, int a2, int a3, __int16 a4, int a5)
{
  int v5; // eax@37
  int v6; // edx@41
  int v7; // eax@53
  int v9; // [sp+4h] [bp-80h]@1
  unsigned __int8 v10; // [sp+8h] [bp-7Ch]@22
  unsigned __int8 v11; // [sp+9h] [bp-7Bh]@27
  __int16 v12; // [sp+Ah] [bp-7Ah]@28
  __int16 v13; // [sp+Ch] [bp-78h]@28
  int v14; // [sp+10h] [bp-74h]@1
  __int16 v15; // [sp+14h] [bp-70h]@46
  unsigned __int8 v16; // [sp+16h] [bp-6Eh]@46
  int v17; // [sp+18h] [bp-6Ch]@24
  char v18; // [sp+1Ch] [bp-68h]@36
  char v19; // [sp+1Dh] [bp-67h]@1
  int v20; // [sp+20h] [bp-64h]@36
  int v21; // [sp+24h] [bp-60h]@28
  int v22; // [sp+28h] [bp-5Ch]@28
  int v23; // [sp+2Ch] [bp-58h]@36
  int v24; // [sp+54h] [bp-30h]@37
  int v25; // [sp+58h] [bp-2Ch]@37
  int v26; // [sp+5Ch] [bp-28h]@37
  int v27; // [sp+60h] [bp-24h]@37
  char v28; // [sp+6Ah] [bp-1Ah]@1
  char v29; // [sp+6Bh] [bp-19h]@6
  int v30; // [sp+6Ch] [bp-18h]@21
  char v31; // [sp+73h] [bp-11h]@29
  unsigned __int16 v32; // [sp+74h] [bp-10h]@1
  int v33; // [sp+78h] [bp-Ch]@1
  unsigned __int8 v34; // [sp+7Fh] [bp-5h]@1
  __int16 v35; // [sp+80h] [bp-4h]@17

  v9 = 0;
  v28 = 0;
  v32 = a4 & 0x7FFF;
  v34 = 2;
  v14 = 0;
  v19 = 4;
  *(_DWORD *)(a3 + 8) = 0;
  v33 = 0;
  if ( *(_WORD *)(a1 + 164) != (unsigned __int16)(*(_DWORD *)(a3 + 4) >> 16) >> 8 )
    v14 = sub_10020540(a1, (unsigned __int16)(*(_DWORD *)(a3 + 4) >> 16) >> 8);
  if ( !v14 && *(_WORD *)(a1 + 336) != (unsigned __int16)(*(_DWORD *)(a3 + 4) >> 16) >> 8 )
    v14 = sub_10020880(a1);
  v29 = *(_BYTE *)(a1 + 167);
  if ( !v14 && !*(_WORD *)a2 )
    v14 = 3;
  if ( !v14 && (*(_DWORD *)(a3 + 4) & 0xFFF) != *(_WORD *)(a2 + 4) )
  {
    *(_WORD *)(a2 + 4) = 1;
    *(_WORD *)(a2 + 6) = *(_WORD *)(a2 + 2);
  }
  while ( !v14 && (*(_DWORD *)(a3 + 4) & 0xFFF) >= *(_WORD *)(a2 + 4) )
  {
    if ( (*(_DWORD *)(a3 + 4) & 0xFFF) == *(_WORD *)(a2 + 4) )
      v28 = 1;
    if ( a1 + 370 == a2 )
    {
      v33 = *(_DWORD *)(a1 + 204) + *(_DWORD *)(a1 + 244);
      v34 = 2;
      v9 = a1 + 244;
      v35 = 128;
    }
    else if ( a1 + 378 == a2 )
    {
      v33 = *(_DWORD *)(a1 + 212) + *(_DWORD *)(a1 + 272);
      v34 = 12;
      v9 = a1 + 272;
      v35 = 64;
    }
    else
    {
      v14 = 1;
    }
    v33 += *(_WORD *)(a2 + 6);
    v30 = v33;
    if ( !v14 )
    {
      v14 = sub_1001E100(*(_DWORD *)(a1 + 232), v30, &v10, 6);
      v30 += 6;
    }
    if ( !v14 )
    {
      v14 = sub_10022E20(*(_DWORD *)(a1 + 232), &v30, &v17);
      v30 += v17;
    }
    if ( v28 )
    {
      if ( !v14 )
      {
        *(_WORD *)(a3 + 28) = 0;
        *(_WORD *)a3 = v35 + v10;
        *(_BYTE *)(a3 + 2) = v11 & 0x1F;
        *(_DWORD *)(a3 + 8) = 0;
        if ( v32 )
        {
          v22 = *(_DWORD *)(a1 + 184) + (v12 << (32 - v29));
          v21 = *(_DWORD *)(a1 + 180) + (v13 << (32 - v29));
        }
      }
    }
    v31 = 1;
    if ( v28 && !v14 )
      v31 = sub_10021880(*(_DWORD *)(a1 + 672), *(_WORD *)a3, *(_BYTE *)(a3 + 2));
    if ( v31 && v28 && !v14 )
    {
      if ( (signed int)v32 <= 1 )
      {
        if ( v32 == 1 )
        {
          v6 = *(_WORD *)(a3 + 28);
          *(_DWORD *)(a3 + 8 * v6 + 32) = v21;
          *(_DWORD *)(a3 + 8 * v6 + 36) = v22;
          ++*(_WORD *)(a3 + 28);
          *(_DWORD *)(a3 + 12) = v21;
          *(_DWORD *)(a3 + 16) = v22;
          *(_DWORD *)(a3 + 20) = v21;
          *(_DWORD *)(a3 + 24) = v22;
        }
      }
      else
      {
        v18 = v29;
        v20 = v17;
        v23 = a1;
        if ( sub_10022020((int)&v18, a3 + 28, v32) )
        {
          v5 = a3 + 12;
          *(_DWORD *)v5 = v24;
          *(_DWORD *)(v5 + 4) = v25;
          *(_DWORD *)(v5 + 8) = v26;
          *(_DWORD *)(v5 + 12) = v27;
        }
        else
        {
          v14 = 2;
        }
      }
    }
    if ( !v14 && ((signed int)v11 >> 5) & 1 )
    {
      if ( v31 )
      {
        if ( v28 )
        {
          v14 = sub_1001E100(*(_DWORD *)(a1 + 232), v30, &v15, 3);
          *(_WORD *)(a3 + 8) = v15;
          *(_WORD *)(a3 + 10) = v16;
          if ( (*(_DWORD *)(a3 + 8) >> 22) & 3 )
            *(_DWORD *)(a3 + 8) = 0;
        }
      }
      v30 += 3;
    }
    if ( !v14 && ((signed int)v11 >> 7) & 1 )
    {
      if ( v31 && v28 )
        v7 = sub_100228B0(a1, v34, *(_WORD *)a3, *(_BYTE *)(a3 + 2), &v30, a5);
      else
        v7 = sub_100228B0(a1, v34, *(_WORD *)a3, *(_BYTE *)(a3 + 2), &v30, 0);
      v14 = v7;
    }
    if ( !v14 && ((signed int)v11 >> 6) & 1 )
      v14 = sub_10022690(a1, v9, &v30);
    if ( !v14 && *(_DWORD *)(v9 + 12) )
      v14 = sub_10022650(v9, &v30);
    if ( !v14 )
    {
      ++*(_WORD *)(a2 + 4);
      *(_WORD *)(a2 + 6) += v30 - v33;
      if ( v28 )
      {
        if ( !v31 )
          v14 = 3;
      }
    }
  }
  return v14;
}

//----- (10021530) --------------------------------------------------------
int __cdecl sub_10021530(int a1, int a2, int a3)
{
  int v3; // eax@23
  unsigned __int8 v5; // [sp+4h] [bp-20h]@8
  unsigned __int8 v6; // [sp+5h] [bp-1Fh]@11
  __int16 v7; // [sp+6h] [bp-1Eh]@11
  __int16 v8; // [sp+8h] [bp-1Ch]@11
  int v9; // [sp+Ch] [bp-18h]@1
  __int16 v10; // [sp+10h] [bp-14h]@16
  unsigned __int8 v11; // [sp+12h] [bp-12h]@16
  char v12; // [sp+17h] [bp-Dh]@1
  int v13; // [sp+18h] [bp-Ch]@7
  char v14; // [sp+1Fh] [bp-5h]@1
  int v15; // [sp+20h] [bp-4h]@7

  v12 = 0;
  v14 = 0;
  v9 = 0;
  *(_DWORD *)(a2 + 8) = 0;
  *(_DWORD *)(a2 + 20) = -1;
  if ( (*(_DWORD *)(a2 + 4) & 0xFFF) != *(_WORD *)(a1 + 390) )
  {
    *(_WORD *)(a1 + 390) = 1;
    *(_WORD *)(a1 + 392) = *(_WORD *)(a1 + 388);
  }
  while ( !v9 && (*(_DWORD *)(a2 + 4) & 0xFFF) >= *(_WORD *)(a1 + 390) )
  {
    if ( (*(_DWORD *)(a2 + 4) & 0xFFF) == *(_WORD *)(a1 + 390) )
      v12 = 1;
    v15 = *(_DWORD *)(a1 + 220) + *(_DWORD *)(a1 + 300);
    v15 += *(_WORD *)(a1 + 392);
    v13 = v15;
    if ( !v9 )
    {
      v9 = sub_1001E100(*(_DWORD *)(a1 + 232), v13, &v5, 6);
      v13 += 6;
    }
    if ( v12 && !v9 )
    {
      *(_WORD *)a2 = v5 + 256;
      *(_BYTE *)(a2 + 2) = v6 & 0x1F;
      *(_DWORD *)(a2 + 8) = 0;
      *(_DWORD *)(a2 + 16) = *(_DWORD *)(a1 + 184) + (v7 << (32 - *(_BYTE *)(a1 + 167)));
      *(_DWORD *)(a2 + 12) = *(_DWORD *)(a1 + 180) + (v8 << (32 - *(_BYTE *)(a1 + 167)));
      v14 = sub_10021880(*(_DWORD *)(a1 + 672), *(_WORD *)a2, *(_BYTE *)(a2 + 2));
    }
    if ( !v9 && ((signed int)v6 >> 5) & 1 )
    {
      if ( v14 )
      {
        if ( v12 )
        {
          v9 = sub_1001E100(*(_DWORD *)(a1 + 232), v13, &v10, 3);
          *(_WORD *)(a2 + 8) = v10;
          *(_WORD *)(a2 + 10) = v11;
          if ( (*(_DWORD *)(a2 + 8) >> 22) & 3 )
            *(_DWORD *)(a2 + 8) = 0;
        }
      }
      v13 += 3;
    }
    if ( !v9 && ((signed int)v6 >> 7) & 1 )
    {
      if ( v14 && v12 )
        v3 = sub_100228B0(a1, 0x12u, *(_WORD *)a2, *(_BYTE *)(a2 + 2), &v13, a3);
      else
        v3 = sub_100228B0(a1, 0x12u, *(_WORD *)a2, *(_BYTE *)(a2 + 2), &v13, 0);
      v9 = v3;
    }
    if ( !v9 && ((signed int)v6 >> 6) & 1 )
      v9 = sub_10022690(a1, a1 + 300, &v13);
    if ( !v9 && *(_DWORD *)(a1 + 312) )
      v9 = sub_10022650(a1 + 300, &v13);
    if ( !v9 )
    {
      ++*(_WORD *)(a1 + 390);
      *(_WORD *)(a1 + 392) += v13 - v15;
      if ( v12 )
      {
        if ( !v14 )
          v9 = 3;
      }
    }
  }
  return v9;
}

//----- (10021880) --------------------------------------------------------
char __cdecl sub_10021880(int a1, unsigned __int16 a2, char a3)
{
  unsigned int v4; // [sp+4h] [bp-Ch]@11
  char v5; // [sp+Bh] [bp-5h]@1
  unsigned __int16 i; // [sp+Ch] [bp-4h]@3

  v5 = 1;
  if ( a1 && (signed int)*(_WORD *)(a1 + 4) > 0 )
  {
    for ( i = 0; i < (signed int)*(_WORD *)(a1 + 4) && a2 != *(_WORD *)(*(_DWORD *)a1 + 2 * i); ++i )
      ;
    if ( *(_BYTE *)(a1 + 6) )
    {
      if ( i < (signed int)*(_WORD *)(a1 + 4) )
      {
        if ( *(_DWORD *)(a1 + 8) )
        {
          v4 = *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4 * i);
          if ( v4 != -1 && !((v4 >> a3) & 1) )
            v5 = 0;
        }
      }
      else
      {
        v5 = 0;
      }
    }
    else if ( i < (signed int)*(_WORD *)(a1 + 4)
           && (!*(_DWORD *)(a1 + 8) || *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4 * i) & (1 << a3)) )
    {
      v5 = 0;
    }
  }
  return v5;
}

//----- (10021980) --------------------------------------------------------
int __cdecl sub_10021980(int a1, _BYTE *a2, __int16 a3)
{
  _BYTE *v4; // [sp+0h] [bp-Ch]@1
  int v5; // [sp+4h] [bp-8h]@1
  char v6; // [sp+Bh] [bp-1h]@4

  v5 = 0;
  v4 = a2;
  while ( a3 )
  {
    if ( *(_BYTE *)(a1 + 13) == *(_BYTE *)(a1 + 12) )
    {
      v6 = *(_BYTE *)(a1 + 12);
      if ( *(_DWORD *)(a1 + 4) + (unsigned __int8)v6 >= *(_DWORD *)(a1 + 8) )
      {
        v6 = *(_BYTE *)(a1 + 8) - *(_BYTE *)(a1 + 4);
        if ( *(_BYTE *)(a1 + 8) == *(_BYTE *)(a1 + 4) )
          v6 = 1;
      }
      *(_BYTE *)(a1 + 13) = *(_BYTE *)(a1 + 12) - v6;
      v5 = sub_1001E100(
             *(_DWORD *)a1,
             *(_DWORD *)(a1 + 4),
             (void *)(*(_DWORD *)(a1 + 16) + *(_BYTE *)(a1 + 13)),
             (unsigned __int8)v6);
      *(_DWORD *)(a1 + 4) += (unsigned __int8)v6;
      if ( v5 )
        break;
    }
    while ( a3 && *(_BYTE *)(a1 + 12) != *(_BYTE *)(a1 + 13) )
    {
      *v4++ = *(_BYTE *)((*(_BYTE *)(a1 + 13))++ + *(_DWORD *)(a1 + 16));
      --a3;
    }
  }
  return v5;
}

//----- (10021AB0) --------------------------------------------------------
int __cdecl sub_10021AB0(int a1, int a2, int a3, int a4, unsigned __int16 a5)
{
  *(_DWORD *)a1 = a2;
  *(_DWORD *)(a1 + 4) = a3;
  *(_DWORD *)(a1 + 8) = sub_1001C470(a2, 0, 2);
  *(_DWORD *)(a1 + 16) = a4;
  if ( (signed int)a5 <= 255 )
    *(_BYTE *)(a1 + 12) = a5;
  else
    *(_BYTE *)(a1 + 12) = -1;
  *(_BYTE *)(a1 + 13) = *(_BYTE *)(a1 + 12);
  return 0;
}

//----- (10021B20) --------------------------------------------------------
int __cdecl sub_10021B20(int a1, int a2)
{
  if ( a2 < *(_DWORD *)(a1 + 4) && a2 >= *(_DWORD *)(a1 + 4) - *(_BYTE *)(a1 + 12) )
  {
    *(_BYTE *)(a1 + 13) = a2 + *(_BYTE *)(a1 + 12) - *(_BYTE *)(a1 + 4);
  }
  else
  {
    *(_BYTE *)(a1 + 13) = *(_BYTE *)(a1 + 12);
    *(_DWORD *)(a1 + 4) = a2;
  }
  return 0;
}

//----- (10021B80) --------------------------------------------------------
int __cdecl sub_10021B80(int a1, int a2)
{
  int v3; // [sp+0h] [bp-8h]@2
  char v4; // [sp+6h] [bp-2h]@2
  unsigned __int8 v5; // [sp+7h] [bp-1h]@4

  memset((void *)(a2 + 56), 0, 0x18u);
  memset((void *)(a2 + 80), 0, 2u);
  *(_DWORD *)(a2 + 56) = *(_DWORD *)a2 << *(_BYTE *)(a1 + 492);
  *(_DWORD *)(a2 + 56) += *(_DWORD *)(a1 + 484);
  v3 = sub_1001E100(*(_DWORD *)(a1 + 396), *(_DWORD *)(a2 + 56), &v4, 1);
  ++*(_DWORD *)(a2 + 56);
  if ( !v3 )
  {
    v5 = (v4 & 3) + 1;
    v3 = sub_1001E100(*(_DWORD *)(a1 + 396), *(_DWORD *)(a2 + 56), (void *)(a2 + 60), v5);
    *(_DWORD *)(a2 + 56) += v5;
  }
  if ( !v3 )
    v3 = sub_10021C90(a1, a2);
  return v3;
}

//----- (10021C90) --------------------------------------------------------
int __cdecl sub_10021C90(int a1, int a2)
{
  int v3; // [sp+0h] [bp-Ch]@1
  unsigned __int16 v4; // [sp+4h] [bp-8h]@1
  __int16 v5[2]; // [sp+8h] [bp-4h]@25

  v4 = 0;
  v3 = 0;
  if ( !a1 || !a2 )
    v3 = 1;
  if ( !*(_BYTE *)(a2 + 78) && !v3 )
  {
    if ( (unsigned int)*(_BYTE *)(a2 + 81) >= *(_DWORD *)(a2 + 60) )
      v3 = 3;
    if ( !v3 )
      v3 = sub_10022E20(*(_DWORD *)(a1 + 396), (int *)(a2 + 56), (int *)(a2 + 64));
    if ( !v3 )
    {
      v3 = sub_1001E100(*(_DWORD *)(a1 + 396), *(_DWORD *)(a2 + 56), &v4, 2);
      *(_DWORD *)(a2 + 56) += 2;
      *(_DWORD *)(a2 + 64) -= 2;
    }
    *(_BYTE *)(a2 + 80) = v4;
    *(_BYTE *)(a2 + 76) = ((signed int)v4 >> 10) & 7;
    if ( *(_BYTE *)(a2 + 76) && !v3 )
    {
      *(_DWORD *)(a2 + 72) = 0;
      v3 = sub_1001E100(
             *(_DWORD *)(a1 + 396),
             *(_DWORD *)(a2 + 56),
             (void *)(a2 + 72),
             (((signed int)v4 >> 13) & 3) + 1);
      *(_DWORD *)(a2 + 56) += (((signed int)v4 >> 13) & 3) + 1;
      *(_DWORD *)(a2 + 64) -= (((signed int)v4 >> 13) & 3) + 1;
    }
    if ( !(((signed int)v4 >> 15) & 1) || v3 )
    {
      *(_BYTE *)(a2 + 77) = *(_BYTE *)(a1 + 493) & 7;
    }
    else
    {
      v3 = sub_1001E100(*(_DWORD *)(a1 + 396), *(_DWORD *)(a2 + 56), (void *)(a2 + 77), 1);
      ++*(_DWORD *)(a2 + 56);
      --*(_DWORD *)(a2 + 64);
    }
    *(_DWORD *)(a2 + 68) = 0;
    ++*(_BYTE *)(a2 + 81);
  }
  if ( !v3 )
  {
    if ( a2 != -4 && *(_WORD *)(a2 + 54) )
    {
      if ( *(_BYTE *)(a2 + 76) )
      {
        v3 = 1;
      }
      else
      {
        *(_DWORD *)v5 = *(_DWORD *)(a2 + 64) - (*(_DWORD *)(a2 + 68) >> 3);
        if ( *(_DWORD *)v5 >= (unsigned int)*(_WORD *)(a2 + 54) )
          *(_DWORD *)v5 = *(_WORD *)(a2 + 54) - 1;
        v3 = sub_1001E100(*(_DWORD *)(a1 + 396), *(_DWORD *)(a2 + 56), (void *)(a2 + 4), v5[0]);
        *(_DWORD *)(a2 + 56) += *(_DWORD *)v5;
        *(_DWORD *)(a2 + 68) += 8 * *(_DWORD *)v5;
        *(_BYTE *)(*(_DWORD *)v5 + a2 + 4) = 0;
        *(_BYTE *)(a2 + 78) = *(_DWORD *)(a2 + 68) >> 3 < *(_DWORD *)(a2 + 64);
      }
    }
    else
    {
      *(_DWORD *)(a2 + 56) += *(_DWORD *)(a2 + 64);
      *(_DWORD *)(a2 + 68) += 8 * *(_DWORD *)(a2 + 64);
    }
  }
  return v3;
}

//----- (10021F90) --------------------------------------------------------
_BYTE *__cdecl sub_10021F90(int a1, int a2, _BYTE *a3)
{
  _BYTE *result; // eax@5
  unsigned int v4; // [sp+0h] [bp-4h]@1

  v4 = *(_DWORD *)(a1 + 12) + 2147483648;
  if ( *(_DWORD *)a2 > *(_DWORD *)a1
    || *(_DWORD *)(a2 + 8) < *(_DWORD *)(a1 + 8)
    || (signed int)(*(_DWORD *)(a2 + 4) - v4) > (signed int)(*(_DWORD *)(a1 + 4) - v4)
    || (signed int)(*(_DWORD *)(a2 + 12) - v4) > (signed int)(*(_DWORD *)(a1 + 4) - v4)
    || (result = (_BYTE *)a2, (signed int)(*(_DWORD *)(a2 + 12) - v4) > (signed int)(*(_DWORD *)(a2 + 4) - v4)) )
  {
    result = a3;
    *a3 = 0;
  }
  else
  {
    *a3 = 1;
  }
  return result;
}

//----- (10022020) --------------------------------------------------------
int __cdecl sub_10022020(int a1, int a2, unsigned __int16 a3)
{
  int v3; // edx@1
  unsigned int v4; // eax@1
  unsigned __int8 v5; // ST1B_1@1
  int v6; // ST14_4@14
  unsigned int v7; // eax@15
  int v9; // [sp+0h] [bp-14h]@3
  unsigned int v10; // [sp+4h] [bp-10h]@1
  int v11; // [sp+4h] [bp-10h]@3
  unsigned int v12; // [sp+8h] [bp-Ch]@22
  unsigned int i; // [sp+10h] [bp-4h]@5

  v3 = *(_DWORD *)(a1 + 12);
  *(_DWORD *)(a1 + 48) = *(_DWORD *)(a1 + 8);
  *(_DWORD *)(a1 + 52) = v3;
  *(_DWORD *)(a1 + 56) = *(_DWORD *)(a1 + 8);
  *(_DWORD *)(a1 + 60) = 0;
  *(_DWORD *)(a1 + 64) = *(_DWORD *)(a1 + 8);
  *(_DWORD *)(a1 + 68) = 0;
  *(_DWORD *)(a1 + 24) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(a1 + 16) + 232) + 16);
  *(_BYTE *)(a1 + 21) = (*(_BYTE *)(a1 + 1) & 2) != 0 ? 8 : 0;
  v4 = sub_10024630(*(_DWORD *)(*(_DWORD *)(a1 + 16) + 232), (_DWORD *)(a1 + 36));
  *(_DWORD *)(a1 + 24) += v4;
  v5 = **(_BYTE **)(a1 + 36);
  --*(_DWORD *)(a1 + 4);
  ++*(_DWORD *)(a1 + 36);
  v10 = v4 - 1;
  *(_DWORD *)(a1 + 40) = (unsigned __int8)byte_10081484[v5 & 0xF];
  *(_DWORD *)(a1 + 44) = (unsigned __int8)byte_10081484[(signed int)v5 >> 4];
  if ( v4 == 1 )
  {
    sub_1001C470(*(_DWORD *)(*(_DWORD *)(a1 + 16) + 232), *(_DWORD *)(a1 + 24), 0);
    v10 = sub_10024630(*(_DWORD *)(*(_DWORD *)(a1 + 16) + 232), (_DWORD *)(a1 + 36));
    *(_DWORD *)(a1 + 24) += v10;
  }
  v9 = *(_DWORD *)(a1 + 36) & 3;
  *(_DWORD *)(a1 + 32) = (v9 + v10 + 3) >> 2;
  *(_DWORD *)(a1 + 36) -= v9;
  *(_DWORD *)(a1 + 28) = **(_DWORD **)(a1 + 36);
  *(_DWORD *)(a1 + 36) += 4;
  --*(_DWORD *)(a1 + 32);
  v11 = 4 - v9;
  if ( (unsigned int)(4 - v9) > *(_DWORD *)(a1 + 4) )
    v11 = *(_DWORD *)(a1 + 4);
  *(_DWORD *)(a1 + 4) -= v11;
  *(_BYTE *)(a1 + 20) = 8 * v11;
  *(_DWORD *)(a1 + 28) >>= 8 * v9;
  for ( i = 0; i < 2; ++i )
  {
    *(_DWORD *)(a1 + 4 * i + 40) |= -1 << ((*(_DWORD *)(a1 + 4 * i + 40) & 0x1F) + 8);
    if ( *(_DWORD *)(a1 + 28) & 1 )
    {
      *(_DWORD *)(a1 + 4 * i + 40) |= 0x40u;
      if ( *(_DWORD *)(a1 + 28) & 2 )
        *(_DWORD *)(a1 + 4 * i + 40) |= 0x80u;
      *(_BYTE *)(a1 + 20) -= 2;
      *(_DWORD *)(a1 + 28) >>= 2;
    }
    else
    {
      ++*(_DWORD *)(a1 + 4 * i + 40);
      --*(_BYTE *)(a1 + 20);
      *(_DWORD *)(a1 + 28) >>= 1;
    }
  }
  if ( *(_BYTE *)(a1 + 1) & 4 )
  {
    v6 = *(_DWORD *)(a1 + 28) & 1;
    --*(_BYTE *)(a1 + 20);
    *(_DWORD *)(a1 + 28) >>= 1;
    if ( v6 == 1 )
    {
      v7 = sub_10022470(a1, 4u);
      *(_BYTE *)(a1 + 21) = 4 * ((v7 >> 28) & 1) | *(_BYTE *)(a1 + 21) & 0xFB;
      *(_BYTE *)(a1 + 21) = 16 * ((((unsigned __int8)(v7 >> 28) >> 1) + 1) & 0xF) | *(_BYTE *)(a1 + 21) & 0xF;
    }
  }
  else if ( *(_BYTE *)(a1 + 1) & 1 )
  {
    *(_BYTE *)(a1 + 21) = *(_BYTE *)(a1 + 21) & 0xF | 0x10;
  }
  if ( ((signed int)*(_BYTE *)(a1 + 21) >> 4) & 0xF
    && (!(((signed int)*(_BYTE *)(a1 + 21) >> 2) & 1) || sub_10022470(a1, 1u)) )
  {
    v12 = sub_10022470(a1, ((signed int)*(_BYTE *)(a1 + 21) >> 4) & 0xF);
    if ( *(_BYTE *)(a1 + 1) & 2 )
      *(_DWORD *)(a1 + 48) += v12 >> (32 - (((signed int)*(_BYTE *)(a1 + 21) >> 4) & 0xF));
  }
  *(_WORD *)a2 = sub_10022F60(a1, a2 + 4, a3);
  return *(_WORD *)a2;
}

//----- (10022470) --------------------------------------------------------
int __cdecl sub_10022470(int a1, unsigned int a2)
{
  int v3; // [sp+0h] [bp-4h]@2

  if ( *(_BYTE *)(a1 + 20) >= a2 )
  {
    v3 = *(_DWORD *)(a1 + 28) << (32 - a2);
    *(_DWORD *)(a1 + 28) >>= a2;
    *(_BYTE *)(a1 + 20) -= a2;
  }
  else
  {
    v3 = sub_100224D0(a1, a2);
  }
  return v3;
}

//----- (100224D0) --------------------------------------------------------
int __cdecl sub_100224D0(int a1, int a2)
{
  int v2; // ST04_4@4
  unsigned int v4; // [sp+0h] [bp-4h]@2

  if ( (signed int)*(_BYTE *)(a1 + 20) <= 0 )
  {
    v4 = 0;
  }
  else
  {
    v4 = *(_DWORD *)(a1 + 28) << (32 - *(_BYTE *)(a1 + 20));
    a2 -= *(_BYTE *)(a1 + 20);
  }
  *(_DWORD *)(a1 + 28) = sub_10022570(a1);
  v2 = (v4 >> a2) | (*(_DWORD *)(a1 + 28) << (32 - a2));
  *(_DWORD *)(a1 + 28) >>= a2;
  *(_BYTE *)(a1 + 20) -= a2;
  return v2;
}

//----- (10022570) --------------------------------------------------------
int __cdecl sub_10022570(int a1)
{
  unsigned int v1; // eax@2
  int v2; // ST0C_4@6
  signed int v4; // [sp+4h] [bp-8h]@4

  if ( !*(_DWORD *)(a1 + 32) )
  {
    sub_1001C470(*(_DWORD *)(*(_DWORD *)(a1 + 16) + 232), *(_DWORD *)(a1 + 24), 0);
    v1 = sub_10024630(*(_DWORD *)(*(_DWORD *)(a1 + 16) + 232), (_DWORD *)(a1 + 36));
    *(_DWORD *)(a1 + 24) += v1;
    *(_DWORD *)(a1 + 32) = (v1 + 3) >> 2;
  }
  if ( *(_DWORD *)(a1 + 4) >= 4u )
    v4 = 4;
  else
    v4 = *(_DWORD *)(a1 + 4);
  *(_DWORD *)(a1 + 4) -= v4;
  *(_BYTE *)(a1 + 20) = 8 * v4;
  --*(_DWORD *)(a1 + 32);
  v2 = **(_DWORD **)(a1 + 36);
  *(_DWORD *)(a1 + 36) += 4;
  return v2;
}

//----- (10022650) --------------------------------------------------------
int __cdecl sub_10022650(int a1, _DWORD *a2)
{
  unsigned int i; // [sp+0h] [bp-8h]@1

  for ( i = *(_DWORD *)(a1 + 12); i; i >>= 2 )
    *a2 += i & 3;
  return 0;
}

//----- (10022690) --------------------------------------------------------
int __cdecl sub_10022690(int a1, int a2, int *a3)
{
  unsigned int v3; // ST14_4@8
  int v5; // [sp+0h] [bp-18h]@1
  unsigned int v6; // [sp+4h] [bp-14h]@1
  unsigned int v7; // [sp+8h] [bp-10h]@2
  int v8; // [sp+Ch] [bp-Ch]@15
  unsigned int i; // [sp+10h] [bp-8h]@10
  unsigned int v10; // [sp+14h] [bp-4h]@1

  v10 = 0;
  v6 = -1;
  v5 = 0;
  if ( (*(_DWORD *)(a2 + 16) >> 29) & 1 )
  {
    v6 = 0;
    v5 = sub_1001E100(*(_DWORD *)(a1 + 232), *a3, &v7, 1);
    if ( !v5 )
    {
      if ( v7 & 1 )
      {
        v6 = ((signed int)(unsigned __int8)v7 >> 1) & 0x7F;
        ++*a3;
      }
      else if ( ((signed int)(unsigned __int8)v7 >> 1) & 1 )
      {
        v5 = sub_1001E100(*(_DWORD *)(a1 + 232), *a3, &v7, 2);
        v6 = ((signed int)(unsigned __int16)v7 >> 2) & 0x3FFF;
        *a3 += 2;
      }
      else if ( ((signed int)(unsigned __int8)v7 >> 3) & 1 )
      {
        v5 = sub_1001E100(*(_DWORD *)(a1 + 232), *a3, &v7, 3);
        LOWORD(v3) = v7;
        HIWORD(v3) = BYTE2(v7);
        v6 = v3 >> 3;
        *a3 += 3;
      }
      else
      {
        v5 = sub_1001E100(*(_DWORD *)(a1 + 232), *a3, &v7, 4);
        v6 = v7 >> 3;
        *a3 += 4;
      }
    }
  }
  for ( i = 0; i < 0x1D && !v5; ++i )
  {
    if ( (*(_DWORD *)(a2 + 16) >> i) & 1 )
    {
      if ( v6 & 1 )
      {
        v8 = (*(_DWORD *)(a2 + 4 * (v10 >> 4) + 20) >> 2 * v10) & 3;
        if ( v8 == 3 )
          v5 = sub_10022E20(*(_DWORD *)(a1 + 232), a3, &v8);
        else
          *a3 += ++v8;
      }
      v6 >>= 1;
      ++v10;
    }
  }
  return v5;
}

//----- (100228B0) --------------------------------------------------------
int __cdecl sub_100228B0(int a1, unsigned __int8 a2, unsigned __int16 a3, char a4, int *a5, int a6)
{
  unsigned int v7; // [sp+8h] [bp-Ch]@1
  unsigned __int8 v8; // [sp+Fh] [bp-5h]@1
  int v9; // [sp+10h] [bp-4h]@1

  v7 = 0;
  v9 = 0;
  v9 = sub_1001E100(*(_DWORD *)(a1 + 232), *a5, &v8, 1);
  ++*a5;
  if ( !v9 )
  {
    switch ( ((signed int)v8 >> 5) & 7 )
    {
      case 4:
        v7 = 1;
        break;
      case 5:
        v7 = 2;
        break;
      case 6:
        v7 = 3;
        break;
      case 7:
        v9 = sub_10022E20(*(_DWORD *)(a1 + 232), a5, (int *)&v7);
        break;
      default:
        break;
    }
  }
  if ( !v9 && a6 )
  {
    *(_BYTE *)a6 = sub_10022A60(a2, a3, a4);
    switch ( *(_BYTE *)a6 )
    {
      case 2:
      case 3:
        v9 = sub_10022AE0(a1, *a5, v8, v7, a6);
        break;
      case 5:
        if ( v7 )
          *(_BYTE *)a6 = 1;
        else
          *(_BYTE *)(a6 + 4) = v8 & 0xF;
        break;
      case 0xC:
        v9 = sub_10022D90(a1, *a5, v8, v7, a6);
        break;
      default:
        break;
    }
  }
  if ( !v9 )
    *a5 += v7;
  return v9;
}

//----- (10022A60) --------------------------------------------------------
char __cdecl sub_10022A60(unsigned __int8 a1, unsigned __int16 a2, char a3)
{
  char v4; // [sp+3h] [bp-5h]@1
  unsigned int i; // [sp+4h] [bp-4h]@1

  v4 = 1;
  for ( i = 0; i < 6; ++i )
  {
    if ( a1 == (unsigned __int8)byte_10081495[8 * i]
      && a2 == (unsigned __int16)word_10081496[4 * i]
      && ((unsigned int)dword_10081498[2 * i] >> a3) & 1 )
    {
      return byte_10081494[8 * i];
    }
  }
  return v4;
}
// 10081496: using guessed type __int16 word_10081496[];
// 10081498: using guessed type int dword_10081498[];

//----- (10022AE0) --------------------------------------------------------
int __cdecl sub_10022AE0(int a1, int a2, unsigned __int8 a3, unsigned int a4, int a5)
{
  __int16 v6[2]; // [sp+4h] [bp-8h]@1
  int v7; // [sp+8h] [bp-4h]@1

  *(_DWORD *)v6 = 0;
  v7 = 0;
  if ( a4 )
  {
    if ( a4 > 3 )
    {
      *(_BYTE *)a5 = 13;
      *(_BYTE *)(a5 + 4) = ((signed int)a3 >> 3) & 3;
      *(_DWORD *)(a5 + 8) = 0;
      *(_DWORD *)(a5 + 12) = 0;
      *(_DWORD *)v6 = (a3 & 1) + 2;
      v7 = sub_1001E100(*(_DWORD *)(a1 + 232), a2, (void *)(a5 + 8), (a3 & 1) + 2);
      v7 = sub_1001E100(*(_DWORD *)(a1 + 232), *(_DWORD *)v6 + a2, (void *)(a5 + 12), v6[0]);
    }
    else
    {
      *(_WORD *)(a5 + 4) = ((signed int)a3 >> 3) & 3;
      if ( a4 == 1 )
      {
        v7 = sub_1001E100(*(_DWORD *)(a1 + 232), a2, (void *)(a5 + 8), 1);
        *(_DWORD *)(a5 + 8) |= (a3 & 7) << 8;
      }
      else if ( ((signed int)a3 >> 2) & 1 )
      {
        *(_BYTE *)a5 = 13;
        *(_BYTE *)(a5 + 4) = *(_BYTE *)(a5 + 4);
        v7 = sub_1001E100(*(_DWORD *)(a1 + 232), a2, v6, a4);
        *(_DWORD *)(a5 + 8) = *(_DWORD *)v6 & (2 * (1 << (4 * a4 - 1)) - 1);
        *(_DWORD *)(a5 + 8) |= (a3 & 1) << 4 * a4;
        *(_DWORD *)(a5 + 12) = (2 * (1 << (4 * a4 - 1)) - 1) & (*(_DWORD *)v6 >> 4 * a4);
        *(_DWORD *)(a5 + 12) |= (((signed int)a3 >> 1) & 1) << 4 * a4;
      }
      else
      {
        v7 = sub_1001E100(*(_DWORD *)(a1 + 232), a2, (void *)(a5 + 8), a4);
        *(_DWORD *)(a5 + 8) |= (a3 & 3) << 8 * a4;
        *(_DWORD *)(a5 + 8) = *(_DWORD *)(a5 + 8) << (32 - (8 * a4 + 2)) >> (32 - (8 * a4 + 2));
      }
    }
  }
  else
  {
    if ( ((signed int)a3 >> 6) & 1 )
      *(_BYTE *)(a5 + 4) = 2;
    else
      *(_BYTE *)(a5 + 4) = 0;
    *(_DWORD *)(a5 + 8) = a3 & 0x3F;
  }
  return v7;
}

//----- (10022D90) --------------------------------------------------------
int __cdecl sub_10022D90(int a1, int a2, char a3, unsigned int a4, int a5)
{
  int v6; // [sp+0h] [bp-4h]@1

  memset((void *)(a5 + 4), 0, 0xCu);
  v6 = 0;
  if ( a4 )
  {
    if ( a4 > 3 )
    {
      *(_BYTE *)a5 = 1;
    }
    else
    {
      v6 = sub_1001E100(*(_DWORD *)(a1 + 232), a2, (void *)(a5 + 4), a4);
      *(_DWORD *)(a5 + 4) |= (a3 & 0x1F) << 8 * a4;
    }
  }
  else
  {
    *(_DWORD *)(a5 + 4) = a3 & 0x7F;
  }
  return v6;
}

//----- (10022E20) --------------------------------------------------------
int __cdecl sub_10022E20(int a1, int *a2, int *a3)
{
  char v4; // [sp+7h] [bp-Dh]@1
  int v5; // [sp+8h] [bp-Ch]@1
  signed int v6; // [sp+Ch] [bp-8h]@1
  unsigned __int8 v7; // [sp+13h] [bp-1h]@1

  v4 = 0;
  v6 = 0;
  v5 = sub_1001E100(a1, *a2, &v7, 1);
  ++*a2;
  *a3 = 0;
  if ( !v5 )
  {
    if ( v7 & 1 )
    {
      v6 = 7;
    }
    else if ( ((signed int)v7 >> 1) & 1 )
    {
      v6 = 6;
      v4 = 1;
    }
    else if ( ((signed int)v7 >> 2) & 1 )
    {
      v6 = 5;
      v4 = 2;
    }
    else
    {
      v6 = 5;
      v4 = 3;
    }
    *a3 = (2 * (1 << (v6 - 1)) - 1) & ((signed int)v7 >> (8 - v6));
  }
  while ( (signed int)(unsigned __int8)v4 > 0 && !v5 )
  {
    v5 = sub_1001E100(a1, *a2, &v7, 1);
    ++*a2;
    *a3 += v7 << v6;
    --v4;
    v6 += 8;
  }
  return v5;
}

//----- (10022F60) --------------------------------------------------------
int __cdecl sub_10022F60(int a1, int a2, unsigned __int16 a3)
{
  char v4; // [sp+3h] [bp-19h]@1
  int v5; // [sp+4h] [bp-18h]@1
  unsigned int v6; // [sp+8h] [bp-14h]@1
  signed int v7; // [sp+Ch] [bp-10h]@6
  signed int v8; // [sp+Ch] [bp-10h]@8
  signed int v9; // [sp+10h] [bp-Ch]@1
  int v10; // [sp+14h] [bp-8h]@1
  int v11; // [sp+18h] [bp-4h]@1

  v6 = 0;
  v9 = *(_DWORD *)(a1 + 48);
  v10 = *(_DWORD *)(a1 + 52);
  v11 = v10 - *(_DWORD *)(a1 + 12);
  v4 = 0;
  v5 = 0;
  if ( !a3 )
  {
    a2 = 0;
    a3 = -1;
  }
  while ( v5 != a3 )
  {
    if ( a2 )
    {
      *(_DWORD *)a2 = v9;
      *(_DWORD *)(a2 + 4) = v10;
      a2 += 8;
      ++v5;
    }
    v7 = sub_10023150((_BYTE *)a1, *(_DWORD *)(a1 + 40));
    if ( v7 == 1 )
    {
      v4 = 1;
      break;
    }
    v11 += v7;
    v10 += v7;
    v8 = sub_10023150((_BYTE *)a1, *(_DWORD *)(a1 + 44));
    if ( v8 == 1 )
    {
      v4 = 1;
      break;
    }
    v9 += v8;
    if ( ((signed int)*(_BYTE *)(a1 + 21) >> 4) & 0xF )
    {
      v6 = sub_10023220(a1);
      v9 = v9 >> 8 << 8;
      if ( v6 == 1 )
      {
        v4 = 1;
        break;
      }
    }
    if ( v9 > *(_DWORD *)(a1 + 56) )
      *(_DWORD *)(a1 + 56) = v9;
    if ( v9 < *(_DWORD *)(a1 + 64) )
      *(_DWORD *)(a1 + 64) = v9;
    if ( v11 > *(_DWORD *)(a1 + 60) )
      *(_DWORD *)(a1 + 60) = v11;
    if ( v11 < *(_DWORD *)(a1 + 68) )
      *(_DWORD *)(a1 + 68) = v11;
    if ( *(_BYTE *)(a1 + 1) & 2 )
      v9 |= v6 >> (32 - (((signed int)*(_BYTE *)(a1 + 21) >> 4) & 0xF));
  }
  if ( v4 )
  {
    *(_DWORD *)(a1 + 60) += *(_DWORD *)(a1 + 12);
    *(_DWORD *)(a1 + 68) += *(_DWORD *)(a1 + 12);
  }
  else
  {
    v5 = 0;
    *(_DWORD *)(a1 + 48) = v9;
    *(_DWORD *)(a1 + 52) = v10;
  }
  return v5;
}

//----- (10023150) --------------------------------------------------------
signed int __cdecl sub_10023150(_BYTE *a1, signed int a2)
{
  int v3; // [sp+0h] [bp-14h]@8
  int i; // [sp+8h] [bp-Ch]@1
  char v5; // [sp+Ch] [bp-8h]@4
  signed int v6; // [sp+10h] [bp-4h]@2
  int v7; // [sp+10h] [bp-4h]@5
  signed int v8; // [sp+10h] [bp-4h]@6

  for ( i = 0; ; i += v8 + 1 )
  {
    v6 = sub_10023270((int)a1, a2 & 0x1F);
    if ( v6 == 1 )
      return 1;
    v5 = 32 - (a2 & 0x1F);
    if ( a2 & 0x40 )
    {
      v7 = ((a2 << 24 >> 31) ^ ((unsigned int)v6 >> v5)) - (a2 << 24 >> 31);
      return v7 << (32 - *a1);
    }
    v8 = v6 >> v5;
    if ( v8 != a2 >> 8 )
      break;
  }
  if ( v8 >= 0 )
    v3 = -i;
  else
    v3 = i;
  v7 = v3 + v8;
  return v7 << (32 - *a1);
}

//----- (10023220) --------------------------------------------------------
signed int __cdecl sub_10023220(int a1)
{
  signed int result; // eax@3

  if ( ((signed int)*(_BYTE *)(a1 + 21) >> 2) & 1 && !sub_10023270(a1, 1u) )
    result = 0;
  else
    result = sub_10023270(a1, ((signed int)*(_BYTE *)(a1 + 21) >> 4) & 0xF);
  return result;
}

//----- (10023270) --------------------------------------------------------
signed int __cdecl sub_10023270(int a1, unsigned int a2)
{
  unsigned int v3; // [sp+0h] [bp-4h]@3
  int v4; // [sp+0h] [bp-4h]@7

  if ( *(_BYTE *)(a1 + 20) >= a2 )
  {
    v4 = *(_DWORD *)(a1 + 28) << (32 - a2);
    *(_DWORD *)(a1 + 28) >>= a2;
    *(_BYTE *)(a1 + 20) -= a2;
  }
  else
  {
    if ( (signed int)*(_BYTE *)(a1 + 20) <= 0 )
    {
      v3 = 0;
    }
    else
    {
      v3 = *(_DWORD *)(a1 + 28) << (32 - *(_BYTE *)(a1 + 20));
      a2 -= *(_BYTE *)(a1 + 20);
    }
    *(_DWORD *)(a1 + 28) = sub_10023370(a1);
    if ( *(_BYTE *)(a1 + 20) < a2 )
      return 1;
    v4 = (v3 >> a2) | (*(_DWORD *)(a1 + 28) << (32 - a2));
    *(_DWORD *)(a1 + 28) >>= a2;
    *(_BYTE *)(a1 + 20) -= a2;
  }
  return v4;
}

//----- (10023370) --------------------------------------------------------
int __cdecl sub_10023370(int a1)
{
  unsigned int v1; // eax@2
  int v2; // ST0C_4@6
  int v4; // [sp+4h] [bp-Ch]@4
  unsigned __int8 v5; // [sp+Bh] [bp-5h]@1

  v5 = 0;
  if ( !*(_DWORD *)(a1 + 32) )
  {
    sub_1001C470(*(_DWORD *)(*(_DWORD *)(a1 + 16) + 232), *(_DWORD *)(a1 + 24), 0);
    v1 = sub_10024630(*(_DWORD *)(*(_DWORD *)(a1 + 16) + 232), (_DWORD *)(a1 + 36));
    *(_DWORD *)(a1 + 24) += v1;
    v5 = *(_DWORD *)(a1 + 36) & 3;
    *(_DWORD *)(a1 + 32) = (v1 + (*(_DWORD *)(a1 + 36) & 3) + 3) >> 2;
    *(_DWORD *)(a1 + 36) -= v5;
  }
  if ( *(_DWORD *)(a1 + 4) >= 4 - (unsigned int)v5 )
    v4 = 4 - v5;
  else
    v4 = *(_DWORD *)(a1 + 4);
  *(_DWORD *)(a1 + 4) -= v4;
  *(_BYTE *)(a1 + 20) = 8 * v4;
  --*(_DWORD *)(a1 + 32);
  v2 = **(_DWORD **)(a1 + 36) >> 8 * v5;
  *(_DWORD *)(a1 + 36) += 4;
  return v2;
}

//----- (100234C0) --------------------------------------------------------
int __cdecl sub_100234C0(unsigned __int8 a1, unsigned int a2)
{
  return dword_100819E0[a1 ^ (unsigned __int8)a2] ^ (a2 >> 8);
}
// 100819E0: using guessed type int dword_100819E0[];

//----- (100234E0) --------------------------------------------------------
unsigned int __cdecl sub_100234E0(unsigned int *a1, signed int a2, unsigned int a3)
{
  unsigned int *v3; // edx@1
  unsigned int result; // eax@1
  signed int i; // esi@1
  unsigned int v6; // edi@5
  unsigned int v7; // eax@6
  unsigned int v8; // eax@6
  unsigned int v9; // eax@6
  unsigned int v10; // eax@6
  unsigned int v11; // ecx@6
  unsigned int v12; // ecx@6
  unsigned int v13; // ecx@6

  v3 = a1;
  result = a3;
  for ( i = a2; i; --i )
  {
    if ( !((unsigned __int8)v3 & 3) )
      break;
    result = dword_100819E0[(unsigned __int8)result ^ *(_BYTE *)v3] ^ (result >> 8);
    v3 = (unsigned int *)((char *)v3 + 1);
  }
  if ( i >= 8 )
  {
    v6 = (unsigned int)i >> 3;
    do
    {
      v7 = dword_100819E0[(unsigned __int8)result ^ (unsigned __int8)*v3] ^ (result >> 8);
      v8 = dword_100819E0[(unsigned __int8)v7 ^ (unsigned __int8)(*(_WORD *)v3 >> 8)] ^ (v7 >> 8);
      v9 = dword_100819E0[(unsigned __int8)v8 ^ (unsigned __int8)(*v3 >> 16)] ^ (v8 >> 8);
      v10 = dword_100819E0[(unsigned __int8)v9 ^ (*v3 >> 24)] ^ (v9 >> 8);
      v3 += 2;
      v11 = dword_100819E0[(unsigned __int8)v10 ^ (unsigned __int8)*(v3 - 1)] ^ (v10 >> 8);
      v12 = dword_100819E0[(unsigned __int8)v11 ^ (unsigned __int8)(*((_WORD *)v3 - 2) >> 8)] ^ (v11 >> 8);
      v13 = dword_100819E0[(unsigned __int8)v12 ^ (unsigned __int8)(*(v3 - 1) >> 16)] ^ (v12 >> 8);
      i -= 8;
      --v6;
      result = dword_100819E0[(unsigned __int8)v13 ^ (*(v3 - 1) >> 24)] ^ (v13 >> 8);
    }
    while ( v6 );
  }
  for ( ; i > 0; v3 = (unsigned int *)((char *)v3 + 1) )
  {
    result = dword_100819E0[(unsigned __int8)result ^ *(_BYTE *)v3] ^ (result >> 8);
    --i;
  }
  return result;
}
// 100819E0: using guessed type int dword_100819E0[];

//----- (100236F0) --------------------------------------------------------
void *__cdecl sub_100236F0(int a1, int a2, void *a3, int a4)
{
  char v4; // al@1
  int v5; // ebx@4
  void *result; // eax@4
  unsigned int v7; // edx@5
  const char *v8; // eax@5
  _DWORD *v9; // ecx@5
  int v10; // esi@9
  int v11; // edx@10
  _BYTE *v12; // eax@10
  _BYTE *v13; // ecx@10
  int v14; // edx@12
  _BYTE *v15; // eax@12
  _BYTE *v16; // ecx@12
  _BYTE *v17; // eax@14
  _BYTE *v18; // ecx@14
  unsigned int v19; // eax@21
  const char *v20; // ecx@21
  _DWORD *v21; // edx@21
  int v22; // esi@25
  int v23; // eax@26
  _BYTE *v24; // ecx@26
  _BYTE *v25; // edx@26
  int v26; // eax@28
  _BYTE *v27; // ecx@28
  _BYTE *v28; // edx@28
  _BYTE *v29; // ecx@30
  _BYTE *v30; // edx@30
  int v31; // ecx@37
  int v32; // edx@37
  int v33; // eax@37
  signed int v34; // edi@37
  unsigned int v35; // eax@38
  const char *v36; // ecx@38
  _DWORD *v37; // edx@38
  int v38; // esi@42
  int v39; // eax@43
  _BYTE *v40; // ecx@43
  _BYTE *v41; // edx@43
  int v42; // eax@45
  _BYTE *v43; // ecx@45
  _BYTE *v44; // edx@45
  _BYTE *v45; // ecx@47
  _BYTE *v46; // edx@47
  int v47; // ebx@49
  unsigned int v48; // eax@57
  const char *v49; // ecx@57
  _DWORD *v50; // edx@57
  int v51; // esi@61
  int v52; // eax@62
  _BYTE *v53; // ecx@62
  _BYTE *v54; // edx@62
  int v55; // eax@64
  _BYTE *v56; // ecx@64
  _BYTE *v57; // edx@64
  _BYTE *v58; // ecx@66
  _BYTE *v59; // edx@66
  signed int v60; // eax@72
  unsigned int v61; // ecx@72
  signed int v62; // eax@73
  signed int v63; // edx@77
  char *v64; // ecx@78
  void *v65; // ebp@82
  unsigned int v66; // edi@89
  unsigned __int8 v67; // bl@95
  unsigned int v68; // eax@96
  _DWORD *v69; // ecx@96
  int *v70; // edx@96
  int v71; // esi@100
  int v72; // eax@101
  _BYTE *v73; // ecx@101
  _BYTE *v74; // edx@101
  int v75; // eax@103
  _BYTE *v76; // ecx@103
  _BYTE *v77; // edx@103
  _BYTE *v78; // ecx@105
  _BYTE *v79; // edx@105
  signed int v80; // eax@107
  int v81; // edx@114
  __int16 v82; // ax@114
  char v83; // cl@114
  int v84; // ebp@114
  unsigned int v85; // ecx@115
  unsigned int v86; // ecx@122
  unsigned int v87; // ecx@129
  unsigned int v88; // ecx@136
  unsigned int v89; // ecx@143
  bool v90; // [sp+13h] [bp-55h]@1
  void *v91; // [sp+14h] [bp-54h]@4
  void *v92; // [sp+14h] [bp-54h]@85
  unsigned int v93; // [sp+1Ch] [bp-4Ch]@4
  int v94; // [sp+1Ch] [bp-4Ch]@85
  unsigned __int8 v95; // [sp+23h] [bp-45h]@0
  void *v96; // [sp+28h] [bp-40h]@1
  unsigned int v97; // [sp+2Ch] [bp-3Ch]@72
  unsigned int v98; // [sp+30h] [bp-38h]@89
  int v99; // [sp+34h] [bp-34h]@1
  int v100; // [sp+38h] [bp-30h]@89
  signed int v101; // [sp+3Ch] [bp-2Ch]@114
  int v102; // [sp+40h] [bp-28h]@89
  unsigned int v103; // [sp+44h] [bp-24h]@89
  int v104; // [sp+48h] [bp-20h]@37
  int v105; // [sp+4Ch] [bp-1Ch]@37
  int v106; // [sp+50h] [bp-18h]@37
  int v107; // [sp+54h] [bp-14h]@37
  int v108; // [sp+58h] [bp-10h]@4
  int v109; // [sp+5Ch] [bp-Ch]@4
  __int16 v110; // [sp+60h] [bp-8h]@4
  char v111; // [sp+62h] [bp-6h]@4

  v96 = a3;
  v4 = *(_BYTE *)(dword_10152F80 + 8 * a1);
  v90 = v4 != 0;
  v99 = 0;
  if ( !a4 || v4 )
    v96 = 0;
  v5 = 112 * a1;
  memset((char *)dword_10152F84 + 112 * a1, 0, 0x70u);
  v108 = 0;
  v109 = 0;
  v110 = 0;
  v111 = 0;
  v93 = a1 << 30;
  result = (void *)sub_10001120(a1 << 30, a2, 512);
  v91 = result;
  if ( result )
    return result;
  v7 = 6;
  v8 = "DSKIMG";
  v9 = (_DWORD *)(a2 + 16);
  do
  {
    if ( *v9 != *(_DWORD *)v8 )
      goto LABEL_9;
    v7 -= 4;
    v8 += 4;
    ++v9;
  }
  while ( v7 >= 4 );
  if ( !v7 )
  {
LABEL_19:
    result = 0;
    goto LABEL_20;
  }
LABEL_9:
  v10 = *(_BYTE *)v9 - *v8;
  if ( *(_BYTE *)v9 == *v8 )
  {
    v11 = v7 - 1;
    v12 = v8 + 1;
    v13 = (char *)v9 + 1;
    if ( !v11
      || (v10 = *v13 - *v12, *v13 == *v12)
      && ((v14 = v11 - 1, v15 = v12 + 1, v16 = v13 + 1, !v14)
       || (v10 = *v16 - *v15, *v16 == *v15)
       && ((v17 = v15 + 1, v18 = v16 + 1, v14 == 1) || (v10 = *v18 - *v17, *v18 == *v17))) )
    {
      v5 = 112 * a1;
      goto LABEL_19;
    }
  }
  v5 = 112 * a1;
  result = (void *)1;
  if ( v10 <= 0 )
    result = (void *)-1;
LABEL_20:
  if ( result )
  {
    v19 = 6;
    v20 = "DSDIMG";
    v21 = (_DWORD *)(a2 + 16);
    do
    {
      if ( *v21 != *(_DWORD *)v20 )
        goto LABEL_25;
      v19 -= 4;
      v20 += 4;
      ++v21;
    }
    while ( v19 >= 4 );
    if ( v19 )
    {
LABEL_25:
      v22 = *(_BYTE *)v21 - *v20;
      if ( *(_BYTE *)v21 != *v20
        || (v23 = v19 - 1, v24 = v20 + 1, v25 = (char *)v21 + 1, v23)
        && ((v22 = *v25 - *v24, *v25 != *v24)
         || (v26 = v23 - 1, v27 = v24 + 1, v28 = v25 + 1, v26)
         && ((v22 = *v28 - *v27, *v28 != *v27)
          || (v29 = v27 + 1, v30 = v28 + 1, v26 != 1) && (v22 = *v30 - *v29, *v30 != *v29))) )
      {
        result = (void *)1;
        if ( v22 <= 0 )
          result = (void *)-1;
LABEL_35:
        if ( result )
          return result;
        goto LABEL_36;
      }
    }
    result = 0;
    goto LABEL_35;
  }
LABEL_36:
  if ( *(_WORD *)(a2 + 22) == 512 )
  {
    memcpy((char *)dword_10152F84 + v5 + 3, (const void *)(a2 + 8), 2u);
    memcpy((char *)dword_10152F84 + v5 + 5, (const void *)(a2 + 10), 2u);
    *((_BYTE *)dword_10152F84 + v5 + 7) = *(_BYTE *)(a2 + 14);
    memcpy((char *)dword_10152F84 + v5 + 9, (const void *)(a2 + 48), 9u);
    *(_WORD *)((char *)dword_10152F84 + v5 + 84) = *(_WORD *)(a2 + 57);
    *((_BYTE *)dword_10152F84 + v5 + 82) = *(_BYTE *)(a2 + 59);
    *((_BYTE *)dword_10152F84 + v5 + 83) = *(_BYTE *)(a2 + 60);
    *(_WORD *)((char *)dword_10152F84 + v5 + 86) = *(_BYTE *)(a2 + 61);
    *((_BYTE *)dword_10152F84 + v5 + 88) = *(_BYTE *)(a2 + 62);
    *((_BYTE *)dword_10152F84 + v5 + 89) = *(_BYTE *)(a2 + 63);
    v31 = *(_DWORD *)(a2 + 470);
    v32 = *(_DWORD *)(a2 + 486);
    v104 = *(_DWORD *)(a2 + 454);
    v33 = *(_DWORD *)(a2 + 502);
    v34 = 0;
    v105 = v31;
    v106 = v32;
    v107 = v33;
    while ( 1 )
    {
      v35 = 8;
      v36 = "GARMIN";
      v37 = (_DWORD *)(a2 + 65);
      do
      {
        if ( *v37 != *(_DWORD *)v36 )
          goto LABEL_42;
        v35 -= 4;
        v36 += 4;
        ++v37;
      }
      while ( v35 >= 4 );
      if ( !v35 )
      {
LABEL_51:
        v47 = 112 * a1;
        result = 0;
        goto LABEL_52;
      }
LABEL_42:
      v38 = *(_BYTE *)v37 - *v36;
      if ( *(_BYTE *)v37 == *v36 )
      {
        v39 = v35 - 1;
        v40 = v36 + 1;
        v41 = (char *)v37 + 1;
        if ( !v39 )
          goto LABEL_51;
        v38 = *v41 - *v40;
        if ( *v41 == *v40 )
        {
          v42 = v39 - 1;
          v43 = v40 + 1;
          v44 = v41 + 1;
          if ( !v42 )
            goto LABEL_51;
          v38 = *v44 - *v43;
          if ( *v44 == *v43 )
          {
            v45 = v43 + 1;
            v46 = v44 + 1;
            if ( v42 == 1 )
              goto LABEL_51;
            v38 = *v46 - *v45;
            if ( *v46 == *v45 )
              goto LABEL_51;
          }
        }
      }
      v47 = 112 * a1;
      result = (void *)1;
      if ( v38 <= 0 )
        result = (void *)-1;
LABEL_52:
      if ( !result )
        break;
      if ( v91 )
        return result;
      v93 ^= (v93 ^ *(&v104 + v34)) & 0x3FFFFFFF;
      result = (void *)sub_10001120(v93, a2, 512);
      ++v34;
      v91 = result;
      if ( v34 >= 4 )
      {
        v47 = 112 * a1;
        break;
      }
    }
    if ( !v91 )
    {
      v48 = 8;
      v49 = "GARMIN";
      v50 = (_DWORD *)(a2 + 65);
      do
      {
        if ( *v50 != *(_DWORD *)v49 )
          goto LABEL_61;
        v48 -= 4;
        v49 += 4;
        ++v50;
      }
      while ( v48 >= 4 );
      if ( v48 )
      {
LABEL_61:
        v51 = *(_BYTE *)v50 - *v49;
        if ( *(_BYTE *)v50 != *v49
          || (v52 = v48 - 1, v53 = v49 + 1, v54 = (char *)v50 + 1, v52)
          && ((v51 = *v54 - *v53, *v54 != *v53)
           || (v55 = v52 - 1, v56 = v53 + 1, v57 = v54 + 1, v55)
           && ((v51 = *v57 - *v56, *v57 != *v56)
            || (v58 = v56 + 1, v59 = v57 + 1, v55 != 1) && (v51 = *v59 - *v58, *v59 != *v58))) )
        {
          result = (void *)1;
          if ( v51 <= 0 )
            result = (void *)-1;
LABEL_71:
          if ( !result )
          {
            *((_BYTE *)dword_10152F84 + v47 + 8) = *(_BYTE *)(a2 + 64);
            *(_DWORD *)((char *)dword_10152F84 + v47 + 92) = v93 & 0x3FFFFFFF;
            *((_BYTE *)dword_10152F84 + v47 + 1) = *(_BYTE *)(a2 + 97);
            *(_WORD *)((char *)dword_10152F84 + v47 + 72) = 1 << *((_BYTE *)dword_10152F84 + v47 + 1);
            *(_WORD *)((char *)dword_10152F84 + v47 + 74) = *(_WORD *)((char *)dword_10152F84 + v47 + 72) - 1;
            *((_BYTE *)dword_10152F84 + v47 + 2) = *(_BYTE *)(a2 + 98);
            v60 = 1 << *((_BYTE *)dword_10152F84 + v47 + 2);
            *(_WORD *)((char *)dword_10152F84 + v47 + 76) = v60 - 1;
            v61 = *(_WORD *)(a2 + 99);
            *(_WORD *)((char *)dword_10152F84 + v47 + 78) = v61;
            v97 = v61;
            *(_DWORD *)((char *)dword_10152F84 + v47 + 96) = 240 * v60;
            *(_DWORD *)((char *)dword_10152F84 + v47 + 100) = *(_DWORD *)((char *)dword_10152F84 + v47 + 96)
                                                            * *(_WORD *)((char *)dword_10152F84 + v47 + 72);
            if ( *(_BYTE *)(a2 + 64) )
              v62 = *(_BYTE *)(a2 + 64);
            else
              v62 = 256;
            *(_DWORD *)((char *)dword_10152F84 + v47 + 104) = v62;
            memset((char *)dword_10152F84 + v47 + 18, 32, 0x33u);
            memcpy((char *)dword_10152F84 + v47 + 18, (const void *)(a2 + 73), 0x14u);
            if ( *(_BYTE *)(a2 + 101) )
              memcpy((char *)dword_10152F84 + v47 + 38, (const void *)(a2 + 101), 0x1Eu);
            v63 = 50;
            while ( 1 )
            {
              result = dword_10152F84;
              v64 = (char *)dword_10152F84 + v47 + v63 + 18;
              if ( *v64 != 32 )
                break;
              --v63;
              *v64 = 0;
              if ( v63 < 0 )
              {
                result = dword_10152F84;
                break;
              }
            }
            if ( *(_WORD *)((char *)result + v47 + 72) == 512 )
            {
              v65 = v96;
              if ( v96 && *(_WORD *)((char *)result + v47 + 78) > (unsigned int)(32 * a4) )
              {
                v65 = 0;
                v96 = 0;
              }
              v94 = (v93 ^ (*(_DWORD *)((char *)result + v47 + 92) + *(_DWORD *)((char *)result + v47 + 104))) & 0x3FFFFFFF ^ v93;
              result = (void *)sub_10001120(v94, a2, 512);
              v92 = result;
              if ( *(_BYTE *)a2 == 1 && !result )
              {
                *(_WORD *)((char *)dword_10152F84 + v47 + 70) = (*(_DWORD *)(a2 + 12) >> *((_BYTE *)dword_10152F84
                                                                                         + v47
                                                                                         + 1))
                                                              - *(_WORD *)((char *)dword_10152F84 + v47 + 104);
                *(_DWORD *)((char *)dword_10152F84 + v47 + 108) = v65;
                if ( v65 )
                  memset(v65, 0, 4 * ((v97 + 31) >> 5));
                v66 = v97;
                v102 = *(_DWORD *)((char *)dword_10152F84 + v47 + 92) + *(_DWORD *)((char *)dword_10152F84 + v47 + 104);
                v103 = *(_WORD *)((char *)dword_10152F84 + v47 + 70) + v102 - 1;
                v100 = *(_DWORD *)((char *)dword_10152F84 + v47 + 92) + *(_DWORD *)((char *)dword_10152F84 + v47 + 104);
                v98 = *(_DWORD *)((char *)dword_10152F84 + v47 + 92) + *(_DWORD *)((char *)dword_10152F84 + v47 + 104);
                while ( 1 )
                {
                  result = (void *)v94;
                  if ( v98 > v103 )
                    break;
                  v94 ^= (v94 ^ v98) & 0x3FFFFFFF;
                  result = (void *)sub_10001120(v94, a2, 512);
                  v92 = result;
                  if ( !result && *(_BYTE *)a2 == 1 )
                  {
                    v100 = v98;
                    if ( v90 )
                    {
                      v67 = *(_BYTE *)(a2 + 17);
                      if ( v67 )
                      {
                        v68 = 11;
                        v69 = (_DWORD *)(a2 + 1);
                        v70 = &v108;
                        do
                        {
                          if ( *v70 != *v69 )
                            goto LABEL_100;
                          v68 -= 4;
                          ++v69;
                          ++v70;
                        }
                        while ( v68 >= 4 );
                        if ( !v68 )
                          goto LABEL_110;
LABEL_100:
                        v71 = *(_BYTE *)v70 - *(_BYTE *)v69;
                        if ( *(_BYTE *)v70 == *(_BYTE *)v69 )
                        {
                          v72 = v68 - 1;
                          v73 = (char *)v69 + 1;
                          v74 = (char *)v70 + 1;
                          if ( !v72
                            || (v71 = *v74 - *v73, *v74 == *v73)
                            && ((v75 = v72 - 1, v76 = v73 + 1, v77 = v74 + 1, !v75)
                             || (v71 = *v77 - *v76, *v77 == *v76)
                             && ((v78 = v76 + 1, v79 = v77 + 1, v75 == 1) || (v71 = *v79 - *v78, *v79 == *v78))) )
                          {
                            v66 = v97;
LABEL_110:
                            v80 = 0;
                            goto LABEL_111;
                          }
                        }
                        v66 = v97;
                        v80 = 1;
                        if ( v71 <= 0 )
                          v80 = -1;
LABEL_111:
                        if ( v80 || v95 + 1 != v67 )
                          v90 = 0;
                      }
                    }
                    v81 = *(_DWORD *)(a2 + 5);
                    v82 = *(_WORD *)(a2 + 9);
                    v108 = *(_DWORD *)(a2 + 1);
                    v83 = *(_BYTE *)(a2 + 11);
                    v109 = v81;
                    LOBYTE(v81) = *(_BYTE *)(a2 + 17);
                    v110 = v82;
                    result = (void *)(a2 + 34);
                    v84 = v99;
                    v111 = v83;
                    v95 = v81;
                    v101 = 48;
                    do
                    {
                      v85 = *((_WORD *)result - 1);
                      if ( v85 < v66 )
                      {
                        if ( v90 && v85 != v84 )
                          v90 = 0;
                        if ( v96 )
                          *((_DWORD *)v96 + ((unsigned int)*((_WORD *)result - 1) >> 5)) |= 1 << (*((_WORD *)result - 1) & 0x1F);
                        ++v84;
                      }
                      v86 = *(_WORD *)result;
                      if ( v86 < v66 )
                      {
                        if ( v90 && v86 != v84 )
                          v90 = 0;
                        if ( v96 )
                          *((_DWORD *)v96 + ((unsigned int)*(_WORD *)result >> 5)) |= 1 << (*(_WORD *)result & 0x1F);
                        ++v84;
                      }
                      v87 = *((_WORD *)result + 1);
                      if ( v87 < v66 )
                      {
                        if ( v90 && v87 != v84 )
                          v90 = 0;
                        if ( v96 )
                          *((_DWORD *)v96 + ((unsigned int)*((_WORD *)result + 1) >> 5)) |= 1 << (*((_WORD *)result + 1) & 0x1F);
                        ++v84;
                      }
                      v88 = *((_WORD *)result + 2);
                      if ( v88 < v66 )
                      {
                        if ( v90 && v88 != v84 )
                          v90 = 0;
                        if ( v96 )
                          *((_DWORD *)v96 + ((unsigned int)*((_WORD *)result + 2) >> 5)) |= 1 << (*((_WORD *)result + 2) & 0x1F);
                        ++v84;
                      }
                      v89 = *((_WORD *)result + 3);
                      if ( v89 < v66 )
                      {
                        if ( v90 && v89 != v84 )
                          v90 = 0;
                        if ( v96 )
                          *((_DWORD *)v96 + ((unsigned int)*((_WORD *)result + 3) >> 5)) |= 1 << (*((_WORD *)result + 3) & 0x1F);
                        ++v84;
                      }
                      result = (char *)result + 10;
                      --v101;
                    }
                    while ( v101 );
                    v99 = v84;
                  }
                  ++v98;
                  if ( v92 )
                    return result;
                  v47 = 112 * a1;
                }
                if ( !v92 )
                {
                  result = dword_10152F84;
                  *(_WORD *)((char *)dword_10152F84 + v47 + 80) = v96 == 0 ? v99 : 0;
                  if ( *(_BYTE *)(dword_10152F80 + 8 * a1) )
                  {
                    result = (void *)(v100 - v102 + 1);
                    *(_WORD *)((char *)dword_10152F84 + v47 + 70) = (_WORD)result;
                  }
                  if ( v90 )
                  {
                    result = dword_10152F84;
                    *((_BYTE *)result + v47 + 69) |= 1u;
                  }
                  *((_BYTE *)dword_10152F84 + v47) = 1;
                }
              }
            }
          }
          return result;
        }
      }
      result = 0;
      goto LABEL_71;
    }
  }
  return result;
}
// 10152F80: using guessed type int dword_10152F80;

//----- (10024030) --------------------------------------------------------
void __cdecl sub_10024030(unsigned int a1, char a2, int a3)
{
  int v3; // ebx@1
  unsigned int v4; // esi@3
  _BYTE *v5; // edx@4
  int v6; // eax@4
  unsigned int v7; // ecx@5
  int v8; // ecx@7
  char *v9; // edx@7
  unsigned int v10; // esi@13
  _BYTE *v11; // edx@14
  int v12; // ecx@14
  unsigned int v13; // eax@15
  int v14; // eax@19
  int i; // edx@19
  unsigned int v16; // ecx@20
  int v17; // eax@26
  void *v18; // [sp+4h] [bp-4h]@3
  int v19; // [sp+Ch] [bp+4h]@3

  v3 = a1;
  if ( a1 < dword_10152F88 )
  {
    while ( sub_100044C0(28, 30) )
      ;
    *((_BYTE *)dword_10152F84 + 112 * a1) = 0;
    v4 = 0;
    v19 = dword_10152F90;
    v18 = (void *)dword_10152F8C;
    if ( dword_10152F98 )
    {
      v5 = dword_10152F94;
      v6 = 0;
      do
      {
        v7 = v5[v6 + 11];
        if ( v7 & 0x10 && ((v7 >> 5) & 3) == v3 )
        {
          v8 = *(_DWORD *)&v5[v6 + 32];
          v9 = &v5[v6 + 32];
          if ( !v8 || *(_DWORD *)(dword_10152F80 + 8 * v3 + 4) )
          {
            *(_DWORD *)v9 = 0;
          }
          else
          {
            --*(_WORD *)(v8 - 4);
            *(_DWORD *)((char *)dword_10152F94 + v6 + 32) = 0;
          }
          *((_BYTE *)dword_10152F94 + v6 + 11) &= 0xEFu;
          v5 = dword_10152F94;
        }
        ++v4;
        v6 += 40;
      }
      while ( v4 < dword_10152F98 );
    }
    v10 = 0;
    if ( dword_10152FA0 )
    {
      v11 = dword_10152F9C;
      v12 = 0;
      do
      {
        v13 = v11[v12 + 11];
        if ( v13 & 0x10 && ((v13 >> 5) & 3) == v3 )
        {
          v11[v12 + 11] &= 0xEFu;
          v11 = dword_10152F9C;
        }
        ++v10;
        v12 += 20;
      }
      while ( v10 < dword_10152FA0 );
    }
    v14 = dword_10152FB0;
    for ( i = 0; v14; v14 = *(_DWORD *)v14 )
    {
      v16 = *(_DWORD *)(v14 + 4);
      if ( v16 != -1 && v16 >> 30 == v3 )
        *(_DWORD *)(v14 + 4) = -1;
      if ( !*(_WORD *)(v14 + 8) )
        i = v14;
    }
    v17 = a3;
    if ( !a3 )
      v17 = i + 12;
    if ( a2 )
    {
      if ( v17 )
      {
        *(_DWORD *)(i + 4) = -1;
        sub_100236F0(v3, v17, v18, v19);
      }
    }
    sub_10004460(28);
  }
}
// 10152F80: using guessed type int dword_10152F80;
// 10152F88: using guessed type int dword_10152F88;
// 10152F8C: using guessed type int dword_10152F8C;
// 10152F90: using guessed type int dword_10152F90;
// 10152F98: using guessed type int dword_10152F98;
// 10152FA0: using guessed type int dword_10152FA0;
// 10152FB0: using guessed type int dword_10152FB0;

//----- (100241B0) --------------------------------------------------------
signed int __cdecl sub_100241B0(int *a1)
{
  unsigned int v1; // eax@1
  int *v2; // edi@2
  int v3; // edx@2
  signed int v4; // ebx@2
  int v5; // esi@6
  int v6; // eax@6
  int v7; // ecx@11
  int v8; // eax@11
  signed int v9; // eax@16
  char v11; // [sp+4h] [bp+4h]@6
  char v12; // [sp+4h] [bp+4h]@12

  do
    v1 = sub_100044C0(28, 30);
  while ( v1 );
  v2 = a1;
  v3 = *a1;
  v4 = 0;
  if ( *a1 && *(_BYTE *)v3 && (LOBYTE(v1) = *(_BYTE *)(v3 + 11), v1 & 0x10) )
  {
    v5 = 112 * ((v1 >> 5) & 3);
    *(_DWORD *)(v3 + 20) = *(_WORD *)((char *)dword_10152F84 + v5 + 78) << *((_BYTE *)dword_10152F84 + v5 + 2);
    v6 = *a1;
    v11 = *(_BYTE *)(*a1 + 11) >> 7;
    if ( !*(_DWORD *)(*v2 + 32) || (v4 = sub_10024AE0(v6, v11)) == 0 )
    {
      if ( !(*(_BYTE *)(*v2 + 11) & 2) )
      {
        if ( *(_DWORD *)((char *)dword_10152F84 + v5 + 108) )
        {
          *(_DWORD *)(*v2 + 24) = *(_DWORD *)((char *)dword_10152F84 + v5 + 104);
          v4 = sub_100248E0(*v2, 0, 0);
          if ( !v4 )
          {
            v7 = *(_DWORD *)(*v2 + 32);
            v8 = *(_DWORD *)(*v2 + 12);
            if ( *(_DWORD *)(v7 + 12) == v8 )
            {
              v12 = 0;
            }
            else
            {
              *(_DWORD *)(v7 + 12) = v8;
              v12 = 1;
            }
            v4 = sub_10024AE0(*v2, v12);
          }
        }
      }
    }
  }
  else
  {
    v4 = -1;
  }
  if ( *v2 )
  {
    v9 = sub_10024720((unsigned int *)v2);
    if ( !v4 )
      v4 = v9;
  }
  sub_10004460(28);
  return v4;
}

//----- (100242C0) --------------------------------------------------------
signed int __cdecl sub_100242C0(unsigned int *a1, int a2, unsigned __int16 a3)
{
  signed int v3; // ebp@1
  unsigned int v4; // eax@3
  unsigned int v5; // edi@3
  unsigned int v7; // ecx@12
  int v8; // eax@12

  v3 = sub_10024770(a1);
  if ( !v3 )
  {
    v3 = sub_10024C60(*a1, a2);
    if ( !v3 )
    {
      v4 = *a1;
      v5 = 112 * (((unsigned int)*(_BYTE *)(*a1 + 11) >> 5) & 3);
      if ( *((_BYTE *)dword_10152F84 + v5) )
      {
        if ( a3 == -1 )
          *(_DWORD *)(v4 + 24) = *(_DWORD *)((char *)dword_10152F84 + v5 + 104);
        else
          *(_DWORD *)(v4 + 24) = a3;
        v3 = sub_100248E0(*a1, 0, 1);
        if ( !v3 )
        {
          v7 = *a1;
          v8 = *(_DWORD *)(*a1 + 32);
          *(_DWORD *)v7 = *(_DWORD *)(v8 + 1);
          *(_DWORD *)(v7 + 4) = *(_DWORD *)(v8 + 5);
          *(_WORD *)(v7 + 8) = *(_WORD *)(v8 + 9);
          *(_BYTE *)(v7 + 10) = *(_BYTE *)(v8 + 11);
          *(_BYTE *)(*a1 + 11) |= *(_BYTE *)(v8 + 16) & 3;
          *(_WORD *)(*a1 + 36) = *(_WORD *)(*a1 + 24);
          *(_DWORD *)(*a1 + 12) = *(_DWORD *)(v8 + 12);
          *(_DWORD *)(*a1 + 16) = 0;
          *(_DWORD *)(*a1 + 20) = *(_WORD *)((char *)dword_10152F84 + v5 + 78) << *((_BYTE *)dword_10152F84 + v5 + 2);
          return 0;
        }
      }
      else
      {
        v3 = -1;
      }
    }
  }
  if ( *a1 )
    sub_10024720(a1);
  return v3;
}

//----- (100243B0) --------------------------------------------------------
signed int __cdecl sub_100243B0(unsigned int *a1, int a2, unsigned __int16 a3)
{
  signed int v3; // esi@2

  while ( sub_100044C0(28, 30) )
    ;
  v3 = sub_100242C0(a1, a2, a3);
  sub_10004460(28);
  return v3;
}

//----- (100243F0) --------------------------------------------------------
int __cdecl sub_100243F0(int a1, void *a2, int a3)
{
  int v3; // edi@1
  bool v4; // al@4
  int result; // eax@6
  unsigned int v6; // ebx@7
  char *v7; // ebp@9
  int v8; // eax@14
  size_t v9; // esi@14
  int v10; // [sp+8h] [bp+4h]@6

  v3 = a1;
  v4 = a1 && *(_BYTE *)a1 && *(_BYTE *)(a1 + 11) & 0x10;
  result = (v4 != 0) - 1;
  v10 = result;
  if ( !result )
  {
    v6 = a3;
    if ( (unsigned int)(a3 + *(_DWORD *)(v3 + 16)) <= *(_DWORD *)(v3 + 12) )
    {
      v7 = (char *)a2;
      while ( v6 )
      {
        if ( *(_DWORD *)(v3 + 16) >> 9 != *(_DWORD *)(v3 + 20) )
        {
          while ( sub_100044C0(28, 30) )
            ;
          v10 = sub_10024D40(v3, *(_DWORD *)(v3 + 16) >> 9);
          sub_10004460(28);
          if ( v10 )
            break;
        }
        v8 = *(_DWORD *)(v3 + 16) & 0x1FF;
        v9 = 512 - v8;
        if ( 512 - v8 > v6 )
          v9 = v6;
        memcpy_0(v7, (const void *)(v8 + *(_DWORD *)(v3 + 32)), v9);
        *(_DWORD *)(v3 + 16) += v9;
        v7 += v9;
        v6 -= v9;
      }
      result = v10;
    }
    else
    {
      result = -2;
    }
  }
  return result;
}

//----- (100244D0) --------------------------------------------------------
signed int __cdecl sub_100244D0(unsigned int a1, int a2)
{
  signed int v2; // ebp@1
  int v3; // esi@4
  __int16 v4; // bx@5
  unsigned __int16 v5; // dx@6
  _DWORD *v6; // eax@6
  unsigned __int16 v7; // cx@6
  signed int v8; // esi@7

  v2 = -1;
  while ( sub_100044C0(28, 30) )
    ;
  if ( a1 < dword_10152F88 )
  {
    v3 = 112 * a1;
    if ( *((_BYTE *)dword_10152F84 + 112 * a1) )
    {
      *(_WORD *)a2 = *(_WORD *)((char *)dword_10152F84 + v3 + 72);
      v2 = 0;
      *(_WORD *)(a2 + 2) = 1 << *((_BYTE *)dword_10152F84 + v3 + 2);
      *(_WORD *)(a2 + 4) = *(_WORD *)((char *)dword_10152F84 + v3 + 78);
      v4 = *(_WORD *)((char *)dword_10152F84 + v3 + 80);
      memcpy((void *)(a2 + 8), (char *)dword_10152F84 + v3 + 3, 2u);
      memcpy((void *)(a2 + 10), (char *)dword_10152F84 + v3 + 5, 4u);
      memcpy((void *)(a2 + 14), (char *)dword_10152F84 + v3 + 9, 9u);
      memcpy((void *)(a2 + 32), (char *)dword_10152F84 + v3 + 18, 0x33u);
      *(_DWORD *)(a2 + 24) = *(_DWORD *)((char *)dword_10152F84 + v3 + 82);
      *(_DWORD *)(a2 + 28) = *(_DWORD *)((char *)dword_10152F84 + v3 + 86);
      if ( !v4 )
      {
        v5 = *(_WORD *)((char *)dword_10152F84 + v3 + 78);
        v6 = (_DWORD *)(*(_DWORD *)((char *)dword_10152F84 + v3 + 108) - 4);
        v7 = 0;
        if ( v5 )
        {
          v8 = a1;
          do
          {
            if ( v7 & 0x1F )
            {
              v8 *= 2;
            }
            else
            {
              v8 = 1;
              ++v6;
            }
            if ( v8 & *v6 )
              ++v4;
            ++v7;
          }
          while ( v7 < v5 );
        }
      }
      *(_WORD *)(a2 + 6) = v4;
    }
  }
  sub_10004460(28);
  return v2;
}
// 10152F88: using guessed type int dword_10152F88;

//----- (10024630) --------------------------------------------------------
unsigned int __cdecl sub_10024630(int a1, _DWORD *a2)
{
  signed int v2; // esi@1
  int v3; // ebp@1
  signed int v4; // ebx@6
  unsigned int v5; // eax@7
  int v6; // esi@8
  unsigned int result; // eax@8
  char *v8; // eax@9
  int v9; // edx@9

  v2 = *(_DWORD *)(a1 + 16);
  v3 = *(_DWORD *)(a1 + 12) - v2;
  if ( v3 < 0 )
  {
    v2 = 0;
    v3 = 0;
  }
  if ( v2 >> 9 == *(_DWORD *)(a1 + 20) || !v3 )
    goto LABEL_18;
  while ( sub_100044C0(28, 30) )
    ;
  v4 = sub_10024D40(a1, v2 >> 9);
  sub_10004460(28);
  if ( v4 )
  {
    *a2 = 0;
    result = 0;
  }
  else
  {
LABEL_18:
    v5 = ((unsigned int)*(_BYTE *)(a1 + 11) >> 5) & 3;
    if ( *(_DWORD *)(dword_10152F80 + 8 * v5 + 4) )
    {
      v8 = (char *)dword_10152F84 + 112 * v5;
      v9 = v2 & (2 * (1 << (v8[2] + 8)) - 1);
      if ( v8[69] & 1 )
        result = v3;
      else
        result = (1 << (v8[2] + 9)) - v9;
      *a2 = *(_DWORD *)(a1 + 32) + (v9 & 0x1FF);
    }
    else
    {
      v6 = v2 & 0x1FF;
      result = 512 - v6;
      *a2 = v6 + *(_DWORD *)(a1 + 32);
    }
    if ( v3 < result )
      result = v3;
  }
  return result;
}
// 10152F80: using guessed type int dword_10152F80;

//----- (10024720) --------------------------------------------------------
signed int __cdecl sub_10024720(unsigned int *a1)
{
  unsigned int v1; // ecx@1
  signed int result; // eax@1

  v1 = *a1;
  result = 0;
  if ( *a1 )
  {
    if ( v1 < (unsigned int)dword_10152F94 || v1 >= (unsigned int)dword_10152F94 + 40 * dword_10152F98 )
    {
      *a1 = 0;
    }
    else
    {
      if ( *(_DWORD *)(v1 + 32) )
        result = sub_10024AE0(v1, 0);
      *(_BYTE *)(*a1 + 11) &= 0xEFu;
      *a1 = 0;
    }
  }
  return result;
}
// 10152F98: using guessed type int dword_10152F98;

//----- (10024770) --------------------------------------------------------
signed int __cdecl sub_10024770(unsigned int *a1)
{
  signed int result; // eax@1
  unsigned int v2; // ecx@3
  char *v3; // edx@4
  char *v4; // ecx@10

  result = 0;
  if ( !*a1 || (result = sub_10024720(a1)) == 0 )
  {
    v2 = 0;
    if ( !dword_10152F98 )
      goto LABEL_7;
    v3 = (char *)dword_10152F94 + 11;
    while ( *v3 & 0x10 )
    {
      ++v2;
      v3 += 40;
      if ( v2 >= dword_10152F98 )
        goto LABEL_7;
    }
    if ( v2 < dword_10152F98 )
    {
      v4 = (char *)dword_10152F94 + 40 * v2;
      *a1 = (unsigned int)v4;
      *(_DWORD *)v4 = 0;
      *((_DWORD *)v4 + 1) = 0;
      *((_DWORD *)v4 + 2) = 0;
      *((_DWORD *)v4 + 3) = 0;
      *((_DWORD *)v4 + 4) = 0;
      *((_DWORD *)v4 + 5) = 0;
      *((_DWORD *)v4 + 6) = 0;
      *((_DWORD *)v4 + 7) = 0;
      *((_DWORD *)v4 + 8) = 0;
      *((_DWORD *)v4 + 9) = 0;
      *(_BYTE *)(*a1 + 11) |= 0x10u;
    }
    else
    {
LABEL_7:
      result = -1;
    }
  }
  return result;
}
// 10152F98: using guessed type int dword_10152F98;

//----- (100247F0) --------------------------------------------------------
signed int __usercall sub_100247F0@<eax>(int a1@<esi>, __int16 a2, char a3)
{
  char *v3; // ecx@1
  unsigned int v4; // ebx@1
  unsigned int v5; // ebp@1
  signed int result; // eax@1
  int v7; // edi@7
  int v8; // ecx@11
  char v9; // dl@12
  unsigned int v10; // [sp+Ch] [bp-4h]@1

  v3 = (char *)dword_10152F84 + 112 * (((unsigned int)*(_BYTE *)(a1 + 11) >> 5) & 3);
  v4 = *((_DWORD *)v3 + 26);
  v5 = *(_DWORD *)(a1 + 24);
  result = 0;
  v10 = *((_WORD *)v3 + 35) + v4 - 1;
  if ( v5 == v4 )
    a3 = 0;
  while ( v5 <= v10 )
  {
    if ( *(_DWORD *)(a1 + 32) )
      result = sub_10024AE0(a1, 0);
    if ( !result )
    {
      result = sub_10024B80(a1, v5, 1);
      v7 = *(_DWORD *)(a1 + 32);
      if ( !result && *(_BYTE *)v7 == 1 && (a2 == -1 || *(_BYTE *)(v7 + 17) == a2) )
      {
        v8 = 0;
        while ( 1 )
        {
          v9 = *(_BYTE *)(v8 + a1);
          if ( v9 != 63 && *(_BYTE *)(v8 + v7 + 1) != v9 )
            break;
          if ( (unsigned int)++v8 >= 0xB )
          {
            *(_DWORD *)(a1 + 24) = v5;
            return 0;
          }
        }
      }
    }
    if ( a3 )
    {
      a3 = 0;
      v5 = v4;
    }
    else
    {
      ++v5;
    }
    if ( result )
      return result;
  }
  if ( !result )
  {
    if ( !*(_DWORD *)(a1 + 32) || (result = sub_10024AE0(a1, 0)) == 0 )
      result = -3;
  }
  return result;
}

//----- (100248E0) --------------------------------------------------------
signed int __cdecl sub_100248E0(int a1, __int16 a2, char a3)
{
  char v3; // bl@1
  char *v4; // ebp@2
  unsigned int v5; // eax@4
  _DWORD *v6; // ecx@4
  char *v7; // edx@4
  int v8; // edi@8
  int v9; // eax@9
  _BYTE *v10; // ecx@9
  _BYTE *v11; // edx@9
  int v12; // eax@11
  _BYTE *v13; // ecx@11
  _BYTE *v14; // edx@11
  _BYTE *v15; // ecx@13
  _BYTE *v16; // edx@13
  signed int v17; // eax@15
  signed int v18; // edi@25
  int v19; // ecx@28
  char *v20; // edx@28
  int v21; // edx@28
  int v23; // [sp+10h] [bp-Ch]@1
  unsigned int v24; // [sp+14h] [bp-8h]@1
  int v25; // [sp+18h] [bp-4h]@1

  ++dword_10152FA4;
  v3 = 0;
  v24 = 0;
  v25 = 0;
  v23 = 0;
  if ( dword_10152FA0 )
  {
    v4 = (char *)dword_10152F9C + 16;
    while ( 1 )
    {
      if ( !((*(_BYTE *)(a1 + 11) ^ (unsigned __int8)*(v4 - 5)) & 0x70) )
      {
        v5 = 11;
        v6 = (_DWORD *)a1;
        v7 = v4 - 16;
        do
        {
          if ( *(_DWORD *)v7 != *v6 )
            goto LABEL_8;
          v5 -= 4;
          ++v6;
          v7 += 4;
        }
        while ( v5 >= 4 );
        if ( !v5 )
        {
LABEL_17:
          v17 = 0;
          goto LABEL_18;
        }
LABEL_8:
        v8 = (unsigned __int8)*v7 - *(_BYTE *)v6;
        if ( (unsigned __int8)*v7 == *(_BYTE *)v6 )
        {
          v9 = v5 - 1;
          v10 = (char *)v6 + 1;
          v11 = v7 + 1;
          if ( !v9 )
            goto LABEL_17;
          v8 = *v11 - *v10;
          if ( *v11 == *v10 )
          {
            v12 = v9 - 1;
            v13 = v10 + 1;
            v14 = v11 + 1;
            if ( !v12 )
              goto LABEL_17;
            v8 = *v14 - *v13;
            if ( *v14 == *v13 )
            {
              v15 = v13 + 1;
              v16 = v14 + 1;
              if ( v12 == 1 )
                goto LABEL_17;
              v8 = *v16 - *v15;
              if ( *v16 == *v15 )
                goto LABEL_17;
            }
          }
        }
        v17 = 1;
        if ( v8 <= 0 )
          v17 = -1;
LABEL_18:
        if ( !v17 && (unsigned __int8)*(v4 - 4) == a2 )
          break;
      }
      if ( v24 < dword_10152FA4 - *(_DWORD *)v4 )
      {
        v24 = dword_10152FA4 - *(_DWORD *)v4;
        v25 = v23;
      }
      v4 += 20;
      if ( ++v23 >= (unsigned int)dword_10152FA0 )
      {
        v3 = 0;
        goto LABEL_25;
      }
    }
    *((_DWORD *)dword_10152F9C + 5 * v23 + 4) = dword_10152FA4;
    *(_DWORD *)(a1 + 24) = *((_WORD *)dword_10152F9C + 10 * v23 + 7);
    v3 = 1;
  }
LABEL_25:
  v18 = sub_100247F0(a1, a2, a3);
  if ( !v18 && dword_10152FA0 && !v3 )
  {
    v19 = 20 * v25;
    *((_BYTE *)dword_10152F9C + v19 + 11) = 0;
    *((_BYTE *)dword_10152F9C + v19 + 12) = a2;
    v20 = (char *)dword_10152F9C;
    *(_DWORD *)((char *)dword_10152F9C + v19) = *(_DWORD *)a1;
    *(_DWORD *)&v20[v19 + 4] = *(_DWORD *)(a1 + 4);
    v21 = (int)&v20[20 * v25];
    *(_WORD *)(v21 + 8) = *(_WORD *)(a1 + 8);
    *(_BYTE *)(v21 + 10) = *(_BYTE *)(a1 + 10);
    *(_WORD *)((char *)dword_10152F9C + v19 + 14) = *(_WORD *)(a1 + 24);
    *(_DWORD *)((char *)dword_10152F9C + v19 + 16) = dword_10152FA4;
    *((_BYTE *)dword_10152F9C + v19 + 11) = *(_BYTE *)(a1 + 11);
  }
  return v18;
}
// 10152FA0: using guessed type int dword_10152FA0;
// 10152FA4: using guessed type int dword_10152FA4;

//----- (10024AE0) --------------------------------------------------------
signed int __cdecl sub_10024AE0(int a1, char a2)
{
  int v2; // ecx@1
  signed int result; // eax@1
  int v4; // esi@3
  int v5; // ST00_4@4
  __int16 v6; // di@5
  _DWORD *v7; // edx@6
  _DWORD *i; // ecx@7

  v2 = *(_DWORD *)(a1 + 32);
  result = 0;
  if ( v2 )
  {
    if ( *(_DWORD *)(dword_10152F80 + 8 * (((unsigned int)*(_BYTE *)(a1 + 11) >> 5) & 3) + 4) )
    {
      *(_DWORD *)(a1 + 32) = 0;
    }
    else
    {
      v4 = v2 - 12;
      if ( !a2 || (v5 = *(_DWORD *)(v4 + 4), (result = sub_10001160()) == 0) )
      {
        v6 = *(_WORD *)(v4 + 8) - 1;
        if ( *(_WORD *)(v4 + 8) == 1 )
        {
          v7 = (_DWORD *)dword_10152FB0;
          if ( v4 != dword_10152FB0 )
          {
            for ( i = *(_DWORD **)dword_10152FB0; i != (_DWORD *)v4; i = (_DWORD *)*i )
              v7 = i;
            *v7 = *(_DWORD *)v4;
            *(_DWORD *)v4 = dword_10152FB0;
            dword_10152FB0 = v4;
          }
        }
        *(_DWORD *)(a1 + 32) = 0;
        *(_WORD *)(v4 + 8) = v6;
      }
    }
  }
  return result;
}
// 10152F80: using guessed type int dword_10152F80;
// 10152FB0: using guessed type int dword_10152FB0;

//----- (10024B80) --------------------------------------------------------
int __cdecl sub_10024B80(int a1, int a2, char a3)
{
  int result; // eax@1
  unsigned int v4; // esi@1
  int v5; // ecx@3
  int v6; // edi@3
  int v7; // esi@4
  int v8; // ecx@4

  result = 0;
  v4 = ((unsigned int)*(_BYTE *)(a1 + 11) >> 5) & 3;
  if ( !*(_DWORD *)(a1 + 32) || (result = sub_10024AE0(a1, 0)) == 0 )
  {
    v5 = *((_DWORD *)dword_10152F84 + 28 * v4 + 23) + a2;
    v6 = (v4 << 30) | v5 & 0x3FFFFFFF;
    if ( *(_DWORD *)(dword_10152F80 + 8 * v4 + 4) )
    {
      *(_DWORD *)(a1 + 28) = v6;
      *(_DWORD *)(a1 + 32) = *(_DWORD *)(dword_10152F80 + 8 * v4 + 4) + (v5 << 9);
    }
    else
    {
      v7 = dword_10152FB0;
      v8 = 0;
      if ( dword_10152FB0 )
      {
        do
        {
          if ( *(_DWORD *)(v7 + 4) == v6 )
            goto LABEL_13;
          if ( !*(_WORD *)(v7 + 8) )
            v8 = v7;
          v7 = *(_DWORD *)v7;
        }
        while ( v7 );
        if ( !v8 )
          goto LABEL_10;
        v7 = v8;
        if ( !a3 || (*(_DWORD *)(v8 + 4) = -1, (result = sub_10001120(v6, v8 + 12, 512)) == 0) )
        {
LABEL_13:
          *(_DWORD *)(a1 + 28) = v6;
          ++*(_WORD *)(v7 + 8);
          *(_DWORD *)(v7 + 4) = v6;
          *(_DWORD *)(a1 + 32) = v7 + 12;
          return result;
        }
      }
      else
      {
LABEL_10:
        result = -1;
      }
    }
  }
  return result;
}
// 10152F80: using guessed type int dword_10152F80;
// 10152FB0: using guessed type int dword_10152FB0;

//----- (10024C60) --------------------------------------------------------
signed int __cdecl sub_10024C60(int a1, int a2)
{
  unsigned __int8 v2; // cl@1
  signed int result; // eax@1
  unsigned __int8 *v4; // ebp@4
  unsigned __int8 *v5; // esi@4
  signed int v6; // edi@4
  char v7; // bl@4
  unsigned __int8 v8; // cl@5
  signed int v9; // [sp+10h] [bp-4h]@1

  *(_DWORD *)a1 = 538976288;
  *(_DWORD *)(a1 + 4) = 538976288;
  *(_WORD *)(a1 + 8) = 8224;
  *(_BYTE *)(a1 + 10) = 32;
  v2 = *(_BYTE *)a2;
  result = 0;
  v9 = 0;
  if ( *(_BYTE *)a2 < 0x30u
    || v2 >= (unsigned __int8)(dword_10152F88 + 48)
    || (*(_BYTE *)(a1 + 11) ^= (*(_BYTE *)(a1 + 11) ^ 32 * v2) & 0x60, *(_BYTE *)(a2 + 1) != 58) )
  {
LABEL_24:
    result = -1;
  }
  else
  {
    v4 = (unsigned __int8 *)(a2 + 2);
    v5 = (unsigned __int8 *)a1;
    v6 = 8;
    v7 = 1;
    do
    {
      v8 = *v4;
      if ( !*v4 )
        break;
      if ( v7 && v8 == 46 )
      {
        v7 = 0;
        v5 = (unsigned __int8 *)(a1 + 8);
        v6 = 3;
      }
      else
      {
        if ( !result && !v6 )
          v9 = -1;
        if ( (unsigned __int8)(v8 - 97) <= 0x19u )
          v8 -= 32;
        if ( v8 != 63 && (v8 < 0x30u || v8 > 0x39u) && (v8 < 0x41u || v8 > 0x5Au) && v8 != 95 )
          goto LABEL_24;
        result = v9;
        if ( !v9 )
        {
          *v5++ = v8;
          --v6;
        }
      }
      ++v4;
    }
    while ( !result );
  }
  return result;
}
// 10152F88: using guessed type int dword_10152F88;

//----- (10024D40) --------------------------------------------------------
signed int __cdecl sub_10024D40(int a1, unsigned int a2)
{
  int v2; // ebp@1
  unsigned int v3; // ebx@1
  char *v4; // esi@1
  char v5; // al@1
  int v6; // edi@1
  signed int result; // eax@1
  int v8; // edi@4
  unsigned int v9; // edi@5
  int v10; // ebx@5
  char v11; // cl@5
  int v12; // ebx@5
  int v13; // eax@5
  unsigned int v14; // edx@5
  int v15; // edi@5
  unsigned int v16; // edi@11
  int v17; // edx@12
  unsigned int v18; // ebx@14
  unsigned int v19; // eax@14
  _DWORD *v20; // ecx@15
  int v21; // eax@21
  unsigned int v22; // [sp+10h] [bp-14h]@1
  char v23; // [sp+10h] [bp-14h]@8
  int v24; // [sp+18h] [bp-Ch]@5
  int v25; // [sp+1Ch] [bp-8h]@1
  int v26; // [sp+20h] [bp-4h]@5
  unsigned int v27; // [sp+28h] [bp+4h]@5
  char v28; // [sp+28h] [bp+4h]@21

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 20);
  v4 = (char *)dword_10152F84 + 112 * (((unsigned int)*(_BYTE *)(a1 + 11) >> 5) & 3);
  v5 = *(_BYTE *)(a1 + 11) >> 7;
  v6 = *(_DWORD *)(a1 + 28) & 0x3FFFFFFF;
  v22 = *(_DWORD *)(a1 + 20);
  v25 = *(_DWORD *)(a1 + 28) & 0x3FFFFFFF;
  *(_DWORD *)(a1 + 20) = *((_WORD *)v4 + 39) << v4[2];
  result = sub_10024AE0(a1, v5);
  if ( result )
    return result;
  *(_BYTE *)(a1 + 11) &= 0x7Fu;
  if ( *(_DWORD *)(a1 + 20) > v3 && v4[69] & 1 )
  {
    v8 = a2 + v6 - v3;
LABEL_21:
    v21 = *(_DWORD *)(v2 + 16);
    v28 = 1;
    if ( v21 >= *(_DWORD *)(v2 + 12) && !(v21 & 0x1FF) )
      v28 = 0;
    result = sub_10024B80(v2, v8, v28);
    *(_DWORD *)(v2 + 20) = a2;
    return result;
  }
  v9 = *((_DWORD *)v4 + 24);
  v10 = *((_WORD *)v4 + 38);
  v11 = v4[2];
  v24 = v10;
  v12 = a2 % v9 & v10;
  v26 = v12;
  v27 = a2 % v9 >> v11;
  v13 = v22 / v9;
  v14 = v22 % v9;
  v15 = a2 / v9;
  if ( v13 == v15 && v14 >> v11 == v27 )
  {
    v8 = v25 + v12 - (v24 & v14);
    goto LABEL_21;
  }
  v23 = 0;
  result = sub_100248E0(v2, v15, 1);
  if ( result == -3 )
    result = sub_10024FA0(v2, v15);
  if ( !result )
  {
    v16 = *(_WORD *)(*(_DWORD *)(v2 + 32) + 2 * v27 + 32);
    if ( v16 == 0xFFFF )
    {
      v17 = *((_DWORD *)v4 + 27);
      if ( !v17 )
        return -1;
      v18 = 0;
      v19 = ((unsigned int)*((_WORD *)v4 + 39) + 31) >> 5;
      if ( v19 )
      {
        v20 = (_DWORD *)*((_DWORD *)v4 + 27);
        do
        {
          if ( ~*v20 )
            break;
          ++v18;
          ++v20;
        }
        while ( v18 < v19 );
      }
      v16 = 32 * v18 + sub_10037790(~*(_DWORD *)(v17 + 4 * v18));
      if ( v16 >= *((_WORD *)v4 + 39) )
        return -1;
      v23 = 1;
      *(_DWORD *)(*((_DWORD *)v4 + 27) + 4 * v18) |= 1 << (v16 & 0x1F);
      v12 = v26;
      *(_WORD *)(*(_DWORD *)(v2 + 32) + 2 * v27 + 32) = v16;
    }
    result = sub_10024AE0(v2, v23);
    v8 = v12 + (v16 << v4[2]);
    if ( !result )
      goto LABEL_21;
  }
  return result;
}

//----- (10024F10) --------------------------------------------------------
signed int __usercall sub_10024F10@<eax>(int a1@<esi>)
{
  signed int result; // eax@1
  char *v2; // ecx@1
  unsigned int v3; // ebx@1
  unsigned int v4; // edi@1

  result = 0;
  v2 = (char *)dword_10152F84 + 112 * (((unsigned int)*(_BYTE *)(a1 + 11) >> 5) & 3);
  v3 = *((_WORD *)v2 + 35) + *((_DWORD *)v2 + 26) - 1;
  v4 = *((_DWORD *)v2 + 26);
  while ( v4 <= v3 )
  {
    if ( *(_DWORD *)(a1 + 32) )
      result = sub_10024AE0(a1, 0);
    if ( !result )
    {
      result = sub_10024B80(a1, v4, 1);
      if ( !result && !**(_BYTE **)(a1 + 32) )
      {
        *(_DWORD *)(a1 + 24) = v4;
        break;
      }
    }
    ++v4;
    if ( result )
      return result;
  }
  if ( !result && v4 > v3 )
  {
    if ( !*(_DWORD *)(a1 + 32) || (result = sub_10024AE0(a1, 0)) == 0 )
      result = -1;
  }
  return result;
}

//----- (10024FA0) --------------------------------------------------------
signed int __cdecl sub_10024FA0(int a1, char a2)
{
  signed int result; // eax@1
  signed int v3; // edi@1
  int v4; // eax@2

  result = sub_10024F10(a1);
  v3 = result;
  if ( !result )
  {
    v4 = *(_DWORD *)(a1 + 32);
    *(_BYTE *)v4 = 1;
    *(_DWORD *)(v4 + 1) = *(_DWORD *)a1;
    *(_DWORD *)(v4 + 5) = *(_DWORD *)(a1 + 4);
    *(_WORD *)(v4 + 9) = *(_WORD *)(a1 + 8);
    *(_BYTE *)(v4 + 11) = *(_BYTE *)(a1 + 10);
    *(_DWORD *)(v4 + 12) = 0;
    *(_BYTE *)(v4 + 16) = 0;
    *(_BYTE *)(v4 + 17) = a2;
    *(_DWORD *)(v4 + 18) = 0;
    *(_DWORD *)(v4 + 22) = 0;
    *(_DWORD *)(v4 + 26) = 0;
    *(_WORD *)(v4 + 30) = 0;
    memset((void *)(v4 + 32), 255, 0x1E0u);
    result = v3;
  }
  return result;
}

//----- (10026A6F) --------------------------------------------------------
int __cdecl sub_10026A6F(char *DstBuf, size_t MaxCount, char *Format, va_list ArgList)
{
  return _vsnprintf_l(DstBuf, MaxCount, Format, 0, ArgList);
}

//----- (10029389) --------------------------------------------------------
int __cdecl sub_10029389(int a1, FILE *a2)
{
  FILE *v2; // esi@1
  int v3; // eax@1
  unsigned int v5; // eax@9
  int v6; // eax@15
  char *v7; // edi@15
  signed __int32 v8; // edi@15
  _BYTE *v9; // eax@20
  __int64 v10; // rax@23
  _WORD *v11; // [sp+4h] [bp-4h]@9

  v2 = a2;
  a2 = (FILE *)_fileno(a2);
  v3 = v2->_flag;
  if ( !(v3 & 0x82) )
  {
    *_errno() = 9;
LABEL_3:
    v2->_flag |= 0x20u;
    return -1;
  }
  if ( v3 & 0x40 )
  {
    *_errno() = 34;
    goto LABEL_3;
  }
  if ( v3 & 1 )
  {
    v2->_cnt = 0;
    if ( !(v3 & 0x10) )
    {
      v2->_flag = v3 | 0x20;
      return -1;
    }
    v2->_ptr = v2->_base;
    v2->_flag = v3 & 0xFFFFFFFE;
  }
  v5 = v2->_flag & 0xFFFFFFEF | 2;
  v2->_flag = v5;
  v2->_cnt = 0;
  v11 = 0;
  if ( !(v5 & 0x10C)
    && ((void **)v2 != sub_100312BD() + 8 && (void **)v2 != sub_100312BD() + 16 || !sub_1003125F((signed int)a2)) )
  {
    _getbuf(v2);
  }
  if ( v2->_flag & 0x108 )
  {
    v6 = (int)v2->_base;
    v7 = v2->_ptr;
    v2->_ptr = (char *)(v6 + 1);
    v8 = (signed __int32)&v7[-v6];
    v2->_cnt = v2->_bufsiz - 1;
    if ( v8 <= 0 )
    {
      if ( a2 == (FILE *)-1 || a2 == (FILE *)-2 )
        v9 = &unk_1008E8A8;
      else
        v9 = (_BYTE *)(dword_10154020[(signed int)a2 >> 5] + (((unsigned __int8)a2 & 0x1F) << 6));
      if ( v9[4] & 0x20 )
      {
        v10 = _lseeki64((int)a2, 0i64, 2);
        if ( (HIDWORD(v10) & (unsigned int)v10) == -1 )
          goto LABEL_27;
      }
    }
    else
    {
      v11 = sub_1003113F((int)a2, v6, v8);
    }
    *v2->_base = a1;
  }
  else
  {
    v8 = 1;
    v11 = sub_1003113F((int)a2, (int)&a1, 1u);
  }
  if ( v11 != (_WORD *)v8 )
  {
LABEL_27:
    v2->_flag |= 0x20u;
    return -1;
  }
  return (unsigned __int8)a1;
}
// 1003121B: using guessed type _DWORD __cdecl _getbuf(_DWORD);
// 10154020: using guessed type int dword_10154020[];

//----- (10029F1E) --------------------------------------------------------
int __cdecl sub_10029F1E(int a1)
{
  int result; // eax@1

  result = a1;
  dword_101484EC = a1;
  return result;
}
// 101484EC: using guessed type int dword_101484EC;

//----- (1002BCEA) --------------------------------------------------------
signed int __cdecl sub_1002BCEA(_DWORD *a1)
{
  signed int result; // eax@2

  if ( a1 && dword_10148544 )
  {
    *a1 = dword_10148544;
    result = 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 22;
  }
  return result;
}
// 1002A024: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10148544: using guessed type int dword_10148544;

//----- (1002BD21) --------------------------------------------------------
signed int __cdecl sub_1002BD21(_DWORD *a1)
{
  signed int result; // eax@2

  if ( a1 && dword_10148544 )
  {
    *a1 = dword_10148550;
    result = 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 22;
  }
  return result;
}
// 1002A024: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10148544: using guessed type int dword_10148544;
// 10148550: using guessed type int dword_10148550;

//----- (1002C2F2) --------------------------------------------------------
void sub_1002C2F2()
{
  void **v0; // esi@1
  void *v1; // edi@2
  unsigned int i; // eax@3

  v0 = (void **)dword_10154020;
  do
  {
    v1 = *v0;
    if ( *v0 )
    {
      for ( i = (unsigned int)v1 + 2048; (unsigned int)v1 < i; i = (unsigned int)*v0 + 2048 )
      {
        if ( *((_DWORD *)v1 + 2) )
          DeleteCriticalSection((LPCRITICAL_SECTION)((char *)v1 + 12));
        v1 = (char *)v1 + 64;
      }
      free(*v0);
      *v0 = 0;
    }
    ++v0;
  }
  while ( (signed int)v0 < (signed int)&dword_10154120 );
}
// 10154020: using guessed type int dword_10154020[];
// 10154120: using guessed type int dword_10154120;

//----- (1002C79F) --------------------------------------------------------
int (*sub_1002C79F())(void)
{
  int (*result)(void); // eax@1
  int (**v1)(void); // esi@1

  result = (int (*)(void))&unk_1008C320;
  v1 = (int (**)(void))&unk_1008C320;
  if ( &unk_1008C320 < &unk_1008C320 )
  {
    do
    {
      result = *v1;
      if ( *v1 )
        result = (int (*)(void))result();
      ++v1;
    }
    while ( v1 < (int (**)(void))&unk_1008C320 );
  }
  return result;
}

//----- (1002C7C3) --------------------------------------------------------
void __cdecl sub_1002C7C3()
{
  void (**v0)(void); // esi@1

  v0 = (void (**)(void))&unk_1008C328;
  if ( &unk_1008C328 < &unk_1008C328 )
  {
    do
    {
      if ( *v0 )
        (*v0)();
      ++v0;
    }
    while ( v0 < (void (**)(void))&unk_1008C328 );
  }
}

//----- (1002F5E4) --------------------------------------------------------
#error "1002F5E9: positive sp value has been found (funcsize=0)"

//----- (1002F5EF) --------------------------------------------------------
#error "1002F5F4: positive sp value has been found (funcsize=0)"

//----- (1002F5FA) --------------------------------------------------------
#error "1002F5FF: positive sp value has been found (funcsize=0)"

//----- (1002F600) --------------------------------------------------------
#error "1002F605: positive sp value has been found (funcsize=0)"

//----- (1002F606) --------------------------------------------------------
#error "1002F60B: positive sp value has been found (funcsize=0)"

//----- (1002F60C) --------------------------------------------------------
#error "1002F611: positive sp value has been found (funcsize=0)"

//----- (1002F612) --------------------------------------------------------
#error "1002F62D: positive sp value has been found (funcsize=0)"

//----- (1002F633) --------------------------------------------------------
#error "1002F648: positive sp value has been found (funcsize=0)"

//----- (1002F64E) --------------------------------------------------------
#error "1002F669: positive sp value has been found (funcsize=0)"

//----- (1002F66A) --------------------------------------------------------
#error "1002F679: positive sp value has been found (funcsize=0)"

//----- (1002F67A) --------------------------------------------------------
#error "1002F68D: positive sp value has been found (funcsize=0)"

//----- (1002F68E) --------------------------------------------------------
#error "1002F69D: positive sp value has been found (funcsize=0)"

//----- (1002F69E) --------------------------------------------------------
#error "1002F6BD: positive sp value has been found (funcsize=0)"

//----- (1002F6C3) --------------------------------------------------------
#error "1002F6DC: positive sp value has been found (funcsize=0)"

//----- (1002F6E2) --------------------------------------------------------
#error "1002F701: positive sp value has been found (funcsize=0)"

//----- (1002F702) --------------------------------------------------------
#error "1002F715: positive sp value has been found (funcsize=0)"

//----- (1002F716) --------------------------------------------------------
#error "1002F72D: positive sp value has been found (funcsize=0)"

//----- (1002F72E) --------------------------------------------------------
#error "1002F741: positive sp value has been found (funcsize=0)"

//----- (1002F742) --------------------------------------------------------
#error "1002F761: positive sp value has been found (funcsize=0)"

//----- (1002F767) --------------------------------------------------------
#error "1002F780: positive sp value has been found (funcsize=0)"

//----- (1002F786) --------------------------------------------------------
#error "1002F7A5: positive sp value has been found (funcsize=0)"

//----- (1002F7A6) --------------------------------------------------------
#error "1002F7B9: positive sp value has been found (funcsize=0)"

//----- (1002F7BA) --------------------------------------------------------
#error "1002F7D1: positive sp value has been found (funcsize=0)"

//----- (1002F7D2) --------------------------------------------------------
#error "1002F7E5: positive sp value has been found (funcsize=0)"

//----- (1002F7E6) --------------------------------------------------------
#error "1002F805: positive sp value has been found (funcsize=0)"

//----- (1002F80B) --------------------------------------------------------
#error "1002F824: positive sp value has been found (funcsize=0)"

//----- (1002F82A) --------------------------------------------------------
#error "1002F849: positive sp value has been found (funcsize=0)"

//----- (1002F84A) --------------------------------------------------------
#error "1002F85D: positive sp value has been found (funcsize=0)"

//----- (1002F85E) --------------------------------------------------------
#error "1002F875: positive sp value has been found (funcsize=0)"

//----- (1002F876) --------------------------------------------------------
#error "1002F889: positive sp value has been found (funcsize=0)"

//----- (1002F88A) --------------------------------------------------------
#error "1002F8A9: positive sp value has been found (funcsize=0)"

//----- (1002F8AF) --------------------------------------------------------
#error "1002F8C8: positive sp value has been found (funcsize=0)"

//----- (1002F8CE) --------------------------------------------------------
#error "1002F8ED: positive sp value has been found (funcsize=0)"

//----- (1002F8EE) --------------------------------------------------------
#error "1002F901: positive sp value has been found (funcsize=0)"

//----- (1002F902) --------------------------------------------------------
#error "1002F919: positive sp value has been found (funcsize=0)"

//----- (1002F91A) --------------------------------------------------------
#error "1002F92D: positive sp value has been found (funcsize=0)"

//----- (1002F92E) --------------------------------------------------------
#error "1002F94D: positive sp value has been found (funcsize=0)"

//----- (1002F953) --------------------------------------------------------
#error "1002F96C: positive sp value has been found (funcsize=0)"

//----- (1002F972) --------------------------------------------------------
#error "1002F991: positive sp value has been found (funcsize=0)"

//----- (1002F992) --------------------------------------------------------
#error "1002F9A5: positive sp value has been found (funcsize=0)"

//----- (1002F9A6) --------------------------------------------------------
#error "1002F9BD: positive sp value has been found (funcsize=0)"

//----- (1002F9BE) --------------------------------------------------------
#error "1002F9D1: positive sp value has been found (funcsize=0)"

//----- (1002F9D2) --------------------------------------------------------
#error "1002F9F1: positive sp value has been found (funcsize=0)"

//----- (1002F9F7) --------------------------------------------------------
#error "1002FA10: positive sp value has been found (funcsize=0)"

//----- (1002FA16) --------------------------------------------------------
#error "1002FA35: positive sp value has been found (funcsize=0)"

//----- (1002FA36) --------------------------------------------------------
#error "1002FA49: positive sp value has been found (funcsize=0)"

//----- (1002FA4A) --------------------------------------------------------
#error "1002FA61: positive sp value has been found (funcsize=0)"

//----- (1002FA62) --------------------------------------------------------
#error "1002FA75: positive sp value has been found (funcsize=0)"

//----- (1003096C) --------------------------------------------------------
int sub_1003096C()
{
  dword_10154138 = _get_sse2_info();
  return 0;
}
// 1003090C: using guessed type int _get_sse2_info(void);
// 10154138: using guessed type int dword_10154138;

//----- (10030979) --------------------------------------------------------
void sub_10030979()
{
  dword_10154004 = 0;
}
// 10154004: using guessed type int dword_10154004;

//----- (10030981) --------------------------------------------------------
DWORD __cdecl sub_10030981(int a1, int a2, int a3, DWORD dwMoveMethod)
{
  void *v4; // eax@1
  DWORD v6; // eax@5
  _BYTE *v7; // eax@7
  DWORD lDistanceToMove; // [sp+8h] [bp-8h]@4
  LONG DistanceToMoveHigh; // [sp+Ch] [bp-4h]@1

  DistanceToMoveHigh = a3;
  v4 = (void *)sub_10034851(a1);
  if ( v4 == (void *)-1 )
  {
    *_errno() = 9;
    return -1;
  }
  lDistanceToMove = SetFilePointer(v4, a2, &DistanceToMoveHigh, dwMoveMethod);
  if ( lDistanceToMove == -1 )
  {
    v6 = GetLastError();
    if ( v6 )
    {
      _dosmaperr(v6);
      return -1;
    }
  }
  v7 = (_BYTE *)(dword_10154020[a1 >> 5] + ((a1 & 0x1F) << 6) + 4);
  *v7 &= 0xFDu;
  return lDistanceToMove;
}
// 100264CE: using guessed type _DWORD __cdecl _dosmaperr(_DWORD);
// 10154020: using guessed type int dword_10154020[];

//----- (10030B1D) --------------------------------------------------------
_WORD *__cdecl sub_10030B1D(int a1, int a2, DWORD nNumberOfBytesToWrite)
{
  int *v4; // esi@5
  int v5; // edi@5
  int v6; // eax@5
  char v7; // bl@5
  int v8; // eax@13
  void *v9; // ST18_4@13
  DWORD v10; // eax@16
  const char *v11; // ebx@16
  char v12; // cl@19
  int *v13; // esi@19
  int v14; // eax@19
  int v15; // eax@20
  int v16; // eax@27
  signed int v17; // esi@27
  int v18; // eax@31
  int v19; // esi@36
  __int16 v20; // ax@39
  int v21; // ecx@45
  char v22; // dl@45
  int v23; // eax@46
  DWORD v24; // ecx@51
  char *v25; // eax@51
  char *v26; // edx@53
  char v27; // dl@53
  int v28; // ebx@56
  DWORD v29; // ecx@64
  char *v30; // eax@64
  __int16 *v31; // edx@66
  __int16 v32; // dx@66
  int v33; // ebx@69
  DWORD v34; // ecx@74
  WCHAR *v35; // eax@74
  WCHAR v36; // dx@76
  int v37; // esi@79
  int v38; // ebx@79
  DWORD Mode; // [sp+4h] [bp-7Ch]@13
  int v40; // [sp+8h] [bp-78h]@13
  char v41; // [sp+Fh] [bp-71h]@5
  int *v42; // [sp+10h] [bp-70h]@5
  DWORD v43; // [sp+14h] [bp-6Ch]@56
  int v44; // [sp+18h] [bp-68h]@1
  LPCVOID lpBuffer; // [sp+1Ch] [bp-64h]@1
  _WORD *v46; // [sp+20h] [bp-60h]@1
  DWORD NumberOfBytesWritten; // [sp+24h] [bp-5Ch]@16
  WCHAR WideCharStr[2]; // [sp+28h] [bp-58h]@20
  _WORD *v49; // [sp+2Ch] [bp-54h]@17
  char Buffer; // [sp+30h] [bp-50h]@51
  CHAR v51[688]; // [sp+184h] [bp+104h]@79
  WCHAR v52; // [sp+434h] [bp+3B4h]@74
  CHAR MultiByteStr; // [sp+588h] [bp+508h]@20
  char v54; // [sp+589h] [bp+509h]@20

  lpBuffer = (LPCVOID)a2;
  v46 = 0;
  v44 = 0;
  if ( !nNumberOfBytesToWrite )
    return 0;
  if ( !a2 )
  {
    *__doserrno() = 0;
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    return (_WORD *)-1;
  }
  v4 = &dword_10154020[a1 >> 5];
  v5 = (a1 & 0x1F) << 6;
  v6 = v5 + *v4;
  v7 = (char)(2 * *(_BYTE *)(v6 + 36)) >> 1;
  v42 = &dword_10154020[a1 >> 5];
  v41 = v7;
  if ( (v7 == 2 || v7 == 1) && !(~(_BYTE)nNumberOfBytesToWrite & 1) )
  {
    *__doserrno() = 0;
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    return (_WORD *)-1;
  }
  if ( *(_BYTE *)(v6 + 4) & 0x20 )
    sub_10030981(a1, 0, 0, 2u);
  if ( sub_1003125F(a1) )
  {
    if ( *(_BYTE *)(v5 + *v4 + 4) & 0x80 )
    {
      v8 = _getptd();
      v9 = *(void **)(v5 + *v4);
      v40 = *(_DWORD *)(*(_DWORD *)(v8 + 108) + 20) == 0;
      if ( GetConsoleMode(v9, &Mode) )
      {
        if ( !v40 || v7 )
        {
          v10 = GetConsoleCP();
          v11 = (const char *)lpBuffer;
          Mode = v10;
          NumberOfBytesWritten = 0;
          if ( nNumberOfBytesToWrite )
          {
            v49 = 0;
            while ( 1 )
            {
              if ( v41 )
              {
                if ( v41 == 1 || v41 == 2 )
                {
                  v19 = *(_WORD *)v11;
                  v11 += 2;
                  ++v49;
                  *(_DWORD *)WideCharStr = v19;
                  v40 = (_WORD)v19 == 10;
                }
                if ( v41 == 1 || v41 == 2 )
                {
                  v20 = _putwch_nolock(WideCharStr[0]);
                  if ( v20 != WideCharStr[0] )
                    goto LABEL_89;
                  v46 = (_WORD *)((char *)v46 + 1);
                  if ( v40 )
                  {
                    *(_DWORD *)WideCharStr = 13;
                    if ( (unsigned __int16)_putwch_nolock(13) != 13 )
                      goto LABEL_89;
                    v46 = (_WORD *)((char *)v46 + 1);
                    ++v44;
                  }
                }
                goto LABEL_43;
              }
              v12 = *v11;
              v13 = v42;
              v40 = *v11 == 10;
              v14 = v5 + *v42;
              if ( *(_DWORD *)(v14 + 56) )
              {
                MultiByteStr = *(_BYTE *)(v14 + 52);
                v54 = v12;
                *(_DWORD *)(v14 + 56) = 0;
                v15 = mbtowc(WideCharStr, &MultiByteStr, 2u);
              }
              else
              {
                if ( isleadbyte(v12) )
                {
                  if ( nNumberOfBytesToWrite + (_BYTE *)lpBuffer - v11 <= 1 )
                  {
                    v21 = *v13;
                    v22 = *v11;
                    v46 = (_WORD *)((char *)v46 + 1);
                    *(_BYTE *)(v5 + v21 + 52) = v22;
                    *(_DWORD *)(v5 + *v13 + 56) = 1;
                    goto LABEL_90;
                  }
                  if ( mbtowc(WideCharStr, v11, 2u) == -1 )
                    goto LABEL_90;
                  ++v11;
                  v49 = (_WORD *)((char *)v49 + 1);
                  goto LABEL_27;
                }
                v15 = mbtowc(WideCharStr, v11, 1u);
              }
              if ( v15 == -1 )
                goto LABEL_90;
LABEL_27:
              ++v11;
              v49 = (_WORD *)((char *)v49 + 1);
              v16 = WideCharToMultiByte(Mode, 0, WideCharStr, 1, &MultiByteStr, 5, 0, 0);
              v17 = v16;
              if ( !v16 )
                goto LABEL_90;
              if ( !WriteFile(*(HANDLE *)(v5 + *v42), &MultiByteStr, v16, &NumberOfBytesWritten, 0) )
                goto LABEL_89;
              v46 = (_WORD *)((char *)v49 + v44);
              if ( (signed int)NumberOfBytesWritten < v17 )
                goto LABEL_90;
              if ( v40 )
              {
                v18 = *v42;
                MultiByteStr = 13;
                if ( !WriteFile(*(HANDLE *)(v5 + v18), &MultiByteStr, 1u, &NumberOfBytesWritten, 0) )
                  goto LABEL_89;
                if ( (signed int)NumberOfBytesWritten < 1 )
                  goto LABEL_90;
                ++v44;
                v46 = (_WORD *)((char *)v46 + 1);
              }
LABEL_43:
              if ( (unsigned int)v49 >= nNumberOfBytesToWrite )
                goto LABEL_90;
            }
          }
          goto LABEL_91;
        }
      }
    }
  }
  v23 = v5 + *v4;
  if ( *(_BYTE *)(v23 + 4) & 0x80 )
  {
    *(_DWORD *)WideCharStr = 0;
    if ( v7 )
    {
      v49 = lpBuffer;
      if ( v7 == 2 )
      {
        if ( nNumberOfBytesToWrite <= 0 )
          goto LABEL_96;
        while ( 1 )
        {
          NumberOfBytesWritten = 0;
          v29 = (char *)v49 - (_BYTE *)lpBuffer;
          v30 = &Buffer;
          do
          {
            if ( v29 >= nNumberOfBytesToWrite )
              break;
            v31 = v49;
            ++v49;
            v32 = *v31;
            v29 += 2;
            if ( v32 == 10 )
            {
              v44 += 2;
              *(_WORD *)v30 = 13;
              v30 += 2;
              NumberOfBytesWritten += 2;
            }
            NumberOfBytesWritten += 2;
            *(_WORD *)v30 = v32;
            v30 += 2;
          }
          while ( NumberOfBytesWritten < 0x3FF );
          v33 = v30 - &Buffer;
          if ( !WriteFile(*(HANDLE *)(v5 + *v4), &Buffer, v30 - &Buffer, &v43, 0) )
            break;
          v46 = (_WORD *)((char *)v46 + v43);
          if ( (signed int)v43 < v33 || (char *)v49 - (_BYTE *)lpBuffer >= nNumberOfBytesToWrite )
            goto LABEL_90;
          v4 = v42;
        }
      }
      else
      {
        if ( nNumberOfBytesToWrite <= 0 )
          goto LABEL_96;
        while ( 1 )
        {
          NumberOfBytesWritten = 0;
          v34 = (char *)v49 - (_BYTE *)lpBuffer;
          v35 = &v52;
          do
          {
            if ( v34 >= nNumberOfBytesToWrite )
              break;
            v36 = *v49;
            ++v49;
            v34 += 2;
            if ( v36 == 10 )
            {
              *v35 = 13;
              ++v35;
              NumberOfBytesWritten += 2;
            }
            NumberOfBytesWritten += 2;
            *v35 = v36;
            ++v35;
          }
          while ( NumberOfBytesWritten < 0x152 );
          v37 = 0;
          v38 = WideCharToMultiByte(0xFDE9u, 0, &v52, v35 - &v52, v51, 683, 0, 0);
          if ( !v38 )
            break;
          while ( WriteFile(*(HANDLE *)(v5 + *v42), &v51[v37], v38 - v37, &v43, 0) )
          {
            v37 += v43;
            if ( v38 <= v37 )
              goto LABEL_84;
          }
          *(_DWORD *)WideCharStr = GetLastError();
LABEL_84:
          if ( v38 <= v37 )
          {
            v46 = (_WORD *)((char *)v49 - (_BYTE *)lpBuffer);
            if ( (char *)v49 - (_BYTE *)lpBuffer < nNumberOfBytesToWrite )
              continue;
          }
          goto LABEL_90;
        }
      }
    }
    else
    {
      NumberOfBytesWritten = (DWORD)lpBuffer;
      if ( nNumberOfBytesToWrite <= 0 )
        goto LABEL_96;
      while ( 1 )
      {
        v49 = 0;
        v24 = NumberOfBytesWritten - (_DWORD)lpBuffer;
        v25 = &Buffer;
        do
        {
          if ( v24 >= nNumberOfBytesToWrite )
            break;
          v26 = (char *)NumberOfBytesWritten++;
          v27 = *v26;
          ++v24;
          if ( v27 == 10 )
          {
            ++v44;
            *v25++ = 13;
            v49 = (_WORD *)((char *)v49 + 1);
          }
          *v25++ = v27;
          v49 = (_WORD *)((char *)v49 + 1);
        }
        while ( (unsigned int)v49 < 0x400 );
        v28 = v25 - &Buffer;
        if ( !WriteFile(*(HANDLE *)(v5 + *v4), &Buffer, v25 - &Buffer, &v43, 0) )
          break;
        v46 = (_WORD *)((char *)v46 + v43);
        if ( (signed int)v43 < v28 || NumberOfBytesWritten - (unsigned int)lpBuffer >= nNumberOfBytesToWrite )
          goto LABEL_90;
        v4 = v42;
      }
    }
  }
  else if ( WriteFile(*(HANDLE *)v23, lpBuffer, nNumberOfBytesToWrite, &v43, 0) )
  {
    *(_DWORD *)WideCharStr = 0;
    v46 = (_WORD *)v43;
    goto LABEL_90;
  }
LABEL_89:
  *(_DWORD *)WideCharStr = GetLastError();
LABEL_90:
  if ( !v46 )
  {
LABEL_91:
    if ( *(_DWORD *)WideCharStr )
    {
      if ( *(_DWORD *)WideCharStr == 5 )
      {
        *_errno() = 9;
        *__doserrno() = 5;
      }
      else
      {
        _dosmaperr(*(_DWORD *)WideCharStr);
      }
      return (_WORD *)-1;
    }
    v4 = v42;
LABEL_96:
    if ( *(_BYTE *)(v5 + *v4 + 4) & 0x40 && *(_BYTE *)lpBuffer == 26 )
      return 0;
    *_errno() = 28;
    *__doserrno() = 0;
    return (_WORD *)-1;
  }
  return (_WORD *)((char *)v46 - v44);
}
// 100264CE: using guessed type _DWORD __cdecl _dosmaperr(_DWORD);
// 1002A024: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1002AD0A: using guessed type int _getptd(void);
// 10154020: using guessed type int dword_10154020[];
// 10030B1D: using guessed type CHAR var_410[688];

//----- (1003113F) --------------------------------------------------------
_WORD *__cdecl sub_1003113F(int a1, int a2, DWORD nNumberOfBytesToWrite)
{
  int *v4; // ebx@7
  int v5; // esi@7
  _WORD *v6; // [sp+14h] [bp-1Ch]@9

  if ( a1 == -2 )
  {
    *__doserrno() = 0;
    *_errno() = 9;
    return (_WORD *)-1;
  }
  if ( a1 < 0
    || a1 >= uNumber
    || (v4 = &dword_10154020[a1 >> 5], v5 = (a1 & 0x1F) << 6, !(*(_BYTE *)(*v4 + v5 + 4) & 1)) )
  {
    *__doserrno() = 0;
    *_errno() = 9;
    _invalid_parameter(0, 0, 0, 0, 0);
    return (_WORD *)-1;
  }
  __lock_fhandle(a1);
  if ( *(_BYTE *)(*v4 + v5 + 4) & 1 )
  {
    v6 = sub_10030B1D(a1, a2, nNumberOfBytesToWrite);
  }
  else
  {
    *_errno() = 9;
    *__doserrno() = 0;
    v6 = (_WORD *)-1;
  }
  sub_10034962(a1);
  return v6;
}
// 1002A024: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 100348C2: using guessed type _DWORD __cdecl __lock_fhandle(_DWORD);
// 10154020: using guessed type int dword_10154020[];

//----- (1003125F) --------------------------------------------------------
int __cdecl sub_1003125F(signed int a1)
{
  int result; // eax@2

  if ( a1 == -2 )
  {
    *_errno() = 9;
    result = 0;
  }
  else if ( a1 >= 0 && a1 < uNumber )
  {
    result = *(_BYTE *)(dword_10154020[a1 >> 5] + ((a1 & 0x1F) << 6) + 4) & 0x40;
  }
  else
  {
    *_errno() = 9;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 0;
  }
  return result;
}
// 1002A024: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10154020: using guessed type int dword_10154020[];

//----- (100312BD) --------------------------------------------------------
void **sub_100312BD()
{
  return &off_1008EC90;
}
// 1008EC90: using guessed type void *off_1008EC90;

//----- (100312C3) --------------------------------------------------------
signed int sub_100312C3()
{
  size_t v0; // eax@1
  void *v1; // eax@6
  signed int result; // eax@8
  int v3; // edx@9
  void **v4; // ecx@9
  signed int v5; // edx@12
  _DWORD *v6; // ecx@12
  int v7; // eax@13

  v0 = dword_10154000;
  if ( !dword_10154000 )
  {
    v0 = 512;
LABEL_5:
    dword_10154000 = v0;
    goto LABEL_6;
  }
  if ( dword_10154000 < 20 )
  {
    v0 = 20;
    goto LABEL_5;
  }
LABEL_6:
  v1 = (void *)_calloc_crt(v0, 4);
  dword_10152FE0 = v1;
  if ( v1 || (dword_10154000 = 20, v1 = (void *)_calloc_crt(0x14u, 4), (dword_10152FE0 = v1) != 0) )
  {
    v3 = 0;
    v4 = &off_1008EC90;
    while ( 1 )
    {
      *(_DWORD *)((char *)v1 + v3) = v4;
      v4 += 8;
      v3 += 4;
      if ( (signed int)v4 >= (signed int)&off_1008EF10 )
        break;
      v1 = dword_10152FE0;
    }
    v5 = 0;
    v6 = &unk_1008ECA0;
    do
    {
      v7 = *(_DWORD *)(((v5 & 0x1F) << 6) + dword_10154020[v5 >> 5]);
      if ( v7 == -1 || v7 == -2 || !v7 )
        *v6 = -2;
      v6 += 8;
      ++v5;
    }
    while ( (signed int)v6 < (signed int)&unk_1008ED00 );
    result = 0;
  }
  else
  {
    result = 26;
  }
  return result;
}
// 1002C00B: using guessed type _DWORD __cdecl _calloc_crt(size_t, _DWORD);
// 1008EC90: using guessed type void *off_1008EC90;
// 1008EF10: using guessed type wchar_t *off_1008EF10;
// 10154000: using guessed type int dword_10154000;
// 10154020: using guessed type int dword_10154020[];

//----- (10031D68) --------------------------------------------------------
int __cdecl sub_10031D68(int a1, int a2, struct localeinfo_struct *a3)
{
  signed int v3; // eax@1
  char v6; // [sp+Ch] [bp-28h]@1
  char v7; // [sp+10h] [bp-24h]@1
  int v8; // [sp+18h] [bp-1Ch]@4
  char v9; // [sp+1Ch] [bp-18h]@3
  int v10; // [sp+20h] [bp-14h]@1
  char v11; // [sp+24h] [bp-10h]@1

  _LocaleUpdate::_LocaleUpdate((_LocaleUpdate *)&v7, a3);
  v10 = __strgtold12_l(&v11, &v6, a2, 0, 0, 0, 0, &v7);
  v3 = sub_10034C7D((int)&v11, a1);
  if ( v10 & 3 )
  {
    if ( v10 & 1 )
      goto LABEL_8;
    if ( v10 & 2 )
      goto LABEL_3;
  }
  else
  {
    if ( v3 == 1 )
    {
LABEL_3:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
      return 3;
    }
    if ( v3 == 2 )
    {
LABEL_8:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
      return 4;
    }
  }
  if ( v9 )
    *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
  return 0;
}
// 10035701: using guessed type _DWORD __cdecl __strgtold12_l(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (10031E0E) --------------------------------------------------------
int __cdecl sub_10031E0E(int a1, int a2, struct localeinfo_struct *a3)
{
  signed int v3; // eax@1
  char v6; // [sp+Ch] [bp-28h]@1
  char v7; // [sp+10h] [bp-24h]@1
  int v8; // [sp+18h] [bp-1Ch]@4
  char v9; // [sp+1Ch] [bp-18h]@3
  int v10; // [sp+20h] [bp-14h]@1
  char v11; // [sp+24h] [bp-10h]@1

  _LocaleUpdate::_LocaleUpdate((_LocaleUpdate *)&v7, a3);
  v10 = __strgtold12_l(&v11, &v6, a2, 0, 0, 0, 0, &v7);
  v3 = sub_100351BF((int)&v11, a1);
  if ( v10 & 3 )
  {
    if ( v10 & 1 )
      goto LABEL_8;
    if ( v10 & 2 )
      goto LABEL_3;
  }
  else
  {
    if ( v3 == 1 )
    {
LABEL_3:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
      return 3;
    }
    if ( v3 == 2 )
    {
LABEL_8:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
      return 4;
    }
  }
  if ( v9 )
    *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
  return 0;
}
// 10035701: using guessed type _DWORD __cdecl __strgtold12_l(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (10032702) --------------------------------------------------------
int sub_10032702()
{
  return _decode_pointer(dword_10148B30);
}
// 1002AAEE: using guessed type _DWORD __cdecl _decode_pointer(_DWORD);
// 10148B30: using guessed type int dword_10148B30;

//----- (100328BF) --------------------------------------------------------
int __cdecl sub_100328BF(int a1)
{
  int result; // eax@1

  result = a1;
  dword_10148B3C = a1;
  return result;
}
// 10148B3C: using guessed type int dword_10148B3C;

//----- (100328C9) --------------------------------------------------------
int __cdecl sub_100328C9(int a1)
{
  int result; // eax@1

  result = a1;
  dword_10148B48 = a1;
  return result;
}
// 10148B48: using guessed type int dword_10148B48;

//----- (100328D3) --------------------------------------------------------
int __cdecl sub_100328D3(int a1)
{
  int result; // eax@1

  result = a1;
  dword_10148B4C = a1;
  return result;
}
// 10148B4C: using guessed type int dword_10148B4C;

//----- (100329B2) --------------------------------------------------------
int __cdecl sub_100329B2(int a1)
{
  int result; // eax@1

  result = a1;
  dword_10148B50 = a1;
  return result;
}
// 10148B50: using guessed type int dword_10148B50;

//----- (10033D16) --------------------------------------------------------
int sub_10033D16()
{
  return 0;
}

//----- (100347D0) --------------------------------------------------------
signed int __cdecl sub_100347D0(signed int a1)
{
  int *v1; // edi@3
  int v2; // esi@3
  int v3; // eax@3
  DWORD v5; // [sp-8h] [bp-14h]@9

  if ( a1 >= 0 && a1 < uNumber )
  {
    v1 = &dword_10154020[a1 >> 5];
    v2 = (a1 & 0x1F) << 6;
    v3 = v2 + *v1;
    if ( *(_BYTE *)(v3 + 4) & 1 )
    {
      if ( *(_DWORD *)v3 != -1 )
      {
        if ( dword_101481C4 == 1 )
        {
          if ( !a1 )
          {
            v5 = -10;
            goto LABEL_12;
          }
          if ( a1 == 1 )
          {
            v5 = -11;
            goto LABEL_12;
          }
          if ( a1 == 2 )
          {
            v5 = -12;
LABEL_12:
            SetStdHandle(v5, 0);
            goto LABEL_13;
          }
        }
LABEL_13:
        *(_DWORD *)(v2 + *v1) = -1;
        return 0;
      }
    }
  }
  *_errno() = 9;
  *__doserrno() = 0;
  return -1;
}
// 101481C4: using guessed type int dword_101481C4;
// 10154020: using guessed type int dword_10154020[];

//----- (10034851) --------------------------------------------------------
signed int __cdecl sub_10034851(signed int a1)
{
  signed int result; // eax@2
  int v2; // eax@5

  if ( a1 == -2 )
  {
    *__doserrno() = 0;
    *_errno() = 9;
    result = -1;
  }
  else if ( a1 >= 0 && a1 < uNumber && (v2 = dword_10154020[a1 >> 5] + ((a1 & 0x1F) << 6), *(_BYTE *)(v2 + 4) & 1) )
  {
    result = *(_DWORD *)v2;
  }
  else
  {
    *__doserrno() = 0;
    *_errno() = 9;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = -1;
  }
  return result;
}
// 1002A024: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10154020: using guessed type int dword_10154020[];

//----- (10034962) --------------------------------------------------------
void __cdecl sub_10034962(signed int a1)
{
  LeaveCriticalSection((LPCRITICAL_SECTION)(dword_10154020[a1 >> 5] + ((a1 & 0x1F) << 6) + 12));
}
// 10154020: using guessed type int dword_10154020[];

//----- (10034C63) --------------------------------------------------------
int sub_10034C63()
{
  return flsall(1);
}
// 10034B89: using guessed type _DWORD __cdecl flsall(_DWORD);

//----- (10034C7D) --------------------------------------------------------
signed int __cdecl sub_10034C7D(int a1, int a2)
{
  __int16 v2; // bx@1
  int v3; // ebx@1
  int v4; // eax@1
  int v5; // ebx@2
  int v6; // eax@2
  signed int result; // eax@5
  signed int v8; // esi@7
  int v9; // edx@7
  int *v10; // edi@7
  int v11; // eax@8
  bool i; // zf@8
  int v13; // eax@13
  unsigned int v14; // edx@13
  int *v15; // ecx@13
  bool v16; // cf@14
  int v17; // eax@29
  int v18; // edx@29
  int *v19; // ebx@30
  unsigned int v20; // esi@30
  char v21; // cl@30
  signed int v22; // edx@31
  int *v23; // ecx@31
  signed int v24; // esi@36
  int v25; // eax@36
  int *v26; // ebx@36
  bool j; // zf@37
  int v28; // eax@42
  unsigned int v29; // edx@42
  int *v30; // ecx@42
  unsigned int v31; // edi@42
  signed int k; // ecx@45
  int *v33; // ecx@47
  unsigned int v34; // esi@47
  signed int v35; // edi@47
  int v36; // eax@54
  int v37; // edx@54
  int *v38; // ebx@55
  unsigned int v39; // esi@55
  char v40; // cl@55
  signed int v41; // edx@56
  int *v42; // ecx@56
  int v43; // eax@63
  int v44; // edx@63
  int *v45; // ebx@64
  unsigned int v46; // esi@64
  char v47; // cl@64
  signed int v48; // edx@65
  int *v49; // ecx@65
  int v50; // eax@71
  int v51; // edx@71
  unsigned int v52; // edi@72
  signed int v53; // edx@73
  int *v54; // ecx@73
  int v55; // ebx@79
  int v56; // edx@80
  unsigned int v57; // [sp+8h] [bp-2Ch]@7
  int v58; // [sp+Ch] [bp-28h]@7
  int v59; // [sp+10h] [bp-24h]@7
  unsigned int v60; // [sp+14h] [bp-20h]@1
  int v61; // [sp+18h] [bp-1Ch]@1
  int v62; // [sp+1Ch] [bp-18h]@1
  int v63; // [sp+20h] [bp-14h]@1
  int v64; // [sp+24h] [bp-10h]@7
  int v65; // [sp+28h] [bp-Ch]@7
  int v66; // [sp+2Ch] [bp-8h]@7
  int v67; // [sp+30h] [bp-4h]@13
  int v68; // [sp+3Ch] [bp+8h]@7
  unsigned int v69; // [sp+3Ch] [bp+8h]@13
  signed int v70; // [sp+3Ch] [bp+8h]@29
  signed int v71; // [sp+3Ch] [bp+8h]@42
  signed int v72; // [sp+3Ch] [bp+8h]@54
  signed int v73; // [sp+3Ch] [bp+8h]@63
  signed int v74; // [sp+3Ch] [bp+8h]@71

  v2 = *(_WORD *)(a1 + 10);
  v63 = *(_WORD *)(a1 + 10) & 0x8000;
  v60 = *(_DWORD *)(a1 + 6);
  v3 = (v2 & 0x7FFF) - 0x3FFF;
  v4 = *(_WORD *)a1 << 16;
  v61 = *(_DWORD *)(a1 + 2);
  v62 = v4;
  if ( v3 != -16383 )
  {
    v68 = 0;
    v57 = v60;
    v58 = v61;
    v59 = v62;
    v8 = dword_1008F2D0 - 1;
    v64 = v3;
    v65 = dword_1008F2D0 / 32;
    v9 = dword_1008F2D0 % 32;
    v10 = (int *)(&v60 + dword_1008F2D0 / 32);
    v66 = 31 - dword_1008F2D0 % 32;
    if ( (1 << (31 - dword_1008F2D0 % 32)) & *v10 )
    {
      v11 = v65;
      for ( i = (~(-1 << (31 - v9)) & *(&v60 + v65)) == 0; i; i = *(&v60 + v11) == 0 )
      {
        if ( ++v11 >= 3 )
          goto LABEL_22;
      }
      v13 = v8 / 32;
      v67 = 0;
      v14 = 1 << (31 - v8 % 32);
      v15 = (int *)(&v60 + v8 / 32);
      v69 = v14 + *v15;
      if ( v69 >= *v15 )
      {
        v16 = v69 < v14;
        goto LABEL_18;
      }
LABEL_19:
      v67 = 1;
      while ( 1 )
      {
        --v13;
        *v15 = v69;
        if ( v13 < 0 || !v67 )
          break;
        v67 = 0;
        v15 = (int *)(&v60 + v13);
        v69 = *v15 + 1;
        if ( v69 >= *v15 )
        {
          v16 = (unsigned int)*v15 >= 0xFFFFFFFF;
LABEL_18:
          if ( !v16 )
            continue;
        }
        goto LABEL_19;
      }
      v68 = v67;
    }
LABEL_22:
    *v10 &= -1 << v66;
    if ( v65 + 1 < 3 )
      memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
    if ( v68 )
      ++v3;
    if ( v3 >= dword_1008F2CC - dword_1008F2D0 )
    {
      if ( v3 > dword_1008F2CC )
      {
        if ( v3 < dword_1008F2C8 )
        {
          v60 &= 0x7FFFFFFFu;
          v5 = dword_1008F2DC + v3;
          v50 = dword_1008F2D4 / 32;
          v51 = dword_1008F2D4 % 32;
          v65 = 0;
          v74 = 0;
          v67 = 32 - dword_1008F2D4 % 32;
          do
          {
            v52 = *(&v60 + v74);
            v64 = ~(-1 << v51) & *(&v60 + v74);
            *(&v60 + v74++) = v65 | (v52 >> v51);
            v65 = v64 << v67;
          }
          while ( v74 < 3 );
          v53 = 2;
          v54 = &v62 - v50;
          do
          {
            if ( v53 < v50 )
              *(&v60 + v53) = 0;
            else
              *(&v60 + v53) = *v54;
            --v53;
            --v54;
          }
          while ( v53 >= 0 );
          result = 0;
        }
        else
        {
          v61 = 0;
          v62 = 0;
          v60 = 2147483648;
          v43 = dword_1008F2D4 / 32;
          v44 = dword_1008F2D4 % 32;
          v65 = 0;
          v73 = 0;
          v67 = 32 - dword_1008F2D4 % 32;
          do
          {
            v45 = (int *)(&v60 + v73);
            v46 = *v45;
            v64 = ~(-1 << v44) & *v45;
            v47 = v67;
            *v45 = v65 | (v46 >> v44);
            ++v73;
            v65 = v64 << v47;
          }
          while ( v73 < 3 );
          v48 = 2;
          v49 = &v62 - v43;
          do
          {
            if ( v48 < v43 )
              *(&v60 + v48) = 0;
            else
              *(&v60 + v48) = *v49;
            --v48;
            --v49;
          }
          while ( v48 >= 0 );
          v5 = dword_1008F2DC + dword_1008F2C8;
          result = 1;
        }
        goto LABEL_79;
      }
      v60 = v57;
      v61 = v58;
      v17 = (dword_1008F2CC - v64) / 32;
      v62 = v59;
      v18 = (dword_1008F2CC - v64) % 32;
      v65 = 0;
      v70 = 0;
      v67 = 32 - v18;
      do
      {
        v19 = (int *)(&v60 + v70);
        v20 = *v19;
        v64 = ~(-1 << v18) & *v19;
        v21 = v67;
        *v19 = v65 | (v20 >> v18);
        ++v70;
        v65 = v64 << v21;
      }
      while ( v70 < 3 );
      v22 = 2;
      v23 = &v62 - v17;
      do
      {
        if ( v22 < v17 )
          *(&v60 + v22) = 0;
        else
          *(&v60 + v22) = *v23;
        --v22;
        --v23;
      }
      while ( v22 >= 0 );
      v24 = dword_1008F2D0 - 1;
      v25 = dword_1008F2D0 / 32;
      v65 = dword_1008F2D0 / 32;
      v26 = (int *)(&v60 + dword_1008F2D0 / 32);
      v64 = 31 - dword_1008F2D0 % 32;
      if ( (1 << (31 - dword_1008F2D0 % 32)) & *v26 )
      {
        for ( j = (~(-1 << (31 - dword_1008F2D0 % 32)) & *(&v60 + v25)) == 0; j; j = *(&v60 + v25) == 0 )
        {
          if ( ++v25 >= 3 )
            goto LABEL_52;
        }
        v28 = v24 / 32;
        v71 = 0;
        v29 = 1 << (31 - v24 % 32);
        v30 = (int *)(&v60 + v24 / 32);
        v31 = *v30 + v29;
        if ( v31 < *v30 || v31 < v29 )
          v71 = 1;
        *v30 = v31;
        for ( k = v71; --v28 >= 0 && k; k = v35 )
        {
          v33 = (int *)(&v60 + v28);
          v34 = *v33 + 1;
          v35 = 0;
          if ( v34 < *v33 || v34 < 1 )
            v35 = 1;
          *v33 = v34;
        }
      }
LABEL_52:
      *v26 &= -1 << v64;
      if ( v65 + 1 < 3 )
        memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
      v36 = (dword_1008F2D4 + 1) / 32;
      v37 = (dword_1008F2D4 + 1) % 32;
      v65 = 0;
      v72 = 0;
      v67 = 32 - v37;
      do
      {
        v38 = (int *)(&v60 + v72);
        v39 = *v38;
        v64 = ~(-1 << v37) & *v38;
        v40 = v67;
        *v38 = v65 | (v39 >> v37);
        ++v72;
        v65 = v64 << v40;
      }
      while ( v72 < 3 );
      v41 = 2;
      v42 = &v62 - v36;
      do
      {
        if ( v41 < v36 )
          *(&v60 + v41) = 0;
        else
          *(&v60 + v41) = *v42;
        --v41;
        --v42;
      }
      while ( v41 >= 0 );
    }
    else
    {
      v60 = 0;
      v61 = 0;
      v62 = 0;
    }
    v5 = 0;
    result = 2;
    goto LABEL_79;
  }
  v5 = 0;
  v6 = 0;
  while ( !*(&v60 + v6) )
  {
    if ( ++v6 >= 3 )
    {
      result = 0;
      goto LABEL_79;
    }
  }
  v60 = 0;
  v61 = 0;
  v62 = 0;
  result = 2;
LABEL_79:
  v55 = v60 | (v63 != 0 ? 0x80000000 : 0) | (v5 << (31 - dword_1008F2D4));
  if ( dword_1008F2D8 == 64 )
  {
    v56 = v61;
    *(_DWORD *)(a2 + 4) = v55;
    *(_DWORD *)a2 = v56;
  }
  else if ( dword_1008F2D8 == 32 )
  {
    *(_DWORD *)a2 = v55;
  }
  return result;
}
// 1008F2C8: using guessed type int dword_1008F2C8;
// 1008F2CC: using guessed type int dword_1008F2CC;
// 1008F2D0: using guessed type int dword_1008F2D0;
// 1008F2D4: using guessed type int dword_1008F2D4;
// 1008F2D8: using guessed type int dword_1008F2D8;
// 1008F2DC: using guessed type int dword_1008F2DC;

//----- (100351BF) --------------------------------------------------------
signed int __cdecl sub_100351BF(int a1, int a2)
{
  __int16 v2; // bx@1
  int v3; // ebx@1
  int v4; // eax@1
  int v5; // ebx@2
  int v6; // eax@2
  signed int result; // eax@5
  signed int v8; // esi@7
  int v9; // edx@7
  int *v10; // edi@7
  int v11; // eax@8
  bool i; // zf@8
  int v13; // eax@13
  unsigned int v14; // edx@13
  int *v15; // ecx@13
  bool v16; // cf@14
  int v17; // eax@29
  int v18; // edx@29
  int *v19; // ebx@30
  unsigned int v20; // esi@30
  char v21; // cl@30
  signed int v22; // edx@31
  int *v23; // ecx@31
  signed int v24; // esi@36
  int v25; // eax@36
  int *v26; // ebx@36
  bool j; // zf@37
  int v28; // eax@42
  unsigned int v29; // edx@42
  int *v30; // ecx@42
  unsigned int v31; // edi@42
  signed int k; // ecx@45
  int *v33; // ecx@47
  unsigned int v34; // esi@47
  signed int v35; // edi@47
  int v36; // eax@54
  int v37; // edx@54
  int *v38; // ebx@55
  unsigned int v39; // esi@55
  char v40; // cl@55
  signed int v41; // edx@56
  int *v42; // ecx@56
  int v43; // eax@63
  int v44; // edx@63
  int *v45; // ebx@64
  unsigned int v46; // esi@64
  char v47; // cl@64
  signed int v48; // edx@65
  int *v49; // ecx@65
  int v50; // eax@71
  int v51; // edx@71
  unsigned int v52; // edi@72
  signed int v53; // edx@73
  int *v54; // ecx@73
  int v55; // ebx@79
  int v56; // edx@80
  unsigned int v57; // [sp+8h] [bp-2Ch]@7
  int v58; // [sp+Ch] [bp-28h]@7
  int v59; // [sp+10h] [bp-24h]@7
  unsigned int v60; // [sp+14h] [bp-20h]@1
  int v61; // [sp+18h] [bp-1Ch]@1
  int v62; // [sp+1Ch] [bp-18h]@1
  int v63; // [sp+20h] [bp-14h]@1
  int v64; // [sp+24h] [bp-10h]@7
  int v65; // [sp+28h] [bp-Ch]@7
  int v66; // [sp+2Ch] [bp-8h]@7
  int v67; // [sp+30h] [bp-4h]@13
  int v68; // [sp+3Ch] [bp+8h]@7
  unsigned int v69; // [sp+3Ch] [bp+8h]@13
  signed int v70; // [sp+3Ch] [bp+8h]@29
  signed int v71; // [sp+3Ch] [bp+8h]@42
  signed int v72; // [sp+3Ch] [bp+8h]@54
  signed int v73; // [sp+3Ch] [bp+8h]@63
  signed int v74; // [sp+3Ch] [bp+8h]@71

  v2 = *(_WORD *)(a1 + 10);
  v63 = *(_WORD *)(a1 + 10) & 0x8000;
  v60 = *(_DWORD *)(a1 + 6);
  v3 = (v2 & 0x7FFF) - 0x3FFF;
  v4 = *(_WORD *)a1 << 16;
  v61 = *(_DWORD *)(a1 + 2);
  v62 = v4;
  if ( v3 != -16383 )
  {
    v68 = 0;
    v57 = v60;
    v58 = v61;
    v59 = v62;
    v8 = dword_1008F2E8 - 1;
    v64 = v3;
    v65 = dword_1008F2E8 / 32;
    v9 = dword_1008F2E8 % 32;
    v10 = (int *)(&v60 + dword_1008F2E8 / 32);
    v66 = 31 - dword_1008F2E8 % 32;
    if ( (1 << (31 - dword_1008F2E8 % 32)) & *v10 )
    {
      v11 = v65;
      for ( i = (~(-1 << (31 - v9)) & *(&v60 + v65)) == 0; i; i = *(&v60 + v11) == 0 )
      {
        if ( ++v11 >= 3 )
          goto LABEL_22;
      }
      v13 = v8 / 32;
      v67 = 0;
      v14 = 1 << (31 - v8 % 32);
      v15 = (int *)(&v60 + v8 / 32);
      v69 = v14 + *v15;
      if ( v69 >= *v15 )
      {
        v16 = v69 < v14;
        goto LABEL_18;
      }
LABEL_19:
      v67 = 1;
      while ( 1 )
      {
        --v13;
        *v15 = v69;
        if ( v13 < 0 || !v67 )
          break;
        v67 = 0;
        v15 = (int *)(&v60 + v13);
        v69 = *v15 + 1;
        if ( v69 >= *v15 )
        {
          v16 = (unsigned int)*v15 >= 0xFFFFFFFF;
LABEL_18:
          if ( !v16 )
            continue;
        }
        goto LABEL_19;
      }
      v68 = v67;
    }
LABEL_22:
    *v10 &= -1 << v66;
    if ( v65 + 1 < 3 )
      memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
    if ( v68 )
      ++v3;
    if ( v3 >= dword_1008F2E4 - dword_1008F2E8 )
    {
      if ( v3 > dword_1008F2E4 )
      {
        if ( v3 < dword_1008F2E0 )
        {
          v60 &= 0x7FFFFFFFu;
          v5 = dword_1008F2F4 + v3;
          v50 = dword_1008F2EC / 32;
          v51 = dword_1008F2EC % 32;
          v65 = 0;
          v74 = 0;
          v67 = 32 - dword_1008F2EC % 32;
          do
          {
            v52 = *(&v60 + v74);
            v64 = ~(-1 << v51) & *(&v60 + v74);
            *(&v60 + v74++) = v65 | (v52 >> v51);
            v65 = v64 << v67;
          }
          while ( v74 < 3 );
          v53 = 2;
          v54 = &v62 - v50;
          do
          {
            if ( v53 < v50 )
              *(&v60 + v53) = 0;
            else
              *(&v60 + v53) = *v54;
            --v53;
            --v54;
          }
          while ( v53 >= 0 );
          result = 0;
        }
        else
        {
          v61 = 0;
          v62 = 0;
          v60 = 2147483648;
          v43 = dword_1008F2EC / 32;
          v44 = dword_1008F2EC % 32;
          v65 = 0;
          v73 = 0;
          v67 = 32 - dword_1008F2EC % 32;
          do
          {
            v45 = (int *)(&v60 + v73);
            v46 = *v45;
            v64 = ~(-1 << v44) & *v45;
            v47 = v67;
            *v45 = v65 | (v46 >> v44);
            ++v73;
            v65 = v64 << v47;
          }
          while ( v73 < 3 );
          v48 = 2;
          v49 = &v62 - v43;
          do
          {
            if ( v48 < v43 )
              *(&v60 + v48) = 0;
            else
              *(&v60 + v48) = *v49;
            --v48;
            --v49;
          }
          while ( v48 >= 0 );
          v5 = dword_1008F2F4 + dword_1008F2E0;
          result = 1;
        }
        goto LABEL_79;
      }
      v60 = v57;
      v61 = v58;
      v17 = (dword_1008F2E4 - v64) / 32;
      v62 = v59;
      v18 = (dword_1008F2E4 - v64) % 32;
      v65 = 0;
      v70 = 0;
      v67 = 32 - v18;
      do
      {
        v19 = (int *)(&v60 + v70);
        v20 = *v19;
        v64 = ~(-1 << v18) & *v19;
        v21 = v67;
        *v19 = v65 | (v20 >> v18);
        ++v70;
        v65 = v64 << v21;
      }
      while ( v70 < 3 );
      v22 = 2;
      v23 = &v62 - v17;
      do
      {
        if ( v22 < v17 )
          *(&v60 + v22) = 0;
        else
          *(&v60 + v22) = *v23;
        --v22;
        --v23;
      }
      while ( v22 >= 0 );
      v24 = dword_1008F2E8 - 1;
      v25 = dword_1008F2E8 / 32;
      v65 = dword_1008F2E8 / 32;
      v26 = (int *)(&v60 + dword_1008F2E8 / 32);
      v64 = 31 - dword_1008F2E8 % 32;
      if ( (1 << (31 - dword_1008F2E8 % 32)) & *v26 )
      {
        for ( j = (~(-1 << (31 - dword_1008F2E8 % 32)) & *(&v60 + v25)) == 0; j; j = *(&v60 + v25) == 0 )
        {
          if ( ++v25 >= 3 )
            goto LABEL_52;
        }
        v28 = v24 / 32;
        v71 = 0;
        v29 = 1 << (31 - v24 % 32);
        v30 = (int *)(&v60 + v24 / 32);
        v31 = *v30 + v29;
        if ( v31 < *v30 || v31 < v29 )
          v71 = 1;
        *v30 = v31;
        for ( k = v71; --v28 >= 0 && k; k = v35 )
        {
          v33 = (int *)(&v60 + v28);
          v34 = *v33 + 1;
          v35 = 0;
          if ( v34 < *v33 || v34 < 1 )
            v35 = 1;
          *v33 = v34;
        }
      }
LABEL_52:
      *v26 &= -1 << v64;
      if ( v65 + 1 < 3 )
        memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
      v36 = (dword_1008F2EC + 1) / 32;
      v37 = (dword_1008F2EC + 1) % 32;
      v65 = 0;
      v72 = 0;
      v67 = 32 - v37;
      do
      {
        v38 = (int *)(&v60 + v72);
        v39 = *v38;
        v64 = ~(-1 << v37) & *v38;
        v40 = v67;
        *v38 = v65 | (v39 >> v37);
        ++v72;
        v65 = v64 << v40;
      }
      while ( v72 < 3 );
      v41 = 2;
      v42 = &v62 - v36;
      do
      {
        if ( v41 < v36 )
          *(&v60 + v41) = 0;
        else
          *(&v60 + v41) = *v42;
        --v41;
        --v42;
      }
      while ( v41 >= 0 );
    }
    else
    {
      v60 = 0;
      v61 = 0;
      v62 = 0;
    }
    v5 = 0;
    result = 2;
    goto LABEL_79;
  }
  v5 = 0;
  v6 = 0;
  while ( !*(&v60 + v6) )
  {
    if ( ++v6 >= 3 )
    {
      result = 0;
      goto LABEL_79;
    }
  }
  v60 = 0;
  v61 = 0;
  v62 = 0;
  result = 2;
LABEL_79:
  v55 = v60 | (v63 != 0 ? 0x80000000 : 0) | (v5 << (31 - dword_1008F2EC));
  if ( dword_1008F2F0 == 64 )
  {
    v56 = v61;
    *(_DWORD *)(a2 + 4) = v55;
    *(_DWORD *)a2 = v56;
  }
  else if ( dword_1008F2F0 == 32 )
  {
    *(_DWORD *)a2 = v55;
  }
  return result;
}
// 1008F2E0: using guessed type int dword_1008F2E0;
// 1008F2E4: using guessed type int dword_1008F2E4;
// 1008F2E8: using guessed type int dword_1008F2E8;
// 1008F2EC: using guessed type int dword_1008F2EC;
// 1008F2F0: using guessed type int dword_1008F2F0;
// 1008F2F4: using guessed type int dword_1008F2F4;

//----- (10036AB8) --------------------------------------------------------
int __cdecl sub_10036AB8(int a1, int a2, int a3)
{
  HMODULE v3; // eax@2
  HMODULE v4; // edi@2
  FARPROC v5; // eax@3
  FARPROC v6; // eax@4
  FARPROC v7; // eax@4
  FARPROC v8; // eax@7
  FARPROC v9; // eax@8
  int (*v10)(void); // esi@11
  int (__stdcall *v11)(int, signed int, char *, signed int, char *); // eax@11
  int (__stdcall *v12)(int, signed int, char *, signed int, char *); // edi@11
  int v13; // eax@13
  int (*v14)(void); // eax@22
  int (__stdcall *v15)(int); // eax@25
  int (__stdcall *v16)(int, int, int, int); // eax@27
  char v18; // [sp+10h] [bp-20h]@14
  char v19; // [sp+18h] [bp-18h]@15
  char v20; // [sp+1Ch] [bp-14h]@14
  unsigned int v21; // [sp+20h] [bp-10h]@1
  int v22; // [sp+24h] [bp-Ch]@1
  int v23; // [sp+28h] [bp-8h]@1
  int v24; // [sp+2Ch] [bp-4h]@1

  v23 = _encoded_null();
  v24 = 0;
  v22 = 0;
  v21 = 0;
  if ( !dword_10148C20 )
  {
    v3 = LoadLibraryA("USER32.DLL");
    v4 = v3;
    if ( !v3 )
      return 0;
    v5 = GetProcAddress(v3, "MessageBoxA");
    if ( !v5 )
      return 0;
    dword_10148C20 = _encode_pointer(v5);
    v6 = GetProcAddress(v4, "GetActiveWindow");
    dword_10148C24 = _encode_pointer(v6);
    v7 = GetProcAddress(v4, "GetLastActivePopup");
    dword_10148C28 = _encode_pointer(v7);
    if ( sub_1002BCEA(&v22) )
      _invoke_watson(0, 0, 0, 0, 0);
    if ( v22 == 2 )
    {
      v8 = GetProcAddress(v4, "GetUserObjectInformationA");
      dword_10148C30 = _encode_pointer(v8);
      if ( dword_10148C30 )
      {
        v9 = GetProcAddress(v4, "GetProcessWindowStation");
        dword_10148C2C = _encode_pointer(v9);
      }
    }
  }
  if ( dword_10148C2C == v23
    || dword_10148C30 == v23
    || (v10 = (int (*)(void))_decode_pointer(dword_10148C2C),
        v11 = (int (__stdcall *)(int, signed int, char *, signed int, char *))_decode_pointer(dword_10148C30),
        v12 = v11,
        !v10)
    || !v11
    || (v13 = v10()) != 0 && v12(v13, 1, &v18, 12, &v20) && v19 & 1 )
  {
    if ( dword_10148C24 != v23 )
    {
      v14 = (int (*)(void))_decode_pointer(dword_10148C24);
      if ( v14 )
      {
        v24 = v14();
        if ( v24 )
        {
          if ( dword_10148C28 != v23 )
          {
            v15 = (int (__stdcall *)(int))_decode_pointer(dword_10148C28);
            if ( v15 )
              v24 = v15(v24);
          }
        }
      }
    }
  }
  else
  {
    if ( sub_1002BD21(&v21) )
      _invoke_watson(0, 0, 0, 0, 0);
    if ( v21 < 4 )
      a3 |= 0x40000u;
    else
      a3 |= 0x200000u;
  }
  v16 = (int (__stdcall *)(int, int, int, int))_decode_pointer(dword_10148C20);
  if ( v16 )
    return v16(v24, a1, a2, a3);
  return 0;
}
// 10029F28: using guessed type int __cdecl _invoke_watson(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1002AA77: using guessed type _DWORD __cdecl _encode_pointer(_DWORD);
// 1002AAE5: using guessed type int _encoded_null(void);
// 1002AAEE: using guessed type _DWORD __cdecl _decode_pointer(_DWORD);
// 10148C20: using guessed type int dword_10148C20;
// 10148C24: using guessed type int dword_10148C24;
// 10148C28: using guessed type int dword_10148C28;
// 10148C2C: using guessed type int dword_10148C2C;
// 10148C30: using guessed type int dword_10148C30;

//----- (100373DD) --------------------------------------------------------
signed int __cdecl sub_100373DD(signed int a1)
{
  signed int v1; // edi@6
  void *v2; // eax@7
  DWORD v3; // edi@8
  signed int result; // eax@11

  if ( sub_10034851(a1) == -1
    || (a1 == 1 && *(_BYTE *)(dword_10154020[0] + 132) & 1 || a1 == 2 && *(_BYTE *)(dword_10154020[0] + 68) & 1)
    && (v1 = sub_10034851(2), sub_10034851(1) == v1)
    || (v2 = (void *)sub_10034851(a1), CloseHandle(v2)) )
  {
    v3 = 0;
  }
  else
  {
    v3 = GetLastError();
  }
  sub_100347D0(a1);
  *(_BYTE *)(dword_10154020[a1 >> 5] + ((a1 & 0x1F) << 6) + 4) = 0;
  if ( v3 )
  {
    _dosmaperr(v3);
    result = -1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 100264CE: using guessed type _DWORD __cdecl _dosmaperr(_DWORD);
// 10154020: using guessed type int dword_10154020[];

//----- (10037580) --------------------------------------------------------
int __cdecl sub_10037580(int a1)
{
  void *v1; // ecx@0
  int v2; // eax@1
  int v3; // eax@3

  v2 = a1;
  if ( !a1 )
    v2 = sub_10005E60(v1);
  a1 = v2;
  v3 = sub_10005850(&a1, 4u, (int)&unk_1008BC70, 8, 7, -1);
  if ( v3 == -1 )
    v3 = 0;
  return dword_1008BC74[2 * v3];
}
// 1008BC74: using guessed type int dword_1008BC74[];

//----- (100375C0) --------------------------------------------------------
int __cdecl sub_100375C0(int a1)
{
  void *v1; // ecx@0
  int v2; // eax@1
  int v3; // eax@3

  v2 = a1;
  if ( !a1 )
    v2 = sub_10005E60(v1);
  a1 = v2;
  v3 = sub_10005850(&a1, 4u, (int)&unk_1008BCA8, 8, 7, -1);
  if ( v3 == -1 )
    v3 = 0;
  return dword_1008BCAC[2 * v3];
}
// 1008BCAC: using guessed type int dword_1008BCAC[];

//----- (10037600) --------------------------------------------------------
int __cdecl sub_10037600(int a1)
{
  void *v1; // ecx@0
  int v2; // eax@1
  int v3; // eax@3

  v2 = a1;
  if ( !a1 )
    v2 = sub_10005E60(v1);
  a1 = v2;
  v3 = sub_10005850(&a1, 4u, (int)&unk_1008BCE0, 8, 7, -1);
  if ( v3 == -1 )
    v3 = 0;
  return dword_1008BCE4[2 * v3];
}
// 1008BCE4: using guessed type int dword_1008BCE4[];

//----- (10037640) --------------------------------------------------------
int __cdecl sub_10037640(int a1)
{
  void *v1; // ecx@0
  int v2; // eax@1
  int v3; // eax@3

  v2 = a1;
  if ( !a1 )
    v2 = sub_10005E60(v1);
  a1 = v2;
  v3 = sub_10005850(&a1, 4u, (int)&unk_1008BD18, 8, 7, -1);
  if ( v3 == -1 )
    v3 = 0;
  return dword_1008BD1C[2 * v3];
}
// 1008BD1C: using guessed type int dword_1008BD1C[];

//----- (10037680) --------------------------------------------------------
int __cdecl sub_10037680(int a1, int a2, int a3, int a4)
{
  int result; // eax@1
  int v5; // eax@2
  int v6; // eax@8

  result = 0;
  if ( a1 )
  {
    v5 = sub_100375C0(a4);
    result = sub_10003FD0(v5, a1, 104);
  }
  if ( a2 && !result )
    result = sub_10003FD0(3532, a2, 2);
  if ( a3 )
  {
    if ( !result )
    {
      v6 = sub_10037580(a4);
      result = sub_10003FD0(v6, a3, 6);
    }
  }
  return result;
}

//----- (100376F0) --------------------------------------------------------
int __cdecl sub_100376F0(int a1, int a2, int a3)
{
  int result; // eax@1
  int v4; // eax@2
  int v5; // eax@3
  int v6; // eax@6
  int v7; // eax@7

  result = 0;
  if ( a1 )
  {
    v4 = sub_10037640(a3);
    result = sub_10003FD0(v4, a1, 64);
    if ( result == -7 )
    {
      sub_10004520(100);
      v5 = sub_10037640(a3);
      result = sub_10003FD0(v5, a1, 64);
    }
  }
  if ( a2 && !result )
  {
    v6 = sub_10037600(a3);
    result = sub_10003FD0(v6, a2, 8);
    if ( result == -7 )
    {
      sub_10004520(100);
      v7 = sub_10037600(a3);
      result = sub_10003FD0(v7, a2, 8);
    }
  }
  return result;
}

//----- (10037790) --------------------------------------------------------
int __cdecl sub_10037790(int a1)
{
  return (unsigned __int8)byte_1008C280[72416175 * (a1 & (unsigned int)-a1) >> 26];
}

#error "There were 48 decompilation failure(s) on 679 function(s)"
